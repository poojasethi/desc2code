#include<stdio.h>
//#include<conio.h>
#include<vector>
using namespace std;
int main()
{
        int t;
        scanf("%d",&t);
        while(t--)
        {
              int n,m,x,y,i,j;
              float a,b,rx,ry,c=0,x1=0,x2=0,y1=0,y2=0;;
              vector<float> vx,vy;
              scanf("%d%d",&n,&m);
              for(i=0;i<m;i++)
                  scanf("%d%d",&x,&y);
              for(i=0;i<n;i++)
              {
                  scanf("%f%f",&a,&b);
                        
                        if(i%4==0)
                        {
                              rx=x2+a/2;
                              x2=x2+a;
                              if(b>(y1-y2))
                                  y1=y1+(b-y1+y2);
                              ry=(y1+y2)/2;
                              vx.push_back(rx);
                              vy.push_back(ry);
                        }
                        else if(i%4==1)
                        {
                              ry=y2-b/2;
                              y2=y2-b;
                              if(a>(x2-x1))
                                  x2=x2+(a-x2+x1);
                              rx=(x1+x2)/2;
                              vx.push_back(rx);
                              vy.push_back(ry);
                        }
                        else if(i%4==2)
                        {
                              rx=x1-a/2;
                              x1=x1-a;
                              if(b>(y1-y2))
                                  y1=y1+(b-y1+y2);
                              ry=(y1+y2)/2;
                              vx.push_back(rx);
                              vy.push_back(ry);
                              
                        }
                        else
                        {
                              ry=y1+b/2;
                              y1=y1+b;
                              if(a>(x2-x1))
                                  x2=x2+(a-x2+x1);
                              rx=(x1+x2)/2;
                              vx.push_back(rx);
                              vy.push_back(ry);
                        }
                         
              }
              for(i=0;i<n;i++)
                              printf("%f %f\n",vx[i],vy[i]);
        }
        //getch();
        return 0;
}
 