'''
Created on Jan 2, 2014

@author: rohit
'''
def findmines(N, M, mines):
    G = [0] * (2 ** N)
    for x, y in mines:
        G[x] |= 1
    print G.count(0)
    for x in xrange(2 ** N):
        if  not G[x]:
            print x, 0
 

if __name__ == '__main__':
    N = int(raw_input().strip())
    M = int(raw_input().strip())
    mines = []
    for m in xrange(M):
        mines.append(map(int, raw_input().strip().split()[:2]))
    findmines(N, M, mines)
        
        
        
        