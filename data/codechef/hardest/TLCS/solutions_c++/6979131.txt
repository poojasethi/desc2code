#include<iostream>
using namespace std;
int max(int a, int b)
{
    return (a > b)? a : b;
}
int lcs_length(string s1, string s2, int c[][100], char b[][100])
{
    int l1 = s1.size(), l2 = s2.size(), i, j;
    for(i = 0; i <= l1; i++)
          c[i][0] = 0;
    for(j = 0; j <= l2; j++)
          c[0][j] = 0;
    for(i = 1; i <= l1; i++)
    {
          for(j = 1; j <= l2; j++)
          {
                if(s1[i - 1] == s2[j - 1])
                {
                     c[i][j] = c[i - 1][j - 1] + 1;
                     b[i][j] = 'd';
                }
                else if(c[i - 1][j] > c[i][j - 1])
                {
                     c[i][j] = c[i - 1][j];
                     b[i][j] = 'l';
                }
                else
                {
                     c[i][j] = c[i][j - 1];
                     b[i][j] = 'u';
                }
          }
    }
}
void print_lcs(int c[][100], char b[][100], int i, int j, string s1)
{
    if(i == 0 || j == 0)
         return;
    if(b[i][j] == 'd')
    {
               print_lcs(c, b, i - 1, j - 1, s1);
               cout << s1[i - 1] << " " << i << " " << j << endl;
    }
    else if(b[i][j] == 'l')
               print_lcs(c, b, i - 1, j, s1);
    else
               print_lcs(c, b, i, j - 1, s1);
}
int main()
{
    string s1, s2;
    int c[100][100];
    char b[100][100];
    int T, l1, l2;
    cin >> T;
    for(int i = 0; i < T; i++)
    {
            cin >> s1;
            cin >> s2;
            l1 = s1.size();
            l2 = s2.size();
            lcs_length(s1, s2, c, b);
            cout << "case " << i + 1 << " ";
            if(c[l1][l2] == 0)
                         cout << "N" << endl;
            else
            {
                         cout << "Y" << endl;
                         cout << c[l1][l2] << endl;
                         print_lcs(c, b, l1, l2, s1);
            }
    }
}
 