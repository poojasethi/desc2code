#include<stdio.h>
#include<string.h>
#include<stdlib.h>



int mat[101][101],m,n,fixed[101][101];
int dx[]={-1,1,0,0};
int dy[]={0,0,-1,1};

int valid(int x, int y)
{
	if(x<0 || x>=n || y<0 || y>=m)return 0;
	return 1;
}

long long find(int x1, int y1)
{
	int x,y,i;
	long long res=0;
	for(i=0;i<4;i++)
	{
		x=x1+dx[i];
		y=y1+dy[i];
		if(!valid(x,y))continue;
		res+=1<<(abs(mat[x1][y1]-mat[x][y]));
	}
	return res;
}


void solve()
{
	long long sc,isc;
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<m;j++)
		{
			if(fixed[i][j])continue;
			mat[i][j]-=1;
			isc=find(i,j);
			mat[i][j]+=1;
			sc=find(i,j);
			if(sc<=isc)
			{
				mat[i][j]+=1;
				isc=find(i,j);
				if(isc>=sc)mat[i][j]-=1;
			}
			else
			{
				mat[i][j]-=1;
				mat[i][j]+=2;
				sc=find(i,j);
				if(sc>=isc)mat[i][j]-=2;
			}
		}
	}
}

int main()
{
	int test,i,j,mx,mn;
	
	scanf("%d",&test);
	while(test--)
	{
		mn=50,mx=0;
		memset(fixed,0,sizeof(fixed));
		scanf("%d%d",&n,&m);
		for(i=0;i<n;i++)
			for(j=0;j<m;j++)
			{
				scanf("%d",&mat[i][j]);
				if(mat[i][j]==0)continue;
				fixed[i][j]=1;
				if(mat[i][j]<mn)mn=mat[i][j];
				if(mat[i][j]>mx)mx=mat[i][j];
			}
			for(i=0;i<n;i++)
				for(j=0;j<m;j++)
				{
					if(mat[i][j])continue;
					mat[i][j]=(mn+mx)/2;
				}
		for(i=0;i<100;i++)
		solve();
		
			
				for(i=0;i<n;i++)
				{
					for(j=0;j<m;j++)
						printf("%d ",mat[i][j]);
					printf("\n");
				}
	}
	return 0;
}

