#include <stdio.h>
#include <stdlib.h>
#include <algorithm>
using namespace std;

int T,ti,n,m,i,j,k,x,y;
int a[105][105],a_[105][105],b[105][105],id[10005],ax[10005],ay[10005],tot;
int qx[10005],qy[10005],l,r;
long long ans,sum;
bool flag;

void inq(int x,int y,int c)
{
	qx[++r]=x;qy[r]=y;
	a[x][y]=c;
}

long long calc(int x,int y,int c){return 1ll<<abs(a[x][y]-c);}
bool check(int x,int y)
{
	int i,c,c_old=a[x][y];
	long long ans,sum;
	for(i=1;i<=50;++i)
	{
		sum=0;
		if(x>1)sum+=calc(x-1,y,i);
		if(x<n)sum+=calc(x+1,y,i);
		if(y>1)sum+=calc(x,y-1,i);
		if(y<m)sum+=calc(x,y+1,i);
		if(i==1||sum<ans)ans=sum,c=i;
	}
	a[x][y]=c;
	return c!=c_old;
}

int main()
{
	scanf("%d",&T);
	for(;T;--T)
	{
		scanf("%d%d",&n,&m);
		l=1;r=0;tot=0;
		for(i=1;i<=n;++i)
		for(j=1;j<=m;++j)
		{
			scanf("%d",&a[i][j]);
			if(!a[i][j])ax[++tot]=i,ay[tot]=j,id[tot]=tot;
			else inq(i,j,a[i][j]);
		}
		for(;l<=r;++l)
		{
			x=qx[l];y=qy[l];
			if(x>1&&!a[x-1][y])inq(x-1,y,a[x][y]);
			if(x<n&&!a[x+1][y])inq(x+1,y,a[x][y]);
			if(y>1&&!a[x][y-1])inq(x,y-1,a[x][y]);
			if(y<m&&!a[x][y+1])inq(x,y+1,a[x][y]);
		}
		for(i=1;i<=n;++i)
		for(j=1;j<=m;++j)
		a_[i][j]=a[i][j];
		for(ti=1;ti<=2;++ti)
		{
			for(i=1;i<=n;++i)
			for(j=1;j<=m;++j)
			a[i][j]=a_[i][j];
			for(flag=true;flag;)
			{
				flag=false;
				for(i=1;i<=tot;++i)flag|=check(ax[id[i]],ay[id[i]]);
			}
			random_shuffle(id+1,id+tot+1);
			sum=0;
			for(i=1;i<=n;++i)
			for(j=1;j<=m;++j)
			{
				if(i<n)sum+=calc(i+1,j,a[i][j]);
				if(j<m)sum+=calc(i,j+1,a[i][j]);
			}
			if(ti==1||sum<ans)
			{
				ans=sum;
				for(i=1;i<=n;++i)
				for(j=1;j<=m;++j)
				b[i][j]=a[i][j];
			}
		}
		for(i=1;i<=n;++i)
		{
			for(j=1;j<=m;++j)printf("%d ",b[i][j]);
			printf("\n");
		}
	}
}