test_cases=input()
result=[]
i=0
while i<test_cases:
	length= input()
	result.append(length)
	take=raw_input()
	if length!=1:
		array=take.split(' ')
		array=map(int,array)
		count=1
		for j in range(len(array)-1):
			if array[j+1]<array[j] :
				result[i]+=((count-1)*count)/2
				count=1
			else:
				count=count+1
		result[i]+=((count-1)*count)/2
	i=i+1
for k in result:
	print k	 
	