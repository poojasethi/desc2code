tt = int(input())
for t in xrange(tt):
    n = int(input())
    raw_inp = raw_input().split()
    inp = map(int,raw_inp)
    ind = 0
    r = 0
    while ind < n:
        s = 0
        b = inp[ind]
        while ind < n and inp[ind] >= b:
            if ind < n-1:
                b = inp[ind]
            ind += 1
            s += 1
        r += sum(range(s+1))
    print r