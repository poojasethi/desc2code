#include <bits/stdc++.h>
#define ll long long
using namespace std;
int main()
{
        ll t,n,c,ans,i;
        cin>>t;
        while(t--)
        {
          cin>>n;
        ll a[n];
        for(ll i = 0; i < n; i++)
        {
            cin>>a[i];
        }
         c = 1;
         ans = n;
         i = 0;
        while(i < n)
        {
             c = 1;
            while(a[i] <= a[i+1] && i + 1 < n)
            {
                c++,i++;
            }
            ans += (c*(c-1))/2;

            i++;

        }
        cout<<ans<<endl;
        }
        return 0;
}
