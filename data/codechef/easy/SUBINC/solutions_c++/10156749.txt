#include <iostream>
#include <algorithm>

using namespace std;

int tn, current_element, previous_element, max_good_suffix, n;

int main(int argc, const char * argv[]) {
    ios_base::sync_with_stdio(false);
    cin >> tn;
    while (tn--) {
        long long answer = 0;
        cin >> n;
        for(int i = 0; i < n; i++) {
            cin >> current_element;
            if (i == 0)
                max_good_suffix = 1;
            else
                if (current_element >= previous_element)
                    ++max_good_suffix;
                else
                    max_good_suffix = 1;
            answer += max_good_suffix;
            previous_element = current_element;
        }
        cout << answer << endl;
    }
    return 0;
}