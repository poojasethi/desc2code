#include <iostream>

using namespace std;

int main()
{
        int t, n;
        int arr[100000];
        int brr[100000];
        cin>>t;

        while(t--){
                cin>>n;
                for(int i=0; i<n; i++)
                        cin>>arr[i];

                brr[0]=1;
                for(int i=1; i<n; i++){

                        if(arr[i]>=arr[i-1]){
                                brr[i] = brr[i-1]+1;
                        }
                        else{
                                brr[i]=1;
                        }
                }

                int i=0;
                long long c=0;
                for(i=0; i<n; i++){
                        //if(i+1<n && brr[i]>=brr[i+1]) c=c+((brr[i])*(brr[i]+1))/2;
                        //cout<<brr[i]<<" ";
                        c = c + brr[i];
                }
                //i--;
                //c=c+((brr[i])*(brr[i]+1))/2;
                //cout<<endl;
                cout<<c<<endl;
        }
    return 0;
}
