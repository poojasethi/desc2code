if __name__ == '__main__':
    t = input()
    while t:
        s = input()
        a = [0 for _ in xrange(s+1)]
        while s:
            d = [int(x) for x in raw_input().split()]
            d[0] += a[0]
            for i in xrange(1, len(d)):
                d[i] = max([d[i] + a[i], d[i] + a[i-1]])
            a = d
            a.append(0)
            s -= 1
        print max(a)
        t -= 1