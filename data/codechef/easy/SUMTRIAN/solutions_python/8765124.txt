#!/usr/bin/env python
import sys

def collapseRows(row1, row2):
    curPos = 0
    maxPos = len(row1)
    ret = []

    while curPos < maxPos:
        ret.append(max([row1[curPos] + row2[curPos],
                        row1[curPos] + row2[curPos+1]]))
        curPos += 1

    return ret

def handleTestCase(testCase):
    while len(testCase) > 1:
        row2 = testCase.pop()
        row1 = testCase.pop()

        testCase.append(collapseRows(row1, row2))
    return testCase[0][0]

def doInputCase():
    L = int(sys.stdin.readline())
    curL = 0

    ret = []
    while curL < L:
        ret.append([int(x) for x in sys.stdin.readline().strip().split(' ')])
        curL += 1
    return ret

def doInput():
    T = int(sys.stdin.readline())
    curT = 0

    while curT < T:
        testCase = doInputCase()
        print handleTestCase(testCase)
        curT += 1

if __name__ == '__main__':
    doInput()
