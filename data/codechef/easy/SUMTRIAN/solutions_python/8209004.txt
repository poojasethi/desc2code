import sys
def solve(tri):
    while(len(tri)>1):
        t0=tri.pop()
        t1=tri.pop()
        tri.append([max(t0[i], t0[i+1]) + t for i,t in enumerate(t1)])
    return tri[0][0]
a=[]
c=[]
t=int(sys.stdin.readline())
for i in range(t):
    n=int(sys.stdin.readline())
    b=[]
    for i in range(n):
        a=(map(int,sys.stdin.readline().split()))
        b.append(a)
    print solve(b)

