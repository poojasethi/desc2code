import sys

n = int(sys.stdin.readline())

final = []
for i in range(n):
    n_lines = int(sys.stdin.readline())
    
    prev_max = []
    line_num = 0
    for j in range(n_lines):
        line = [int(item) for item in sys.stdin.readline().split()]
        
        if line_num != 0:
            maximum = []
            length = len(line)
            for pos in range(length):
                
                if pos == 0:
                    maximum.append(prev_max[0] + line[0])
                elif pos ==  length - 1:
                    maximum.append(prev_max[pos-1] + line[pos])
                else:   
                    maximum.append(max(prev_max[pos-1]+line[pos], prev_max[pos]+line[pos]))
            #print maximum
            prev_max = maximum

        else:
            prev_max = line
        line_num += 1           
    final.append(max(prev_max))
        
for i in final:
    print i