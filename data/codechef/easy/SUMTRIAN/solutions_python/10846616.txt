t = input()
def make_pairs(arr):
    out = []
    for v,w in zip(arr[:-1], arr[1:]):
        out.append(max(v,w))
    return out

for i in range(t):
    n = input()
    arr = []
    for z in range(n):
        arr.append(map(int, raw_input().split()))
    for z in range(1,n):
        temp = make_pairs(arr[n-z])
        arr[n-z-1] = [sum(i) for i in zip(temp, arr[n-z-1])]
    print arr[0][0]
