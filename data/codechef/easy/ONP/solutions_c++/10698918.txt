#include<bits/stdc++.h>
using namespace std;

int main()
{
//	freopen("input.txt","r",stdin);
	int t;
	cin>>t;
	while(t--)
	{
		string s;
		char a[405],b[405];
		cin>>s;
		int l=s.length();
		int bl=0,al=0;
		for(int i=0;i<l;i++)
		{
			if(s[i]=='('||s[i]==')'||s[i]=='*'||s[i]=='^'||s[i]=='/'||s[i]=='+'||s[i]=='-')
			{
				if(s[i]=='(')
				{
					b[bl]=s[i];
					bl++;
				}
				if(s[i]==')')
				{
					for(int j=0;j<bl;j++)
					{
						if(b[bl-1]=='(')
							break;
						a[al]=b[bl-1];
						al++;
						bl--;	
					}
					bl--;
				}
				if(s[i]=='^')
				{
					for(int j=0;j<bl;j++)
					{
						if(b[bl-1]!='^')
							break;
						a[al]=b[bl-1];
						al++;
						bl--;	
					}
					b[bl]=s[i];
					bl++;
				}
				if(s[i]=='/')
				{
					for(int j=0;j<bl;j++)
					{
						if(b[bl-1]!='^'&&b[bl-1]!='/')
							break;
						a[al]=b[bl-1];
						al++;
						bl--;	
					}
					b[bl]=s[i];
					bl++;
				}
				if(s[i]=='*')
				{
					for(int j=0;j<bl;j++)
					{
						if(b[bl-1]!='^'&&b[bl-1]!='*'&&b[bl-1]!='/')
							break;
						a[al]=b[bl-1];
						bl--;
						al++;	
					}
					b[bl]=s[i];
					bl++;
				}
				if(s[i]=='-')
				{
					for(int j=0;j<bl;j++)
					{
						if(b[bl-1]=='+'||b[bl-1]=='('||bl==0)
							break;
						a[al]=b[bl-1];
						bl--;
						al++;	
					}
					b[bl]=s[i];
					bl++;
				}
				if(s[i]=='+')
				{
					for(int j=0;j<bl;j++)
					{
						if(b[bl-1]=='('||bl==0)
							break;
						a[al]=b[bl-1];
						al++;
						bl--;	
					}
					b[bl]='+';
					bl++;
				}
			}
			else
			{
				a[al]=s[i];
				al++;
			}	
		}
		for(int j=0;j<al;j++)
			cout<<a[j];
		for(int j=bl-1;j>=0;j--)
			cout<<b[j];
		cout<<endl;	
	}
	return 0;
}
