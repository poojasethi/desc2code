#include<iostream>
using namespace std;
char s[500];
int top=-1;

char pop()
{
  char ch=s[top];
  top--;
  return ch;
}

void push(char ch)
{
    s[++top]=ch;
}

int precedence(char ch)
{
    switch(ch)
    {
        case '^':
            return 5;
        case '*':
        case '/':
        case '%':
            return 4;
        case '+':
        case '-':
            return 3;
    }
    return -1;
}


int main()
{
    char a[500];
    char post[500];
    int i=0;
    int j=0,t;
    cin>>t;
    while(t--)
    {
     i=0;
     j=0;
    cin>>a;
    while(a[i]!='\0')
    {
        char ch=a[i++];
        if((ch=='('))
            push(ch);
        else if((ch>='a' && ch<='z')||(ch>='A'&& ch<='Z'))
        {
            post[j++]=ch;
        }
        else if(ch == ')')
        {
            while(top>=0 && (s[top]!= '('))
                post[j++]=pop();
            pop();
        }
        else
        {
            while(top>=0 && precedence(ch)<=precedence(s[top]))
                    post[j++]=pop();
            push(ch);
        }
    }

    while(top>=0)
        post[j++]=pop();

    i=0;
    while(i<j)
    cout<<post[i++];
    cout<<"\n";
    }
}
