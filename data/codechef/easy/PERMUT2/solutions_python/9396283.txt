a = []
n = 1
while True :
    n = int(raw_input())
    if n == 0:
        break
    a.append(raw_input().split())
q = 0
for i in range(len(a)):
    q = 0
    for j in range(len(a[i])):
        if j+1 != int(a[i][int(a[i][j])-1]) :
            q = 1
    if q == 1:
        print "not ambiguous"
    else :
        print "ambiguous"
        
    
