n=int(raw_input())
while n!=0:
    ambi=0
    input_array=map(int,("0 "+raw_input()).split())
    for i in range(len(input_array)):
        if input_array[input_array[i]]!=i:
            ambi=1
            break
    if ambi==0:
        print "ambiguous"
    else:
        print "not ambiguous"
    n=int(raw_input())
