def check(x):
    for i in range(1,len(x)+1):
        if x[x[i-1]-1]==i:
            continue
        else:
            return "not ambiguous"
    return "ambiguous"
            


test=1
answers=[]
while not test==0:
    test=int(raw_input())
    if test==0:
        continue
    else:
        k=[0]*test
        k=map(int,raw_input().split())
        answers.append(check(k))
for i in answers:
    print i
    
