n=int(raw_input())
while n!=0:
    a=[ int(i)-1 for i in raw_input().split() ]
    live=True
    for i in range(n):
        if not(live):
            break
        if a[a[i]]!=i:
            live=False
    if live:
        print "ambiguous"
    else:
        print "not ambiguous"
    n=int(raw_input())