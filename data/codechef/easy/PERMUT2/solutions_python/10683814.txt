while True:
  n = int(raw_input())
  if n == 0:
    break
  inverse = range(n)
  given = map(int, raw_input().split())
  for position, number in enumerate(given, 1):
    inverse[number - 1] = position
  if inverse == given:
    print 'ambiguous'
  else:
    print 'not ambiguous'
