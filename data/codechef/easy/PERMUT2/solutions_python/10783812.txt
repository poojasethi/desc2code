# @author Kilari Teja
# PERMUT2

KeepRunning = True
while KeepRunning:
	N = int(raw_input().strip())

	if N == 0:
		KeepRunning = False
		break

	Params = map(int, raw_input().strip().split(" "))

	InversePrmFlag = True
	for Position in xrange(N):
		if Params[Params[Position] - 1] != (Position + 1):
			InversePrmFlag = False
			break

	if InversePrmFlag:
		print "ambiguous"
	else:
		print "not ambiguous"