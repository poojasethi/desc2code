while True:
   n=int(raw_input())
   if n==0:
      break
   else:
      A=[]
      A = map(int,raw_input().split())
      j=1
      flag=0
      for i in A:
        if j!=A[i-1]:
           flag=1
           break
        j+=1
      if flag == 0:
                 print "ambiguous"
      else:
                 print "not ambiguous" 