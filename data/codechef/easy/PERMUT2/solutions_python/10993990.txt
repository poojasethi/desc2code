while(1):
	t=input()
	if t==0:
		break
	arr=map(int,raw_input().split())
	arr2=[0]*t
	ctr=1
	for i in arr:
		arr2[i-1]=ctr
		ctr+=1
	flag=0
	for i in xrange(t):
		if(arr[i]!=arr2[i]):
			flag=1
			break
	if(flag):
		print "not ambiguous"
	else:
		print "ambiguous"
