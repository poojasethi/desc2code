#!/bin/python

import sys
n=int(raw_input())
while n!=0:
    flag=0
    arr = map(int,raw_input().strip().split(' '))
    for i in range (0,n):
        temp=arr[i]
        temp=temp-1
        if arr[temp]!=i+1:
            flag=1
            break
    if flag==0 :
        print "ambiguous"
    else :
        print "not ambiguous"
    n=int(raw_input())