x=int(raw_input())
while(x!=0):
	s=raw_input().split(' ')
	q= [None]*x
	for z in range(0,x):
		q[int(s[z])-1]=str(z+1)
	
	if(q==s):
	 print "ambiguous"
	else:
	 print "not ambiguous"
	x=int(raw_input())