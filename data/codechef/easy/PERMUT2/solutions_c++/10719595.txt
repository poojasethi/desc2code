#include<iostream>
#include<math.h>
using namespace std;

int n = -1 ;
 int pos;

int findpos(int x[] , int y , int z)
{
 for(int j = 0 ; j<z ; j++)
 {
   if(x[j]==y)
   {
    pos = j+1;
   }
 }

return pos;
}

int main()
{
 long a[100001];
 long b[100001];
 long k = 0;
  long chk = 0;


  while(n)
  {
    cin>>n;
    if(n!=0)
    {
    for(long i = 1 ; i<=n ; i++)
    {
     cin>>a[i];
     b[a[i]] = i;
    }

    for(long i = 1 ; i<=n ; i++)
    {
        if(a[i]!=b[i])
        {
            chk++;
        }
    }


    if(chk==0)
    {
        cout<<"ambiguous"<<endl;
    }
    else
        cout<<"not ambiguous"<<endl;

    chk = 0;
    }
    else
        break;
  }
}


