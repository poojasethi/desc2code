#include<iostream>
#include<time.h>
using namespace std;
unsigned int k[100001],A[100001],n;
void calin(void)
{
	unsigned int i;
	for(i=1;i<=n;i++)
	{
	k[A[i]]=i;	
	}
} 
int check(void)
{
	unsigned int i;
	int flag=0;
	for(i=1;i<=n;i++)
	{
		if(A[i]!=k[i])
		{
			flag++;
			break;
		}
	}
	if(flag==0)
	return 1;
	else
	return 0;
}
int main(void)
{
	unsigned int i;
	int a;
	while(1)
	{
		cin>>n;
		if(n==0)
		break;
		for(i=1;i<=n;i++)
		cin>>A[i];
		calin();
		a=check();
		if(a==1)
		cout<<"ambiguous"<<endl;
		else
		cout<<"not ambiguous"<<endl;
	}
	return 0;
}