#include<iostream>
using namespace std;
int main(){
	while(1){
		int n;cin>>n;
		if(n==0)
		break;
		int ar1[n],ar2[n];
		for(int i=0;i<n;i++){
			cin>>ar1[i];
			ar2[ar1[i]-1]=i+1;
			//cout<<ar1[i]<<" ";
		}
		//cout<<endl;
		for(int i=0;i<n;i++){
			if(ar1[i]!=ar2[i]){
				cout<<"not ambiguous\n";
				goto out;
			}
		}
		cout<<"ambiguous\n";
			out:{}
	}
}
 