#include<stdio.h>
#define f for(i = 1; i <= n; i++)
int main(){
	int n, i, j, g;
	while(1){
		scanf("%d", &n), g = 0;
		if(n == 0)	break;
		int a[n + 1], b[n + 1];
		f	scanf("%d", &a[i]);
		f	b[a[i]] = i;
		f	if(a[i] != b[i]){g = 1, printf("not ambiguous\n"); break;}
		if(g == 0)	printf("ambiguous\n");
	}		
	return 0;
}