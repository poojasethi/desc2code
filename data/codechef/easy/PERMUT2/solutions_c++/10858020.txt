#include<bits/stdc++.h>
using namespace std;
int perm[100005];
int iperm[100005];
int main()
{
    while(1)
    {
        int n;
        cin>>n;
        if(n==0) return 0;
        for(int i=1;i<=n;i++)
        {
            cin>>perm[i];
            iperm[perm[i]]=i;
        }
        int flag=1;
        for(int i=1;i<=n;i++)
        if(perm[i]!=iperm[i])
            {cout<<"not ambiguous"<<endl;flag=0;break;}
        if(flag)
        cout<<"ambiguous"<<endl;
    }
}
