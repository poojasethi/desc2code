#include<bits/stdc++.h>
using namespace std;
 
int main(){
int n;
cin>>n;
while(n!=0){
int a[n];
int b[n];
int i;
for(i=1;i<=n;i++){
cin>>a[i];
b[a[i]]=i;}
int c=0;
for(i=1;i<=n;i++){
if(a[i]!=b[i]){
c=1;
break;
}
}
if(c)
cout<<"not ambiguous"<<endl;
else
cout<<"ambiguous"<<endl;
cin>>n;
 } 
}