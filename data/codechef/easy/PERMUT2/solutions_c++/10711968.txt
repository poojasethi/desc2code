#include <iostream>
using namespace std;

int main() {
	// your code goes here
	long long int n,i;
	cin>>n;
	while(n!=0)
	{
	  
	  long long int a[n+1],f=0;
	  for(i=1;i<=n;i++)
	  {
	  cin>>a[i];
	  //b[a[i]]=i;
	  }
	  for(i=1;i<=n;i++)
	  {
	      if(i!=a[a[i]])
	      {
	          f=1;
	          break;
	      }
	  }
	  if(f==1)
	  cout<<"not ambiguous"<<endl;
	  else
	  cout<<"ambiguous"<<endl;
	  cin>>n;
	  
	}
	return 0;
}
