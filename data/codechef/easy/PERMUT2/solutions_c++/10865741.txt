#include <iostream>

using namespace std;

int arrayCompare(int[], int);
int arraySearch(int[], int, int);
int main()
{
    int x;
    while (1)
    {
        cin>>x;
        if (!x)
            break;
        int a[x],ai[x];
        for (int i=0;i<x;i++)
        {
            cin>>a[i];
        }
        if(arrayCompare(a,x)==0)
            cout<<"ambiguous\n";
        else
            cout<<"not ambiguous\n";        
        
    }
    return 0;
}

int arrayCompare(int a[], int n)
{
    for (int i=0;i<n;i++)
    {
        if(a[i]!=(arraySearch(a,n,i+1)+1))
            return -1;
    }
    return 0;
}

int arraySearch(int a[], int n, int x)
{
    for (int i=0;i<n;i++)
    {
        if(a[i]==x)
            return i;
    }
    return -1;
}
