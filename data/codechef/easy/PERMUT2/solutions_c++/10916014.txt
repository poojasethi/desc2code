#include<iostream>

typedef long l;
typedef long long ll;

#define fi for(int i=0;i<n;i++)
#define fl for(l i=0;i<n;i++)
#define fll for(ll i=0;i<n;i++)

using namespace std;

int main() {
    int n=1;bool check;
    while(n != 0) {
            check = true;
        cin>>n;int a[n];
        if(n==0)
            break;

        for(int i=0;i<n;i++)
            cin>>a[i];
        for(int i=0;i<n;i++) {

            if(a[a[i]-1] != i+1) {
                check = false;break;
        }}
        if(check==true)
            cout<<"ambiguous\n";
        else cout<<"not ambiguous\n";
    }
    return 0;
}
