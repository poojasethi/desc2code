#include<stdio.h>
#include<stdlib.h>
  int main(void)
    {
        while(1)
        {
        	int n;
	        scanf("%d",&n);
	        if(n==0)
	        	break;
	        int i,j,a=0;
	        int arr1[100000],arr2[100000];
	        for(i=1;i<=n;i++)
	          {
	              scanf("%d",&arr1[i]);
	              arr2[arr1[i]] = i;
	             // b=b*10+arr1[i];
	              
	          }
	          for(j=1;j<=n;j++)
	            {
	                if(arr2[j]!=arr1[j])
	                {
	                    a=1;
	                    break;
	                }
	                    
	            }
	         /*   for(l=1;l<=n;l++)
	              {
	                  for(k=1;k<=n;k++)
	                    {
	                        if(l==arr1[k])
	                          {
	                              a=a*10+k;
	                              //printf("%d",k);
	                          }
	                          
	                    }
	              }*/
	              if(a==0)
	               printf("ambiguous\n");
	               else
	               printf("not ambiguous\n");
        }
        return 0;
    }
 