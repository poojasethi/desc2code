#include <iostream>
#include <vector>

using namespace std;

int main() {






	for( ; ; ){
        int n,count=0;
        cin>>n;
        if(n==0) break;
        int a[n],b[n];

        for(int i=1;i<n+1;i++){
            cin>>a[i];
        }

        for(int i=1;i<n+1;i++){
            b[a[i]]=i;
        }

        for(int i=1;i<n+1;i++){
            if(a[i]==b[i]) count++;
        }

       // for(int i=1;i<n+1;i++){
        //    cout<<b[i]<<" ";
        //}
       // cout<<count<<endl;
        if(count==n){
            cout<<"ambiguous"<<endl;
        }
        else if(count!=n){
            cout<<"not ambiguous"<<endl;
        }
	}

	return 0;
}


