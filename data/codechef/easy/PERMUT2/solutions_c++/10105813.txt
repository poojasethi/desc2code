#include<iostream>
using namespace std;
#include<stdio.h>
#include <stdlib.h>
char buf[600000];
long int a[100000],t;
int check()
{ long int i;
    for(i=1;i<t;i++)
    if(a[a[i]]!=i)
          break;
 if(i==t)
   return 1;
   else
   return 0;
}
void fastio()
{

  long int i=1,j=0,n=0;
  fgets(buf,600000,stdin);
  while(buf[j]&&buf[j+1]!='\0')
  {
      if(buf[j]!=' ')
         n=n*10+(buf[j]-48);
    else
       {
           cout<<buf[j];
           a[i++]=n;
          // cout<<n;
           n=0;
       }
       j++;
  }
  a[0]=0;
  a[i]=n;
 // cout<<n;
}

int main()
{
    char ch;
    cin>>t;
    while(t!=0)
   {
    ch=getchar();
    fastio();
    if(check())
    printf("ambiguous\n");
    else
    printf("not ambiguous\n");
    cin>>t;
   }
    return 0;
}
