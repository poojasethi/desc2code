#include <stdio.h>
#include <math.h>
#include <time.h>
#include <string.h>
#include <iostream>
#include <fstream>
#include <algorithm>
#include <string>
#include <vector>
#include <set>
#include <map>
#pragma comment(linker, "/STACK:16777216")
using namespace std;
 
typedef vector<int> VI;
typedef pair<int,int> PII;
#ifndef ONLINE_JUDGE
typedef __int64 LL;
#else
typedef long long LL;
#endif
 
#define bit(n) (1<<(n))
#define inf 1000000000
#define eps 1e-9
#define PI 3.1415926535897932385
#define pb push_back
#define sz size()
#define mp make_pair
#define cl clear()
#define all(a) a.begin(),a.end()
#define fill(ar,val) memset(ar,val,sizeof ar)
#define MIN(a,b) if(a>(b)) a=(b)
#define MAX(a,b) if(a<(b)) a=(b)
#define sqr(x) ((x)*(x))
#define min(a,b) ((a)<(b)?(a):(b))
#define max(a,b) ((a)>(b)?(a):(b))
 
clock_t start=clock();
 
#define N 4000404
int ro[N];
 
#define M 4444
int xA[M],xB[M],x[2*M];
 
int T(int x)
{
	return x*(x+1)/2;
}
 
int gcd(int a,int b)
{
	int c;
	while(b)c=a%b,a=b,b=c;
	return a;
}
 
int brute(int A,int B)
{
	int ans=0;
	for(int a=1;a<=A;a++)
		for(int b=1;b<=B;b++)
		{
			int d=gcd(a,b);
			int i;
			for(i=2;i*i<=d && d%(i*i);i++);
			if(i*i>d)
				ans+=b/d*a;
		}
	ans%=bit(30);
	if(ans<0) ans+=bit(30);
	return ans;
}
 
int main()
{
	#ifndef ONLINE_JUDGE
	freopen("in.txt","r",stdin);
	#endif
	int i,j,k;
	for(i=2;i*i<N;i++) if(!ro[i])
		for(j=i+i;j<N;j+=i) if(!ro[j]) ro[j]=i;
	ro[1]=1;
	for(i=2;i<N;i++)
	{
		k=ro[i];
		if(!k) ro[i]=1-i; else
		{
			j=i/k;
			if(j%k) ro[i]=(1-k)*ro[j]; else
			{
				j/=k;
				if(j%k) ro[i]=-k*ro[j]; else ro[i]=0;
			}
		}
	}
	for(i=2;i<N;i++)
		ro[i]=i*ro[i]+ro[i-1];
	int TST;
	int A,B;
	for(scanf("%d",&TST);scanf("%d%d",&A,&B)>0;)
	{
		xA[0]=0;
		int xAlen=1;
		for(i=1;i<A/i;i++) xA[xAlen++]=i;
		if(i>A/i) i--;
		for(;i>0;i--) xA[xAlen++]=A/i;
 
		xB[0]=0;
		int xBlen=1;
		for(i=1;i<B/i;i++) xB[xBlen++]=i;
		if(i>B/i) i--;
		for(;i>0;i--) xB[xBlen++]=B/i;
 
		for(i=j=k=0;i<xAlen || j<xBlen;)
			if(i==xAlen) x[k++]=xB[j++]; else
			if(j==xBlen) x[k++]=xA[i++]; else
			{
				if(xA[i]<xB[j]) x[k++]=xA[i++]; else
				if(xA[i]>xB[j]) x[k++]=xB[j++]; else
					x[k++]=xA[i],i++,j++;
			}
		int xlen=k;
		int ans=0;
		for(i=1;i<xlen;i++)
			ans+=T(A/x[i])*T(B/x[i])*(ro[x[i]]-ro[x[i-1]]);
		ans%=bit(30);
		if(ans<0) ans+=bit(30);
		/*int ans1=brute(A,B);
		printf("brute=%d ",ans1);
		if(ans!=ans1) printf("ERROR ");*/
		printf("%d\n",ans);
	}
	fprintf(stderr,"time=%.3lfsec\n",0.001*(clock()-start));
	return 0;
}
 