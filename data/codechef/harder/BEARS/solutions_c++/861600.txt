#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <vector>
using namespace std;
#define p(x) cout<<#x<<":"<<x<<"\n"
#define pb push_back
#define lim 1001

int cs,n,m,i,v,d,j,x,y,z,k;
long long e;
vector <int> V[lim],L[lim];
int D[lim];

int main()
{
  scanf("%d",&cs);
  while(cs--)
  {
    scanf("%d%d",&n,&m);
	for(i=0;i<n;i++)
	  V[i].clear();
	for(i=0;i<m;i++)
	{
	  scanf("%d%d",&x,&y);
	  x--;
	  y--;
	  V[x].pb(i);
	  V[y].pb(i);
	  L[i].clear();
	}
	memset(D,0,sizeof D);
	for(i=0;i<n;i++)
	  for(j=0,z=V[i].size();j<z;j++)
	    for(k=j+1;k<z;k++)
		{
		  x=V[i][j];
		  y=V[i][k];
		  L[x].pb(y);
		  D[x]++;
		  D[y]++;
		}
	v=e=0;
	for(i=0;i<m;i++)
	{
	  d=D[i];
	  v+=d*(d-1)/2;
	  for(j=0;j<L[i].size();j++)
	  {
	    d+=D[L[i][j]]-2;
		e+=d*(d-1)/2;
	    d-=D[L[i][j]]-2;
	  }
	}
	printf("%d ",v);
	cout<<e<<"\n";
  }  
  return 0;
}
