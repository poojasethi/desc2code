#include <iomanip>
#include <ctime>
#include <numeric>
#include <functional>
#include <iostream>
#include <vector>
#include <algorithm>
#include <string>
#include <cstring>
#include <climits>
#include <cmath>
#include <cctype>
#include <sstream>
#include <map>
#include <set>
#include <cstdio>
#include <queue>
#define f(i,x,y) for(int i=x;i<y;i++)
#define fd(i,y,x) for(int i=y;i>=x;i--)
#define FOR(it,A) for( typeof A.begin() it = A.begin(); it!=A.end(); it++)
#define impr(A) for( typeof A.begin() chen = A.begin(); chen !=A.end(); chen++ ) cout<<*chen<<" "; cout<<endl
#define ll long long
#define vint vector<int>
#define clr(A,x) memset(A,x,sizeof(A))
#define CLR(v) f(i,0,n) v[i].clear()
#define oo (1<<30)
#define ones(x) __builtin_popcount(x)
#define all(v) (v).begin(),(v).end()
#define rall(v) (v).rbegin(),(v).rend()
#define pb push_back
#define eps (1e-9)
#define cua(x) (x)*(x)
#define MAX 1005
using namespace std;

int T;
vint E[MAX];
int g[MAX];
int h[1000005], sz;

int main()
{
	int n,m,u,v;
	cin >> T;
	while(T--){
		cin >> n >> m;
		f(i,0,n) E[i].clear();
		f(i,0,m){
			scanf ("%d%d", &u, &v);
			u--; v--;
			E[u].pb(v);
			E[v].pb(u);
		}
		f(i,0,n) g[i] = E[i].size();
		sz = 0;
		f(i,0,n){
			f(j,0,g[i])f(k,0,j){
				h[sz++] = 2*g[i] + g[E[i][j]] + g[E[i][k]] - 6;
			}
		}
		ll x = 0, y = 0;
		f(i,0,sz) x += h[i], y += h[i]*(h[i]-1)/2;
//		f(i,0,sz) cout << h[i] << " "; cout << endl;
		cout << x/2 << " " << y << endl;
	}
}
