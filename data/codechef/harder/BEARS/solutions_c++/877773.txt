#include<cstdio>
#include<cstring>
#include<algorithm>
#include<vector>
using namespace std;
int n,m,a[1010],b[1010];
long long ans1,ans2;
vector<int>p[1010];
void solve(){
	scanf("%d%d",&n,&m);
	for(int i=1;i<=m;++i)p[i].clear();
	for(int i=1;i<=m;++i)scanf("%d%d",&a[i],&b[i]);
	for(int i=1;i<=m;++i)
		for(int j=1;j<=m;++j)
			if(i!=j&&(a[i]==a[j]||a[i]==b[j]||b[i]==a[j]||b[i]==b[j]))
				p[i].push_back(j);
	ans1=0;ans2=0;
	for(int i=1;i<=m;++i)ans1+=p[i].size()*(p[i].size()-1)/2;
	for(int i=1;i<=m;++i)
		for(int j=0;j<p[i].size();++j)
			if(i<p[i][j]){
				ans2+=(p[i].size()-1)*(p[p[i][j]].size()-1);
				ans2+=(p[i].size()-1)*(p[i].size()-2)/2;
				ans2+=(p[p[i][j]].size()-1)*(p[p[i][j]].size()-2)/2;
			}
	printf("%lld %lld\n",ans1,ans2);
}
int main(){
	int T;scanf("%d",&T);
	for(int i=1;i<=T;++i)solve();
	return 0;
}
