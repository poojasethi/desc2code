#include <stdio.h>
#include <stdlib.h>
using namespace std;

int T,n0,n1,n,m,p,i,j,k,u,v;
int fa[10005],sum[10005];

int get(int x){return fa[x]==x?x:fa[x]=get(fa[x]);}

bool check()
{
	if(get(1)==get(2))return true;
	int e=(n*(n-1)/2-m)&1;
	if(n&1)return e;
	if(p)
	{
		if(e)return n0||n1>2;
		else return n0<=1&&n1==2;
	}
	else
	{
		if(e)return (!sum[get(1)])||(!sum[get(2)]);
		else return sum[get(1)]||sum[get(2)];
	}
}

int main()
{
	scanf("%d",&T);
	for(;T;--T)
	{
		n0=n1=0;
		scanf("%d%d%d",&n,&m,&p);
		for(i=1;i<=n;++i)fa[i]=i,sum[i]=0;
		for(i=1;i<=m;++i)
		{
			scanf("%d%d",&u,&v);
			u=get(u);v=get(v);fa[u]=v;
		}
		for(i=1;i<=n;++i)sum[get(i)]^=1;
		for(i=1;i<=n;++i)if(fa[i]==i)if(sum[i])++n1;else ++n0;
		if(check())printf("First\n");else printf("Second\n");
	}
}