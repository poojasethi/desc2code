#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <algorithm>
#include <cstring>
#include <cmath>
#include <string>
using namespace std;
const int Maxn=7800,Maxm=10005;
int n,m,p;
int bel[Maxn],size[Maxn];

inline int get(){
   int v;char ch;
   while (!isdigit(ch=getchar())); v=ch-48;
   while (isdigit(ch=getchar())) v=v*10+ch-48;
   return v;
}

int belong(int u) {
	return bel[u]==u?u:bel[u]=belong(bel[u]);
}

int main() {
	for (int T=get();T;T--) {
		n=get(); m=get(); p=get();
		for (int i=1;i<=n;i++) {
			bel[i]=i;
			size[i]=1;
		}
		for (int i=1,x,y;i<=m;i++) {
			x=belong(get());
			y=belong(get());
			if (x!=y)
				size[bel[y]=x]+=size[y];
		}
		int p1=belong(1),p2=belong(2);
		if (p1==p2) {
			puts("First");
			continue;
		}
		bool f=(n*(n-1)/2-m)&1;
		if (n&1) {
			puts(f?"First":"Second");
			continue;
		}
		int tmp=size[p1]%2+size[p2]%2;
		if (p==0) puts(((f&&tmp<2)||(!f&&tmp>0))?"First":"Second");
		else {
			int cnt=0;
			for (int i=1;i<=n;i++) cnt+=belong(i)==i;
			if (cnt==2&&tmp==2&&f) {
				puts("Second");
				continue;
			}
			if (cnt<=3&&tmp&&!f) {
				puts("First");
				continue;
			}
			puts(f?"First":"Second");
		}
	}
	return 0;
}