#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

#define n	10005
#define For(i,a,b)	for(int i=a;i<=b;i++)

#define CH	(ch=getchar())
int		IN(){
		int x=0,ch;
		for	(;CH<'0'||ch>'9';);
		for	(;ch>='0'&&ch<='9';CH)	(x*=10)+=ch-'0';
		return	x;
}

int		T,N,M,P,X,Y,F[n],S[n];

int		Get(int u)	{return	F[u]==u?u:F[u]=Get(F[u]);}
bool	Work(){
		if	(F[1]==F[2])	return	1;
		int E=(N*(N-1)/2-M)&1;
		if	(N&1)	return	E;
		if	(P)	{
			if	(E)	return	X||Y>2;
			else	return	X<=1 && Y==2;
		}	else{ 
			if (E)	return	!S[F[1]] || !S[F[2]];
			else	return	S[F[1]] || S[F[2]];
		}
		return	233;
}

int		main(){
		T=IN();
		for	(;T--;)	{
			N=IN();	M=IN();	P=IN();
			For(i,1,N)	F[i]=i,S[i]=1;
			For(i,1,M)	{
				int u=Get(IN()),v=Get(IN());
				if	(u!=v)	F[u]=v,S[v]+=S[u];
			}

			X=Y=0;
			For(i,1,N)	if	(Get(i)==i)	{
				S[i]&=1;S[i]?Y++:X++;
			}
			puts(Work()?"First":"Second");
		}
}