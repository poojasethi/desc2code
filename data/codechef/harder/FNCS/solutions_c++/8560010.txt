#include <stdio.h>
#include <stdlib.h>
#include <math.h>
using namespace std;

int S,Sn,n,m,i,j,k,ll,rr,opt;
int a[100005],l[100005],r[100005];
int id[100005],L[405],R[405];
int cnt[405][100005];
unsigned long long ans,sum[405],add[405],val[100005];

long long get(int x){return add[id[x]]+val[x];}

int main()
{
	scanf("%d",&n);S=(int)sqrt(n);
	for(i=1;i<=n;++i)scanf("%d",&a[i]);
	for(i=1;i<=n;++i)scanf("%d%d",&l[i],&r[i]);
	for(i=1;i<=n;id[i++]=Sn)if(i%S==1)++Sn;
	for(i=1;i<=Sn;++i)L[i]=(i-1)*S+1,R[i]=i*S;R[Sn]=n;
	for(i=1;i<=n;++i)++cnt[id[i]][l[i]],--cnt[id[i]][r[i]+1];
	for(i=1;i<=Sn;++i)
	for(j=1;j<=n;++j)
	cnt[i][j]+=cnt[i][j-1];
	for(i=1;i<=n;++i)val[i]=val[i-1]+a[i];
	for(i=1;i<=Sn;++i)
	for(j=1;j<=n;++j)
	sum[i]+=(unsigned long long)cnt[i][j]*a[j];
	
	scanf("%d",&m);
	for(;m;--m)
	{
		scanf("%d%d%d",&opt,&ll,&rr);
		if(opt==1)
		{
			rr=rr-a[ll];a[ll]+=rr;
			for(i=1;i<=Sn;++i)sum[i]+=(unsigned long long)cnt[i][ll]*rr;
			for(i=id[ll]+1;i<=Sn;++i)add[i]+=rr;
			for(i=R[id[ll]];i>=ll;--i)val[i]+=rr;
		}
		else
		{
			ans=0;
			if(id[ll]==id[rr])for(i=ll;i<=rr;++i)ans+=get(r[i])-get(l[i]-1);
			else
			{
				for(i=id[ll]+1;i<id[rr];++i)ans+=sum[i];
				for(i=R[id[ll]];i>=ll;--i)ans+=get(r[i])-get(l[i]-1);
				for(i=L[id[rr]];i<=rr;++i)ans+=get(r[i])-get(l[i]-1);
			}
			printf("%llu\n",ans);
		}
	}
}