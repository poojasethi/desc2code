#include <iostream>
#include <cstring>
#include <cmath>
#include <cstdio>
#include <algorithm>
using namespace std;
#define N 100050
#define M 405
#define ll unsigned long long
ll Cnt[M],_pre[M],__pre[N],ans;
int pre[M][N],val[N],bd[M][2],sg[N],_bd[N][2],n,m,rt,_Cnt;
inline int Read()
 {
 	int x=0;char y;
 	do y=getchar(); while (y<'0'||y>'9');
 	do x=x*10+y-'0',y=getchar(); while (y>='0'&&y<='9');
 	return x;
 }
inline ll Get(int x,int y)
 {return __pre[y]-(bd[sg[x]][0]==x?false:__pre[x-1]);}
inline ll Val(int x)
 {
 	ll _=false;int k=_bd[x][0],l=_bd[x][1];
 	if (sg[k]==sg[l]) return Get(k,l);
 	_=_pre[sg[l]]-_pre[sg[k]+1]+Get(k,bd[sg[k]][1])+__pre[l];
 	return _;
 }
int main()
 {
 	//freopen("input.txt","r",stdin);
 	//freopen("output.txt","w",stdout);
 	n=Read();rt=sqrt(n);_Cnt=(n-1)/rt+1;
 	for (int i=1;i<=n;i++)
 	  val[i]=Read(),sg[i]=(i-1)/rt+1,bd[sg[i]][1]=i;
 	for (int i=1;i<=_Cnt;i++) bd[i][0]=bd[i-1][1]+1;
 	for (int i=1;i<=_Cnt;i++)
 	 {
 	 	_pre[i]=_pre[i-1]+__pre[bd[i][0]-1];
 	 	__pre[bd[i][0]]=val[bd[i][0]];
 	 	for (int j=bd[i][0]+1;j<=bd[i][1];j++)
 	 	  __pre[j]=__pre[j-1]+val[j];
 	 }
 	for (int i=1;i<=_Cnt;i++)
 	 {
 	 	for (int j=bd[i][0];j<=bd[i][1];j++)
 	 	  _bd[j][0]=Read(),_bd[j][1]=Read(),
 	 	  pre[i][_bd[j][0]]++,pre[i][_bd[j][1]+1]--;
 	 	for (int j=1;j<=n;j++)
 	 	  pre[i][j]+=pre[i][j-1],Cnt[i]+=1LL*pre[i][j]*val[j];
 	 }
 	m=Read();
 	while (m--)
 	 if (Read()==1)
 	  {
 	  	 int k=Read(),l=Read(),e=l-val[k];
 	  	 for (int i=k;i<=bd[sg[k]][1];i++) __pre[i]+=e;
 	  	 for (int i=sg[k]+1;i<=_Cnt;i++) _pre[i]+=e;
 	  	 for (int i=1;i<=_Cnt;i++) Cnt[i] += 1LL*e*pre[i][k];
 	  	 val[k]=l;
 	  } else
 	  {
 	  	 int k=Read(),l=Read();ans=false;
 	  	 if (sg[k]==sg[l])
 	  	  {
 	  	  	 for (int i=k;i<=l;i++) ans += Val(i);
 	  	  	 printf("%llu\n",ans);continue;
 	  	  }
 	  	 for (int i=sg[k]+1;i<sg[l];i++) ans += Cnt[i];
 	  	 for (int i=k;i<=bd[sg[k]][1];i++) ans += Val(i);
 	  	 for (int i=bd[sg[l]][0];i<=l;i++) ans += Val(i);
 	  	 printf("%llu\n",ans);
 	  }
 	return 0;
 }