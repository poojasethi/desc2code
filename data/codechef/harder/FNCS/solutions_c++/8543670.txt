#include<cstdio>
#include<cstring>
#include<algorithm>
#include<set>
#include<map>
#include<vector>
#define rep(i,j,k) for(int i=(int)j;i<=(int)k;i++)
#define per(i,j,k) for(int i=(int)j;i>=(int)k;i--)
using namespace std;
typedef unsigned long long LL;
typedef double db;
#define bel(x) (((x)-1)/S)
#define st(x) ((x)*S+1)
#define ed(x) min(((x)+1)*S,n)
const int N=110000;
const int S=250;
int n,Q;
int L[N],R[N];
int a[N];
LL cnt[N];
inline void add(int x,int v){
	for(;x<=n;x+=x&(-x))cnt[x]+=1ll*v;
}
inline LL ask(int x){
	LL res=0;
	for(;x;x-=x&(-x))res+=cnt[x];
	return res;
}
LL ans[N/S+3];
LL gg[N];
LL xi[N/S+3][N];
int main(){
	scanf("%d",&n);
	rep(i,1,n)scanf("%d",&a[i]);
	rep(i,1,n)add(i,a[i]);
	rep(i,1,n)scanf("%d%d",&L[i],&R[i]);
	rep(i,0,bel(n)){
		rep(j,1,n)gg[j]=0;
		rep(j,st(i),ed(i)){
			gg[L[j]]++;
			gg[R[j]+1]--;
		}
		rep(j,1,n)gg[j]+=gg[j-1];
		rep(j,1,n)xi[i][j]=gg[j];
		rep(j,1,n)ans[i]+=gg[j]*1ll*a[j];
	}
	scanf("%d",&Q);
	while(Q--){
		int ty,l,r;scanf("%d%d%d",&ty,&l,&r);
		if(ty==1){
			int d=r-a[l];
			a[l]=r;
			add(l,d);
			rep(i,0,bel(n))ans[i]+=xi[i][l]*1ll*d;
		}
		if(ty==2){
			LL res=0;
			if(bel(l)==bel(r)){
				rep(i,l,r)res+=ask(R[i])-ask(L[i]-1);
				printf("%llu\n",res);
				continue;
			}
			rep(i,bel(l)+1,bel(r)-1)res+=ans[i];
			rep(i,l,ed(bel(l))){
				res+=ask(R[i])-ask(L[i]-1);
			}
			rep(i,st(bel(r)),r){
				res+=ask(R[i])-ask(L[i]-1);
			}
			printf("%llu\n",res);
		}
	}
	return 0;
}

