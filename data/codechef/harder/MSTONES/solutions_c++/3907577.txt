#include<cstdio>
#include<cstring>
using namespace std;

const int N = int(1e4 + 6);
const int K = 400;
const int A = 31, B = 1e7 + 7, C = 1331;

int X[N], Y[N];
int T, n, ans;
int cur;

int rand()
{
	cur = (cur * A + C) % B;
	return cur;
}

void Work()
{
	scanf("%d", &n), ans = 0;
	for(int i=0; i<n; i++) scanf("%d%d", &X[i], &Y[i]);
	if(n==1) {puts("1"); return;}
	for(int i=0; i<K; i++)
	{
		int x = rand() % n, y = rand() % n;
		while(x == y) y = rand() % n;
		int tot = 0, tx = X[x] - X[y], ty = Y[x] - Y[y];
		for(int j=0; j<n; j++)
		{
			if(tx * (Y[j] - Y[x]) == ty * (X[j] - X[x])) tot++;
		}
		if(tot > ans) ans = tot;
	}
	printf("%d\n", ans);
}

int main()
{
	
	cur = 197;
	
	scanf("%d", &T);
	for(;T;T--) Work();
	
	return 0;
}
