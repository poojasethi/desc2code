#include<cstdio>
#include<cstdlib>
#include<algorithm>

#define	rep(i,n)	for(int i=0;i<n;i++)

using namespace std;

int main(){
	srand(77);

	int T;	scanf("%d",&T);
	while(T--){
		int n;	scanf("%d",&n);
		static int x[100000],y[100000];
		rep(i,n)	scanf("%d%d",x+i,y+i);

		if(n==1){ puts("1"); continue; }

		int ans=0;
		rep(t,200){
			int p=rand()%n,q=rand()%n,cnt=0;
			if(p==q){ t--; continue; }
			rep(i,n) if((x[q]-x[p])*(y[i]-y[p])==(y[q]-y[p])*(x[i]-x[p])) cnt++;
			ans=max(ans,cnt);
		}
		printf("%d\n",ans);
	}

	return 0;
}
