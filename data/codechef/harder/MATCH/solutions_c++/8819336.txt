#include <stdio.h>
#include <stdlib.h>
#include <algorithm>
#define H 2333333
using namespace std;

int N,n,m,i,j,k,l,h,cnt,cnt_,tot,x,y,z;
int son[3000005],next[300005],num[300005];
int u[2000005],v[2000005],c[2000005];
int S[300005][15],id[300005],s[300005],a[15],b[15];
double p[15][105],P[35],f[300005],g[300005],p_[300005],ans;

int Hash(int h)
{
	for(int i=son[h%H];i;i=next[i])
	if(num[i]==h)return i;
	return 0;
}

void Hash_add(int h)
{
	int x=h%H;
	++cnt;next[cnt]=son[x];son[x]=cnt;num[cnt]=h;
}

void dfs(int x,int y)
{
	if(x>n)
	{
		int i,j,k;
		b[1]=a[1];
		for(i=2;i<=y;++i)
		{
			k=a[i];
			for(j=i;j>1;--j)
			if(k<b[j-1])b[j]=b[j-1];
			else break;
			b[j]=k;
		}
		int h=0;
		for(i=1;i<=y;++i)h=h*50+b[i]+1;
		if(!Hash(h))
		{
			Hash_add(h);
			S[cnt][0]=y;
			for(i=1;i<=y;++i)S[cnt][i]=b[i];
		}
		return;
	}
	dfs(x+1,y);
	for(int i=0;i<N;++i)
	if(i&(1<<x-1))
	{
		a[y+1]=i;
		dfs(x+1,y+1);
	}
}

int main()
{
	scanf("%d%d",&n,&m);N=1<<n;
	for(i=1;i<=n;++i)
	for(j=1;j<=m;++j)
	scanf("%lf",&p[i][j]);
	dfs(1,0);
	for(i=1;i<=cnt;++i)if(S[i][0]!=n)id[i]=++cnt_,s[cnt_]=S[i][0];
	for(i=1;i<=cnt;++i)
	{
		k=S[i][0];if(k==n)continue;
		for(j=1;j<=k;++j)a[j]=S[i][j];
		for(j=0;j<N;++j)
		{
			for(l=1;l<=k&&a[l]<j;++l)b[l]=a[l];
			b[l]=j;
			for(;l<=k;++l)b[l+1]=a[l];
			h=0;
			for(l=1;l<=k+1;++l)h=h*50+b[l]+1;
			l=Hash(h);if(!l)l=i;
			if(id[l])++tot,u[tot]=id[i],v[tot]=id[l],c[tot]=j;
		}
	}
	cnt=cnt_;
	f[1]=1;s[0]=n;
	for(i=1;i<=m;++i)
	{
		for(j=0;j<N;++j)
		{
			P[j]=1;
			for(k=1;k<=n;++k)
			if(j&(1<<k-1))P[j]*=p[k][i];
			else P[j]*=1-p[k][i];
		}
		for(j=0;j<=cnt;++j)g[j]=p_[j]=0;
		for(j=0;j<=tot;++j)g[v[j]]+=f[u[j]]*P[c[j]],p_[u[j]]+=P[c[j]];
		for(j=1;j<=cnt;++j)f[0]+=f[j]*(1-p_[j]),f[j]=g[j];
	}
	ans=0;
	for(i=0;i<=cnt;++i)ans+=f[i]*s[i];
	printf("%.10lf\n",ans);
}