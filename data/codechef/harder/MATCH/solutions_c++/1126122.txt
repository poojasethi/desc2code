#include <cstdio>
#include <map>
using namespace std;
typedef unsigned int uint;
int i,j,k,cnt,n,m,len,mx[1010],t[1010][32];double p[9][110],P[110][32],dp[110][1010],ans;
uint q[1010],prh[9],S,T[9],nxt;map<uint,int>hash;
#define B(i) (1u<<(i))
int find(uint S) {
	if (hash.count(S)==0) q[hash[S]=len++]=S;
	return hash[S];
}
int main() {
	scanf("%d%d",&n,&m);
	for (i=0;i<B(n);i++){ for (cnt=j=0;j<n;j++) if (i&B(j)) cnt++;T[cnt]|=B(i);}
	for (find(1),k=0;k<len;k++) {
		S=q[k];
		for (i=0;i<n;i++) prh[i]=0;
		for (i=0;i<B(n);i++) if (S&B(i)) for (j=0;j<n;j++) prh[j]|=B(i|B(j));
		for (i=0;i<B(n);i++) {
			for (j=0,nxt=S;j<n;j++) if (i&B(j)) nxt|=prh[j];
			t[k][i]=find(nxt);
		}
		for (i=n;i>=0;i--) if (S&T[i]) {mx[k]=i;break;}
	}
	for (i=0;i<n;i++) for (j=0;j<m;j++) scanf("%lf",&p[i][j]);
	for (i=0;i<m;i++) for (j=0;j<B(n);j++) for (P[i][j]=1,k=0;k<n;k++)
		P[i][j]*=(j&B(k))?p[k][i]:1-p[k][i];
	for (dp[0][0]=1,i=0;i<m;i++) for (j=0;j<len;j++) for (k=0;k<B(n);k++)
		dp[i+1][t[j][k]]+=dp[i][j]*P[i][k];
	for (i=0;i<len;i++) ans+=mx[i]*dp[m][i];
	printf("%.8lf\n",ans);
}
