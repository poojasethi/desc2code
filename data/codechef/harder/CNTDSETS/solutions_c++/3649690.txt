#include<bits/stdc++.h>
using namespace std;
#define LL unsigned long long

const int MOD=1000000007;

int modPow(int A,int B,int C)
{
	int ans=1,num=A;
    while (B) 
    {
        if(B&1) 
        ans=(LL)ans*num%C;
        num=(LL)num*num%C;
        B>>=1;
    }
    return ans;
}

int C[1010][1010];

void Combinations()
{
	C[0][0]=C[1][0]=C[1][1]=1;
    for(int i=2;i<=1000;i++) 
    {
        C[i][0]=C[i][i]=1;
        for(int j=1;j<i;j++) 
        {
            C[i][j]=C[i-1][j-1]+C[i-1][j];
            if(C[i][j]>=MOD) 
            C[i][j]-=MOD;
        }
    }
}


int F(int N, int D) {
    int ans=0;
    for (int K=0;K<=N;K++) 
    {
        int up =modPow(D,K,MOD-1);
        up=(LL)up*modPow(D+1,N-K,MOD-1)%(MOD-1);
        int tmp=modPow(2,up,MOD);
        tmp=(LL)tmp*C[N][K]%MOD;
        
        if (K%2==0) 
        ans+=tmp;
        else 
        ans-=tmp;
        
        if (ans<0) ans+=MOD;
        if (ans>=MOD) ans-=MOD;
    }
    return ans;
}
int main()
{
	Combinations();
	int T,N,K;
	int D,S;
	//cout<<C(0,0)<<" "<<C(1,0)<<" "<<C(1,1);
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d %d",&N,&D);
		S=F(N,D)-F(N,D-1);
		if(S<0)
		S+=MOD;
		printf("%d\n",S);
	}
}