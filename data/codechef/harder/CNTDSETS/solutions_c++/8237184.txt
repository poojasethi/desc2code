#include<cstdio>
#include<cstring>
#include<algorithm>
#include<set>
#include<map>
#include<vector>
#define rep(i,j,k) for(int i=(int)j;i<=(int)k;i++)
#define per(i,j,k) for(int i=(int)j;i>=(int)k;i--)
using namespace std;
typedef long long LL;
typedef double db;
const int N=1005;
inline int Pow(int a,int b,int P){
	int c=1;
	for(;b;b>>=1,a=a*1ll*a%P)if(b&1)c=c*1ll*a%P;
	return c;
}
const int P=1000000007;
int comb[N][N];
int Rev(int x){return x?P-x:0;}
int Main(int n,int d){
	int ans=0;int pp=1;
	rep(i,0,n){
		int y=Pow(d,i,P-1)*1ll*Pow(d+1,n-i,P-1)%(P-1);
		y=Pow(2,y,P);
		y=y*1ll*comb[n][i]%P;
		ans=(ans+pp*1ll*y)%P;
		pp=Rev(pp);
	}
	return ans;
}
int main(){
	rep(i,0,1000){
		comb[i][0]=comb[i][i]=1;
		rep(j,1,i-1){
			comb[i][j]=comb[i-1][j-1]+comb[i-1][j];
			if(comb[i][j]>=P)comb[i][j]-=P;
		}
	}
	int T;scanf("%d",&T);
	while(T--){
		int n,d;scanf("%d%d",&n,&d);
		printf("%d\n",(Main(n,d)+Rev(Main(n,d-1)))%P);
	}
	return 0;
}

