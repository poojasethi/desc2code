#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

#define n	1005
#define	mo	1000000007
#define For(i,a,b)	for(int i=a;i<=b;i++)

int		T,N,D,L[n],R[n];

int		Pow(int a,int b,int P){
		int ret=1;
		for (;b;b>>=1,a=1ll*a*a%P)
			if	(b&1)	ret=1ll*ret*a%P;
		return	ret;
}
int		C(int a,int b)	{return	1ll*L[a]*R[b]%mo*R[a-b]%mo;}

int		main(){
		L[0]=1;
		For(i,1,1000)	L[i]=1ll*L[i-1]*i%mo;
		For(i,0,1000)	R[i]=Pow(L[i],mo-2,mo);

		scanf("%d",&T);
		for (;T--;)	{
			scanf("%d%d",&N,&D);	int Ans=0;
			For(i,0,N)	{
				int S=1ll*Pow(D+1,N-i,mo-1)*Pow(D,i,mo-1)%(mo-1);
				Ans=(1ll*Pow(-1,i,mo)*C(N,N-i)*(Pow(2,S,mo)-1ll*Pow(D+1,N-i,mo)*Pow(D,i,mo)%mo-1)+Ans)%mo;
			}	D--;
			For(i,0,N)	{
				int S=1ll*Pow(D+1,N-i,mo-1)*Pow(D,i,mo-1)%(mo-1);
				Ans=(-1ll*Pow(-1,i,mo)*C(N,N-i)*(Pow(2,S,mo)-1ll*Pow(D+1,N-i,mo)*Pow(D,i,mo)%mo-1)+Ans)%mo;
			}
			printf("%d\n",(Ans+mo)%mo);
		}
}