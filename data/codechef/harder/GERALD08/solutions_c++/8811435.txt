#include<cstdio>
#include<algorithm>
#include<cstring>
#include<iostream>
#include<cstdlib>
#include<cmath>
#include<vector>
#include<map>
#include<set>
#include<queue>
#include<bitset>
using namespace std;
typedef long long ll;
typedef double db;
const db pi=acos(-1);
void gn(int &x){
	int sg=1;char c;while(((c=getchar())<'0'||c>'9')&&c!='-');
	if(c=='-')sg=-1,x=0;else x=c-'0';
	while((c=getchar())>='0'&&c<='9')x=x*10+c-'0';
	x*=sg;
}
void gn(ll &x){
	int sg=1;char c;while(((c=getchar())<'0'||c>'9')&&c!='-');
	if(c=='-')sg=-1,x=0;else x=c-'0';
	while((c=getchar())>='0'&&c<='9')x=x*10+c-'0';
	x*=sg;
}
const int mo=1000000007;
const int inf=1061109567;
//const ll inf=1000000000000000000ll;
int qp(int a,ll b){int ans=1;do{if(b&1)ans=1ll*ans*a%mo;a=1ll*a*a%mo;}while(b>>=1);return ans;}
int gcd(int a,int b){return b?gcd(b,a%b):a;}
int dx[4]={1,0,-1,0};
int dy[4]={0,1,0,-1};
#define x1 x192837465
#define x2 x123456789
#define y1 y192837465
#define y2 y123456789
struct edge{
	int v,next,w;
}e[222222];int g[111111];int etot;
void ae(int u,int v,int w){
	e[etot].v=v;e[etot].w=w;e[etot].next=g[u];g[u]=etot++;
}
int n;
struct val{
	int i,w;
	set<int>se;
}a[222222];

void ad(int x,int y){
	if(a[y].se.size()>a[x].se.size()){
		a[x].se.swap(a[y].se);
		swap(a[x].i,a[y].i);
		swap(a[x].w,a[y].w);
	}
	a[x].i+=a[y].i;
	for (set<int>::iterator it=a[y].se.begin();it!=a[y].se.end();it++){
		int d=*it;
		int tmp=a[y].w-a[x].w+d;
		while(a[x].se.find(tmp)!=a[x].se.end()  && d+a[y].w<0)a[x].se.erase(tmp),d++,tmp++;
		if(d+a[y].w==0)a[x].i++;
		else a[x].se.insert(tmp);
	}
}
void sr(int x,int k){
	for (int i=0;i<k;i++){
		if(a[x].i&1)a[x].se.insert(i-a[x].w);
		a[x].i>>=1;
	}
	a[x].w-=k;
}
void ad0(int u){
	int del=1-a[u].i;
	if(a[u].se.empty())del++;
	del=max(del,1);
	a[u].i+=del;
	sr(u,del-1);
}
void ad1(int u){
	int del=a[u].i+2;
	del=max(del,1);
	a[u].i-=del;
	sr(u,del-1);
}
void dfs(int u,int pr){
	for (int i=g[u];~i;i=e[i].next)if(e[i].v!=pr){
		dfs(e[i].v,u);
		if(e[i].w==0)ad0(e[i].v);
		else ad1(e[i].v);
		ad(u,e[i].v);
	}
}
int main()
{
	int tes;
	gn(tes);
	while(tes--){
		gn(n);
		for (int i=1;i<=n;i++)g[i]=-1;
		for (int i=1;i<=n;i++){
			a[i].se.clear();
			a[i].i=a[i].w=0;
		}
		etot=0;
		for (int i=1;i<n;i++){
			int u,v,w;
			gn(u);gn(v);gn(w);
			ae(u,v,w);
			ae(v,u,w);
		}
		dfs(1,0);
		if(a[1].i==0 && a[1].se.empty()){
			printf("Ksen Chef\n");
		}else if(a[1].i>=0){
			printf("Chef Chef\n");
		}else printf("Ksen Ksen\n");
	}
	return 0;
}
