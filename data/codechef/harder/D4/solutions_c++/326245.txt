#include<stdio.h>

#define inf 100
#define MAXN 10000000

typedef  long long   LL;
//typedef __int64 LL;


int A[MAXN],B[MAXN];
int C[MAXN+1];

void sieve()
{
	int i,j;
	for(i=3;i<MAXN;i+=2)
	{
		if(A[i]) continue;
			
		for(j=i;j<MAXN;j+=2*i) A[j]++;

		if(i<3163)
		{
			int b=i*i;
			for(j=b;j<MAXN;j+=b) B[j]++;
		}

		if(i<216)
		{
			int c=i*i*i;
			for(j=c;j<MAXN;j+=c) B[j]=inf;
		}
		
	}

	for(i=2;i<MAXN;i+=2)
	{
		if(i%4==0)
		{
			A[i]=A[i/2];
			B[i]++;
			if(i%8==0) B[i]=inf;
		}
		else
			A[i]=A[i/2]+1;

		
		C[i]=C[i-1];

		if(B[i]==0)
			C[i]+=(A[i]%2 ? +A[i] : -A[i]);
		else if(B[i]==1)
			C[i]+=(A[i]%2 ? -1 : +1);

	
		C[i+1]=C[i];

		if(B[i+1]==0)
			C[i+1]+=(A[i+1]%2 ? +A[i+1] : -A[i+1]);
		else if(B[i+1]==1)
			C[i+1]+=(A[i+1]%2 ? -1 : +1);

	}
}



int main()
{
	int i,j,k,tests,cs=0,n,a,b;

	sieve();
	scanf("%d",&tests);

	while(tests--)
	{
		scanf("%d%d",&a,&b);
		LL ans=0;

		if(a>b) k=a,a=b,b=k;

		int j1,j2;
		for(i=2;i<=a;i=j1+1)
		{
			
			k=b/i;
			j1=b/k;
			
			k=a/i;
	
			if(k!=a/j1)
			{
				j2 = a/k;

				ans+=(LL)(C[j2]-C[i-1])* (a/i) * (b/i);
				ans+=(LL)(C[j1]-C[j2]) *(a/j1) * (b/i);

			}
			else
				ans+=(LL)(C[j1]-C[i-1])*(a/i)*(b/i);


			//j=j1<j2 ? j1 : j2;
			
		}
		printf("%lld\n",ans);
	}
	return 0;
} 


