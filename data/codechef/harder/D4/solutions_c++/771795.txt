/*
 * File: d4.cpp
 * Author: wym510 
 * Email: <wym6110@gmail.com>
 * Create Date: 2011-12-28 14:09:46
*/
#include <bitset>
#include <vector>
#include <string>
#include <map>
#include <set>
#include <list>
#include <cmath>
#include <ctime>
#include <cstdio>
#include <iostream>
#include <fstream>
#include <sstream>
#include <queue>
#include <deque>
#include <stack>
#include <cstdlib>
#include <algorithm>
#include <cstring>
#define S size()
#define B begin()
#define E end()
#define P push_back
#define fu(i,a,b) for(int i=a;i<b;++i)
#define fd(i,a,b) for(int i=b-1;i>=a;--i)
typedef long long int64;
using namespace std;

const int MaxN=10000100;

bitset <MaxN> vis;
int f[MaxN],N=(int)1e7+2;
int num[MaxN>>3],tot=0;

void calc(int now,int last,int one,bool two)
{
	f[now]=two?((one&1)?1:-1):((one&1)?one:-one);
	if(last && !two && N>=(int64)now*(int64)num[last-1]) calc(now*num[last-1],last,1+one,true);
	for(;last<tot && (int64)now*(int64)num[last]<=N;last++)
		calc(now*num[last],last+1,one+1,two);
}

void pre()
{
	vis.reset();
	for(int i=2;i<=N;i++)
	{
		if(!vis[i]) 
		{
			num[tot++]=i;
			f[i]=1;
		}
		
		for(int j=0;j<tot;j++)
		{
			if(i*num[j]>N) break;
			vis[i*num[j]]=1;
			if(i%num[j]==0) break;
		}
	}
	calc(1,0,0,false);
	for(int i=1;i<=N;i++) f[i]+=f[i-1];
	for(int i=N+1;i>0;i--) f[i]=f[i-1];
}

int main()
{
	int test;

	pre();cin>>test;
	for(int num=0;num<test;num++)
	{
		int a,b,c,d,next;
		int64 ans=0;

		cin>>a>>b;
		if(a>b) swap(a,b);
		for(int r=1;r<=a;r=next)
		{
			c=a/r;d=b/r;
			next=min(a/c,b/d)+1;
			ans+=(int64)(f[next]-f[r])*(int64)c*(int64)d;
		}
		cout<<ans<<endl;
	}

	return 0;
}

/* vim: set ts=4 sw=4: */

