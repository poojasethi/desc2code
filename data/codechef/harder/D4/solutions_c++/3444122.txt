#include <iostream>
#include <queue>
#include <cstdio>
#include <cstring>
#include <map>
#include <vector>
#include <list>
#include <sstream>
#include <cmath>
#include <algorithm>
 
using namespace std;
 
#define sz(a) ((int)a.size())
#define cl clear()
#define pb push_back
#define mp make_pair
#define x first
#define y second
#define all(a) a.begin(), a.end()
#define sqr(a) ((a) * (a))
#define PI 3.1415926535897932384626433832795
 
typedef long long ll;
typedef unsigned long long ull;
typedef pair <int, int> pii;
//#define inf 1000000007
const ll inf=100000000000007LL;
#define N 10000010
const ll mod=1000000007LL;
int p[N],q[N],m,f[N];
void mobi(int s,int x,int one,bool two)
{
	f[s]=two?((one&1)?-1:1):((one&1)?one:-one);
	int limit=N/s;
	int p=q[x];
	if(!two&&p<=limit)
	mobi(s*p,x,one,1);
	for(x++,one++;(p=q[x])<=limit;x++)
	mobi(s*p,x,one,two);
}
int main()
{
    int i,j,T,ca=0,k,n;m=1;
	for(i=2;i<N;i++)
	{
		if(!p[i])q[m++]=i;
		for(j=1;j<m;j++)
		{
			if(q[j]>N/i)break;
			p[i*q[j]]=1;
			if(i%q[j]==0)break;
		}
	}
	q[0]=q[m++]=1<<30;
	mobi(1,0,0,0);
	f[0]=0;
	for(i=1;i<N;i++)f[i]+=f[i-1];
	scanf("%d",&T);
	while(T--)
	{
		int a,b;ll ans=0;
		scanf("%d%d",&a,&b);
		if(a>b)swap(a,b);
		int res=0;
		for(i=1;i<=a;i=j)
		{
			int x=a/i,y=b/i;
			j=min(a/x,b/y)+1;
			ans+=1LL*(f[j-1]-f[i-1])*x*y;
		}
		printf("%lld\n",ans);
	}
    return 0;
} 