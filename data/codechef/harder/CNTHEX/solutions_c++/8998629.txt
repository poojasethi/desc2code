#include <ctime>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

#define n	35
#define P	1000000007
#define For(i,a,b)	for(register int i=a;i<=b;i++)

int		U,A[n],B[n],C[n],L[n],R[n],F[n][2][5][n][6];
int		T[2][n][6],C_[2][n][6][n],D_[2][n][6][n],E_[2][n][6][n];

inline	void	Plu(int&a,int b)	{
		a+=b;	if	(a>=P)	a-=P;
}

void	Pre(){
		For(r,0,1)	For(d,0,U)	For(e,0,5){
			int t=0;	A[0]=++t;
			For(i,1,5)	{
				if	((1<<i-1)&d)	t++;	A[i]=t;
			}

			For(s,0,U)	{
				t=s;
				For(i,0,5)	if	(i==e)	B[i]=r;
					else	B[i]=t&1,t>>=1;
				For(i,1,5)	if	(e!=i-1&&e!=i&&A[i-1]==A[i]&&B[i-1]<B[i])	t=1;
				if	(t)	continue;

				t=0;
				For(i,0,5)	if	(B[i])	C[t++]=i;
				For(i,0,5)	if	(!B[i])	C[t++]=i;

				int	b_=0,c_=0,d_=0,e_=0;
				For(i,1,5)	d_|=(1<<i-1)*(B[C[i-1]]>B[C[i]]||B[C[i]]==B[C[i-1]]&&A[C[i-1]]<A[C[i]]);
				For(i,0,5)	if	(C[i]==e)	e_=i;
				For(i,0,5)	if	(C[i]!=e)	c_+=B[C[i]];

				T[r][d][e]++;
				C_[r][d][e][T[r][d][e]]=c_;
				D_[r][d][e][T[r][d][e]]=d_;
				E_[r][d][e][T[r][d][e]]=e_;
			}
		}
}

int		Work(int S,int X,int K){
		For(i,1,U)	L[i]=S&1,S>>=1;
		For(i,1,U)	R[i]=X&1,X>>=1;

		For(a,0,U)	For(b,0,1)	For(c,0,4)	For(d,0,U)	For(e,0,5)	F[a][b][c][d][e]=0;
		F[0][1][0][0][0]=1;

		For(a,1,U)	For(b,0,1)	For(c,0,4)	For(d,0,U)	For(e,0,5)
		if	(F[a-1][b][c][d][e]){
			int r=R[a];
			For(k,1,T[r][d][e]){
				int	c_=C_[r][d][e][k]+c,d_=D_[r][d][e][k],e_=E_[r][d][e][k];
				int	t=c_&1,b_=(t>L[a]||t==L[a]&&b);	c_>>=1;
				Plu(F[a][b_][c_][d_][e_],F[a-1][b][c][d][e]);
			}
		}

		int	ret=0;
		For(b,0,1)	For(c,0,4)	if	(b||c)
		For(d,0,U)	For(e,0,5)	if	(!e)
		if	(F[U][b][c][d][e])	{
			int t=0;	A[0]=++t;
			For(i,1,6)	B[i]=0;

			For(i,1,5)	{
				if	((1<<i-1)&d)	t++;	A[i]=t;
			}	t=0;
			For(i,0,5)	if	(i!=e)	B[A[i]]++,t=max(t,B[A[i]]);

			if	(t<=K)	Plu(ret,F[U][b][c][d][e]);
		}
		return	ret;
}

int		main(){
		int	N,L,X,K,Ans=0;
		scanf("%d%d%d%d",&N,&L,&X,&K);
		U=(1<<5)-1;	Pre();

		for(;L<=N;L++)	Plu(Ans,Work(max(0,L-4),X-1,K));
		printf("%d\n",Ans);	
}