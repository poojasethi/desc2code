#include <cstdio>
using namespace std;

#define n	100005
#define For(i,a,b)	for(int i=a;i<=b;i++)
#define Rep(i,a,b)	for(int i=a;i>=b;i--)

#define CH	(ch=getchar())
int		IN(){
		int x=0,ch;
		for	(;CH<'0'||ch>'9';);
		for	(;ch>='0'&&ch<='9';CH)	(x*=10)+=ch-'0';
		return	x;
}

int		T,N,A[n],B[n];

inline	int	Mod(int x)	{return	x>=4?x-4:x;}

int		main(){
		for	(T=IN();T--;){
			N=IN();
			For(i,1,N)	A[i]=IN();
			For(i,1,N)	A[i]=Mod(IN()-A[i]+4);
			Rep(i,N,1)	A[i]-=A[i-1];

			int Ans=0,S1=0,S2=0;
			For(i,1,N)	{
				if	(A[i]>=2)	{
					if	(S1)	A[i]-=4,S1--,Ans++;	else
					if	(S2)	A[i]-=4,S2--,Ans+=2;
				}
				S1+=(A[i]==-3);	S2+=(A[i]==-2);	Ans+=(A[i]>0?A[i]:0);
			}
			printf("%d\n",Ans);
		}
}