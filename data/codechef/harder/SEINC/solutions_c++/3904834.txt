#define _CRT_SECURE_NO_WARNINGS
#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>

using namespace std;

const int MAXN = 100001;

int t, n, x, ans, j;
int a[MAXN], s[4];

int main()
{
	scanf("%d", &t);
	while (t--)
	{
		ans = j = 0;
		s[0] = s[1] = s[2] = s[3] = 0;
		scanf("%d", &n);
		for (int i = 0; i < n; ++i)
			scanf("%d", &a[i]);
		for (int i = 0; i < n; ++i)
			scanf("%d", &x), a[i] = x - a[i] + 4 * (int)(x < a[i]);
		ans = a[0];
		for (int i = 1; i < n; ++i)
		{
			if (a[i] == a[i - 1]) continue;
			++s[a[i] - a[i - 1] + 4 * (a[i] < a[i - 1])];
			if (a[i - 1] >= a[i]) continue;
			for (j = 0; !s[j]; ++j);
			s[j]--;
			ans += j;
		}
		printf("%d\n", ans);
	}
}