    #include<cstring>
    #include<cstdio>
    #include<algorithm>
    #define N 100005
    using namespace std;
    int T,n,ans,a[N],s[N];
    int main() {
    scanf("%d",&T);
    while (T--) {
    scanf("%d",&n);
    for (int i=1;i<=n;++i) scanf("%d",&a[i]);
    for (int i=1;i<=n;++i) {int x;scanf("%d",&x);a[i]=(x+4-a[i])%4;}
    s[0]=s[1]=s[2]=s[3]=0;s[4]=100000000;
    int ans=a[1],now=a[1];
    for (int i=2;i<=n;++i)
    {
    s[(4+a[i]-now-1)%4+1]++;
    if (now<a[i])
    {
    int j=0;
    while (!s[j]) j++;
    s[j]--;ans+=j;now+=4;
    }
    now=a[i];
    }
    printf("%d\n",ans);
    }
    return 0;
    } 

