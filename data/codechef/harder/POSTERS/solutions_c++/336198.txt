#include <cstdlib>
#include <cstdio>
#include <cstring>
using namespace std;
struct Rect {
	int x1,x2,y1,y2;
};

const int maxN=110;
int n;
Rect r[maxN];
bool g[maxN][maxN];
int linky[maxN];
bool v[maxN];
bool aug(int x) {
	if(v[x])
	    return false;
	v[x]=true;
	for(int y=1;y<=n;y++)
	    if(g[x][y]&&(linky[y]==0||aug(linky[y]))) {
			linky[y]=x;
			return true;
		}
	return false;
}
int main() {
	int T;
	for(scanf("%d",&T);T;T--){
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	    scanf("%d%d%d%d",&r[i].x1,&r[i].x2,&r[i].y1,&r[i].y2);

	memset(g,0,sizeof(g));
	for(int i=1;i<=n;i++)
	for(int j=1;j<=n;j++) {
	    g[i][j]=r[i].x1<r[j].x1&&r[j].x2<r[i].x2
	    		&&r[j].y1<r[i].y1&&r[i].y2<r[j].y2;
		//if(g[i][j])
		//    printf("%d => %d\n",i,j);
	}

	int ans=0;
	memset(linky,0,sizeof(linky));
	for(int i=1;i<=n;i++) {
        memset(v,0,sizeof(v));
        if(aug(i))
            ans++;
	}
	printf("%d\n",n-ans);}
	scanf("%*s");
}
