#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
#define N 110
int x0[N],x1[N],y0[N],y1[N],e[N][N];
int b[N],d[N],next,n;
bool inside(int i,int j)
{
 return x0[i]<x0[j]&&x1[i]>x1[j]&&y0[i]>y0[j]&&y1[i]<y1[j];
}
int dfs(int x)
{
 b[x]=next;
 for(int i=0;i<n;i++)
 if(e[x][i]&&(d[i]==-1||(b[d[i]]!=next&&dfs(d[i]))))
 {d[i]=x;return 1;}
 return 0;
}
int main()
{
	//freopen("in.txt","r",stdin);
	int T,i,j,k;
	scanf("%d",&T);
	while(T--)
	{
	 scanf("%d",&n);
	 for(i=0;i<n;i++)scanf("%d%d%d%d",&x0[i],&x1[i],&y0[i],&y1[i]);
	 memset(e,0,sizeof(e));
	 memset(d,-1,sizeof(d));
	 for(i=0;i<n;i++)
	 for(j=0;j<n;j++)
	 if(inside(i,j))e[i][j]=1;
	 int ans=n;
	 for(i=0,next=0;i<n;i++)
	 {
	  next++;
	  ans-=dfs(i);
	 }
	 printf("%d\n",ans);
	}
	return 0;
}
