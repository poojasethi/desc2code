#include <stdio.h>
#include <stdlib.h>
#include <string.h>
using namespace std;

int n,m,i,j,k,l,r,p,u;
int trie[2500005],son[2500005],next[2500005],tot;
int fail[2500005],fa[2500005],q[2500005];
int sum[2500005],ed[505];
char s[50005];

void work()
{
	l=strlen(s+1);
	for(int i=1;i<=l;++i)
	{
		if(s[i]>='A'&&s[i]<='Z')s[i]=s[i]-'A';else
		if(s[i]>='a'&&s[i]<='z')s[i]=s[i]-'a'+26;else
		if(s[i]>='0'&&s[i]<='9')s[i]=s[i]-'0'+52;else
		s[i]=62;
	}
}

int main()
{
	scanf("%d",&n);
	for(i=1;i<=n;++i)
	{
		scanf("%s",s+1);work();p=0;
		for(j=1;j<=l;++j)
		{
			for(k=son[p];k;k=next[k])if(trie[k]==s[j])break;
			if(!k)trie[k=++tot]=s[j],next[k]=son[p],son[p]=k;
			p=k;
		}
		ed[i]=p;
	}
	for(q[l=r=1]=0;l<=r;++l)
	{
		if(fa[u=q[l]])
		{
			for(i=fail[fa[u]];;i=fail[i])
			{
				for(j=son[i];j;j=next[j])if(trie[j]==trie[u])break;
				if(j){fail[u]=j;break;}
				if(!i)break;
			}
		}
		for(i=son[u];i;i=next[i])fa[q[++r]=i]=u;
	}
	scanf("%d",&m);
	for(i=1;i<=m;++i)
	{
		scanf("%s",s+1);work();p=0;
		for(j=1;j<=l;++j)
		{
			for(;;)
			{
				for(k=son[p];k;k=next[k])if(trie[k]==s[j])break;
				if(k||!p)break;
				p=fail[p];
			}
			++sum[p=k];
		}
	}
	for(i=0;i<=tot;++i)son[i]=0;
	for(i=1;i<=tot;++i)k=fail[i],next[i]=son[k],son[k]=i;
	for(i=tot;i>=1;--i)
	for(j=son[u=q[i]];j;j=next[j])
	sum[u]+=sum[j];
	for(i=1;i<=n;++i)printf("%d\n",sum[ed[i]]);
}