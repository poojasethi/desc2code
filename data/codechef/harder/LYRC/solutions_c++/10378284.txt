#include <iostream>
#include <cstring>
#include <cmath>
#include <cstdio>
#include <algorithm>
using namespace std;
#define N 2500050
#define M 66
int sg[M*5],go[N][M],fail[N],val[N],fa[N],Cnt[N],qu[N],li[N];
int len,n,m,st;char ch[N];
int Insert()
 {
 	int Now=true;
 	for (int i=1;i<=len;i++)
 	 {
 	 	int e=sg[ch[i]],k=go[Now][e];
 	 	if (!k)
 	 	  k=++st,go[Now][e]=st,fa[st]=Now,val[st]=e;
 	 	Now=k;
 	 }
 	return Now;
 }
void Set_up()
 {
 	int le=true,ri=true;li[1]=true;
 	for (;le<=ri;le++)
 	 for (int i=1;i<M;i++)
 	  if (go[li[le]][i]) li[++ri]=go[li[le]][i];
 	for (int i=2;i<=ri;i++)
 	 {
 	 	fail[li[i]]=fail[fa[li[i]]];
 	 	while (fail[li[i]]&&!go[fail[li[i]]][val[li[i]]])
 	 	  fail[li[i]]=fail[fail[li[i]]];
 	 	int k=go[fail[li[i]]][val[li[i]]];
 	 	if (k&&k!=li[i]) fail[li[i]]=k; else fail[li[i]]=true;
 	 }
 }
void Solve()
 {
 	for (int i=st;i-1;i--)
 	  Cnt[fail[li[i]]]+=Cnt[li[i]];
 	return;
 }
void Run()
 {
 	int Now = true;
 	for (int i=1;i<=len;i++)
 	 {
 	 	while (Now!=1&&!go[Now][sg[ch[i]]])
 	 	  Now=fail[Now];
 	 	if (go[Now][sg[ch[i]]])
 	 	  Now=go[Now][sg[ch[i]]];
 	 	Cnt[Now]++;
 	 }
 }
int main()
 {
 	//freopen("input.txt","r",stdin);
 	cin >>n;
 	for (int i='0';i<='9';i++) sg[i]=++st;
 	for (int i='a';i<='z';i++) sg[i]=++st;
 	for (int i='A';i<='Z';i++) sg[i]=++st;
 	sg['-']=++st;st=true;
 	for (int i=1;i<=n;i++)
 	 {
 	 	scanf("%s",ch+1);len=strlen(ch+1);
 	 	qu[i]=Insert();
 	 }
 	Set_up();cin >>m;
 	while (m--)
 	 {
 	 	scanf("%s",ch+1);len=strlen(ch+1);
 	 	Run();
 	 }
 	Solve();
 	for (int i=1;i<=n;i++) printf("%d\n",Cnt[qu[i]]);
 	return 0;
 }