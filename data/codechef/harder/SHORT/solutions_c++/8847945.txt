#include <cstdio>
#include <cmath>
#include <algorithm>
#include <memory.h>
#define rep(i,x,y) for(int i=x;i<=y;i++)
#define REP(i,x,y) for(int i=x;i>=y;i--)
using namespace std;
typedef long long ll;
int fk[100],ans[100],prime[400000],sm[400000],perh[100],p[100],q[100],nf,nd;
ll ds[400000];
bool isprime[400000];
void doit(int k,ll o)
{
	if(k>nf)
	{
		ds[++nd]=o;
		return;
	}
	rep(i,0,q[k])
	{
		doit(k+1,o);
		o*=p[k];
	}
	return;
}
int main()
{
	rep(i,1,400000)
		isprime[i]=1;
	int np=0;
	rep(i,2,400000)
	{
		if(isprime[i])
		{
			prime[++np]=i;
			sm[i]=i;
		}
		rep(j,1,np)
		{
			if(i*prime[j]>400000)break;
			isprime[i*prime[j]]=0;
			sm[i*prime[j]]=prime[j];
			if(i%prime[j]==0)break;
		}
	}
	int T;
	scanf("%d",&T);
	while(T--)
	{
		int n;
		ll k;
		scanf("%d %lld",&n,&k);
		if(n==0)
		{
			k--;
			if(k==0)
			{
				printf("0\n");
				continue;
			}
			int kl=0;
			while(k>0)
			{
				fk[kl]=k%10;
				k/=10;
				kl++;
			}
			kl--;
			rep(i,0,kl*2+1)
				ans[i]=0;
			rep(i,0,kl)
				rep(j,0,kl)
					ans[i+j]+=fk[i]*fk[j];
			rep(i,0,kl*2+1)
			{
				ans[i+1]+=ans[i]/10;
				ans[i]%=10;
			}
			REP(i,kl*2+1,0)
				if(ans[i]!=0)
				{
					REP(j,i,0)
						printf("%d",ans[j]);
					putchar('\n');
					break;
				}
			continue;
		}
		int start=0,now=n;
		while(now>1)
		{
			perh[++start]=sm[now];
			now/=sm[now];
		}
		ll as=0;
		rep(a,n+1,floor((double)n*3.5))
		{
			if(a>=k)break;
			ll tem=1ll*n*(a-1);
			if(a-n<6000)
			{
				int npe=start;
				now=a-1;
				while(now>1)
				{
					perh[++npe]=sm[now];
					now/=sm[now];
				}
				ll num=tem;
				nf=0;
				rep(i,1,npe)
					if(num%perh[i]==0)
					{
						p[++nf]=perh[i];
						q[nf]=0;
						while(num%perh[i]==0)
						{
							q[nf]++;
							num/=perh[i];
						}
					}
				nd=0;
				doit(1,1);
				rep(i,1,nd)
					if((ds[i]+a)%(a-n)==0)
					{
						as+=2;
						ll b=n+tem/ds[i];
						if(b<=a||b>=k)as--;
						if(b<a||b>=k)as--;
					}
			}
			else
			{
				rep(p,a/(a-n)+1,(1ll*a*a-n)/(1ll*(a-n)*(a-n)))
					if(tem%(1ll*p*(a-n)-a)==0)
					{
						as+=2;
						ll b=n+tem/(1ll*p*(a-n)-a);
						if(b<=a||b>=k)as--;
						if(b<a||b>=k)as--;
					}
			}
		}
		printf("%lld\n",as);
	}
	return 0;
}