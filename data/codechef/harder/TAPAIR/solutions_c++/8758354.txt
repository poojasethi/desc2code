#include<cstdio>
#include<cstring>
#include<algorithm>
#include<set>
#include<ctime>
#include<cstdlib>
#include<map>
#include<vector>
#define rep(i,j,k) for(int i=(int)j;i<=(int)k;i++)
#define per(i,j,k) for(int i=(int)j;i>=(int)k;i--)
using namespace std;
typedef long long LL;
typedef double db;
const int N=310000;
unsigned long long val[N];
inline void read(int &x){
	x=0;char p=getchar();
	while(!(p<='9'&&p>='0'))p=getchar();
	while(p<='9'&&p>='0')x*=10,x+=p-48,p=getchar();
}
int x[N],y[N];
bool is[N];
int head[N<<1],p[N<<1],np[N<<1],id[N<<1],tot;
int n,m;
int fa[N];
int tofa[N];
bool vis[N];
void dfs(int x){
	vis[x]=1;
	for(int u=head[x];u;u=np[u])if(!vis[p[u]]){
		tofa[p[u]]=id[u];fa[p[u]]=x;
		is[id[u]]=1;dfs(p[u]);
	}
}
unsigned long long gt[N];
void d__(int x){
	for(int u=head[x];u;u=np[u])if(fa[p[u]]==x){
		d__(p[u]);
		gt[x]^=gt[p[u]];
		val[tofa[p[u]]]^=gt[p[u]];
	}
}
map<unsigned long long,int>aa;
int main(){
	read(n);read(m);
	rep(i,1,m){
		read(x[i]);read(y[i]);
		++tot;p[tot]=y[i];np[tot]=head[x[i]];head[x[i]]=tot;id[tot]=i;
		++tot;p[tot]=x[i];np[tot]=head[y[i]];head[y[i]]=tot;id[tot]=i;
	}
	dfs(1);
	rep(i,1,m)if(!is[i]){
		int up=(int)1e9;
		val[i]=rand()*1ll*rand()%(up)+1;
		val[i]*=up;
		val[i]+=rand()*1ll*rand()%(up)+1;
		gt[x[i]]^=val[i];
		gt[y[i]]^=val[i];
	}
	d__(1);
	sort(val+1,val+1+m);
	LL ans=0;
	int cnt0=0;
	for(int i=1;i<=m;i++){
		int j=i;
		while(j<m&&val[j+1]==val[i])j++;
		if(val[i]==0)cnt0+=j-i+1;
		ans+=(j-i+1)*1ll*(j-i)/2;
		i=j;
	}
	ans+=cnt0*1ll*(m-cnt0);
	printf("%lld\n",ans);
	return 0;
}




