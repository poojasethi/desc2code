#include <iostream>
#include <cstring>
#include <cstdio>
#include <algorithm>
#include <vector>
#include <cmath>
#include <queue>
#include <map>
#include <set>
using namespace std;

#define Rep(i,n) for(int i=0;i<n;++i)
#define For(i,a,b) for(int i=(a);i<=(b);++i)
#define Ford(i,a,b) for(int i=(a);i>=(b);--i)
#define fi first
#define se second
#define pb push_back
#define MP make_pair

typedef long long LL;
typedef vector<int> VI;
typedef pair<int,int> PII;

int n;
int C[1010][1010];
long long F[1010][1010];

long long solve(int i, int j) {
	if(i == n-1 || j == n-1) {
		// di tu i den j
		return C[n-1-i][j];
	}
	long long &ret = F[i][j];
	if(ret != -1) return ret;
	ret = 1000000000000000000LL;
	int t = max(i,j)+1;
	// di tu i den t
	ret = min( ret, solve( t, j) + C[n-1-i][t]);
	// di tu t den j
	ret = min( ret, solve( i, t) + C[n-1-t][j]);
	return ret;
}

int main() {
	int ntest;
	scanf("%d", &ntest);
	Rep(test,ntest) {
		int k;
		scanf("%d%d", &n, &k);
		Rep(i,n)Rep(j,n)C[i][j]=0;
		Rep(i,k) {
			int x, y;
			scanf("%d%d", &x, &y);
			C[n-1-x][y]++;
		}
		Rep(i,n)Rep(j,n) {
			C[i][j] += (i==0?0:C[i-1][j]) + (j==0?0:C[i][j-1]) - ((i==0||j==0)?0:C[i-1][j-1]);
		}
		memset(F,-1,sizeof(F));
		long long res = solve( 0, 0);
		cout << res << endl;
	}
	return 0;
}

