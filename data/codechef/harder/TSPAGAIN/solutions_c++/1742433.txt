#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
const int oo=1073741819;
using namespace std;
int ev[1010][1010],f[1010][1010],i,j,ans[1010][1010],n,k,x,y,v[1010],t,sum;
void init()
{
  scanf("%d%d\n",&n,&k);
  memset(ev,0,sizeof(ev));
  for (i=1;i<=k;i++) {
    scanf("%d%d\n",&x,&y);x++,y++;
    for (j=1;j<=x;j++) ev[j][y]++;
  }
  memset(f,0,sizeof(f));
  for (i=1;i<=n;i++) {
    f[i][0]=ev[i][0];
    for (j=1;j<=n;j++) {
      f[i][j]=f[i][j-1]+ev[i][j];
      //           printf("%d ",f[i][j]);
    }
       // printf("\n");
  }
  //  memset(l,0,sizeof(l));memset(r,0,sizeof(r));
  memset(ans,127,sizeof(ans));
  ans[1][1]=0;
  for (i=1;i<=n;i++) 
    for (j=0;j<=i-1;j++) {
      ans[i][j]=min(ans[i][j],ans[i-1][j]+f[i-1][i]);
      ans[j][i]=min(ans[j][i],ans[j][i-1]+f[i][i-1]);
      ans[i][i-1]=min(ans[i][i-1],ans[j][i-1]+f[j][i]);
      ans[i-1][i]=min(ans[i-1][i],ans[i-1][j]+f[i][j]);
    }
  sum=min(ans[n][0]+f[n][1],ans[0][n]+f[1][n]);
  for (i=1;i<=n-1;i++) {
    sum=min(sum,ans[n][i]+f[n][i]);
    sum=min(sum,ans[i][n]+f[i][n]);
  }
  printf("%d\n",sum);
}
int main()
{
  scanf("%d\n",&t);
  for (;t;t--) init();
  return 0;
}
