#include <cstdio>
#include<iostream>
#include <cstring>
#include <queue>
#include<vector>
#include <algorithm>
#include <limits>
using namespace std;
#define pb push_back
#define mp make_pair
#define all(x) x.begin(),x.end()
#define x first
#define y second
#define ll long long
#define mod 1000000007
#define N 2050
int dp[N][N][2],last[26],pre[N][26],next[N][26],lo[N],hi[N];
char s[N],ans[N];
int main()
{
	int T,i,j,ca=0,n,k,p;
	scanf("%d",&T);
	while(T--)
	{
		scanf("%s",s);
		n=strlen(s);
		memset(last,-1,sizeof(last));
		for(i=0;i<n;i++)
		{
			dp[i][i][0]=dp[i][i][1]=1;
			last[s[i]-'a']=i;
			for(j=0;j<26;j++)pre[i][j]=last[j];
		}
		memset(last,-1,sizeof(last));
		for(i=n-1;i>=0;i--)
		{
			last[s[i]-'a']=i;
			for(j=0;j<26;j++)next[i][j]=last[j];
		}
		for(k=2;k<=n;k++)
		for(i=0;i+k-1<n;i++)
		{
			j=i+k-1;
			dp[i][j][0]=max(dp[i+1][j][0],dp[i][j-1][0]);
			dp[i][j][1]=max(dp[i+1][j][1],dp[i][j-1][1]);
			if(s[i]<s[j])
			dp[i][j][0]=max(dp[i][j][0],2+dp[i+1][j-1][1]);
			if(s[i]>s[j])
			dp[i][j][1]=max(dp[i][j][1],2+dp[i+1][j-1][0]);
		}
		int best=dp[0][n-1][0];
		int a=0,b=n-1;
		for(p=0,i=0;i<best/2;i++,p^=1)
		{
			lo[i]=a,hi[i]=b;
			int now=dp[a][b][p];
			for(j=0;j<26;j++)
			{
				int x=next[a][j];
				if(x<0||x>b)continue;
				int y=-1,yy=-1;
				for(k=1;k<=25;k++)
				{
					if((p&&j-k<0)||(!p&&j+k>25))break;
					if(p)yy=pre[b][j-k];else yy=pre[b][j+k];
					if(yy<x+1||dp[x+1][yy-1][p^1]!=now-2)continue;
					y=max(y,yy);
				}
				if(y<0)continue;
				ans[i]=j+'a';
				a=x+1,b=y-1;
				break;
			}
		}
		if(best%2)
		{
			for(j=0;j<26;j++)
			{
				int x=next[a][j];
				if(x<0||x>b)continue;
				a=x+1;
				ans[i++]=j+'a';
				break;
			}
		}
		for(p^=1,b=a;i<best;p^=1,i++)
		{
			int ii=best-i-1,d=ans[ii]-'a';
			int aa=lo[ii],bb=hi[ii],now=dp[aa][bb][p];
			for(j=0;j<26;j++)
			{
				int y=next[b][j];
				if(y<aa||y>bb)continue;
				if((p&&d<=j)||(!p&&d>=j)||dp[aa][y][p]!=now)continue;
				b=y+1;
				ans[i]=j+'a';
				break;
			}
		}
		ans[i]=0;
		puts(ans);
	}
	return 0;
} 
 