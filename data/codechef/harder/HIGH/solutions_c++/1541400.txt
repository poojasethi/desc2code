#include<cstdio>
#include<cstring>
long long T,N,M,X,Y,i,j,k,tmp,f;
long long d[20][20];
long long Ans;
int main()
{
	for(scanf("%lld",&T);T--;)
	{
		scanf("%lld%lld",&N,&M);
		memset(d,0,sizeof(d));
		for(i=1;i<=M;++i)
		{
			scanf("%lld%lld",&X,&Y);
			--X,--Y;
			++d[X][X],++d[Y][Y];
			--d[X][Y],--d[Y][X];
		}
		Ans=1;
		for(i=1;i<N;++i)
		{
			
			if(d[i][i]==0)
				for(j=i+1;j<N;++j)
					if(d[j][i]!=0)
					{
						Ans=-Ans;
						for(k=i;k<N;++k) tmp=d[i][k],d[i][k]=d[j][k],d[j][k]=tmp;
						break;
					}
			if(d[i][i]==0)
			{
				Ans=0;
				break;
			}
			for(j=i;j<N;++j)
				if(d[j][i]<0)
				{
					Ans=-Ans;
					for(k=i;k<N;++k) d[j][k]=-d[j][k];
				}
			f=1;
			for(;f;)
			{
				for(j=i+1;j<N;++j)
					if(d[j][i]!=0&&d[j][i]<d[i][i])
					{
						Ans=-Ans;
						for(k=i;k<N;++k) tmp=d[i][k],d[i][k]=d[j][k],d[j][k]=tmp;
						break;
					}
				f=0;
				for(j=i+1;j<N;++j)
					if(d[j][i]!=0)
					{
						tmp=d[j][i]/d[i][i];
						for(k=i;k<N;++k) d[j][k]=d[j][k]-d[i][k]*tmp;
						f=1;
					}
			}
			Ans*=d[i][i];
		}
		if(Ans<0) Ans=-Ans;
		printf("%lld\n",Ans);
	}
	return 0;
}
