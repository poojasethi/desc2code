#!/usr/bin/python
#Filename: happy.py

def getInt():
	while True:
		s=raw_input().strip()
		if(s!=""): return int(s)

def getString():
	while True:
		s = raw_input()
		if(s!=""): return s

def det(A,n):
	r=1
	for i in range(n):
		for j in range(i+1,n):
			 while(A[j][i]!=0):  # non-zero, swap with row i :)
				 f = A[i][i]/A[j][i]
				 for k in range(i,n):
					 A[i][k] = A[i][k] - A[j][k]*f
				 for k in range(i,n):
					 t = A[i][k]
					 A[i][k] = A[j][k]
					 A[j][k] = t
		r = r * A[i][i]
	return abs(r)


kases = getInt()
for kase in range(kases):
	G = []

	sa = getString().split()
	n = int(sa[0])
	m = int(sa[1])
	
	A = []
	for i in range(n):
		t = []
		for j in range(n):
			t.append(0)
		A.append(t)

	for i in range(m):
		sa = getString().split()
		a = int(sa[0])-1
		b = int(sa[1])-1
		if(a!=b):
			A[a][b]-=1
			A[b][a]-=1
			A[a][a]+=1
			A[b][b]+=1

	if(n==1): print "1"
	else:
		print det(A,n-1)		
