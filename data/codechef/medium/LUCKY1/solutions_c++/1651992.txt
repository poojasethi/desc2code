//author - techaddict
#include <iostream>
#include <sstream>
#include <string>
#include <vector>
#include <deque>
#include <queue>
#include <set>
#include <map>
#include <algorithm>
#include <functional>
#include <utility>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <cstdio>
using namespace std;

int GetInt(){
	char c;int X=0;while(c=getchar(),c<'0'||c>'9');
	while(c>='0'&&c<='9'){X=X*10+c-48;c=getchar();}
	return X;
}

void PutInt(int X){
	int Len=0,Data[10];
	while(X){Data[Len++]=X%10;X/=10;}
	while(Len--)putchar(Data[Len]+48);
}

int diff[1000010],result[100010];
int occ(int n, int dig){
	int ret=0;
	while(n>0){
		if(n%10==dig)ret++;
		n/=10;
	}
	return ret;
}

void pre(){
	int sum4,sum7,sumprev4=0,sumprev7=0;
	for(int i=0;i<=100000;i++){
		sum4=sumprev4+occ(i,4);
		sum7=sumprev7+occ(i,7);
		result[i]=result[i-1]+diff[sum4-sum7];
		diff[sum4-sum7]++;
		sumprev7=sum7;sumprev4=sum4;
	}
}

int main(){
	#ifndef ONLINE_JUDGE
		freopen("input", "r", stdin);
		freopen("output", "w", stdout);
	#endif
	pre();
	int t,a,b,c,d,n,m,x,y;
	t=GetInt();
	while(t--){
		n=GetInt();
		PutInt(result[n]);putchar('\n');
	}
}