#include <algorithm>
#include <cstring>
#include <map>
#include <set>
#include <vector>
#include <queue>
#include <iostream>
#include <cmath>
using namespace std;

int count4[100001],count7[100001];
long long query[100001],C[100001];

void precompute()
{
    for(int i=1;i<=100000;i++)
    {
        count4[i]=count4[i/10];
        if((i%10)==4) count4[i]++;
        count7[i]=count7[i/10];
        if((i%10)==7) count7[i]++;
    }
    int cnt4=0,cnt7=0;
    C[0]=1;
    for(int i=1;i<=100000;i++)
    {
        cnt4+=count4[i];
        cnt7+=count7[i];
        query[i]=query[i-1];
        query[i]+=C[cnt4-cnt7];
        C[cnt4-cnt7]++;
    }
}

int main()
{
    int t,n;
    precompute();
    cin>>t;
    while(t--)
    {
        cin>>n;
        cout<<query[n]<<"\n";
    }
    return 0;
}
