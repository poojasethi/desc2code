#include <cstdio>

#define size 100001

int numOf4[size], numOf7[size], numOfDiff[size], ans[size];

int main()
{
    //preprocess
    int diff = 0;
    numOfDiff[0] = 1;
    for(int i=1; i<size; i++) {
        numOf4[i] = numOf4[i/10] + (i%10 == 4);
        numOf7[i] = numOf7[i/10] + (i%10 == 7);
        diff += numOf4[i] - numOf7[i];
        ans[i] = ans[i-1] + numOfDiff[diff];
        numOfDiff[diff]++;
    }

    //queries
    int t;
    scanf("%d", &t);
    while(t--) {
        int n;
        scanf("%d", &n);
        printf("%d\n", ans[n]);
    }
}
