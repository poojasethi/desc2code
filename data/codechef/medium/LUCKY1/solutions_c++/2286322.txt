#include<iostream>
#include<cstdlib>
 
using namespace std;
 
int diff_mat[100001];
int count1[100001]={0};
int count_mat[100001]={0};
int ans[100001]={0};
int main()
{
int x,y,diff=0,t,num;
int number;
 
 
count1[0]=1;
diff_mat[0]=0;
 
for(int i=1;i<=100000;i++)
{
int c=0,d=0;
number=i;
while(number>0)
{
if(number%10==7)
c++;
if(number%10==4)
d++;
number=number/10;
}
diff=diff+d-c;
diff_mat[i]=diff;
count_mat[i]=count1[diff_mat[i]]++;
ans[i]=ans[i-1]+count_mat[i];
}
 
scanf("%d",&t);
 
while(t--)
{
scanf("%d",&num);
printf("%d\n",ans[num]);
}
 
return 0;
}