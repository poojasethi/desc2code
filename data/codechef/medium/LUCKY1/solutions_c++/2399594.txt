#include<iostream>
#include<stdio.h>
#include<string.h>

using namespace std;
int four[100010],seven[100010],sum4[100010],sum7[100010],count[100010],save[100010];

int main()
{
    int t;
    save[0]=1;
    four[0]=seven[0]=sum4[0]=sum7[0]=count[0]=0;
    for(int i=1;i<100010;i++)
    {
       four[i]=four[i/10]+(i%10==4);
       seven[i]=seven[i/10]+(i%10==7);
       sum4[i]=sum4[i-1]+four[i];
       sum7[i]=sum7[i-1]+seven[i];
       int temp=sum4[i]-sum7[i];
       int c=save[temp];
       save[temp]++;
       count[i]=count[i-1]+c;
    }
    cin>>t;
    while(t--)
    {
        int n;
        cin>>n;
        cout<<count[n]<<endl;
    }
    return 0;
}
