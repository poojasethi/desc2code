#include <iostream>
#include <limits>
#include <vector>
#include <algorithm>
#include<cstdio>
#include<cassert>
using namespace std;

const int maxN = 100005;
const int maxdp = 11115;
int N;


int s4[maxN];
int s7[maxN];
int dp[maxdp];
long long res[maxN];
void init()
{
    for(int i=0; i<maxdp; i++)
    dp[i] = 0;

    for(int i=0; i<maxN; i++)
    {
        s4[i] = 0;
        s7[i] = 0;
    }
}

void precompute()
{

    int c,n;
    int count4, count7;
    for(int cur = 1; cur<maxN; cur++)
    {
     count4=0, count7=0;
    n=cur;
    while(n)
    {
      c= n%10;
      if(c==4)count4++;
      if(c==7)count7++;
      n/=10;
    }
    s4[cur] = s4[cur-1]+count4;
    s7[cur] = s7[cur-1]+count7;

    }


    long long ans = 0;
    for(int i=1; i<maxN; i++)
    {
     ans+=dp[s4[i] - s7[i]];
     dp[s4[i]- s7[i]]++;
     if(s4[i] - s7[i] == 0)ans++;
     res[i] = ans;
    }

}
void print()
{

    for(int i=1; i<maxN; i++)
    {
        cout<<s4[i]<<" "<<s7[i]<<" "<<s4[i] - s7[i]<<endl;

    }

}

void solve()
{
    scanf("%d", &N);
    printf("%lld\n", res[N]);
}

int main()
{
      #ifndef ONLINE_JUDGE
    freopen("in.txt","r",stdin);
    freopen("out.txt","w",stdout);
    #endif
    int t=1;
     init();
    precompute();
   // print();
    scanf("%d", &t);

    while(t--)
    {

    solve();
    }

}
