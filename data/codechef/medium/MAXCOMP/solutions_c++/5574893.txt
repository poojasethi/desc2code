#include<bits/stdc++.h>
#define ll long long
#define MOD 10000007
#define sd(n) scanf("%d",&n);
#define pd(n) printf("%d\n",n);
#define sl(n) scanf("%lld",&n);
#define pl(n) printf("%lld\n",n);
ll mpow(ll a, ll n,ll mod)
{ll ret=1;ll b=a;while(n) {if(n&1)
    ret=(ret*b)%mod;b=(b*b)%mod;n>>=1;}
return (ll)ret;
}
using namespace std;
#define pi acos(-1.0)
#define MAX 1000001
#define  pii pair<int,int>
int dis[100002];
bool vis[100002];
vector<int> v[10];
string s;

int main()
{
int j,t;
    //string s;
ll ar[49][49];
 ll dp[49];
 int n;
 sd(t);
 while(t--)
 {
 sd(n);
 memset(ar,0,sizeof(ar));
 dp[0]=0;
 memset(dp,0,sizeof(dp));
 for(j=0;j<n;j++)
 {
     ll a,b,c;
     cin>>a>>b>>c;
     ar[a][b]=max(ar[a][b],c);
 }
 for(int i=0;i<49;i++)
 {
     for(j=0;j<i;j++)
     {

         dp[i]=max(dp[j]+ar[j][i],dp[i]);

     }

 }
pl(dp[48]);
 }
return 0;

}
