#include<bits/stdc++.h>
#define intMAX 1123456789LL
#define MAX intMAX * intMAX
#define F first
#define S second
#define mp make_pair
#define mq make_quadriple
#define ll long long
#define pb push_back
#define pf(v,a) v.insert(v.begin(),a)
#define all(c) c.begin(),c.end()
#define sf(a) scanf("%d",&a);
#define sl(a) scanf("%lld",&a);
#define MAXCR 1000000000
#define mod 1000000007
using namespace std;
pair<pair<ll,ll>,ll > v[20002];
int main()
{
	ll max_,t,n,i,a,b,c,j;
	sl(t)
	while(t--)
	{
		ll dp[49]={0};
		sl(n)
		for(i=0;i<n;i++)
		{
			sl(a)
			sl(b)
			sl(c)
			v[i]=(mp(mp(b,a),c));
		}
		sort(v,v+n);
		for(i=0;i<n;i++)
		{
			max_=0;
			for(j=1;j<=v[i].first.second;j++)
			{
				max_=max(max_,dp[j]);
			}
			max_=max_+v[i].second;
			if(max_>dp[v[i].first.first])
				dp[v[i].first.first]=max_;//printf("s");
		}
		max_=0;
		for(i=1;i<49;i++)
				max_=max(max_,dp[i]);
		printf("%lld\n",max_);
	//	printf("%lld",t);
	}
	return 0;
}