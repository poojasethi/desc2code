#include<iostream>
#include<algorithm>
#include<cstdio>
#include<cstring>
#include<vector>
#include<cmath>
#include<cstdlib>
#include<stack>
#include<queue>
#include<map>
#include<set>
#define mod 1000000007ll
using namespace std;
long long T,n,c,x,y,arr[2][45],dp[2][45];
int main()
{
	cin>>T;
	while(T--)
	{
		memset(arr,0,sizeof(arr));memset(dp,0,sizeof(dp));
		cin>>n>>c;
		while(n--)
		{
			cin>>x>>y;
			arr[0][x]+=1;
			arr[1][x]+=y;			
		}
		
		int color=0;
		dp[0][0]=1;
		for(int i=1;i<41;i++)
		if(arr[0][i])
		{
			++color;
			long long s=(1ll<<arr[0][i])-1,p=(1ll<<(arr[0][i]-1))*arr[1][i];
			for(int j=color;j>0;j--)
			{
				dp[0][j]+=dp[0][j-1]*s;
				dp[1][j]+=dp[0][j-1]*p+dp[1][j-1]*s;
			}
		}
		long long cost=0,subset=0;
		for(int i=c;i<41;i++)
		{
			cost+=dp[1][i];
			subset+=dp[0][i];			
		}
		printf("%f\n",(float)cost/subset);
	}
	return 0;
}