#include<iostream>
#include<string.h>
using namespace std;

int main() {

int i,T;
char *s;
cin>>T;
while(T--) {
	s = new char[100001];
	cin>>s;
	long long S = strlen(s);
	long long ans = (S*(S+1))/2;
	long long rm = 0;
	long long count = 0;
	for(i=0;i<S;i++) {		
		if(s[i]=='7') {
			count++;
		}
		else {
			rm+=((count*(count+1))/2);			
			count = 0;
		}
	}
	rm+=((count*(count+1)))/2;
	ans = ans - rm;
	cout<<ans<<"\n";
	delete s;
}
return 0;
}