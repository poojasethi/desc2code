#include<iostream>
#include<string.h>
using namespace std;

int main() {

int i,T;
char *s;
cin>>T;
while(T--) {
	s = new char[100001];
	cin>>s;
	long long S = strlen(s);
	long index[100001];
	int index_count = 0;
	long long ans = (S*(S+1))/2;
	long long rm = 0;
	for(i=0;i<S;i++)
		if(s[i]=='7') {
			index[index_count++] = i;
		}
	i = 0;
	while(i<index_count) {
		long long count = 1;
		while((index[i+count]-index[i]==count)&&((i+count)<index_count))
			count++;
		rm = rm + (count*(count+1))/2;
		i = i + count;
	}
	
	ans = ans - rm;
	cout<<ans<<"\n";
	delete s;
}
return 0;
}