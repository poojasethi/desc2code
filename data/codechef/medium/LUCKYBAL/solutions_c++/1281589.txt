#include <cstdio>
#include <cstring>

using namespace std;

const int MAX_INPUT = 100001;
int main()
{
    int T, len, state;
    char S[MAX_INPUT];
    unsigned long long result, cnt7;

    scanf("%d", &T);
    for(; T>0; T--)
    {
        scanf("%s", S);
        len = strlen(S);
        result = (unsigned long long)len * (len+1) / 2;
        
        cnt7 = 0;
        state = 1;
        for(int i=0; i<len; i++)
        {
            if(S[i] == '7')
            {
                if(state == 0)
                {
                    cnt7 = 1;
                    state = 1;
                }
                else
                    cnt7 += 1;
            }
            else
            {
                if(state == 1)
                {
                    result -= cnt7 * (cnt7+1)/2; 
                    state = 0;
                    cnt7 = 0;
                }
            }
        }
        printf("%llu\n", state ? result-cnt7*(cnt7+1)/2 : result);
    }
    return 0;
}
