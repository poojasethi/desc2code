#include<iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
#include<set>
#include<map>
#include<functional>
#include<string>
#include<cstring>
#include<cstdlib>
#include<queue>
#include<utility>
#include<fstream>
#include<sstream>
#include<cmath>
#include<stack>
#include<cstdio>
#include <ctime>
#include<cassert>
#include<string>
 
using namespace std;
 
#define MEM(a,b) memset(a,(b),sizeof(a))
#define MAX(a,b) ((a) > (b) ? (a) : (b))
#define MIN(a,b)  ((a) < (b) ? (a) : (b))
#define istr(S) istringstream sin(S)
#define MP make_pair
#define pb push_back
#define inf 1000000000
#define maxn 1000000
#define SI(x) scanf("%d",&x)
#define SL(x) scanf("%l",&x)
#define SLL(x) scanf("%ll",&x)
#define SLLU(x) scanf("%llu",&x)
#define SS(x) cin>>x;
#define SC(x) scanf("%c",&x)
#define FOR(i,a,b) for(int (i) = (a); (i) < (b); ++(i))  
#define RFOR(i,a,b) for(int (i) = (a)-1; (i) >= (b); --(i)) 
 
typedef long long  LL;
//typedef __int64 LL;
typedef pair<int,int> pi;
typedef vector<int> vi;
typedef vector<string> vs;
typedef vector<double> vd;
 int main()
 {
     LL n,d,c,i,ans;
     int t;
     string s;
     SI(t);
     while(t--)
     {
               SS(s);
               n=s.size();
               ans=n*(n+1)/2;
               for(i=0;i<n;i++)
               {c=0;
                  while((s[i]!='4'&&i<n))
                  {c++;
                  i++;
                  }
                  d+=c*(c+1)/2;
                  }
                  ans-=d;
                  cout<<ans<<endl;
                  ans=0;
                  c=0;
                  d=0;
                  }
                  return 0;
                  }
