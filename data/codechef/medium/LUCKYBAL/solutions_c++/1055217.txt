#include<iostream>
#include<cstring>
#include<cstdio>
using namespace std;
int main(){
    int test;
    cin>>test;
    while(test--){
        char s[100000];
        cin>>s;
        int n = strlen(s);
        long long final=((long long)(n))*(n+1)/2;
        int i,j;
		for(i=0;i<n;i=j)
		{
			for(j=i;j<n && s[j]==s[i];j++);
			if(s[i]=='7')
				final-=((long long)(j-i))*(j-i+1)/2;
		}
		cout << final << endl;
    }
    return 0;
}
