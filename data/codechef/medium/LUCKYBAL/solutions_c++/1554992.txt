#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

typedef long long LL;
const int N = 100100;
char in[N];

int main()
{
    int t;
    scanf("%d", &t);
    while(t--) {
        scanf("%s", in);
        int n = strlen(in);
        long long ans = 1LL*n*(n+1)/2;
        int cur = 0;
        /*
        for (int i=0; i<n; i++) {
            if (in[i]=='7') cur++;
            else {
                ans -= cur*(cur+1)/2;
                cur=0;
            }
        }
        ans -= cur*(cur+1)/2;
        */
        int i,j;
        for(i=0;i<n;i=j)
		{
			for(j=i;j<n && in[j]==in[i];j++);
			if(in[i]=='7')
				ans-=LL(j-i)*(j-i+1)/2;
		}
        printf("%lld\n", ans);
    }
    return 0;
}
