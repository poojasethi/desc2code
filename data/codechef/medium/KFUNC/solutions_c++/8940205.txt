#include<iostream>
using namespace std;

long long calculate(long long a)
{
if(a<10)
return a;
long long sum=0;
while(a!=0)
{
long long r=a%10;
sum+=r;
a=a/10;
}
//cout<<sum<<endl;
return calculate(sum);
}
int  main()
{
long long t,a,d,l,r,a1,a2,i;
cin>>t;
while(t--)
{
cin>>a>>d>>l>>r;
//cout<<a<<endl;
a1=calculate(a);
a2=calculate(d);
//cout<<a1<<" "<<a2<<endl;
long long loop[10],value[10];
for(i=0;i<10;i++)
loop[i]=-1;
long long length=0;
//cout<<a1<<" "<<a2<<endl;
while(1)
{
if(loop[a1]>=0)
break;
//cout<<a1<<" ";
value[length]=a1;
loop[a1]=length;
length++;
a1=calculate(a1+a2);
}
long long pos=(l-1)%length;
//at this position in the value array we have to start
long long sum=0;
for(i=0;i<length;i++)
sum+=value[i];

long long ans=1LL*((r-l+1)/length)*sum;
long long p=(r-l+1)%length;
for(i=0;i<p;i++)
{
ans+=value[pos];
pos=(pos+1)%length;
}
cout<<ans<<endl;
//From this position in the value array


//got the serial orde
}
return 0;}
