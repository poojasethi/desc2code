#include<bits/stdc++.h>
using namespace std ;
int flag[ 1000005 ] ;
int main()
{
  int t , n , k ;
  cin >> t ;
  string s ;
int ans ;
  while( t-- )
  {
      ans  = 0 ;
int       sum = 0 ;
    cin >> n >> k ;
    cin >> s ;
memset ( flag , 0 , sizeof(flag)) ;
     for ( int i = 0 ; i < n ; i++)
     {
         sum += flag[i] ;
        if ( ( s[i] == 'R' ) && ( ( sum % 2 ) == 0 ))
        {
            ans++ ;
             flag[i + 1 ] += 1 ;
        flag[ i + k ]-- ;
        }

        if ( ( s[i] == 'G' ) && ( ( sum % 2 ) == 1 ))
        {
            ans++ ;
             flag[i + 1 ] += 1 ;
        flag[ i + k ]-- ;
        }

     }
     cout << ans << endl ;

  }

return 0 ;
}
