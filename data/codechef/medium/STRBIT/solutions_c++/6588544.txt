#include<stdio.h>
#include<string.h>
typedef long long int lln;
struct node
{
int color;
lln inc;
lln dec;
};
char br[100005];
node ar[100005];
int main()
{
	int t;
	scanf(" %d",&t);
	for (int i = 0; i < t; i++)
	{
		lln length,k;
		scanf(" %lld %lld",&length,&k);
		//scanf(" %s",&br);
		lln m=0;
		char ch;
		while (m<length)
		{
			scanf(" %c",&ch);
			if(ch=='R')
			{
				ar[m].color=0;
				ar[m].inc=0;
				ar[m].dec=0;
			}
			else
			{
				ar[m].color=1;
				ar[m].inc=0;
				ar[m].dec=0;
			}
			m++;
		}
		m=0;
		lln cur,count=0,save,counter=0;
		while (m<length)
		{
			while (m<length)
			{
				counter+=ar[m].inc-ar[m].dec;
				if((ar[m].color+counter)%2!=1)
					break;
				m++;
			}
			if(m<length&&(ar[m].color+counter)%2==0)
			{
				cur=m+k-1;
				ar[m].inc=1;
				if(cur+1<length)
				{
					ar[cur+1].dec=1;
				}
				m=m+1;
				count++;
				counter++;
			}
		}
		printf("%lld\n",count);
	}
	return 0;
}