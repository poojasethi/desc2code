from sys import stdin
t = int(stdin.readline())

for trial in range(t):
    blank = stdin.readline()
    n = int(stdin.readline())
    p = sorted([map(int,stdin.readline().split()) for i in range(n)], key=lambda x:(x[0],-x[1]))
    dist = sum(((p[i][1]-p[i-1][1])**2+(p[i][0]-p[i-1][0])**2)**.5 for i in range(1,len(p)))
    print "%.2f" % dist