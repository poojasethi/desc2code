import math
from operator import *
t=input()
while(t>0):
	ch=raw_input()
	n=input()
	i=0
	lis=[]
	while(i<n):
		entry=raw_input().split()
		lis.append((float(entry[0]),float(entry[1])))
		i=i+1
	lis.sort(key=lambda z:(z[0],-z[1]),reverse=True)
	dis=0.0
	i=1
	while(i<n):
		dis=dis+math.sqrt((lis[i][0]-lis[i-1][0])**2+(lis[i][1]-lis[i-1][1])**2)
		i=i+1
	print "%.2f" %dis
	t=t-1
