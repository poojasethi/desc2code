#include <bits/stdc++.h>

using namespace std;

struct node
{
	int x,y;
};
bool cmp(node a,node b)
{
	if (a.x < b.x)
		return true;
	else if (a.x == b.x)
	{
		if (a.y >= b.y)
			return true;
		else
			return false;
	}
	else
		return false;
}
int  main()
{
	int t;
	scanf("%d",&t);
	while (t--)
	{
		int n;
		scanf("%d",&n);
		vector <node> a(n);
		for (int i = 0; i < n; i++)
			scanf("%d%d",&a[i].x,&a[i].y);
		sort(a.begin(),a.end(),cmp);
		double dis = 0;
		for (int i = 0; i < n-1; i++)
		{
			double xx = (double)a[i+1].x-(double)a[i].x;
			double yy = (double)a[i+1].y-(double)a[i].y;
			dis += (sqrt((xx*xx+yy*yy)));
		}
		printf("%0.2f\n",dis);
	}
	return 0;
}