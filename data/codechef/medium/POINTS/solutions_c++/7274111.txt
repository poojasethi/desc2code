#include<bits/stdc++.h>
using namespace std;

const int N=123456;

struct Point {
    int x, y;
}p[N];

bool compare(Point a, Point b) {
    return (a.x==b.x) ? (a.y>b.y):(a.x<b.x);
}

int main() {
    int test;
    scanf("%d", &test);
    while(test--) {
        int n;
        scanf("%d", &n);
        for(int i=0;i<n;i++) {
            scanf("%d %d", &p[i].x, &p[i].y);
        }
        sort(p, p+n, compare);
        double ans=0;
        for(int i=1;i<n;i++) {
            double temp=(p[i].x-p[i-1].x)*(p[i].x-p[i-1].x)+(p[i].y-p[i-1].y)*(p[i].y-p[i-1].y);
            ans+=sqrt(temp);
        }
        printf("%.2f\n", ans);
    }
}
