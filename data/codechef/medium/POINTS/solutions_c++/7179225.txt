#include <iostream>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <algorithm>

using namespace std;

struct dang
{
    int x;
    int y;
};
//what happens is default cmp is set to < and sorts in assending order
int cmp (dang p,dang q)
{
    if(p.x!=q.x)
        return p.x<q.x;
    else
        return p.y>q.y;
}

dang a[100000];


int main()
{
    int i,t,n;
    double sum;
    scanf("%d",&t);
    while(t--)
    {
        sum=0;
        scanf("%d",&n);
        for(i=0;i<n;i++)
            scanf("%d %d",&a[i].x,&a[i].y);
        sort(a,a+n,cmp);
        for(i=0;i<n-1;i++)
            {
                sum+=(double)sqrt(((a[i+1].x-a[i].x)*(a[i+1].x-a[i].x))+((a[i+1].y-a[i].y)*(a[i+1].y-a[i].y)));
            }
            printf("%0.2lf\n",sum);
    }
}
