#include<bits/stdc++.h>
using namespace std;

struct points{
    int x,y;
};

int compare(points a , points b){
    if (a.x != b.x){
        return (a.x < b.x);

    }
    else
        return (a.y > b.y);
}

int main()
{
    int t,i,n;
    double dist;
    scanf("%d",&t);
    while(t--){
        scanf("%d",&n);
        points arr[n];
        for ( i=0;i<n;i++){
            cin >> arr[i].x;
            cin >> arr[i].y;
        }
        sort ( arr , arr+n , compare);
        dist = 0.00;
        for (i=1;i<n;i++){
            dist = dist + sqrt(pow((arr[i].x) -(arr[i-1].x),2)+pow((arr[i].y)-(arr[i-1].y),2));
        }
        printf("%0.2lf\n\n",dist);
    }
}
