#include <bits/stdc++.h>
using namespace std;

struct compare
{
  bool operator()(pair<int,int>a,pair<int,int>b)
  {
    if(a.first==b.first)
        return a.second>b.second;
    else
        return a.first<b.first;
  }
};
int main() {
	// your code goes here
	int test;
	cin>>test;
	while(test--)
	{
	  long int n;
	  cin>>n;
	  pair<int,int> a[n];
	  for(int i=0;i<n;i++)
	  {
	    cin>>a[i].first>>a[i].second;
	  }
	
	 
	  sort(a,a+n,compare());
	  double sum=0;
	  for(int i=0;i<n-1;i++)
	  {
	  double distance=sqrt(pow(a[i+1].first-a[i].first,2)+pow(a[i+1].second-a[i].second,2));
	  //cout<<distance<<" ";
	  sum+=distance;
	  }
	  
cout<<setprecision(2)<<fixed<<sum<<"\n";
	}
	return 0;
}
