#include<cstdio>
#include<iostream>
#include<math.h>
#include<algorithm>
using namespace std;
struct point
{
    int x;
    int y;
}s[100001];
int cmp(point p,point q)
{
    if(p.x!=q.x)
        return p.x<q.x;
    else
        return p.y>q.y;
}
int main()
{
    int t;
    long int n,i;
    scanf("%d",&t);
    while(t--)
    {
        printf("\n");
        scanf("%ld",&n);
        for(i=0;i<n;i++)
            scanf("%d%d",&s[i].x,&s[i].y);
        sort(s,s+n,cmp);
        double sum=0;
        for(i=0;i<n-1;i++)
            sum+=double(sqrt((s[i+1].x-s[i].x)*(s[i+1].x-s[i].x)+(s[i+1].y-s[i].y)*(s[i+1].y-s[i].y)));
        printf("%0.2f\n",sum);
    }
    return 0;
}
