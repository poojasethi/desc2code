#include<bits/stdc++.h>
using namespace std;

struct XY
{
	int x;
	int y;
};

bool cmp(XY a, XY b)
{
	if(a.x<b.x)
	return 1;
	
	else if(a.x==b.x && a.y>b.y)
	return 1;
	
	else
	return 0;
}

double dist(XY a, XY b)
{
	return (sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)));
}

int main()

{
	std::ios::sync_with_stdio(false);
	
	int T;
	cin>>T;
	
	while(T--)
	{
		int N;
		cin>>N;
		
		XY info[N];
		
		int i;
		for(i=0; i<N; i++)
		{
			cin>>info[i].x;
			cin>>info[i].y;
		}
		
		sort(info, info+N, cmp);
		
		/*for(i=0; i<N; i++)
		{
			cout<<info[i].x<<" "<<info[i].y<<"\n";
		}*/
		double distance=0.00;
		
		for(i=1; i<N; i++)
		{
			distance+=dist(info[i], info[i-1]);
			//cout<<distance<<"\n";
		}
		
		cout<<fixed<<setprecision(2)<<distance<<"\n";
	}
	return 0;
}