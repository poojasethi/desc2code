#include <iostream>
#include <cstdio>
#include <cmath>
#include <cstdlib>
using namespace std;
int a[100000][2];

typedef struct A
{
        int x,y;
        };
int comp(const void *a, const void *b) {
 A *i1, *i2;
 i1=(A*)a; i2=(A*)b;
 if(i1->x > i2->x) return 1;
 if(i1->x == i2->x && i1->y < i2->y) return 1;
 return 0;
}
int main()
{
    int n,i,t; double s;
    A a[100005];
    scanf("%d",&t);
    while(t--)
    {
              s=0;
             
              scanf("%d",&n);
              for(i=0;i<n;i++)
              {
                               scanf("%d%d",&a[i].x,&a[i].y);
                               }              
              qsort(a, n, sizeof(A), comp);
              
              for(i=1;i<n;i++)
              {
                  s=s+sqrt((a[i].x-a[i-1].x)*(a[i].x-a[i-1].x)+(a[i].y-a[i-1].y)*(a[i].y-a[i-1].y));
              }
              
              printf("%.2lf\n",s);
}
    return 0;
}
