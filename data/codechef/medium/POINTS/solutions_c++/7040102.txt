#include<bits/stdc++.h>
#define ll long long
using namespace std;

struct pnt
{
	double x,y;
};

bool comp(pnt a,pnt b)
{
	return (a.x<b.x) || (a.x==b.x && a.y>b.y);
}

int main()
{	
	int t;ll n,i;double d;pnt *p;
	cin>>t;
	while(t--)
	{
		cin>>n;
		p=new pnt[n];
		for(i=0;i<n;i++)
		cin>>p[i].x>>p[i].y;
		
		sort(p,p+n,comp);
		d=0;
		for(i=1;i<n;i++)
		{
			d+=sqrt( (p[i].x-p[i-1].x)*(p[i].x-p[i-1].x) + (p[i].y-p[i-1].y)*(p[i].y-p[i-1].y) );
		}
		cout.precision(2);
		cout<<fixed;
		cout<<d<<endl;
		free(p);
	}
}