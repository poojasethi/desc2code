#include <iostream>
#include <algorithm>
#include <cmath>
#define ll long long
using namespace std;
struct point{
    int x;
    int y;
};

int compare(point a,point b)
{
    if(a.x != b.x){
        return(a.x < b.x);
    }
    else{
        return(a.y > b.y);
    }
}

/*ll int pw(ll int f,ll int p)
{
    ll int i,ans=1;
    for(i = 0;i < p;i++){
        ans = ans * f;
    }
    return ans;
}*/

int main()
{
    int t,i,n;
    double dist;
    scanf("%d",&t);
    printf("\n");
    while(t--){
        scanf("%d",&n);
        point a[n];
        for(i = 0;i < n;i++) {
            scanf("%d",&a[i].x);
            scanf("%d",&a[i].y);
        }
        sort(a,a + n,compare);
        dist = 0.00;
        for(i = 1;i < n;i++){
            dist = dist + sqrt(pow((a[i].x)-(a[i-1].x),2)+pow((a[i].y)-(a[i-1].y),2));
        }
        printf("%0.2lf\n\n",dist);
    }
    return 0;
}
