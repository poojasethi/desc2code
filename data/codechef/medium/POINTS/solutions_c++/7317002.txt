#include<cstdio>
#include<algorithm>
#include<iostream>
#include<string.h>
#include<math.h>
#include<set>
using namespace std;
int comp(const pair<long,long>&left,const pair<long,long>&right)
{
 if(left.first==right.first)
        return left.second>right.second;
 return left.first<right.first;
}
int main()
{
 int t;
 scanf("%d",&t);
 while(t--)
 {
  long n,x,y;
  double dis=0;
  scanf("%ld",&n);
  pair<long int,long int>a[n];
  for(long i=0;i<n;i++)
        scanf("%ld %ld",&a[i].first,&a[i].second);
  sort(a,a+n,comp);
  for(long i=1;i<n;i++)
  {
   x=a[i].first-a[i-1].first;
   y=a[i].second-a[i-1].second;
   dis+=sqrt(x*x+y*y);
  }
  printf("%.2lf\n",dis);
 }
  return 0;
}






