def main():
	total=input()
	for i in range(total):
		n=input()
		time=0
		for j in range(n):
			route=raw_input()
			routeli=route.split()
			x=int(routeli[0])
			l=int(routeli[1])
			f=int(routeli[2])
			if(time<=x):
				time=x
			if((time-x)%f!=0):
				time=time+f-((time-x)%f)
			time+=l
		print time


main()