if 1:
    caseNum=input()
    caseInfo=[]


    for i in range(caseNum):
        stationNum=input()
        stationInfo=[]
        for j in range(stationNum):
            t=raw_input()
            stationInfo.append([int(s) for s in t.split(' ')])
        
        caseInfo.append(stationInfo)

#print caseInfo

        
        


    


    for case in caseInfo:
        #handle each case separately
        current_time=0
        for station in case:
            #handle each staion separately
            if current_time <= station[0]:  #the first train not started
                
                current_time=station[0]    #wait until the train starts
            else:
                if station[2]!=0:
                    temp=(current_time-station[0])% station[2]
                    if  temp != 0:
                        current_time+=station[2]-temp
            current_time+=station[1]    
                
        print current_time       