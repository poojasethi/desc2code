#!/usr/bin/env python

from sys import stderr

def process(N,X,L,F):
    T = 0
    for i in xrange(N):
        # Xi+0*Fi Xi+1*Fi ... Xi+k*Fi
        # smallest non-negative integer k*Fi+Xi >= T
        # k = ceil ( (T-Xi)   / Fi )
        #   = floor( (T-Xi-1) / Fi ) + 1
        K = max(0, (T - X[i] - 1) / F[i] + 1)
        S = F[i] * K + X[i]
        W = S - T
        '''
        used for the 2 0 1 1 100 1 1 case.
        stderr.write(
            'i=%s K=%s T=%s W=%s S=%s L=%s newT=%s\n'%(
            i,K,T,W,S,L[i],T+W+L[i])
        )
        '''
        T += W + L[i]
    return T

def main():
    T = int(raw_input())
    for t in xrange(T):
        N = int(raw_input())
        X,L,F = [],[],[]
        for n in xrange(N):
            Xi,Li,Fi = map(int, raw_input().split())
            X.append(Xi)
            L.append(Li)
            F.append(Fi)
        print process(N,X,L,F)

main()
