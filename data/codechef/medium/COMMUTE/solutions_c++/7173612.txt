#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <algorithm>
#include <math.h>

int main()
{
#ifdef USE_DATA_TXT
  freopen_s(&stream, "c:\\data.txt", "r", stdin);
#endif
#ifdef PRINT_PERF
  auto start = std::chrono::high_resolution_clock::now();
#endif

  int T;
  scanf("%d\n", &T);

  while(T--)
  {
    int N;
    scanf("%d\n", &N);

    int t = 0;
    int x, l, f;
    int rem;

    for(int i = 0; i < N; ++i)
    {
      scanf("%d %d %d\n", &x, &l, &f);

      if(t <= x)
      {
        t = x; // wait till the 1st train
      }
      else
      {
        rem = (t - x) % f;
        if(rem != 0)
          t += f - rem; // wait till the next train
      }

      t += l; // travel
    }

    printf("%d\n", t);
  }

#ifdef PRINT_PERF
  PrintResultPerf(start);
#endif
#ifdef USE_DATA_TXT
  if(stream)
  {
    fclose(stream);
    stream = NULL;
  }
#endif

  return 0;
}