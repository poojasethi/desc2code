#include<bits/stdc++.h>
#include<algorithm>
#include<string.h>
#include<math.h>
#include<iomanip>
#include<vector>
#include<map>
#include<set>
#define MOD 10000009
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
typedef double db;

//ll a[10000001]={0},b[10000001]={0},c[10000001];
ll x[100001],l[100001],f[100001];
int main()
{
  //ios_base::sync_with_stdio(false);
  //cin.tie(NULL);
   ll t,n;
   cin>>t;
   
   while(t--)
   {
   	ll time=0;
   	cin>>n;
   	
   	for(int i=0;i<n;i++)
   	{
   		cin>>x[i]>>l[i]>>f[i];
	}
	for(int i=0;i<n;i++)
	{
		if((time-x[i])%f[i]==0)
		 {
		 	time+=l[i];
		 } 
		else if(time<x[i])
		{
			time+=(x[i]-time)+l[i];
		}
		else
		{
			time+=l[i]+(f[i]-((time-x[i])%f[i]));
		 } 
	}
	cout<<time<<"\n";
	
   }
   	return 0;
}