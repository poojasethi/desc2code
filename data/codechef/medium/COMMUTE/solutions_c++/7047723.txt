#include <bits/stdc++.h>
using namespace std;

#define ll long long int

int main()
{
	ll i,j,t,n,cur;

	cin>>t;

	while(t--) {
		cin>>n;

		ll x[n];
		ll f[n];
		ll d[n];
	
		for(i=0;i<n;i++) cin>>x[i]>>d[i]>>f[i];

		cur = 0;

		for(i=0;i<n;i++) {
			if(cur<=x[i]) cur = x[i] + d[i];
			else cur = ((ceil(((double)(cur-x[i]))/f[i]))*f[i]) + x[i] + d[i];
		}

		cout<<cur<<endl;
	}

	return 0;
}
