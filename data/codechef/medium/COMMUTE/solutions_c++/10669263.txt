#include <iostream>
    #include <cstdio>
    #include<limits.h>
    #include <algorithm>
    #define p(n) printf("%d\n",n);
    #define s(n) scanf("%d",&n);
    #define P(n) printf("%lli\n",n);
    #define S(n) scanf("%lli",&n);
    #define gc getchar_unlocked
    #define pc putchar_unlocked
    using namespace std;
   #define getcx getchar_unlocked
//int scanint()
//{
//   int n=0;
//   int ch=getcx();int sign=1;
//   while( ch < '0' || ch > '9' ){if(ch=='-')sign=-1; ch=getcx();}
//
//   while(  ch >= '0' && ch <= '9' )
//           n = (n<<3)+(n<<1) + ch-'0', ch=getcx();
//   return(n*sign);
//}
int main()
{
int t;
s(t)
while(t--)
{
    int n;
    s(n)
    int x,l,f;
    int to=0;
    s(x)s(l)s(f)
    to=to+x+l;
    for(int i=1;i<n;i++)
    {
        s(x)s(l)s(f)
        if(to>x&&(to-x)%f!=0)
        to=f*((to-x)/f+1)+x+l;
        else if(to>x&&(to-x)%f==0)
            to=to+l;
        else
            to=x+l;
    }
    p(to)
}
return 0;
}
