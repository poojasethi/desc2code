#include<iostream>
#include<cstdio>
using namespace std;
int main()
{
	long long int i,j,k,m,n,t,wt;
	scanf("%lld",&t);
	for(i=0;i<t;i++)
	{
		scanf("%lld",&n);
		long long int x[n],l[n],f[n],t[n+1];
		for(j=0;j<n;j++)
			scanf("%lld%lld%lld",&x[j],&l[j],&f[j]);
		t[0]=0;
		t[1]=t[0]+x[0]+l[0];
		for(j=2;j<n+1;j++)
		{
			if(x[j-1]>=t[j-1])
				t[j]=x[j-1]+l[j-1];
			else if(x[j-1]<t[j-1])
			{
				m=1;
				while(x[j-1]+m*f[j-1]-t[j-1]<0)
					m++;
				wt=x[j-1]+m*f[j-1]-t[j-1];
				t[j]=t[j-1]+wt+l[j-1];
			}
		}
		
			printf("%lld\n",t[n]);
	}
}
