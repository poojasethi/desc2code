#include<iostream>
using namespace std;
int main()
{
	int t,n;
	int x[1005],l[1005],f[1005];
	cin>>t;
	while(t--)
	{
		cin>>n;
		int ans=0;
		for(int i=1;i<=n;i++)
		{
		cin>>x[i]>>l[i]>>f[i];
	}
	for(int i=1;i<=n;i++)
	{
			if(x[i]==ans)
		{
			ans=ans+l[i];
		}
		else if(x[i]>ans)
		{
			ans=x[i]+l[i];
		}
		else
		{
			int j=0;
			while(x[i]+j*f[i]<ans)
			{
				j++;
			}
			ans=x[i]+j*f[i]+l[i];
		}
	}
	cout<<ans<<endl;
	}
}