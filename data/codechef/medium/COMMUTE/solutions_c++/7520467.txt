#include<cstdio>
int main()
{
	int t;
	for(scanf("%d", &t); t--; )
	{
		int n;
		long int s=0;
		scanf("%d", &n);
		while(n--){
			int x, l, f;
			scanf("%d %d %d", &x, &l, &f);
			if(s<=x){
				s+=(x-s);
			}
			else{
				int nn = (s-x)/f + 1;
				if(x+(nn-1)*f == s)
					nn--;
				s+=(x+nn*f)-s;
			}
			s+=l;
		}
		printf("%ld\n", s);
	}
	return 0;
}
