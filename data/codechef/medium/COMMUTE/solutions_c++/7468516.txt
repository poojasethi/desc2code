#include <iostream>
using namespace std;

int main() {
	int t,n;
	long long int i,time;
	cin>>t;
	while(t--)
	{
		time=0;
		cin>>n;
		int x[n],l[n],f[n];
		for(i=0;i<n;i++)
			cin>>x[i]>>l[i]>>f[i];
			                       //station1
			 time=time+x[0]+l[0];
		for(i=1;i<n;i++)
		{
		  	if(time<=x[i])  ///when he arrived train dint came :D
		  	{
		  		time=x[i]+l[i];
		  	}
		  	else if(time>x[i]) // he arrived 1 train gone
		  	{
		  		long int q=x[i];
		  	    while(1)
		  	    {
		  	    	q=q+f[i];
		  	    	if(time==q)
		  	    	{
		  	    	 time=time+l[i];
		  	    	 break;
		  	    	}
		  	    	else if(time<q)
		  	    	{
		  	    		time=time+q-time+l[i];
		  	    		break;
		  	    	}
		  	    }
		  	}
		  }
		  cout<<time<<endl;
		}
	return 0;
}