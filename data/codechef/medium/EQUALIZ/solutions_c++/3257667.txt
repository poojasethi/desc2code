#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;
int primes[]={2,3,5,7,11,13,17,19,23,29};
vector<vector<int> > give_res(int size,int start=1,int gap=1)
{
     int i,j,k,l;
     vector<vector<int> > Ret,temp;
     Ret.clear();
     temp.clear();
     vector<int> M;
     for(i=0;i<10;++i) 
     if(primes[i]==size)
     {                        
                        for(j=start;j<start+primes[i]*gap;j+=gap) M.push_back(j);
                        Ret.push_back(M);
                        return Ret;
     }
     for(i=0;i<10;++i) 
     if(size%(primes[i])==0)
     {
                        for(j=0;j<primes[i];++j)
                        {
                                                 temp.clear();
                                                 temp=give_res(size/primes[i],j*(size/primes[i])+start);
                                                 for(k=0;k<temp.size();++k) Ret.push_back(temp[k]);
                        }
                        for(j=1;j<=size/primes[i];++j)
                        {
                                                 temp.clear();
                                                 temp=give_res(primes[i],j+start-1,size/primes[i]);
                                                 for(k=0;k<temp.size();++k) Ret.push_back(temp[k]);
                        }
                        return Ret;
     }
}
int main()
{
    int i,j,t,k,n,l,m;
    cin>>t;
    vector<vector<int> > Ans;
    for(i=0;i<t;++i)
    {
                    cin>>n;
                    for(j=0;j<n;++j) cin>>k;
                    Ans=give_res(n);
                    cout<<Ans.size()<<"\n";
                    for(l=0;l<Ans.size();++l)
                    {
                                             cout<<Ans[l].size()<<" ";
                                             for(m=0;m<Ans[l].size();++m) cout<<Ans[l][m]<<" ";
                                             cout<<"\n";
                    }
    }
   // cin>>i;
    return 0;
}
