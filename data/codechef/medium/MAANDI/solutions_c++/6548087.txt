#include<iostream>
using namespace std;
#include<math.h>
int dividers(long long int a,long long int b)
{
   for(;a&&a%10!=4&&a%10!=7;a=a/10);
   for(;b&&b%10!=4&&b%10!=7;b=b/10);
   if(a&&b)
   return 2;
   if(a||b)
   return 1;
   return 0;
}
int main()
{
int T;
cin>>T;
int ans;
long long int n,N,i,j;
while(T--)
{
   cin>>N;
   n=sqrt(N);
   for(ans=0,i=1;i<=n;i++)
   {
      if(N%i)
      continue;
      ans+=dividers(i,N/i);
   }
   cout<<ans<<endl;
}
return 0;
}
