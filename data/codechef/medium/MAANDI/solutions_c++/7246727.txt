#include<bits/stdc++.h>
using namespace std;

int main()
{
std::ios::sync_with_stdio(false);

int T;
cin>>T;

while(T--)
{
long long int N, i, count=0;
cin>>N;

for(i=1; i<=sqrt(N); i++)
{
int temp;
if(N%i==0)
{
temp=i;
while(temp!=0)
{
if(temp%10==4||temp%10==7)
{
count++;
//flag=1;
break;
}
temp=temp/10;
}

temp=N/i;
while(temp!=0)
{
if(temp%10==4||temp%10==7)
{
count++;
//flag=1;
if(N%i==i)
count--;
break;
}
temp=temp/10;
}
}
}

cout<<count<<endl;
}
return 0;
}

