#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cmath>
#include<vector>
#include<map>
using namespace std;
int T,n;
bool check(int x)
{
	int r,cal=0;
	while(x)
	{
		r=x%10;
		x/=10;
		if(r==4||r==7)cal++;
	}
	if(cal)return true;
	return false;
}

int main()
{
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d",&n);
		int ans=0,sq=sqrt(n);
		for(int i=1;i<=sq;i++)
		if(n%i==0){
			if(check(i))ans++;
			if(check(n/i))ans++;
		}
		if(sq*sq==n&&check(sq))ans--;
		cout<<ans<<"\n";
	}
	return 0;
}
