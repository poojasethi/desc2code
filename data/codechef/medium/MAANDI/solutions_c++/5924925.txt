#include<iostream>
#include<math.h>
using namespace std;
int main(){
int t,a,c;
long int n,count,mul;
cin>>t;
for(int i=0;i<t;i++){
	cin>>n;
	count=0;
	for(long int j=1;j<sqrt(n);j++){
		if(n%j==0){
		mul=j;
		c=0;
		while(mul>0){
			a=mul%10;
			if(a==4||a==7)
			{
				c++;
				break;
			}
			mul=mul/10;
		}
		if(c==1)
		count++;
		mul=n/j;
		c=0;
		while(mul>0){
			a=mul%10;
			if(a==4||a==7)
			{
				c++;
				break;
			}
			mul=mul/10;
		}
		if(c==1)
		count++;
	}
	int l=sqrt(n);
	if(l*l==n){
		mul=l;
		c=0;
		while(mul>0){
			a=mul%10;
			if(a==4||a==7)
			{
				c++;
				break;
			}
			mul=mul/10;
		}
		if(c==1)
		count++;
	}
	}
	cout<<count<<endl;
}
}