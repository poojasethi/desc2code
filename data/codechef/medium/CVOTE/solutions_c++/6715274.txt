#include<cstdio>
#include<cstdlib>
#include<iostream>
#include<cstring>
#include<string>
#include<sstream>
#include<vector>
#include<map>
#include<utility>
#include<cmath>
#include<algorithm>

using namespace std;
typedef long long ll;
typedef map<string,string> mss;
typedef map<string,int> msi;
#define REP(i,a,b) \
    for(int(i)=int(a);i<=int(b);i++)

mss ccMap;
msi cvotesMap,countryvMap;
int main(){
    int N,M,maxChefVotes,maxCountryVotes;
    string line,chef,country,bestChef,bestCountry;
    scanf("%d",&N);
    scanf("%d",&M);
    getline(cin,line);
    ccMap.clear();
    cvotesMap.clear();
    countryvMap.clear();
    REP(i,0,N-1){
        getline(cin,line);
        stringstream ss(line);
        ss >> chef;
        ss >> country;
        ccMap[chef] = country;
    }
    REP(i,0,M-1){
        getline(cin,line);
        cvotesMap[line] = cvotesMap[line] + 1;
        country = ccMap[line];
        countryvMap[country] = countryvMap[country] + 1;
    }
    maxChefVotes = 0;
    bestChef = "";
    for(msi::iterator it=cvotesMap.begin();it!=cvotesMap.end();it++)
        if(maxChefVotes < it->second){
            maxChefVotes = it->second;
            bestChef = it->first;
        }
    maxCountryVotes = 0;
    bestCountry = "";
    for(msi::iterator it=countryvMap.begin();it!=countryvMap.end();it++)
        if(maxCountryVotes < it->second){
            maxCountryVotes = it->second;
            bestCountry = it->first;
        }
    cout<<bestCountry<<endl;
    cout<<bestChef<<endl;
    return 0;
}
