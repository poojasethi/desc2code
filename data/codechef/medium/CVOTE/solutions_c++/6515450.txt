#include<stdio.h>
#include<iostream>
#include<math.h>                      
#include<stdlib.h>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<map>
#define in(a) scanf("%d",&a)
using namespace std; 

string ans(map<string,int> &cur)
{
	string temp="";
	int max=0;
	
	map<string,int> :: iterator i;
	
	for(i=cur.begin();i!=cur.end();i++)
	{
		if(i->second>max)  
		{ max=i->second;  temp=i->first;  }
	}
	
	return temp;
}

int main()
{
	int n,k,i;
	string chef,country;
	
	map<string,string> rel;
	map<string,int> map1;
	map<string,int> map2;
	
	
	in(n);  in(k);
	
	for(i=0;i<n;i++)
	{
		cin>>chef>>country;
		rel[(string)chef]=country;
	}
	
	for(i=0;i<k;i++)
	{
		cin>>chef;
		map1[chef]++;
		string newcountry = rel[chef];
		map2[newcountry]++;
	}
	
	cout<<ans(map2)<<endl;
	cout<<ans(map1)<<endl;
	
	return 0;
}