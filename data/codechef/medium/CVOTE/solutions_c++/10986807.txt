#include<iostream>
#include <functional>
#include <string>
#include<map>;
using namespace std;
int main(){
	int i,j,k,n,m;
	cin>>n>>m;
	string temp,temp2;
	int max=0,max2=0;
	string chef[n];
	string country[n];
	map<string,int>mapp;
	map<string,int>mapp2;
	map<string,string>map3;
	//hash <string> h;
	//int count[n];
	string email;
	for(i=0;i<n;i++){
		cin>>chef[i]>>country[i];
		map3[chef[i]]=country[i];
	}
	for(i=0;i<m;i++){
		cin>>email;
		mapp2[email]++;
		mapp[map3[email]]++;
	/*	for(j=0;j<n;j++){
			if(email[i].compare(chef[j])==0){
				count[j]++;
				mapp[country[j]]++;
				break;
			}
		}*/
	}
	for(i=0;i<n;i++){
		if(mapp2[chef[i]]>max){
			max = mapp2[chef[i]];
			temp = chef[i];
		}
		else if(mapp2[chef[i]]==max){
			if(temp > chef[i]){
				temp = chef[i];
			}
		}
		
		if(mapp[country[i]] > max2){
			max2 = mapp[country[i]];
			temp2 = country[i];
		}
		else if(mapp[country[i]] == max2){
			if(temp2 > country[i]){
				temp2 = country[i];	
			}
			
		}
	}
	cout<<temp2<<"\n"<<temp<<"\n";
	return 0;
}