#include <iostream>
#include<stdio.h>
#include<map>
using namespace std;
typedef map<string,int>calc;
string getstring(const calc &votes)
{
    string res="";
    long long max=0;
    for (calc::const_iterator it = votes.begin(); it != votes.end(); ++it)
    {
        if(max < it->second)
      {  max=it->second;
        res=it->first;}
    }
    return res;
}
int main() {
	// your code goes here
	long long int n,m;
	scanf("%lld %lld",&n,&m);
	map<string,string>chef_country;
	while(n--)
	{
	    string chef,country;
	    cin >> chef >> country;
	    chef_country[chef]=country;
	    
	}
	calc chef_vote,country_count;
	while(m--)
	{
	    string name;
	    cin >> name;
	    chef_vote[name]++;
	    string country1= chef_country[name];
	    country_count[country1]++;
	    	}
	    	cout << getstring(country_count) << endl;
	    	cout << getstring(chef_vote) << endl;
	return 0;
}
