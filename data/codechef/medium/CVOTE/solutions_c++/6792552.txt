#include<iostream>
#include<map>
using namespace std;
int main()
{
              int n,m;
              map <string,int> chefvote;
              map <string, string> chefcountry;
              map <string, int> countryvote;
              cin>>n>>m;
              string s,r;
              for(int i=0;i<n;i++)
              {
                      cin>>s>>r;
                      chefvote[s]=0;
                      chefcountry[s]=r;
                      countryvote[r]=0;
              }
              int maxchef=0,maxcountry=0;
              string chef,country;
              for(int i=0;i<m;i++)
              {
                       cin>>s;
                       chefvote[s]++;
                       if(chefvote[s]>maxchef)
                       {
                                              maxchef=chefvote[s];
                                              chef=s;
                       }
                       if(chefvote[s]==maxchef)
                       {
                                               if(s<chef)
                                               chef=s;
                       }
                       countryvote[chefcountry[s]]++;
                       if(countryvote[chefcountry[s]]>maxcountry)
                       {
                                               maxcountry=countryvote[chefcountry[s]];
                                               country=chefcountry[s];
                       }
                       if(countryvote[chefcountry[s]]==maxcountry)
                       {
                                               if(chefcountry[s]<country)
                                               country=chefcountry[s];
                       }
              }
              cout<<country<<endl<<chef<<endl;
    
    return 0;
} 