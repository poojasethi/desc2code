#include<iostream>
#include<map>
using namespace std;
int main()
{
	int n,m,i;
	cin>>n>>m;
	map<string,string>chefcountry;
	map<string,int>chefvotes;
	map<string,int>countryvotes;
	for(i=0;i<n;i++)
	{
		string chef,country;
		cin>>chef>>country;
		chefcountry[chef]=country;
	}
	for(i=0;i<m;i++)
	{
		string chef;
		cin>>chef;
		chefvotes[chef]++;
		string country = chefcountry[chef];
		countryvotes[country]++;
	}
	 int max_votes1=0;
	 string chef="";
	 for (map<string,int>::const_iterator it = chefvotes.begin(); it != chefvotes.end(); ++it) 
	 {
		if(max_votes1 < it->second) 
		{
			max_votes1 = it->second;
			chef = it->first;
		}
	 }
	 int max_votes2=0;
	 string country="";
	 for (map<string,int>::const_iterator it = countryvotes.begin(); it != countryvotes.end(); ++it) 
	 {
		if(max_votes2 < it->second) 
		{
			max_votes2 = it->second;
			country = it->first;
		}
	 }
	 cout<<country<<endl<<chef<<endl;
	 
	return 0;
	
}