#include<iostream>
#include<string>
#include<map>
 
using namespace std;
 
int main(void)
{
    int n,m;
    cin>>n>>m;
    map<string,string>ChefCountries;
    map<string,int>ChefVotes;
    map<string,int>CountriesVotes;
 
    while(n--)
    {
        string chef,country;
        cin>>chef>>country;
 
        ChefCountries[chef]=country;
    }
    while(m--)
    {
        string chef,country;
        cin>>chef;
 
        ChefVotes[chef]++;
        country=ChefCountries[chef];
        CountriesVotes[country]++;
    }
 
    map<string,int>::iterator it;
    string bChef,bCountry;
    int maxVotes=0;
    for(it=ChefVotes.begin();it!=ChefVotes.end();it++)
    {
        if(it->second>maxVotes)
        {
            maxVotes=it->second;
            bChef=it->first;
        }
    }
    maxVotes=0;
    for(it=CountriesVotes.begin();it!=CountriesVotes.end();it++)
    {
        if(it->second>maxVotes)
        {
            maxVotes=it->second;
            bCountry=it->first;
        }
    }
    cout<<bCountry<<endl<<bChef;
 
    return 0;
}