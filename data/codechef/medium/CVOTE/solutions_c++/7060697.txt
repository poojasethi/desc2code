#include<cstdio>
#include <cassert>
#include<iostream>
#include<map>

using namespace std;
#define maxL 100
char s[maxL+2];
string read()
{
	assert(scanf("%101s",s)==1);
	int i;
	for(i=0;s[i];i++)
	{
		char c=s[i];
		assert('A'<=c && c<='Z' || 'a'<=c && c<='z');
	}
	assert(1<=i && i<=maxL);
	return s;
}

main()
{
	map< string,string >  chef_countries;
	int n,m;
	scanf("%d",&n);
	scanf("%d",&m);
	int i;
	string chef,country;
	for(i=0;i<n;i++)
	{
		chef=read();
		country=read();
		chef_countries[chef]=country;
	}
	map< string,int > chef_vote,country_vote;
	for(i=0;i<m;i++)
	{
		chef=read();
		chef_vote[chef]++;
		
		country=chef_countries[chef];
		country_vote[country]++;
	}
	map< string,int >::iterator p;
	int max=0;
	
	
	for(p=country_vote.begin();p!=country_vote.end();p++)
	{
		if(max<p->second)
		{
			max=p->second;
			country=p->first;
		}
	}
	cout<<country<<"\n";
	
	
	
	
	max=0;
	for(p=chef_vote.begin();p!=chef_vote.end();p++)
	{
		if(max<p->second)
		{
			max=p->second;
			chef=p->first;
		}
	}
	cout<<chef<<"\n";
}