#include<bits/stdc++.h>
using namespace std;
map <string,string> mp;
map <string,int> coun;
map <string,int> coun2;
int main()
{
	int n,m;
	string b,c;
	string a[10005];
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;i++)
	{
		cin>>a[i]>>b;
		mp[a[i]]=b;
		coun[a[i]]=0;
		coun2[mp[a[i]]]=0;
	}
	for(int i=0;i<m;i++)
	{
		cin>>c;
		coun[c]++;
		coun2[mp[c]]++;
	}
	int max1=0,max2=0;
	string ans1="",ans2="";
	/*for(int i=0;i<n;i++)
	{
		cout<<mp[a[i]]<<endl;
	}*/
	for(int i=0;i<n;i++)
	{
		if(max1<coun[a[i]])
		{
		max1=coun[a[i]];
		ans1=a[i];
	}
	else if(max1==coun[a[i]])
	{
		if(ans1>a[i])
		ans1=a[i];
	}
		if(max2<coun2[mp[a[i]]])
		{
		max2=coun2[mp[a[i]]];
		ans2=mp[a[i]];
	}
	else if(max2==coun2[mp[a[i]]])
	{
		if(ans2>mp[a[i]])
		ans2=mp[a[i]];
	}
	}
	cout<<ans2<<endl<<ans1<<endl;
}