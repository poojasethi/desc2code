#include<iostream>
#include<map>
#include<string>
#include<algorithm>

using namespace std;
map <string, string> mp;
map <string, int> mp1, mp2;

map <string,int>::iterator it;

int main()
{
    int N, M;
    string STR1, STR2;
    cin>>N>>M;
    for (int i=0; i<N; i++)
    {
        cin>>STR1>>STR2;
        mp.insert(pair<string,string>(STR1,STR2));
        mp1.insert(pair<string,int>(STR1,0));
        mp2.insert(pair<string,int>(STR2,0));

    }
    for (int i=0; i<M; i++)
    {
        cin>>STR1;
        mp1[STR1]++;
        STR2=mp[STR1];
        mp2[STR2]++;
    }

    int max=0;
    for (it=mp1.begin(); it!=mp1.end(); it++)
    {
        if (it->second>max)
        {
            max=it->second;
            STR1=it->first;
        }
    }
    max=0;
    for (it=mp2.begin(); it!=mp2.end(); it++)
    {
        if (it->second>max)
        {
            max=it->second;
            STR2=it->first;
        }
    }
    cout<<STR2<<endl<<STR1;
    return 0;
}
