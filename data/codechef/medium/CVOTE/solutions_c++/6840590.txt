#include<map>
#include<cstdio>
#include<iostream>
using namespace std;
typedef map <string,int> M;
string test(const M votes)
{
	int max_votes = 0;
	string res = "";

	for (M::const_iterator it = votes.begin(); it != votes.end(); ++it) {

		if(max_votes < it->second) {
			max_votes = it->second;
			res = it->first;
		}
	}
	return res;
}
int main()
{
    map <string,string> chefcoun;
    M chefcount,ccount;
    string s1,s2;
    int n,m;
    cin>>n>>m;
    int maxi=-1;
    for(int i=0;i<n;i++)
    {
        cin>>s1>>s2;
        chefcoun[s1]=s2;
    }
    for(int i=0;i<m;i++)
    {
        cin>>s1;
        chefcount[s1]++;
        ccount[chefcoun[s1]]++;
    }
    cout << test(ccount) << endl;
	cout << test(chefcount) << endl;
	return 0;
}
