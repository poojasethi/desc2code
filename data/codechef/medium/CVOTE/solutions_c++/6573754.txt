#include<iostream>
#include<string>
#include<map>
#include<utility>
using namespace std;

int main()
{    std::map<string,string> chef_country_pair;//to store chefs representing various countries
     std::map<string,long> chef_votes;//to store chefs representing various countries
     std::map<string,long> country_votes;//to store chefs representing various countries
      long no_of_chefs,no_of_people;
	 cin>>no_of_chefs>>no_of_people;
	 
	  string chef_name,chef_country,vote;
	   
	for(long i=0;i<no_of_chefs;i++)
	{
	cin>>chef_name>>chef_country;
	chef_country_pair[chef_name]=chef_country;		
	}

	
	 for(long k=0;k<no_of_people;k++)
	 {
	    cin>>vote;
	    chef_votes[vote]++; 
	    country_votes[chef_country_pair[vote]]++;
	 
     }
     long max2=0;
     string result_country;
     for(map<string,long>::iterator i2=country_votes.begin();i2!=country_votes.end();i2++)
     {
        	if(i2->second>max2)
     	{   max2=i2->second;
     	    result_country=i2->first;	
     	}
     	
     	else if(i2->second==max2)
     	{
     		if(result_country>i2->first)
     		result_country=i2->first;
     		
     	}
	
     }
     cout<<result_country<<endl;
     long max1=0;
     string result_chef;
     for(map<string,long>::iterator i1=chef_votes.begin();i1!=chef_votes.end();i1++)
     {
     	if(i1->second>max1)
     	{   max1=i1->second;
     	   result_chef=i1->first;	
     	}
     	else if(i1->second==max1)
     	{
     		if(result_chef>i1->first)
     		result_chef=i1->first;	
     	}	
     }
     cout<<result_chef<<endl;
return 0;
}
     
     