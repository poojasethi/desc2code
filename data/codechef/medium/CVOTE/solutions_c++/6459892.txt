#include<iostream>
#include<map>
#include<string>
using namespace std;
string winner(map<string,int>&);
int main()
{
    map<string,string>chef_details;
    map<string,int>chef_vote;
    map<string,int>country_vote;
    int n,m;
    string chef_name,country_name;
    cin>>n>>m;
    for(int i=1;i<=n;i++)
    {
        cin>>chef_name;
        cin>>country_name;
        chef_details[chef_name]=country_name;
        //chef_vote[chef_name]=0;
    }
    for(int j=1;j<=m;j++)
    {
        cin>>chef_name;
        chef_vote[chef_name]++;
        country_name=chef_details[chef_name];
        country_vote[country_name]++;
    }
    string best_chef=winner(chef_vote);
    string best_country=winner(country_vote);
    cout<<best_country<<endl;
    cout<<best_chef<<endl;
    return 0;
}
string winner(map<string,int> &ass_arr)
{
    int max=0;
    string winner="";
    map<string,int>::iterator i;
    for(i=ass_arr.begin();i!=ass_arr.end();++i)
    {
        if(i->second>max)
        {
            max=i->second;
            winner=i->first;
        }
    }
    return winner;
}
