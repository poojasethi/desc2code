#include<bits/stdc++.h>
using namespace std;
typedef map<string,int>  MST;
string best_string(const MST &votes)
{
    int max_votes=0;
    string res="";
    for (MST::const_iterator it = votes.begin(); it != votes.end(); ++it)
    {
        if(max_votes < it->second) {
			max_votes = it->second;
			res = it->first;
    }
    }
    return res;
}


int main()
{
    int n,m;
    cin>>n>>m;
    map<string ,string> chef_country;
    for(int i=0;i<n;i++)
    {  string chef,country;
        cin>>chef>>country;
        chef_country[chef]=country;
    }
    MST chef_vote,country_vote;

    for(int i=0;i<m;++i)
    {
        string chef;
        cin>>chef;
        chef_vote[chef]++;
        string country=chef_country[chef];
        country_vote[country]++;
    }
    cout<<best_string(country_vote)<<endl;
    cout<<best_string(chef_vote)<<endl;

    return 0;
}
