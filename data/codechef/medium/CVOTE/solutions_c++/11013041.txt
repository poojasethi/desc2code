#include <bits/stdc++.h>

using namespace std;

int main()
{
	int n,m;
	scanf("%d%d",&n,&m);
	map<string,string> s;
	map<string,int> a;
	map<string,int> b;
	string c,d;
	while (n--)
	{
		cin >> c;
		cin >> d;
		s[c] = d;
	}
	while (m--)
	{
		cin >> c;
		a[c]++;
		b[s[c]]++;
	}
//	cout << "ayush";
	map<string,int> :: reverse_iterator it;
	int f = 1;
	int e;
	for (it = a.rbegin(); it != a.rend(); ++it)
	{
		if (f)
		{
			c = it->first;
			e = it->second;
			f = 0;
		}
		else
		{
			if (it->second > e)
			{
				e = it->second;
				c = it->first;
			}
			else if (it->second == e)
			{
				if ((it->first).compare(c) < 0)
					c = it->first;
			}
		}
	}
	f = 1;
	for (it = b.rbegin(); it != b.rend(); ++it)
	{
		if (f)
		{
			d = it->first;
			e = it->second;
			f = 0;
		}
		else
		{
			if (it->second > e)
			{
				e = it->second;
				d = it->first;
			}
			else if (it->second == e)
			{
				if ((it->first).compare(d) < 0)
					d = it->first;
			}
		}
	}
	cout << d << endl;
	cout << c << endl;
}