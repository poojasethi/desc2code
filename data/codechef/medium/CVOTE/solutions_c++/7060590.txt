#include<iostream>
#include<map>
using namespace std;
main()
{
	map< string,string >  chef_countries;
	int n,m;
	cin>>n>>m;
	int i;
	string chef,country;
	for(i=0;i<n;i++)
	{
		cin>>chef>>country;
		chef_countries[chef]=country;
	}
	map< string,int > chef_vote,country_vote;
	for(i=0;i<m;i++)
	{
		cin>>chef;
		chef_vote[chef]++;
		
		country=chef_countries[chef];
		country_vote[country]++;
	}
	map< string,int >::iterator p;
	int max=0;
	
	
	for(p=country_vote.begin();p!=country_vote.end();p++)
	{
		if(max<p->second)
		{
			max=p->second;
			country=p->first;
		}
	}
	cout<<country<<"\n";
	
	
	
	
	max=0;
	for(p=chef_vote.begin();p!=chef_vote.end();p++)
	{
		if(max<p->second)
		{
			max=p->second;
			chef=p->first;
		}
	}
	cout<<chef<<"\n";
}