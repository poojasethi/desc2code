#include<iostream>
#include<map>
#include<cstring>
#include<cstdio>
#include<utility>
using namespace std;
#define tr(c,it) \
for(typeof(c.begin())it=c.begin();it!=c.end();it++)
int main()
{
    map<string,int>cont;
    map<string,int>chef;
    map<string,string>combo;
    int n,m,maxi,i;
    string temp1,temp2;
    char coun[11],name[11];
    scanf("%d%d",&n,&m);
   for(i=0;i<n;i++)
    {
        scanf("%s",name);
        scanf("%s",coun);
        combo[name]=coun;
    }
    for(i=0;i<m;i++)
    {
        scanf("%s",name);
        chef[name]++;
        cont[combo[name]]++;
    }
    maxi=0;
    tr(cont,it1)
    {
       if((it1->second)>maxi)
       {
           maxi=it1->second;
           temp2=it1->first;
       }
    }
    maxi=0;
    tr(chef,it1)
    {
       if((it1->second)>maxi)
       {
           maxi=it1->second;
           temp1=it1->first;
       }
    }
    printf("%s\n",temp2.c_str());
    printf("%s",temp1.c_str());// to get c-string equivalent of string temp
    return 0;
}
