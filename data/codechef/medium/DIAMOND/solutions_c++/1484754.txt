#include <iostream>
#include <cstdio>
using namespace std;

double dp[2000][2000]={0};

int main()
{
	int i,j,k;

	dp[0][0]=1;
	for(i=1;i<2000;i++)
	{
		dp[i][0]=1-(dp[i-1][0]/2.0);
		dp[i][1]=dp[i][0]-(dp[i-1][1]/2.0);

		for(j=2;j<=i;j++)
		{
			dp[i][j]=dp[i][j-1]+(dp[i-1][j-2]-dp[i-1][j])/2.0;
		}
	}

	int T,N;
	double ans;
	scanf("%d",&T);
    //printf("here");

	for(i=0;i<T;i++)
	{
		scanf("%d",&N);
		ans=0.0;

		for(j=0;j<N;j++)
		{
			scanf("%d",&k);
			ans+=k*dp[N-1][j];
		}

		printf("%.6f\n",ans);
            //printf("here");
	}
	return 0;
}
