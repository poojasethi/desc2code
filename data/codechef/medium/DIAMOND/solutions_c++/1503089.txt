#include<iostream>
#include<cstring>
#include<cmath>
#include<cstdio>
using namespace std;
#define MAX 2001
double a[MAX][MAX];
int  main()
{
   a[0][0]=1.0;
 a[1][0]=0.5;
 a[1][1]=0.5;
   for(int i=2;i<MAX;i++)
   {
     double u=1.0;
     for(int j=0;j<i;j++)
      u*=0.5;
    if(i%2!=0)
    u*=(-1);
    a[i][0]=a[i-1][0]+u;
    for(int k=1;k<ceil((i+1)/2.0);k++)
    { a[i][k]=2.0*a[i-2][k-1]+a[i-2][k];
      if(k>=2)
      a[i][k]+=a[i-2][k-2];
      a[i][k]*=0.25;
      }

      for(int k=ceil((i+1)/2.0);k<=i+1;k++)
      {
        a[i][k]=a[i][i-k];
        }

   }
int t,n;
 int v[MAX];
 cin>>t;
 while(t--)
 { cin>>n;
 for(int i=0;i<n;i++)
  cin>>v[i];
  double sum=0.0;
  for(int i=0;i<n;i++)
   { //cout<<a[n-1][i]<<" "<<v[i]<<" "<<endl;
       sum+=a[n-1][i]*v[i];
    // cout<<sum<<" "<<endl;
   }
   printf("%5.4f\n",sum);
   }
   return 0;
   }
