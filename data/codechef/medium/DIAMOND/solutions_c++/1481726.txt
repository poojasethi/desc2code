#include <algorithm>
#include <iostream>
#include <cassert>
#include <cstring>
#include <cstdio>
#include <vector>
#include <cmath>
#include <map>
#include <set>

 
using namespace std;
 
#define SIZE(A) ((int)A.size())
#define LENGTH(A) ((int)A.length())
#define MP(A,B) make_pair(A,B)
#define PB(A) push_back(A)
 
const int MAXN = 2001;
 
double c[MAXN][MAXN], s[MAXN][MAXN];
 
int main()
{
	memset(s, 0, sizeof(s));
	memset(c, 0, sizeof(c));
	for (int i = 0; i < MAXN; i++)
		for (int j = 0; j <= i; j++)
		{
			if (!i && !j)
				c[i][j] = 1.;
			else
			if (!j)
				c[i][j] = c[i-1][j]/2.;
			else
				c[i][j] = c[i-1][j]/2. + c[i-1][j-1]/2.;
 
			if (c[i][j] < 1e-20) c[i][j] = 0;
 
			if (i-2>=0)
				s[i][j] = s[i-2][j];
 
			s[i][j] += c[i][j];
		}
 
	int t;
	cin >> t;
	for (; t--;)
	{
		double res = 0;
		int n;
		scanf("%d", &n);
		for (int i = 0; i < n; i++)
		{
			int x, l, r;
			scanf("%d", &x);
 
			l = i;
			r = n-i-1;
 
			if (n & 1)
			{
				res += s[l+r][l]*x/2;
				res += s[l+r][r]*x/2;
			}
			else
			{
				res += s[l+r-1][l]*x/2;
				res += s[l+r-1][r]*x/2;
			}
		}
 
		printf("%.3lf\n", res);
	}
	return 0;
}