#include <iostream>
#include <cstring>
#include <cstdio>
using namespace std;

double dp[2001][2001];

int main()
{
	//freopen("in.txt","r",stdin);
	//freopen("out.txt","w",stdout);
	for(int i=1;i<=2000;++i)for(int j=1;j<=i;++j)dp[i][j]=(1.0-(dp[i-1][j-1]+dp[i-1][j])/2.0);
	int T,N,a;
	for(scanf("%d",&T);T>0;T--)
	{
		scanf("%d",&N);
		double ans=0.0;
		for(int i=1;i<=N;++i)scanf("%d",&a),ans+=dp[N][i]*a;
		printf("%.7lf\n",ans);
	}
	return 0;
}