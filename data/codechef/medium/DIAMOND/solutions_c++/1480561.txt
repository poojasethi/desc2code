#include <iostream>
#include <cmath>
#include <cstdio>
using namespace std;

//long double E[2000],O[2000];
long double A[2000][2000];

int calc(int n){
	int i,j,m;
	if(A[n][0]!=-1){
		return 0;	
	}
	else{
		/*for(i=0;i<2000;i++){
			E[i]=0;
			O[i]=0;
		}
		*/
		if(n%2 == 0){
			m=0;
			while(A[m][0]!=-1)
				m+=2;
			for(i = m; i < (n+1); i+=2){
				A[i][i]= (2.0 + pow(0.5,i))/3.0;
				A[i][i-1]=((2.0*A[i-2][0])+A[i-2][1])/4.0;
				for(j = (i-2); j > 1; j--)
					A[i][j]=(A[i-2][j-2]+(2.0*A[i-2][j-1])+A[i-2][j])/4.0;
				A[i][1]=((2.0*A[i-2][0])+A[i-2][1])/4.0;
				A[i][0]=(2.0 + pow(0.5,i))/3.0;
			}
		/*
			for(i=0; i<n; i++){
				s+=E[i];
				cout<<E[i]<<"\t";
			}
			cout<<endl<<s;
		*/
		}
		else{
			m=1;
			while(A[m][0]!=-1)
				m+=2;
			for(i = m; i < (n+1); i+=2){
				A[i][i]= (2.0 - pow(0.5,i))/3.0;
				A[i][i-1]=((2.0*A[i-2][0])+A[i-2][1])/4.0;
				for(j = (i-2); j > 1; j--)
					A[i][j]=(A[i-2][j-2]+(2.0*A[i-2][j-1])+A[i-2][j])/4.0;
				A[i][1]=((2.0*A[i-2][0])+A[i-2][1])/4.0;
				A[i][0]=(2.0 - pow(0.5,i))/3.0;
			}
		
		/*
			for(i=0; i<n; i++){
				s+=O[i];
				cout<<O[i]<<"\t";
			}
			cout<<endl<<s;
		*/
		}
	}
}

int main(){
	int i,j,N,T,input;
	long double result;
	scanf("%d",&T);
	for(i=0;i<2000;i++){
		A[i][0]=-1;
	}
	
		A[0][0]=1;
		
		A[1][0]=A[1][1]=0.5;
		
		A[2][0]=A[2][2]=0.75;
		A[2][1]=0.5;
		
		A[3][0]=A[3][3]=0.625;
		A[3][1]=A[3][2]=0.375;
	
	while(T>0){
		result=0;
		scanf("%d",&N);
		calc(N-1);
		for(i=0;i<N;i++){
			scanf("%d",&input);
			result+=(input*A[N-1][i]);
		}
		printf("%Lf\n",result);		
		T--;
	}
	return 0;
}