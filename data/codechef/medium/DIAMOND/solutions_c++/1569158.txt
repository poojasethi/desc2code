#include <cstdio>
using namespace std;

int T, n, v[2005];
double p[2005][2005];

void pre() {
    p[1][1] = 1;
    for (int i=2; i<=2000; ++i)
        for (int j=1; j<=i; ++j)
            p[i][j] = 1 - ( j == 1 ? 0 : 0.5 * p[i-1][j-1] ) - ( j == i ? 0 : 0.5 * p[i-1][j]);
}
double DIAMOND() {    // 1 base
    double ret = 0;
    for (int i=1; i<=n; ++i) ret += p[n][i] * v[i];
    return ret;
}

int main() {
    pre();
    scanf("%d", &T);
    while (T--) {
        scanf("%d", &n);
        for (int i=1; i<=n; ++i) scanf("%d", &v[i]);
        printf("%.3f\n", DIAMOND());
    }
    return 0;
}
