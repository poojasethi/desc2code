#include <iostream>
#include <stdio.h>
#include <iomanip>

using namespace std;

double multipliers[2002][2002]; // the trick

int main()
{
	int T = 0; // number of test cases to follow
	int N = 0; // number of diamonds

	int values[2001]; // values of diamonds!
	double sum = 0; // expected value


	// compute multipliers
	for(int i = 0; i < 2001; i++)
	{
		multipliers[i][0] = 0;
		multipliers[i][i+1] = 0;
	}
	for(int i = 1; i < 2001 ; i++)
	{
		for(int j = 1; j < (i+1); j++)
		{
			multipliers[i][j] = (1 - (multipliers[i-1][j-1]+multipliers[i-1][j])/2);
		}
	}
	
	// test cases
	cin >> T;
	
	for(int i = 0; i < T; i++)
	{
		cin >> N;
	    for(int i = 1; i < (N+1); i++)
		{
			scanf("%d",&values[i]);
			sum += values[i]*multipliers[N][i];
		}
		//cout << fixed << setprecision(3) << sum << endl;
		printf("%.3f \n",sum);
		sum = 0;
	}

	return 0;
}