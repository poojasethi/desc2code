#include <stdio.h>

// WHEN I WRITE THE BELOW TWO STATEMENTS INSIDE MAIN....ITS GIVING ME A RUN TIME ERROR(SIGSEGV) // BUT WHY???

double prob[2001][2001];

int i, j;

int main() {

int nt, n, ha;
    double ans = 0.0;
    for(i=1; i < 2001; i++) {
        for(j = 1; j <= i;j++) {
            prob[i][j] = 1.0 - 0.5 * (prob[i-1][j] + prob[i-1][j-1]);
        }
    }
    scanf("%d",&nt);
    while(nt--) {
        ans = 0.0;
        scanf("%d",&n);
        for(i=1;i<=n;i++)   {
        scanf("%d",&ha);
            ans += prob[n][i] * ha;     }
        printf("%.6lf\n",ans);
    }
    return 0; }