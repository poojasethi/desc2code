#include<bits/stdc++.h>
using namespace std;
int main()
{
    int T,N,num,flag,ind,n;
    scanf("%d",&T);
    int mn,len;
    string cur,ans;
    while(T--)
    {
        mn=22;
        scanf("%d",&N);
        string str[N];
        for(int i=0;i<N;i++)
        {
            cin>>str[i];
            len=str[i].length();
            if(mn>len)
            {
                mn=len;
                ind=i;
            }
        }

        int l=mn;
        bool no=true;
        //int curl=strlen
        for(;no&&l>0;l--)
        {
            //printf("l=%d\n",l);
            for(int j=0;j+l<=mn;j++)
            {//printf("j=%d\n",j);
                cur=str[ind].substr(j,l);
                bool res=true;
                for(int i=0;i<N;i++)
                {
                    if(i==ind)
                        continue;
                    if(str[i].find(cur)==string::npos)
                    {
                        res=false;
                        //cout<<cur<<" not found in "<<str[i]<<endl;
                        break;
                    }
                    //cout<<cur<<" found in "<<str[i]<<endl;
                }
                if(!res)
                    continue;
                else
                {
                    if(no)
                    {
                        ans=cur;
                        no=false;
                    }
                    else if(lexicographical_compare(cur.begin(),cur.end(),ans.begin(),ans.end()))
                    {
                        ans=cur;
                    }
                    //cout<<"ans = "<<ans<<endl;
                }
                //cout<<cur<<endl;
            }
        }
        cout<<ans<<endl;
    }
    return 0;
}

