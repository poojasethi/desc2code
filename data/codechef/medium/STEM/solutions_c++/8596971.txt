
// aymos (Somya Mehdiratta, IIIT Hyderabad)

#include <bits/stdc++.h>
using namespace std;

#define IN(x) scanf("%d",&(x))
#define IN2(x,y) scanf("%d%d",&(x),&(y))
#define MP make_pair
#define PB push_back
#define FOR(i,s,n) for(int i=(s),_n=(n);i<_n;i++)
#define FORD(i,s,n) for(int i=(s),_n=(n);i>=_n;i--)
#define CLEAR(a) memset((a), 0, sizeof(a))
#define ALL(c) (c).begin(), (c).end()
#define DBG(x) cerr<< ">>> "<<#x<<" : "<<x<<endl;
typedef long long LL;
typedef vector<int> VI;
typedef pair<int,int> PII;

int main(int argc, char *argv[]) {
    int t;
    IN(t);
    while(t--) {
        int n;
        IN(n);
        map<string,set<int> > m;
        vector<string> s(n);

        FOR(i,0,n) {
            cin>>s[i];
            FOR(k,0,s[i].size()) {
                string sub;
                FOR(j,k,s[i].size()) {
                    sub+=s[i][j];
                    m[sub].insert(i);
                }
            }
        }
        string ans;
        map<string,set<int> > :: iterator it;
        for(it = m.begin();it!=m.end();++it) {
            if((it->second).size() == n) {
                string c = it->first;
                if(c.size() > ans.size()) {
                        ans = c;
                }
                else if( c.size() == ans.size() &&  c < ans)
                    ans = c;
            }
        }
        cout<<ans<<endl;



    }
	return 0;
}
