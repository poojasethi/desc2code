//Caution to the wind,complete freedom
#include<bits/stdc++.h>
#define ll long long
#define fi first
#define se second
#define MOD 1000000007
ll mpow(ll a, ll n,ll mod)
{ll ret=1;ll b=a;while(n) {if(n&1)
    ret=(ret*b)%mod;b=(b*b)%mod;n>>=1;}
return (ll)ret;
}
using namespace std;
#define irr acos(-1.0)
#define MAXA 1000003
#define sl(n) scanf("%lld",&n)
#define mem(x,a) memset(x,a,sizeof(x))
#define pii pair<int,int>
vector<pair<int,int> > vx1,vy1,vx2,vy2;
vector<int> vminx,vminy,vmaxx,vmaxy;
vector<pair<int,int> >::iterator it;
void allclear()
{
    vx1.clear();
    vy1.clear();
    vx2.clear();
    vy2.clear();
    vminx.clear();
    vminy.clear();
    vmaxx.clear();
    vmaxy.clear();

}
int main()
{
    int t;
    cin>>t;
    while(t--)
    {
        int n,m,i,j;
        cin>>n;
        for(i=0;i<n;i++)
        {
            cin>>m;
            int minx=MOD,miny=MOD,maxx=-MOD,maxy=-MOD;
            for(j=0;j<m;j++)
            {
               int x,y;
                cin>>x>>y;
                minx=min(minx,x);
                miny=min(miny,y);
                maxx=max(maxx,x);
                maxy=max(maxy,y);
            }
                vminx.push_back(minx);
                vminy.push_back(miny);
                vmaxx.push_back(maxx);
                vmaxy.push_back(maxy);
                vx1.push_back(make_pair(minx,j));
                vy1.push_back(make_pair(miny,j));
                vx2.push_back(make_pair(maxx,j));
                vy2.push_back(make_pair(maxy,j));
        }
            sort(vx1.begin(),vx1.end());
            sort(vy1.begin(),vy1.end());
            sort(vx2.begin(),vx2.end());
            sort(vy2.begin(),vy2.end());
            for(j=0;j<n;j++)
            {
                int pos=1000006;
                it=lower_bound(vx1.begin(),vx1.end(),make_pair(vminx[j],0));
                pos=min(pos,(int)(n-(it-vx1.begin())));
                it=lower_bound(vy1.begin(),vy1.end(),make_pair(vminy[j],0));
                pos=min(pos,(n-(it-vy1.begin())));
                it=upper_bound(vx2.begin(),vx2.end(),make_pair(vmaxx[j],INT_MAX));
                if(it!=vx2.begin())
                it--;
                pos=min(pos,(it-vx2.begin()));
                it=upper_bound(vy2.begin(),vy2.end(),make_pair(vmaxy[j],INT_MAX));
                if(it!=vy2.begin())
                it--;
                pos=min(pos,(it-vy2.begin()));
                cout<<pos<<" ";
            }
            allclear();
    }

    return 0;
}
