#include<iostream>
using namespace std;

struct coor
{
	long long int val;
	int pos;
};

void swap(struct coor &a,struct coor &b)
{
	struct coor temp;
	temp=a;
	a=b;
	b=temp;
}
int midpoint(struct coor arr[],int p,int q)
{
	int i=p;
	long long int x=arr[p].val;
	
	for(int j=p+1;j<=q;j++)
	{
		if(arr[j].val<=x)
		{
			i++;
			swap(arr[i],arr[j]);
		}
	}
	swap(arr[p],arr[i]);
	return i;
}
void quicksort(struct coor arr[],int p,int q)
{
	if(p<q)
	{
		int r = midpoint(arr,p,q);
		quicksort(arr,p,r-1);
		quicksort(arr,r+1,q);
	}
}
int main()
{
	int t;
	cin>>t;
	
	while(t--)
	{
		int n;
		cin>>n;
		struct coor arr[n];
		for(int i=0;i<n;i++)
		{
			int m;
			cin>>m;
			long long int x,y,max;
			cin>>x>>y;
			max=x;
			m--;
			
			while(m--)
			{
				cin>>x>>y;
				
				if(x>=max)
					max=x;
			}
			arr[i].val=max;
			arr[i].pos=i;
			
		}
		quicksort(arr,0,n-1);
		
		int arr1[n];
		
		for(int i=0;i<n;i++)
		{
			arr1[arr[i].pos]=i;
		}
		for(int i=0;i<n;i++)
			cout<<arr1[i]<<" ";
		cout<<"\n";
	}
	return 0;
}