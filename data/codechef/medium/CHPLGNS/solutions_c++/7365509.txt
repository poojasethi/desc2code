#include<iostream>
#include<algorithm>
#include<map>
using namespace std;
 
double a[100005],b[100005];
 
int main()
{
 //ios::sync_with_stdio(false);  
 long long  t,n,m;
 int i;
 map <double, int> pos; 
 double why1,why2,yex1,yex2,yex0,why0;
 cin>>t;
 while(t--)
 {
    cin>>n;
	for(i=0;i<n;i++)
 	{
 	  a[i]=0;
	  cin>>m;
	  m--;
	  cin>>yex1>>why1;
	  yex0=yex1;
	  why0=why1;
	  while(m--)
	  {
	  	cin>>yex2>>why2;
	  	a[i]+=(yex2-yex1)*((why1+why2)/2);
	  	yex1=yex2;
	  	why1=why2;
	  }
	  yex2=yex0;
	  why2=why0;
      a[i]+=(yex2-yex1)*((why1+why2)/2);
      a[i]=(a[i]<0)? -a[i]:a[i];
	  //a[i]=abs(a[i]);
      b[i]=a[i];
    }
   sort(b,b+n);
   for(i=0;i<n;i++)
    pos[b[i]]=i;
   for(i=0;i<n;i++)
    cout<<pos[a[i]]<<' ';
 }
 return 0;
}