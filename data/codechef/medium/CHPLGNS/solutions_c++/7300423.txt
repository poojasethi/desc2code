#include<bits/stdc++.h>

using namespace std;

struct node
{
	long polygon_no;
	long max_x;
};

bool compfn(node obj1,node obj2)
{
	return obj1.max_x<obj2.max_x;
}

int main()
{
	long t;
	cin>>t;
	long n,i,m,max_x,j,x,y;
	
	while(t--)
	{
		cin>>n;  // n polygons
		long arr[n+1];
		node obj[n+1];
		long pos[n+1];
		long ans[n+1];
		
		for(i=1;i<=n;i++)
		{
			cin>>m;  // m vertices
			for(j=1;j<=m;j++)
			{
				cin>>x>>y;
				
				if(j==1)
					max_x=x;
					
				else if(x>max_x)
					max_x=x;
				
			}
			
			obj[i].polygon_no=i;
			obj[i].max_x=max_x;
			arr[i]=max_x;
		}
		
		//cout<<arr[1]<<" "<<arr[2]<<" "<<arr[3];
		
		/*	for(i=1;i<=n;i++)
		{
			cout<<"no- "<<obj[i].polygon_no<<" "<<obj[i].max_x<<"\n";
		}
		*/
		
		sort(obj+1,obj+n+1,compfn);
		
		//cout<<"after sorting";
		/*
		for(i=1;i<=n;i++)
		{
			cout<<"no- "<<obj[i].polygon_no<<" "<<obj[i].max_x<<"\n";
		}
		*/
		
		for(i=1;i<=n;i++)
		{
			pos[obj[i].polygon_no]=i;
		}
		
		for(i=1;i<=n;i++)
		{
			ans[i]=pos[i]-1;
			cout<<ans[i]<<" ";
		}
		cout<<"\n";
		
		
		
		
		
		
		
	}
	return 0;
}
