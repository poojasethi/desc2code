#include<bits/stdc++.h>
using namespace std;
int power(int a,int j)
{
    int res=1,i;
    if(a<0)
        a=a*(-1);
    for(i=0;i<j;i++)
        res=a*res;
    return res;
}
int main()
{
    int t,i,b_count,g_count,type,res,count,count1,len,j;
    char str[100002];
    scanf("%d",&t);
    while(t--)
    {
        res=0;b_count=0;g_count=0;count=0;count1=0;
        scanf("%d",&type);
        if(type==2)
            type=1;
        scanf("%s",&str);
        len=strlen(str);
        for(i=0;str[i]!='\0';i++)
        {
            if(str[i]=='B')
                b_count++;
            else
                g_count++;
        }
        if(g_count==b_count || g_count==b_count+1||g_count==b_count-1)
        {
            if(b_count>g_count)
            {
                 i=0;j=1;
                while(i<len&&j<len)
                {
                    while(str[i]=='B'&&i<len)
                        i=i+2;
                    while(str[j]=='G'&&j<len)
                        j=j+2;
                    if(i<len &&j<len)
                    res=res+power(i-j,type);
                    i=i+2;
                    j=j+2;
                }
            }
            else if(g_count>b_count)
            {
                i=0;j=1;
                while(i<len&&j<len)
                {
                    while(str[i]=='G'&&i<len)
                        i=i+2;
                    while(str[j]=='B'&&j<len)
                        j=j+2;
                    if(i<len &&j<len)
                    res=res+power(i-j,type);
                    i=i+2;
                    j=j+2;
                }
            }
            else
            {
                i=0;j=1;
                while(i<len&&j<len)
                {
                    while(i<len&&str[i]=='B')
                        i=i+2;
                    while(j<len&&str[j]=='G')
                        j=j+2;
                    if(i<len&&j<len)
                    {
                        if(i>j)
                            count=count+pow((i-j),type);
                        else
                            count=count+pow((j-i),type);
                    }
                    i=i+2;
                    j=j+2;

                }
                i=0;j=1;
                while(i<len&&j<len)
                {
                    while(i<len&&str[i]=='G')
                        i=i+2;
                    while(j<len&&str[j]=='B')
                        j=j+2;
                    if(i<len&&j<len)
                    {
                        if(i>j)
                            count1=count1+pow((i-j),type);
                        else
                            count1=count1+pow((j-i),type);
                    }
                    i=i+2;
                    j=j+2;
                }
                if(count>count1)
                    res=count1;
                    else
                        res=count;
            }
            printf("%d\n",res);
        }
        else
            printf("-1\n");
    }
    return 0;
}
