#include<bits/stdc++.h>
using namespace std;
#define ll long long
//0-> BOY  1-> Girl
char s[1000001];
int a[2][1000001]={0};

int mod(int a){return a>0?a:(-1*a);}
int powr(int a,int p)
{
    if(p==0)return 1;
    else if(p==1)return a;
    else return (a*a);
}
 int min( int a, int b){return a>b?b:a;}

int main()
{
    int t;
    cin>>t;
    while(t--)
    {
       int p,i,j,k;
       ll int ans1=0,ans2=0;
       s[0]='\0';a[0][0]=a[1][0]=-1;
        cin>>p;
        cin>>s;
        if(p)p=1;
        j=k=0;
        for(i=0;s[i]!='\0';i++)
        {
            if(s[i]=='B')j++;
            else k++;

        }
        if(mod(j-k)<=1){

            j=k=0;
            for(i=0;s[i]!='\0';i++)
            {
                if(i%2==0&&s[i]!='G')a[0][j++]=i;
                if(i%2==1&&s[i]!='B')a[1][k++]=i;
            }
            a[0][j]=a[1][k]=-1;
            j=k=0;
            while(a[0][j]!=-1&&a[1][k]!=-1)
            {

                ans1+=powr(mod(a[0][j++]-a[1][k++]),p);
                //printf("%d %d= %d\n",a[0][j],a[1][k],ans1);
            }
            //printf("ans1=%d\n",ans1);
            if(a[0][j]!=-1 || a[1][k]!=-1)ans1=numeric_limits<ll int>::max();


            a[0][0]=a[1][0]=-1;
            j=k=0;
            for(i=0;s[i]!='\0';i++)
            {
                if(i%2==0&&s[i]!='B')a[1][j++]=i;
                if(i%2==1&&s[i]!='G')a[0][k++]=i;
            }
            a[1][j]=a[0][k]=-1;
            j=k=0;
            while(a[0][k]!=-1&&a[1][j]!=-1)
            {
                //printf("->%d %d= %d\n",a[0][k],a[1][j],ans2);
                ans2+=powr(mod(a[0][k++]-a[1][j++]),p);
            }

            if(a[0][k]!=-1||a[1][j]!=-1)ans2=numeric_limits<ll int>::max();

            //printf("%d,%d = %d\n",ans1,ans2,min(ans1,ans2));
            printf("%lld\n",min(ans1,ans2));
        }
        else printf("-1\n");
    }

    return 0;
}
