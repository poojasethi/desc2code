#include <iostream>
#include <cstdio>
#include <cmath>
#include <cstring>
using namespace std;

int main(){
    int t;
    scanf("%d",&t);
    while(t--){
        int type;
        string str;
        scanf("%d",&type);
        cin>>str;
        int nb=0,ng=0;
        int len=str.length();
        for(int j=0;j<len;j++){
            if(str.at(j)=='B')
                nb++;
            else
                ng++;
        }
        if(nb==ng||ng==nb+1||nb==ng+1){
            if(type==0){
                int ans=0;
                if(ng==nb+1){
                    for(int j=0;j<len;j=j+2){
                        if(str.at(j)=='B')
                            ans++;
                    }
                }else if(nb==ng+1){
                    for(int j=0;j<len;j=j+2){
                        if(str.at(j)=='G')
                            ans++;
                    }
                }else{
                    int ans1=0,ans2=0;
                    for(int j=0;j<len;j=j+2){
                        if(str.at(j)=='B')
                            ans1++;
                        if(str.at(j)=='G')
                            ans2++;
                    }
                    ans=min(ans1,ans2);
                }
                printf("%d\n",ans);
            }else if(type==1||type==2){
                int ans=0;
                int arr1[len];
                int arr2[len];
                int n1=-1,n2=-1;
                if(ng==nb+1){
                    for(int j=0;j<len;j++){
                        if(j%2==0){
                            if(str.at(j)=='B'){
                                arr1[++n1]=j;
                            }
                        }else{
                            if(str.at(j)=='G'){
                                arr2[++n2]=j;
                            }
                        }
                    }
                    for(int j=0;j<=n1;j++){
                        if(arr1[j]-arr2[j]>=0){
                            ans=ans+(arr1[j]-arr2[j]);
                        }else{
                            ans=ans-(arr1[j]-arr2[j]);
                        }
                    }
                }else if(nb==ng+1){
                    for(int j=0;j<len;j++){
                        if(j%2==0){
                            if(str.at(j)=='G'){
                                arr1[++n1]=j;
                            }
                        }else{
                            if(str.at(j)=='B'){
                                arr2[++n2]=j;
                            }
                        }
                    }
                    for(int j=0;j<=n1;j++){
                        if(arr1[j]-arr2[j]>=0){
                            ans=ans+(arr1[j]-arr2[j]);
                        }else{
                            ans=ans-(arr1[j]-arr2[j]);
                        }
                    }
                }else{
                    int ans1=0,ans2=0;
                    for(int j=0;j<len;j++){
                        if(j%2==0){
                            if(str.at(j)=='G'){
                                arr1[++n1]=j;
                            }
                        }else{
                            if(str.at(j)=='B'){
                                arr2[++n2]=j;
                            }
                        }
                    }
                    for(int j=0;j<=n1;j++){
                        if(arr1[j]-arr2[j]>=0){
                            ans1=ans1+(arr1[j]-arr2[j]);
                        }else{
                            ans1=ans1-(arr1[j]-arr2[j]);
                        }
                    }
                    n1=n2=-1;
                    for(int j=0;j<len;j++){
                        if(j%2==0){
                            if(str.at(j)=='B'){
                                arr1[++n1]=j;
                            }
                        }else{
                            if(str.at(j)=='G'){
                                arr2[++n2]=j;
                            }
                        }
                    }
                    for(int j=0;j<=n1;j++){
                        if(arr1[j]-arr2[j]>=0){
                            ans2=ans2+(arr1[j]-arr2[j]);
                        }else{
                            ans2=ans2-(arr1[j]-arr2[j]);
                        }
                    }
                    ans=min(ans1,ans2);
                }
                printf("%d\n",ans);
            }
        }else{
            printf("-1\n");
        }
    }
}









