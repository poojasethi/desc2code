#include<iostream>
#include<string.h>
#include<stdlib.h>
using namespace std;
main()
{
  long long t,type,i,len,b,g,c1,c2,cur1,cur2,b1[100002],b2[100002];
  char arr[100002],orig1[100002],orig2[100002];
  cin>>t;
  while(t--)
  {
    cin>>type;
    cin>>arr;
    len=strlen(arr);
     b=g=0;
    for(i=0;i<len;i++)
     {
        if(arr[i]=='B')
           b++;
         else
           g++;
        if(i%2==0)
        {
          orig1[i]='B';
          orig2[i]='G';
         
        }
        else
       {
          orig1[i]='G';
          orig2[i]='B';

        }
       if(arr[i]=='B'&&orig1[i]=='G')
        {  b1[i]=1; b2[i]=0; }
       else if(arr[i]=='G'&&orig1[i]=='B')
        {  b1[i]=-1; b2[i]=0; }
       else 
        {  b1[i]=0; 
           if(arr[i]=='B'&&orig2[i]=='G') 
             b2[i]=1;
           else if(arr[i]=='G'&&orig2[i]=='B')
              b2[i]=-1;
        }
        
     }
     orig1[i]=orig2[i]='\0';
     if((len%2==0 && b==g)|| (len%2==1 && b==g+1) || (len%2==1 && g==b+1))
         ;
     else
     { cout<<"-1\n"; continue;}
//      	if((len%2==0 && b!=g) || (len%2==1 && b!=len/2 && b!=(len/2 + 1))) {
//          cout<<"-1\n";
//         continue;
//          }   
    
    if(type==0)
    {
     // just count no  of swaps
     c1=c2=0;
     if(b==g)
     {
       for(i=0;i<len;i++)
       { if(arr[i]!=orig1[i])
            c1++;
         if(arr[i]!=orig2[i])
            c2++;
       }
       if(c1<c2)
         cout<<c1/2<<endl;
      else
        cout<<c2/2<<endl;
      }
      else if(b==g+1)
      {
         for(i=0;i<len;i++)
         {
            if(b1[i]!=0)
               c1++;
         }
         cout<<c1/2<<endl;
      }
      else
      {
 	for(i=0;i<len;i++)
         {
            if(b2[i]!=0)
               c1++;
         }
         cout<<c1/2<<endl;
      }
    }
    else
    {
      cur1=0;cur2=0;c1=c2=0;
      if(b==g)
      {
        for(i=0;i<len;i++)
        {
          cur1+=b1[i];
          cur2+=b2[i];
          c1+=abs(cur1);
          c2+=abs(cur2);   
          
        }
        if(c1<c2)
           cout<<c1<<endl;
        else
          cout<<c2<<endl;
      }
      else if(b==g+1)
      {
        for(i=0;i<len;i++)
        {
          cur1+=b1[i];
     //   cur2+=b2[i];
          c1+=abs(cur1);
    //    c2+=abs(cur2);   
        }
        cout<<c1<<endl;
      }
      else
      {
        for(i=0;i<len;i++)
        {
          cur1+=b2[i];
          c1+=abs(cur1);
        }
      //  if(c1<c2)
     //    cout<<c1<<endl;
    //  else
        cout<<c1<<endl;
      }
    }
  }
  
  return 0;
}
