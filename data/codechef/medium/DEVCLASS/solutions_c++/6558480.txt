#include <iostream>
#include<string>
#include<vector>
#include<algorithm>
#include<cmath>

#define N 100000

using namespace std;

int main() {
	// your code goes here
	int T,i,type,c1,c2,m,b,g,len;
	string s,s1;
	char start;
	vector<int> bs,gs;
	cin>>T;
	while(T--)
	{
		c1=c2=0;
		b=g=0;
		cin>>type;
		cin>>s;
		
		if(type>1)
			type=1;
		len=s.length();
		for(i=0;i<len;i++)
			if(s[i]=='G')
				g++;
			else
				b++;
		
		if(abs(b-g)>1)
		{
			cout<<"-1\n";
			continue;
		}
		
		s1="";
		start='G';
		if(b>g)
			start='B';
		else
			s1=s;
		
		if(s[0]!=start)
		{
			for(i=1;i<len;i+=2)
				if(s[i]==start)
				{
					c1+=pow(i,type);
					s[i]=s[0];
					s[0]=start;
					break;
				}
		}
		
		gs.clear();
		bs.clear();
		
		for(i=2;i<len;i+=2)
			if(s[i]!=s[0])
				bs.push_back(i);
		
		for(i=1;i<len;i+=2)
			if(s[i]==s[0])
				gs.push_back(i);
		
		m=min(gs.size(), bs.size());
		
		for(i=0;i<m;i++)
			c1+=pow(abs(bs[i]-gs[i]),type);
			
		if(b==g)
		{
			s=s1;
			
			if(s[0]==start)
				for(i=1;i<len;i+=2)
					if(s[i]!=s[0])
					{
						c2+=pow(i,type);
						s[0]=s[i];
						s[i]=start;
						break;
					}
				
			gs.clear();
			bs.clear();
			
			for(i=2;i<len;i+=2)
				if(s[i]!=s[0])
					bs.push_back(i);
			
			for(i=1;i<len;i+=2)
				if(s[i]==s[0])
					gs.push_back(i);
			
			m=min(gs.size(), bs.size());
			
			for(i=0;i<m;i++)
				c2+=pow(abs(bs[i]-gs[i]),type);
				
			cout<<min(c1,c2)<<endl;
		}
		else
			cout<<c1<<endl;
	}
	return 0;
}