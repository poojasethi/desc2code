#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <math.h>

int main()
{
#ifdef USE_DATA_TXT
  freopen_s(&stream, "c:\\data.txt", "r", stdin);
#endif
#ifdef PRINT_PERF
  auto start = std::chrono::high_resolution_clock::now();
#endif

  int T;
  scanf("%d\n", &T);

  char s[40][55];

  while(T--)
  {
    int N;
    scanf("%d\n", &N);

    for(int i = 0; i < N; ++i)
    {
      gets(s[i]);
    }

    int i = N - 1;
    char dir = s[i][0];
    char *name = s[i] + ((dir == 'L' || dir == 'l') ? 4 : 5);
    printf("Begin"); printf(name); putchar('\n');

    for(--i; i >= 0; --i)
    {
      printf((dir == 'R' || dir == 'r') ? "Left" : "Right");
      dir = s[i][0];
      name = s[i] + ((dir == 'L' || dir == 'l') ? 4 : 5);
      printf(name);
      putchar('\n');
    }

    printf("\n");
  }

#ifdef PRINT_PERF
  PrintResultPerf(start);
#endif
#ifdef USE_DATA_TXT
  if(stream)
  {
    fclose(stream);
    stream = NULL;
  }
#endif

  return 0;
}
