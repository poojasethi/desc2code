#include<iostream>
#include<stdio.h>
using namespace std;
bool replace(std::string& str, const std::string& from, const std::string& to) {
    size_t start_pos = str.find(from);
    if(start_pos == std::string::npos)
        return false;
    str.replace(start_pos, from.length(), to);
    return true;
}
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int n;
        scanf("%d",&n);
        string s[n];
        cin.ignore();
        for(int i=0;i<n;i++)
        {

            getline(cin,s[i]);
            //cout<<s[i]<<endl;
        }
        char p;
        if(s[n-1][0]=='L'){
        replace(s[n-1],"Left","Begin");
        p='L';
        }
        else{
            replace(s[n-1],"Right","Begin");
        p='R';
        }
        for(int i=n-2;i>0;i--)
        {
            if(p=='L')
            {
                 p=s[i][0];
                if(s[i][0]=='L')
              replace(s[i], "Left", "Right");
            }
            else //if(p=='R')
            {
                p=s[i][0];
                if(s[i][0]=='R')
               replace(s[i], "Right", "Left");
            }
        }
            if(p=='L')
            {
              replace(s[0], "Begin", "Right");
            }
            else //if(p=='R')
            {
               replace(s[0], "Begin", "Left");
            }
        for(int i=n-1;i>=0;i--)
        {
            //getline(cin,s[i]);
            cout<<s[i]<<endl;
        }
    }
    return 0;
}
