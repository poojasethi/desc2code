for _ in range(int(raw_input())):
    N=int(raw_input())
    direcs=[]
    places=[]
    for _ in range(N):
        res = raw_input().split(' on ')
        direcs.append(res[0])
        places.append(res[1])
    rdirecs=[]
    rdirecs.append('Begin')
    
    for direc in reversed(direcs[1:]):
        if direc == "Right":
            rdirecs.append("Left")
        else:
            rdirecs.append("Right")
    for x in range(N):
        print rdirecs[x] + ' on '+ places[N-x-1]
        
        
