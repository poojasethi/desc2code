tests = int(raw_input())

for T in xrange(tests):
	roads = []
	total_instr = int(raw_input())
	for x in xrange(total_instr):
		roads.append(raw_input())
	# now reverse
	r_roads = roads[::-1]
	# print new instructions
	print "Begin on " + " ".join(r_roads[0].split(" ")[2:])
	for x in xrange(1,total_instr):
		turn = "Left" if r_roads[x-1].split(" ")[0] == "Right" else "Right"
		inst = turn + " on "+ ' '.join(r_roads[x].split(" ")[2:])
		print inst