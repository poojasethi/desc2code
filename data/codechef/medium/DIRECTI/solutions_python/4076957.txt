cases=int(raw_input());
while cases:
	S=int(raw_input());
	list=[];
	z=S;
	while S:
		x=raw_input().split();
		list.append(x);
		S-=1;
	
	str="Begin"
	for i in range(1,len(list[z-1])):
		str=str+" "+list[z-1][i]
	print str
	str=""
	for j in range(z-1,0,-1):
		if list[j][0]=="Right":
			str=str+"Left"
		else:
			str=str+"Right"
		for i in range(1,len(list[j-1])):
			str=str+" "+list[j-1][i]
		print str
		str=""
	
	cases-=1
