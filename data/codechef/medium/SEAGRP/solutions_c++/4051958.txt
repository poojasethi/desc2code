#include <stdio.h>
#define N 210
 
int head[N], to[N], next[N];
int n, m;
int match[N], v[N];
 
int aug(int now) {
	int t, ret=0, i;
	v[now]=1;
	for (i=head[now]; i!=-1; i=next[i]) {
		t=to[i];
		if (v[t]) continue;
		if (match[t]<0) match[now]=t, match[t]=now, ret=1;
		else {
			v[t]=1;
			if (aug(match[t])) match[now]=t, match[t]=now, ret=1;
			v[t]=0;
		}
		if (ret) break;
	}
	v[now]=0;
	return ret;
}
 
int Match() {
	int i, j;
	for (i=0; i<n; i++) v[i]=0, match[i]=-1;
	for (i=0, j=n; i<n && j>=2; ) {
		if (match[i]<0 && aug(i)) i=0, j-=2;
		else i++;
	}
	for (i=j=0; i<n; i++) j+=(match[i]>=0);
	return j/2;
}
 
int main() {
	int T, i, j, k;
//	freopen ("in.txt", "r", stdin);
	for (scanf("%d", &T); T--; ) {
		scanf("%d %d", &n, &m);
		for (i=0; i<n; i++) head[i]=-1;
		for (i=0; i<m; i++) {
			scanf("%d %d", &j, &k);
			j--, k--;
			to[i]=k, next[i]=head[j], head[j]=i;
			to[i+m]=j, next[i+m]=head[k], head[k]=i+m;
		}
		if (Match()*2==n) puts("YES");
		else puts("NO");
	}
	return 0;
}