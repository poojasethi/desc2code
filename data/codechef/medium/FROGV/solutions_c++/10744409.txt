#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
pair<ll,int> a[100005];
int b[100005];
int main()
{
     int n,p,i;
     ll k,x;
     scanf("%d%lld%d",&n,&k,&p);
     for(i=1;i<=n;i++)
     {
         scanf("%lld",&x);
         a[i].first=x;
         a[i].second=i;
     }
     sort(a+1,a+n+1);
     
     b[a[1].second]=a[1].second;
     for(i=2;i<=n;i++)
     {
        if(a[i].first-a[i-1].first<=k)
          b[a[i].second]=b[a[i-1].second];
        else
          b[a[i].second]=a[i].second;
     }
     int r,s;
     while(p--)
     {
         scanf("%d%d",&r,&s);
         if(b[r]==b[s])
           cout<<"Yes\n";
         else
           cout<<"No\n";
     }
    return 0;
}