#include<bits/stdc++.h>
using namespace std;


struct node
{
    int index;
    int val;
}a[100005];

bool compare(node x,node y)
{
    if(x.val==y.val)
        return x.index<y.index;
    return x.val<y.val;
}

int m[100005],n,k,p,x,y,l=1;

void func()
{
    sort(a,a+n,compare);
    int i=0;
    while(i<n)
    {
        m[a[i].index]=l;
        while(i+1<n && (a[i+1].val-a[i].val<=k))
        {
            m[a[i+1].index]=l;
            i++;
        }
        i++;
        l++;
    }
}

int main()
{
    scanf("%d %d %d",&n,&k,&p);
    for(int i=0;i<n;i++)
        {
        scanf("%d",&a[i].val);
        a[i].index=i+1;
        }
    func();
    while(p--)
    {
        scanf("%d %d",&x,&y);
        if(m[x]==m[y])
            printf("Yes\n");
        else
            printf("No\n");
    }
return 0;
}
