#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int main() {
	// your code goes here
	int N,K,P,x,A,B;
	cin>>N>>K>>P;
	vector<int> a;
	vector< pair<int,int> > ar;
	for(int i=0;i<N;i++){
	    cin>>x;
	    a.push_back(x);
	    ar.push_back(make_pair(x,i));
	}
	sort(ar.begin(),ar.end());
	a[ar[0].second] = ar[0].second;
	for(int i=1;i<ar.size();i++){
	    if(ar[i].first-ar[i-1].first<=K){
	        a[ar[i].second] = a[ar[i-1].second];
	    }
	    else{
	        a[ar[i].second] = ar[i].second;
	    }
	}
	while(P--){
	    cin>>A>>B;
	    if(a[A-1]==a[B-1])
	       cout<<"Yes\n";
	   else
	       cout<<"No\n"; 
	}
	return 0;
}
