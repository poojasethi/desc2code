	#include<iostream>
	#include<stdio.h>
	#include<map>
	using namespace std;
	int main()
	{
		int n,p,k;
		cin>>n>>k>>p;
		int num;
		multimap<int,int > set;
		for(int i=1;i<=n;i++)
		{
			cin>>num;
			set.insert(make_pair(num,i));
		}	
		int left[100005],a[2][100005];
		int right[100005];
		int first1,second1;
		int index=1;
		for(multimap<int,int > ::iterator it=set.begin();it!=set.end();it++)
		{
			
			a[1][index]=it->first;
			a[0][index]=it->second;
			index++;			
		}
	//	for(int i=1;i<=n;i++)
	//		cout<<a[1][i]<<" ";
	//	cout<<endl;
	//	for(int i=1;i<=n;i++)
	//		cout<<a[0][i]<<" ";
	//	cout<<endl;
		left[1]=a[0][1];
		for(int i=2;i<=n;i++)
		{
			if(a[1][i]-a[1][i-1]<=k)
			{
				left[i]=left[i-1];
			}	
			else
				left[i]=a[0][i];
		}	
		//for(int i=1;i<=n;i++)
		//	cout<<left[i]<<" ";
		int leftfinal[100005];
		for(int i=1;i<=n;i++)
		{
			leftfinal[a[0][i]]=left[i];
		}	
	//	cout<<endl;
		int num1,num2;
		for(int i=0;i<p;i++)
		{
			cin>>num1>>num2;
			if(leftfinal[num1]==leftfinal[num2])
				cout<<"Yes\n";
			else
				cout<<"No\n";
		}	
	}