#include<bits/stdc++.h>
using namespace std;
const int N=1e5+5;
pair<int,int> A[N];
int B[N];
int n,k,p;
int main()
{
   scanf("%d %d %d",&n,&k,&p);
   int i;
   for(i=1;i<=n;i++)
   {
      scanf("%d",&A[i].first);
      A[i].second=i;
   }
   sort(A+1,A+1+n);
    int cur=1;
   for(i=1;i<=n;i++)
   {
   	cur+=((A[i].first-A[i-1].first)>k);
    B[A[i].second]=cur;
   }
   for(i=0;i<p;i++)
   {
   	int a,b;
   	scanf("%d %d",&a,&b);
   	if(B[a]==B[b])
   	{
   		printf("Yes\n");
   	}
   	else
   	{
   		printf("No\n");
   	}
   }
   return 0;
}