#include <bits/stdc++.h>
using namespace std;

int a[100001];
vector < pair <int,int> > b;
int c[100001];

int main(){
    int n,k,q;
    cin >> n >> k >> q;
    for(int i = 1; i <= n; i++) cin >> a[i];
    for(int i = 1; i <= n; i++){
        b.push_back(make_pair(a[i],i));
    }
    sort(b.begin(),b.end());
    int st = 1, en = 1,range = 1;
    c[b[0].second]=1;
    for(int i = 1; i < b.size(); i++){
        if(b[i].first-b[i-1].first > k){
            range++;
            c[b[i].second]=range;
        }else{
            c[b[i].second]=range;
        }
    }
    for(int i = 1; i <= q; i++){
        int x,y;
        cin >> x >> y;
        if(c[x]==c[y]) cout << "Yes" << endl;
        else{cout << "No" << endl;}
    }
}
