#include<iostream>
#include<cstdio>
#include<stdlib.h>
struct Frog{
  int val;
  int id;
}arr[100001];
void merge_(struct Frog  *arr, int lo, int hi)
{
    int mid = (lo+hi)/2;
    int i=lo,j=mid+1;
    struct Frog  b[hi-lo+1];
    int k = 0;
    while(i<=mid && j<=hi)
    {
        if(arr[i].val < arr[j].val)
            b[k++] = arr[i++];
        else
            b[k++] = arr[j++];
    }
    if(i>mid)
        while(j<=hi)
           b[k++] = arr[j++];
    else
        while(i<=mid)
           b[k++] = arr[i++];
    for(i=0,j=lo;i<k;i++,j++)
        arr[j] = b[i];
}
void merge_sort(struct Frog *arr, int low, int hi)
{
    if(low < hi)
    {
        int mid = (low+hi)/2;
        merge_sort(arr, low, mid);
        merge_sort(arr,mid+1,hi);
        merge_(arr,low,hi);
    }
}
int main()
{
  int n,k,p,x,y;
  scanf("%d%d%d",&n,&k,&p);
  for(int i=1;i<=n;i++)
  {
      scanf("%d",&arr[i].val);
      arr[i].id  = i;
  }
  merge_sort(arr,1,n);
  int new_id[100001];
  for(int i=1;i<=n;i++)
      new_id[arr[i].id] = i;
//  for(int i=1;i<=n;i++)
//    printf("%d ",new_id[i]);
  int dp[100001]={0};
  dp[1] =1;
  for(int i=2;i<=n;i++)
  {
      if(arr[i].val - arr[i-1].val <= k)
        dp[i] = dp[i-1]+1;
      else
        dp[i] = 1;
  }
//  for(int i=1;i<=n;i++)
//    printf("%d ",dp[i]);
//  printf("\n");
  for(int i=1;i<=p;i++)
  {
      scanf("%d%d",&x,&y);
      x = new_id[x];
      y = new_id[y];
      //printf("%d %d\n",x,y);
      if(y < x)
      {
          int tmp = x;
          x = y;
          y = tmp;
      }
      if(y - x == dp[y] - dp[x])
        printf("Yes\n");
      else
        printf("No\n");
  }
  return 0;
}
