#include<bits/stdc++.h>
using namespace std;

int main()
{int t;

	cin.sync_with_stdio(false);
	std::cout.sync_with_stdio(false);
	
	cin>>t;
	while(t--)
	{
		long long int n,h;
		cin>>n>>h;
		
		int row[n];
		for(int i=0;i<n;i++)
		row[i]=0;
		for(int i=0;i<n;i++)
		{
			int li,hi;
			cin>>li>>hi;
			row[li]++;
			row[hi+1]--;
		}
		for(int i=1;i<n;i++)
		row[i]=row[i]+row[i-1];
		
		long long int base_sum=0;
		for(int i=0;i<h;i++)
		{
			base_sum=base_sum+row[i];
		}
		long long int new_sum=base_sum;
		for(int i=1;i<n-h+1;i++)
		{
			new_sum=new_sum-row[i-1]+row[i+h-1];
			if(new_sum>=base_sum)
			base_sum=new_sum;
		}
		
		cout<<n*h*1LL-base_sum<<endl;
		
	}
}