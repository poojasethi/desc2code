#include <bits/stdc++.h>
#define ll long long int
#define MAX 1000000
using namespace std;

ll arr[MAX+1],dp[MAX+1];
int main()
{
	std::ios::sync_with_stdio(false);
	int t;
	cin>>t;
	while(t--)
	{
		int n,ht,i,j;
		ll ans;
		cin>>n>>ht;
		for(i=0;i<n;i++)
		{
			int h,l;
			cin>>l>>h;
			arr[0]+=1;
			arr[l]-=1;
			arr[h+1]+=1;
		}
		dp[0]=arr[0];
		
		for(i=0;i<n;i++)
			dp[i]=arr[i]+dp[i-1];

		for(i=1;i<n;i++)
			dp[i]+=dp[i-1];
		
		ans=dp[ht-1];
		for(i=0,j=ht;j<n;i++,j++)
			ans=min(ans,dp[j]-dp[i]);
		
		for(i=0;i<=n;i++)
			arr[i]=dp[i]=0;
		
		cout<<ans<<endl;
	}
	return 0;
}