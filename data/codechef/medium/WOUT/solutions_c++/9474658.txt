#include<stdio.h>
inline int inp()
{
    register int r=0,c; 
    for(c=getchar_unlocked(); c<=32; c=getchar_unlocked());
    if(c=='-')
        return -inp();
    for(; c>32; r=(r<<1)+(r<<3)+c-'0',c=getchar_unlocked());
    return r;
}
int main()
{
int t,i,n,x,y,h;
t=inp();
long long sumx,maxx,sum;
while(t--)
{    sum=0;
   sumx=0;
   n=inp();
   h=inp();
    int a[n];
    for(i=0;i<n;i++)
        a[i]=0;
    for(i=0;i<n;i++)
    {
 
        x=inp();
        y=inp();
        a[x]++;
        if(y<=n-2)
        a[y+1]--;
    }
    sum=0;
    for(i=0;i<n;i++)
    {
        sum+=a[i];
        a[i]=sum;
    }
    sumx=0;
    for(i=0;i<h;i++)
    {
        sumx+=a[i];
    }
 
    maxx=sumx;
    for(i=h;i<n;i++)
    {
        sumx=sumx-a[i-h]+a[i];
        if(sumx>maxx)
            maxx=sumx;
    }
 
    printf("%lld\n",1LL*h*n-maxx);
 
}
 
 
}
  