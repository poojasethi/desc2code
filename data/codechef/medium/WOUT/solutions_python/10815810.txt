# cook your code here
t=int(input())
for i in range(t):
    n,h=map(int,raw_input().split())
    l1=[]
    h1=[]
    l=[0]*(n+2)
    for j in range(n):
        a,b=map(int,raw_input().split())
        l[a+1]-=1
        l[b+2]+=1
    r=[0]*(n+2)    
    r.insert(0,n)
    for k in range(1,n+1,1):
        r[k]=r[k-1]+l[k]
    for k in range(1,n+1,1):
        r[k]+=r[k-1]
    m=[]    
    for k in range(0,n-h+1):
        m.append(r[k+h]-r[k])
    #print(m)    
    print(min(m))