#include <iostream>
#include <stdio.h>
#include <map>
#include <string.h>
using namespace std;

int main()
{
    int t, n;
    char c1, c2, line[1000001];
    map<char, char> m;
    scanf ("%d\n", &t);
    while (t--)
    {
        m.clear();
        scanf ("%d\n", &n);
        while (n--)
        {
            scanf ("%c %c\n", &c1, &c2);
            m[c1] = c2;
        }
        scanf ("%s\n", line);
        int len = strlen(line);
        for (int i = 0; i < len; i++)
            if (m.find(line[i]) != m.end())
                line[i] = m[line[i]];
        int start = 0, dot = -1;
        while (line[start] == '0' && start < len)
            start++;
        if (start == len)
        {
            printf ("0\n");
            continue;
        }
        for (int i = 0; i < len; i++)
            if (line[i] == '.')
            {
                dot = i;
                break;
            }
        if (dot >= 0)
        {
            len--;
            while (line[len] == '0' && len > dot)
                len--;
            if (len == dot && start == dot)
            {
                printf ("0\n");
                continue;
            }
            else if (len == dot)
                len--;
            len++;
        }
        for (int i = start; i < len; i++)
            printf ("%c", line[i]);
        printf ("\n");
    }
    return 0;
}
