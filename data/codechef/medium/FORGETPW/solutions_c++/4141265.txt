#include<bits/stdc++.h>
using namespace std;
#define min(a,b) ((a)<(b)?(a):(b))
#define max(a,b) ((a)>(b)?(a):(b))
#define memo(a,v) memset(a,v,sizeof(a))
#define CLR(a) memo(a,0)
#define pb push_back
#define all(a) a.begin(),a.end()
#define eps (1e-9)
#define inf (1<<29)
#define i64 long long
#define u64 unsigned i64
#define AIN(a,b,c) assert(a<=b && b<=c)
#define MOD 1000000007

int mp[130];
char a[1000005],c,p,tmp[10];
int main(){
    int t,i,j,n,len = 0,deci=0;
    scanf("%d",&t);
    AIN(1,t,1000);
    while(t--){
        scanf("%d",&n);
        AIN(0,n,94);
        for(i = 0;i<=126;i++){
            mp[i] = i;
        }
        for(i = 0;i<n;i++){
            getchar();
           /* scanf("%s",tmp);
            c = tmp[0];
            scanf("%s",tmp);
            p = tmp[0]; */
            scanf("%c %c",&c,&p);
            AIN(33,c,126);
            assert((p>='0' && p<='9') || p=='.');
            assert(mp[c] == c);
            mp[c] = p;
        }
        scanf("%s",a);
        for(i = 0;a[i];i++){
            a[i] = mp[a[i]];
        }
        n = i;
        len+=i;
        for(i=n-1;i>=0;i--){
            if(a[i]=='.') break;
        }
      

        if(i>=0){
            for(i = n-1;i>=0;i--){
                if(a[i]!='0') break;
            }
            if(a[i]=='.') i--;
        }
        else i = n - 1;
        for(j = 0;j<=i;j++){
            if(a[j]!='0') break;
        }
        if(i>=j){
            for(j;j<=i;j++) printf("%c",a[j]);
            printf("\n");
        }
        else printf("0\n");
    }
    AIN(1,len,1000000);
	return 0;
}
