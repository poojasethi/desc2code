#include <stdio.h>
#include <string.h>
 
#define NMAX 1111111
 
char rule[256], S[NMAX], x, y;
int M, N, i, j, k;
 
int main() {
//	freopen("x.txt", "r", stdin);
	int T;
	scanf("%d", &T);
	
	while (T--) {
		memset(rule, 0, sizeof(rule));
		scanf("%d", &M);
		while (M--) {
			scanf(" %c %c", &x, &y);
			rule[x] = y;
		}
		scanf("%s", S);
		N = strlen(S);
		for (i = 0; i < N; i++)
			if (rule[S[i]]) S[i] = rule[S[i]];
	
		i = 0;
		j = N - 1;
 
		while (i <= j && S[i] == '0') i++;
 
		if (i <= j) {
			for (k = i; k <= j; k++)
				if (S[k] == '.') break;
			if (k <= j) {
				while (i <= j && S[j] == '0') j--;
			}
		}
		
		if (i > j) S[j = i] = '0';
		else if (i == j && S[i] == '.') S[i] = '0';
		else if (S[j] == '.') j--;
 
		S[j + 1] = 0;
		printf("%s\n", S + i);
	}
	
	return 0;
}