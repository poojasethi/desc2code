#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std; 
class stack
{public:
	char a[1000000];
     long int t;
     
public:
     void push(char b){a[++t]=b;}
     void pop()
	 {
	 a[t--]='\0';
	 }
     bool isempty(){return t==-1;}
     char top(){return a[t];}
     stack(){t=-1;}
};
int main()
{
	long int T,i,j,l,n,m,flag,k,f1,f2,f3;
	scanf("%ld\n",&T);
	char code[1000000];
	char c[95],p[95];
	while(T--)
	{
		stack s;
		scanf("%ld",&n);
		i=0;
		while(i!=n)
		{
		scanf("%s",&c[i]);
		scanf("%s",&p[i]);
		i++;
	    }
		scanf("%s",&code);
		l=strlen(code);
		for(i=0;i<l;i++)
		{flag=0;
			for(k=0;k<n;k++)
			{
				if(code[i]==c[k] && flag==0)
				{flag=1;
				code[i]=p[k];
			    }
			}
		}
		f1=0;
		f2=0;
		f3=0;
		int f4=0;
		int f5=0;
		for(i=0;i<l;i++)
		{  
		if(f3==0)
		{
			if(code[i]=='.')
			{
				f3=1;
				if(i!=l-1)
			s.push(code[i]);
			}
			else if(code[i]!='0'&&f1==0)
			{
				f1=1;
				s.push(code[i]);
				if(f4==1)
				{
					while(s.t==-1)
					s.pop();
				}
			}
			else if(code[i]=='0'&&f1==0)
			{
			 f4=1;	
			}
			else
			{
			s.push(code[i]);
		    }
	    }
		else
		{
			if(i!=l-1)
			{
				if(i!='0')
				{
					f2=1;
					s.push(code[i]);
				}
				else
				{
				s.push(code[i]);}}
			else
			{
				if(code[i]!='0')
				{
					if(code[i]!='.')
					s.push(code[i]);	
			    }
				else if(f2==1)
				{
				while((s.top()=='0'||s.top()=='.')&&f5==0)
			    {
			    if(s.top()=='.')
				f5=1;
				s.pop();}
				}
				else
				{
					while(s.top()!='.')
					{
					s.pop();}
					s.pop();
				}
			}
		}}
		s.a[s.t+1]='\0';
		if(s.t>=0)
		printf("%s\n",s.a);
		else
		printf("0\n");
		}
			return 0;
}