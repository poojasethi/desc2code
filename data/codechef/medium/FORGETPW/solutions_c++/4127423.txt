#include<iostream>
using namespace std;
int main()
{
    int tests;
    scanf("%d",&tests);
    for(int i=0;i<tests;i++)
    {
            char a[99];
            for(int j=0;j<99;j++)
            a[j]=0;
            int n;
            scanf("%d",&n);
            for(int j=0;j<n;j++)
            {
                    char x,y;
                    cin>>x>>y;
                    a[(int)x-33]=y;
            }
            char string[1000010];
            cin>>string;
            char *p;
            p=string;
            if((*p=='.'&&*(p+1)==0)||(*p=='0'&&*(p+1)==0))
            printf("0\n");
            else
            {
            while(*p)
            {
                     if(a[((int)*p)-33]!=0)
                     *p=a[((int)*p)-33];
                     p++;
            }
            int flag1=0,flag2=0;
            p=string;
            while(*p)
            {
                     if(*p=='.')
                     {
                                flag1=1;
                                break;
                     }
                     if(*p!='0')
                     flag2=1;
                     if(*p=='0'&&flag2==0)
                     *p=' ';
                     p++;
            }
            flag2=0;
            if(flag1==1)
            {
                       p++;
                       while(*p)
                       p++;
                       p--;
                       while(*p!='.')
                       {
                                     if(*p!='0')
                                     {
                                                flag2=1;
                                                break;
                                     }
                                     if(*p=='0')
                                     *p=' ';
                                     p--;
                       }
                       if(*(p+1)==' '&&*(p-1)==' '&&flag2==0)
                       printf("0\n");
                       else
                       if(*(p+1)==0&&*(p-1)==' '&&*p=='.')
                       printf("0\n");
                       else
                       if(*(p+1)==' '&&*(p-1)==0&&*p=='.')
                       printf("0\n");
                       else
                       {
                           p=string;
                           while(*p)
                           {
                                    if(*p=='.'&&flag2==0)
                                    break;
                                    if(*p!=' ')
                                    cout<<*p;
                                    p++;
                           }
                           cout<<endl;
                       }
            }else
            {
                 int flag=0;
                 p=string;
                 while(*p)
                 {
                          if(*p!=' ')
                          {
                                   cout<<*p;
                                   flag=1;
                          }
                          p++;
                 }
                 if(flag==0)
                 printf("0");
                 cout<<endl;
            }
    }
    }
    return 0;
}
            
            
