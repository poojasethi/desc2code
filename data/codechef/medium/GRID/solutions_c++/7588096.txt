#include<stdio.h>

char grid[1001][1001];
int dynamo[1000][1000];

int main()
{
    int tc,n,i,j,k;
    long int ans;

    scanf("%d\n",&tc);
    while(tc--)
    {
        scanf("%d\n",&n);
        for(i=0;i<n;i++)
            gets(grid[i]);

        ans=0;
        for(i=n-1;i>=0;i--)
            for(j=n-1;j>=0;j--)
                dynamo[i][j] = 0;
        for(i=n-1;i>=0;i--)
            for(j=n-1;j>=0 && grid[i][j]=='.';j--)
            {
                dynamo[i][j] = 1;
            }
        for(j=n-1;j>=0;j--)
            for(i=n-1;i>=0 && grid[i][j]=='.';i--)
            {
                if(dynamo[i][j] == 1)
                    ans++;
            }

        printf("%ld\n",ans);
    }
    return 0;
}
