#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<string.h>
#include<math.h>
#include<iomanip>
#include<vector>
#include<map>
#include<set>
#include<list>
#define MOD 1000000007
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
typedef double db;
ll x[1005][1005],y[1005][1005];
int main()
{ 
  ios_base::sync_with_stdio(false);
  cin.tie(NULL);
   string str[1005];
   ll t;
   cin>>t;
   while(t--)
   {
    int n,ct=0;
   	memset(x,0,sizeof(x));
   	memset(y,0,sizeof(y));
   	cin>>n;
    for(int i=0;i<n;i++)
    {
    	cin>>str[i];
	}
   	
    for(int i=0;i<=n-1;i++)
    {
    	for(int j=n-1;j>=0;j--)
    	{
    		if(str[i][j]=='.')
    		{
    			if(j==n-1) x[i][j]=1;
    			else x[i][j]=x[i][j+1];
			}
			else
			x[i][j]=0;
			
			if(str[j][i]=='.')
			{
				if(j==n-1) y[j][i]=1;
				else y[j][i]=y[j+1][i];
				
			}
			
				else y[j][i]=0;
		}
	}
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
		{
			if(x[i][j]==1 && y[i][j]==1) ct++;

		}
		
	}
	cout<<ct<<"\n";
   }
   	return 0;
} 