#include <bits/stdc++.h>
using namespace std;
 
typedef pair< int , int > pii;
typedef long long LL;
#define fr first
#define se second
#define EPS 1e-8
#define INF 10000*10000*10000LL
stringstream ss;
#define two(x) ( 1LL<<x )
LL mod = 1000000007LL;

/**************************Code****************************/

int D[1024][1024], L[1024][1024];
char s[1024][1024];

int main()
{
	int t, n;
	scanf( "%d", &t );
	while( t -- )
	{
		scanf( "%d", &n );
		memset( L, 0, sizeof L );
		memset( D, 0, sizeof D );
		int ans = 0;
		for( int i = 0 ; i < n ; i ++ )
			scanf( "%s", s[i] );
		for( int i = n-1 ; i >= 0 ; i -- )
			for( int j = 0 ; j < n ; j ++ )
				if( s[i][j] == '.' )
					D[i][j] = i == n-1 ? 1 : 1+ D[i+1][j];
		for( int j = n-1 ; j >= 0 ; j -- )
			for( int i = 0 ; i < n ; i ++ )
				if( s[i][j] == '.' )
					L[i][j] = j == n-1 ? 1 : 1+ L[i][j+1];
		for( int i = 0 ; i < n ; i ++ )
			for( int j = 0 ; j < n ; j ++ )
				ans += ( i + D[i][j] == n && j + L[i][j] == n );
		printf( "%d\n", ans );
	}
	return 0;
}
