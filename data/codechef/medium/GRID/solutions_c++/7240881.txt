#include <bits/stdc++.h>
using namespace std;

typedef long long int ll;
const ll mod=1e9+7;

#define fileinput freopen("input.txt","r",stdin)
#define fileoutput freopen("output.txt","w",stdout)
#define T ll t ; cin>>t ; while(t--)
#define fastio ios::sync_with_stdio(0); cin.tie(0)


        char a[1005][1005];
        bool east[1005][1005];
        bool south[1005][1005];

int main()
{
    //fileinput;

    T{
        ll n,i,j;
        cin>>n;
        string s;

        for(i=0;i<n;i++) {
            cin>>s;
            for(j=0;j<n;j++) {
                a[i][j]=s[j];
            }
        }

        for(j=0;j<n;j++) {
            bool flag=true;
            for(i=n-1;i>=0;i--) {
                if(a[i][j]=='.' && flag) {
                    south[i][j]=true;
                }
                else{
                    south[i][j]=false;
                    flag=false;
                }
            }
        }

        for(i=0;i<n;i++) {
            bool flag=true;
            for(j=n-1;j>=0;j--) {
                if(a[i][j]=='.' && flag) {
                    east[i][j]=true;
                }
                else{
                    east[i][j]=false;
                    flag=false;
                }
            }
        }

        ll ans=0;
        for(i=0;i<n;i++) {
            for(j=n-1;j>=0;j--) {
                if(south[i][j] && east[i][j]) {
                    ans++;
                }
            }
        }

        cout<<ans<<endl;

    }

    return 0;
}
