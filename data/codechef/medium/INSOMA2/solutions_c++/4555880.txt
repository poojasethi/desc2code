#include<bits/stdc++.h>
using namespace std;
char a[1010][1010];
char s[10000010];
int n,len;
long long int function(int i,int x,int y)
{
    if(i>=len)
       return 0;
    if(x<0 || y<0)
       return 0;
    if(x>=n || y>=n)
       return 0;
    if(s[i]!=a[x][y])
       return 0;
    if(i==len-1)
       return 1;
    long long int r=0;
    r+=function(i+1,x+1,y+1);
    r+=function(i+1,x+1,y-1);
    r+=function(i+1,x-1,y+1);
    r+=function(i+1,x-1,y-1);
    //r+=solve(i+1,x,y);
    return r;
}
int main()
{
     cin>>n;
     for(int i=0;i<n;i++)
       for(int j=0;j<n;j++)
         cin>>a[i][j];
     cin>>s;
     len=strlen(s);
     if(len==0)
       cout<<"0"<<endl;
     long long int ans=0;
     for(int i=0;i<n;i++)
     {
        for(int j=0;j<n;j++)
        {
           if(a[i][j]==s[0])
              ans+=function(0,i,j);
        }
    }
    cout<<ans<<endl;
    return 0;
}