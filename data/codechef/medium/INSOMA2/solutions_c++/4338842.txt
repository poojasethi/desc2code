#include <stdio.h>
#include <stdlib.h>
#define MAX 1010
char mat[MAX][MAX];
char S[MAX];
int count=0;
int n;

void seed(int x,int y,int i)
{

    if(mat[x][y]==S[i])
    {
        if(S[i+1]=='\0')
        {
            count++;
            return ;
        }
        if( (x+1)<=n && (y+1)<=n )  seed(x+1,y+1,i+1);
        if( (x+1)<=n && (y-1)>=1 )  seed(x+1,y-1,i+1);
        if( (x-1)>=1 && (y+1)<=n )  seed(x-1,y+1,i+1);
        if( (x-1)>=1 && (y-1)>=1 )  seed(x-1,y-1,i+1);
    }

}
int main()
{
    int i,j;
    char x='*';
    scanf("%d",&n);

    for(i=1;i<=n;i++)
    {
        for(j=1;j<=n;j++)
        {
            x='*';
            while( !((x>='A'&&x<='Z')||(x>='a'&&x<='z')) )
                x=getchar();
            mat[i][j]=x;
        }
    }
    scanf("%s",S);

    for(i=1;i<=n;i++)
    {
        for(j=1;j<=n;j++)
        {
            seed(i,j,0);
        }
    }
    printf("%lld",count);
    return 0;
}
/*
5
B X A X X
X A X X X
X B B X X
X A X A X
X X B X X
*/
