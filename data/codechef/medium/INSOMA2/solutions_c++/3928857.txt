#include<stdio.h>
long long int count=0;
int N,i,j;
char arr[1001][1001];
char str[1000001];
void func(int r,int c,int k){
if(!str[k])
{count++;
return;
}

if(r-1>=0&&c-1>=0&&str[k]==arr[r-1][c-1])
  func(r-1,c-1,k+1);
if(r-1>=0&&c+1<N&&str[k]==arr[r-1][c+1])
  func(r-1,c+1,k+1);
if(r+1<N&&c-1>=0&&str[k]==arr[r+1][c-1])
  func(r+1,c-1,k+1);
if(r+1<N&&c+1<N&&str[k]==arr[r+1][c+1])
  func(r+1,c+1,k+1);
}

int main(){
	char cc;
scanf("%d\n",&N);
 
 
		for(i=0;i<N;i++)
			for(j=0;j<N;j++)
			{
				while((cc=getchar())=='\n');
				arr[i][j]=cc;
				getchar();
				
			}
			scanf("%s",str);
//printf("%s\n",str);
for(i=0;i<N;i++)
for(j=0;j<N;j++){
if(str[0]==arr[i][j])
   func(i,j,1);
}
printf("%lld\n",count);
return 0;
}