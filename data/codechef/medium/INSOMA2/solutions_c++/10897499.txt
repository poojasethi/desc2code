#include <stdio.h>
#include <string.h>

char arr[1001][1001];

long long int fnc(long long int n, long long int i, long long int j, long long int x, long long int len, char ch[])
{
	long long int k, l, m, cnt=0, cnt1, cnt2, cnt3, cnt4;
	if ((x+1)<len && arr[i][j]==ch[x])
	{
		if ((i+1)<n && (j+1)<n)
		{
			cnt1=fnc(n, i+1, j+1, x+1, len, ch);
		}
		else
		{
			cnt1=0;
//			printf ("//////cnt1 is 0,x is %lld, i is %lld, j is %lld, n is %lld", x, i, j, n);
		}
		if ((i-1)>=0 && (j+1)<n)
		{
			cnt2=fnc(n, i-1, j+1, x+1, len, ch);
		}
		else
		{
			cnt2=0;
//			printf ("//////cnt2 is 0,x is %lld, i is %lld, j is %lld, n is %lld", x, i, j, n);
		}
		if ((i-1)>=0 && (j-1)>=0)
		{
			cnt3=fnc(n, i-1, j-1, x+1, len, ch);
		}
		else
		{
			cnt3=0;
//			printf ("//////cnt3 is 0,x is %lld, i is %lld, j is %lld, n is %lld", x, i, j, n);
		}
		if ((i+1)<n && (j-1)>=0)
		{
			cnt4=fnc(n, i+1, j-1, x+1, len, ch);
		}
		else
		{
			cnt4=0;
//			printf ("//////cnt4 is 0,x is %lld, i is %lld, j is %lld, n is %lld", x, i, j, n);
		}

	}
	else if (x+1==len && arr[i][j]==ch[x])
	{
//		printf ("		last element, x is %lld, i is %lld, j is %lld, returning 1\n", x, i, j);
		return 1;
	}
	else if (arr[i][j]!=ch[x])
	{
//		printf ("	Alas! the element is not correctly matched, x is %lld, i is %lld, j is %lld\n", x, i, j);
		return -999999999;
	}
	if (cnt1>0)
	{
		cnt+=cnt1;
	}
	if (cnt2>0)
	{
		cnt+=cnt2;
	}
	if (cnt3>0)
	{
		cnt+=cnt3;
	}
	if (cnt4>0)
	{
		cnt+=cnt4;
	}
//	printf ("	it came here, x is %lld, i is %lld, j is %lld, cnt retuning is %lld\n", x, i, j, cnt);
	return cnt;
}


int main()
{
	long long int i, j, k, l, m, n, cnt=0, cnt1, cnt2, cnt3, cnt4, len;
	scanf ("%lld", &n);
	for (i=0; i<n; i++)
	{
		for (j=0; j<n; j++)
		{
			scanf (" %c", &arr[i][j]);
		}
	}
	char ch[1000000];
	scanf ("%s", ch);
	len=strlen(ch);
	if (len==1)
	{
		for (i=0; i<n; i++)
		{
			for (j=0; j<n; j++)
			{
				if (arr[i][j]==ch[0])
					cnt++;
			}
		}
	}
	for (i=0; i<n; i++)
	{
		for (j=0; j<n && k<len; j++)
		{
			if (arr[i][j]==ch[0])
			{
//				printf ("first element here, i is %lld, j is %lld\n", i, j);
				cnt1=cnt2=cnt3=cnt4=0;
				if (i+1<n && j+1<n)
				{
					cnt1=fnc(n, i+1, j+1, 1, len, ch);
				}
				if (i+1<n && j-1>=0)
				{
					cnt2=fnc(n, i+1, j-1, 1, len, ch);
				}
				if (i-1>=0 && j-1>=0)
				{
					cnt3=fnc(n, i-1, j-1, 1, len, ch);
				}
				if (i-1>=0 && j+1<n)
				{
					cnt4=fnc(n, i-1, j+1, 1, len, ch);
				}
				if (cnt1>0)
				{
					cnt+=cnt1;
				}
				if (cnt2>0)
				{
					cnt+=cnt2;
				}
				if (cnt3>0)
				{
					cnt+=cnt3;
				}
				if (cnt4>0)
				{
					cnt+=cnt4;
				}
			}
		}
	}
	printf ("%lld\n", cnt);
}