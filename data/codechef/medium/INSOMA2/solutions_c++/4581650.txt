#include <iostream>
#include <algorithm>
#include <cstring>
using namespace std;

char a[1010][1010], s[1000100];
int n, len;
long long ans;
int dx[4] = {1, 1, -1, -1};
int dy[4] = { -1, 1, 1, -1 };

int f(int i, int x, int y) {
	if (i >= len || x < 0 || y < 0 || x >= n || y >= n || s[i]!=a[x][y]) return 0;
	if (i == len - 1) return 1;
	int k = 0;
	for (int j = 0; j < 4; j++) k += f(i + 1, x + dx[j], y + dy[j]);
	return k;
}

int main() {
	cin >> n;
	for (int i = 0; i < n; i++) for (int j = 0; j < n; j++) cin >> a[i][j];
	cin >> s;
	len = strlen(s);
	for (int i = 0; i < n; i++) for (int j = 0; j < n; j++) if (s[0] == a[i][j]) ans += f(0, i, j);
	return cout << ans, 0;
}
