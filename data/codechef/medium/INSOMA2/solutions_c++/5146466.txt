#include<iostream>
#include<stdio.h>
#include<stdlib.h>
#include<vector>

using namespace std;

char A[1000][1000];
int count;

void DFS(int s, int n, string str, int i, int j, int N)
{
	//cout<<str[s]<<endl;
	if(s==n-1)
	{
		//cout<<count<<endl;
		count++;//return 1;
		return;
	}
	if(i-1>=0 && j-1>=0 && A[i-1][j-1]==str[s+1])
	{
		//cout<<s+1<<" ";
		//cout<<i-1<<j-1;
		DFS(s+1, n, str, i-1, j-1, N);
	}
	if(i-1>=0 && j+1<N && A[i-1][j+1]==str[s+1])
	{
		//cout<<s+1<<" ";
		//cout<<i-1<<j+1;
		DFS(s+1, n, str, i-1, j+1, N);
	}
	if(i+1<N && j-1>=0 && A[i+1][j-1]==str[s+1])
	{
		//cout<<s+1<<" ";
		//cout<<i+1<<j-1;
		DFS(s+1, n, str, i+1, j-1, N);
	}
	if(i+1<N && j+1<N && A[i+1][j+1]==str[s+1])
	{
		//cout<<s+1<<" ";
		//cout<<i+1<<j+1;
		DFS(s+1, n, str, i+1, j+1, N);
	}		
}

int main()
{
	int N,i,j,n,t,l;
	string str;
	vector<pair<int,int> >v;
	cin>>N;
	for(i=0;i<N;i++)
		for(j=0;j<N;j++)
			cin>>A[i][j];
	cin>>str;
	for(i=0;i<N;i++)
		for(j=0;j<N;j++)
			if(A[i][j]==str[0])
				v.push_back(make_pair(i,j));
	
	n=v.size();
	l=str.length();
	count=0;
	for(t=0;t<n;t++)		
	{
		DFS(0,l,str,v[t].first,v[t].second,N);
	}
	cout<<count<<endl;
	return 0;
}








