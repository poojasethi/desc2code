#include<stdio.h>
 
char mat[1001][1001];
char str[1000001];
long cnt;
int n;
 
void chk(int k,int i,int j)
{
	if(i<0 || i>n-1)return;
	if(j<0 || j>n-1)return;
	if(!str[k])
	{
		cnt++;
		return;
	}
 
     
	if(mat[i-1][j-1]==str[k])
		 chk(k+1,i-1,j-1);
			
 
		
	if(mat[i-1][j+1]==str[k])
		 chk(k+1,i-1,j+1);
 
 
 
	if(mat[i+1][j-1]==str[k])
		chk(k+1,i+1,j-1);
			
 
		
	if(mat[i+1][j+1]==str[k])
		 chk(k+1,i+1,j+1);
 
}
 
 
 
int main()
{
	int test,i,j;
	char x;
 
	
		scanf("%d\n",&n);
 
 
		for(i=0;i<n;i++)
			for(j=0;j<n;j++)
			{
				while((x=getchar())=='\n');
				mat[i][j]=x;
				getchar();
				
			}
 
		scanf("%s",str);
         
		cnt=0;
		for(i=0;i<n;i++)
		{
			for(j=0;j<n;j++)
			{
				if(str[0]==mat[i][j])
				{
					chk(1,i,j);
				}
 
			}
		}
 
 
		printf("%ld\n",cnt);
	
	return 0;
 
}