#include<stdio.h>
#include<string.h>

char str[1000001];
char mat[1001][1001];
long cnt=0;
int len;
int nn;

int tr(int a,int b,int k)
{
	if(a<0 || a>nn)return 0;
	if(b<0 || b>nn)return 0;
     
     
	
	if(str[k]!=mat[a][b])return 0;
	else{
		
	if(k==len){
		cnt++;
		return 0;
	}
	//match found
	//top
	//tr(a-1,b,k+1);
	tr(a-1,b-1,k+1);
	tr(a-1,b+1,k+1);
	//tr(a,b-1,k+1);
	//tr(a,b+1,k+1);
	//tr(a+1,b,k+1);
	tr(a+1,b-1,k+1);
	tr(a+1,b+1,k+1);
     }
	return 0;
}

int main()
{
	int n,i,a,j,b;
	char x;
	scanf("%d\n",&n);nn=n-1;
	
	
	
		for(i=0;i<n;i++)
			for(j=0;j<n;j++)
			{
				while((x=getchar())=='\n');
				mat[i][j]=x;
				getchar();
				
			}
 
		
	
	/*
	for(i=0;i<n;i++)
	{scanf("%s",mat[i]);}
	*/
	scanf("%s",str);
	len=strlen(str);
	len--;
	
	for( a=0;a<n;a++)
	 for(b=0;b<n;b++)
	 {
	 	tr(a,b,0);
	 }
	
	printf("%ld\n",cnt);
	

	return 0;
}