#include <stdio.h>
#include <ctype.h>
int n,count=0;
char a[1000][1000],str[1000001],ch;
int check(int x,int y,int k)
{
    if (!str[k])
    {++count;
        return;
    }
    if ((x-1>=0)&&(y-1>=0)&&(str[k]==a[x-1][y-1]))
        check(x-1,y-1,k+1);
    if ((x-1>=0)&&(y+1<n)&&(str[k]==a[x-1][y+1]))
        check(x-1,y+1,k+1);
    if ((x+1<n)&&(y+1<n)&&(str[k]==a[x+1][y+1]))
        check(x+1,y+1,k+1);
    if ((x+1<n)&&(y-1>=0)&&(str[k]==a[x+1][y-1]))
        check(x+1,y-1,k+1);
}
int main()
{
   int i,j;
   scanf("%d",&n);
   for(i=0;i<n;i++)
   for(j=0;j<n;j++){
        while((ch=getchar())&&isspace(ch));
    	a[i][j]=ch;
		getchar();}
    scanf("%s",str);
    for(i=0;i<n;i++)
    for(j=0;j<n;j++){
        if(str[0]==a[i][j])
            check(i,j,1);
    }
    printf("%d\n",count);
   return 0;
}