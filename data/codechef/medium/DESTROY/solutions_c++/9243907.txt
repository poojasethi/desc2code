#include<bits/stdc++.h>
typedef long long int lli;
typedef long int li;
typedef unsigned long long int ulli;
#define ff first
#define ss second
#define pb push_back
#define mp make_pair
#define mod 1000000007
#define test() int t; cin>>t;while(t--)

int dx[]={1,-1,0,0};
int dy[]={0,0,-1,1};
void dfs()
{
	
}

void bfs()
{
 	
}
 
 void lps()
{
  	
}
  

void grid_call()
{
   	
}
  
using namespace std;

int main()
{
	
	test()
	 {
	 	 lli n;
	 	 multiset<lli> ms;
	 	 map<lli,lli> ma;
	 	  cin>>n;
	 	 lli a;
	 	  for(int i=0;i<n;i++)  cin>>a, ma[a]++;
	 	  map<lli,lli>::iterator it;
	 	  for(it=ma.begin();it!=ma.end();it++)
	 	   {
	 	   	   ms.insert(it->second);
	 	   	
			}
			
			
			lli ans=0;
			
			while(1)
			 {
			 	 if(ms.size()==1) 
			 	  {
			 
			 	  	ans+=*ms.begin();
			 	  	break;
				   }
				   
				   else if(ms.size()==0) break;
				   
				   else
				    {
				       
				       lli num1=*ms.rbegin();
				       ms.erase(ms.find(num1));
				       
				    
				     lli num2=*ms.rbegin();
				   
				         ms.erase(ms.find(num2));
				      
				       
				     num1--;
				     num2--;
				     ans+=1;
				       if(num1!=0) ms.insert(num1);
				       if(num2!=0) ms.insert(num2);
				    
					   }
					}
					
			 cout<<ans<<endl;
			 }
			 
			
	 }
 	
	 