#include <iostream>
#include <queue>
#include <map>
#include <cstdio>

using namespace std;

map<int, int> mapp;
priority_queue<int> maxheap;

int main(void) {
	int t;
	scanf("%d", &t);

	while(t--) {
		int n;
		scanf("%d", &n);
		for(int i = 0; i < n; ++i) {
			int x;
			scanf("%d", &x);
			if(mapp.find(x) != mapp.end())	mapp[x]++;
			else	mapp[x] = 1;
		}

		for(map<int, int>::iterator it = mapp.begin(); it != mapp.end(); ++it)
			maxheap.push(it->second);

		int ans = 0;
		while(maxheap.empty() == false) {
			int a = -1, b = -1;
			a = maxheap.top();
			maxheap.pop();
			if(maxheap.empty() == false) {
				b = maxheap.top();
				maxheap.pop();
			}
			a--;
			b--;
			if(a > 0) maxheap.push(a);
			if(b > 0) maxheap.push(b);
			ans++;
		}
		printf("%d\n", ans);
		mapp.clear();
	}

	return 0;
}