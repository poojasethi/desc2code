// Shalin
#include <bits/stdc++.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <math.h>
#include <limits.h>
using namespace std;
#define si(x) scanf("%d",&x)
#define slli(x) scanf("%lld",&x);
#define sc(x) scanf("%c",&x);
#define ss(x) scanf("%s",x);
#define sd(x) scanf("%lf",&x);
#define bitcount __builtin_popcount
#define gcd __gcd
#define llu long long unsigned int
#define lli long long int
#define fi first
#define se second
#define pb push_back
#define mod 1000000007
#define mp make_pair
#define vi vector<int>
#define vlli vector<long long int>
#define pii pair<int,int>
int main()
{
	//freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
	int t,i,j,k;si(t);
	while(t--)
	{
		int n;si(n);
		map<int,int> mymap;
		for(i=0;i<n;i++)
		{
			int temp;si(temp);
			mymap[temp]++;
		}
		map<int,int>::iterator it;
		vi cnt;
		for(it=mymap.begin();it!=mymap.end();it++)
			cnt.pb(it->se);
		int ans=0,len=cnt.size();
		priority_queue<int, vector<int> > Q;
		for(i=0;i<len;i++)
			Q.push(cnt[i]);
		//cout<<"ss"<<endl;
		while(Q.size()>1)
		{
			//cout<<"ss"<<endl;
			int temp1=Q.top();
			Q.pop();
			//cout<<"ss"<<endl;
			int temp2=Q.top();Q.pop();
			ans++;
			if(temp1-1>0)
			Q.push(temp1-1);
		if(temp2-1>0)
			Q.push(temp2-1);
			//cout<<"Q.size : "<<Q.size()<<endl;
		}
		if(!Q.empty())
		ans+=Q.top();
		printf("%d\n",ans);
	}			
	return 0;
}