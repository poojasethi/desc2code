#include<iostream>
#include<algorithm>
using namespace std;
int arr[50000];
int main(){
	int t,n,i,k;
	cin>>t;
	while(t--){
		cin>>n;
		int array[n];
		for(i=0;i<n;i++){
			cin>>array[i];
		}
		sort(array,array+n);
		arr[0]=1;
		k=0;
		for(i=1;i<n;i++){
			if(array[i]==array[i-1]){
			   arr[k]++;	
			}
			else
			arr[++k]=1;
		}
		sort(arr,arr+(k+1));
		int count=0;
		if(arr[k]<=n/2)
     {
         if(n%2==0)
         count=n/2;
         else
         count=(n+1)/2;
     }
     else
     {
         count=(n-arr[k])+(arr[k]-(n-arr[k]));
         
     }
		cout<<count<<endl;
	}
	return 0;
}