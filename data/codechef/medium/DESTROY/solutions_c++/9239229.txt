#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define s(n) scanf("%d", &n);
#define sll(n) scanf("%lld", &n);
#define MOD 1000000007
//#define mp make_pair
#define pb push_back
//int a[100005];
multiset <int> f;
multiset <int> :: iterator it;
map<int,int> mp;
map<int,int> :: iterator im;
int main()
{
	int t;
	s(t);
	while(t--)
	{
		int i,j,k,n,z;
		f.clear();
		mp.clear();
		s(n);
		for(i=0;i<n;i++)
		{
			s(z);
			mp[z]++;
		}
		for(im=mp.begin();im!=mp.end();im++)
			f.insert((im->second));
		ll ans=0;
		while(f.size() > 1)
		{
			it = f.end();
			
			it--;
		
			int x= *it;
			f.erase(it);
			it=f.end();
			it--;
			int y= *it;
			f.erase(it);
			x--;
			y--;
			
			if(x)
				f.insert(x);
			if(y)
				f.insert(y);
			ans++;
			
		}
		it=f.begin();
		ans += (*it);
		printf("%lld\n", ans);
	}
	return 0;
}