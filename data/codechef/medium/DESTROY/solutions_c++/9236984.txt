#include <bits/stdc++.h>
using namespace std;
int compare (const void * a, const void * b)
{
  return ( *(long long int*)a - *(long long int*)b );
}
int main() {
	long int t;
	scanf("%ld",&t);
	while(t--)
	{
		long int j=0,i,n,steps=0;
		scanf("%ld",&n);
		long long int ar[n];
		int cnt[n],a,b;
		for(i=0;i<n;i++)
			cnt[i]=0;
		for(i=0;i<n;i++)
		{
			scanf("%lld",&ar[i]);
		}
		qsort(ar,n,sizeof(long long int),compare);
		cnt[0]=1;
		for(i=1;i<n;i++)
		{
			if(ar[i]==ar[i-1])
				cnt[j]++;
			else
			{
				j++;
				cnt[j]++;
			}
		}
		priority_queue<int > queue;
		for(i=0;i<=j;i++)
		{
			queue.push(cnt[i]);
		}
		while(queue.size()>1)
		{
			a=queue.top();
			queue.pop();
			b=queue.top();
			queue.pop();
			a--;
			b--;
			if(a>0)
				queue.push(a);
			if(b>0)	
				queue.push(b);
			steps++;
		}
		if(queue.size()==1)	
			steps+=queue.top();
		printf("%d\n",steps);
	}
	return 0;
} 