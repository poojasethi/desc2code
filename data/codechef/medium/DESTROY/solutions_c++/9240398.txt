#include<bits/stdc++.h>
#define  M 1000000007
#define  mp make_pair
#define  pb push_back
#define inf 99999999
typedef long long int ll;
typedef unsigned long long int ull;
#define  inp(n) cin>>n
#define  out(n) cout<<n
void arrinp( int *a,int n)
{
	int i;
	for(i=0;i<n;i++)
	scanf("%d",&a[i]);
}
using namespace std;
int main()
{
	ll n,sum=0,t,i,j;
	inp(t);
	while(t--)
	{
		inp(n);
		multiset< int >ms;
		multiset< int >::iterator it;
		map< int , int >m;
		for(i=0;i<n;i++)
		{
			int num;
			scanf("%d",&num);
			m[num]++;
		}
		int count=0;
		//printf("%u ",ms.size());
		int size=m.size();
		map< int  , int >::iterator it1;
		it1=m.begin();
		for(;it1!=m.end();it1++)
			ms.insert(it1->second);
		while(ms.size()>1)
		{
			count++;
			it=ms.end();
			it--;
			int cat=*it;
			ms.erase(it);
			it=ms.end();
			it--;
			int pussy=*it;
			//printf("cat and pussy is ::%d %d\n",cat,pussy);
			ms.erase(it);
			if(pussy-1>0)
			ms.insert(pussy-1);
			if(cat-1>0)
			ms.insert(cat-1);
		}
		count+=*(ms.begin());
		printf("%d\n",count);
	}


	return 0;
}