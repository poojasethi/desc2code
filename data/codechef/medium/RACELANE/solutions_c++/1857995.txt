using namespace std;
#include<iostream>
#include<cstring>
int main()
{
int test,bubbles,source,dest,lane,i,j,count;
int bubbles_marked[10][520];
int track_marked[520];
scanf("%d",&test);
while(test--)
{
count=0;
memset(bubbles_marked,0,sizeof(bubbles_marked[0][0])*10*520);
memset(track_marked,0,sizeof(track_marked[0])*520);
scanf("%d",&bubbles);
for(i=0;i<bubbles;i++)
{
scanf("%d %d %d",&source,&dest,&lane);
for(j=source;j<=dest;j++) 
bubbles_marked[lane][j]=1;                     
}
for(i=1;i<10;i++)
{
for(j=1;j<=500;j++)
{
if(bubbles_marked[i][j]==1 && bubbles_marked[i-1][j]==1 && track_marked[j]==0)
{
count++; 
track_marked[j]=1; 
}                                           
}                 
}
printf("%d\n",500-count);             
}    
//system("pause");
return 0;
}
