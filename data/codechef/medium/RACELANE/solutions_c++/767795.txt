#define DEBUG 0

#include <stdio.h>
#include <string.h>
using namespace std;

int main(void) {
  int tc, b, s, e, l, i, m;
  bool p[12][501], v[501];

  scanf("%d", &tc);
  while(tc--) {
    memset(p, false, sizeof(p));
    memset(v, false, sizeof(v));
    m=500;
    scanf("%d", &b);
    while(b--) {
      scanf("%d%d%d", &s, &e, &l);
      l++;
      for(;s<=e;s++) {
        p[l][s]=true;
        if((p[l-1][s]||p[l+1][s])&&!v[s]) {
          v[s]=true;
          m--;
          if(DEBUG)
            printf("m#%d on l#%d\n", s, l-1);
        }
      }
    }
    printf("%d\n", m);
  }
}
