#include <iostream>
#include <cstdio>
#include <cstring>

using namespace std;

const int MaxN = 522;
const int MaxLane = 10;

bool mark[MaxLane][MaxN];
int t, n;

int main()
{
    cin.sync_with_stdio(0);
    cin >> t;

    while (t--)
    {
        for (int i = 0; i < 10; i++) memset(mark[i], 0, sizeof(mark[i]));

        cin >> n;
        while (n--)
        {
            int b, e, l;
            cin >> b >> e >> l;

            for (int i = b; i <= e; i++) mark[l][i] = true;
        }

        int out = 0;
        for (int i = 1; i <= 500; i++)
            for (int j = 1; j <= 9; j++) if (mark[j][i] && mark[j - 1][i]) {out++; break;}

        printf("%d\n", 500 - out);
    }

    return 0;
}
