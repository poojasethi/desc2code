#include<iostream>
int main()
{
	int cases,bubbles,lane,start,end,metres[500]={0},count=500;
	int arr[10][500]={0};
	scanf("%d",&cases);
	for(;cases>0;cases--)
	{
		scanf("%d",&bubbles);
		for(;bubbles>0;bubbles--)
		{
			scanf("%d",&start);
			scanf("%d",&end);
			scanf("%d",&lane);
			for(int i=start;i<=end;i++)
			{
				arr[lane][i-1]=1;
			}
		}
		for(int j=0;j<9;j++)
		{
			for(int k=0;k<500;k++)
			{
				if(arr[j][k]==arr[j+1][k]&&arr[j][k]==1)
				{
					metres[k]=1;
				}
			}
		}
		for(int n=0;n<500;n++)
		{
			if(metres[n]==1)
			{
				count-=1;
			}
		}
		printf("%d\n",count);
		count=500;
		for(int p=0;p<500;p++)
		{
			metres[p]=0;
		}
		for(int l=0;l<10;l++)
		{
			for(int m=0;m<500;m++)
			{
				arr[l][m]=0;
			}
		}
	}
}
	