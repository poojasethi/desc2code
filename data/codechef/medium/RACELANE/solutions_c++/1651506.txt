#include<cstdio>
#include<cstring>
bool array[10][500];
int main()
{
int test;
scanf("%d",&test);
while(test--)
{
int bubbles;
memset(array,0,sizeof(array));
scanf("%d",&bubbles);
while(bubbles--)
{
int s,e,l;
scanf("%d%d%d",&s,&e,&l);
for(int i=s;i<=e;i++)
array[l][i] = true;
}
int mt = 0;
for(int i=0;i<500;i++)
{
for(int j=0;j<9;j++)
{
if(array[j][i] && array[j+1][i])
{
mt++;
break;
}
}
}
printf("%d\n",500-mt);
}
}