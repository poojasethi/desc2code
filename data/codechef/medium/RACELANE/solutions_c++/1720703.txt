#include<iostream>
#include<cstdio>

using namespace std;

int good;
bool track[10][502];
void init()
{
    good = 0;
for(int i=0; i<10; i++)
for(int j=0; j<500; j++)
track[i][j] = 1;
}

bool checktrack(int x)
{

    for(int i=1; i<10; i++)
    if(track[i][x]+ track[i-1][x] == 0)return 0;
    return 1;

}

int main()
{
    int t;
    int B;
    int S, E, L;
    scanf("%d", &t);
    while(t--)
    {
        init();
        scanf("%d", &B);
        while(B--)
        {
            scanf("%d%d%d", &S, &E, &L);
            for(int i=S-1; i<E; i++)
            track[L][i] = 0;
        }
        for(int i=0; i<500; i++)
        good+= checktrack(i);

        printf("%d\n", good);
    }

}
