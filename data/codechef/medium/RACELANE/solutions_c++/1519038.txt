#include <iostream>
#include <algorithm>
#include <vector>
#include <cstring>
#include <cstdio>
using namespace std;

typedef pair<int, int> ii;
typedef vector<ii> vii;

int map[11][505];

int main()
{
    int t, b, s, e, l;
    scanf("%d", &t);
    while (t--) {
        memset(map, 0, sizeof map);
        scanf("%d", &b);
        for (int i=0; i<b; i++) {
            scanf("%d %d %d", &s, &e, &l);
            for (int i=s; i<=e; i++)
                map[l][i] = 1;
        }
        int ans = 0;
        for (int meter=1; meter<=500; meter++) {
            bool ok = true;
            for (int track=1; track<=9; track++) {
                if (map[track-1][meter] && map[track][meter]) ok = false;
            }
            if (ok) ans++;
        }
        printf("%d\n", ans);
    }
    return 0;
}
