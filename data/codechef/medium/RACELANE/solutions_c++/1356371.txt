#include <iostream>
#include<vector>
#include<cstdio>
using namespace std;

int main()
{
      vector<int> start[10],end[10];
      int t,b,s,e,l;
      scanf("%d",&t);
      while(t--)
      {int vis[501]={0};int su=0;
        scanf("%d",&b);
        while(b--)
        {
            scanf("%d %d %d",&s,&e,&l);
            start[l].push_back(s);
            end[l].push_back(e);
        }
        for(int i=0;i<=8;i++)
        {
            for(int j=0;j<start[i].size();j++)
            {
                for(int k=0;k<start[i+1].size();k++)
                {
                    if(start[i][j]<=start[i+1][k]&&end[i][j]>=end[i+1][k])
                    for(int l=start[i+1][k];l<=end[i+1][k];l++) vis[l]=1;
                    else if(start[i+1][k]<=start[i][j]&&end[i][j]<=end[i+1][k])
                     for(int l=start[i][j];l<=end[i][j];l++) vis[l]=1;
                    else if(start[i+1][k]<=start[i][j]&&end[i][j]>=end[i+1][k]&&end[i+1][k]>=start[i][j])
                     for(int l=start[i][j];l<=end[i+1][k];l++) vis[l]=1;
                    else if (start[i][j]<=start[i+1][k]&&end[i+1][k]>=end[i][j]&&end[i][j]>=start[i+1][k])
                     {for(int l=start[i+1][k];l<=end[i][j];l++) vis[l]=1;}
                }
            }
        }
        for(int i=0;i<=500;i++) {su+=vis[i];}
        cout<<500-su<<endl;
       for(int i=0;i<10;i++) {start[i].clear();end[i].clear();}

      }

       return 0;
}
