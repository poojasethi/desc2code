#include<stdio.h>
int scan()
{
int c;
int temp=0;
c=getchar();
while(c>='0')
{
temp=(temp<<3)+(temp<<1)+c-'0';
c=getchar();
}
return(temp);
}

int main()
{
int t,b,start,end,line,i,j;
t=scan();
while(t--)
{
int metre[501][12],ok[501],m=0,index[501]={0};
for(i=0;i<501;i++)
    for(j=0;j<=10;j++)metre[i][j]=0;
b=scan();
while(b--)
{

start=scan();end=scan();line=scan();

for(i=start;i<=end;i++)
  metre[i][line]=-1;
}
/*for(i=1;i<101;i++)
{
    for(j=0;j<=9;j++)
        printf("%d",metre[i][j]);printf("\n");
}*/
for(i=0;i<501;i++)
    for(j=0;j<=10;j++){ok[i]=1;}

for(i=0;i<501;i++)
{
    for(j=0;j<=8;j++)
       if(metre[i][j]==-1&&metre[i][j+1]==-1)
         {
             if(ok[i]!=0)m++;
             ok[i]=0;//printf("%d %d %d\n",j,i,j+1);
         }
}
printf("%d\n",500-m);

}
return(0);
}
