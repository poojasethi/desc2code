#include<bits/stdc++.h>

using namespace std;

#define ull unsigned long long
#define ll long long int
#define si(x) scanf("%d",&x)
#define sull(x) scanf("%llu",&x)
#define sll(x) scanf("%lld",&x)
#define sch(x) scanf("%c",&x)
#define sstr(s) scanf("%s",s)
#define pri(x) printf("%d",x)
#define pch(x) printf("%c",x)
#define pull(x) printf("%llu",x)
#define pll(x) printf("%lld",x)
#define pstr(s) printf("%s",s)
#define nl printf("\n")

int main()
{
ll minr[10001],maxr[10001],maxl[10001],minl[10001];
int t;
si(t);
while(t--)
{
int n,i;
si(n);
ll a[n];
for(i=0;i<n;i++)
sll(a[i]);

minr[n-1]=maxr[n-1]=a[n-1];

for(i=n-2;i>=0;i--)
{
minr[i]=min(a[i],(minr[i+1]+a[i]));
maxr[i]=max(a[i],(maxr[i+1]+a[i]));
}

maxl[0]=minl[0]=a[0];

for(i=1;i<n;i++)
{
minl[i]=min(a[i],(minl[i-1]+a[i]));
maxl[i]=max(a[i],(maxl[i-1]+a[i]));
}

ll ans=0;

for(i=1;i<n;i++)
ans=max((abs(maxl[i-1]-minr[i])),ans);

for(i=n-2;i>=0;i--)
ans=max((abs(maxr[i+1]-minl[i])),ans);

pll(ans);
nl;
}
return 0;
} 

