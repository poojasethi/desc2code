#include <iostream>
using namespace std;
#include <stdio.h>
#include<math.h>
int main(void) {
	// your code goes here
	int t,n;
	scanf("%d",&t);
	while(t--)
	{unsigned long long int a=0;
		scanf("%d",&n);
		char s[n];
		cin>>s;
		
		unsigned long long int sum=0,i,j;
		for(i=0;i<n;i++)
		{
			if(s[i]=='1')
			{
				a++;
			}
		}
		sum=(pow(a,2)-a)/2;
		sum=sum+a;
		cout<<sum<<"\n";
	}
	
	return 0;
}
