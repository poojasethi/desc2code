
#include<cstdio>
#include<algorithm>
#include<iostream>
#define MAX 100009
using namespace std;

int main(){

long long int tst,n,ones,start,end_,ans;
char str[MAX];
scanf("%lld",&tst);

while(tst--){
    scanf("%lld%s",&n,str);
        ans=0;
        ones=0;
        start=0;
        end_=n-1;
        while(start<=end_){
            if(str[start]=='1'&& str[end_]=='1'){
                if(start==end_){
                    ans+=ones+1;
                    break;
                }
                ans+=2*(ones+1)+1;
                ones+=2;
                start++;
                end_--;
            }
            else if(str[start]=='1'){
                end_--;
            }
            else
                start++;
        }
        printf("%lld\n",ans);
}
return 0;
}
