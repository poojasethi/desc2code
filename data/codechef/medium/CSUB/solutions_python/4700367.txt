#/usr/bin/python
#import packages

#first write as script then function
#single testcase


#Logic is simple. each substring is of the form 
#a)1xxxx1 (x >=1) or
#b)1
#for a) starting and ending 1 is differnt position
# so we choose 2 1 s from n 1s in the string thus nC2 (order of substr does
#not matter)
#for b) there are n such substrings
#thus total substrings - nC2 + n = n(n+1)/2


#now writing several test cases
testcases =raw_input()
ctrarray=[]
testcases =int(testcases)

for t in range(0,testcases):
	#count no of 1s
	l=raw_input()
	l=int(l)
	s=raw_input()
	count=0
	onescount=0
	for i in range(0,l):	
		if(s[i]=='1'):
			onescount+=1
	count=onescount*(onescount+1)/2
	ctrarray.append(count)
#print output
for t in range(0,testcases):
	print(str(ctrarray[t]))	
