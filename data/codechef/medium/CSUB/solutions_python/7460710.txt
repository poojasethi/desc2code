t=int(raw_input())
for i in xrange(t):
    x=int(raw_input())
    s=raw_input()
    if s=='1'*x:
        print x*(x+1)/2
        continue
    y=list(s)
    y=y.count('1')
    print y*(y+1)/2
