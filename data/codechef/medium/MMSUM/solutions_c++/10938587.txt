    #include<cstdio>
    #include<iostream>
    #include<vector>
    #include<climits>
    inline int scan_d() { int ip = getchar_unlocked(), ret = 0, flag = 1;for (;ip<'0' || ip>'9';ip = getchar_unlocked())if (ip == '-') { flag = -1;ip = getchar_unlocked();break; }for (;ip >= '0'&&ip <= '9';ip = getchar_unlocked())ret = ret * 10 + ip - '0';return flag*ret;}
    using namespace std;

    int main(){
        int t,n;
        t = scan_d();
        while(t--){
            n = scan_d();
            long long int ans = INT_MIN;
            vector<int> a(n+1);
            for(int i=0;i<n;i++){
               a[i] = scan_d();
               if(ans<a[i])
                ans = a[i];
            }
            if(ans<0){
                cout<<ans<<endl;
                continue;
            }
            long long int cur=0,pre=0;
            for(int i=0;i<n;i++){
                cur += a[i];
                if(pre<0)
                    pre = 0;
                if(cur<pre)
                    cur = pre;
                if(ans<cur)
                    ans = cur;
                pre += a[i];
            }
            cout<<ans<<endl;
        }
        return 0;
    }
