    #include<cstdio>
    #include<iostream>
    #include<vector>
    #include<climits>
    using namespace std;

    int main(){
        int t,n;
        scanf("%d",&t);
        while(t--){
            scanf("%d",&n);
            long long int ans = INT_MIN;
            vector<int> a(n+1);
            for(int i=0;i<n;i++){
               cin>>a[i];
               if(ans<a[i])
                ans = a[i];
            }
            if(ans<0){
                cout<<ans<<endl;
                continue;
            }
            long long int cur=0,pre=0;
            for(int i=0;i<n;i++){
                cur += a[i];
                if(pre<0)
                    pre = 0;
                if(cur<pre)
                    cur = pre;
                if(ans<cur)
                    ans = cur;
                pre += a[i];
            }
            cout<<ans<<endl;
        }
        return 0;
    }
