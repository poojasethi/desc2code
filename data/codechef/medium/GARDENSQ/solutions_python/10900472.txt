T=int(raw_input())
for t in range(T):
	s=map(int,raw_input().split())
	n=s[0]
	m=s[1]
	l=[]
	for i in range(n):
		l.append(raw_input())
	c=0
	for i in range(1,n,1):
		for j in range(n):
			for k in range(m):
				if(j+i<n and k+i<m):
					if(l[j][k]==l[j][k+i] and l[j][k]==l[j+i][k] and l[j][k]==l[j+i][k+i]):
						c+=1
	print c
