#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#define mod 1000000007
using namespace std;
main()
{   std:ios_base::sync_with_stdio(false);
    int t,n,m,i,j,k,ans=0;
    cin>>t;
    while(t--)
    {   ans=0;
    	cin>>n>>m;
    	char a[50][51];
		
		for(i=0;i<n;i++)
		cin>>a[i];
		
		 for(i=0;i<n;i++)
		 {
		 	for(j=0;j<m;j++)
		 	{   char c=a[i][j];
		 		for(k=1; i+k<n && j+k<m; k++)
		 		 if(c==a[i][j+k] && c==a[i+k][j] && c==a[i+k][j+k])
		 		 ans++;
		 	}
		 }
		 printf("%d\n",ans);
    }
	return 0;
}
