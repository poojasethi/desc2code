#include <iostream>

using namespace std;

int isSq(char [][50], int,int,int);

int main()
 {
    int t,n,m,sq;
    cin>>t;
    while(t--)
     {
        char g[50][50];
        int i,j,k;
        sq=0;
        cin>>n>>m;
        for(i=0;i<n;i++)
         {
            for(j=0;j<m;j++)
             {
                cin>>g[i][j];
             }
         }
        for(i=0;i<n-1;i++)
         {
            for(j=0;j<m-1;j++)
             {
                for(k=1;((i+k)<n)&&((j+k)<m);k++)
                 {
                    if(isSq(g,i,j,k))
                        sq++;
                 }
             }
         }
         cout<<sq<<endl;

     }
     return 0;
 }

int isSq(char g[][50], int i, int j, int k)
 {
    if((g[i][j]==g[i][j+k]) && (g[i][j]==g[i+k][j]) && (g[i][j]==g[i+k][j+k]))
        return 1;
    else
        return 0;
 }
