#include <iostream>
#include <cstdio>
#include <algorithm>
#define MAX 50
#define FOR(i,m,n) for(i=m;i<n;i++)
#define get(n) scanf("%i",&n)

using namespace std;

int main()
{
    int t,i,n,m,j,k,v,ans;char color[MAX+10][MAX+10],cur_color;

    get(t);

    FOR(i,0,t)
    {
            get(n);get(m);
            FOR(j,0,n)
                scanf("%s",color[j]);

            ans=0;

            FOR(j,0,n)
                FOR(k,0,m)
                    {
                        cur_color=color[j][k];
                        FOR(v,1,min(n-j,m-k))
                        if(color[j+v][k]==cur_color)
                            if(color[j+v][k+v]==cur_color)
                                if(color[j][k+v]==cur_color)
                                     ans++;
                    }

             printf("%i\n",ans);
    }

    return 0;
}
