#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<stack>
#include<algorithm>
#include<queue>
#include<string>
#include<cstring>
#include<cmath>
#include<map>
#include<sstream>
#include<cctype>
#include<vector>
#include<utility>

#define LL long long
#define MAX_SIZE 100005
#define MOD 1000000007
#define TEST int tc;for(scanf("%d",&tc);tc--;)
#define input freopen("in.txt","r",stdin)
#define out(a) printf("%d\n",a)
#define output freopen("out.txt","w",stdout)
using namespace std;

char s[55][55];
int main()
{
    //input;
    //output;
    int row,col,val,sq,i,j;
    TEST
    {
        scanf("%d%d",&row,&col);
        for(i=0;i<row;i++)
            scanf("%s",s[i]);
        if(row==1||col==1)
            cout<<0<<endl;
        else
        {
            //cout<<"ok";
            int cnt=0;
            val=min(row,col);

            for(sq=2;sq<=val;sq++)
            for(i=0;i+sq<=row;i++)
            for(j=0;j+sq<=col;j++)
                if(s[i][j]==s[i+sq-1][j] && s[i][j]==s[i][j+sq-1] && s[i][j]==s[i+sq-1][j+sq-1])
                    cnt++;
            cout<<cnt<<endl;
        }
    }
	return 0;
}
