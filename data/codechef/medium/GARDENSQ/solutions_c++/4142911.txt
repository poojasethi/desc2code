//garden square
#include<stdio.h>
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    char a[55][55];
    int i,j,n,count=0,m,y,min;
    scanf("%d%d",&n,&m);
    for(i=0;i<n;i++) 
    {
    scanf("%s",a[i]);   
    }
    for(y=0;y<n;y++)
    {
    for(i=0;i<m;i++)
     {
     j=1;
     while(y+j<n&&i+j<m)
        {
        if(a[y][i]==a[y+j][i]&&a[y][i]==a[y][i+j]&&a[y][i]==a[y+j][i+j])                                  
        count++;
        j++;
        }
                   }
                    }
                    printf("%d\n",count);
                    }
    return 0;
    }
