#include<iostream>
using namespace std;
int main()
{

    int t;
    cin>>t;
    while(t--)
    {
    char a[100][100];
    int i,j,x,y,p,q,m,l,ans=0;
    cin>>p>>q;

    for(i=0;i<p;i++)
    cin>>a[i];
    for(i=0;i<p;i++)
    {
        for(j=0;j<q;j++)
        {
            l=i;
            m=j;
            x=l+1;
            y=m+1;
            while(x<p&&y<q)
            {
                if(a[l][m]==a[l][y]&&a[l][m]==a[x][m]&&a[l][m]==a[x][y])
                  ans++;
                x++;
                y++;
            }

        }
    }
    cout<<ans<<endl;

    }
}