#include<iostream>
using namespace std;
int main()
{
    int t,n,m,ans=0;
    char a[55][55];
    scanf("%d",&t);
    while(t--)
    {
              ans=0;
              scanf("%d%d",&n,&m);
              for(int i=0;i<n;i++)
              scanf("%s",&a[i]);
              for(int i=0;i<n;i++)
              for(int j=0;j<m;j++)
              for(int k=1;i+k<n && j+k<m;k++)
              if(a[i][j]==a[i+k][j] && a[i][j]==a[i][j+k] && a[i][j]==a[i+k][j+k])
              ans++;
              printf("%d\n",ans);
              }
              return 0;
    }
