#include<iostream>
#include<bits/stdc++.h>

using namespace std;

int beauty(char garden[][60],int i,int j,int n,int m){
int l,k,count2=0;
for(l=1;(l+i)<n&&(l+j)<m;l++){
        //cout<<garden[i][j]<<" "<<garden[i][j+l]<<" "<<garden[i+l][j]<<" "<<garden[i+l][j+l]<<"\n";
        if(garden[i][j]==garden[i][j+l]&&garden[i][j]==garden[i+l][j]&&garden[i][j]==garden[i+l][j+l]) count2++;
}
//cout<<"\n";
return count2;
}


int main(){
int tests;
cin>>tests;
while(tests--){
 int n,m,i,j,count1=0;
 cin>>n>>m;
 char garden[60][60];
 for(i=0;i<n;i++) cin>>garden[i];
 //for(i=0;i<n;i++) cout<<garden[i]<<"\n";
 for(i=0;i<(n-1);i++){
    for(j=0;j<(m-1);j++){
        count1+=(beauty(garden,i,j,n,m));
    }
 }
cout<<count1<<"\n";
}
return 0;
}
