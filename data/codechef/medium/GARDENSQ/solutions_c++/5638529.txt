#include<cstdio>
#include<iostream>
#include<algorithm>
#include<string>

using namespace std;

int main()
{
    int n,i,j,test,ans,k,cou,m,t;
    //int s[1001];
    char a[52][52];
    scanf("%d",&test);
    while(test)
    {
        cou =0;
        scanf("%d %d",&n,&m);
        for(i=0;i<n;i++)
        {
            for(j=0;j<m;j++)
            {
                cin>>a[i][j];
               //scanf("%c",&a[i][j]);
            }
        }
        /*
        for(i=0;i<n;i++)
        {
            for(j=0;j<m;j++)
            {
                cout<<a[i][j];
               //printf("%c",a[i][j]);
            }
            printf("\n");
        }
        */
        t=min(n,m);
        for(i=2;i<=t;i++)
        {
            for(k=i-1;k<n;k++)
            {
                for(j=i-1;j<m;j++)
                {
                    if( (a[k][j]==a[k-i+1][j-i+1]) && (a[k][j]==a[k][j-i+1]) && (a[k][j]==a[k-i+1][j]))
                        cou++;
                }
            }

        }
        printf("%d\n",cou);
        test--;
    }
return 0;
}
