#include<bits/stdc++.h>
#define ll long long
using namespace std;
#define size 1002
int main()
{	
	ll t,n,i,*ar,c1,c2;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld",&n);
		ar=new ll[n];
		c1=0;c2=0;
		for(i=0;i<n;i++)
		{
			scanf("%lld",&ar[i]);
			if(ar[i]>2)
			c1++;
			if(ar[i]==2)
			c2++;
		}
		ll an= (c1*(c1-1))/2 + c2*c1 ;
		
		printf("%lld\n",an);
		
		free(ar);
	}
	return 0;
}
