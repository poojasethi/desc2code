#include <iostream>
#include <algorithm>
#include <fstream>
#include <vector>
#include <string>
#include <map>
#include <cstdio>

using namespace std;

int main()
{
	//freopen("i.txt","r",stdin);
	int t;
	scanf("%d",&t);
	while(t--)
	{
		int n;
		cin>>n;
		int a[n];
		int p[n];
		int q[n];
		q[0] = 0;
		p[0] =0;
		for(int i=0;i<n;i++)
			scanf("%d",&a[i]);
		for(int i=1;i<=n;i++)
		{	p[i]=p[i-1];
			q[i]=q[i-1];
			if(a[i-1] ==0 || a[i-1]==1)
				p[i] = p[i-1]+1;
			else if(a[i-1]==2)
				q[i] = q[i-1] +1;
	    }
		long long s=0;
		for(int i=1;i<n;i++)
		{	if(a[i]>2)
				s = s + (i-p[i]);
			else if(a[i]==2)
				s = s + (i - p[i] -q[i]);
			//cout<<p[i]<<" "<<s<<"\n";
	  }
		printf("%lld\n",s);


	}
	
}
