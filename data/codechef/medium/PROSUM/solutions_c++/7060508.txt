#include<bits/stdc++.h>
using namespace std;

int main()

{
std::ios::sync_with_stdio(false);
int T;
cin>>T;

while(T--)
{
int N;
cin>>N;

int A[N], i;

int count[]={0,0,0};

for(i=0; i<N; i++)
{
cin>>A[i];
if(A[i]==0)
count[0]++;

if(A[i]==1)
count[1]++;

if(A[i]==2)
count[2]++;
}

long long int ans=0, m;
m=N-(count[0]+count[1]+count[2]);

ans=ans+((m*(m-1))/2)+count[2]*m;

cout<<ans<<"\n";
}

return 0;
}