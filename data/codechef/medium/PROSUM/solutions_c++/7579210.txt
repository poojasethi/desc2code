#include <iostream>
#include<vector>
#include<cstdio>
#include<algorithm>
using namespace std;
 
long long C(int n, int r)
{
	vector<vector<long long> > C(n+1,vector< long long >(r+1,0));
	for(int i=0;i<=n;i++)
	{
		for(int k=0;k<=r&&k<=i;k++)
		{
		 if(k==0||k==i)
		  C[i][k]=1;
		  else
		   C[i][k]=C[i-1][k-1]+C[i-1][k]; }
	}
	return C[n][r];
}
 
int main() {
	
	int t;
	long long int i,j,n;
	scanf("%d",&t);
	while(t--)
	{
		scanf("%lld",&n);
		long long int temp1=0,temp=0,j=0,count=0,b[n],a[n];
		for(i=0;i<n;i++)
		{
			scanf("%lld",&a[i]);
			if(a[i]==0||a[i]==1)
			 temp1++;
			if(a[i]==2)
			  temp++;
			 
		}
			n=n-temp1-temp; 
			count+=C(n,2);
			count+=temp*n;
		printf("%lld\n",count);
	}
	return 0;
}