#include<stdio.h>
#include<iostream>
#include<malloc.h>
using namespace std;

int main()
{
    int n,test,a,i;
    scanf("%d",&test);
    while(test--)
    {
         long long count2=0,c=0;
         scanf("%d",&n);
         for(i=0;i<n;i++)
         {
             scanf("%d",&a);
             if(a==2)
                 count2++;
             else if(a>2)
                     c++;
         }
         printf("%lld\n",((count2*c)+((c*(c-1))/2)));  
    }
   return 0;
}
