// Codechef practive easy  PROSUM
#include<cstdio>

using namespace std;

int main(){
		long long int t,n,cnt1,cnt2,ans,i,temp;
		scanf("%lld",&t);
		while(t--){
			scanf("%lld",&n);
			cnt1=cnt2=ans=0;
			
			for(i=0;i<n;i++){
					scanf("%lld",&temp);
					if(temp>2)
						cnt1++;
					else if(temp==2)
						cnt2++;
			
			}		
			if(cnt1>1)
			ans=(cnt1*(cnt1-1))/2;
			
			ans+=cnt1*cnt2;
			printf("%lld\n",ans);
		}
}