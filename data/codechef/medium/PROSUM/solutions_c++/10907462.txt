#include<iostream>
#include<stdio.h>
#include<bits/stdc++.h>
using namespace std;
 
typedef long long ll;
 
#define si(n) scanf("%d",&n)
#define sic(n) scanf("%c",&n)
#define so(n) printf("%d\n",n)
#define sof(n) printf("%0.1f",n)
#define sol(n) printf("%lld\n",n)
#define sil(n) scanf("%lld",&n)
#define POSSIBLE (c=='#'||c=='.')
#define ALPHAS (c>='a'&&c<='z')
#define ALPHAC (c>='A'&&c<='Z')
#define OUT(a,s) for(int k=0;k<s;k++){cout<<a[k]<<" ";}cout<<endl;
#define CLEAR(a) a.clear();vector <int> (a).swap(a);
#define SORT(a) sort(a.begin(),a.end(),greater<int>())
#define M 1000000007
#define dynamo2d(ary) int **ary = new int*[n];for(int _k = 0; _k < n; ++_k) {ary[_k] = new int[n];}
#define dynamo2dc(ary) char **ary = new char*[n];for(int _k = 0; _k < n; ++_k) {ary[_k] = new char[n];}
#define clean(ary) for(int i = 0; i < n; ++i) {delete [] ary[i];}delete [] ary;
 
inline void input(int &x) {
    register int c = getchar_unlocked();
    x = 0;
    int neg = 0;
    for(; ((c<48 || c>57) && c != '-'); c = getchar_unlocked());
    if(c=='-') {
        neg = 1;
        c = getchar_unlocked();
    }
    for(; c>47 && c<58 ; c = getchar_unlocked()) {
        x = (x<<1) + (x<<3) + c - 48;
    }
    if(neg)x = -x;
}
 
int main() {
    int t,n,temp,i;
    long long two,other;
    input(t);
    while(t--){
        input(n);
        other=0;two=0;
        for(i=0;i<n;i++){
            input(temp);
            if(temp==2){
                two++;
            }
            else if(temp>2){
                other++;
            }
        }
        sol(other*(other-1)/2+two*other);
    }
    return 0;
} 