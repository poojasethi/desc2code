#include <bits/stdc++.h>
using namespace std;
int fact(int r)
{
    if(r==0)
        return 1;
    else
        return r*fact(r-1);
}
int calc(int p,int q)
{
    return (fact(p)/(fact(p-q)*fact(q)));
}
int main()
{
    int m,n,i,j,l=53,counti=0,k=0,ans=0,x=0;
    cin>>m>>n;
    char arr2[n][54];
    for(i=0;i<n;i++)
    {
        scanf("%s",arr2[i]);
    }
    char arr[n][54];
    for(i=0;i<n;i++)
    {
        k=0,counti=0,l=53;
        for(j=0;j<54;j++)
        {
            if(j<36)
            {
                if(j==0) k=0;
                else if(j%4==0)   k+=2;
                if(arr2[i][j]=='0')
                    arr[i][k]='0';
                else
                    arr[i][k]='1';
                k++;
            }
            else
            {
                if(counti==2)
                {
                    counti=0;
                    l-=4;
                }
                if(arr2[i][j]=='0')
                    arr[i][l]='0';
                else
                    arr[i][l]='1';
                l--;
                counti++;
            }
        }
    }
    for(i=0;i<n;i++)
    {
        counti=0;
        for(j=0;j<54;j++)
        {

            if(j%6==0)
            {
                if(counti>=m)
                {
                    x=calc(counti,m);
                    ans+=x;
                }
                counti=0;
            }
            if(arr[i][j]=='0')
            {
                counti++;
            }
            if(j==53)
            {
                if(counti>=m)
                {
                    x=calc(counti,m);
                    ans+=x;
                }
                counti=0;
            }
        }
    }
    cout<<ans<<endl;
    return 0;
}
