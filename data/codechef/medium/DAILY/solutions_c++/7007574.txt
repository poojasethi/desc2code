#include<iostream>
#include<string.h>
#include<stdio.h>
 
using namespace std;
 
int fact(int n) {
	int i, ans=1;
	for(i=1; i<=n; ++i)
		ans *= i;
	return ans;
}
 
int main() {
	int X, N, i, j, v, ans=0;
	char s[55];
	cin>>X>>N;
	while(N--) {
		cin>>s;
		for(i=0; i<36; i+=4) {
			v=0;
			for(j=i; j<i+4; ++j)
				if(s[j]=='0')
					++v;
			if(s[53-(i/4)*2]=='0')
				++v;
			if(s[52-(i/4)*2]=='0')
				++v;
			if(v>=X)
				ans+=fact(v)/(fact(X)*fact(v-X));
		}
			
	}
cout<<ans<<endl;
}