#include <cstdio>
#include <cstring>
#include <vector>
#include <iostream>
using namespace std;

vector<int> a[100];
int mark[100];
int cmp;

void dfs(int u)
{
	mark[u]=cmp;
	for(int i=0;i<a[u].size();i++)
	{
	    //cout<<"i ->"<<i<<endl;
		int v=a[u][i];
		if(mark[v]==0) dfs(v);
	}
}

int main()
{
	int TST;
	scanf("%d",&TST);
	for(int tst=0;tst<TST;tst++)
	{
		int n,m;
		scanf("%d%d",&n,&m);
		int i,u,v;
		for(i=0;i<n;i++) a[i].clear();
		for(int k=0;k<m;k++)
		{
			scanf("%d%d",&u,&v);
			a[u].push_back(v);
			a[v].push_back(u);
		}
		memset(mark,0,4*n);
		cmp=0;
		for(i=0;i<n;i++)
			if(!mark[i])
			{
				cmp++;
				dfs(i);
			}

		int Q;
		scanf("%d",&Q);
		for(int q=0;q<Q;q++)
		{
			scanf("%d%d",&u,&v);
			puts(mark[u]==mark[v]?"YO":"NO");
		}
	}
	return 0;
}
