#include <iostream>
#include <cstdio>
#include <cstdlib>
 
using namespace std;
 
int par[100];
int find(int p)
{
	int x;
	if(par[p]==-1)	
		return p;
	else
	{
	 	 x=find(par[p]);
		 par[p]=x;
		return x;
	}
	
}
 
void make_union(int p,int r)
{
	int y=find(p);
	int x=find(r);
	if(x==y)
		return;
	else
		par[x]=y;
			
}
 
int main() {
	int t;
	scanf("%d",&t);
	while(t--)
	{
		int n,q,m;
		scanf("%d",&n);
		scanf("%d",&m);
		//par=new int[n];
		for(int i=0;i<100;i++)
			par[i]=-1;
		int x,y;
		for(int i=1;i<=m;i++)
		{	
			scanf("%d%d",&x,&y);
			make_union(x,y);
		}
		scanf("%d",&q);
		while(q--)
		{
				scanf("%d",&x);
				scanf("%d",&y);
				int p,r;
				p=find(x);
				r=find(y);
				if(p==r)
					printf("YO\n");
				else
					printf("NO\n");
		}
		//free (par);	
	}
	return 0;
} 