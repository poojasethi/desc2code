#include <iostream>
#include <stdio.h>
#include <string.h>
using namespace std;
#define getcx getchar_unlocked
inline void inp( int &n )//fast input function
{
   n=0;
   int ch=getcx();int sign=1;
   while( ch < '0' || ch > '9' ){if(ch=='-')sign=-1; ch=getcx();}

   while(  ch >= '0' && ch <= '9' )
           n = (n<<3)+(n<<1) + ch-'0', ch=getcx();
   n=n*sign;
}

int GRAPH[109][109];
int AD[109];

int visited[109];

void dfs(int start, int cur, int n) {
	visited[cur] = 1;
	AD[cur] = start;
    for(int i=0; i<n; i++) {
        if(GRAPH[cur][i]==1 && visited[i]==0) {
            dfs(start, i, n);
        }
    }
}

int main()
{
    int t;
    inp(t);
    int N, M, Q;
    int c1, c2;
    while(t--)
    {
        inp(N);
        inp(M);

        memset(AD, 0, sizeof(AD));
		memset(GRAPH, 0, sizeof(GRAPH));
		
        for(int i=0; i<M; i++){
        	inp(c1);
        	inp(c2);
            GRAPH[c1][c2] = 1;
            GRAPH[c2][c1] = 1;

        }

        for(int i=0; i<N; i++) {
        	memset(visited, 0, sizeof(visited));
            dfs(i, i, N);
        }
        inp(Q);
        for(int i=0; i<Q; i++) {
            inp(c1);
            inp(c2);
            if(AD[c1] == AD[c2])
                cout<<"YO\n";
            else
                cout<<"NO\n";
        }
    }
    return 0;
}