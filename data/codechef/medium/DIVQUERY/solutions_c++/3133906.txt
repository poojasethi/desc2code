#include<iostream>
#include<stdio.h>
#include<string.h>
#include<math.h>
#include<vector>
#include<queue>
#include<map>
#include<stdlib.h>
#include<algorithm>
#define i_n(a) scanf("%d",&a)
#define l_n(a) scanf("%lld",&a)
#define LL long long int
#define pb(a) push_back(a)
#define i_p(a) printf("%d\n",a)
#define l_p(a) printf("%lld\n",a)


using namespace std;
int maximum(int a,int b)
{
    if(a>b)
        return a;
    else
    return b;
}
vector<int>v[100005];
int main()
{

int t,n,i,j,k,q,max1=-1,l,a,b;
for(i=2;i<=100000;i++)
{
    for(j=i;j<=100000;j+=i)
    {
        v[j].pb(i);
    }
}
    i_n(n); i_n(q);
    max1=-1;
    int in[100005]={0};
vector<int>mark[100005];
    for(i=0;i<n;i++)
    {
        scanf("%d",&in[i]);
        for(j=0;j<v[in[i]].size();j++)
        {
           mark[v[in[i]][j]].pb(i+1);
        }
    }
    for(j=0;j<q;j++)
    {
        i_n(a);i_n(b);i_n(l);
        int ans=0;
        if(l!=1)
              ans+=upper_bound(mark[l].begin(),mark[l].end(),b)-lower_bound(mark[l].begin(),mark[l].end(),a);
               // if(ans==b-a+1)
                 //   break;
        else if(l==1)
            ans=b-a+1;
            else
                ans=0;
        printf("%d\n",ans);
    }

   return 0;
}

