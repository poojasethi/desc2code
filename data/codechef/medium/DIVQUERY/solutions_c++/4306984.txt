#include<iostream>
#include<map>
#include<vector>
#include<cstring>
#include<cmath>
#include<algorithm>
#include<cstdio>
#include<fstream>
using namespace std;
#define abs(x) ((x)>0?(x):-(x))
#define M 1000000007
#define lld signed long long int
#define pp pop_back()
#define ps(x) push_back(x)
#define tkint(n) scanf("%d",&n)
#define tkchar(ch) scanf("%c",&ch)
#define tklong(n) scanf("%I64d",&n)
vector<int> fact[100000+5];
int main()
{
	int l,r,n,q,x,k;
	cin>>n>>q;
	for(int i=1;i<=n;++i)
	{
		tkint(x);
		int l=sqrt(x);
		for(int p=1;p<=sqrt(x);++p)
		{
			if(x%p==0)
			{
				if(p*p==x)fact[p].ps(i);//if its the real sqrt
				else
				{
					fact[p].ps(i);
					fact[x/p].ps(i);
				}
			}
		}
	}
	while(q--)
	{
		cin>>l>>r>>k;
		int x2=lower_bound(fact[k].begin(),fact[k].end(),r)-fact[k].begin();
		int x1=upper_bound(fact[k].begin(),fact[k].end(),l-1)-fact[k].begin();
		if(x1==fact[k].size())
		{
			cout<<"0\n"; continue;
		}
		if(x2==fact[k].size() && fact[k][fact[k].size()-1]>r or fact[k][x2]!=r)--x2;

		int ans=x2-x1+1;
		cout<<ans<<endl;
	}
}
//12 22
//2 5 2 2 5 5 5 5 2 5  2 5
