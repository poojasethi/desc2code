#include "bits/stdc++.h"
#define pb push_back
#define MP make_pair
#define MAXN 100001
using namespace std;
typedef long long ll;
typedef vector<int>::iterator setit;
using namespace std;
vector<int> V[MAXN];
vector<int> v;
int curFreq[MAXN];

int main()
{
    //freopen("abc.txt","r",stdin);
    int n,m,t;
    scanf("%d %d",&n,&m);
    for (int i=0; i<n; i++)
    {
        scanf("%d",&t);
        v.pb(t);
    }
    ll num1,num2;
    for (int i=0; i<n; i++)
    {
        for (int j=1; j*j<=v[i]; j++)
        {
            if ((v[i]%j)==0)
            {
                num1 = v[i]/j;
                num2 = j;
                if (V[num1].size()==0){V[num1].pb(i);}
                if (V[num2].size()==0){V[num2].pb(i);}
                if (V[num1][V[num1].size()-1]!=i)
                {V[num1].pb(i);}
                if (V[num2][V[num2].size()-1]!=i)
                V[num2].pb(i);
            }
        }
    }

    int l,r,M;
    while(m--)
    {
        scanf("%d %d %d",&l,&r,&M);
        l--; r--;
        setit L = lower_bound(V[M].begin(), V[M].end(), l);
        setit R = upper_bound(V[M].begin(), V[M].end(), r);
        int c=0;
        c=R-L;
        printf("%d\n",c);
    }
}
