// ROH.cpp : Defines the entry point for the console application.
//



#include<iostream>
#include<vector>
#include<stdio.h>
#include<cstdio>
#include<stdlib.h>
#include<algorithm>
#include<queue>
#include<bitset>
#include<fstream>
#include<stack>
#include<set>
#include<utility>
#include<string>
#include<cstring>
#include<math.h>
using namespace std;

#define scan scanf
#define sscan sscanf_s
#define get gets_s
#define print printf 
#define mod 1000000007
#define ll  long long
#define init int i,j,k,l,m,n,test
#define pause system("pause")
#define inf 1000000009

vector<int> v[100009];
vector<int> a[100009];
int main()
{
	init;
	int q;
	int b[100009];
	scan("%d %d",&n,&q);
	k=0;
	for(i=1;i<=n;i++)
	{
		scan("%d",&b[i]);
		k=max(k,b[i]);
	}
	for(i=1;i<=k;i++)
	{
		j=i;
		while(j<=k)
		{
			a[j].push_back(i);
			j+=i;
		}

	}
	for(i=1;i<=n;i++)
	{
		k=b[i];
		
		for(j=0;j<a[k].size();j++)
		{
			v[a[k][j]].push_back(i);
		}

	}
	int r;
	for(i=0;i<q;i++)
	{
		scan("%d %d %d",&l,&r,&k);
		vector<int>::iterator f,d;
		f=lower_bound(v[k].begin(),v[k].end(),l);
		d=upper_bound(v[k].begin(),v[k].end(),r);
		//cout<<*f<<" "<<*d<<endl;
		int last;
		printf("%d\n",d-f);
		/*if(v[k].size()>0)
		{
			last=v[k][v[k].size()-1];
			if(r>=last)
				cout<<d-f+1<<endl;
			else cout<<d-f<<endl;
		}
		else cout<<"0"<<endl;*/


	}


}

