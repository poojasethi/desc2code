#include<cstdio>
#include<algorithm>
#include<cstring>
#include<vector>
#include<iostream>
using namespace std;
int ans[100001],f[100001];
vector<int> factors[100001];
vector<int> indexL[100001];
vector<int> indexR[100001];

struct query {
    int l, r, k, idx;
    query(int i) {
        idx = i;
        scanf("%d%d%d", &l, &r, &k);
        l--, r--;
        if(l)
        indexL[l-1].push_back(i);
        indexR[r].push_back(i);
    }
};
int main() {
    for(int i=1; i<100001; i++)
        for(int j=i; j<100001; j+=i)
            factors[j].push_back(i);
    int N, Q;
    scanf("%d%d", &N, &Q);
    int a[N];
    for(int i=0; i<N; i++)
        scanf("%d", &a[i]);
    vector<query> qrs;
    for(int i=0; i<Q; i++)
        qrs.push_back(query(i));
    for(int i=0; i<N; i++)
    {
        int sz=factors[a[i]].size();
        for(int j=0; j<sz; j++)
            f[factors[a[i]][j]]++;
        sz = indexL[i].size();
        for(int j=0; j<sz; j++)
        ans[indexL[i][j]]-=f[qrs[indexL[i][j]].k];
        sz = indexR[i].size();
        for(int j=0; j<sz; j++)
        ans[indexR[i][j]]+=f[qrs[indexR[i][j]].k];
    }
    for(int i=0; i<Q; i++)
        printf("%d\n", ans[i]);
}
