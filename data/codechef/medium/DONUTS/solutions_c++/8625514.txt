#include <bits/stdc++.h>
using namespace std;
 
long int input()
{
long int t=0;
char c;
c=getchar_unlocked();
while(c<'0' || c>'9')
c=getchar_unlocked();
while(c>='0' && c<='9')
{
t=(t<<3)+(t<<1)+c-'0';
c=getchar_unlocked();
}
return(t);
}
 
int main() 
{
    long int t,n,m;
    t=input();
    while(t--)
    {
        long int i,a[200005];
        n=input();
        m=input();
        for(i=0;i<m;++i)
        a[i]=input();
        sort(a,a+m);
        //for(i=0;i<m;++i)
        //cout<<a[i]<<"\t";
        long int p1,p2,c=0;
        for(p1=0,p2=m-1;p2>p1;)
        {
            //cout<<c<<" "<<p1<<" "<<a[p1]<<" "<<p2<<"\n";
            if(a[p1]==1)
            {
                //cout<<"1";
                a[p1]--;
                p1++;
                p2--;
                c++;
            }
            else if(a[p1]>1)
            {
                //cout<<"2";
                a[p1]--;
                p2--;
                c++;
            }
           // cout<<c<<" "<<p1<<" "<<p2<<"\n";
        }
        cout<<c<<endl;
    }
	return 0;
}
  