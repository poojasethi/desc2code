#include <iostream>
#include <string.h>
using namespace std;
int arr[100001];
 
int main()
{
	ios_base::sync_with_stdio(false);
	int t,n,m,temp;
	cin>>t;
	while(t--)
	{
		cin>>n>>m;
		memset(arr,0,(sizeof(int)*20001));
		for(int i=1;i<=m;i++)
		{
			cin>>temp;
			arr[temp]++;
		}
		int sum=0;
		int count=1;
		while(arr[count]==0)
		count++;
		while(count<m-2)
		{
			sum+=count;
			m-=count+1;
			arr[count]--;
			while(arr[count]==0)
			count++;
		}
		sum+=m-2;
		if(count>m-2)
		{
			sum++;
		}
		cout<<sum<<endl;
	}
	
	
	return 0;
}