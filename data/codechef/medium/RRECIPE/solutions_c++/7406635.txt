#include <bits/stdc++.h>
using namespace std;
char a[1000000];
 
int main() {
	// your code goes here
	int test;
	cin>>test;
	long int x=10000009;
	while(test--)
	{
	cin>>a;
	long int len=strlen(a),sum=1;
	int y=0;
	if(len==1)
	{if(a[0]=='?')
	cout<<"26\n";
	else
	cout<<"1\n";
	}
	else
	{
	  long int len1=len%2==0?len/2:len/2+1;
	  for(long int i=0;i<len1;i++)
	  {
	    if(a[i]=='?' || a[len-i-1]=='?')
	   { 
	   if(a[i]=='?' && a[len-i-1]=='?')
	   sum=(sum*26)%x;
	    y=1;
	    }
	    else if(a[i]!=a[len-i-1])
	    {
	    cout<<"0\n";
	    y=2;
	    break;
	    }
	  }
	  if(y==0)
	  cout<<"1\n";
	  else if(y==1)
	  cout<<sum<<"\n";
	}
	}
	return 0;
} 