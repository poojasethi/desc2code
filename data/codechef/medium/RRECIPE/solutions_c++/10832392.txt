#include<iostream>
#include<string>
using namespace std;
int main()
{
    int t;string str;
    ios::sync_with_stdio(false);
    cin>>t;
    while(t--)
    {
        cin>>str;
        int count = 1;
        int len = str.length();int flag = 1;
        for(int i=0;i<=(len-1)/2;i++)
        {
            //cout<<i<<' '<<str[i]<<' '<<str[len-1-i]<<endl;
            //if((str[i]=='?'&&str[len-1-i]!='?')||(str[i]!='?'&&str[len-1-i]=='?')&&count==0)
              //  count++;
            if(str[i]=='?'&&str[len-1-i]=='?')
            {
                //if(count == 0)
                //{
                  //  count+=26;
                //}
                //else
                //{
                    count = ((count%10000009)*26)%10000009;
                //}
            }
            else if(str[i]!='?'&&str[len-1-i]!='?'&&str[i]!=str[len-1-i])
            {
                flag=0;
                break;
            }

        }
        //cout<<flag<<endl;
        if(flag)
            cout<<count<<endl;
        else
            cout<<0<<endl;
    }
}
