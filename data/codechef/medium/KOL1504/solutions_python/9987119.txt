#include <iostream>
#include <string>
#include <algorithm>

using namespace std;

int main()
{
	unsigned uTotalNumberOfLayers ;
	unsigned uMaxLayerDifference ;
	unsigned uTotalTestCases ;
	string strDescribedCake ;
	string strMessedUpCake ;
	string strDescPattern ;
	string strMessedPattern ;

	cin >> uTotalTestCases ;

	while (  uTotalTestCases-- )
	{
		cin >> uTotalNumberOfLayers>> uMaxLayerDifference;
		cin >> strDescribedCake ;
		cin >> strMessedUpCake ;
			
		bool bIsSwappable = true;
		
		if ( uMaxLayerDifference >= uTotalNumberOfLayers)
		{
			if ( strDescribedCake == strMessedUpCake )
			{
				cout <<"Yes\n";
			}
			else
			{
				cout <<"No\n";
			}
		}
		else
		{	
			for (int i=0 ; i<uMaxLayerDifference ; i++ )
			{
				strDescPattern.clear();
				strMessedPattern.clear() ;
				for ( int j=i ; j<uTotalNumberOfLayers ; j+=uMaxLayerDifference )
				{
					strDescPattern = strDescPattern + strDescribedCake[j] ;
					strMessedPattern = strMessedPattern + strMessedUpCake[j] ;
				}

				sort(strDescPattern.begin(), strDescPattern.end()) ;
				sort(strMessedPattern.begin(), strMessedPattern.end()) ;

				if ( !(strDescPattern == strMessedPattern) )
				{
					bIsSwappable = false;
					break ;
				}
			}
					
			if ( bIsSwappable ) 
				cout << "Yes\n" ;
			else
				cout <<"No\n" ;
		}
	}

	return 0 ;
}
