#include <iostream>
#include <stdio.h>
#include <stdlib.h>
using namespace std;
 
int main() {
	int t;
	long long int min,min2, r, g, b,k, turn,ans;
	cin>>t;
	while(t--)
	{
		cin>>r>>g>>b>>k;
		min=r;
	 	ans=0;
		min2=r;
		if(k==1)
			cout<<1<<endl;
		else
		{
			if(r<=10&&g<=10&&b<=10)		
			{
				turn=1;
				while(turn<k)
				{
				if(r!=0)
				{	r--;
					ans++;
				}
				if(b!=0)
				{
					b--;
					ans++;
				}
				if(g!=0)
				{
					g--;
					ans++;
				}
				turn++;
			}
			cout<<ans+1<<endl;
			}
			else
			{
			if(g<r&&g<b)
				min=g;
			else if(b<r&&b<g)
				min=b;
			if(g>min&&(g<b||g<r))
				min2=g;
			else if(b>min&&(b<r||b<g))
				min2=b;
			if(k<=min)
			{
				cout<<3*(k-1)+1<<endl;
			}
			else if(k>min&&k<=min2)
			{
				cout<<min*3+2*(k-min-1)+1<<endl;
			}
			else if(k>min2)
			{
				cout<<min+2*min2+k-min2<<endl;
			}
			}
		}
	}
	return 0;
} 