#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
int main()
{
    ll t;
    cin>>t;
    while(t--)
    {
        ll r,g,b,ans;
        cin>>r>>g>>b;
        ll k;
        cin>>k;
        if((r>=k)&&(g>=k)&&(b>=k))
            ans=3*(k-1)+1;
        else if(((r>=k)&&(g>=k)&&(b<k))||((g>=k)&&(b>=k)&&(r<k))||((r>=k)&&(b>=k)&&(g<k)))
        {
          ll  m=min(r,min(g,b));
            ans=(3*m)+(2*(k-(m+1)))+1;
        }
        else
        {
           ll m1=min(r,min(g,b));
           ll ma=max(r,max(g,b));
           ll m2=(r+g+b)-(m1+ma);
            ans=(3*m1)+(2*(m2-m1))+(k-m2);

        }
        cout<<ans<<endl;

    }
}
