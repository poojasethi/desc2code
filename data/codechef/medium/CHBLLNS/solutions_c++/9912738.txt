    #include<bits/stdc++.h>
    #define D 1000000007
    #define gcd __gcd
    #define getcx getchar
    #define pc putchar
    #define get(x) scanf("%d",&x)
    #define getl(x) scanf("%lld",&x)
    #define print(x) printf("%d\n",x)
    #define printl(x) printf("%lld\n",x)
    #define bitcount __builtin_popcount
    #define debug(s) cout << "check : " << s << endl
    using namespace std;
    typedef long long ll;
    #define MAX 10002
    int main()
    {
        int t; get(t);
        while(t--)
        {
            ll r,g,b; getl(r);getl(g);getl(b);
            ll k; getl(k); ll ans=0;
            ll a[3]; a[0]=r;a[1]=g;a[2]=b;
            sort(a,a+3); r=a[0];g=a[1];b=a[2];
            if(r<k)
            {
                k -= r; ans += 3*r; g -= r; b -= r;
            }
            else
            {
                ans = 1 + 3*(k-1); k=0;
            }
            if(k>0)
            {
                if(g<k)
                {
                    k -= g; ans += 2*g; b -= g;
                }
                else
                {
                    ans += 1 + 2*(k-1); k=0;
                }
            }
            ans += k;
            printl(ans);
        }
        return 0;
    }
      

