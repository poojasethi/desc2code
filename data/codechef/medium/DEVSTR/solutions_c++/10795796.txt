//Amit Gupta              
#include<bits/stdc++.h>
using namespace std;
typedef long long LL;
typedef pair<int,int> II;
#define REP(i,i1,n) for(int i=i1;i<n;i++)
#define REPB(i,i1,n) for(int i=i1;i>=n;i--)
#define PB push_back
#define MP make_pair
#define ALL(c) (c).begin(),(c).end()
#define F first
#define S second
#define SZ(a) (LL)a.size()
#define EPS 1e-12
#define MOD 1000000007
#define TR1(x) cerr<<#x<<" : "<<x<<endl
#define TR2(x,y) cerr<<#x<<" : "<<x<<" | "<<#y<<" : "<<y<<endl
#define FAST_IO ios_base::sync_with_stdio(false);cin.tie(NULL)
#define SI(c) scanf("%d",&c)
#define SII(c,d) scanf("%d%d",&c,&d)
#define SLL(c) scanf("%lld",&c)
#define PIN(c) printf("%d\n",c)
#define PLLN(c) printf("%lld\n",c)
#define N 200010
#define endl '\n'
#define FILL(ar,vl) for(int i=0;i<N;i++)ar[i]=vl
#define FILL2(ar,vl) for(int i=0;i<N;i++)for(j=0;j<N;j++)ar[i][j]=vl
//--------------------------MAIN CODE STARTS HERE----------------
int main()
{	
    int t;
    cin>>t;
    while(t--) {
        int n,k;
        cin>>n>>k;
        int a[n];string s;
        cin>>s;
        REP(i,0,n)
            a[i]=s[i]-'0';
        int cnt=1,ans=0;
        if(k==1) {
            int ct1=0,ct2=0;
            REP(i,0,n) {
                if(a[i]==0&&i%2==1)
                    ct1++;
                if(a[i]==1&&i%2==0)
                    ct1++;
            }
            REP(i,0,n) {
                if(a[i]==0&&i%2==0)
                    ct2++;
                if(a[i]==1&&i%2==1)
                    ct2++;
            }
            cout<<min(ct1,ct2)<<"\n";
            if(ct1<=ct2) {
                REP(i,0,n)
                    cout<<(i%2==0?0:1);
                cout<<"\n";
            }
            else {
                REP(i,0,n)
                    cout<<(i%2==0?1:0);
                cout<<"\n";
            }

            continue;
        }
        REP(i,1,n) {
            if(a[i]==a[i-1]) {
                cnt++;
                if(cnt>k) {
                    ans++;
                    cnt=1;
                    if(i+1<n) {
                        if(a[i+1]==a[i])
                            a[i]=a[i]^1;
                        else
                            a[i-1]=a[i-1]^1;
                    }
                    else
                        a[i]=a[i]^1;
                }
            }
            else
                cnt=1;
        }
        cout<<ans<<"\n";
        REP(i,0,n)
            cout<<a[i];
        cout<<"\n";
    }
    return 0;
}
