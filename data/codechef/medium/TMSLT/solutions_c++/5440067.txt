#include <iostream>
#include <stdio.h>
#include <stdlib.h>
#include <cstring>

int main() {
	int test;
	scanf("%d",&test);
	while(test--)
	{
		long long int N,a,b,c,d;
	
			scanf("%lld%lld%lld%lld%lld",&N,&a,&b,&c,&d);
			long long int s;
		
			int  str[1000002];
			for(int i=0;i<1000002;i++)
			{
				str[i]=0;
			}
	     	
		
			str[d]=str[d]+1;
			s=d;
		
			for(int i=1;i<N;i++)
			{
		
				s=((a*s*s)+(b*s)+c)%1000000;
				str[s]++;
			}
			long long int sum=0,evensum=0,oddsum=0;
		int tm=0;
		
		for(int i=0; i<1000002; i++)
		{ 
			if(str[i]%2!=0)
			{
				if(tm==0) 
				{
					evensum+=i;
					tm=1;
				}
				else if(tm==1)
				{
					oddsum+=i;
					tm=0;
				}
			}
		}
		sum=evensum-oddsum;
		if(sum<0)
		sum=-sum;
		printf("%d\n",sum);
	}
}