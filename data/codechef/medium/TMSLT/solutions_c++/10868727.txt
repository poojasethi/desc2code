#include<bits/stdc++.h>
#include <cassert>

using namespace std;
typedef long long int ll;
ll MAX = 1000000;
int main() {
    //ios::sync_with_stdio(0);
    int t;
    cin >> t;
    while (t --) 
	{
    	ll n,a,b,c,d;
    	scanf("%lld%lld%lld%lld%lld",&n,&a,&b,&c,&d);
    	vector<ll>v(1000006,0);
    	ll s=d;
    	for(ll i=0;i<n;i++)
    	{
    		v[s]++;
			s = (a * s*s + b * s + c)%MAX;
    		
		}
		//sort(v.begin(),v.end());
		ll se=0,so=0,t=0;
		for(ll i=1000006;i>0;i--)
		{
			while(v[i]>0)
			{
			
				if(t==0) {
				se += i; t=1;
				}
				else {
					so += i; t=0;
				}
				v[i]--;
			}
		}
		ll diff = abs(se - so);
		cout<<diff<<endl;
    }
    return 0;
}