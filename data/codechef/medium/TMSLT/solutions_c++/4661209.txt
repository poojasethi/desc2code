/*
jai shree ram _/\_
A hacker from NITP
*/

#include<bits/stdc++.h>
using namespace std;

#define mod 1000000007
typedef set<string> ss;
typedef vector<int> vs;
typedef map<int,char> msi;
typedef pair<int,int> pa;

bool arr[1000000];
int s,a,e,b,d,i,n;
long long ans1,ans2;
bool test;
int main()
{
	int t, n, a, b, c;
	cin>>t;
	long long d;
	while(t--)
	{
		cin>>n>>a>>b>>c>>d;
		long long sum = 0;
		memset(arr, 0, sizeof(arr));
		arr[d] = 1;
		for(int i = 1; i < n; i++)
		{
			d = (a*d*d + b*d + c)%1000000;
			arr[d] =1-arr[d];
		}
		bool test = true;
		for(int i = 999999; i >= 0; i--)
		{
			if(arr[i])
			{
				if(test)
				{
					sum += i;
					test = false;
				}
				else
				{
					sum -= i;
					test = true;
				}
			}
		}
		cout<<sum<<"\n";
	}
    return 0;
} 
