#include<iostream>
#include<cstdio>
#include<cstring>

#define MAX 1000000

using namespace std;

// Input macros
#define s(n)               scanf("%d",&n)
#define sl(n)              scanf("%lld",&n)

// Output macros
#define p(n)               printf("%d\n",n)
#define pl(n)              printf("%lld\n",n)

int cou[MAX];

int main()
{
    int T;
    s(T);
    while(T--)
    {
        int N,f=1,ans=0;
        long long a,b,c,d;
        scanf("%d %lld %lld %lld %lld", &N, &a, &b, &c, &d);
        memset(cou,0,sizeof cou);
        cou[d]++;
        for (int i = 1; i < N; i++)
        {
			d = (a * d * d + b * d + c) % MAX;
			cou[d]++;
		}
		for(int i = 1000000 - 1; i >= 0; i--)
        {
            if(cou[i]%2 != 0){
                ans += f*i;
                f *= -1;
            }
        }
        if(ans>=0)
            p(ans);
        else
            p(-ans);
    }
}
