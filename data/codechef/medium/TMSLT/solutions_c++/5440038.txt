#include <iostream>
#include <stdio.h>
#include <stdlib.h>
#include <cstring>

int main() {
	int test;
	scanf("%d",&test);
	while(test--)
	{
		long long int N,a,b,c,d;
	
			scanf("%lld%lld%lld%lld%lld",&N,&a,&b,&c,&d);
			long long int s;
			int g=0;
			int  str[1000002];
			memset(str,0,sizeof(str));
	     	
		
			str[d]=str[d]+1;
			s=d;
		
			for(int i=1;i<N;i++)
			{
		
				s=((a*s*s)+(b*s)+c)%1000000;
				str[s]++;
			}
			long long int sum=0;
			int tm=1;
			
			for(int i=0;i<1000000;i++)
			{
				
			if(str[i]%2!=0)
				{
					
					if(tm==1) 
				{
					sum+=i;
					tm=2;
				}
				else
				{
					sum-=i;
					tm=1;
				}
				}
			
			}
		
		if(sum<0)
		sum=-sum;
			printf("%lld\n",sum);
		
	}
}