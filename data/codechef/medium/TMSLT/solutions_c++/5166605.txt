// Pheonix wt
#include <bits/stdc++.h>
#include <cstdio>
#include <iostream>
#define tc() int t ; scanf("%d",&t); while(t--)
#define mod 1000000
using namespace std;
int dp[mod+5] = {0} , aa[4*mod+5] = {0} ;
int main()
{
 
	tc()
	{
		int  N,a,b,c,d ;
		cin>>N>>a>>b>>c>>d ;
 
		long long int hash_value = 0 , x = 0 , team1 = 0 , team2 = 0 , count = 0 , k = 0 ;         
 
		// Catch in Que :  mod 1000000
		// Clearly hash all the values in range [0,999999] 
 
		for(int i = 0 ; i<mod ; i++)
			dp[i] = 0 ; 
		    dp[d]++; 
		    //printf("%d\n",dp[d]);
		    x = d ;
		for(int i = 1 ; i<N ; i++)
		{
			hash_value = ( a * x * x + b * x + c)%mod ;
            x =  hash_value;
			dp[hash_value]++ ;
		}
		for(int i=0; i<mod ;i++)
		{
			if(dp[i]>=1)
			{
				while(dp[i]!=0)
				{
					aa[k++] = i ;
					dp[i]--;
					if(dp[i]==0) break;
				}
			}
		}
      //  sort(array,array+k) ;
        for(int i = k-1 ; i>=0  ; i--)
        {
              if(i%2==0)
              team1+=aa[i] ;
              if(i%2!=0)
              team2+=aa[i] ;
        }
        printf("%lld\n",abs(team2-team1));
	}
	return 0 ; 
}     
 