#include <stdio.h>
#define MAX 1000000 
long s[MAX];
int main()
{

		int cases,i,n,a,b,c,d,k;
		long long t,tp;
		bool flag;
		scanf("%d",&cases);
		
		for(i=0;i<MAX;i++)
		s[i]=0;
		
		for(i=0;i<cases;i++)
		{
			 n=0;
			 a=0;
  			 b=0;
  			 c=0;
  			 d=0;

			scanf("%d",&n);
			scanf("%d",&a);
			scanf("%d",&b);
			scanf("%d",&c);
			scanf("%d",&d);

			if(n>1)
			{
			s[d]=s[d]+1;
			 k=0;
			 t = d;
			 tp=0;
			for(k=1;k<n;k++)
			{
				tp = (a*(t*t) + b*t + c)%1000000;
				s[(int)tp] = s[(int)tp]+1;
				t = tp;
			}

			c=0;
			flag = 1;
			for(k=MAX-1;k>=0;k--)
			{
				if (s[k]%2!=0)
				{

					if(flag)
					{
					c += k;
					flag = 0;
					}
					else
					{
					 c -= k;
					flag = 1;
					}
				}
					s[k] = 0;
			}

			printf("%d\n",c);
			}
			else
			printf("%d\n",d);

		}

	return 0;
}