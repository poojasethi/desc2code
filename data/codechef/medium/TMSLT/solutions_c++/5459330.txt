#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#include<vector>
#include<queue>
#include<string>
#include<map>
#include<cmath>
using namespace std;
typedef unsigned long long int llu;
typedef long long ll;
#define sc(n) scanf("%lld",&n)
#define pr(n) printf("%lld\n",n)
#define rep(i,n) for(int i=0; i<(int)n; i++)
#define repv(i,n) for(int i=n-1; i>=0; i--)
#define repl(i,n) for(int i=1; i<=(int)n; i++)
#define replv(i,n) for(int i=n; i>=1; i--)
#define mod 1000000
ll flag[mod+2];
int main()
{
	//freopen("input.txt","r",stdin);
	llu n,a,b,c,d,i,ans,cap1,cap2,t,j,cnt;
	scanf("%llu",&t);
	while(t--)
	{
		scanf("%llu %llu %llu %llu %llu",&n,&a,&b,&c,&d);
		memset(flag,0,sizeof(flag));
		cap1=0;
		cap2=0;
		flag[d]=1;
		for(i=1;i<n;i++)
		{
			d=a*d*d+b*d+c;
			d=d%mod;
			flag[d]++;
		}
		cnt=1;
		for(i=0;i<=mod;i++)
		{
			if(flag[i]){
			for(j=1;j<=flag[i];j++){
			if(cnt%2==0)
				cap1+=i;
			else cap2+=i;
			cnt++;
			}
			}
		}
		if(cap2>cap1)
		ans=cap2-cap1;
		else ans=cap1-cap2;
		printf("%llu\n",ans);
	}
	return 0;
}
