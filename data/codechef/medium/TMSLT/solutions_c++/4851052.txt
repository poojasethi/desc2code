#include<iostream>
#include<algorithm>
#include<cstring>
#include<cmath>
#include<cstdlib>

using namespace std;

#define MOD  1000000

long int count1[1000000];
long int num[3000000];

long long mod(long long a)
{
	if(a<0)
	return(-a);
	else
	return a;
	
}

int main()
{
	int t;
	scanf("%d",&t);

	while(t--)
	{
		memset(count1,0,sizeof(count1));
		
		long long n;
				
		long long a,b,c,d;
		scanf("%d %lld %lld %lld %lld",&n,&a,&b,&c,&d);

		long int i;
		long long ans=0;
		long int max=d;
		count1[d]++;
		
		long long l=d;
		for(i=1;i<=n-1;i++)
		{
			l=(a*l*l+b*l+c)%MOD;
			
			count1[l]++;
		}
		long long now=0;

		for(i=0;i<1000000;i++)
		{
			if(now%2==0)
			{
				ans=ans+(count1[i]%2)*i;
			}
			else
			{
				ans=ans-(count1[i]%2)*i;
			}
			now+=count1[i];
		}
		printf("%lld\n",mod(ans));
	
	}
}
