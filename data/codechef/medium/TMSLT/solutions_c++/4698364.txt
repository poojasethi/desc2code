#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
 
#define MAX 1000000
 
using namespace std;
 
// Input macros
#define s(n)               scanf("%d",&n)
#define sl(n)              scanf("%lld",&n)
 
// Output macros
#define p(n)               printf("%d\n",n)
#define pl(n)              printf("%lld\n",n)
 
int cou[MAX];
 
int main()
{
    int T;
    s(T);
    while(T--)
    {
        int N,a,b,c,d,f=1;
        long long ans=0;
        scanf("%d %d %d %d %d", &N, &a, &b, &c, &d);
        memset(cou,0,sizeof cou);
        cou[d]++;
        for (int i = 1; i < N; i++)
        {
			d = ((long long) a * (long long) d * (long long) d + (long long) b * (long long) d + c) % MAX;
			cou[d]++;
		}
		for(int i = 1000000 - 1; i >= 0; i--)
        {
            if(cou[i]%2 != 0){
                ans += f*i;
                f *= -1;
            }
        }
        //ans=abs(ans);
        pl(ans);
    }
}