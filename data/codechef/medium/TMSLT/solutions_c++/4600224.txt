#include <cstdio>
#include <new>
#include <cstring>
using namespace std;

int *arr;

int readInt()
{
	char c = getchar_unlocked();
	int x = 0;
	while(!(c >= '0' && c <= '9'))
	{
		c = getchar_unlocked();
	}
	while(c >= '0' && c <= '9')
	{
		x = x*10 + c-'0';
		c = getchar_unlocked();
	}
	return x;
}

void printInt(long long a)
{
	if(!a)
	{
		putchar_unlocked('0');
		putchar_unlocked('\n');
		return;
	}
	char c[20];
	int index = 0;
	while(a)
	{
		c[index] = a%10 + 48;
		a /= 10;
		index++;
	}
	while(index--)
	{
		putchar_unlocked(c[index]);
	}
	putchar_unlocked('\n');
}

int main()
{
	int t = readInt(), n, a, b, c;
	long long d;
	while(t--)
	{
		n = readInt();
		a = readInt();
		b = readInt();
		c = readInt();
		d = readInt();
		long long sum = 0;
		arr = new int[1000000];
		memset(arr, 0, sizeof(arr));
		arr[d] = 1;
		for(int i = 1; i < n; i++)
		{
			d = (a*d*d + b*d + c)%1000000;
			arr[d] = !arr[d];
		}
		bool test = true;
		for(int i = 999999; i >= 0; i--)
		{
			if(arr[i])
			{
				if(test)
				{
					sum += i;
					test = false;
				}
				else
				{
					sum -= i;
					test = true;
				}
			}
		}
		printInt(sum);
		delete[] arr;
	}
    return 0;
}