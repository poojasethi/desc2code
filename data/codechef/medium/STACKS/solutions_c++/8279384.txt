#include<iostream>
using namespace std;
int main()
{
int t;
long n,top[100000],a,i,topcount=0,start,end,mid;
cin>>t;
while(t--)
{
topcount=0;
cin>>n;
n--;
cin>>a;
top[0]=a;
topcount++;
while(n--)
{
cin>>a;
if(top[topcount-1]<=a)
{
top[topcount]=a;
topcount++;
}
else
{

for(start=0,end=topcount-1;start<=end;)
	{
	mid=(start+end)/2;
	if(top[mid]>a)
		{
		if(top[mid-1]<=a)
		{
		top[mid]=a;end=mid;
		break;
		}
		end=mid;
		}
	else if (top[mid]==a)
	{
	while(top[mid]==a)
	{
	mid++;
	}
	top[mid]=a; 
	break;
	}
	else
	{
	while(top[mid+1]==a)
	mid++;
	if(top[mid+1]>a)
	{
	top[mid+1]=a;start=mid;
	break;
	}
	start=mid;
	}

}


}
}
cout<<topcount<<" ";
for(i=0;i<topcount;i++)
cout<<top[i]<<" ";
cout<<endl;
}
return 0;
}