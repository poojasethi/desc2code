#include<bits/stdc++.h>
using namespace std;
vector<long int> a;
long int binary( int i,int j ,int k)
{
	if(i<=j)
	{
		if(a[j] < k)
			return j+1;
		if(a[i] > k)
			return i;
		long int mid = (i+j)/2;
		if(a[mid] == k && mid + 1 <=j && a[mid+1]!=k)
			return mid+1;
		if(a[mid] > k)
		{
			if(mid - 1 >=i && a[mid -1] <= k)
				return mid;
			else
				return binary(i,mid-1,k);
	
	
		}
		else
		{
			if(mid + 1 <=j && a[mid+1] > k)
				return mid + 1;
			else
				return binary(mid+1,j,k);
	
		}
	}
	return -1;


}
/*int BinrySrchFlr(vector<long int> st, int lb, int ub, int key){
	
	while(lb<ub){
		int mid = (lb+ub)/2;
		if(st[mid]<=key && st[mid+1] > key)
			return mid+1;
		else if(st[mid] > key)
			ub = mid;
		else
			lb = mid+1;
	}
	return -1;
}*/
int main()
{
	long int i,j,k,l,t,max,n,m,h,q;
	scanf("%ld",&t);
	for(i=0;i<t;i++)
	{
		scanf("%ld",&n);
		long int b[n];
		for(j=0;j<n;j++)
			scanf("%ld",&b[j]);
		
		a.push_back(b[0]);
		
		for(j=1;j<n;j++)
		{
			k = a.size();
			//printf("		 	%ld %ld\n",a[j],a[k-1]);
			if(b[j] >= a[k-1])
				a.push_back(b[j]);
			else
			{
				q = binary(0,a.size()-1,b[j]);
				//printf("q - %ld\n",q);
				if(q==-1)
					a[0] = b[j];
				else
					a[q] = b[j];
				/*q = 0;
				//printf("		%ld %ld\n",v[q],a[j]);
				while(q <= k-1 && v[q] <= a[j])
				{
					//printf("	%ld %ld\n",v[q],a[j]);
					q++;
				}
				//printf("	q %ld\n ",q);
				v[q] = a[j];*/
			
			}
			//k = binary(v,0,v.size()-1,a[j]);
			//printf("	%ld\n",k);
			/*if(k==-1)
				v.push_back(a[j]);
			else
				v[k] = a[j];*/
			/*for(m=0;m<v.size();m++)
				printf("%ld ",v[m]);
			printf("\n");*/
				
		
		}
		
		printf("%ld ",a.size());
		for(j=0;j<a.size();j++)
			printf("%ld ",a[j]);
		printf("\n");
		
		a.clear();
		
	}
	return 0;
}