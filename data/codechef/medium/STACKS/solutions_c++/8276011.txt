#include <bits/stdc++.h>
using namespace std;
int a[100005];
int result[100005];
int func(int key,int n)
{
int low=0;
int index1;
int index2;
int high=n-1;
while(low<=high)
{
if(result[high]<=key)
return -1;
if(low==high)
return low;
if(high==low+1)
{
if(result[high]<result[low])
{
index1=low;
index2=high;
}
else
{
index1=high;
index2=low;
}
if(result[index2]>key)
return index2;
else
return index1;
}
int mid=(low+high)/2;
if(result[mid]<=key)
low=mid+1;
else
{
if(result[mid]>key&&result[mid-1]<=key)
return mid;
else
high=mid-1;
}
}
}
int main()
{
int t,n;
scanf("%d",&t);
while(t--)
{
scanf("%d",&n);
for(int i=0;i<n;i++)
scanf("%d",&a[i]);
result[0]=a[0];
int size=1;
for(int i=1;i<n;i++)
{
int val=func(a[i],size);
if(val==-1)
{
result[size]=a[i];
size++;
}
else
{
result[val]=a[i];
}
}
printf("%d ",size);
for(int i=0;i<size;i++)
{
printf("%d ",result[i]);
}
printf("\n");
}
return 0;
}