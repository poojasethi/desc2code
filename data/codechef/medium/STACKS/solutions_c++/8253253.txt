#include<stdio.h>
#include<iostream>
#include<algorithm>

using namespace std;
int stop[100005];

int bs(int el,int low,int high)
{
    int mid=(low+high)/2;
    if(low<=high)
    {
        if(stop[mid]<el)
            bs(el,mid+1,high);
        else if(stop[mid]>=el)
            bs(el,low,mid-1);
    }
    else
        return -1;
}

int main()
{
    int t,n,an[100005];
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d",&n);
        int i,nostacks=0,j,elementinserted;
        for(i=0;i<n;i++)
            scanf("%d",&an[i]);
        for(i=0;i<n;i++)
        {
            elementinserted=0;
            if(stop[nostacks-1]> an[i]){
            //j=bs(an[i],0,nostacks-1);

            /*for(j=0;j<nostacks;j++)
            {

                if(stop[j]>an[i])
                {
                    stop[j]=an[i];
                    elementinserted=1;
                    break;
                }
            }*/

 int upperbound=nostacks-1,lowerbound=0,testpos;
            while (upperbound > lowerbound)
{
  testpos = lowerbound + ((upperbound-lowerbound) / 2);

  if (stop[testpos] > an[i])
  {
    //  new best-so-far
    upperbound = testpos;
  }
  else
  {
    lowerbound = testpos + 1;
  }
}
stop[upperbound]=an[i];

            }
            else
                {
                    stop[nostacks]=an[i];
                    nostacks++;
                }

        }
        printf("%d",nostacks);
        for(i=0;i<nostacks;i++)
            printf(" %d",stop[i]);
        printf("\n");

    }
}
