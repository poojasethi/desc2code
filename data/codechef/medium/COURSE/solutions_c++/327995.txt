#include <cstdlib>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
using namespace std;
const int maxN=510;
int x[maxN],y[maxN];
double w[maxN][maxN];

double d[maxN];
int from[maxN];
bool v[maxN];
int main() {
	int T;
	for(scanf("%d",&T);T;T--){
		int r1,r2,n;
		scanf("%d%d%d",&r1,&r2,&n);
		for(int i=1;i<=n;i++)
		    scanf("%d%d",x+i,y+i);

		for(int i=1;i<=n;i++) {
			for(int j=i+1;j<=n;j++)
				w[i][j]=w[j][i]=sqrt((x[i]-x[j])*(x[i]-x[j])+(y[i]-y[j])*(y[i]-y[j]));

			w[i][n+1]=w[n+1][i]=sqrt(x[i]*x[i]+y[i]*y[i])-r1;
			w[i][n+2]=w[n+2][i]=r2-sqrt(x[i]*x[i]+y[i]*y[i]);
		}
		w[n+1][n+2]=w[n+2][n+1]=r2-r1;

		int vn=n+2;
		memset(v,0,sizeof(v));
		v[vn]=true;
		for(int i=1;i<=vn;i++)
		    d[i]=w[vn][i],from[i]=vn;
		for(;;) {
			int x=0;
			for(int i=1;i<=vn;i++)
			    if(!v[i]&&(x==0||d[i]<d[x]))
			        x=i;
			if(x==0)
			    break;

			v[x]=true;
			//printf("%d - %d\n",x,from[x]);
			for(int i=1;i<=vn;i++)
			    if(!v[i]&&w[x][i]<d[i])
			        d[i]=w[x][i],from[i]=x;
		}

		double ans=0;
		for(int i=n+1;i!=n+2;i=from[i])
		    ans=max(ans,w[i][from[i]]);
		printf("%.3f\n",ans);
	}
	scanf("%*s");
}
