    #include <stdio.h>
     
    #define P 1000000007
     
    int power_mod(int x, int k)
    {
    int r = 1;
    while(k > 0) {
    if(k & 1)
    r = (int)((long long)r * (long long)x % P);
    x = (int)((long long)x * (long long)x % P);
    k >>= 1;
    }
    return r;
    }
     
    int main()
    {
    int t, n, v, vm, cm;
    scanf("%d", &t);
    while(t--) {
    scanf("%d", &n);
    vm = -1; cm = 0;
    for(int i = 0; i < n; i++) {
    scanf("%d", &v);
    if(v > vm) {
    vm = v; cm = 1;
    } else if(v == vm)
    ++cm;
    }
    printf("%d\n", power_mod(2, cm)-1);
    }
    return 0;
    } 
