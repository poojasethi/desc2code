#include <iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
#include<map>
#define mod 1000000007
#define ll long long int
using namespace std;
ll powmod(ll a,ll b)
{
    ll res=1;
    while(b>0)
    {
        if(b%2==1)
            res=((res%mod)*(a%mod))%mod;
        a=((a%mod)*(a%mod))%mod;
        b=b/2;
    }
    return res;
}
ll A[100010];
int in(){
    int r=0,c;for(c=getchar_unlocked();
c<=32;c=getchar_unlocked());
if(c=='-')
    return -in();
for(;c>32;r=(r<<1)+(r<<3)+c-'0',c=getchar_unlocked());return r;}
int main() {
	ll t,n,i,ans;
	t=in();ll count=0;
	int flag=0;
	while(t>0)
    {
        t--;
        n=in();
        for(i=0;i<n;i++)
            A[i]=in();
        sort(A,A+n);
        ll max=A[n-1];
        count=1;
        for(i=n-2;i>=0;i--)
        {
            if(A[i]!=max)
                break;
            count++;
        }
        ans=powmod(2,count);
        ans=(ans%mod-1+mod)%mod;
        printf("%lld\n",ans);
    }
}
