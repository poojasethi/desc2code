#include <bits/stdc++.h>
using namespace std;

#define LL long long
#define MOD 1000000007
#define N 112345

LL a[N];

inline void Solve(){
    LL n, maxele = 0, c = 0, i;
    cin>>n;
    for(i = 1; i <= n; i++){
        cin>>a[i];
        maxele = max(a[i], maxele);
    }
    for(i = 1; i <= n; i++){
        if(a[i] == maxele) c++;
    }
    LL tp = 1;
    for(i = 1; i <= c; i++){
        tp *= 2;
        if(tp >= MOD) tp %= MOD;
    }
    tp -= 1;
    tp %= MOD;
    if(tp < 0) tp += MOD;
    cout<<tp<<endl;
    return;
}

int main(){
    //freopen("input.txt", "r", stdin);
    LL t;
    cin>>t;
    while(t--){
        Solve();
    }
    return 0;
}
