#define DEBUG 0

#include <stdio.h>
#include <string.h>
#include <math.h>
/*
#include <algorithm>
using namespace std;

long long unsigned minb(long long unsigned n) {
  long long unsigned b=1;
  while(n>0) {
    b=max(b, n%10);
    n/=10;
  }
  return b+1;
}
*/

long long unsigned convert(long long unsigned s[40], long long unsigned n, long long unsigned b) {
  long long unsigned i;
  for(i=0;n>0;i++) {
    s[i]=n%b;
    n/=b;
  }
  return i;
}

long long unsigned is_palin(long long unsigned n, long long unsigned b) {
  long long unsigned s[40], i, j;
  j=convert(s, n, b);
  if(DEBUG) {
    printf("n=%llu b=%llu ", n, b);
    for(i=j-1;i>=0;i--)
      printf("%llu", s[i]);
    printf("\n");
  }
  for(i=0,j--;i<j;i++,j--)
    if(s[i]!=s[j])
      return 0;
  return 1;
}

int main(void) {
  long long unsigned tc, n, b, sr;

  scanf("%llu", &tc);
  while(tc--) {
    scanf("%llu", &n);
    if(n==1||n==3||n==5) {
      printf("2\n");
      continue;
    } else if(n==2||n==4) {
      printf("3\n");
      continue;
    } else if(n==6) {
      printf("5\n");
      continue;
    }
    sr=(long long unsigned)sqrt(n);
    for(b=2;!is_palin(n, b) && b<=sr;b++);
    if(b<=sr)
      printf("%llu\n", b);
    else {
      for(b=sr;!(n%b==0 && b<((n/b)-1));b--);
      printf("%llu\n", (n/b)-1);
    }
  }
  return 0;
}
