/* Plagiarised -> not mine -> Original -> Lee Jae Kwang */

#include <iostream>
#include<vector>
using namespace std;
#define FOR(i,a,b) for(int i = (a); i < (b); ++i) 
 
typedef long long LL;
typedef pair<int, int> pii;
 
 
 
class Palindrom {
protected:
	vector<LL> R;
 
public:
	void Run() {
		int ncase;
		cin >> ncase;
		LL n;
		R.assign(50,0);
		FOR(i, 0, ncase) {
			cin >> n;
			LL val = getMinBase(n);
			cout << val << endl;
		}
	}
 
	LL getMinBase(LL N) {
		LL k;
		int t;
		bool bp;
		if(N == 1) return 2;
		if(N == 2) return 3;
		for(k = 2; k*k <= N; k++) {		
			t = 0;
			LL v = N; 
			while(v > 0) {
				R[t++] = v%k;
				v/=k;
			}
			bp = true;
			FOR(i, 0, t/2) if(R[i]!=R[t-1-i]) bp = false;
			if(bp) return k;
		}
		LL m;
		LL ret = N-1;
		for(m = 1; (m+1)*(m+1)-1 <= N; m++) {
			if(N%m == 0) ret = N/m -1;
		}
		return ret;
	
	}
 
 
}; 
int main()
{
	Palindrom cn;
	cn.Run();
	return 0;
}