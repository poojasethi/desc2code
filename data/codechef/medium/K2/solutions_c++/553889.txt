#include <cstdio>
#include <cmath>

bool isPalin(unsigned long long  a, unsigned long long b)
{
    unsigned long long o, p, r;
    o = a;
    p = 0;
    while (o > 0)
    {
        r = o % b;
        o = o / b;
        p = p * b + r;
    }
    if (a == p)
    {
        return true;
    }
    else
        return false;
}
int main()
{
    int testCases;
    unsigned long long n, s, i, q, r;

    scanf("%d", &testCases);
    while (testCases-- > 0)
    {
        scanf("%lld", &n);
        if (n == 1)
            printf("2\n");
        else if (n == 2)
            printf("3\n");
        else
        {
            s = (unsigned long long)sqrt(n);
            for(i = 2; i <= s; i++)
                if (isPalin(n, i))
                    goto found;
            for(i = s; i > 0; i--)
            {
                q = (n-i) / i;
                r = (n-i) % i;
                if (q > i && r == 0)
                {
                    i = q;
                    goto found;
                }
            }
        found:
            printf("%lld\n",i);
        }
    }
    return 0;
}
