#include<stdio.h>
#include<math.h>
int main(){
	int t,i,ldiv,rem,sr;
	long long n,base,rev_n,temp,s;
	scanf("%d",&t);
	while(t > 0){
		scanf("%lld",&n);
		switch(n){
			case 1:case 3:case 5:base=2;break;
			case 2:case 4:base=3;break;
			case 6:base=5;break;
			default:
				{
				base=0;
				ldiv=1;
				sr = sqrt(n);
				for(i=2;i<=sr;++i){
					temp = n;rev_n=0;
					while(temp >= i){
						rem = temp % i;
						rev_n = (rev_n + rem)*i;
						temp /= i;
					}
					rev_n += temp;
					if( n == rev_n){
						base = i;
						break;
					}
					s = (n/i) - 1;
					if(n%i == 0 && n%s != 0){
						ldiv = i;
					}
				}
				if (base == 0)
					base=((n/ldiv) - 1);
				}
		}
		printf("%lld\n",base);
		t--;
	}
	return 0;
}
