#include<stdio.h>
//#include<conio.h>
#include<math.h>
int pal(unsigned long long int base );
unsigned long long int cbase(unsigned long long int );
unsigned int b[1000000];
unsigned long long int i;
int main()
{    unsigned long long int n,t;
   scanf("%llu",&t);
                  while(t--)
                                {
                                scanf("%llu",&i);
printf("%llu\n",cbase(i));
}
//getchar();
return 0;
      }
      
unsigned long long int cbase(unsigned long long int n)
{unsigned long long int sq,k,f,bas,count=0,len,flag=1,j,m,t;
   
        sq=sqrt(n)+1;  
 switch(n)
 {case 0:return 0;
          case 1:return 2;
       case 2:return 3;
            case 3:return 2;
                 case 4:return 3;
     //  case 5:return 2;
      
      // case 6:return 5;
       
          }
 for(bas=2;bas*bas<n;bas++)
{                               //bas=10;
                                i=n;
                                m=pal(bas);
                                if(m==1)
                                {                    return bas;
                                                               //   break;
                                                                       }                                                                      
}
//printf("ttt");

       

for(int j=sq-1;j>=2;j--)
{
if(i%j==0 && (i/j)!=(j+1))

return  (i/j)-1;
}
return i-1;
}
  int pal(unsigned long long int base)         
         { long long int v,n2=0,k,j,ctr,flagc=0;
//int b[]
   
   ctr=0;flagc=0;
               k=i;       

while(k>0)
{v=k%base;
n2=base*n2+v;
k=k/base;
}
return (i==n2);


}
