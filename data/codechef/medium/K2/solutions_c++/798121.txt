#include <iostream>
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <cmath>
#include <algorithm>
#include <stack>
#include <queue>
#include <set>
#include <map>
#include <vector>
#include <cassert>

#define MOD	       	    1000000007
#define LU             	long long unsigned int
#define LL             	long long int

#define REP(i,n)        for(int i = 0; i < n; i++)
#define FOR(i,a,b,k)    for(int i = a; i < b; i+=k)

using namespace std;

int ni(){
    int v;
    scanf("%d", &v);
    return v;
}

LL n;

bool isPalindrome(int *x, int sz){
    for(int i = 0, j = sz-1; i < j; i++,j--){
        if(x[i] != x[j]) return false;
    }
    return true;
}

LL solve(){
    int a[50];

    LL base;
    for( base = 2;base*base <= n; base++){
        LL num = n;
        int sz = 0;
        while(num > 0){
            a[sz] = num % base;
            num = num/base;
            sz++;
        }

        if(isPalindrome(a,sz)){
            return base;
        }
    }
    int b = base;
    while(b >= 2){
        base = n/b -1;
        if(n % b == 0 && base >= b){
            LL num = n;
            int sz = 0;
            while(num > 0){
                a[sz] = num % base;
                num = num/base;
                sz++;
            }

            if(isPalindrome(a,sz)){
                return base;
            }
        }
        b--;
    }
    return n-1;
}

int main(){
//    freopen("input.txt", "r", stdin);
//    freopen("output.txt", "w", stdout);
    int t = ni();
    REP(i,t){
        scanf("%lld", &n);

        if(n <= 2){
            printf("%lld\n", n+1);
        }
        else{
            printf("%lld\n", solve());
        }
    }
}
