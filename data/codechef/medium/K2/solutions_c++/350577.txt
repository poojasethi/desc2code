#include<iostream>
#include<vector>
typedef long long LL;
#define FOR(i,a,b) for(int i = (a); i < (b); ++i) 
using namespace std;

class dimagkidahi
{
        protected:
        vector<LL> arr;
        public:
             
        void input()
        {
            int t;
            LL n;
            arr.assign(50,0);
            cin>>t;
            FOR(i,0,t){
                    cin>>n;
                    int z=pal(n);
                    cout<<z<<endl;
            }
        }
        
        
        LL pal(LL N )
        {
            LL i;
	    int ctr;
            bool tru;
	    if(N==1)return 2;
            if(N==2)return 3;
        
            for(i=2 ; i*i <= N ; i++){
                   LL x=N;
                   ctr=0;
                   while(x>0){
                             
                             arr[ctr++]= (x%i);//.push_back(x%i);
                             x/=i;//ctr++;
                   }
                   
                   tru=true;
                   FOR(j,0,ctr/2) if( arr[j]!=arr[ctr-j-1]) tru=false;
        
                   if(tru) return i;
            }
            
            LL r=N-1;
            LL m;
            for(m=1; (m+1)*(m+1)-1 <= N ; m++)
            if( N%m == 0 ) r = N/m - 1 ;
            
            return r;
        }
};

int main()
{
    dimagkidahi dh;
    dh.input();
    return 0;
}
