#include <cstdio>

bool pos[101][101];

inline int countSquares(int x, int y)
{
    if(pos[x][y] == false)
        return 0;

    int result = 0;
    for(int L=1; L <= 100; L++)
        if ( y + L <= 100 && pos[x][y+L] &&
             x + L <= 100 && pos[x+L][y+L] &&
             pos[x+L][y])
            result += 1;

    for(int M=1; M <= 100; M++)
        for(int L=1; L <= 100; L++)
            if( x + M <= 100 && y + L <= 100 && pos[x+M][y+L] &&
                x + M + L <= 100 && y + L - M <= 100 && pos[x+M+L][y+L-M] &&
                x + L <= 100 && 0 <= y - M && y - M <= 100 && pos[x+L][y-M] )
                    result += 1;
    return result;
}

int main()
{
    int testCases, noOfPoints;
    int result, a, b;
    scanf("%d", &testCases);
    while(testCases-- > 0)
    {
        result = 0;
        for(int y=0; y < 101; y++)
            for(int x=0; x < 101; x++)
                pos[x][y] = false;

        scanf("%d", &noOfPoints);

        for(int i=0; i < noOfPoints; i++)
        {
            scanf("%d%d", &a, &b);
            pos[a+50][b+50] = true;
        }

        for(int y=0; y < 101; y++)
            for(int x=0; x < 101; x++)
                if (pos[x][y])
                    result += countSquares(x, y);

        printf("%d\n", result);
    }
    return 0;
}
