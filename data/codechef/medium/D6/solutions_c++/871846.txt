#include <algorithm>
#include <cctype>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <map>
#include <queue>
#include <set>
#include <sstream>
#include <stack>
#include <string>
#include <vector>
#include <list>

#define s(a) scanf("%d",&a)
#define ss(a,b) scanf("%d %d",&a,&b)
#define p(a) printf("%d\n",a)
#define tr(container, it) for(typeof(container.begin()) it = container.begin(); it != container.end(); it++)

using namespace std;

int main(void){
    int counter;
    s(counter);
    while(counter--){
    int t,ct = 0;
    s(t);
    set< pair<int,int> > pset;
    vector< pair<int,int> > coords;
    while(t--){
	  int x,y;
	  ss(x,y);
	  pset.insert(make_pair(x+50,y+50));
	  coords.push_back(make_pair(x+50,y+50));
    }
    
    sort(coords.begin(), coords.end());
    
    for(int i=0; i<coords.size(); i++){
	  for(int j=i+1; j<coords.size(); j++){
		 if (coords[j].second > coords[i].second){
		    int x = coords[i].first, y = coords[i].second;
		    int dx = coords[j].first - x, dy = coords[j].second - y;
		    if (pset.find(make_pair(x-dy,y+dx)) != pset.end() && pset.find(make_pair(x-dy+dx,y+dx+dy)) != pset.end())
			  ct++;
		}
	  }
    }
    
    p(ct);
    }
}

