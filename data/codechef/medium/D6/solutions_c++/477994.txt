#include <stdio.h>

#define GT(xnew,ynew,x,y) (xnew > x || (xnew == x && ynew > y))

bool isExist(int x, int y, int xpoints[], int ypoints[], int numpoints)
{
	int previndex = 0, postindex = numpoints - 1;
	do {
		int index = (previndex + postindex)/2;
		if(x == xpoints[index] && y == ypoints[index]) return true;
		else if(x > xpoints[index] || (x == xpoints[index] && y > ypoints[index]))
			previndex = index + 1;
		else
			postindex = index - 1;			
	}while(previndex <= postindex);
	
return false;
}

int main(void)
{
	int t;
	scanf("%d",&t);

	while(t--)
	{
		int numPoints, x[500], y[500];
		int numSquare = 0;
		scanf("%d",&numPoints);
		for(int i = 0; i < numPoints; i++)
		{
			scanf("%d %d", &x[i], &y[i]);
		}

		for(int i = 0; i < numPoints; i++)
		{
			for(int j = i+1; j < numPoints; j++)
			{
				if(x[i] > x[j] || (x[i] == x[j] && y[i] > y[j]) )
				{
					int tempx = x[j], tempy = y[j];
					x[j] = x[i]; y[j] = y [i];
					x[i] = tempx; y[i] = tempy;
				}
			}
		}

		for(int i = 0; i < numPoints; i++)
		{
			for (int j = i+1; j < numPoints; j++)
			{
				if(x[i] == x[j] && y[i] == y[j]) continue;

				int xk1 = x[i] + (y[j] - y[i]), yk1 = y[i] - (x[j] - x[i]);
				int xm1 = x[j] + (y[j] - y[i]), ym1 = y[j] - (x[j] - x[i]);

				if( GT(xk1,yk1,x[i],y[i]) && GT(xk1,yk1,x[j],y[j]) && GT(xm1,ym1,x[i],y[i]) && GT(xm1,ym1,x[j],y[j]) )
				{
					if(isExist(xk1,yk1, x, y, numPoints)  && isExist(xm1,ym1, x, y, numPoints)) numSquare++;
				}

				int xk2 = x[i] - (y[j] - y[i]), yk2 = y[i] + (x[j] - x[i]);				
				int xm2 = x[j] - (y[j] - y[i]), ym2 = y[j] + (x[j] - x[i]);

				//printf("SECOND : (%d %d) (%d %d) \n",xk2,yk2,xm2,ym2);

				if( GT(xk2,yk2,x[i],y[i]) && GT(xk2,yk2,x[j],y[j]) && GT(xm2,ym2,x[i],y[i]) && GT(xm2,ym2,x[j],y[j]) )
				{
					if(isExist(xk2,yk2, x, y, numPoints)  && isExist(xm2,ym2, x, y, numPoints)) numSquare++;
				}
			}
		}
		printf("%d\n",numSquare);
	}
}