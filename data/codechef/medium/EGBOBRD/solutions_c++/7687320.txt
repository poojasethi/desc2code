#include <bits/stdc++.h>

#define fr(i,a,b) for(int i = a; i<b; i++)
#define fo(i,b) fr(i,0,b)
#define ford(i,a,b) for(int i = a; i>b; i--)
#define wh(T) while((T--)>0)
#define ulli unsigned long long int
#define gc getchar_unlocked
#define pc putchar_unlocked
#define max(a,b) a>b?a:b
#define min(a,b) a<b?a:b
using namespace std;

ulli readUlli()
{
	ulli n = 0;
	char c = gc();
// 	if(c < 0 || c=='\n')
// 		return -1;
	while(c < '0' || c > '9')
	{
		c = gc();
		continue;
	}
		
	while(c >= '0' && c <= '9')
	{
		n = (n*10)+c-'0';
		c = gc();
	}
	return n;
}

ulli K, N, A[100001];

void solve()
{
	ulli pack = 0;
	ulli rem;
	ulli i = 0;
	while(i<N)
	{
		rem = 0;
		pack += A[i]/K;
		if(A[i]%K!=0)
		{
			pack++;
			rem = (K-A[i]%K) - 1;
		}
		
		i++;
		while(i<N && rem > A[i])
		{
			rem -= A[i];
			rem--;
			i++;
		}
		
		if(i == N)
			break;
		
		A[i] -= rem;
	}
	
	printf("%llu\n", pack);
}

int main()
{
	ulli t = readUlli();
	wh(t)
	{
		N = readUlli();
		K = readUlli();
		
		for(ulli i =0; i<N; i++)
			A[i] = readUlli();
		
		solve();
	}
	return 0;
}