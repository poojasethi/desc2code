#include <iostream>
#include <cstdio>
using namespace std;
int main()
{
	long long int rem,req,temp,count,n,k,t,a[1000000];
	scanf("%lld",&t);
	for(long long int i =0; i < t; i++)
	{
		scanf("%lld %lld",&n,&k);
		for(long long int j =0; j < n; j++)
		{
			scanf("%lld",&a[j]);
		}
		rem = req = count = temp = 0;
		for(long long int j =0; j < n; j++)
		{
			if(a[j] < rem)
			{
				rem = rem - a[j] - 1;
				continue;
			}
			if(a[j] == rem )
			{
				rem = 0;
				continue;
			}
			if(a[j] > rem )
			{
				temp = a[j] - rem;
				rem = 0;
				count = count + temp / k;
				if(temp > k)
				{
					req = temp - (temp / k) *k;
					if(req > 0)
					{
						count++;
						rem = k - req;
						if(rem > 0) 
							rem = rem - 1;
					}
				}
				else if(temp == k)
					req = 0;
				else
				{
					count++;
					rem = k - temp;
					if(rem != 0)
						rem = rem -1;
				}
			}
		}
		cout  << count << endl;
	}
	return 0;
}
