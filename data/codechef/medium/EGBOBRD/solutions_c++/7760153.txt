#include<iostream>
#include<stdio.h>
using namespace std;
int main()
{

   long long t;
   long long n,k;
   cin>>t;
   while(t--)
   {
        cin>>n>>k;
        long long i,j,count=0;
        long long rem=0;
        //long long arr[100009];
        for(i=0;i<n;i++)
        {
           cin>>j;
           if(rem>=j)
           {
               if(rem==j)
               rem=0;
               else
               rem=rem-j-1;
           
           }
           else if((rem+k)>=j)
           {
                count++;
                if((rem+k)==j)
                  rem=0;
                  else
                  rem=rem+k-j-1;
           
           }
        
          else
          {
               j=j-rem;
               if(j%k==0)
               {
                   count=count+(j/k);
                   rem=0;
               
               }
               else
               {
                  count=count+(j/k)+1;
                  rem=(k-(j%k))-1;
               
               }
          
          }
        }
    cout<<count<<"\n";  
   }

}
