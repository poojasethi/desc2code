#define DEBUG 1
#include <stdio.h>
#include <string.h>
#include <limits.h>
#include <algorithm>
using namespace std;
 
int dp[78][78][78][78];
int main(void) {
int sum[78][78], Y, X, y, x, i, j, ans;
 
for(i=0;i<78;i++)
sum[0][i]=sum[i][0]=0;
 
while(1) {
scanf("%d%d", &Y, &X);
if(!Y&&!X)
break;
 
for(y=0;y<Y;y++)
for(x=0;x<X;x++) {
scanf("%d", &i);
sum[y+1][x+1]=sum[y+1][x]+sum[y][x+1]-sum[y][x]+i;
}
int ans=INT_MIN;
 
for(y=Y-3;y>=0;y--)
for(x=X-3;x>=0;x--)
for(i=y+3;i<=Y;i++)
for(j=x+3;j<=X;j++) {
dp[y+1][x+1][i-1][j-1]=sum[i-1][j-1]-sum[i-1][x+1]-sum[y+1][j-1]+sum[y+1][x+1];
if(i-y>3)
dp[y+1][x+1][i-1][j-1]=min(dp[y+1][x+1][i-1][j-1],min(dp[y+2][x+1][i-1][j-1],dp[y+1][x+2][i-1][j-1]));
if(j-x>3)
dp[y+1][x+1][i-1][j-1]=min(dp[y+1][x+1][i-1][j-1],min(dp[y+1][x+1][i-2][j-1],dp[y+1][x+1][i-1][j-2]));
ans=max(ans,sum[i][j]-sum[i][x]-sum[y][j]+sum[y][x]-dp[y+1][x+1][i-1][j-1]);
}
 
printf("%d\n", ans);
}
return 0;
}