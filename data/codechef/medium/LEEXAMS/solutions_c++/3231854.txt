#include <iostream>
using namespace std;

bool used[17];
int a[51], b[51], p[51], n;

double getprob(int i, double prob) {
    if(i==n) return prob;
    double ans = 0.0;
    if (!used[a[i]]) {
        used[a[i]] = true;
        ans += getprob(i+1, prob*p[i]/100);
        used[a[i]] = false;
    }
    if (!used[b[i]]) {
        used[b[i]] = true;
        ans += getprob(i+1, prob*(100-p[i])/100);
        used[b[i]] = false;
    }
    return ans;
}

int main() {
    int t;
    cin >> t;
    while(t--) {
        double ans;
        cin >> n;
        for(int i=0;i<n;++i) cin >> p[i] >> a[i] >> b[i];
        if (n<=16) {
            for(int i=0;i<n;++i) used[i] = false;
            ans = getprob(0,1.0);
        } else ans = 0.0;
        cout << ans << endl;
    }
    return 0;
}
