#include <bits/stdc++.h>
using namespace std;
#define MAXX 59
int N;
int A[MAXX],B[MAXX];
double prob[MAXX];
set<int>sett;
double compute(int pos){
	double ans=0;
	if(pos==N)return 1.0;
	if(sett.find(A[pos])==sett.end()){	//currently not present in the set
		sett.insert(A[pos]);
			ans+=prob[pos]*compute(pos+1);
		sett.erase(A[pos]);
	}
	if(sett.find(B[pos])==sett.end()){
		sett.insert(B[pos]);
			ans+=(1-prob[pos])*compute(pos+1);
		sett.erase(B[pos]);
	}
	return ans;
}
int main(){
	int tst;
	cin>>tst;
	while(tst--){
		sett.clear();
		cin>>N;
		for(int i=0;i<N;i++){
			cin>>prob[i]>>A[i]>>B[i];
			prob[i]/=100.0;
		}
		if(N>16){
			printf("%.10f\n",0.0);
		}else{
			double den=1;
			printf("%.10f\n",compute(0)/den);
		}
	}
	return 0;
}