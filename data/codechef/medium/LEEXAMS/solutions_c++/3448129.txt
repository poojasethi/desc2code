#include<bits/stdc++.h>
#define MOD 1000000007
#define MAX 100005
#define mp make_pair
#define llu unsigned long long
using namespace std;

int N;
int P[51], A[51], B[51];
int mask;


double solve(int mask, int ind, double prob)
{
  if(ind == N) return prob;
  double tprob1 = 0, tprob2 = 0;
  if((mask & (1 << A[ind])) == 0)
  {
    tprob1 = P[ind] / 100.0;
    tprob1 *= prob;
    tprob1 = solve(mask | 1 << A[ind], ind + 1, tprob1);
  }
  if((mask & (1 << B[ind])) == 0)
  {
    tprob2 = prob;
    tprob2 *= (100.0 - P[ind]) / 100.0;
    tprob2 = solve(mask | 1 << B[ind], ind + 1, tprob2);
  }
  return tprob1 + tprob2;
}

void work()
{
  cin>>N;
  int i;
  for(i = 0; i < N; i++)
  {
    cin>>P[i]>>A[i]>>B[i];
  }
  mask = 0;
  if(N > 16)
  {
    printf("0\n");
    return;
  }
  double ans = solve(mask, 0, 1);
  printf("%.10lf\n", ans);
}

int main()
{
  int T;
  cin>>T;
  while(T--) work();
  return 0;
}
