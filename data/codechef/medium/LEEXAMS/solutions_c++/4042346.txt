#include <iostream>

#include <stdio.h>
using namespace std;
int main() {
	float p[60],x[60],b[60]; 

	int t,n;
	cin >> t;
	while(t--){
		cin >> n;
		for(int i=0;i<n;i++){
			cin >> p[i] >> x[i] >> b[i];
			
		}

		if(n>16){cout<<"0.0000000"<<endl;continue;}
		
		float ans1=0;

		for(int i=0;i<(1<<n);i++){
			float m[18] ={0};
			int c;
			float ans=1;
			for(c=0;c<n;c++){
				int tem;
				float tem2;
				if(i & (1 << c)) {
					tem = b[c];
					tem2 = 100 - p[c];
				}
				else{
					tem = x[c];
					tem2 = p[c];
				}
				if(m[tem]==1) break;
				m[tem]=1;
				ans*=(tem2/100);
						
			}
			if(c==n) ans1+=ans;
		}
		printf("%0.9f\n",ans1);
		
	}
	return 0;
}