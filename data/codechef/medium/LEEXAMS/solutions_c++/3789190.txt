//
//  main.cpp
//  leexams
//
//  Created by Harshit Singh on 23/04/14.
//  Copyright (c) 2014 Harshit Singh. All rights reserved.
//

#include <iostream>
using namespace std;
double sum;
void func(double a[][3],int i,int b[],int t,int n,double p)
{
    if(i==n)
    {
        sum+=(p);
        //cout<<p<<endl;
        return ;
    }
    else
    {
        
        
            if(b[(int)a[i][1]]!=1)
            {
                
           
            b[(int)a[i][1]]=1;
                
            
                func(a,i+1,b,1,n, p*(a[i][0]/100));
                b[(int)a[i][1]]=0;
            
            }
        
            
       
        
            if(b[(int)a[i][2]]!=1)
            {
                //cout<<i<<"l";
                
                b[(int)a[i][2]]=1;
               
                func(a,i+1,b,1,n,p*((100-a[i][0])/100));
                b[(int)a[i][2]]=0;
                
            }
        
            
        
       
        
    }
}
int main(int argc, const char * argv[])
{

    int t,n,b[20],i,j,k,ans;
    double a[55][3],p;
    cin>>t;
    while(t--)
    {
        ans=0;
        sum=0;
        p=1;
        i=0;
        cin>>n;
        for(j=0;j<20;j++)
        {
            b[j]=0;
        }
        for(j=0;j<n;j++)
        {
            cin>>a[j][0]>>a[j][1]>>a[j][2];
        }
        func(a,i,b,0,n,p);
        cout<<sum<<endl;
    }
    return 0;
}
