#include"cstdio"
#include"cstring"
#include"cmath"
int main(void) {
	int t;
	int n;
	int count[17];
	int a[51], b[51];
	double p1[51], p2[51];	
	double probans, prob;

	scanf("%d", &t);
	while (t--)
	{
		scanf("%d", &n);
		for (int i = 0; i < n; i++)
		{
			scanf("%lf %d %d", &p1[i], &a[i], &b[i]);
			p1[i] = p1[i] / 100;
			p2[i] = 1 - p1[i];
		}

		if (n > 16)
		{
			printf("0\n");
		}
		else if (n == 1)
		{
			printf("1.000000\n");
		}
		else
		{
			probans = 0.0;

			for (int i = 0; i < 1 << n; i++)
			{
				for (int j = 0; j < 17; j++)
				{
					count[j] = 0;
				}

				prob = 1.0;
				for (int j = 0; j < n; j++)
				{
					int x = i & (1 << j);
					if (x)
					{
						//printf("1 ");
						if (count[a[j]] > 0)
						{
							prob = 0;
							break;
						}
						prob = prob * p1[j];
						count[a[j]]++;
					}
					else
					{
						//printf("0 ");
						if (count[b[j]] > 0)
						{
							prob = 0;
							break;
						}
						prob = prob * p2[j];
						count[b[j]]++;

					}
				}
				//printf("\n");

				probans += prob;
			}
			printf("%.14lf\n", probans);
		}
	}
	return 0;
}
