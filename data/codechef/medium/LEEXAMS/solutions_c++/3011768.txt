#include <iostream>
#include <stdio.h>
double finalprobabilty;
void solve(int p[],int a[],int b[],int path[],double prob,int n,int i)
{
    if(i==n)
    {
      finalprobabilty=finalprobabilty+prob;
    }
    else
    {
        if(path[a[i]]==0)
        {
            path[a[i]]=1;
            solve(p,a,b,path,(prob*p[i])/100.0,n,i+1);
            path[a[i]]=0;
        }
        if(path[b[i]]==0)
        {
            path[b[i]]=1;
            solve(p,a,b,path,(prob*(100-p[i]))/100.0,n,i+1);
            path[b[i]]=0;
        }
    }
}
int main()
{
    int cases,n;
    scanf("%d",&cases);
    while(cases--)
    {
        scanf("%d",&n);
        int a[n],b[n],p[n];
        for(int i=0;i<n;i++)
        {
            scanf("%d%d%d",&p[i],&a[i],&b[i]);
        }
        int path[17];
        for(int i=0;i<17;i++)
        {
            path[i]=0;
        }
        if(n<=16)
        {
            finalprobabilty=0.0;
            solve(p,a,b,path,1.0,n,0);
            printf("%0.9lf\n",finalprobabilty);
        }
        else
        {
            printf("0.000000000\n");
        }
    }
    return 0;
}
