#include<stdio.h>
#include<iostream>
#define maxi(a,b) (a>b)?a:b
int main()
{
	long long int m,n,k,count=0,max=0,mins,maxs,temp;
	scanf("%lld %lld %lld",&n,&m,&k);
	int i=0;
	for(;i<n;i++)
	{
		scanf("%lld",&temp);
		count=count+(m-temp+k)/k;
		max=maxi(max,(m-temp+k)/k);
	}
	maxs=count/2;
	maxs=count/2;
	mins=((count-max)%2==1)?(count-max)/2+1:(count-max)/2;
	printf("%lld",(maxs-mins+1)%1000000007);
	return 0;
} 