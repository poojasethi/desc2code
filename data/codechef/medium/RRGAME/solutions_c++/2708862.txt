#include<cstdio>
#include<cmath>

#define MOD 1000000007
using namespace std;

long long max(long long a, long long b)
{
	return a>b?a:b;
}

int main()
{
	long long n,m,k,s=0,smin,smax,max1=0,tmp;
	int i;
	
	scanf("%lld%lld%lld",&n,&m,&k);

	for(i=0; i<n; i++){
		scanf("%lld",&tmp);
		s+=1+(m-tmp)/k;
		max1=max(max1,1+(m-tmp)/k);
	}
	smax=s/2;
	smin=ceil((double)(s-max1)/2);
	printf("%lld\n",(smax-smin+1)%MOD);
	return 0;
}