#include<stdio.h>
#include<algorithm>
#include<math.h>
#define mod 1000000007
using namespace std;
int main()
{
	long long int b,a[100004],n,m,k,i;
	scanf("%lld%lld%lld",&n,&m,&k);
	for(i=0;i<n;i++)
	{
		scanf("%lld",&a[i]);
	}
	long long int s=0,min,max=-1;
	for(i=0;i<n;i++)
	{
		b=(m-a[i])/k+1;
		s=(s+b);
		if(b>max)
			max=b;
	}
	if((s-max)%2==0)
		min=(s-max)/2;
	else
		min=(s-max)/2+1;
	printf("%lld\n",(s/2-min+1)%1000000007);
}
