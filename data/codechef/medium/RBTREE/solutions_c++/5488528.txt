#include<stdio.h>
#include<math.h>
int main()
{int T,b=0,x,y,tem,num1,num2,l1,l2,bl,r,i;
 char Q[5];
 scanf("%d",&T);
 while(T--)
 {bl=0;r=0;
     scanf("%s",Q);
  if(Q[1]=='i')
  {b++;}
  else{scanf("%d",&x);
  scanf("%d",&y);
  if(x>y)
  {num2=x;
   num1=y;
  }
  else{num1=x;num2=y;}

  for(i=1;i<30;i++)
  {if( num1>=pow(2,i-1)&&num1<pow(2,i))
      {l1=i;/*printf("%d\n\n",l1);*/
      break;}
  }
  l2=0;
  while(num1!=num2)
  {if(!(num2>=pow(2,l1-1)&&num2<pow(2,l1)))
      {num2/=2;
          l2++;
          }

    else{break;}
  }
  //printf("%d\n",num2);
  for(i=1;i<=l2;i++)
  {if((i+l1+b)%2==0)
    {
        r++;
    }
    else{bl++;}
  }


  while(num1!=num2)
  {if((l1+b)%2==0)
    {
        r++;r++;
    }
    else{bl++;bl++;}
   num1/=2;
   l1--;
num2/=2;

  }

  if((l1+b)%2==0)
  {
      r++;
  }
  else{bl++;}
  if(Q[1]=='b'){printf("%d\n",bl);}
  if(Q[1]=='r'){printf("%d\n",r);}


  }


 }
return 0;
}
