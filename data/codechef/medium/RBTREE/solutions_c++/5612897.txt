#include<iostream>
#include<algorithm>
#include<cmath>
#include<vector>
#include<set>
#include<queue>
#include<deque>
#include<stack>
#define f(i, n) for (int i = 0; i < n; i++)
#define fi(i, n) for (; i < n; i++)
#define d(i, n) for (int i = n; i >= 0; --i)
#define ff(i, m, n) for (int i = m; i < n; i++)
#define dd(i, m, n) for (int i = m; i > n; --i)
#define ull unsigned long long
#define mp(i, j) make_pair(i, j)
#define pb(v, a) v.push_back(a)
using namespace std;
int x, y, p, q, ans, col;
string s;
int main() {
  cin >> q;
  while(q--) {
    cin >> s;
    if (s == "Qi") col^=1;
    else {
      cin >> x >> y;
      ans = 1; p = 0;
      while(x!=y) {
        if (x < y) { y/=2; p++; }
        else x/=2;
        ans++;
      }
      while(y-1) { y/=2; p++; }
      cout << (ans+((s[1]=='b'?!(p%2):(p%2))+col)%2)/2 << endl;
    }
  }
  return 0;
}
