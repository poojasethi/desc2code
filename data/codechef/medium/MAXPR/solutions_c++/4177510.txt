#include <iostream>
#include <cstdio>
#include <string.h>
#define MAX 200001
#define MOD 1000000007

#define ll long 

using namespace std;
int input[MAX];
int out[MAX];

ll calc(int n) {
  int sum[101];
  ll total = 0;
  for(int d=-100; d<=100;++d) {
    memset(sum, 0, sizeof(sum));
    for(int i=0;i <n;++i) {
      ll dp=1;
      if(input[i]-d>=1 && input[i]-d<=100) {
        dp+=sum[input[i]-d];
      } 
      sum[input[i]]+=dp;
      if( sum[input[i]] >= MOD) sum[input[i]]%=MOD;
      total+=dp;
      if(total>=MOD) total%=MOD;
    }
    total-=n;
  }
  return total;
}

ll modPow(int n, int p) {
  ll ans=n;
  for(int i=1;i<p;++i) {
   ans+=ans; 
   if(ans >= MOD ){
     ans -= MOD;
   }
  }
  return ans;
}


main(){
  int n,t;
  scanf("%d", &t);
  while(t--){
    scanf("%d", &n);
    for(int i=0;i<n;++i){
      scanf("%d", &input[i]);
    }
    ll total = modPow(2, n);
    ll totalAP = (calc(n) + n )%MOD;
    ll ans = total-totalAP-1;
    ans = (ans+MOD)%MOD;
    printf("%ld\n", ans);
  }
}
