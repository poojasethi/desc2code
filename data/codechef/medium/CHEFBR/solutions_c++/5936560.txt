#include<bits/stdc++.h>
using namespace std;
#define ll long long int
 
const int N=105;
const int mod=1000000007;
 
ll dp[N][N];
ll a[N];
int n;
int main(){
	cin>>n;
	for(int i=1;i<=n;i++) cin>>a[i];
	
	for(int i=1;i<=n;i++){
		if(a[i]<0&&((a[i+1]+a[i])==0)) dp[i][i+1]=1;
	}
	
	memset(dp,0,sizeof(dp));
	
	for(int p=2;p<=n;p++){
		for(int i=1;i<=n-p+1;i++){
			int j=i+p-1;
			
			ll sum=dp[i][j-1];
			if(a[j]>0){
				for(int k=i;k<j;k++){
					if(a[k]==-a[j]){
						ll pp=((dp[i][k-1]+1)*(dp[k+1][j-1]+1))%mod;
						sum=(sum+pp)%mod;
					}
				}
			}
			dp[i][j]=sum;
		}
	}		
	cout<<(dp[1][n]+1)%mod<<'\n';
	return 0;
}