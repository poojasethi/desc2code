#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
#define LL int long long
LL dp[102][102]={0};
int A[102];
LL solve(int x,int y)
{
	int i,j,k;
	if(dp[x][y]>0)
	{
	return dp[x][y];
	}
	LL ans=1;
	if(A[x]== -A[y] && A[y]>A[x])
	{
	ans++;
	}
	for(i=x+1;i<(y-1);i++)
	{
	for(j=i+1;j<y;j++)
	{
      if(A[i]== -A[j] && A[j]>A[i])
       {
       if(i==x && j==y)
       {
       break;
       }
          LL temp=(solve(i,j)-1)%mod;
          LL tem=(solve(j,y))%mod;
          ans+=(LL)((temp*tem)%mod);
         if(ans>=mod)
         {
         ans%=mod;
         }
       }
	}
	}
	return dp[x][y]=ans;
}
int main()
{
	int n;
	scanf("%d",&n);
	int i;
	for(i=1;i<=n;i++)
	{
	scanf("%d",&A[i]);
	}
	LL ans=solve(0,n+1);
	if(ans==0){ans=1;}
	printf("%lld\n",ans);
	return 0;
}