#include<iostream>
#include<cstdio>
#include<vector>
#include<algorithm>
using namespace std;
int k[21];
//vector<int> A[21];
vector<int> sub[20003];
int n,m,ans;
//int ma[20003];
//int dp[21][20003];
int conf[21];
int func(int a,int mask,int ans1)
{
	if(a==(m+1))
	return ans1;
	int ret;
	ret = func(a+1,mask,ans1);
	//printf("mask: %d  conf[%d]: %d\n",mask,a,conf[a]);
	//printf("(mask >> a) &1 : %d\n",(mask>>a)&1);
	if(((mask>>a)&1)==0)
	{
		//printf("\n*\n");
		ret=max(ret,func(a+1,mask|conf[a],ans1+1));
	}
	return ret;
}	
int main()
{
	scanf("%d",&n);
	scanf("%d",&m);
	int temp;
	int mask;
	for(int i=1;i<=m;i++)
	{
		scanf("%d",&k[i]);
		//mask=0;
		conf[i]=0;
		for(int j=1;j<=k[i];j++)
		{
			scanf("%d",&temp);
			sub[temp].push_back(i);
			//mask=mask|(1<<(temp-1));
			//A[i].push_back(temp);
		}
		//conf[i]=mask;
		//printf("config[%d]: %d\n",i,conf[i]);
	}
	for(int i=1;i<=n;i++)
	{
		mask=0;
		for(int j=0;j<sub[i].size();j++)
		{
			mask=mask|(1<<sub[i][j]);
		}
		for(int j=0;j<sub[i].size();j++)
		{
			conf[sub[i][j]]|=mask;
		}
	}
	/*for(int i=0;i<=n;i++)
	ma[i]=0;*/
	ans = func(1,0,0);
	printf("%d\n",ans);
	return 0;
}
