#include<map>
#include<iostream>
#include<iomanip> 
#include<math.h>

using namespace std;

void round(map<int, double> &val1, map<int, double> &val2, double p)
{
	val2.clear();
	for(map<int, double>::iterator itr = val1.begin(); itr!=val1.end(); itr++)
	{	
		map<int, double>::iterator temp = itr;
		int index = itr->first;
		double p1 = itr->second;
		if(index%2 == 1)
		{
			temp++;
			if(temp->first==index+1)
			{
				double p2 = temp->second;
				double pr= (p1*p2)/100 + 
				((100-p1)*p2*p)/10000+ 
				((100-p2)*p1*p)/10000;
				val2[(index+1)/2]=pr;
			}
			else
			{
				val2[(index+1)/2] = (p1*p)/100;
			}
		}
		else
		{
			temp--;
			if(temp->first!=index-1)
			{
				val2[index/2] = (p1*p)/100;
			}
		}
	}
}

int main()
{
	int test;
	cin>>test;
	while(test--)
	{
		map<int, double> val1;
		map<int, double> val2;
		int temp;
		long n;
		int m;
		double p;
		cin>>n>>m>>p;
		int k = (int)log2((double)n);
		for(int i = 0; i<m; i++)
		{
			cin>>temp;
			val1[temp]=100;
		}
		for(int i = 0; i<k; i++)
		{
			if(i%2==0)
				round(val1,val2, p);
			else
				round(val2,val1, p);
		}
		if(k%2==0)
		{
			cout<<fixed<<setprecision(14)<<val1[1]<<endl;
		}
		else
		{
			cout<<fixed<<setprecision(14)<<val2[1]<<endl;
		}
				
	}
	return 0;
}