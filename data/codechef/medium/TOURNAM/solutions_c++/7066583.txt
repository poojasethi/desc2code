#include <iostream>
#include <algorithm>
#include <math.h>
#include <iomanip>
using namespace std;

int main(){
  int t,n,m,p1,k,pos[10001],tpos[10000],i,j,tp;
  double prob[10000],tprob[10000],p;
  cin>>t;
  while(t--){
  	cin>>n>>m>>p1;
  	p=(double)(p1)/100;
  	for(i=0;i<m;++i){
  		cin>>pos[i];
  	}
  	tp=0;
  	k=(int)log2(n);
  	//cout<<k<<endl;
  	sort(pos,pos+m);
	/*for(i=0;i<m;++i){
  		cout<<pos[i]<<" ";
  	}
cout<<endl;*/

  	for(i=0;i<m;++i)
  		prob[i]=1;


  	for(i=0;i<k;++i){
  	  for(j=0;j<m;++j){

  	 // 	cout<<"amit "<<pos[j]<<endl;

  	  	if(pos[j]%2){
  	  		if(j+1==m){
  	  			tpos[tp]=(pos[j]+1)/2;
  	  			tprob[tp++]=prob[j]*p;
  	  //			cout<<"tp "<<tp<<endl;
  	  			continue;
  	  		}
  	  		if(pos[j+1]==pos[j]+1){
  	  			tpos[tp]=(pos[j]+1)/2;
  	  			tprob[tp++]=(prob[j]*prob[j+1])/2+(prob[j]*(1-prob[j+1]))*p;
  	  		}
  	  		else
  	  		 {
  	  		 	tpos[tp]=(pos[j]+1)/2;
  	  			tprob[tp++]=prob[j]*p;
  	  		 }
  	  	//	 cout<<"tp "<<tp<<endl;
  	  	}
  	  else{
  	  	if(j==0){
  	  			tpos[tp]=(pos[j]+1)/2;
  	  			tprob[tp++]=prob[j]*p;
  	  			continue;
  	  		}
  	  		if(pos[j-1]==pos[j]-1){
  	  			if(tpos[tp-1]==(pos[j]+1)/2){
  	  				tprob[tp-1]+=(prob[j]*prob[j-1])/2+(prob[j]*(1-prob[j-1]))*p;
  	  			}
  	  			else{
    				tpos[tp]=(pos[j]+1)/2;
  	  			tprob[tp++]=(prob[j]*prob[j-1])/2+(prob[j]*(1-prob[j-1]))*p;
  	  		    }
  	  		}
  	  		else
  	  		 {
  	  		 	tpos[tp]=(pos[j]+1)/2;
  	  			tprob[tp++]=prob[j]*p;
  	  		 }

  	  	//	 cout<<"tp2 "<<tp<<endl;
  	  }	

  	  }
  	  m=tp;
  	  //cout<<tp<<endl;
  	  for(j=0;j<m;++j){
  	  	pos[j]=tpos[j];
  	  	//cout<<tpos[j]<<" "<<tprob[j]<<" ";
  	  	prob[j]=tprob[j];
  	   }
  	   //cout<<endl;
  	  tp=0;
  	}
    cout<<fixed<<setprecision(10)<<prob[0]*100<<endl;
  }
  return 0;

}