#include<bits/stdc++.h>
using namespace std;
#define  ll long long
vector< pair<int,double> > arr ,check;
int findK(int n){
int num = n;
int k = -1;
while (num) {
k ++;
num >>= 1;
}
return k;
}
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		int n;
		int m,k;
		double P;
		scanf("%d%d%lf",&n,&m,&P);
		P = P/100;
		k= findK(n);
		//k = log2(n);
		arr.clear();
		for(int i=0;i<m;i++)
		 {
		 	int a;
		 	scanf("%d",&a);
		 	arr.push_back(make_pair(a,1));
		 }
		 sort(arr.begin(),arr.end());
		 int index;
		 double prob,a,b;
		 for(int i=0;i<k;i++)
		 {
		   check.clear();
		   for(int j=0;j<arr.size();j++)
		   {
		   	 index = (arr[j].first+1)/2;
		   	 if(arr[j].second==0)continue;
		   	 if((arr[j].first&1)==1 && j<arr.size()-1 && arr[j+1].first==arr[j].first+1)
				{
					a = arr[j].second;
					b= arr[j+1].second;
					prob = a*b + a*(1-b)*P + b*(1-a)*P;
					check.push_back(make_pair(index,prob));
					j++; 
				}
				else
				{
					prob = arr[j].second*P;
					check.push_back(make_pair(index,prob));
				} 
		   }
		   arr.clear();
		   for(int j=0;j<check.size();j++)
		   {
		   	arr.push_back(check[j]);
		   }
		   	
	     }
	     if(arr.size()==1)
		  printf("%.9lf\n",100*arr[0].second);
		 else
		  cout<<arr.size()<<endl;
		
		
	}
}