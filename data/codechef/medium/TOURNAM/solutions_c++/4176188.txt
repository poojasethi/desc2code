//Author : Jatin Goyal
//codecracker4

#include<bits/stdc++.h>
using namespace std;
#define MOD 1000000007
#define ll long long int
#define all(c) c.begin(), c.end()
#define tr(container, it) for(typeof(container.begin()) it = container.begin(); it!=container.end(); it++)
#define sz(a) int((a).size())
#define pb push_back

#define gc getchar_unlocked 
inline int inp()
{
  char c = gc();
  int ret = 0, sign = 1;
  while((c<'0' || c>'9') && c!='-') c = gc();
  if(c=='-')
 {
    sign = -1;
    c = gc();
  }
  while(c>='0' && c<='9')
 {
    ret = 10 * ret + c - 48;
    c = gc();
  }
  if(sign<0) ret = -ret;
  return ret;
}



//freopen("##inp.txt","r",stdin);
//freopen("##out.txt","w",stdout);

int main()
{
    int t,n,m,k,a[10001],i,l;
    long double prob[100001];
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d%d",&n,&m,&k);
        long double p=((long double)k)/100;
        for(i=0;i<m;i++) {a[i]=inp(); prob[i]=1.0; a[i]--;}
        sort(a,a+m);
     //   printf("%lf\n",p);
        for(k=1;k<n;k=k*2)
        {
            l=0;
            for(i=0;i<m;i++){ a[i]=a[i]/2;}// printf("%d ",a[i]);}
            //printf("\n");
            for(i=0;i<m;i++)
            {
                if((i==m-1) || (a[i]!=a[i+1]))
                {
                    a[l]=a[i];
                    prob[l]=prob[i]*p;
                    l++;
                }
                else
                {
                    a[l]=a[i];
                    prob[l]=prob[i]*(prob[i+1]+(1-prob[i+1])*p)+prob[i+1]*((1-prob[i])*p);
                    l++;
                    i++;
                }
            }
            m=l;
        }
        printf("%4.6Lf\n",prob[0]*100);
    }
}
