#include<stdio.h>
#include<algorithm>
#include<iostream>
using namespace std;
int main()
{
    int t;
    scanf("%d",&t);
    for(;t--;)
    {
        int N,M,P,i,j,length;
        scanf("%d%d%d",&N,&M,&P);
        int A[M];
        double DP[M];
        for(i=0;i<M;i++)
            {
                DP[i]=1;
                scanf("%d",&A[i]);
            }
        sort(A,A+M);
        length=M;
        while(N>1)
        {
            int k=0;
            for(i=0;i<length;i++)
                {
                    if(i<length-1 && A[i]+1==A[i+1] && A[i]%2)
                        {
                            DP[k]=DP[i]*DP[i+1] + DP[i] * (1-DP[i+1]) *P * 0.01 +  (1-DP[i]) * DP[i+1] * P * 0.01;
                            i++;
                        }
                    else
                        {
                            DP[k]=P*0.01*DP[i] ;
                        }
                    A[k]=(A[i]+1)/2;
                    k++;
                }
                length=k;
                N/=2;
        }
        printf("%lf\n",DP[0]*100);
    }
    return 0;
}
