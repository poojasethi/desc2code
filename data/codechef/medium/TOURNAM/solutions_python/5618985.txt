#include<stdio.h>
#include<algorithm>

using namespace std;

const int MAXN=11111;

int a[MAXN];
double b[MAXN];

int main()
{
    int cnum;
    scanf("%d",&cnum);
    while(cnum--)
    {

        int n,m,p;
        scanf("%d %d %d", &n , &m , &p );
        for(int i=0; i<m; i++)
        {
            scanf("%d",&a[i]);
            a[i]--;

        }

        sort(a,a+m);

        for(int i=0; i<m; i++)
            b[i]=1;

        for(int j=1; j<n; j*=2)
        {
            for(int i=0; i<m; i++)
            {
                a[i]/=2;
            }

            int k=0;

            for(int i=0; i<m; i++)
            {
                if(i==m-1||a[i]!=a[i+1])
                {
                    a[k]=a[i];
                    b[k++]=b[i]*p*0.01;
                }
                else
                {
                    a[k]=a[i];
                    b[k++]  =  (b[i]*b[i+1])   +    (  b[i]*(1-b[i+1]) + b[i+1]*(1-b[i]) ) *  p *0.01;
                    i++;
                }
            }
            m=k;
        }


        printf("%.13f\n",100*b[0]);

    }
    return 0;
}
