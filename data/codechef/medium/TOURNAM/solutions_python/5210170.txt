#include <iostream>
#include <algorithm>
using namespace std;
int t,n,m;
double p;
int index[10005];
double val[10005];
int main() {
	cin>>t;
	
	while(t--)
	{
		cin>>n>>m>>p;
		p/=100;
		val[1]=0;
		for(int i=1;i<=m;i++){cin>>index[i];val[i]=1;}
	   sort(index+1,index+m+1);
	   int ct=m;
	   int rounds=n;
	   while(rounds>1)
	   {
	   	rounds/=2;
	   	int nct=0;
	   	
	   	for(int i=1;i<=ct;i++)
	   	{
	   		
	   		if(i<ct && index[i]%2==1 && (index[i+1]==index[i]+1))
	   		{
	   			
	   			index[++nct]=(index[i]+1)/2;
	   			val[nct]=val[i]*val[i+1] + val[i]*p*(1-val[i+1]) + (1-val[i])*p*val[i+1];
	   			i++;
	   			
	   		}
	   		
	   		else 
	   		{
	   			
	   			index[++nct]=(index[i]+1)/2;
	  
	   			val[nct]= val[i]*p;
	   		}
	   		
	   	}
	   	
	   	ct=nct;
	   }
	   
	   printf("%.6f\n",val[1]*100);
	}
	return 0;
}