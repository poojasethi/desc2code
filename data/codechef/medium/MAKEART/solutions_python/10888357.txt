t = input()
for i in range(0, t):
	n = input()
	x = map(int, raw_input().split())
	flag = 0
	c = 1
	for i in range(1, n):
		if(x[i] == x[i - 1]):
			c += 1
		else:
			c = 1
		if c >= 3:
			flag = 1
			print "Yes"
			break
	if(flag == 0):
		print "No"