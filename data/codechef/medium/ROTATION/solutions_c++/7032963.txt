#include<bits/stdc++.h>

using namespace std;

long long int A[1000000];

int main()
{
	long long int N , M , d , i , j;
	cin>>N;
	cin>>M;
	for(i=0;i<N;i++){
		cin>>A[i];
	}
	char x;
	int y;
	int c =0;
	while(M--){
		cin>>x;
		cin>>y;
		if(x=='R'){
			cout<<A[(y-1+c)%N]<<endl;
		}
		else if(x=='C'){
			c=(c+y)%N;
		}
		else{
			c=(c+N-y)%N;
		}
	}
	return 0;
}
