#include<iostream>
using namespace std;
const int MAX = 100001;
int main()
{
    int N,M;
    int num[MAX];
    int ans[MAX];
    int query;
    char moved;
    int step;
    int cnt;
    cin >> N >> M;
    for(int i = 0 ; i < N ; i++)
    {
        cin >> num[i];
    }
 
    query = 0;
    cnt = 0;
    for(int i = 0 ; i < M ; i++)
    {
        cin >> moved >> step;
 
        if(moved == 'C')
        {
            query = query - step;
        }
        if(moved == 'A')
        {
            query = query + step;
        }
        if(moved == 'R')
        {
            ans[cnt++] =  num[((step % N )- (query % N) + N - 1) % N];
 
        }
 
    }
    for(int i = 0 ; i < cnt ; i++)
    {
         cout << ans[i] << endl;
    }
    return 0;
}
 