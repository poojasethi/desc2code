#include<iostream>
#include<algorithm>
 
using namespace std;
 
int main (){
    long int n,m,d;
    int head,i=0;
    cin>>n>>m;
    char ch;
    int a[100000];
    while(i<n){
        cin>>a[i];
        i++;
    }
    head=0;
    while(m--){
        cin>>ch>>d;
        switch(ch){
            case 'R': cout<<a[(head+d-1)%n]<<endl; break;
            case 'C': head=(head+d)%n;break;
            case 'A': head=(head-d);
                        if(head<0){
                            head=n+head;
                        }
                        break;
        }
       /* for(int i=0;i<n;i++){
            cout<<"--"<<a[(head+i)%n]<<"--";
        }
        cout<<endl<<"----"<<n<<"---"<<head<<endl;*/
    }
    return 0;
}