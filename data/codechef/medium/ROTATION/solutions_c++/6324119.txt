/*************************************************************************
	> File Name: 3.cpp
	> Author: Zeleng Zhuang
	> Mail: zhuangzeleng19920731@gmail.com
	> Created Time: Fri Feb 20 17:53:00 2015
 ************************************************************************/

#include<bits/stdc++.h>
using namespace std;

#define REP(i,s,t) for(int i=(s);i<(t);i++)
typedef long long ll;
const int INF = (int)1E9;
#define MAXN 200005

int main () {
    ll n, m;
    cin >> n >> m;
    vector<ll> a;
    ll u = n;
    while (u --) {
        ll tt;
        cin >> tt;
        a.push_back(tt);
    }
    ll off = 0;
    while (m --) {
        char ct;
        ll nt;
        cin >> ct >> nt;
        if (ct == 'R')
            cout << a[((off + nt) - 1) % n] << endl;
        if (ct == 'C')
            off = (nt + off) % n;
        if (ct == 'A')
            off = (n + off - nt) % n;
    }
    return 0;
    
}
