#include<iostream>
using namespace std;
int main()
{
   int N,M,*p,i,j,k;
   cin>>N>>M;
   p=new int[N];
   for(i=0;i<N;i++)
   cin>>p[i];
   k=0;
   while(M--)
   {
      char ch;
      cin.ignore();
      cin>>ch;
      cin>>i;
      if(ch=='R')
      cout<<p[(k+i-1)%N]<<endl;
      else
      {
         if(ch=='A')
         i=N-i;
         k=(k+i)%N;
      }
   }
   delete []p;
return 0;
}
