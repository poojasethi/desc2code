#include<bits/stdc++.h>

using namespace std;


long long int a[1000005];
int main(){
	long long int n,m,d,p;
	cin >> n >> m;
	
	for(int i=0;i<n;i++){
		cin >> a[i];
	}
	
	long long int index=0;
	char c;
	for(int j=0;j<m;j++){
		cin >> c >> d ;
		
		if(c=='R'){
			p=(index+d-1)%n;
			printf("%d\n",a[p]);
		}
		else if(c=='A'){
			index=(index-d+n)%n;
		}
	    else if(c=='C'){
	    	index=(index+d+n)%n;
	    }
	}
}
