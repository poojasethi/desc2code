#include<iostream>
using namespace std;
int main(){
	int n,m,i,p,x;
	char c;
	cin>>n>>m;
	int a[n];
	for(i=0;i<n;i++)
		cin>>a[i];
	for(i=0,x=0;i<m;i++){
		cin>>c>>p;
		if(c=='R')
		cout<<a[(x+p-1)%n]<<endl;
		else if(c=='C')
			x=(x+p)%n;
		else 
		x=(x+n-p%n)%n;
	}
	return 0;
}