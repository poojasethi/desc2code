#include<bits/stdc++.h>

using namespace std;

int main()
{
	int n,m;
	cin>>n>>m;
	int arr[n];
	for(int i=0;i<n;i++)
		cin>>arr[i];
	int st = 0;
	while(m--)
	{
		char ch;
		int no;
		cin>>ch>>no;
		switch(ch)
		{
			case 'R': cout<<arr[(st+no-1)%n]<<endl;
					break;
			case 'C': st = (st+no)%n;
					break;
			case 'A': st = (st-no+n)%n;
					break;
		}
		
	}
	return 0;
}
