#include<cstdio>
#include<iostream>
#include<algorithm>
#include<string>
#include<cstdlib>
#include<cstring>
using namespace std;
typedef long long int ll;
int main()
{
    //freopen("in.txt","r",stdin);
    ll N,M;
    scanf("%lld %lld",&N,&M);
    ll a[N];
    for(ll i=0;i<N;i++){
        scanf("%lld",&a[i]);
    }
    ll val=0;
    getchar();
    for(ll i=0;i<M;i++){
        string s;
        getline(cin,s);
        char* str=new char[s.size()+1];
        strcpy(str,s.c_str());
        //cout << s << endl;
        char ch;ll d;
        sscanf(str,"%c %lld",&ch,&d);
        //printf("%c %d\n",ch,d);
        if(ch=='R') {
            int res=(val+d-1+N)%N;
            printf("%d\n",a[res]);
        }
        else if(ch == 'C'){
            val=(val+d+N)%N;
        }
        else val=(val-d+N)%N;
    }
}
