#include<stdio.h>
int main()
{
	int N,M,A[100001],x;	
	char c;
	scanf("%d%d",&N,&M);
	for(int i=0;i<N;i++){
		scanf("%d",&A[i]);
	}
	scanf("%d",&M);
	int sum = 0;
	for(int i=1;i<=M;i++){
		scanf(" %c",&c);
		if( c=='A'){
			scanf("%d",&x);
			sum = (sum - x)%N;
			//carefull see this step , this step is the reason for many many WA's
			if( sum < 0 ) sum = sum + N;
			//Test Case for that is make anticlockwise movement in the begining and then ask for every element.
		}
		else if (c=='C'){
			scanf("%d",&x);
			sum = (sum + x)%N;
		}
		else if(c=='R'){
			scanf("%d",&x);
			x--;
			printf("%d\n",A[(x+sum)%N]);
		}
	}
	return 0;
}