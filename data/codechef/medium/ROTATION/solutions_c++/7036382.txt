#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;
main()
{
int n,m;
scanf("%d %d",&n,&m);
int a[n];
for(int i=0;i<n;i++)
scanf("%d",&a[i]);
char ch;
int k;
int start=0;
for(int i=0;i<m;i++)
{
scanf(" %c %d",&ch,&k);
{
if(ch=='R')
printf("%d\n",a[(start+k-1)%n]);
else if(ch=='C')
start=(start+k)%n;
else
{
start=(start-k)%n;
if(start<0)
start=start+n;
}
}
}
return 0;
}
