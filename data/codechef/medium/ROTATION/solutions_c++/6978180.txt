#include<stdio.h>
#define gc getchar_unlocked
void fastread(long long *a)
 {
 	char c=0;
 	while(c<33){
 		c=gc();
	 }
	 *a=0;
	while(c>33){
		*a=*a*10+c-'0';
		c=gc();
	} 
 }
 int main()
 {	
    char ch;
 	long long n,m,a[100005],size,first,x;
 	fastread(&n); fastread(&m);
 	for(int i=0;i<n;i++)
 	fastread(&a[i]);
 	size=n;
 	first=0;
 	while(m--)
 	{
 		ch=gc(); fastread(&x);
        switch (ch)
		{
		  case 'R': x=first+x-1;
		            x=x%size;
		            printf("%lld\n",a[x]);
		            break;
		  case 'C': first+=x;
		            first=first%size;
					break;
		  case 'A': first=(first-x+size)%size;
					break;
		  default : break;						         
     	 }  		
	}
 }