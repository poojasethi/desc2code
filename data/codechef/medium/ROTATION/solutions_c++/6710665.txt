#include<bits/stdc++.h>
using namespace std;
int n,m,v[1000000],ini,num;
char op;
int main(){
    scanf("%d %d",&n,&m);
    for(int i=0;i<n;i++)
        scanf("%d",&v[i]);
    for(int i=0;i<m;i++){
        scanf(" %c %d",&op,&num);
        if(op=='R'){
            printf("%d\n",v[(ini+num-1)%n]);
        }
        if(op=='C'){
            ini+=num;
            ini%=n;
        }
        if(op=='A'){
            ini+=n;
            ini-=num;
            ini%=n;
        }
    }
}
