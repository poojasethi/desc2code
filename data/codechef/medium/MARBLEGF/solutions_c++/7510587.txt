//Copyrights of the Code reserved with chetan_shukla
 
#include<bits/stdc++.h>
using namespace std;
typedef pair<int,int> pii;
typedef vector<pii> vpii;
#define f first
#define s second
#define mp make_pair
#define pb push_back

long long ft[1000005];	
int n;

long long query(int b)
{
	long long sum = 0;
	while(b) 
	{
		sum += ft[b];
		b -= (b&(-b));
	}
	return sum;
}
void update(int k, int val)
{
	while(k<=n)
	{
		ft[k] += val;
		k += (k&(-k));
	}	
}

int main()
{
    //int t;
    //scanf("%d", &t);
    //while(t--)
    {
    	int q,x,a,b,i;
    	int val;
    	scanf("%d %d",&n,&q);
    	int A[n];
    	for(i=0; i<n; i++)
    	{
    		scanf("%d", &val);
    		update(i+1,val);
    	}
    	while(q--)
		{
		    string s;
		    cin>>s;
		    //cout<<"s: "<<s<<endl;
		    if(s[0]=='G')
		    {
		    	scanf("%d %d",&a,&b);
		    	update(a+1,b);
		    }
		    else if(s[0]=='T')
		    {
		    	scanf("%d %d",&a,&b);
		    	update(a+1,-b);
		    }
			    	
			else
			{
				scanf("%d %d",&a,&b);
				printf("%lld\n",query(b+1)-query(a));
			}
			
		}
    }
	return 0;
}
