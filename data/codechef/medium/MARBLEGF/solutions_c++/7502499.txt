#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
const int MAXN = 1e6 + 10;
ll tree[MAXN], A[MAXN];
ll query(ll x){
	ll res = 0;
	while (x > 0){
		res += tree[x];
		x -= (x & -x);	
	}
	return res;
}
ll update(ll x, ll val){
	while (x < MAXN){
		tree[x] += val;
		x += (x & -x);
	}
}
int main()
{
	ll n, q; cin>>n>>q;
	for (ll i = 0; i < n; i++){ ll temp; cin>>temp; update(i + 1, temp); }
	for (ll que = 0; que < q; que++){
		string c; ll a, b; cin>>c>>a>>b;
		//~ cout<<c<<a<<b<<endl;
		if (c == "S"){
			ll i = a, j = b;
			cout<<query(j + 1) - query(i)<<endl;
		}
		else if (c == "G"){
			ll i = a, v = b;
			update(i + 1, v);
		}
		else if (c == "T"){
			ll i = a, v = b;
			update(i + 1, -v);
		}
	}
	return 0;
}