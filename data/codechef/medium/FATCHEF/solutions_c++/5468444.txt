
#include<bits/stdc++.h>
#include<algorithm>
#define mod 1000000009
#define gc getchar_unlocked
using namespace std;
int scan();
int scan()
{
register int c=gc();
int x=0;
for(;c<'0' || c>'9';c=gc());
for(;c>='0' && c<='9';c=gc())
x=(x<<1)+(x<<3)+c-'0';
return x;
}
int main()
{
	int t;
	t=scan();
	while(t--)
	{
	    int n,m;
		n=scan();
        m=scan();
		 int s[m],i,j=0,k,l;
		 long long int ans=1;
		char a[n];
		//G=m;
		while(m--)
		{
			char ch;
			long long int y;
			scanf("%c",&ch);
            y=scan();
			a[y-1]=ch;
			s[j++]=y-1;
			
		}
		sort(s,s+j);
		for(i=0;i<j-1;i++)
		{
		   if(a[s[i]]!=a[s[i+1]])
		   ans=((ans)%mod*(s[i+1]-s[i])%mod)%mod;
		}
		
	printf("%lld\n",ans%mod);
	}
	return 0;
}   