#include<iostream>
#include<cstdio>
#include<vector>
#include<algorithm>
using namespace std;
struct bucket
{
    char color;
    int pos;
}temp;
vector<bucket> myarr[15];
int myfun(bucket a,bucket b)
{
    return a.pos<b.pos;
}
int main()
{
    int tc,t;
    scanf("%d",&t);
    for(tc=0;tc<t;tc++)
    {
        int i,N,M,y;
        char ch[2];
        scanf("%d%d",&N,&M);
        for(i=0;i<M;i++)
        {
            scanf("%s%d",ch,&y);
            temp.color=ch[0];
            temp.pos=y;
            myarr[tc].push_back(temp);
        }
        sort(myarr[tc].begin(),myarr[tc].end(),myfun);
    
        long long int ans,x,mod=1000000009;
        ans=1;
        for(i=0;i<M-1;i++)
        {
            if(myarr[tc][i].color!=myarr[tc][i+1].color)
            {
                x=myarr[tc][i+1].pos-myarr[tc][i].pos;
                ans=(ans*x)%mod;
            }
        }
        printf("%lld\n",ans);
    }
    return 0;
}