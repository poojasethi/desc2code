#include<iostream>
#include<stdio.h>
#define mod 1000000009LL

using namespace std;

int color[100009];

void init(int n)
{
    for(int i=0;i<n+2;i++)
    {
        color[i]=0;
    }
}

long long int pro(int n,int m)
{
    long  long int ans = 1;
    long long int diff=0;
    int a1=0,a2=0;
    int prev =0;
    for(int i=0;i<=n;i++)
    {
         if(color[i]!=0 && a1==0)
         {
             a1 = i;
             prev=color[i];
         }
         else if(color[i] !=0 && a1!=0 && prev!= color[i])
         {
            diff = i - a1;
            a1 = i;
            prev = color[i];
           // if(ans >= mod)
            ans = (ans * diff)%mod;
         }
         else if(color[i]!=0 && a1!=0 && prev == color[i])
         {
               a1 =i;
         }
    }

    return ans;
}

int main()
{
      int t=0;
      int n,m;
      int y;
      char c;

      cin>>t;

      while(t--)
      {
          scanf("%d%d",&n,&m);
          init(n);
          for(int i=0;i < m; i++)
          {
               cin>>c;
               scanf("%d",&y);
               color[y] = c;
          }

          printf("%lld\n",pro(n,m));
      }
}
