#include <iostream>
#include <string>
#include <vector>

using namespace std;

typedef long long int llint;

int mod=1000000009;

int main(){


	int t;
	scanf("%d\n",&t);
	while(t--){
		int n,m;
		scanf("%d %d\n",&n,&m);

		vector<int> buckets(n,-1);
		for(int i=0;i<m;i++){
			char c;
			int temp;
			scanf("%c %d\n",&c,&temp);
			buckets[temp-1]=c;
		}

		int firstFlag=0;
		int prevColor;
		int prevIndex;
		llint prod=1;
		for(int i=0;i<n;i++){
			if(buckets[i]!=-1){
				if(firstFlag==0){
					firstFlag=1;
					prevColor=buckets[i];
					prevIndex=i;
				}
				else{
					if(buckets[i]!=prevColor){
						prod=(prod*(llint)(i-prevIndex))%mod;
					}
					prevIndex=i;
					prevColor=buckets[i];
				}
			}
		}

		cout<<prod<<endl;
	}


	return 0;
}