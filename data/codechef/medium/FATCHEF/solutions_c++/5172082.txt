#include<iostream>
#include <cstdio>
#include<cstring>
using namespace std;
int main()
{
	int n,m,pos;
	unsigned long long ans;
	int i,j;
	int t;
	unsigned long  long mod=1000000009;
	scanf("%d",&t);
	//cin>>t;
	while(t--)
	{
		char ch;
		char fence[100002]={0};
		scanf("%d",&n);
		scanf("%d",&m);
			
		for( i=0; i<m; i++)
		{
			do ch =getchar();
			while(isspace(ch));	
		    scanf("%d",&pos);
			fence[pos-1]=ch;
			
		}
		ans =1;
		for ( j=0;j<n;j++)
			if(fence[j])
				break;
		for(i=j+1; i<n;i++)
		{
			if(fence[i])
			{
				if(fence[i]!=fence[j])
				 ans =( ans*(i-j))%mod;
				 j=i;
			}
		}
		//cout <<ans<<endl;
		printf("%llu\n",ans);
	}
	return 0;
}