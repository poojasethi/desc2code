    #include<algorithm>
    #include<iostream>
    #include<cstdio>
    #include<string.h>
    #define LL long long
    #define gc getchar_unlocked
    #define pc putchar_unlocked
    using namespace std;
    inline void scanint(int &x)
    {
    register int c = gc();
    x = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
    }
 inline void print(long long a)
{
char num[20];
long long i=0;
do
{
num[i++]=a%10+48;
a=a/10;
}while(a!=0);
i=i-1;
while(i>=0)
putchar_unlocked(num[i--]);
putchar_unlocked('\n');
}
 
     
    int main(){
    int t;
    scanint(t);
    while(t--){
    char a[100005],ch,c;
    int n,m,k = 0;
    LL res = 1;
    scanint(n);scanint(m);
    memset(a,'$',100000);
    for(int i=0;i<m;i++){
    ch = gc();
    scanint(k);
    a[k-1] = ch;
    }
    
    int i =0;
    k = 1;
    while(a[i]=='$'&&i<n){
    i++;
    }
    ch = a[i++];
    while(i<n){
    if(a[i] == '$'){
    k++;
    }
    else{
    if(a[i] != ch){
    if(res*k>1000000009)
    res=(res*k)%1000000009;
    else
    res=(res*k);
    }
    ch = a[i];
    k = 1;
    }
    i++;
    }
    print(res);
   
    }
    } 