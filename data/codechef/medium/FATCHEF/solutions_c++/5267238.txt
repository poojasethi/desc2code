#include<stdio.h>
int main()
{
int t, n, m, y = 0, prev_bucket;
long long int poss;
char color, prev_color;
int i, j;
char bucket[100000];
scanf("%d", &t);
for(i=0; i<t; i++)
{
poss = 1;
scanf("%d %d", &n, &m);
for(j=0; j<n; j++)
bucket[j] = '\0';
for(j=0; j<m; j++)
{
scanf(" %c %d", &color, &y); // note the space before %c to consume any whitespace in the buffer
bucket[y-1] = color;
}
int counter = 0;
for(j=0; j<n; j++)
{
if(bucket[j]!='\0')
{
if(counter && bucket[j] != prev_color)
poss = (poss * (j - prev_bucket)) % 1000000009;
prev_color = bucket[j];
prev_bucket = j;
counter++;
}
}
printf("%lld\n", poss);
}
return 0;
} 
