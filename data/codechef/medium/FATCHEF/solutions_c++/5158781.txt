#include <iostream>
#include <cstring>
#include <cstdio>
#define gc getchar_unlocked

#define mod 1000000009
using namespace std;
 
inline void scanint(int &xx)
{
    register int c = gc();
    xx = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {xx = (xx<<1) + (xx<<3) + c - 48;}
}
 
int main() {
	int T;
	cin >> T;
	while(T--)
	{
		char arr[100006];
		memset(arr, '#', 100001);
		int N, M, pos, pos1, temp;
		long long int ans = 1;
		char x;
		char y;
		//cin >> N >> M;
		//scanint(N);scanint(M);
		scanf("%d %d\n",&N , &M);
		temp = M;
		//cout << "hi" << endl;
		while(temp--) {
			//x = gc();
            //scanint(pos);
			//cin >> x >> pos;
			//x = getchar();
			//cout << x << endl;
			//scanf("%lld", &pos);
			//cout << pos << endl;
			scanf("%c %lld\n",&x ,&pos);
			arr[pos-1] = x;
		}
		//for(int i = 0;i<N;i++)
          //  cout << arr[i] << " ";
		//cout << "hi" << endl;
		temp = 0;
		int k = 1;
		for(;arr[temp]=='#';temp++);
		y = arr[temp++];
		while(temp < N) {
			if(arr[temp] == '#') {k++;}
			else {
				if(y != arr[temp]) {
					if(ans*k > mod)
						ans = ans*k%mod;
					else
						ans*=k;
				}
				k = 1;
				y = arr[temp];
			}
			temp++;
		}
		cout << ans << endl;
	}
	return 0;
}