#include<iostream>
using namespace std;
int a[305][305][11];
main()
{
      int n,i,j,x1,x2,y1,y2,q,x,k;
      scanf("%d",&n);
      for(i=0;i<=n;i++)
         for(j=0;j<=10;j++)
          a[i][0][j]=0;
      for(i=0;i<=n;i++)
         for(j=0;j<=10;j++)
          a[0][i][j]=0;
      for(i=1;i<=n;i++){
          for(j=1;j<=n;j++){
               scanf("%d",&x); 
               for(k=1;k<=10;k++){
                    a[i][j][k]=a[i-1][j][k]+a[i][j-1][k]-a[i-1][j-1][k];
               }    
               a[i][j][x]++;
          }
      }
      scanf("%d",&q);
      while(q--){
           int p,count=0;
           scanf("%d %d %d %d",&x1,&y1,&x2,&y2);
           p=0;
           for(i=1;i<=10;i++){
               p=a[x1-1][y1-1][i]+a[x2][y2][i]-a[x2][y1-1][i]-a[x1-1][y2][i];
               if(p>0)
                  count++;
           }
           printf("%d\n",count);
      }         
      return 0;
}
