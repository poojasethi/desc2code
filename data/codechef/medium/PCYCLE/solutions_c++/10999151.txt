#include <iostream>
using namespace std;

int main() {
	int n,*a,begin,index,*b,j=0,count=0,value,i;
	cin>>n;
	//cout<<n<<endl;	
	a=new int[n+2];
	b=new int[2*n];
	for(i=0;i<n;i++)
	{
		cin>>a[i];
	//	cout<<a[i]<<" ";
	}
	for(i=0;i<n;i++)
	{
		if(a[i]!=-1)
		{
			begin=i+1;
			index=i;
			b[j++]=begin;
			while(a[index]!=begin)
			{
				value=index;
				b[j++]=a[index];
				index=a[index]-1;
				a[value]=-1;
			}
			b[j++]=begin;
			b[j++]=-1;
			a[index]=-1;
			count++;
			//cout<<count<<" ";
		}
	}
	cout<<count<<endl;
	index=0;
	for(i=0;i<j;i++){
	if(b[i]!=-1)
	cout<<b[i]<<" ";
	else
	cout<<endl;
	
	}
	return 0;
}