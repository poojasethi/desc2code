#include<iostream>
using namespace std;
int check(int b[],int n)
{
	int i;
	for(i=0;i<n;i++)
	{
		if(!b[i])
		break;
	}
	if(i==n)
	return 1;
	return 0;
}
int main()
{
	int n,i,count=0,j;
	scanf("%d",&n);
    int a[n];
    int b[n],s[n];
 //   int flag=0;
   // string str[n];
    for(i=0;i<n;i++)
    scanf("%d",&a[i]);
    for(i=0;i<n;i++)
    s[i]=-1;
    for(i=0;i<n;i++)
    b[i]=0;
    for(i=0;i<n;)
    {
    	if(!b[i])
    	{
    		if(s[count]==-1)
    		s[count]=i+1;
    		b[i]=1;
    		if(a[i]==s[count])
    		count++,i=0;
    		else
    		i=a[i]-1;
    	
		}
		else
	   {
	    	i++;
	   }
	}
	printf("%d\n",count);
	for(i=0;i<count;i++)
	{
		printf("%d ",s[i]);
		j=a[s[i]-1];
		printf("%d ",j);
		while(j!=s[i])
		{
		j=a[j-1];
		printf("%d ",j);
		}
	//	printf("%d\n",s[i]);
     	printf("\n");
		
		
		
	}
//	for(i=0;i<count;i++)
//	printf("%d ",s[i]);
   /* s=a[0];
    for(j=0;!check(b,n);)
    {
    	if(j==n)
    	j=0;
    	if(!b[j])
    	{
    		if(!flag)
    		s=j;
    		if(s==a[j])
    		j=0,count++;
    		b[j]=1;
    		j=a[j];
    		flag=1;
    	}
		else
	    {
		j++;
	    }
	}
    /*for(i=0;i<n;)
    {
    	for(j=0;j<n;)
    	{
    		if(!b[j])
    		{
    			if(flag=0)
    			str[count].push_back(a[j]);
    			str[count].push_back(" ");
    			j=a[j];
			}
			else 
			{
			flag=1;
			j++;
		    }
		}
		count++;
	}*/
//	printf("%d",count);
    
}