#include <iostream>
#include <algorithm>
using namespace std;
int main()
{
    int T=0, m =0, N=0, temp,i;
	
	
	scanf("%d",&N);
 
 
	
 
	int nArr[1001], nArrVisited[1001] = {0}, nOutput[10000];
	for(i=1;i<=N;i++)
	{			
		scanf("%d",&nArr[i]);
	}
	for(i=1;i<=N;i++)
	{
		if(!nArrVisited[i])
		{
			m++;
			temp = i;
			while(!nArrVisited[temp])
			{
				nOutput[T++] = temp; 
				nArrVisited[temp]= 1;
				temp = nArr[temp];
			}
			nOutput[T++] = temp;
			nOutput[T++] = 0; 
		}
	}
    nOutput[T++] = -1;
	printf("%d\n",m);
	i = 0;
	while(-1 != nOutput[i])
	{
		if(0 == nOutput[i])
			printf("\n");
		else
			printf("%d ", nOutput[i]);
            
		i++;
	}
	return 0;
}