#include<stdio.h>
int main()
{
   int n,i,arr[1005],k=0,brr[4000],top,j=1,temp,count=0,p=0;
   scanf("%d",&n);
   for(i=0;i<n;i++)
   scanf("%d",&arr[i]);
 
   for(i=0;i<n;i++)
   {
      if(arr[i]!=0)
      {
         count++;
         brr[k]=-1;
         k++;
         brr[k]=i+1;
         k++;
         top=i+1;
         j=i+1;
         do
         {
            brr[k]=arr[j-1];
            temp=j;
            j=arr[j-1];
            arr[temp-1]=0;
            k++;
         }while(arr[j-1]!=top&&arr[j-1]!=0);
         if(j!=temp)
         {
            brr[k]=top;
            arr[j-1]=0;
            k++;
         }
      }
   }
   brr[k]=-1;
   printf("%d",count);
   for(i=0;p<=count;i++)
   {
      if(brr[i]==-1)
      {printf("\n");p++;}
      else
      printf("%d ",brr[i]);
   }
   
}