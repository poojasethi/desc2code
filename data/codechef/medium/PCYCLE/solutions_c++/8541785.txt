#include<iostream>
#include<algorithm>
using namespace std;
int main(){
int n,k=1,c=0;
cin>>n;
int a[n+1],b[n+1];
for(int i=1;i<=n;i++){
	cin>>a[i];
	b[i]=0;
}
for(int i=1;i<=n;i++){
	if(b[i]==0){
		c++;
		b[i]==1;
		k=a[i];
		while(k!=i){
			b[k]=1;
			k=a[k];
		}
	}}
cout<<c<<endl;
for(int i=1;i<=n;i++){
	if(b[i]==0){
		b[i]==1;
		k=a[i];
		cout<<i<<" ";
		while(k!=i){
			b[k]=1;
			cout<<k<<" ";
			k=a[k];
		}
		cout<<i<<endl;
	}
}
}