#include <iostream>
using namespace std;

int main()
{
    int n, i, j, k, a[1001],  l=0, temp, h=0, b[1002][1002];

    cin>>n;

    for (i=0; i<n; i++)
        cin>>a[i];

    a[i]=1002;

    for(k=0;a[k]!=1002; k++)
    {
        if (a[k]!=0)
        {

            for (j=k; a[j]!=0;)
            {
                b[l][h++]=j+1;
                temp=j;
                j=a[j]-1;
                a[temp]=0;
            }
            b[l][h++]=j+1;
            l++;
            h=0;
        }
    }

    cout<<l<<endl;

    for (i=0; i<l; i++)
    {
        for (j=0; b[i][j]!=0; j++)
            cout<<b[i][j]<<' ';

        cout<<endl;
    }

    return 0;
}
