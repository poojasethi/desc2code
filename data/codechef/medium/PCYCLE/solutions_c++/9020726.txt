#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
#define MOD 1000000007
int main()
{
	#ifndef ONLINE_JUDGE
        freopen("input.txt","r",stdin);
        freopen("output.txt","w",stdout);
    #endif
    int N,K = 0;
    scanf("%d",&N);
    vector<int> A(N+1);
    vector<bool> visited(N+1,0);
    vector<int> ans[N];
    for(int i = 1; i <= N; i++) scanf("%d",&A[i]);
    for(int i = 1; i <= N; i++) {
        if(visited[i] == 0) {
            while(visited[i] != 1) {
                ans[K].push_back(i);
                visited[i] = 1;
                i = A[i];
            }
            ans[K++].push_back(i);
        }
    }
    printf("%d\n",K);
    for(int i = 0; i < K; i++) {
        for(int j = 0; j < ans[i].size(); j++) {
            printf("%d ",ans[i][j]);
        }
        printf("\n");
    }
    #ifndef ONLINE_JUDGE
    cerr << "Time elapsed: " << 1.0 * clock() / CLOCKS_PER_SEC << " s.\n";
    #endif
    return 0;
}

