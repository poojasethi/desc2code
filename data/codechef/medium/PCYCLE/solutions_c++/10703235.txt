#include <iostream>
using namespace std;
int main() 
{
    int n,i,j,row=0,col,f;
	cin>>n;
	int a[n],b[n][n],visited[n];
	for(i=0;i<n;i++)
	{
	    cin>>a[i];
	    visited[i]=0;
	}
	for(i=0;i<n;i++)
	{
	    f=0;
	    j=i;
	    col=1;
	    while(visited[j]==0)
	    {
	        f=1;
	        b[row][col]=j+1;
	        col++;
	        visited[j]=1;
	        j=a[j]-1;
	    }
	    if(col!=1)
	    {
	        b[row][0]=col;
	        row++;
	    }
	}
	cout<<row<<"\n";
	for(i=0;i<row;i++)
	{
	    for(j=1;j<b[i][0];j++)
	    {
	        cout<<b[i][j]<<" ";
	    }
	    cout<<b[i][1]<<"\n";
	}
	return 0;
}
