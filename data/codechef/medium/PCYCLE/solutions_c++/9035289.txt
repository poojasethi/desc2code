#include<cstdio>
int main()
{
 int n;
 scanf("%d",&n);
 int a[n+1],i,count=0,c[1001]={0};
 for(i=1;i<=n;i++)
  scanf("%d",&a[i]);
 i=1;
 while(i<=n)
 {
   int j=i;
   while(j<=n && c[j]!=0)
     j++;
    if(j>n)
     break;
    int k=a[j];

    count++;
    c[j]=count;
    while(k!=j)
    {
      c[k]=count;
      k=a[k];

    }
    i++;

 }
 printf("%d\n",count);
 i=1;
 while(i<=count)
 {
  int j=1;
   while(c[j]!=i)
    j++;
  int k=a[j];
  printf("%d ",j);
  while(k!=j)
  {
   printf("%d ",k);
   k=a[k];
  }
printf("%d\n",j);

  i++;
}
return 0;
}
