#include <iostream>
 
using namespace std;
 
int main()
{
  int n,i,visited[1001]={0},matching[1001],length=0,s,cycles[100001],k=0;
  cin>>n;
  for (i=1;i<=n;i++) cin>>matching[i];
  for (i=1;i<=n;i++) {
      if (visited[i]==0) {
          //cout<<i<<" ";
          length++;s=matching[i];visited[i]=1;
          //cout<<s<<" ";
          while (s!=i) {
             visited[s]=1;
             //length++;
             s=matching[s];
             //cout<<s<<" ";
          }
        //cout<<endl;
      }
 
  }
  for (i=1;i<=1000;i++) visited[i]=0;
  cout<<length<<endl;
  for (i=1;i<=n;i++) {
      if (visited[i]==0) {
          cout<<i<<" ";
          length++;s=matching[i];visited[i]=1;
          //cout<<s<<" ";
          while (s!=i) {
             visited[s]=1;
             //length++;
             cout<<s<<" ";
             s=matching[s]; 
          }
          cout<<s<<" ";
        cout<<endl;
      }
 
  }
   return 0;
}