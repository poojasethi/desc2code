#include <iostream>
#include <cmath>
#include <string.h>
#include <stack>
using namespace std;


int main()
{
	int n;
	cin >> n;
	int arr[n+1];
	bool visited[n+1];
	int i;
	for (i=1;i<=n;i++)
	{
		cin >> arr[i];
		visited[i] = 0;
	}
	int str[3005];
	int j=1;
	str[0] = 1;
	int flag = 1;
	int count = 1;
	int start = 1;
	int temp = arr[start];
	visited[1] = 1;
	while(flag)
	{
		while(temp!=start)
		{
			visited[temp] = 1;
			str[j] = temp;
			j++;
			temp = arr[temp];
		}
		str[j] = temp;
		j++;

		for (i=1;i<=n;i++)
		{
			if (!visited[i])
				break;
		}
		if (i == n+1)
			flag = 0;
		else
		{
			count++;
			start = i;
			temp = arr[i];
			str[j] = 0;
			j++;
			str[j] = start;
			j++;
			visited[i] = 1;
		}
	}	

	cout << count << endl;
	for (i=0; i<j; i++)
	{
		if (str[i] != 0)
			cout << str[i] << " ";
		else
			cout << endl;
	}

	return 0;
}