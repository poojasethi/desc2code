#include <iostream>
#include<vector>
using namespace std;


int main()
{
      int n,a[1001],s[1001],m,i,j;
      vector<int> v[1000];
      cin>>n;
      for(i=1;i<=n;i++)
        cin>>s[i];
      for(i=1;i<=n;i++)
        a[i]=0;
        m=0;
      for(i=1;i<=n;i++)
      {
          j=i;
          if(a[i]==0)
          {
              while(a[j]!=1)
              {
                  v[m].push_back(j);
                  a[j]=1;
                  j=s[j];
              }
              v[m].push_back(j);
              m++;
          }
      }
      cout<<m<<"\n";
      vector<int>::iterator it;
      for(i=0;i<m;i++){
      for(it=v[i].begin();it<v[i].end();it++)
       {
           cout<<*it<<" ";
       }
       cout<<"\n";
      }
        return 0;
}
