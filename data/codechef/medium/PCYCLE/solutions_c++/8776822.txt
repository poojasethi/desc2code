#include<bits/stdc++.h>
using namespace std;
int visit[900000];
int arr[900000];
vector<int>track[100000];
int count1;
void check(int);
int main()
{
int n;int i,j;
cin>>n;
for(i=1;i<=n;i++)
{
	cin>>arr[i];
}
for(i=0;i<=n;i++)
{
	visit[i]=-1;
}
count1=0;
for(i=1;i<=n;i++)
{
	if (visit[i]==-1)
	{
		//cout<<"\n\n";
	count1++;
	check(i);
	}
}
cout<<count1<<"\n";
for(i=1;i<=count1;i++)
{
	for(j=0;j<track[i].size();j++)
	cout<<track[i][j]<<" ";
	cout<<"\n";
}
	return 0;
}//main

void check(int pos)
{
	//cout<<pos<<" "<<count1<<"\n";
if (visit[pos]==-1)
{
track[count1].push_back(pos);
visit[pos]=1;
pos=arr[pos];
check(pos);
}
else
track[count1].push_back(pos);
}