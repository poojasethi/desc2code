n = input()
temp = map(int, raw_input().split())
ct = 0
arr = []
for i in range(n):
	s = ''
	if(temp[i]!=0):
		c = temp[i]
		temp[i] = 0  
		if(c == (i+1)):
			k = c
			s+=str(c)+' '+str(c)
		else:
			k = temp[c-1]
			temp[c-1] = 0
			s+= str(i+1) + ' ' + str(c) + ' '
			while(k!=(i+1)):
				s+= str(k) + ' '
				l = k
				k = temp[k-1]
				temp[l-1] = 0
			s+= str(i+1)
		arr.append(s)
		ct+=1
print ct
for i in arr:
	print i
