inp=1
lister=[]
ans=0
for i in range(inp) :
	n=int(raw_input())
	LG=['']
	str=raw_input()
	LG+=(str.split())
	reached=[]
	for j in range(n+1) :
		reached+='0'
	k=1
	while k<=n :
		if reached[k]=='0' :
			ans+=1
			pos=k
			cnt=0
			while reached[pos]=='0' :
				lister.append((pos))
				cnt+=1
				reached[pos]='1'
				pos=int(LG[pos])
			lister.append((pos))
			lister+='\n'
		k+=1
print ans
for i in lister:
	print i,