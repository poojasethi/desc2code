def work(out):
    vis=[False]*(n+1)
    tot=0
    for i in xrange(1,n+1):
        if vis[i]:
            continue
        tot+=1
        x=i
        while not vis[x]:
            if out:
                print x,
            vis[x]=True
            x=a[x]
        if out:
            print i
    return tot


n=int(raw_input())
a=[0]+map(int,raw_input().split())
print work(False)
work(True)
