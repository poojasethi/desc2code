n=int(raw_input())
input1=[int(p) for p in raw_input().strip().split()]
cycles=[]
count=0
list1=[False for i in xrange(n)]
while list1!=[True for i in range(n)]:#one cycle
    cycle=[]#initialize a cycle
    for i in xrange(len(list1)):
        if list1[i]==False:
            start=i
            break#where do we start from?
    cycle.append(start)
    list1[start]=True
    next=input1[start]-1
    while start!=next:
        cycle.append(next)
        list1[next]=True
        item=next
        next=input1[item]-1
    cycle.append(next)
    count+=1
    for k in xrange(len(cycle)):
        cycle[k]=str(cycle[k]+1)
    cycles.append(cycle)
print count
for e in xrange(len(cycles)):
    print " ".join(cycles[e])
