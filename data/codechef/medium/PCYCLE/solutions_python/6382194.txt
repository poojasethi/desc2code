from sys import stdin

''' slow code
def cycles(array):
	indices = range(1, len(array)+1)
	#print indices
	result = []
	while len(indices) > 0:
		cycles = []
		sindex = indices.pop(0)
		cycles.append(sindex)
		value = array[sindex-1]
		while value != sindex:
			cycles.append(value)
			indices.remove(value)
			value = array[value-1]
		cycles.append(value)
		result.append(cycles)
	return len(result), result
'''

def cycles(array):
	visit = [False]*(len(array))
	result = []
	for i in range(len(array)):
		if visit[i]:
			continue
		cycle = [i+1]
		next = i+1
		while not visit[next-1]:
			visit[next-1] = True
			next = array[next-1]
			cycle.append(next)
		result.append(cycle)
	return len(result), result

N = int(stdin.readline())
array = map(int, stdin.readline().split())
ncycles, result = cycles(array)
print ncycles
for cycle in result:
	print ' '.join([str(c) for c in cycle])