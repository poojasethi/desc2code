n=input()
perm=[0]+map(int,raw_input().split())

cycles,num_cycles={},0
visited=[False for i in range(n+1)]

for i in range(1,n+1):
    if not visited[i]:
        start=i
        visited[i]=True
        curr=perm[start]
        cycles[start]=[start]
        cycles[start].append(curr)
        while curr!=start:
            visited[curr]=True
            curr=perm[curr]
            cycles[start].append(curr)
        num_cycles+=1


print num_cycles
for i in sorted(cycles.keys()):
    
    for j in cycles[i]:
        print j,
    print

