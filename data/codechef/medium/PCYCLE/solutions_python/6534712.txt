def pcycle():
    
    lengthOfPermutation = int(raw_input())
    permList = map(int, raw_input().split())
    permList.insert(0, 0)
    tempList = []
    checkList = [0]
    cycleList = []
    numCycles = 0
    
    for i in xrange(1,lengthOfPermutation+1):
        if permList[i] not in checkList:
            pos = i
            val = permList[pos]
            tempList.append(pos)
            checkList.append(val)
            isTrue = True
            while (isTrue):
                pos = val
                val = permList[pos]
                tempList.append(pos)
                if (val not in checkList):
                    checkList.append(val)
                else:
                    isTrue = False
                    numCycles += 1
                    cycleList.append(tempList)
                    tempList = []
                    
        else:
            continue
        
    
    print numCycles
    for x in cycleList:
        cycleStr = ""
        for y in x:
            cycleStr = cycleStr + str(y) + " "
        print cycleStr.strip()
    
    pass

pcycle()