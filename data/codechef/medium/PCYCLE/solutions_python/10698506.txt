N = int(raw_input())
perm = map(int,raw_input().split())
visited = [0] * (N)
cyclelist = list()
while True:
	firstnum = 0
	for i in range(N):
		if visited[i] == 0:
			firstnum = i + 1
			break
	if firstnum == 0:
		break
	newcycle = list()
	newcycle.append(firstnum)
	visited[firstnum - 1] = 1
	nextnum = perm[firstnum - 1]
	while nextnum != firstnum:
		newcycle.append(nextnum)
		visited[nextnum - 1] = 1
		nextnum = perm[nextnum - 1]
	newcycle.append(nextnum)
	cyclelist.append(newcycle)
print len(cyclelist)
for c in cyclelist:
	print ' '.join(map(str, c))
