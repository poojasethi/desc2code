import sys
n = int(sys.stdin.readline())
s = map(int,str(sys.stdin.readline()).split())
t = [False for x in xrange(n)]
t1=[]
T=[]
for i in xrange(n):
	t1=[]
	if t[i]==True:
		continue
	t[i]=True	
	temp=i
	a=i
	while True:
		t1.append(a)
		a=s[a]
		a-=1
		if a==temp:
			
			break
		t[a]=True
	t1.append(a)
	
	T.append(t1)
print len(T)
for x in  T:
	for y in x:
		print y+1,
	print '\n',		
	
	
	
			
		

