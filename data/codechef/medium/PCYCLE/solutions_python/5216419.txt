N = int(raw_input())
inp = raw_input()
p = map(int,inp.split())
n = range(1,N+1)
v = [0]*N
c = 0
ANS = []
i = 0
while(c<N):
    i = 0
    while(v[i] == 1):i+=1
    
    v[i] = 1
    c += 1

    
    s = n[i]
    t = p[s-1]
    st = str(s)+' '
    while t!= s:
        v[t-1] = 1
        c += 1
        st += str(t)+' '
        t = p[t-1]
    st += str(t)

    ANS.append(st)
print len(ANS)
for st in ANS: print st
        
