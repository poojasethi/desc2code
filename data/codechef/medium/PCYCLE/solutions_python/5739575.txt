import sys

T = int(sys.stdin.readline().strip())
p = map(int,sys.stdin.readline().strip().split())

outputList = []

TraversedList = []
count = 0
for i in range(len(p)):
	if i+1 in TraversedList:
		continue
	count += 1	
	startElement = i+1
	TraversedList.append(startElement)
	
	currentElement = p[i]
	output =  str(startElement) + " " + str(currentElement)
	
	while currentElement != startElement:
		TraversedList.append(currentElement)
		currentElement = p[currentElement-1]
		output = output + " " +str(currentElement)
	outputList.append(output)

print count
for i in outputList:
	print i