#include<bits/stdc++.h>

using namespace std;
typedef long long int lli;

int main(void)
{
    int t; scanf("%d",&t);
    while(t--)
    {
        int n; lli k; scanf("%d %lld",&n,&k);
        
        lli a[n],b[n],product[n],ict=0,nict[n];
        
        for(int i=0;i<n;i++)
           scanf("%lld",&a[i]);
        
        for(int i=0;i<n;i++)
           scanf("%lld",&b[i]);
           
        for(int i=0;i<n;i++)
        {
            product[i]=a[i]*b[i];
            
            ict+=product[i];
        }
        
        for(int i=0;i<n;i++)
        {
          if(product[i]>0)
          {
              if(a[i]>0)
                 a[i]+=k;
              else if(a[i]<0)
                a[i]-=k;
              
          }
          if(product[i]<0)
          {
              if(a[i]>0)
                a[i]-=k;
              else if(a[i]<0)
                a[i]+=k;
          }
          if(product[i]==0)
          {
              if(b[i]>0)
                a[i]+=k;
              else if(b[i]<0)
                a[i]-=k;
           }
        nict[i]=ict-product[i]+(a[i]*b[i]);
    }
    
    lli m=nict[0];
    for(int i=0;i<n;i++)
    {
       if(nict[i]>m)
         m=nict[i];
    }
    
    cout<<m<<endl;
   }
   
   return 0;
}