#include <stdio.h>
#include <stdlib.h>
#include <vector>
#include <algorithm>

using namespace std;

int main(){
	int n,m,p,i,j,k,x,y,a,b,c,d;

	scanf("%d", &n);
	scanf("%d", &m);
	scanf("%d", &p);

	vector< vector<int> > v(n+1);

	int *q;
	q=(int*)calloc(n+1,sizeof(int));

	while(p--){
		scanf("%d", &i);
		scanf("%d", &j);

		v[i].push_back(j);
		q[i]++;
	}

	for(i=1;i<n+1;i++){
		if(q[i]==0 || m==1)
			x=m-1;
		else{
			sort(v[i].begin(), v[i].end());

			for(d=0,j=0;v[i][j]==v[i][j+1] && j<q[i]-1;j++);

			d=j-d;
			c=v[i][j-d];
			d=c+d+1;

			if(c==1){
				a=c;
				b=d;
				x=0;
			}
			else{
				x=d-1;
				a=c;
				b=d;
			}

			j++;

			for(;j<q[i] && x!=-1;j++){
				d=j;

				for(;v[i][j]==v[i][j+1] && j<q[i]-1;j++);

				d=j-d;
				c=v[i][j-d];
				d=c+d+1;

				if(c-a==1){
					if(b<d+1)
						x=x+d-b;
					else
						x=-1;
				}
				else{
					if(b<a+2){
						x=x+a+1-b;
						x=x+d-a-1;
					}
					else
						x=-1;
				}

				a=c;
				b=d;
			}

			if(x!=-1){
				if(a==m);
				else{
					if(b<a+2){
						x=x+a+1-b;
						x=x+m-a-1;
					}
					else
						x=-1;
				}
			}
		}

		printf("%d\n", x);
	}

	for(i=0;i<n+1;i++)
		v[i].clear();

	v.clear();

	free(q);

	return 0;

}