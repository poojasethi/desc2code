#include <stdio.h>
#include <vector>
#include <algorithm>

using namespace std;

int k[100005][3];
vector<int> k2[100005];

int main() {
	
	int n, m, p;
	scanf(" %d %d %d", &n, &m, &p);
	
	for(int i=0; i<n; i++) {
		k[i][0] = 1;
		k[i][1] = m;
	}
	
	for(int i=0; i<p; i++) {
		int a, b;
		scanf(" %d %d", &a, &b);
		k2[a-1].push_back(b-1);
	}
	
	for(int i=0; i<n; i++)
		sort(k2[i].begin(), k2[i].end());
	
	for(int i=0; i<n; i++) {
		
		int d1=0, d2=0;
		
		int sm = 0;
		bool valid = true;
		
		for(int j=0; j<k2[i].size();) {
			
			if(sm > 0 && k2[i][j] > k2[i][j-1]+1) {
				valid = false;
				break;
			}
			
			int s=1;
			j++;
			while(j < k2[i].size() && k2[i][j] == k2[i][j-1]) {
				j++;
				s++;
			}
			
			if(s < sm) {
				valid = false;
				break;
			}
			
			sm = max(s-1, 0);
			
			if(k2[i][j-1] == 0) {
				d1+=s;
			}
			
			if(k2[i][j-1] == m-1) {
				d2+=s;
			}
		}
		
		if(sm > 0 && k2[i][k2[i].size()-1] < m-1)
			valid = false;
		
		if(valid)
			printf("%d\n", (k[i][1]+d2)-(k[i][0]+d1));
		else
			printf("%d\n", -1);
	}
	
	return 0;
}