#include<bits/stdc++.h>
 
#define LL long long
#define vi vector<int>
#define pb push_back
#define sz size
#define all(x) (x).begin(),(x).end()
#define it iterator
#define REP(i,a,b) for(int i=(a);i<(b);i++)
#define REPX(i,a,b,c) for(int i=(a);i<(b);i+=(c))
#define DEP(i,a,b) for(int i=(a)-1;i>=(b);i--)
#define REX(i,x) for(__typeof((x).begin()) i=(x).begin(); i!=(x).end();i++)
#define pii pair<int,int>
#define mp make_pair
#define fi first
#define se second
#define st string
#define ffo find_first_of
#define su substr
#define vs vector<st>
#define ub upper_bound
#define lb lower_bound
#define ni next_int
#define gu getchar_unlocked
#define MAX 100010
using namespace std;
pii x[MAX]; int val[MAX];
int next_int()
{
	char c=gu(); int n=0;
	while(!(c>='0' && c<='9')) c=gu();
	
	while(c>='0' && c<='9')
	{
		n=(n<<3)+(n<<1)+c-'0';
		c=gu();
	}
	return n;
}
struct comp
{
	bool operator()(const pii &x,const pii &y)
	{
		return x.fi<y.fi || (x.fi==y.fi && x.se>y.se);
	}
};
 
int main()
{
	int n=ni(),m=ni(),p=ni(),q=0,r,prev,v;
    REP(i,0,p) { x[i].fi=ni(); x[i].se=ni(); }
    sort(x,x+p,comp());
    REP(i,0,n) val[i]=m-1;
    //REP(i,0,p) printf("%d %d\n",x[i].fi,x[i].se);
    if(m>1)
    {
	    REP(i,0,p)
	    {
	    	if(x[i].fi>q) q=x[i].fi;
	    	r=m+1; prev=0; v=m-1;
	    	while(i<p && x[i].fi==q)
	    	{
	    		 int curr=0,s=x[i].se; pii t=mp(q,s);
		         while(i<p && x[i]==t) { curr++; i++; }
		         if(s==m) v+=curr;
		         else if(r-s>1 && curr>1) v=-1;
		         else if(r-s==1 && curr-prev>1) v=-1;
		         else if(s==1 && v!=-1) v-=curr;
		         prev=curr; r=s;
	    	}
	    	val[q-1]=v; i--;
	    }
    }
    REP(i,0,n) printf("%d\n",val[i]);
    return 0;
}