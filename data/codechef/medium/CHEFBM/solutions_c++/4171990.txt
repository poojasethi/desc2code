#include<bits/stdc++.h>
#define ll long long
using namespace std;
int main(){
ll n,m,p;
cin>>n>>m>>p;
map <pair<ll,ll>,ll> mp;
map <pair<ll,ll>,ll>::iterator it;
map <pair<ll,ll>,ll>::iterator nit;
ll arr[100001];
for(ll j=0;j<n;j++){
arr[j]=m-1;
}
for(ll j=0;j<p;j++){
ll a,b;
cin>>a>>b;
mp[make_pair(a-1,b-1)]++;
if(b-1==0)
arr[a-1]--;
if(b-1==m-1)
arr[a-1]++;
}

for(it=mp.begin();it!=mp.end();it++){
nit=it;
if(++nit!=mp.end()){
if((it->first).first==(nit->first).first){
if((it->first).second+1==(nit->first).second){
if(it->second>(nit->second)+1)
arr[(it->first).first]=-1;
}
else{
if(it->second>1)
arr[(it->first).first]=-1;
}
}
else{
if((it->first).second!=m-1&&(it->second)>1)
arr[(it->first).first]=-1;
}
}
else{
if((it->first).second!=m-1&&(it->second)>1)
arr[(it->first).first]=-1;
}

}
for(ll j=0;j<n;j++){
cout<<arr[j]<<endl;
}

    return 0;
}
