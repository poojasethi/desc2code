#include <iostream>
#include <vector>
#include <cstdio>
#include <algorithm>
using namespace std;
vector <pair<int,int> >v[100005];
vector <int> d;
int mat[100005];
int main()
{   
    int n,m,p,x,y,i,j;
    scanf("%d %d %d",&n,&m,&p);
    for (i=1;i<=p;i++) {
        scanf("%d %d",&x,&y);
        v[x].push_back(make_pair(y,1));
        if (y<m) {
            v[x].push_back(make_pair((y+1),0));
        }
        if (y>1) {
            v[x].push_back(make_pair((y-1),0));
        }
    }
    for (i=1;i<=n;i++) 
        if (v[i].size()) {
            v[i].push_back(make_pair(1,0));
            v[i].push_back(make_pair(m,0));
            for (j=0;j<v[i].size();j++) {
                mat[v[i][j].first]=v[i][j].first;
            }
            for (j=0;j<v[i].size();j++) {
                mat[v[i][j].first] += v[i][j].second;
            }
            d.clear();
            for (j=0;j<v[i].size();j++) {
                d.push_back(v[i][j].first);
            }
            sort (d.begin(), d.end());
            d.resize (unique(d.begin(),d.end())-d.begin());
            int ans=0;
            for (j=1;j<d.size();j++) {
                ans += mat[d[j]]-mat[d[j-1]];
                if (mat[d[j]]<mat[d[j-1]]) {
                    ans=-1;
                    break;
                }
            }
        printf("%d\n",ans);
        }
        else printf("%d\n",(m-1));
     
   return 0;
}
