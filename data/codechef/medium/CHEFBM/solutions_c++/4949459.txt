#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;

int  main()
{
 int n,m,p,i,x,y,j,scount,ecount,size,pcount,count,flag;

 
 scanf("%d%d%d",&n,&m,&p);
   vector<int> a[n+1];

 for(i=0;i<p;i++)
 {
  scanf("%d%d",&x,&y);
  a[x].push_back(y);
 }

 for(i=1;i<=n;i++)
 {
  flag=0;
  size=(int)a[i].size();
  if(size==0)
   printf("%d\n",m-1);
  else
  {
   sort (a[i].begin(), a[i].end()); 
   scount=1;ecount=m;
   j=0;
   while(a[i][j]==1)
   {
    j++; 
    scount++;
    if(j==size)
     break;
   }
   j=size-1;
  while(a[i][j]==m)
  {
   j--;
   ecount++;
   if(j<0)
    break;
  }
  pcount=0;
  count=1;
  for(j=1;j<size;j++)
  {
   if(a[i][j]==a[i][j-1])
    count++;
   else if(pcount>(count+1))
   { flag=1;break;}
   else if(a[i][j]>(a[i][j-1]+1) && count>1) ///pcount
    {flag=1;break;}
   else {pcount=count;count=1;}
  }
  if(  (flag==1 || (a[i][size-1]!=m && count>1) || pcount>(count+1) ) &&m!=1  ) //brkct
   printf("-1\n");
  else
   printf("%d\n",ecount-scount);
  }
 }
 return 0;
}
