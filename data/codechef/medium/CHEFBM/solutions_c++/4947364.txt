    #include<iostream>
    #include<vector>
    using namespace std;
    vector< vector<int> >a(100005);
    int count[100005];
    int main()
    {
    int n,m,p,k,l,j,i,x,y,flag;
    long long sum;
    cin>>n>>m>>p;
    for(i=0;i<p;i++)
    {
    cin>>x>>y;
    a[x].push_back(y);
    }
    for(i=0;i<100001;i++)
    count[i]=i;
    for(i=1;i<=n;i++)
    {
    j=a[i].size();
    for(k=0;k<j;k++)
    {
    count[a[i][k]]++;
    }
    sum=0;
    flag=0;
    for(k=0;k<j;k++)
    {
    int u=count[a[i][k]];
    if(a[i][k]!=m)
    {
    if(u>count[a[i][k]+1])
    {flag=1;
    break;}
    }
    }
    if(flag==1)
    cout<<-1<<"\n";
    else
    cout<<count[m]-count[1]<<"\n";
    for(k=0;k<j;k++)
    count[a[i][k]]=a[i][k];
    }
    return 0;
    } 