#include<iostream>
#include<stdio.h>
#define mod 1000000007
int main()
{
    int test,i;
    scanf("%d\n",&test);
    for(i=0;i<test;i++)
    {
        long long int j=1,level=0;
        char ch;
        while((ch=getchar())!='\n')
        {
            level++;
            if(level%2==0)
            {
                if(ch=='l')
                {
                    j=j*2-1;
                }
                else if(ch=='r')
                    j=j*2+1;

            }
            else
            {
                if(ch=='l')
                {
                    j*=2;
                }
                else if(ch=='r')
                    j=j*2+2;
            }
            j%=mod;
        }
         j%=mod;
        printf("%lld\n",j);
    }
    return 0;
}
