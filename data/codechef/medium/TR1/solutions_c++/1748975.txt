#include <iostream>
#include <vector>
#include <cstdio>
using namespace std;

int dfs(int t, int sum1, vector< vector<int> > &v, vector< vector<int> > &v1, vector <int> &v2)
{
    v2[t] = 1; int sumt = sum1;
    for (int l = 0; l < v[t].size(); l++)
    {
        if (v2[v[t][l]] == 0)
        {
            v1[t].push_back(1);
            v1[t][l] = v1[t][l] + dfs(v[t][l], 0, v, v1, v2);
            sumt += v1[t][l];
        }
        else
            v1[t].push_back(0);
    }
    return sumt;
}

int main()
{
    int T;
    scanf("%d", &T);

    for (int i = 1; i <= T; i++)
    {
        vector< vector<int> > v(10001); vector< vector<int> > v1(10001);
        vector <int> v2(10001, 0);

        int n, temp1, temp2;
        long long sum = 0, sum1, sum2;
        scanf("%d", &n);

        v[0].push_back(1); v[1].push_back(0);
        for (int j = 1; j < n; j++)
        {
            scanf("%d %d", &temp1, &temp2);
            v[temp1].push_back(temp2);
            v[temp2].push_back(temp1);
        }

        dfs(0, 0, v, v1, v2);

        for (int k = 1; k <= n; k++)
        {
            sum1 = sum2 = 0;
            for (int l = 0; l < v1[k].size(); l++)
            {
                sum1 += ((v1[k][l])*(v1[k][l]-1))/2;
                sum2 += v1[k][l];
            }
            sum1 = ((sum2)*(sum2-1))/2 - sum1;
            sum += 2*k*(sum2+sum1) + k;
            sum = sum%1000000007;
        }
        printf("%lld%c", sum, '\n');
    }
    return 0;
}