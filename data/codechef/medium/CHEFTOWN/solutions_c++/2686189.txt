#include<iostream>
#include<cstdio>
#include<queue>
#include<vector>
using namespace std;
//vector <int> deque;
int scanInt()
{
int noRead=0;
char p=getchar_unlocked();
for(;p<33;){p=getchar_unlocked();};
while(p>32)
{
noRead = (noRead << 3) + (noRead << 1) + (p - '0');
p=getchar_unlocked();
}
return noRead;
};

std::vector<int> v;
std::deque<int> my_queue;
void mini(int a[],int n,int w)
{
    int i;
    my_queue.push_back(0);
    for(i=1;i<w;i++)
    {
        while(!my_queue.empty()&&a[my_queue.back()]>=a[i])
        my_queue.pop_back();
        my_queue.push_back(i);
    }
    for(;i<n;i++)
    {
        v.push_back(a[my_queue.front()]);
        if(my_queue.front()<=i-w)
        my_queue.pop_front();

        while(!my_queue.empty()&&a[my_queue.back()]>=a[i])
        my_queue.pop_back();
        my_queue.push_back(i);
    }
    v.push_back(a[my_queue.front()]);
}
int main()
{
    int a[400005],ans=0,n;
    long long int sum=0,min,w;
    n = scanInt();
    w = scanInt();
    for(int i = 0; i < n; i ++)
    a[i]=scanInt();
  //  scanf("%d",&h[i]);
    mini(a,n,w);
    for(int i=0;i<w;i++)
    {
        sum+=a[i];
        //cout<<sum<<" ";
    }
    for(int i=0;i<=n-w;i++)
    {
        min=v[i];
        if(sum==(min*w+(w)*(w-1)/2))
        ans++;
        sum-=a[i];
        if(i!=n-w)
        sum+=a[i+w];
    }
    cout<<ans<<endl;
    return 0;
}
