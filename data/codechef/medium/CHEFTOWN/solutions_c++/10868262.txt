#include<iostream>
#include<cstdio>
#include<deque>
using namespace std;
int main(){
    //while(true){
   int n,w,temp;
   int ans=0,current,curMax,curMin;
   deque<int> maxx,minn;
   scanf("%d%d",&n,&w);
   int arr[n];
   for(int i=0;i<w;i++){
      scanf("%d",&arr[i]);
      current=arr[i];
      while(!maxx.empty() && arr[maxx.back()]<=current)  maxx.pop_back();
      maxx.push_back(i);
      while(!minn.empty() && arr[minn.back()]>=current)  minn.pop_back();
      minn.push_back(i);
      //printf("%d %d")
   }
  // printf("%d %d %d %d\n",maxx.front(),maxx.back(),minn.front(),minn.back());
   curMax=arr[maxx.front()];
   curMin=arr[minn.front()];
   if((curMax-curMin+1)==w) ans++;
   for(int i=w;i<n;i++){
    scanf("%d",&arr[i]);
      current=arr[i];
      if(maxx.front()<=i-w) maxx.pop_front();
      if(minn.front()<=i-w) minn.pop_front();
      while(!maxx.empty() && arr[maxx.back()]<=current) maxx.pop_back();

      maxx.push_back(i);

      while(!minn.empty() && arr[minn.back()]>=current) minn.pop_back();
      minn.push_back(i);

      curMax=arr[maxx.front()];
      curMin=arr[minn.front()];
      if((curMax-curMin+1)==w)ans++;
   }
   printf("%d",ans);
    //}
   return 0;
}
