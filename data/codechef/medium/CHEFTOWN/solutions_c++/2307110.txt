#include<iostream>
#include<cstdio>
#include<queue>
#include<deque>
#include<map>
#include<vector>
#include<stack>
using namespace std;
#define SIZE 400001
typedef vector<int> VI;

//VI minq,maxq,iq;
deque<int> minq,maxq;
queue<int> iq;

void q_push(int item)
{
	while(!minq.empty()&&minq.back()>item)
	{
		minq.pop_back();
	}
	while(!maxq.empty()&&maxq.back()<item)
	{
		maxq.pop_back();
	}
	minq.push_back(item);
	maxq.push_back(item);
	iq.push(item);
}

int q_pop()
{
	int ret = iq.front();
	//int ret = iq.deque();
	if(ret==minq.front())
	{
		minq.pop_front();
		//minq.deque();
	}
	if(ret==maxq.front())
	{
		maxq.pop_front();
		//maxq.deque();
	}
	iq.pop();
	return ret;
}

int q_min()
{
	return minq.front();
}

int q_max()
{
	return maxq.front();
}
int main()
{	
	int n,w,a[SIZE],max[SIZE],min[SIZE],count=0;
	scanf("%d",&n);
	scanf("%d",&w);
	for(int i=0;i<n;i++)
	{
		scanf("%d",&a[i]);
	}
	for(int i=0;i<w;i++)
	{
		q_push(a[i]);
	}
	min[0]=q_min();	
	max[0]=q_max();
	//count++;
	for(int i=w;i<n;i++)
	{
		q_push(a[i]);
		q_pop();
		min[i-w+1]=q_min();
		max[i-w+1]=q_max();
	}
	for(int i=0;i<(n-w+1);i++)
	{
		if(max[i]-min[i]+1==w)
		count++;
	}
	printf("%d\n",count);
	return 0;
}
