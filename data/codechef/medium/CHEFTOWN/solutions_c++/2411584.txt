#include <stdio.h>
#include<deque>
using namespace std;

typedef unsigned long long int64;
int64 expected(int64 a, int64 w){
    int64 sum = w*a + ((w-1)*w)/2;
    return sum;
}

main()
{
    int64 sum = 0,w,n,min,count=0;
    scanf("%llu %llu",&n,&w);
    int64 a[n];
    for (int64 i=0; i<n; i++) {
        scanf("%llu",&a[i]);
    }
    deque<int> Q;
    for (int64 i = 0; i < w; i++) {
        sum = sum + a[i];
        while (!Q.empty() && a[i] < a[Q.back()])
            Q.pop_back();
        Q.push_back(i);
    }
    min = a[Q.front()];
    if (sum==expected(min,w)) {
        count++;
    }
    for (int64 i=w; i<n; i++) {
        while (!Q.empty() && a[i] < a[Q.back()])
            Q.pop_back();
        Q.push_back(i);
        while (!Q.empty()&&Q.front()<=i-w) {
            Q.pop_front();
        }
        sum = sum - a[i-w];
        sum = sum + a[i];
        
        min = a[Q.front()];
        if (sum==expected(min,w)) {
            count++;
        }
    }
    printf("%llu\n",count);
}