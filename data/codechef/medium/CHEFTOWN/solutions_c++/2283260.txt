#include<iostream>
#include<cstdlib>
#include<deque>
#define LL long long
#define get getchar_unlocked
using namespace std;

inline void scan( int &N )
{
    N = 0;
    int ch=get();
    int sign = 1;
    while( ch < '0' || ch > '9' )  {  if ( ch == '-' ) sign = -1;  ch=get();  }
    while( ch >= '0' && ch <= '9' ) N=(N<<3)+(N<<1)+ch-'0', ch=get();
    N = N*sign;
}

int main()
{
    int N, W, Count = 0;
    scan( N );
    scan( W );
    int a[N];
    for ( int i = 0; i < N; i++ )   scan( a[i] );
    deque< int > dQ;
    LL sum = 0,k = W;

    for ( int i = 0; i < W; i++ )
    {
        while ( !dQ.empty() && dQ.back() > a[i] ) dQ.pop_back();
        dQ.push_back( a[i] );
        sum += a[i];
    }
    if ( sum - k*(LL)dQ.front() == (k*(k-1))/2 ) Count++;

    for ( int i = W; i < N; i++ )
    {
        while ( !dQ.empty() && dQ.back() > a[i] ) dQ.pop_back();
        dQ.push_back( a[i] );
        if ( dQ.front() == a[i-W] ) dQ.pop_front( );

        sum += (a[i] - a[i-W]);
        if ( sum - k*(LL)dQ.front() == (k*(k-1))/2 ) Count++;
    }
    printf( "%d", Count );
    return 0;
}