#include <cstdio>
#include <deque>
#include <queue>

#define MAX 400010

using namespace std;

class Queue{
	queue<int> numbers;
	deque<int> minVal;
	deque<int> maxVal;

	public:
	void push(int num){
		numbers.push(num);
		while(!minVal.empty() && minVal.back() > num) minVal.pop_back();
		minVal.push_back(num);
		while(!maxVal.empty() && maxVal.back() < num) maxVal.pop_back();
		maxVal.push_back(num);
	}
	void pop(){
		int num = numbers.front();
		numbers.pop();
		if (minVal.front() == num) minVal.pop_front();
		if (maxVal.front() == num) maxVal.pop_front();
	}
	int getMin(){
		return minVal.front();
	}
	int getMax(){
		return maxVal.front();
	}
};

int main(){
	int N, W;
	scanf("%d %d", &N, &W);

	Queue seg;
	int i = 0, min[MAX], max[MAX];
	for (; i < W; i++){
		int a;
		scanf("%d", &a);
		seg.push(a);
	}
	for(;i < N; i++){
		min[i-W] = seg.getMin(); max[i-W] = seg.getMax();
		seg.pop();
		int a;
		scanf("%d", &a);
		seg.push(a);
	}
	min[i-W] = seg.getMin(); max[i-W] = seg.getMax();

	int count = 0;
	for(int i = 0; i <= N-W; i++) if (max[i]-min[i] == W-1) count++;
	printf("%d", count);
	return 0;
}
