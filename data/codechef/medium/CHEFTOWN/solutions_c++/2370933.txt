#include<iostream>
#include<cstdio>
#include<deque>
using namespace std;
int height[500000];
int main()
{
    deque<int> p,q;
    int n,w,i,j,count=0;;
    scanf("%d%d",&n,&w);
    for(i=0; i<n; i++)
        scanf("%d",&height[i]);


    for(i=0; i<w; i++)
    {
        while(!p.empty()&& height[i]<height[p.back()])
            p.pop_back();
        p.push_back(i);
        while(!q.empty()&& height[i]>height[q.back()])
            q.pop_back();
        q.push_back(i);

    }
    if(height[q.front()]-height[p.front()]==w-1)
        count++;
    for(i=w; i<n; i++)
    {
        while(!p.empty()&& height[i]<height[p.back()])
            p.pop_back();
        while(!p.empty() && p.front()<=i-w)
            p.pop_front();
        p.push_back(i);
        while(!q.empty()&& height[i]>height[q.back()])
            q.pop_back();
        while(!q.empty() && q.front()<=i-w)
            q.pop_front();
        q.push_back(i);
        if(height[q.front()]-height[p.front()]==w-1)
            count++;
    }
    printf("%d",count);

    return 0;
}
