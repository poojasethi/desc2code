#include <iostream>
#include<vector>
#include<deque>
using namespace std;

int main() {
	ios_base::sync_with_stdio(false);
long long int a,b,c,count=0;
cin>>a>>b;
vector<long long int> v;
for(long long int i=0;i<a;i++)
{cin>>c;
v.push_back(c);
}
long long int k;
deque<long long int> low;
deque<long long int> high;
for(k=0;k<b;k++)
{while(!low.empty()&&low.back()>v[k])
low.pop_back();
low.push_back(v[k]);

while(!high.empty()&&high.back()<v[k])
high.pop_back();
high.push_back(v[k]);
}
while(k<a)
{
	if(high.front()-low.front()==b-1)
	count++;

if(low.front()==v[k-b])
low.pop_front();

if(high.front()==v[k-b])
high.pop_front();

while(!low.empty()&&low.back()>v[k])
low.pop_back();
low.push_back(v[k]);


while(!high.empty()&&high.back()<v[k])
high.pop_back();
high.push_back(v[k]);
k++;
}
if(high.front()-low.front()==b-1)
	count++;
	
	cout<<count;
	// your code goes here
	return 0;
}