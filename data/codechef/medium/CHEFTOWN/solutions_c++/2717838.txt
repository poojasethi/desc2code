#include <iostream>
#include<deque>
#include<cstdio>
using namespace std;

int main()
{
   deque<int> mindeque,maxdeque;
   int n,arr[400002],window,i,max,min,count=0;

   scanf("%d%d",&n,&window);

   for(i=1;i<=n;i++)
   scanf("%d",&arr[i]);



   for(i=1;i<=window;i++)
   {
       while((!maxdeque.empty())&&arr[i]>=arr[maxdeque.back()])
       {
           maxdeque.pop_back();
       }

       maxdeque.push_back(i);


        while((!mindeque.empty())&&arr[i]<=arr[mindeque.back()])
       {
           mindeque.pop_back();
       }

       mindeque.push_back(i);
   }

   for(;i<=n;i++)
   {
       max=arr[maxdeque.front()];
       min=arr[mindeque.front()];
      // printf("%d\n",min);
       if(max-min==window-1) count++;

      while((!maxdeque.empty())&&(i-maxdeque.front()>=window))
       {
           maxdeque.pop_front();
       }

       while((!maxdeque.empty())&&arr[i]>=arr[maxdeque.back()])
       {
           maxdeque.pop_back();
       }


       while((!mindeque.empty())&&(i-mindeque.front()>=window))
       {
           mindeque.pop_front();
       }

       while((!mindeque.empty())&&arr[i]<=arr[mindeque.back()])
       {
           mindeque.pop_back();
       }




       maxdeque.push_back(i);
       mindeque.push_back(i);
   }

       max=arr[maxdeque.front()];
       min=arr[mindeque.front()];
       //printf("%d",min);
       if(max-min==window-1) count++;

printf("%d",count);


}
