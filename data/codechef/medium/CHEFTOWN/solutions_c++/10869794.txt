#include<bits/stdc++.h>
using namespace std;
int main()
{  // while(true){
    int num,height,window,i,count=0;
    scanf("%d%d",&num,&window);
    deque<pair<int,int> > maxx,minn;
    for(i=0;i<num;++i)
    {   scanf("%d",&height);
        if(i-window>=0)
        {
        if(maxx.front().second<=i-window)
         maxx.pop_front();
        if(minn.front().second<=i-window)
        minn.pop_front();
        }
        while(!maxx.empty() && maxx.back().first<=height ) maxx.pop_back();
            maxx.push_back(make_pair(height,i));
        while(!minn.empty() && minn.back().first>=height) minn.pop_back();
        minn.push_back(make_pair(height,i));
        //printf("2. %d %d\n",maxx.front().first,minn.front().first);
        if(i-window+1>=0 && (maxx.front().first-minn.front().first+1)==window)
            ++count;
    }
    printf("%d",count);
//}
    return 0;
}
