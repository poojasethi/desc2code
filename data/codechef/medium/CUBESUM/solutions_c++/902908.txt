#include <stdio.h>
//#include <string.h>
int main() {
    int tmp, test_cases, answer_value, my_index;
    int x, y, z, xoffset,yoffset, zoffset;
    scanf("%d", &test_cases);
    int * array_3D = new int[1000000];
    int * answers = new int[1000000];
    for (int current_case = 0 ; current_case < test_cases ; current_case++) {
        scanf("%d%d%d", &x, &y, &z);
        xoffset = y*z;
        yoffset = z;
        zoffset = 1;
        for (int i = 0 ; i < x ; i++) {
            for (int j = 0 ; j < y ; j++) {
                for (int k = 0 ; k < z ; k++) {
                    scanf("%d", &tmp);
                    my_index = xoffset*i + yoffset*j + zoffset*k;
                    array_3D[my_index] = tmp;
                    if (i!=0) {
                        if (j!=0) {
                            if (k!=0) {
                                answer_value = tmp - array_3D[my_index-yoffset] - array_3D[my_index-xoffset]
                                + array_3D[my_index-xoffset-yoffset] - array_3D[my_index-zoffset]
                                + array_3D[my_index-yoffset-zoffset] + array_3D[my_index-xoffset-zoffset]
                                - array_3D[my_index-xoffset-yoffset-zoffset];
                            } else {
                                answer_value = tmp - array_3D[my_index-yoffset] - array_3D[my_index-xoffset]
                                + array_3D[my_index-xoffset-yoffset];
                            }
                        } else {
                            if (k!=0) {
                                answer_value = tmp - array_3D[my_index-xoffset] - array_3D[my_index-zoffset]
                                + array_3D[my_index-xoffset-zoffset];
                            } else {
                                answer_value = tmp - array_3D[my_index-xoffset];
                            }
                        }
                    } else {
                        if (j!=0) {
                            if (k!=0) {
                                answer_value = tmp - array_3D[my_index-yoffset] - array_3D[my_index-zoffset]
                                + array_3D[my_index-yoffset-zoffset];
                            } else {
                                answer_value = tmp - array_3D[my_index-yoffset];
                            }
                        } else {
                            if (k!=0) {
                                answer_value = tmp - array_3D[my_index-zoffset];
                            } else {
                                answer_value = tmp;
                            }
                        }
                    }
                    answers[my_index] = answer_value;
                }
            }
        }
        for (int i = 0 ; i < x ; i++) {
            for (int j = 0 ; j < y ; j++) {
                for (int k = 0 ; k < z ; k++) {
                    printf("%d ", answers[xoffset*i + yoffset*j + zoffset*k]);
                    //array_3D[i][j][k] = 0;
                    //answers[i][j][k] = 0;
                }
                printf("\n");
            }
        }
    }
    delete[] array_3D;
    delete[] answers;
    return 0;
}
