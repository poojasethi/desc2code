#include<stdio.h>
#include<stdlib.h>
int main()
{
	int t,ti;
	int x,y,z,i,j,k;
	long ***B,***A,temp;
	scanf("%d",&t);
	for(ti=0;ti<t;ti++)
	{
		scanf("%d%d%d",&x,&y,&z);
		B=(long ***)malloc(x*sizeof(long **));
		A=(long ***)malloc(x*sizeof(long **));
		for(i=0;i<x;i++)
		{
			B[i]=(long **)malloc(y*sizeof(long *));
			A[i]=(long **)malloc(y*sizeof(long *));
			for(j=0;j<y;j++)
			{
				B[i][j]=(long *)malloc(z*sizeof(long));
				A[i][j]=(long *)malloc(z*sizeof(long));
				for(k=0;k<z;k++)
					scanf("%ld",&B[i][j][k]);
			}
		}
	
					
		for(i=0;i<x;i++)
		{
			for(j=0;j<y;j++)
			{
				temp=0;
				for(k=0;k<z;k++)
				{
					if(i&&j)
						A[i][j][k]=B[i][j][k]-B[i-1][j][k]-B[i][j-1][k]+B[i-1][j-1][k]-temp;
					else if(i)
						A[i][j][k]=B[i][j][k]-B[i-1][j][k]-temp;
					else if(j)
						A[i][j][k]=B[i][j][k]-B[i][j-1][k]-temp;
					else if(k)
						A[i][j][k]=B[i][j][k]-temp;
					else
						A[i][j][k]=B[i][j][k];
					temp+=A[i][j][k];
					
					printf("%ld ",A[i][j][k]);
				}
				printf("\n");
			}
		}
		
		for(i=0;i<x;i++)
		{
			for(j=0;j<y;j++)
			{
				free(B[i][j]);
				free(A[i][j]);
			}
			free(B[i]);
			free(A[i]);
		}
		free(B);
		free(A);
	}
	return 0;
} 