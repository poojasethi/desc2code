#include<bits/stdc++.h>
using namespace std;
int main()
{
	int i,j=0,k,r,x,n;
	cin>>n>>x;
	int arrR[n]={0};
	int arrC[n]={0};
	while(x--)
	{
		string s;
		cin>>s;
		cin>>r>>k;
		if(s[0]=='R')
		{
			arrR[r-1]+=k;
		}
		else
		{
			arrC[r-1]+=k;
		}
	}
	sort(arrR,arrR+n);
	sort(arrC,arrC+n);
	cout<<arrR[n-1]+arrC[n-1];
}