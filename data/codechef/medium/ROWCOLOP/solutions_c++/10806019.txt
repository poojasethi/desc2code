#include<stdio.h>
#include<stdlib.h>
int main()
{
   long long n,q,a,mr,mc,i,*r,*c,x;
   char s[7];
   scanf("%lld%lld",&n,&q);
   r=(long long *)calloc(n,sizeof(long long));
   c=(long long *)calloc(n,sizeof(long long)); 
    while(q--)
    {
        scanf("%s%lld%lld",s,&a,&x);
        if(s[0]=='R')
        {
            r[a-1]+=x;
        }
        else
        {
            c[a-1]+=x; 
        }
    }
    mr=r[0];
    mc=c[0];
    for(i=1;i<n;i++)
    {
        if(r[i]>mr)
        mr=r[i];
        if(c[i]>mc)
        mc=c[i];
    }
    printf("%lld",mr+mc);
    free(r);
    free(c);
    return 0;
}