// ROWCOLOP
#include<bits/stdc++.h>
using namespace std;
main()
{
	long long n,q,x,y;
	cin>>n>>q;
	long long row[n+1]={0},col[n+1]={0};
	char str[7];
	while(q--)
	{
		cin>>str>>x>>y;
		if(str[0]=='R')
			row[x]+=y;
		else
			col[x]+=y;
	}
	sort(row,row+n);
	sort(col,col+n);
		cout<<row[n-1]+col[n-1]<<endl;	
}