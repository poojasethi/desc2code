#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;

int main() {
  
    long N,Q;
    cin>>N>>Q;
    long long R[N]={0},C[N]={0};
    
    string op;
    long in,val;
    
    while(Q--)
    {
        cin>>op>>in>>val;
        if(op[0] == 'R')
           R[in-1]+=val;
        else
           C[in-1]+=val; 
    }    
    cout<<(*max_element(R,R+N))+(*max_element(C,C+N));
    
  return 0;
}
