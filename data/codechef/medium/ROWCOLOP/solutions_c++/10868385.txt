#include<stdio.h>
#include<string.h>
#define max 314160

int main()
{
	int n,q;
	scanf("%d %d",&n,&q);
	
	int row[n],column[n],i;
	
	char query[7];
	
	
	for(i=0;i<n;i++)
	{
		row[i]=0;
		column[i]=0;
	}
	
	while(q--)
	{
		
		int a,x;
	    int op=0;
	
		
		scanf("%s %d %d",query,&a,&x);
		
		if(query[0]=='R')
		{
			op=1;
		}
		else
		{
			op=2;
		}
		
		if(op==1)
		{
			row[a]+=x;
		}
		
		else if(op==2)
		{
			column[a]+=x;
		}
		
		
	}
	
	int largest=0,maxr=0,maxc=0;
	
	for(i=0;i<n;i++)
	{
		if(row[i]>=maxr)
		{
			maxr=row[i];
		}
		if(column[i]>=maxc)
		{
			maxc=column[i];
		}
	}
	
	largest=maxr+maxc;
	
	printf("%d",largest);
	
	return 0;
	
}