#include<stdio.h>
#include<iostream>
using namespace std;
int main()
{
    char c[6];
    long long int n,q,m,value,maximum1=0,maximum2=0;
    static int a[1000000]={0};
    static int b[1000000]={0};
    scanf("%lld %lld",&n,&q);
    for(int i=1;i<=n;i++)
    {
        a[i]=0;
        b[i]=0;
    }
    while(q--)
    {
        scanf("%s %lld %lld",c,&m,&value);
        if(c[0]=='R')
        {
            a[m]+=value;
        }
        else
        {
            b[m]+=value;
        }
    }
    for(int i=1;i<=n;i++)
    {
        if(a[i]>=maximum1)
        {
            maximum1=a[i];
        }
    }
    for(int i=1;i<=n;i++)
    {
        if(b[i]>=maximum2)
        {
            maximum2=b[i];
        }
    }
    cout<<maximum1+maximum2<<endl;
    return 0;
}
