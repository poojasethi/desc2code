#include<stdio.h>
#include<stdlib.h>
int main()
{
    char s[10];
    long int q,n,i;
    long long int *r,*c,rmax,cmax;
    int x;
    scanf("%ld%ld",&n,&q);
    r=(long long int*)calloc(n,sizeof(long long int));
    c=(long long int*)calloc(n,sizeof(long long int));
    while(q--)
    {
        scanf("%s%ld%d",s,&i,&x);
        i--;
        if(s[0]=='R')
            r[i]+=x;
        else
            c[i]+=x;
    }
    for(i=0,rmax=0,cmax=0;i<n;i++)
    {
        if(r[i]>rmax)
            rmax=r[i];
        if(c[i]>cmax)
            cmax=c[i];
    }
    free(r);
    free(c);
    printf("%lld",rmax+cmax);
    return 0;
}
