#include<stdio.h>
int main(){
	char c[15];
	long n,q,u,e,g,temp=0;
	long long rmax=0,cmax=0;
	int r,x;
	scanf("%ld %ld",&n,&q);
	long long row[n],col[n];
	for(e=0;e<n;e++){row[e]=0;col[e]=0;}
	for(u=1;u<=q;u++){
		scanf("%s %d %d",c,&r,&x);
		if(c[0]=='R'){
			row[r-1]+=x;
		}
		else{
			col[r-1]+=x;
		}
	}
	for(e=0;e<n;e++){
		if(row[e]>rmax)rmax=row[e];
		if(col[e]>cmax)cmax=col[e];
	}
	printf("%lld\n",rmax+cmax);
	return 0;
}