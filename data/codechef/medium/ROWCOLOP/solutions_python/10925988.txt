#include <bits/stdc++.h>
using namespace std;

int main() {
	int t;
	//scanf("%d",&t);
	//while(t--)
	{
	    int n,q;
	    scanf("%d %d",&n,&q);
	    long long int r[n],c[n],x,y;
	    for(int i=0;i<n;i++)
	    {
	        r[i]=0;
	        c[i]=0;
	    }
	    char b[8];
	    for(int i=0;i<q;i++)
	    {
	        scanf("%s",b);
	        fflush(stdin);
	        scanf("%lld %lld",&x,&y);
	        if(b[0]=='R')
	        r[x-1]+=y;
	        else
	        c[x-1]+=y;
	    }
	    long long maxR=0,maxC=0;
	    for(int i=0;i<n;i++)
	    {
	        maxR=(r[i]<maxR)?maxR:r[i];
	        maxC=(c[i]<maxC)?maxC:c[i];
	    }
	    printf("%lld\n",maxR+maxC);
	}
	return 0;
}
