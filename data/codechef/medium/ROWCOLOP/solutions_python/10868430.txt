#include<stdio.h>


int main()
{
int n, i, j, k, l, q, rc, x;
scanf("%d %d", &n, &q);
int row[n+1];
int col[n+1];
for(i=1;i<=n;i++)
{
row[i]=0;
col[i]=0;
}
int maxrow=0, maxcol=0;
for(i=0;i<q;i++)
{
char str[20];
scanf("%s %d %d", str, &rc, &x);
if(str[0]=='R')
{
row[rc]+=x;
if(row[rc]>maxrow)
maxrow=row[rc];
}
else
{
col[rc]+=x;
if(col[rc]>maxcol)
maxcol=col[rc];

}

}
printf("%d\n", maxcol+maxrow);
return 0;
}