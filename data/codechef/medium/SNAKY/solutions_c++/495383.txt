#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <algorithm>
#include <sstream>
#include <iostream>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <cstring>

using namespace std;

#define f(i, a, b) for(int i = a; i < b; i++)
#define rep(i, n) f(i, 0, n)

const int N = 1000000;

int T;
int rd[] = {-1, 0, 1, 0};
int cd[] = {0, 1, 0, -1};

int vr[N], vc[N];
char s[N + 1];
bool occ[1000][1000];

int main(){

    scanf("%d", &T); while(T--) {

        memset(occ, 0, sizeof(occ));

        int R, C, r, c, l;
        scanf("%d %d %d %d %d", &C, &R, &c, &r, &l);
        scanf("%s", s);

        r = R - r, c = c - 1;
        vr[0] = r, vc[0] = c;
        occ[r][c] = 1;

        int dir;
        f(i, 0, l - 1) {

            if(s[i] == 'U') dir = 0;
            if(s[i] == 'R') dir = 1;
            if(s[i] == 'D') dir = 2;
            if(s[i] == 'L') dir = 3;

            r += rd[dir];
            c += cd[dir];

            vr[i + 1] = r, vc[i + 1] = c;
            occ[r][c] = 1;

        }

        int steps = 0;
        int p0 = 0, p1 = l;
        while(1) {

            r += rd[dir];
            c += cd[dir];

            occ[vr[p0]][vc[p0]] = 0;
            p0++;

            if(r < 0 || r >= R || c < 0 || c >= C) {
                printf("WALL ");
                break;
            }
            if(occ[r][c]) {
                printf("BODY ");
                break;
            }

            vr[p1] = r, vc[p1] = c;
            p1++;

            occ[r][c] = 1;
            steps++;

        }

        printf("%d\n", steps);
    }
}
