
#include <stdio.h>

using namespace std;

bool mat[1002][1002] = { { false } };
int a[1002][1002] = { { 0 } };

int xf, yf;

void simulate(char * s, int x, int y, int l, int n, int m)
{
	int i, j, k;
	mat[x][y] = true;
	for(i = 0; i < l - 1; i ++)
	{
		switch(s[i])
		{
			case 'U':	y = y + 1;
					break;
			case 'D':	y = y - 1;
					break;
			case 'L':	x = x - 1;
					break;
			case 'R':	x = x + 1;
					break;
		}
		a[x][y] = i + 2;
		mat[x][y] = true;
	}
	xf = x;
	yf = y;
}

int main()
{
	int t;
	scanf(" %d", &t);
	while(t -- > 0)
	{
		int n, m, x, y, l, i, j;
		char s[1000001];
		scanf(" %d %d %d %d %d", &n, &m, &x, &y, &l);
		scanf(" %s", s);
		for(i = 0; i < n + 2; i ++)
			for(j = 0; j < m +2; j ++)
			{
				mat[i][j] = false;
				a[i][j] = 0;
			}
		simulate(s, x, y, l, n, m);
		switch(s[l - 2])
		{
			case 'U':	for(i = 1; i + yf < m + 1; i ++)
						if(mat[xf][i + yf] == true && a[xf][i + yf] > i)
							break;
					if(i + yf == m + 1)
						printf("WALL %d", i - 1);
					else
						printf("BODY %d", i - 1);
					break;
			case 'R':	for(i = 1; i + xf < n + 1; i ++)
						if(mat[i + xf][yf] == true && a[i + xf][yf] > i)
							break;
					if(i + xf == n + 1)
						printf("WALL %d", i - 1);
					else
						printf("BODY %d", i - 1);
					break;
			case 'D':	for(i = 1; - i + yf > 0; i ++)
						if(mat[xf][- i + yf] == true && a[xf][- i + yf] > i)
							break;
					if(- i + yf == 0)
						printf("WALL %d", i - 1);
					else
						printf("BODY %d", i - 1);
					break;
			case 'L':	for(i = 1; - i + xf > 0; i ++)
						if(mat[- i + xf][yf] == true && a[- i + xf][yf] > i)
							break;
					if(- i + xf == 0)
						printf("WALL %d", i - 1);
					else
						printf("BODY %d", i - 1);
					break;
		}
		printf("\n");
	}
	return 0;
}