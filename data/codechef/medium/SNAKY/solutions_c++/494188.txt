#include <stdio.h>


struct k
{
	int i, j;
};


int n;
int m;
int x;
int l;
int y;
int fin;
int inicio;
int movs[4][2] = {{-1,0},{0,1},{1,0},{0,-1}};
k cola[1000006];
bool mapa[1003][1003];

int main()
{
	int casos;
	scanf("%d", &casos);
	for(int r = 1; r <= casos; r++)
	{
		scanf("%d %d %d %d %d", &m, &n, &x, &y, &l);
		k pos;
			
		pos.i = n - y + 1;
		pos.j = x;
	
		char mov;
		scanf("%c", &mov);

		mapa[pos.i][pos.j] = true;
		cola[fin] = pos;
		int tipoMov;
		for(int paso = 1; paso < l; paso++)
		{
			
			scanf("%c", &mov);
			
		
			if (mov == 'U')
			{
				tipoMov = 0;
			}
			else if (mov == 'R')
			{
				tipoMov = 1;
			}
			else if (mov == 'D')
			{
				tipoMov = 2;
			}
			else if (mov == 'L')
			{
				tipoMov = 3;
			}
		
			pos.i += movs[tipoMov][0];
			pos.j += movs[tipoMov][1];
			
			mapa[pos.i][pos.j] = true;
			fin++;
			cola[fin] = pos;
			
		}
		scanf("%c", &mov);
				
		
		pos.i += movs[tipoMov][0];
		pos.j += movs[tipoMov][1];
		
		mapa[cola[inicio].i][cola[inicio].j] = false;
		inicio++;
				
		int res = 0;		
		while (!mapa[pos.i][pos.j] && !(pos.i > n || pos.i < 1 || pos.j > m || pos.j < 1))
		{								
			fin++;
			if (fin > 1000002)
				fin = 0;

			cola[fin] = pos;
			mapa[pos.i][pos.j] = true;
			
			mapa[cola[inicio].i][cola[inicio].j] = false;
			inicio++;
			if (inicio > 1000002)
				inicio = 0;
				
			res++;
			pos.i += movs[tipoMov][0];
			pos.j += movs[tipoMov][1];						
		}			
		
		if (pos.i > n || pos.i < 1 || pos.j > m || pos.j < 1)
			printf("WALL %d\n", res);
		else
			printf("BODY %d\n", res);	
		inicio = 0;
		fin = 0;			
		for(int i = 1; i <= n; i++)
		{
			for(int j = 1; j <= m; j++)
			{
				mapa[i][j] = false;
			}
		}
		
	}	
	return 0;
}



