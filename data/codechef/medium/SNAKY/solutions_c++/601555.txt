#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstdlib>
#include <cstring>
#include <string>
#include <vector>
#include <queue>
#include <stack>
#include <set>
#include <map>
#include <cmath>
#pragma comment(linker,"/STACK:16777216")
#define inf 1000000000
#define MP make_pair
using namespace std;
typedef long long L;
typedef unsigned long long UL;
const int size=1000010;
int A[1001][1001],t,n,m,x,y,l,px,py;
int dx,dy;
string C;

int main()
{
    cin>>t;
    while(t--){
        cin>>n>>m>>x>>y>>l;
        memset(A,0,sizeof(A));
        px=x; py=y;

        A[x][y]=1;
        cin>>C;
        l--;
        for(int i=0;i<l;i++){
            if(C[i]=='L')x--;
            else if(C[i]=='R')x++;
            else if(C[i]=='U')y++;
            else y--;
            A[x][y]=1;
        }

        if(C[l-1]=='U'){dx=0;dy=1;}
        else if(C[l-1]=='D'){dx=0;dy=-1;}
        else if(C[l-1]=='R'){dx=1;dy=0;}
        else{dx=-1;dy=0;}

        int step=0,idx=0;
        do{
            x+=dx;
            y+=dy;
            step++;
            A[px][py]=0;
            if(idx<l){
                if(C[idx]=='L')px--;
                else if(C[idx]=='R')px++;
                else if(C[idx]=='U')py++;
                else py--;
                idx++;
            }
        }while(x>=1&&x<=n&&y>=1&&y<=m&&!A[x][y]);
        if(x>=1&&x<=n&&y>=1&&y<=m)cout<<"BODY";
        else cout<<"WALL";
        cout<<" "<<step-1<<endl;

    }


    return 0;
}
