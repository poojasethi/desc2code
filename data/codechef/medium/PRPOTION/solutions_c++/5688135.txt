#include<stdio.h>
char max(int x,int y,int z)
{
    char ch;
    if(x>=y && x>=z)
        {
            ch='r';
            return ch;
        }
    else if(y>=x && y>=z)
        {
 
            ch='g';
            return ch;
        }
    else if(z>=x && z>=y)
        {
            ch='b';
            return ch;
        }
}
int main()
{
    int t,red,green,blue,m,i;
    char ch;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d%d%d",&red,&green,&blue,&m);
        int maxb=0,maxg=0,maxr=0,val,maxval;
        for(i=1;i<=red;i++)
            {
                scanf("%d",&val);
                if(maxr<val)
                    maxr=val;
            }
            for(i=1;i<=green;i++)
            {
                scanf("%d",&val);
                if(maxg<val)
                    maxg=val;
            }
            for(i=1;i<=blue;i++)
            {
                scanf("%d",&val);
                if(maxb<val)
                    maxb=val;
            }
           ch=max(maxr,maxg,maxb);
            while(m--)
            {
                if(maxg==0 && maxr==0 && maxb==0)
                {
                    maxval=0;
                    break;
                }
 
                if(ch=='r')
                  maxr=maxr/2;
                else if(ch=='g')
                    maxg=maxg/2;
                else if(ch=='b')
                    maxb=maxb/2;
                ch=max(maxr,maxg,maxb);
                if(ch=='r')
                    maxval=maxr;
                else if(ch=='g')
                    maxval=maxg;
                else if(ch=='b')
                    maxval=maxb;
                 /* printf("%d\n",maxval); */
 
            }
            printf("%d\n",maxval);
    }
    return 0;
}