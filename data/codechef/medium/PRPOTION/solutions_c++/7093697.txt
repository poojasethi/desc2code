#include<bits/stdc++.h>
#define in(t) scanf("%d",&t)
#define llin(t) scanf("%lld",&t)
#define out(t) printf("%d\n",t);
#define for(i,j,n) for(i=j;i<n;i++)
using namespace std;
int main()
{
	int t,i,n,m,r,g,b;
	long long rr,bb,gg,maxr,maxg,maxb,mx;
	in(t);
	while(t--)
	{
		in(r);
		in(g);
		in(b);
		in(m);
		maxr=maxg=maxb=0;
		for(i,0,r)
		{
			llin(rr);
			if(rr>maxr)
			{
				maxr=rr;
			}
		}
		for(i,0,g)
		{
			llin(gg);
			if(gg>maxg)
			{
				maxg=gg;
			}
		}
		for(i,0,b)
		{
			llin(bb);
			if(bb>maxb)
			{
				maxb=bb;
			}
		}
		while(m--)
		{
			if(maxr>=maxg && maxr>=maxb)
			{
				maxr/=2;
			}
			else if(maxg>=maxr && maxg>=maxb)
			{
				maxg/=2;
			}
			else if(maxb>=maxr && maxb>=maxg)
			{
				maxb/=2;
			}
		}
		mx=max(maxr,max(maxg,maxb));
		out(mx);
	}
}
