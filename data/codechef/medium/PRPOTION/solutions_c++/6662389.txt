#include<iostream>
using namespace std;
inline void Swap(long long int *p,long long int *q)
{
   long long int c;
   c=*p;
   *p=*q;
   *q=c;
}
int main()
{
   int T,R,G,B,M,i;
   long long int r,g,b,j;
   cin>>T;
   while(T--)
   {
      cin>>R>>G>>B>>M;
      for(r=i=0;i<R;i++)
      {
         cin>>j;
         if(r<j)
            r=j;
      }
      for(g=i=0;i<G;i++)
      {
         cin>>j;
         if(g<j)
            g=j;
      }
      for(b=i=0;i<B;i++)
      {
         cin>>j;
         if(b<j)
            b=j;
      }
      if(r<b)
      Swap(&r,&b);
      if(r<g)
      Swap(&r,&g);
      if(g<b)
      Swap(&b,&g);
      while(M--&&r)
      {
         r=r/2;
         if(r<g)
            Swap(&r,&g);
         if(g<b)
            Swap(&g,&b);
      }
      cout<<r<<endl;
   }
return 0;
}
