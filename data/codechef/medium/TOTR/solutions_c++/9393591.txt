#include<bits/stdc++.h>

using namespace std;

int main(void)
{
   int t; string m;
   cin>>t>>m;

   char arr[26],ARR[26];
   for(int i=0;i<26;i++)
   {
      arr[i]=m[i];
      ARR[i]='A'+(int)(m[i]-'a');
   }
   cout<<endl;
   while(t--)
   {
      string sen;
      cin>>sen;
      string ans="";

      for(int i=0;i<sen.length();i++)
      {
         if(sen[i]>='a' && sen[i]<='z')
         {
             ans+=arr[sen[i]-'a'];
         }
         else if(sen[i]>='A' && sen[i]<='Z')
         {
              ans+=ARR[sen[i]-'A'];
         }
         else if(sen[i]=='_')
         {
            ans+=' ';
         }
         else
         {
            ans+=sen[i];
         }
       }
      cout<<ans<<endl;
   }
   return 0;
}
