#include<bits/stdc++.h>
using namespace std;
int main()
{
	char s[101],root[27];
	char st=' ';
	int t,n,i,cal;
	map<char,char> m;
	scanf("%d",&t);
	cin>>root;
	for(i=0;i<26;i++)
	{
		m[(char)i+97]=root[i];
	}
	while(t--)
	{
		cin>>s;
		n=strlen(s);
		for(i=0;i<n;i++)
		{
			if(((s[i]>=65)&&((s[i]<=90)))||((s[i]>=97)&&(s[i]<=122)))
			{
				cal=0;
				if((s[i]>=65)&&(s[i]<=90))
				{
					cal=32;
				}	
				s[i]+=cal;
				printf("%c",m[s[i]]-cal);
			}
			else if(s[i]=='_')
				printf("%c",st);
			else
				printf("%c",s[i]);
		}
		printf("\n");
	}
	return 0;
}