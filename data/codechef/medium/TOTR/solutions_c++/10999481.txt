#include<iostream>
#include<string.h>
using namespace std;
int main()
{
	int t,i;
	string m;
	cin>>t;
	cin>>m;
	while(t--)
	{
		string s,e;
		e="abcdefghijklmnopqrstuvwxyz";
		cin>>s;
		int j,flag=0,temp,c=0;
		for(i=0;s[i]!='\0';i++)
		{
			if(s[i]=='_')
			s[i]=' ';
			else if(s[i]=='?'||s[i]=='!'||s[i]=='.'||s[i]==',')
			s[i]=s[i];
			else
			{
					if(isupper(s[i]))
					{
						s[i]=tolower(s[i]);
						temp=i;
						flag=1;
					}
				for(j=0;e[j]!='\0';j++)
				{
			
					if(s[i]==e[j])
					{
						s[i]=m[j];
						break;
					}
			
				}
				if(flag==1)
				{
					s[temp]=toupper(s[temp]);
				}
				
			}
			
		}
		cout<<s;
		cout<<endl;		
		
	}
	return 0;
}