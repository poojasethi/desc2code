#include<bits/stdc++.h>
using namespace std;
int main()
{
	//freopen ( "in" , "r" , stdin );
	int t ;
	string str, s ;
	cin >> t >> str ;
	while ( t-- )
	{
		string res ;
		cin >> s ;
		for( int i = 0 ; i < s.size() ; i++ )
		{
         if( s[i]>='A' && s[i]<='Z')
         {
            res += (str[ s[i]-'A']-'a'+'A')  ;
         }
         else if( s[i] >= 'a' && s[i]<='z')
         res += str[ s[i]-'a'] ;
          
         else if( s[i] == '_')
         	res += ' ';
          else
          	res+=s[i];
		}

         cout << res << endl ;
	}
}