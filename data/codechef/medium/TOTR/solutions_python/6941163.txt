t=raw_input().split()
m=t[1]
t=int(t[0])
for ii in range(t):
   n=raw_input()
   ans=""
   for i in n:
       if(ord(i) in range(65,91)):
          s=ord(i)-ord('A')
          ans=ans+chr(ord(m[s])-32)
       if(ord(i) in range(97,123)):
          s=ord(i)-ord('a')
          ans=ans+m[s]
       if(ord(i)==95):
          ans=ans+" "
       if(ord(i) not in range(65,91) and ord(i) not in range(97,123) and ord(i)!=95 ):
          ans=ans+i
   print ans