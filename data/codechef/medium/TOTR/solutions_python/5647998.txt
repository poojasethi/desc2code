(t,m) = raw_input().split()
t = int(t)
m = bytearray(m)
while t:
    s = bytearray(raw_input())
    for i in range(len(s)):
        if 65<=s[i]<=90:
            s[i]=m[s[i]-65]-32
        elif 97<=s[i]<=122:
            s[i]=m[s[i]-97]
        elif s[i]==95:
            s[i]=32
    print str(s)
    t-=1