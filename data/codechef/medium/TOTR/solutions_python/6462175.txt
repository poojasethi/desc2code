def translate(s, m):
	result = ""
	for ch in s:
		if ch >= 'A' and ch <= 'Z': 
			#대문자일 경우
			result += m[ord(ch)-ord('A')].upper()
		elif ch >= 'a' and ch <= 'z':
			result += m[ord(ch)-ord('a')]
		elif ch == '_':
			result += ' '
		else:
			result += ch
	return result

T, M = raw_input().split()
T = int(T)
for _ in range(T):
	S = raw_input()
	print translate(S, M)
