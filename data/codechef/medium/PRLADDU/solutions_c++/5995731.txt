#include <iostream>
#include <stdio.h>
#include <cstdlib>
 
using namespace std;
 
int main()
{
    int t,n,j,k,u,v,e;
    long long int count;
    scanf("%d",&t);
    while(t--)
    {
        j=0; k=0; u=0; v=0; count=0;
        scanf("%d",&n);
        int a[n],b[n],d[n];
        for(int i=0;i<n;i++)
        {
            scanf("%d",&d[i]);
            if(d[i]>0)
            {
                a[j]=i;
                j++;
            }
            else if(d[i]<0)
            {
                b[k]=i;
                k++;
            }
        }
        while(u<j)
        {
            if(d[a[u]]>(abs(d[b[v]])))
            {
                e=abs(a[u]-b[v]);
                count=count+(e*(abs(d[b[v]])));
                d[a[u]]=d[a[u]]-(abs(d[b[v]]));
                v++;
            }
            else if(d[a[u]]<(abs(d[b[v]])))
            {
                e=abs(a[u]-b[v]);
                count=count+(e*d[a[u]]);
                d[b[v]]=d[b[v]]+d[a[u]];
                u++;
            }
            else
            {
                e=abs(a[u]-b[v]);
                count=count+(e*d[a[u]]);
                u++; v++;
            }
        }
        printf("%lld\n",count);
    }
    return 0;
}