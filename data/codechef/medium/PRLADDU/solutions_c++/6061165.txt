#include <cstdio>
#include <iostream>
#include <cmath>

#define S(x) scanf("%d", &x)
#define SS(x) scanf("%s", &x)
#define MOD 1000000007

using namespace std;

void input() {
	#ifndef ONLINE_JUDGE
	freopen("F:\\Programs\\Codes\\C++\\in.txt","r",stdin);
	#endif
}

int abs(int a) {
	if(a > 0)return a;
	else return -a;
}

int main() {
	input();
	int t, n, x, start;
	long long int sum;
	int arr[100005], st[100005];
	S(t);
	while(t--) {
		S(n);
		for (int i = 0; i < n; ++i)
		{
			S(arr[i]);
		}
		x = 0;
		for (int i = 0; i < n; ++i)
		{
			if(arr[i] > 0){
				st[x] = i;
				x++;
			}
		}
		start = st[0];
		sum = 0;
		x = 0;
		for (int i = 0; i < n; ++i)
		{
			if(arr[i] < 0) {
				if(abs(arr[i]) == arr[start]) {
					sum = sum + abs((start - i)*arr[i]);
					arr[i] = arr[start] = 0;
					start = st[x+1];
					x++;
				} else if(abs(arr[i]) < arr[start]) {
					sum = sum + abs((start - i)*arr[i]);
					arr[start] += arr[i];
					arr[i] = 0;
				} else {
					while(abs(arr[i]) > arr[start]) {
						sum = sum + abs((start - i)*arr[start]);
						//cout << "sum = " << sum << endl;
						arr[i] += arr[start];
						arr[start] = 0;
						start = st[x+1];
						x++;
					}
					if(abs(arr[i]) == arr[start]) {
						sum = sum + abs((start - i)*arr[i]);
						arr[i] = arr[start] = 0;
						start = st[x+1];
						x++;
					} else if(abs(arr[i]) < arr[start]) {
						sum = sum + abs((start - i)*arr[i]);
						//cout << "sum= " << sum << endl;
						arr[start] += arr[i];
						arr[i] = 0;
					}
				}
			}
		}
		cout << sum << endl;
	}
	return 0;
}
