#include <iostream>
#include <cstdio>
#include <vector>
#include <algorithm>
#include <cstring>
using namespace std;
typedef pair<int,int> ii;
vector<ii> a;
vector<ii> x;
int p, q;
int n;
int main()
{
    scanf("%d", &n);
    while (n) {
        a.clear();
        x.clear();
        for (int i=0; i<n; i++) {
            scanf("%d%d", &p, &q);
            x.push_back(ii(p,q));
        }
        sort(x.begin(), x.end());
        for (int i=1; i<n; i++) {
            if (x[i].first == x[i-1].first) {
                a.push_back(ii(x[i].second, abs(x[i].second-x[i-1].second)));
            }
        }
        sort(a.begin(), a.end());
        long long ans = 0;
        long long temp = 1;
        for (int i=1; i<a.size(); i++) {
            if (a[i]==a[i-1]) temp++;
            else {
                ans = ans+(temp*(temp-1))/2;
                temp = 1;
            }
        }
        ans = ans+(temp*(temp-1))/2;
        printf("%lld\n", ans);
        scanf("%d", &n);
    }
    return 0;
}
