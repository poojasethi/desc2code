#include <cstdio>
#include <algorithm>
#include <cstdlib>

using namespace std;
const int MAXN = 100010;
typedef long long ll;
ll arr[MAXN];

int main() {
    int t, n; ll d;
    scanf("%d", &t);
    while(t--) {
        scanf("%d%lld", &n, &d);
        for (int i = 0; i < n; i++) scanf("%lld", arr + i);
        sort(arr, arr + n);
        ll sum = 0LL;
        for (int i = n - 1; i >= 1; ) {
            if ((arr[i] - arr[i - 1]) < d) {
                sum += arr[i] + arr[i - 1];
                i -= 2;
            }
            else i--;
        }
        printf("%lld\n", sum);
    }
    return 0;
}
