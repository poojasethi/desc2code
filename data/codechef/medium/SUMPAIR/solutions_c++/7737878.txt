#include<iostream>
#include<set>
#include<cstdio>
#include<vector>
#include<algorithm>
using namespace std;
int main()
{
    int t, n, d, i, temp;
    long long int sum;
    scanf("%d", &t);
    while(t--){
        scanf("%d%d", &n, &d);
        vector<int> v;
        while(n--){
            scanf("%d", &temp);
            v.push_back(temp);
        }
        n = v.size();
        sum = 0;
        sort(v.begin(), v.end());
        i = 0;
        for(i=n-1; i>0; i-=1){
            if(v[i] - v[i-1] < d){
                sum += v[i] + v[i-1];
                i -= 1;
            }
        }
        printf("%lld\n", sum);
    }
    return 0;
}
