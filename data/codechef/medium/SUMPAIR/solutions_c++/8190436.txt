#include<iostream>
#include<cstdio>
using namespace std;
void merge_(int *arr, int lo, int hi)
{
    int mid = (lo+hi)/2;
    int i=lo,j=mid+1;
    int b[hi-lo+1];
    int k = 0;
    while(i<=mid && j<=hi)
    {
        if(arr[i] > arr[j])
            b[k++] = arr[i++];
        else
            b[k++] = arr[j++];
    }
    if(i>mid)
        while(j<=hi)
           b[k++] = arr[j++];
    else
        while(i<=mid)
           b[k++] = arr[i++];
    for(i=0,j=lo;i<k;i++,j++)
        arr[j] = b[i];
}
void merge_sort(int *arr, int low, int hi)
{
    if(low < hi)
    {
        int mid = (low+hi)/2;
        merge_sort(arr, low, mid);
        merge_sort(arr,mid+1,hi);
        merge_(arr,low,hi);
    }
}
int main()
{
  int t,n,arr[100001],d;
  scanf("%d",&t);
  while(t--)
  {
      scanf("%d %d",&n,&d);
      for(int i=0; i<n; i++)
        scanf("%d",&arr[i]);
      merge_sort(arr,0,n-1);
      long long int sm = 0;
      for(int i=0;i<n-1;i++)
      {
          if(arr[i] - arr[i+1] < d)
          {
              sm+=arr[i]+arr[i+1];
              i++;
          }
      }
      printf("%lld\n",sm);
  }
  return 0;

}
