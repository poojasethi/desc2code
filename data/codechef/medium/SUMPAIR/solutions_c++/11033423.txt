    #include <iostream>
    #include<algorithm>
    using namespace std;
    int main()
    { long long t;
       scanf("%lld",&t);
       while(t--)
     {
     	long long t,n,i,m,r;
	   scanf("%lld %lld",&n,&m);
	   long long a[n];
      for(i=0;i<n;i++)
      {
	  scanf("%lld",&a[i]);
      }
      sort(a,a+n);
     
	r=0;
      for(i=n-1;i>=1; )
       
      { if((a[i]-a[i-1])<m)
        {
        r+=(a[i]+a[i-1]);
        i-=2;
        }
        else
        {i-=1;
        }
        
      }
      printf("%lld\n",r);
     }
     return 0;
    } 