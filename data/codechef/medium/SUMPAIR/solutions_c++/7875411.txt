#include<bits/stdc++.h>
using namespace std;
 
int main(){
        long long int t,i,j;
        cin>>t;
        while(t--){
            long long int n,d,sum=0;
            cin>>n>>d;
           long long  int a[n];
            for(i=0;i<n;i++){
                cin>>a[i];
            }
            sort(a,a+n);
            for(i=n-1;i>0;){
 
                    if(a[i]-a[i-1]<d){
                        sum=sum+a[i]+a[i-1];
                        i+=-2;
                    }
                    else
                    {
                       i+=-1;
                    }
 
            }
            cout<<sum<<endl;
        }
}
 