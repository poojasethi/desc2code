#include <bits/stdc++.h>
using namespace std;

int pow(int n){
    int ans=1;
    while(n--) ans*=2;
    return ans;
}

vector <int> a[21];

int check(int b[],int n){
    int ch[21]={0},ct=0;
    for(int i = 1; i <= n; i++){
        if(b[i]==1){
            ch[i]=1;
            for(int j = 0; j < a[i].size(); j++)ch[a[i][j]]=1;
        }
    }
    for(int i = 1; i <= n; i++){
        if(ch[i]) ct++;
    }
    if(ct==n) return 1;
    while(next_permutation(b+1,b+n+1)){
        int ch[21]={0},ct=0;
        for(int i = 1; i <= n; i++){
            if(b[i]==1){
                ch[i]=1;
                for(int j = 0; j < a[i].size(); j++) ch[a[i][j]]=1;
            }
        }
        for(int i = 1; i <= n; i++){
            if(ch[i]) ct++;
        }
        if(ct==n) return 1;
    }
    return 0;
}

int bin(int st,int en,int n){
    if(st==en) return st;
    else{
        int mid = (st+en)/2;
        int x[21];
        for(int i = 1; i <= n-mid; i++) x[i]=0;
        for(int i = n-mid+1; i <= n; i++) x[i]=1;
        if(check(x,n)){
            bin(st,mid,n);
        }else{bin(mid+1,en,n);}
    }
}
int main(){
    int t;
    scanf("%d",&t);
    while(t--){
        int n,m;
        scanf("%d %d",&n,&m);
        for(int i = 0; i <= n; i++) a[i].clear();
        for(int i = 0; i < m; i++){
            int x,y;
            scanf("%d %d",&x,&y);
            a[x].push_back(y);
            a[y].push_back(x);
        }
        int ans = bin(1,n,n);
        printf("%d \n",ans);
    }
}
