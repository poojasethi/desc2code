#include<stdio.h>
#include<vector>
#include<queue>
#include<string.h>
#define oo 1000000000
using namespace std;
typedef struct data
{
	int po;
	long long int d;
	long long int ori;
}data;
int main()
{
	vector <int> g[101];
	queue <int> q;
	data a[101];
	int friends,i,j,k,d,groups;
	char c[1000];
	long long int ans,min=oo;
	int index;
	scanf("%d",&groups);
	while(groups--)
	{
		min=oo;
		scanf("%d",&friends);
		for(i=1;i<=friends;i++)
		{
			g[i].resize(0);
			while(1)
			{
				scanf("%d%[ \n]",&d,c);
				g[i].push_back(d);
				if(c[strlen(c)-1]=='\n') break;
			}
		}
		for(i=1;i<=friends;i++)
		{
			for(j=1;j<=friends;j++)
				a[j].d=oo;
			ans=0;
			a[i].d=0;
			a[i].ori=0;
			q.push(i);
			while(!q.empty())
			{
				k=q.front();
				q.pop();
				for(j=0;j<g[k].size();j++)
				{
					if(a[g[k][j]].d==oo)
					{
						a[g[k][j]].d=a[k].d+1;
						ans+=a[g[k][j]].d;
						q.push(g[k][j]);
					}
				}
			}
			if(min>ans)
			{
				min=ans;
				index=i;
			}
		}
		float h=(float)min/friends;
		printf("%d %0.6f\n",index,h);
	}
	return 0;
}







			




