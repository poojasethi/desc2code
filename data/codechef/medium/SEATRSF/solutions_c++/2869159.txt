#include <cstring>
#include <iostream>
#include <stdio.h>
#include <cstdlib>
#include <cctype>
#include <algorithm>
#include <map>
#include <vector>
#include <list>
#include <set>
#include <queue>
#include <deque>
#include <stack>
#include <string>
#include <cmath>
using namespace std;
#define pb push_back
#define mp make_pair
#define mod 1000000007
#define ll long long
#define ff first
#define ss second
#define pr(x) printf("%d",x);
#define get getchar//_unlocked
inline long long inp()
{
    long long n=0,s=1;
    char p=get();
    if(p=='-')
    s=-1;
    while((p<'0'||p>'9')&&p!=EOF)
    p=get();
    while(p>='0'&&p<='9')
    {
    n = (n<< 3) + (n<< 1) + (p - '0');
    p=get();
    };
    return n*s;
}
ll power(ll a,ll b)
{
    ll r=1,x=a;
    if(a==0)return 0;
    while(b)
    {
        if(b&1)r=(r*x)%mod;
        x=(x*x)%mod;
        b>>=1;
    }
    return r;
}
 
int main()
{
    long long i,n,j,k,l,m,t,c=0,ans,q,p;
    t=inp();
    for(i=0;i<t;i++)
    {
         scanf("%lld%lld%lld%lld",&n,&m,&q,&k);
         if(n==1)
         {
             printf("0\n");continue;
         }
         if(q+1>m){ printf("0\n");continue;}
         l=m-q;
          p=power(q+1,n);
         j=power(q,n);
         j=(j*2)%mod;
         k=power(q-1,n);
         p=(p-j+k+2*mod)%mod;
         ans=(l*p)%mod;
         printf("%lld\n",ans);
    }
    return 0;
}
 