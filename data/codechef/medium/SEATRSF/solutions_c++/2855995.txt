#include <cstdio>
#include <algorithm>
#include<iostream>
#include<cassert>
using namespace std;

const int MOD = 1000000007;
typedef long long int ull;



long long int exp(long long int a, long long int e)
{
     long long int res=1;
     while(e>0){
                if(e&1)
                      res=(res*a)%MOD;
                e=e>>1;
                a=(a*a)%MOD;
                }
     return res;
     }

int main()
{
    int T;
    for (scanf("%d", &T);T --;) 
	{
        ull n, m, q, k;
        scanf("%lld%lld%lld%lld", &n, &m, &q, &k);
        ull a,b,c,d;
        ull x = m - q;
        if(x<0)x=0;
        long long int y = 0;
        if (q == 0) {
            y = 1;
        } else {
            
			a=exp(q+1,n);
			b=exp(q,n);
			c=exp(q-1,n);
			d=2*(MOD-b)%MOD;
			
			y=a;
			y=(y+ d )%MOD;
			y=(y+c +MOD)%MOD;
			
        }
        y=(y*x)%MOD;
        
        printf("%lld\n", y);
    }
}