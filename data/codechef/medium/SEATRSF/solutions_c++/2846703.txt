#include<cstdio>
#include<iostream>
using namespace std;
#define MOD 1000000007
long long int power(int n,int m){
    long long int ans=1;
    if(m==0)
        return (1%MOD);
    ans=power(n,m/2);
    ans=(ans*ans)%MOD;
    if(m&1) ans=(n*ans)%MOD;
    return ans;
}
int main(){
    int tc,k;
    long long n,m,q,a,b,c,ans=0;
    scanf("%d",&tc);
    while(tc--){
        scanf("%lld%lld%lld%d",&n,&m,&q,&k);
        if(q>=m||n==1 & q!=0)
            printf("0\n");
        else{
            a=q+1;
            b=q;
            c=q-1;
            a=power(a,n);
            b=power(b,n);
            c=power(c,n);
            ans=(a+c)%MOD-(2*b)%MOD+MOD;
            ans=(ans*(m-q))%MOD;
            printf("%lld\n",ans);
        }
    }
    return 0;
}
