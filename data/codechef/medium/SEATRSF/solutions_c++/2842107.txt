#include <stdio.h>
#include <iostream>
using namespace std;

typedef long long int LL;
#define M 1000000007

LL pow(LL a,LL b)
{
	if(a ==1 || b==0)	return 1;
	LL tmp;
	tmp=pow(a,b/2);
	tmp=(tmp*tmp)%M;
	tmp=(tmp*(b%2?a:1))%M;
	return tmp;
}

int main()
{
	LL t,n,m,q,a,b,c,ans,k;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld%lld%lld%lld",&n,&m,&q,&c);
		if(m < (q+1) || (n==1 && q))
		{
			printf("0\n");
			continue;
		}
		k=m-q;
		a=pow(q+1,n);
		b=(2*pow(q,n))%M;
		if(q > 1)	c=pow(q-1,n);
		else		c=0;
		ans=(a-b+M)%M;
		ans=(ans+c)%M;
		ans=(k*ans)%M;
		printf("%lld\n",ans);
	}
	return 0;
}

