#include<iostream>
using namespace std;
int main()
{
		long long int n,i,j,ans,q,k;
		long long int count=0;
		long long int count1=0;
		long long int max=0;
		cin>>n;
		long long int arr[n];
		for(i=0;i<n;i++)
		{
		cin>>arr[i];
		if(max<arr[i])
		max=arr[i];
	    }
	    long long int ar[max+1];
		for(i=0;i<=max;i++)
		ar[i]=0;
		for(i=0;i<n;i++)
		{
			count=count1=0;
				for(j=i;j<n;j++)
				{
					if(arr[j]<arr[i])
					break;
					count++;
				}
				for(j=i-1;j>=0;j--)
				{
					if(arr[j]<=arr[i])
					break;
					count1++;
				}
                count1++;
				count=count*count1;
				ar[arr[i]]+=count;
				
		}
		cin>>q;
		while(q--)
		{
			cin>>k;
			if(k<=max)
			cout<<ar[k]<<endl;
			else
			cout<<"0"<<endl;
		}
	return 0;
}