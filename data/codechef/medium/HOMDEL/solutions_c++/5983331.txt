#include <iostream>

using namespace std;

int main()
{
	int i,j,k,m,n,S,D,G,d1,d2;
	cin >> n;
	int arr[n][n],brr[n][n];
	for(i=0;i<n;i++)
		for(j=0;j<n;j++)
			cin >> arr[i][j];
	for(i=0;i<n;i++)
		for(j=0;j<n;j++)
			brr[i][j] = arr[i][j];
	for(k=0;k<n;k++)
	{
		for(i=0;i<n;i++)
		{
			for(j=0;j<n;j++)
			{
				if(brr[i][j] > brr[i][k]+brr[k][j])
					brr[i][j]=brr[i][k]+brr[k][j];
			}
		}
	}
	cin >> m;
	while(m--)
	{
		cin >> S >> G >> D;
		d1=brr[S][G]+brr[G][D];
		d2=brr[S][D];
		d2=d1-d2;
		if(d2<0)
			d2=0;
		cout << d1 << " " << d2 << endl;
		
	}
	return 0;
	
	
}

