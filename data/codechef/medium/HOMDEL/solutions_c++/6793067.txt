#include<iostream>
#include<vector>
#include<string>
#include<queue>
#include<set>
#include<map>
#include<algorithm>
using namespace std;

int main()
{
    int n,m,s,g,d;
    int i,j,k;
    int d1,d2,d3;
    
    cin>>n;
    int t[n][n],ans[n][n];
    for(i=0;i<n;i++)
    {
        for(j=0;j<n;j++)
        {
            cin>>t[i][j];
            ans[i][j]=t[i][j];
        }
    }
    //floyd warshall all pairs shortest path algorithm
    for(k=0;k<n;k++)
    {
        for(i=0;i<n;i++)
        {
            for(j=0;j<n;j++)
            {
                if(ans[i][k]+ans[k][j]<ans[i][j])
                {
                    ans[i][j]=ans[i][k]+ans[k][j];
                }
            }
        }
    }
    cin>>m;
    for(i=0;i<m;i++)
    {
        cin>>s>>g>>d;
        d1=ans[s][g];
        d2=ans[g][d];
        d3=ans[s][d];
        d1=d1+d2;
        cout<<d1<<" "<<(d1-d3)<<endl;
    }
}