#include<bits/stdc++.h>
#define in(t) scanf("%d",&t)
#define out(t) printf("%d",t);
#define for(i,n) for(i=0;i<n;i++)
int a[251][251];
using namespace std;
int main()
{
	int n,i,j,k,m,s,g,d;
	in(n);
	for(i,n)
	{
		for(j,n)
		{
			in(a[i][j]);
		}
	}
	for(k,n)
	{
		for(i,n)
		{
			for(j,n)
			{
				a[i][j]=min((a[i][k]+a[k][j]),a[i][j]);
			}
		}
	}
	in(m);
	while(m--)
	{
		in(s);
		in(g);
		in(d);
		out(a[s][g]+a[g][d]);
		printf(" ");
		d=a[s][g]+a[g][d]-a[s][d];
		out(d);
		printf("\n");
		
	}
}
