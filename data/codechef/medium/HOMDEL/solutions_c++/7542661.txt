#include<bits/stdc++.h>
using namespace std;

int dp[250][250];
int a[250][250];
int i,j,k;
void floyd(int n)
{
//	int i,j,k;
//
	for (i=0;i<n;i++){
            for ( j=0;j<n;j++)
            {
                dp[i][j]=a[i][j];
                if(j==i){
                    dp[i][j]=0;
                }
            }
	}


	for(k=0;k<n;k++){
		for(i=0;i<n;i++){
			for(j=0;j<n;j++){
				dp[i][j]=min(dp[i][j],dp[i][k]+dp[k][j]);
			}
		}
	}
	return;
}

int main()
{
	int n,m,s,g,d;
	scanf("%d",&n);

	for(i=0;i<n;i++)
		for (j=0;j<n;j++)
			scanf("%d",&a[i][j]);

	scanf("%d",&m);

	floyd(n);

	while(m--)
	{
		scanf("%d%d%d",&s,&g,&d);
		int t1=dp[s][g]+dp[g][d];
		int t2=dp[s][d];

		printf("%d %d\n",t1,t1-t2);
	}
}
