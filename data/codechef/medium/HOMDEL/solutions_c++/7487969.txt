#include <bits/stdc++.h>

using namespace std;

int main()
{
    int n,m,i,j,k,s,g,d;
    scanf ("%d",&n);
    int t[n][n];
    for (i=0;i<n;++i)
        for (j=0;j<n;++j)
            scanf ("%d",&t[i][j]);
    for (k=0;k<n;++k)
    {
        for (i=0;i<n;++i)
        {
            for (j=0;j<n;++j)
                if (t[i][k]+t[k][j]<t[i][j])
                    t[i][j]=t[i][k]+t[k][j];
        }
    }
    /*
    for (i=0;i<n;++i)
    {
        for (j=0;j<n;++j)
            printf ("%d ",t[i][j]);
        printf ("\n");
    }
    */
    scanf ("%d",&m);
    for (i=0;i<m;++i)
    {
        scanf ("%d %d %d",&s,&g,&d);
        int time,save;
        time=(t[s][g]+t[g][d]);
        save=(time-t[s][d]);
        printf ("%d %d\n",time,save);
    }
    return 0;
}
