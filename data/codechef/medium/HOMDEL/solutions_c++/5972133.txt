#include<bits/stdc++.h>
#define s(x) scanf("%d", &x)
using namespace std;
int main(){
		int n; s(n); int a[251][251];
		for(int i=0; i<n; i++){
			for(int j=0; j<n; j++){
				s(a[i][j]);
			}
		}
		for(int k=0; k<n; k++){
			for(int i=0; i<n; i++){
				for(int j=0; j<n; j++){
					a[i][j]=min(a[i][j],a[i][k]+a[k][j]);
				}
			}
		}
		int m; s(m);
		while(m--){
			int s,g,d; s(s); s(g); s(d);
			int t1=a[s][g]+a[g][d];
		    int t2=a[s][d];

		printf("%d %d\n",t1,t1-t2);
		}
	
}