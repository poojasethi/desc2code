#include<stdio.h>
#include<iostream>
int main()
{ int t,s[250][250],n;
  scanf("%d",&n);
  for(int i=0;i<n;i++)
     for(int j=0;j<n;j++)
        scanf("%d",&s[i][j]);
  for(int k=0;k<n;k++)
     for(int i=0;i<n;i++)
	    for(int j=0;j<n;j++)
		   if(s[i][k]+s[k][j]<s[i][j])
		     s[i][j]=s[i][k]+s[k][j];      
  scanf("%d",&t);
  while(t--)
       { int x,y,z;
         scanf("%d%d%d",&x,&y,&z);
         printf("%d %d\n",s[x][y]+s[y][z],s[x][y]+s[y][z]-s[x][z]);
       }      
}
