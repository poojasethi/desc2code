#include <bits/stdc++.h>
using namespace std;

int a[256][256];

int main()
{
	int n, m, s, g, d;
	scanf( "%d", &n );
	for( int i = 0 ; i < n ; i ++ )
		for( int j = 0 ; j < n ; j ++ )
			scanf( "%d", &a[i][j] );
			for( int k = 0 ; k < n ; k ++ )
	for( int i = 0 ; i < n ; i ++ )
		for( int j = 0 ; j < n ; j ++ )
				a[i][j] = min( a[i][j], a[i][k] + a[k][j] );
	scanf( "%d", &m );
	while( m -- )
	{
		scanf( "%d%d%d", &s, &g, &d );
		printf( "%d %d\n", a[s][g] + a[g][d], a[s][g] + a[g][d] - a[s][d] );
	}
	return 0;
}
