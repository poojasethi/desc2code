#include<bits/stdc++.h>
using namespace std;
main()
{
	int n;
	int dist[251][251];
	cin>>n;
	int i,j,k,l;
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
			{cin>>dist[i][j];}
	}
    
   

    	for(k=0;k<n;k++)
    	{
    		for(j=0;j<n;j++)
    		{
    			for(i=0;i<n;i++)
    			{
    				if(dist[i][k]+dist[k][j]<dist[i][j])
    					dist[i][j]=dist[i][k]+dist[k][j];

    			}
    		}
    	}
    	int t,s,g,d;
    	cin>>t;
    	while(t--)
    	{
    		cin>>s>>g>>d;
        //if(dist[s][g]+dist[g][d]<dist[s][d])
     	cout<<(dist[s][g]+dist[g][d])<<" "<<(-dist[s][d]+dist[s][g]+dist[g][d])<<endl;
        //else
        //cout<<(dist[s][g]+dist[g][d])<<" "<<0<<endl;	
        }
    

}