#include<iostream>
#include<cstdio>
#include<vector>
#include<cstring>
#include<cmath>
#include<set>
#include<map>
#include<string>
#include<algorithm>
#define all(c) c.begin(),c.end()
using namespace std;
vector<pair<pair<int,int>,int> > v(100001);
int main()
{
    int i,t,n,k,c,in;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d",&n,&k);
        if(n==0)
            printf("0\n");
        else
        {
            for(i=1;i<=n;i++)
            {
                scanf("%d%d%d",&(v[i].first.second),&(v[i].first.first),&(v[i].second));
            }
            sort(v.begin()+1,v.begin()+n+1);
            c=1;
            map<int,int> m;
            m[v[1].second]=1;
            for(i=2;i<=n;i++)
            {
                if(m[v[i].second]==0)
                {
                    c++;
                    m[v[i].second]=i;
                }
                else
                {
                     in=m[v[i].second];
                     if(v[in].first.first<=v[i].first.second)
                     {
                         c++;
                         m[v[i].second]=i;
                     }
                }
            }
            printf("%d\n",c);
        }
    }
    return 0;
}
