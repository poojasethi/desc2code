#include<stdint.h>
#include<unistd.h>
#include<iostream>
#include<algorithm>
#include<stdio.h>
#define gc getchar_unlocked
void scanint(int &x)
{
	register int c=gc();
	x=0;
	for(;(c<48 || c>57);c=gc());
	for(;c>47 && c<58;c=gc()){x=(x<<1)+(x<<3)+c-48;}
}
using namespace std;
struct node{
	int f;
	int s;
	int k;
	}arr[100005];
//comparator function to be used while sorting the array of stuctures 

 bool operator<(node const &a,node const &b)
    {
    return (a.k!=b.k)?(a.k<b.k):(a.f<b.f);
    }
    
main()
{
	long long con=-1,ans=0,i,j;
	int b,c,d,t,n,a;
	scanint(t);
	while(t--)
	{	con=-1;
		scanint(n);
		scanint(a);
		for(i=0;i<n;i++)
		{
			scanint(arr[i].s);
			//(arr[i].s)=b;
			scanint(arr[i].f);
			//(arr[i].f)=c;
			scanint(arr[i].k);
			
		}
		sort(arr,arr+n);
		ans=0;
		for(i=0;i<n;i++)
		{
			//cout<<(arr[i].f)<<" "<<(arr[i].s)<<" "<<(arr[i].k)<<"\n";
			if(con<arr[i].k)
			{
				con=arr[i].k;
				b=arr[i].f;
				ans++;
			}
			else
			{
				if(b<=arr[i].s)
				{
					b=arr[i].f;
					ans++;
				}
			}
		}
		cout<<ans<<"\n";
	}
}			
			
