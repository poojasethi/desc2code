#include<bits/stdc++.h>
#define ll int 
#define s(a) scanf("%d",&a)
using namespace std;
struct node
{
   int st,fi,num;
}a[100010];

bool cmp(node a,node b)
{
   if(a.num<b.num)
   return true;
   
   if(a.num>b.num)
   return false;
   
   return a.fi<b.fi;
}
int main()
{
  ll t;
  s(t);
  while(t--)
  {
    ll n,k,i;
  s(n); s(k);
  
  for(i=0;i<n;i++)
  {
     s(a[i].st);
     s(a[i].fi);
     s(a[i].num);
  }
  
  sort(a,a+n,cmp);
  /*
  for(i=0;i<n;i++)
  {
     cout<<a[i].st<<" ";
     cout<<a[i].fi<<" ";
     cout<<a[i].num<<" "<<endl;;
  }*/ 
      ll curr_num=0,j,last=0,count=0;
      
      for(j=0;j<n;j++)
      {
                 
             if(a[j].num!=curr_num)
             {
                 curr_num=a[j].num;
                 j--;
                 last=0;
                 continue;
             }
             if(a[j].st>=last)
             {
               last = a[j].fi;
               count++;
             }
      }
  
     printf("%d\n",count);
  }
  return 0;
  
}
