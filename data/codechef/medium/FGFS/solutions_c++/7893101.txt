#include <iostream>
#include<algorithm>
#include<functional>  //greater<int>
#include<queue>
#include<map>
#include<string>
#include<cstring>
#include<limits.h>
#include<cmath>
#include<stdlib.h>
#include<ctype.h>
#include<set>
#include<vector>
#include<cstdio>

using namespace std;



#define ll long long
#define pb push_back
#define mp make_pair
#define pll pair<ll,ll>
#define vll vector<pair<ll,ll> >
map<int,int>mymap;
vll v[100005];
ll fun(vll myvector)
{   if(myvector.size()==0)
return 0;
	sort(myvector.begin(),myvector.end());
    ll ans=1;
    ll last_entry=myvector[0].first;
    for(int i=1;i<myvector.size();i++)
    {
    	if(myvector[i].second>=last_entry)
    	{
    		ans++;
    		last_entry=myvector[i].first;
    	}
    }
return ans;
	}
int main() {
	int t;
	scanf("%d",&t);
	while(t--)
	{  ll n,k;
		scanf("%lld %lld",&n,&k);
		if(n==0){cout<<0<<endl;
		continue;
		}
		mymap.clear();
for(int i=0;i<=n;i++)
		v[i].clear();
		int pos=0;
		for(int i=0;i<n;i++)
		{
			ll a,b,c;
			scanf("%lld %lld %lld",&a,&b,&c);
			if(mymap.count(c)==0)     // to save the time for checking the whole array of 1000005
		    {mymap[c]=pos++;
		    }
		    v[mymap[c]].pb(mp(b,a));
		}
		ll ans=0;
		for(int i=0;i<pos;i++)
		{
			ans+=fun(v[i]);
		}
		cout<<ans<<endl;
	}
	// your code goes here
	
	return 0;
}