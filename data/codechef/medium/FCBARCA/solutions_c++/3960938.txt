#include<stdio.h>
#include<iostream>
#include<string.h>
long long int N=1000000007;
using namespace std;
long long int power(long long int a,long long int p,long long int m) //a^p%m
{
long long int x=a,res=1;
while(p)
{
if(p%2)
{
res=(res*x)%m;
}
x=(x*x)%m;
p=p/2;

}



return res;
}
typedef long long int ll;


int main(){
int t;
cin>>t;
while(t--){
ll n,k;
ll a[1001];
int i;
a[0]=1,a[1]=0;
cin>>n>>k;
for(i=2;i<=n;i++){
a[i]=(power(k,i-1,N)-(a[i-1]%N)+N)%N;
}
cout<<(power(k,n-1,N)-(a[n-1]%N)+N)%N<<endl;
}
return 0;
}
