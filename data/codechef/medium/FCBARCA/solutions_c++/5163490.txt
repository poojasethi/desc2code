#include <iostream>
#include <cstdio>
#define BASE 1000000007
using namespace std;
typedef long long ll;
int main()
{
    int T; scanf("%d",&T);
    while(T--)
    {ll n,k;
    scanf("%lld %lld",&n,&k);
    ll mess=1,nmess;
    ll players=0,nplayers;
    for (ll i=0; i<n; i++)
    {
        nmess = (k*players)%BASE;
        nplayers = (((k-1)*players)%BASE + (mess%BASE))%BASE;
        mess = nmess;
        players = nplayers;
    }
    cout<<mess<<"\n";
    }
    return 0;
}