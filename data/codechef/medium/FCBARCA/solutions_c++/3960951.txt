#include<stdio.h>
#include<iostream>
#include<string.h>
long long int N=1000000007;
using namespace std;
int scan_int(){
int r=0,c;
do{
c=getc(stdin);
if(c>=48&&c<=57)
r=r*10+(c-48);
else if(c=='\n'||c==' ')
return r;

}while(1);
}
long long int power(long long int a,long long int p,long long int m) //a^p%m
{
long long int x=a,res=1;
while(p)
{
if(p%2)
{
res=(res*x)%m;
}
x=(x*x)%m;
p=p/2;

}



return res;
}
typedef long long int ll;


int main(){
int t;
t=scan_int();
while(t--){
int n,k;
ll a[1001];
int i;
a[0]=1,a[1]=0;
n=scan_int(),k=scan_int();
for(i=2;i<=n;i++){
a[i]=(power(k,i-1,N)-(a[i-1]%N)+N)%N;
}
cout<<(power(k,n-1,N)-(a[n-1]%N)+N)%N<<endl;
}
return 0;
}
