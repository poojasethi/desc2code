#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<vector>

using namespace std;
typedef long long ll;
#define bignumber 1000000007
#define REP(i,a,b) \
    for(int(i)=int(a);i<=int(b);i++)


long long val[1005][2];
int main(){
    int T;
    ll N,K,endVal;
    scanf("%d",&T);
    while(T--){
        scanf("%lld",&N);
        scanf("%lld",&K);
        val[0][0]=0;
        val[0][1]=1;
//        val[1][0]=1;
//        val[1][1]=0;
        REP(i,1,N-1){
            val[i][0]= ((((K-1) * val[i-1][0])%bignumber + val[i-1][1])%bignumber);
            val[i][1] = (K*val[i-1][0])%bignumber;
        }
        endVal = (K*val[N-1][0])%bignumber;
        printf("%lld\n",endVal);
    }
    return 0;
}
