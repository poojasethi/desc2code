#include<iostream>
#include<algorithm>
#include<stdio.h>
#define MOD 1000000007

typedef long long ll;

using namespace std;

/*ll powmod(ll b,ll p,ll m)
{
    if(p==0)
    return 1;
    ll res=1;
    res=powmod(b,p/2,m);
    if(p%2==0)
    return ((res%m)*(res%m))%m;
    else
    {
        ll z=((b%m)*(((res%m)*(res%m))%m)%m)%m;
        return z;
    }
}*/
int main()
{
    ll tc,n,k;
    scanf("%lld",&tc);

    while(tc--)
    {
        scanf("%lld %lld",&n,&k);
        ll result=k;
        bool flag=1;
        for(int i=2;i<n;i++)
        {
            if(flag==1)
            {
                result-=1;
                result=(result*k)%MOD;
                flag=0;
            }
            else if(flag==0)
            {
                result+=1;
                result=(result*k)%MOD;
                flag=1;
            }

        }
        cout<<result<<endl;
    }
    return 0;
}
