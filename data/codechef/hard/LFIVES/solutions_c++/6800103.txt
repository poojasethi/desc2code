#include<bits/stdc++.h>
using namespace std;
#define N 2200
#define ll long long
 
unsigned int inline scan()
{
    register unsigned int chu = 0;
    char C;
    while ((C = getchar_unlocked()) < '0');
    do
    {
        chu = (chu<<3) + (chu<<1) + C - '0';
    }while ((C = getchar_unlocked()) >= '0');
 
    return chu;
}
void inline print(unsigned int *res)
{
    register unsigned int chu = * res , rev, count = 0;
    rev = chu;
    //putchar_unlocked(' ');
    if (chu == 0)
    {
          putchar_unlocked('0');
          putchar_unlocked('\n');
          return ;
    }
    while ((rev % 10) == 0)
    {
          count++;
          rev /= 10;
    }
    rev = 0;
    while (chu != 0)
    {
          rev = (rev<<3) + (rev<<1) + chu % 10;
          chu /= 10;
    }
    while (rev != 0)
    {
          putchar_unlocked(rev%10 + '0');
          rev /= 10;
    }
    while (count--)
          putchar_unlocked('0');
    putchar_unlocked('\n');
    return ;
}
 
 
int a[N],stiuj[N][N],num[N][N];
 
int main()
{
    //ios_base::sync_with_stdio(false);
        int n,q;
        //cin>>n>>q;
        n=scan();   q=scan();
        //memset(stiuj,0,sizeof(stiuj));
        for( int i=0; i<n; ++i )
            a[i]=scan();//cin>>a[i];
        for( int i=0; i<n; ++i ) {
            int cnt=0;
            for( int j=0; j<n; ++j ) {
                if( a[j] < a[i] )   cnt++;
                stiuj[i][j]=cnt;
                //cout<<i<<' '<<j<<' '<<stiuj[i][j]<<endl;
            }
        }
        for( int i=0; i<n; ++i ) {
            for( int j=i+1; j<n; ++j ) {
                int x=(a[i]<a[j]?i:j);
                num[i][j]=stiuj[x][j-1]-stiuj[x][i];
                num[j][i]=num[i][j];
                //cout<<i<<' '<<j<<' '<<num[i][j]<<endl;
            }
        }
 
        while( q-->0 ) {
            int l,r;
            l=scan();   r=scan();
            //cin>>l>>r;
            l--;    r--;
            unsigned int ans=0;
            for( int i=l+2; i<r-1; ++i ) {
                ans+=(num[l][i]*num[r][i]);
            }
            //cout<<ans<<endl;
            print(&ans);
 
        }
    return 0;
}