#include<vector>
#include<iostream>
#include<stdio.h>
#include<algorithm>
#include<cmath>
#define prc first
#define qlt second
using namespace std;

int main()
{
    int n,t;
    scanf("%d %d",&n,&t);
    vector< pair<int,int> > v[7];

    for(int i=0;i<n;i++)
    {
        int a,b,type;
        scanf("%d",&type);
        scanf("%d %d",&a,&b);
        pair<int,int> p = make_pair(a,b);
        v[type].push_back(p);
    }
    int n1 = v[1].size(), n2 = v[2].size(), n3 = v[3].size(), n4 = v[4].size(), n5 = v[5].size(), n6 = v[6].size();
    int ans = 0;
    for(int i1=0;i1<n1;i1++)
    {
        int p1 = v[1][i1].prc;
        int q1 = v[1][i1].qlt;
        if(p1>t)
            continue;
        for(int i2=0;i2<n2;i2++)
        {
            int p2 = p1+v[2][i2].prc;
            int q2 = min(q1,v[2][i2].qlt);
            if(p2>t)
                continue;
            for(int i3=0;i3<n3;i3++)
            {
                int p3 = p2 + v[3][i3].prc;
                int q3 = min(q2,v[3][i3].qlt);
                if(p3>t)
                    continue;
                for(int i4=0;i4<n4;i4++)
                {
                    int p4 = p3 + v[4][i4].prc;
                    int q4 = min(q3,v[4][i4].qlt);
                    if(p4>t)
                        continue;
                    for(int i5=0;i5<n5;i5++)
                    {
                        int p5 = p4 + v[5][i5].prc;
                        int q5 = min(q4,v[5][i5].qlt);
                        if(p5>t)
                            continue;
                        for(int i6=0;i6<n6;i6++)
                        {
                            int p6 = p5 + v[6][i6].prc;
                            int q6 = min(q5,v[6][i6].qlt);
                            if(p6<=t)
                                ans = max(q6,ans);
                        }
                    }
                }
            }
        }
    }
    printf("%d\n",ans);
return 0;
}
