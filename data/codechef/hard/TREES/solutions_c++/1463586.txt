#include<iostream>
#include<cstring>
using namespace std;
typedef long long ll;
const int maxn=70;
ll dp[maxn][maxn],ans,dp1[2][maxn];
int edge,head[maxn],next[maxn*2],ptr[maxn*2],n,lim,cases;
void addedge(int x,int y)
{
edge++;
next[edge]=head[x];
head[x]=edge;
ptr[edge]=y;
}
 
void dfs(int x,int fa)
{
int i,j,k,cur;
dp[x][0]=1;
for (i=head[x];i;i=next[i])
if (ptr[i]!=fa)
dfs(ptr[i],x);
memset(dp1[0],0,sizeof(dp1[0]));
cur=0;
for (i=head[x];i;i=next[i])
if (ptr[i]!=fa)
{
cur=1-cur;
memset(dp1[cur],0,sizeof(dp1[cur]));
for (j=1;j<=lim;j++)
dp1[cur][j]+=dp[ptr[i]][j-1];
for (j=1;j<=lim;j++)
if (dp1[1-cur][j]>0)
{
dp1[cur][j]+=dp1[1-cur][j];
for (k=0;k+1+j<=lim;k++)
dp1[cur][max(k+1,j)]+=dp1[1-cur][j]*dp[ptr[i]][k];
}
}
for (i=1;i<=lim;i++) dp[x][i]+=dp1[cur][i];
}
 
int main()
{
// freopen("input.txt","r",stdin);
// freopen("output.txt","w",stdout);
for (scanf("%d",&cases);cases;cases--)
{
scanf("%d%d",&n,&lim);
memset(head,0,sizeof(head));
edge=0;
int i,j,x,y;
for (i=1;i<n;i++)
{
scanf("%d%d",&x,&y);
addedge(x,y);
addedge(y,x);
}
memset(dp,0,sizeof(dp));
ans=0;
dfs(0,-1);
for (i=0;i<n;i++)
for (j=0;j<=lim;j++) ans+=dp[i][j];
cout << ans << endl;
}
return 0;
}