#include <cstdio>
#include <algorithm>
 
using namespace std;
 
int K[500];
int P[500];
 
int main()
{	
	int T,n,k,p,i,j,flag;
	scanf("%d",&T);
	
	while(T--)
	{
		flag = 0;
		scanf("%d", &n);
		scanf("%d", &k);
		scanf("%d", &p);
 
		if(p > k) flag = 1;
 
		for(i = 0; i < k; i++)
		{
			scanf("%d", &K[i]);
			scanf("%d", &j);
		}
		for(i = 0; i < p; i++)
		{
			scanf("%d", &P[i]);
			scanf("%d", &j);
		}
 
		if(flag == 0)
		{
			sort(K,K+k);
			for(i = 0; i < p; i++)
			{
				if(binary_search(K,K+k,P[i])) continue;
				else
				{
					flag = 1;
					break;
				}
			}
		}
		
		if(flag) printf("No\n");
		else printf("Yes\n");
	}
 
	return 0;
} 