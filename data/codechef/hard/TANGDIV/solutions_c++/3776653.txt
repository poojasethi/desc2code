#include <iostream>
#include <cstdio>

using namespace std;

struct Segment{
	int left, right;
	
	Segment(){
		left = right = 0;
	}
	
	void leer(){
		cin>>left>>right;
	}
	
};

int main()
{
	int nTest;
	cin>>nTest;
	
	for (int i = 0; i < nTest; i++){
		int n, k, p;
		cin>>n>>k>>p;
		
		Segment chef[k], boy[p];
		
		for(int i = 0; i < k; i++)
			chef[i].leer();
		for(int i = 0; i < p; i++)
			boy[i].leer();
		
		bool res = true;
		for(int i = 0; i < p && res; i++){
			bool ok = false;
			for(int j = 0; j < k && !ok; j++)
				ok = ok || chef[j].left == boy[i].left;
			res = res && ok;
		}
		
		if (res) cout<<"Yes"<<endl;
		else cout<<"No"<<endl;
	}
	return 0;
}
