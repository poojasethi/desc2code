#include<stdio.h>
#include<stdlib.h>
using namespace std;
int main(void)
{
    int t=0,k=0,n=0,p=0,flag=0;
     scanf("%d",&t);

     while(t--)
     {

        scanf("%d %d %d",&n,&k,&p);

         int *l,*r,*a,*b;
         l=(int*)calloc(k,sizeof(int));
         r=(int*)calloc(k,sizeof(int));
         a=(int*)calloc(p,sizeof(int));
         b=(int*)calloc(p,sizeof(int));

         for(int i=0;i<k;i++)
           scanf("%d %d",&l[i],&r[i]);

    flag=1;
    for(int i=0;i<p;i++)
    {
      scanf("%d %d",&a[i],&b[i]);
      int count=0;
      for(int j=0;j<k;j++)
      {
        if(a[i]!=l[j])
         count++;
      }
      if(count==k)
       flag=0;
    }

    if(flag==0)
     printf("No\n");

    else
     printf("Yes\n");
  }

  return 0;
}
