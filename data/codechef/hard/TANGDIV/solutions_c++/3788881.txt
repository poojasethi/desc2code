#include<stdio.h>
#include<math.h>
int main()
{
	long long int n;
	long long int t,chef[1000],chef2[1500],boy[1500],boy2[1500],count=0,cplan,bcut,i,j;
	scanf(" %lld\n",&t);
	while(t--)
	{
		scanf(" %lld %lld %lld\n",&n,&cplan,&bcut);
		for(i=0;i<cplan;i++)
		{
			scanf(" %lld %lld\n",&chef[i],&chef2[i]);
		}
		for(i=0;i<bcut;i++)
		{
			scanf(" %lld %lld\n",&boy[i],&boy2[i]);
		}
		for(i=0;i<bcut;i++)
		{
		for(j=0;j<cplan;j++)
			{
				if(chef[j]==boy[i])
				count++;
				if(chef2[j]==boy2[i])
				count++;
			}
			if(count!=2)
			{
				printf("No\n");
				count=50;
				break;
			}
			count=0;
			}
			if(count!=50)	printf("Yes\n");		
			count=0;
	}
	return 0;
}