#define DEBUG 0

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <algorithm>
#include <set>
using namespace std;

int n, sz_a, sz_b;

int main() {
  int tc, i, x, y;

  scanf("%d", &tc);
  while(tc--) {
    set<int> in_a;
    scanf("%d%d%d", &n, &sz_a, &sz_b);
    for(i = 0; i < sz_a; i++) {
      scanf("%d%d", &x, &y);
      in_a.insert(x);
    }
    bool valid = true;
    for(i = 0; i < sz_b; i++) {
      scanf("%d%d", &x, &y);
      if(in_a.find(x) == in_a.end())
	valid = false;
    }

    printf("%s\n", valid ? "Yes" : "No");
  }
  return 0;
}
