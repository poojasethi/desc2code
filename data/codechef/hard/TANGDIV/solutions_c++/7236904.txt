#include <cstdio>
#include <algorithm>
 
using namespace std;
 
inline void scanint(int* x)
{
	register char c = getchar_unlocked();
	*x = 0;
	for(; (c<48)||(c>57);c = getchar_unlocked());
	for(; (c>47)&&(c<58);c = getchar_unlocked())
		*x = (int)((((*x)<<1) + ((*x)<<3)) + c - 48);
}
 
int K[500];
int P[500];
 
int main()
{	
	int T,n,k,p,i,j,flag;
	scanint(&T);
	
	while(T--)
	{
		flag = 0;
		scanint(&n);
		scanint(&k);
		scanint(&p);
 
		if(p > k) flag = 1;
 
		for(i = 0; i < k; i++)
		{
			scanint(&K[i]);
			scanint(&j);
		}
		for(i = 0; i < p; i++)
		{
			scanint(&P[i]);
			scanint(&j);
		}
 
		if(flag == 0)
		{
			sort(K,K+k);
			for(i = 0; i < p; i++)
			{
				if(binary_search(K,K+k,P[i])) continue;
				else
				{
					flag = 1;
					break;
				}
			}
		}
		
		if(flag) printf("No\n");
		else printf("Yes\n");
	}
 
	return 0;
}  