#include<iostream>
#include<cstdlib>
#include<cstdio>
#include<map>
#include<algorithm>
#include<cstring>
#include<cmath>
#include<vector>
#define f(i,a,n) for(int i=a;i<n;i++)
#define ll long long
#define si(a) scanf("%d",&a)
#define sl(a) scanf("%lld",&a)
#define sd(a) scanf("%lf",&a)
#define ss(s) scanf("%s",s)
#define size 160000
using namespace std;
int main()
{
	int t;
	si(t);
	int y,n,k,p;
	int kk[505],pp[505];
	while(t--)
	{
		si(n);
		si(k);
		si(p);
		f(i,0,k)
		{
			si(kk[i]);
			si(y);
			}
			int ff=0;
		f(i,0,p)
		{
			si(pp[i]);
			si(y);
			}/*	
			f(i,0,k)
			cout<<kk[i]<<" ";
			cout<<endl;
			f(i,0,p)
			cout<<pp[i]<<" ";
			*/
			sort(pp,pp+p);
			sort(kk,kk+k);
			
			f(i,0,p)
			{
				if(binary_search(kk,kk+k,pp[i])==false)
				ff=1;
				}
			
			
			if(ff==0)
			printf("Yes\n");
			else
			printf("No\n");
		}
	
	return 0;
	}
