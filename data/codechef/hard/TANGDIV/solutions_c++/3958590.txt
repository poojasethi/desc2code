/* http://www.codechef.com/APRIL14/problems/TANGDIV */

#include<cstdio>
#include<iostream>
#include<set>
using namespace std;
int main()
{
	int t,n,k,p,a,b,l,r;
	int ans=1;
	scanf("%d",&t);
	while(t--)
	{
		set<int> cuts_needed;
		ans=1;
		scanf("%d%d%d",&n,&k,&p);
		for(int i=0;i<k;i++)
		{
			scanf("%d%d",&a,&b);
			cuts_needed.insert(a-1);
			cuts_needed.insert(b%n);
		}
		for(int i=0;i<p;i++)
		{
			scanf("%d%d",&l,&r);
			if(cuts_needed.find(l-1)==cuts_needed.end()||cuts_needed.find(r%n)==cuts_needed.end())
				ans=0;			
		}
		if(ans==0)
			printf("No\n");
		else
			printf("Yes\n");
	}
	return 0;
}