t=int(raw_input())
while t:
	flag=0
	t-=1
	n,k,p=map(int,raw_input().split())
	a=[]
	while k:
		k-=1
		x,y=raw_input().split()
		a.append(x)
	st=set(a)
	while p:
		p-=1
		x,y=raw_input().split()
		if x not in st :
			flag=1
	if flag==1:
		print 'No'
	else:
		print 'Yes' 