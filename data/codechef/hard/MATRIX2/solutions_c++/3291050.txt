// Problem MATRIX2 100-point setter's solution

#include <stdio.h>
#include <algorithm>
using namespace std;

int i,j,n,m,a[2005][2005],c[2005],last;
long long ret;

int main (int argc, char * const argv[]) {
	scanf("%d%d\n",&n,&m); // size of the matrix
	for(i=1;i<=n;i++){
		for(j=1;j<=m;j++)a[i][j]=getchar()-'0'; // reading the matrix. scanf might be too slow here, so getchar is recommended
		getchar(); // reading a newline
	}
	for(i=n;i;i--){ // calculate answers from the bottom to the top
		for(j=1;j<=m;j++)if(a[i][j])++c[j];else c[j]=0; // c[j] naturally equals to the amount of consecutive cells with ones right under the cell (i, j)
		for(j=1,last=0;j<=m;j++)ret+=last=min(last+1,c[j]); // calculate the answers according to the formula
	}
	printf("%lld\n",ret); // output an answer
    return 0;
}
