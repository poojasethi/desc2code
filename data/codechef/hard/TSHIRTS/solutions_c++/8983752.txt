//codechef TSHIRTS

#include<iostream>
#include<cstring>
#include<sstream>
#define MOD 1000000007
using namespace std;

int fun(int table[][101],int shirt[][101],int mask,int id,int n){
	if(mask==((1<<n)-1))
		return (table[mask][id]=1);
	else if(id==101)
		return (table[mask][id]=0);
	else if(table[mask][id]!=-1)
		return table[mask][id];
	
	else{
		long long ans=0;
		ans+=fun(table,shirt,mask,id+1,n);
		for(int i=0;i<n;i++)
			if((mask&(1<<i))==0 && shirt[i][id]==1 ){
				ans=(ans+fun(table,shirt,mask|(1<<i),id+1,n))%MOD;
			}

		return (table[mask][id]=ans);
	}
}
		
	

int main(){
	int t,n,shirt[10][101],id;
	string str;
	char c;
	cin>>t;
	while(t--){
		memset(shirt,0,sizeof(shirt));
		cin>>n;
		getline(cin,str);
		for(int i=0;i<n;i++){
			getline(cin,str);
			stringstream in (str);
			while(in>>id){
				shirt[i][id]=1;
			}
		}
		int table[1<<n][101];
		memset(table,-1,sizeof(table));


		cout<<fun(table,shirt,0,1,n)<<endl;
		
		
	}
	return 0;
}

