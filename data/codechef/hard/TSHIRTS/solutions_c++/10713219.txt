#include<bits/stdc++.h>
#define rep(i,x,y) for(i=x;i<y;i++)
#define rrep(i,x,y) for(i=x;i>=y;i--)
#define trv(y,x) for(typeof(x.begin())y=x.begin();y!=x.end();y++)
#define trvr(y,x) for(typeof(x.rbegin())y=x.rbegin();y!=x.rend();y++)
#define pb(f) push_back(f)
#define pi_ printf("\n")
#define pi(a) printf("%d\n",a)
#define pil(a) printf("%lld\n",a)
#define sc(a) scanf("%d",&a)
#define ll long long
#define scl(a) scanf("%lld",&a)
#define scs(a) scanf("%s",a)
#define mp make_pair
#define fi first
#define se second
#define mod 1000000007
#define inf 1000000009
#define maxn 100
using namespace std;
//#include<windows.h>
//FILE *fin = freopen("1.in","r",stdin);
//FILE *fout = freopen("out.txt","w",stdout);
using namespace std;
ll dp[101][1<<11];
int tshirt[11][101];
int main()
{
	int t;
	sc(t);
	while(t--)
	{
		memset(tshirt,0,sizeof(tshirt));
		memset(dp,0,sizeof(dp));
		int n,k,i,j;
		sc(n);
		string str;
		getline(cin,str);
		rep(i,1,n+1)
		{
			string str;
			getline(cin,str);
			stringstream ss(str);
			while(ss>>k)
			tshirt[i][k]=1;
		}
		dp[0][0]=1;
		rep(i,1,101)
		{
			for(j=0;j<(1<<n);j++)
			{
				dp[i][j]=dp[i-1][j];
				for(k=0;k<n;k++)
				{
					if(tshirt[k+1][i]&&(1&(j>>k))!=0)
					{
						dp[i][j]+=dp[i-1][j^(1<<k)];
						dp[i][j]%=mod;
					}
				}
			}
		}
		cout<<dp[100][(1<<n)-1]<<endl;
//		rep(i,1,11)
//		{
//			rep(j,0,1<<11)
//			cout<<dp[i][j]<<" ";
//			cout<<endl;
//			
//		}
	}
	
}