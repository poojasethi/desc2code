#include <algorithm>
#include <iostream>
#include <string.h>
#include <stdio.h>
#include <sstream>
#include <vector>

using namespace std;

const int mod = 1e9 + 7;

int toint(const string &s) 
{ 
	stringstream ss; 
	ss << s; 
	int x; 
	ss >> x; 
	return x; 
}

int cc[1<<10][1<<7];
vector<int> v[1<<7];

int t,n;

int go(int mk,int sh)
{
	if(sh == 101) 
	{
		if(mk == (1<<n)-1) return cc[mk][sh]=1;
		else return cc[mk][sh]=0;
	}
	int &tp = cc[mk][sh];
	if(tp != -1) return tp;
	tp = 0;
	tp += go(mk,sh+1);
	for(int i=0;i<v[sh].size();i++)
	{
		if(mk&(1<<v[sh][i])) continue;
		tp += go(mk|(1<<v[sh][i]),sh+1);
		if(tp>mod) tp-=mod;
	}
	return tp;
}

int main()
{
	#ifndef ONLINE_JUDGE
		freopen("I.in","r",stdin);
	#endif
		
	cin>>t;
	while(t--)
	{
		cin>>n;
		for(int i=0;i<(1<<7);i++) v[i].clear();
		memset(cc,255,sizeof(cc));
		string s,ss,tp;
		getchar();
		for(int i=0;i<n;i++)
		{
			getline(cin,ss);
			stringstream s(ss);
			while(s>>tp) v[toint(tp)].push_back(i);
		}
		for(int i=0;i<(1<<7);i++) sort(v[i].begin(), v[i].end());
		cout<<go(0,1)<<endl;
	}
	return 0;
}