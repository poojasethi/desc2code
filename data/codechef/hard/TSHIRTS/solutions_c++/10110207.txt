#include<cstring>
#include<iostream>
#include<vector>
using namespace std;
#define M 1000000007
#define lld signed long long int
#define ps(i) push_back(i)
lld dp[102][1027];
vector<int> d[102];
void create(int i,char ss[100*88])
{
	int l=strlen(ss);
	for(int x=0;x<l;)
	{
		int num=0;
		while(x!=l && ss[x]!=' ')
		{
			num=num*10+(ss[x]-'0');
			x++;
		}
		d[num].ps(i);
		x++;
	}
}
int main()
{
	int ts,n,t,x,sz,o;
	char ss[100*88];
	cin>>t;
	while(t--)
	{
		cin>>n;
		for(int i=1;i<=100;++i)d[i].clear();
		cin.ignore();
		for(int i=1;i<=n;++i)
		{
			cin.getline(ss,100*88);
			create(i,ss);
		}
		dp[0][0]=1;
		for(int i=1;i<=100;++i)
		{
			dp[i][0]=1;
			for(int mask=1;mask<(1<<n);++mask)
			{
				dp[i][mask]=dp[i-1][mask];
				sz=d[i].size();//d[i] contains the owners of the t-shirts "i"
				for(int x=0;x<sz;++x)
				{
					o=d[i][x]-1;
					if(mask&(1<<o))//if according to the mask the owner o is to be alloted a t-shirt
					{
						dp[i][mask]=(dp[i][mask]+dp[i-1][mask-(1<<o)])%M;
					}
				}
			}
		}
		cout<<dp[100][(1<<n)-1]<<endl;
	}
}