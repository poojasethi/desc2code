#include<bits/stdc++.h>
using namespace std;
#define pb push_back
#define mp make_pair
#define clr(x) x.clear()
#define sz(x) ((int)(x).size())
#define F first
#define S second
#define REP(i,a,b) for(i=a;i<b;i++)
#define rep(i,b) for(i=0;i<b;i++)
#define rep1(i,b) for(i=1;i<=b;i++)
#define pdn(n) printf("%d\n",n)
#define sl(n) scanf("%lld",&n)
#define sd(n) scanf("%d",&n)
#define pn printf("\n")
typedef pair<int,int> PII;
typedef vector<PII> VPII;
typedef vector<int> VI;
typedef vector<VI> VVI;
typedef long long LL;
#define MOD 1000000007
LL mpow(LL a, LL n) 
{LL ret=1;LL b=a;while(n) {if(n&1) 
    ret=(ret*b)%MOD;b=(b*b)%MOD;n>>=1;}
return (LL)ret;}
int toint(const string &s) { stringstream ss; ss << s; int x; ss >> x; return x; }
LL dp[1025][109]={};
vector < int > arr[109];
int p;
LL rec(int mask, int shirt)
{
    if(shirt==101)
    {
        if(mask==(p))return dp[mask][shirt]=1ll;
        else return dp[mask][shirt]=0ll;
    }
    if(mask==p)
    return dp[mask][shirt]=1ll;
    
    if(dp[mask][shirt]!=-1)return dp[mask][shirt];
    LL ans=0;
    ans += rec(mask,shirt+1);
    int n=arr[shirt].size(),i;
    for(i=0; i<n; i++)
    {
        if((mask)&(1<<arr[shirt][i]))continue;
        ans += rec((mask)|(1<<arr[shirt][i]),shirt+1);
        if(ans>=MOD)ans-=MOD;
    }
    return dp[mask][shirt]=ans;
}
int main()
{
    int t;
    cin >> t;
    while(t--)
    {
        memset(dp,-1,sizeof(dp));
        int n,i,j;
        string ss,temp;
        cin >> n;
        getchar();
        for(i=0; i<=100; i++)
            arr[i].clear();
        for(i=0; i<n; i++)
        {
            getline(cin,ss);
            stringstream s (ss);
            while(s>>temp)
                arr[(toint(temp))].push_back(i);
        }
        for(i=0; i<100; i++)
            sort(arr[i].begin(),arr[i].end());
        p=(1<<n)-1;
        cout << rec(0,1) << endl;
    }
    return 0;
}