/*
priyanka_14
Little Elephant and T-Shirts
*/
#include <stdio.h>

#include <iostream>
#include <set>
#include <cstring>
#include <vector>
#include <map>
#include <string>
#include <algorithm>
#include <cstdlib>
#include <climits>
#include <cmath>
#include <stack>
#include <queue>
#include <sstream>
#define pii pair<int, int>
#define pll pair<long long int, long long int>
typedef long long ll;

using namespace std;

ll dp[1025][103];
ll p;
vector<ll> b[101];
#define MOD 1000000007

ll func(int mask, int shirt) {
    //cout << shirt << endl;
    if (shirt == 101) {
       if (mask == (p)) {
          return dp[mask][shirt] = 1LL;
       } else {
            //  cout<<mask<<" "<<p<<endl;
         return dp[mask][shirt] = 0LL;
       }
    } 
     if(dp[mask][shirt]!=-1)return dp[mask][shirt];
    
            ll ans = 0;
            ans += func(mask, shirt + 1);
            ans = ans % MOD;
            for (int i = 0; i < b[shirt].size(); i++) {
               if (mask & (1 << b[shirt][i])) continue;
               ans += func(mask | (1 << b[shirt][i]), shirt + 1);
               ans = ans % MOD;
           }
           dp[mask][shirt] = ans;
           //cout << ans << endl;
    
    return dp[mask][shirt];
}

int main()
{
    ll t, n, ans, c;
    int i, k, j;
    string str,temp;
    
    cin >> t;
    
    while (t--) {
          scanf("%lld\n", &n);
          for (i = 0; i <= 100; i++) b[i].clear();
          
          for (i = 0; i < n; i++) {
              
              getline(cin, str);
              stringstream s (str);
            while(s>>temp)
                b[(atoi(temp.c_str()))].push_back(i);
          }
          
          p=(1<<n)-1;
          memset(dp, -1, sizeof(dp));
          for (i = 0; i < 101; i++) sort(b[i].begin(), b[i].end());
          cout << func(0, 1) << endl;
          
    }

    //system("pause");
    return 0;
}
