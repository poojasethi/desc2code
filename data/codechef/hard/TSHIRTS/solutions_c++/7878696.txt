    #include<iostream>
    #include<algorithm>
    #include<cstdio>
    #include<cstring>
    using namespace std;
    #define mod 1000000007
    bool tshirt[11][101];
    int dp[1100][101];
    int func(int mask,int id,int n)
    {
    if(mask==(1<<n)-1)
    return dp[mask][id]=1;
    if(id>=101)
    return 0;
    if(dp[mask][id]!=-1)
    return dp[mask][id];
    int ans=0;
    ans=(ans+func(mask,id+1,n))%mod;
    for(int i=0;i<n;i++)
    if(!(mask&(1<<i))&&tshirt[i][id])
    ans=(ans+func(mask|(1<<i),id+1,n))%mod;
    dp[mask][id]=ans;
    return ans;
    }
     
    int main()
    {
    int t;
    cin>>t;
    while(t--)
    {
    memset(tshirt,false,sizeof(tshirt));
    memset(dp,-1,sizeof(dp));
    int n;
    cin>>n;
    for(int i=0;i<n;i++)
    for(;;)
    {
    int a;
    char c;
    scanf("%d%c",&a,&c);
    tshirt[i][a]=true;
    if(c=='\n')
    break;
    }
    cout<<func(0,1,n)<<endl;
    }
    return 0;
    } 