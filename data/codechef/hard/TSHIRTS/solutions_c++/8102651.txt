using namespace std;
#include <bits/stdc++.h>
#define S(x) scanf("%d",&x)
#define S2(x,y) scanf("%d%d",&x,&y)
#define wl(n) while(n--)
#define ll long long
#define P(x) printf("%d\n",x)
#define PB push_back
#define MP make_pair
#define fl(i,n) for(i=0;i<n;i++)
#define fil(i,a,n) for(i=a;i<n;i++)
#define rev(i,a,n) for(i=n-1;i>=a;i--)
vector<int> v1;
pair<int,int> p1;
#define MOD 1000000007
#define debug(x)  printf("####%d####\n",x);
#define nl printf("\n");
#define str string
int a[107][107];
string s;
ll pow1(ll x,ll y)
{
    if(y==0)
    return 1;
    ll temp= pow1(x,y/2)%MOD;
    if(y%2==0)
    return (temp*temp)%MOD;
    else
    return (((temp*temp)%MOD)*x)%MOD;
}
int dp[1065][108],n;
int func(int mask,int id)
{
    if(mask==((1<<n)-1))
        return 1;
    if(id>100)
        return 0;
    if(dp[mask][id]!=-1)
        return dp[mask][id];
    int ans=func(mask,id+1)%MOD;
    int i;
    fl(i,n)
    {
        if(a[i][id]==0)
            continue;
        if(!(mask&(1<<i)))
        {
            ans=(ans+func((mask|(1<<i)),id+1))%MOD;
        }
    }
    return dp[mask][id]=ans;
}
int main()
{
    //std::ios_base::sync_with_stdio(false);
    int t;
    int i,j,k,m,l;
    S(t);
    wl(t)
    {
        memset(dp,-1,sizeof(dp));
        memset(a,0,sizeof(a));
        S(n);
        fl(i,n)
        {
            int x;
            char ch;
            while(scanf("%d%c",&x,&ch))
            {
                a[i][x]=1;
                if(ch=='\n')
                    break;
            }
        }
        int ans=func(0,1);
        P(ans);
    }
    return 0;
}