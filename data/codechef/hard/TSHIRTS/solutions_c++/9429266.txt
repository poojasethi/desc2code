#include <iostream>
#include <cstdio>
#include <sstream>
using namespace std;
#define M 1000000007 
#define mod 1000000007
typedef long long int LL;
int ts[20][201];
int dp[201][2026] , N;
// dp[i][j] represents that tshirts with ids from ids 1 to i have been used and mask denotes that tshirts assignemnt order
LL recur(int tid , int mask)
{
	if(mask == (1<<N)-1){
		return 1;
	}
	if(tid == 101)
		return 0;
    if(dp[tid][mask]!=-1)
        return dp[tid][mask];
	LL ans = 0;
	for(int i=1;i<=N;i++)
	{
		if(!(mask&(1<<(i-1))))
		{
			if(ts[i][tid] == 1)
				ans = (ans%mod +  recur(tid+1 , mask|(1<<(i-1)))%mod)%mod;
		}
	}
	ans = (ans%mod + recur(tid+1 , mask)%mod)%mod;
	dp[tid][mask] = (ans%mod);
	return (ans%mod);
}
int main()
{
int i,j,k,t;
char c;
scanf("%d",&t);
getchar();
string x;
while(t--)
    {
    scanf("%d\n",&N); 
    for(i=0;i<=104;i++)
        for(j=0;j<(1<<N)+4;j++)
            dp[i][j] = -1;

    for(i=0;i<N+4;i++)
        for(j=0;j<=104;j++)
            ts[i][j]=0;
    /*
    for(int i=1;i<=N;i++)
    {
    	while(1)
    	{
    		scanf("%d%c",&k,&c);
    		ts[i][k] = 1;
    	//	cout << k << endl;
    		if(c=='\n'  || c == EOF || c=='\0')
    			break;
    	}
    }   
    */

        for (int i = 1; i<=N ; i++)
        {
            getline(cin, x);
            istringstream ss(x);
            int temp;
            while(ss>>temp)
            {
                ts[i][temp] = 1;
            }
        }


 	cout << recur(1 , 0) << endl;
    }
return 0;
}
