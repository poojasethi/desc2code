#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
#define pb push_back
#define mp make_pair
#define ll long long
#define sd(x) scanf("%d",&x)
vector<int>caplist[101];
ll dp[1025][101];
int allmask;
ll countwaysf(int mask,int i)
{
    if(mask==allmask)
        return 1;
    if(i>100)
        return 0;
    if(dp[mask][i]!=-1)
        return dp[mask][i];
    ll ways=countwaysf(mask,i+1);
    int sz=caplist[i].size();
    for(int j=0;j<sz;j++)
    {
        if(mask&(1<<caplist[i][j]))
            continue;
        else
            ways+=countwaysf(mask|(1<<caplist[i][j]),i+1);
        ways%=mod;
    }
    return dp[mask][i]=ways;
}
void countWays(int n)
{
    string temp, str;
    int x;
    getline(cin, str);
    for(int i=0;i<=100;i++)
    {
        caplist[i].clear();
    }
    for (int i=0; i<n; i++)
    {
        getline(cin, str);
        stringstream ss(str);
        while (ss >> temp)
        {
            stringstream s;
            s << temp;
            s >> x;
            caplist[x].push_back(i);
        }
    }
    allmask = (1 << n) - 1;
    memset(dp, -1, sizeof dp);
    cout<<countwaysf(0,0)<<endl;
}
int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    int t;
    cin>>t;
    while(t--)
    {
        int n;
        cin>>n;
        countWays(n);
    }
    return 0;
}