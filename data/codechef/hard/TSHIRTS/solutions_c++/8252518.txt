#include <iostream>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <vector>
#include <string>
#include <map>
#include <set>
#include <queue>
#include <algorithm>
#define lli long long int
#define pb push_back
#define mod 1000000007
#define pii pair<int,int>

using namespace std;
lli dp[102][2200];
vector<int> vec[102];
int val;
int recur(int ind,int mask){
    if(ind>100 && mask==val)return 1;
    else if(ind > 100)return 0;
    if(dp[ind][mask]!=-1)return dp[ind][mask];
    lli ret=0;
    for(int i=0;i<vec[ind].size();i++){
        int a=vec[ind][i];
        if((mask & (1<<a))==0){
            int mask2= (mask | (1<<a));
            ret=( ret + recur(ind+1,mask2) )%mod;;
        }
    }
    ret=(ret+ recur(ind+1, mask))%mod;
    dp[ind][mask]=ret;
    return ret;
}
int main()
{
    int t,n,i,j,a,b;
    scanf("%d",&t);
    while(t-- > 0){
        scanf("%d",&n);
        char ch;
        for(i=0;i<102;i++)vec[i].clear();
        for(i=0;i<n;i++){
            while(1){
                scanf("%d%c",&a,&ch);
                vec[a].pb(i);
                if(ch!=' ')break;
            }
        }
        val= (1<<n);
        val-=1;
        memset(dp,-1,sizeof(dp));
        lli ans=recur(1,0);
        printf("%lld\n",ans);
    }


    return 0;
}
