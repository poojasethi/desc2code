#include <bits/stdc++.h>
#define ll long long int
using namespace std;
const int N=12;
int mod=1e9+7;
int num,n,dp[1<<N][102],arr[N][102];
int main(){
//freopen("input.txt","r",stdin);
	int t;
	cin>>t;
	while(t--){
		cin>>n;
		getchar();
		string s;
		memset(arr,0,sizeof(arr));
		memset(dp,0,sizeof(dp));
		for(int i=0;i<n;i++){
			getline(cin,s);
			string w;
			for(int j=0;s[j];j++){
				if(s[j]==' '){
					istringstream ss(w);
					ss>>num;
					w="";
					arr[i][num]=1;
				}
				else{
					w+=s[j];
				}
			}
			istringstream ss(w);
					ss>>num;
					arr[i][num]=1;
		}
		// uff input over finally
		dp[0][0]=1;
		for(int i=0;i<101;i++){
			for(int mask=0;mask<(1<<n);mask++){
				if(i>0)
					dp[mask][i]=dp[mask][i-1];
			}
			for(int mask=0;mask<(1<<n);mask++){
				for(int j=0;j<n;j++){
					if(!arr[j][i]) continue;
					if(mask & (1<<j))continue;
					dp[mask|(1<<j)][i]+=dp[mask][i-1];
					if(dp[mask|(1<<j)][i]>=mod) dp[mask|(1<<j)][i]-=mod;
				}
			}
		}
		cout<<dp[(1<<n)-1][100]<<endl;

	}
	return 0;
}
