//Amit Gupta              
#include<bits/stdc++.h>
using namespace std;
typedef long long LL;
typedef pair<int,int> II;
#define REP(i,i1,n) for(int i=i1;i<n;i++)
#define REPB(i,i1,n) for(int i=i1;i>=n;i--)
#define PB push_back
#define MP make_pair
#define ALL(c) (c).begin(),(c).end()
#define F first
#define S second
#define SZ(a) (LL)a.size()
#define EPS 1e-12
#define MOD 1000000007
#define TR1(x) cerr<<#x<<" : "<<x<<endl
#define TR2(x,y) cerr<<#x<<" : "<<x<<" | "<<#y<<" : "<<y<<endl
#define FAST_IO ios_base::sync_with_stdio(false);cin.tie(NULL)
#define SI(c) scanf("%d",&c)
#define SII(c,d) scanf("%d%d",&c,&d)
#define SLL(c) scanf("%lld",&c)
#define PIN(c) printf("%d\n",c)
#define PLLN(c) printf("%lld\n",c)
#define N 200010
#define endl '\n'
#define FILL(ar,vl) for(int i=0;i<N;i++)ar[i]=vl
#define FILL2(ar,vl) for(int i=0;i<N;i++)for(j=0;j<N;j++)ar[i][j]=vl
//--------------------------MAIN CODE STARTS HERE----------------
vector<int> v[105];int dp[1050][105],n,vl;
int rec(int mask,int id) {
    if(mask==vl) {
        return 1;
    }
    if(id>100)
        return 0;
    if(dp[mask][id]!=-1)
        return dp[mask][id];
    LL res=(rec(mask,id+1));
    if(res>=MOD)
        res%=MOD;
    REP(i,0,v[id].size()) {
        if((!(mask&(1<<v[id][i])))) {
            res=(res+rec(mask|(1<<v[id][i]),id+1));
            if(res>=MOD)
            res%=MOD;
        }
    }
    return dp[mask][id]=res;
}
int main()
{	
    int t;
    cin>>t;
    while(t--) {
        cin>>n;
        string str,temp;
        REP(i,0,105)
            v[i].clear();
        memset(dp,-1,sizeof(dp));
        getchar();
        REP(i,0,n) {
            getline(cin,str);
            stringstream s ;
            s<<str;
            while(s>>temp) {
                stringstream s1;
                s1<<temp;
                int nm;
                s1>>nm;
                v[nm].PB(i);
            }
        }
        vl=(1<<n)-1;
        cout<<rec(0,1)<<"\n";
    }
    return 0;
}
