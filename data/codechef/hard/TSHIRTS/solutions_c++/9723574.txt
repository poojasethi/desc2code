#include <bits/stdc++.h>

using namespace std;

#define MOD 1000000007
#define ll long long int

int toint(const string &k) { stringstream l; l<<k; int x ; l>>x; return x;}

long long int dp[2000][109];

vector< int > arr[109];
int p;

long long int recur(int mask,int tid)
{
	if(tid==101)
	{
		if(p==mask) return dp[mask][tid]=1ll;
		else return dp[mask][tid]=0ll;
	}
	if(dp[mask][tid]!=-1) return dp[mask][tid];
	
	long long int ans=0;
	
	ans+=recur(mask,tid+1);
	int n=arr[tid].size(),i;
	
	for(i=0;i<n;i++)
	{
		if((mask)&(1<<arr[tid][i])) continue;
		ans+=recur((mask)|(1<<arr[tid][i]),tid+1);
		if(ans>=MOD) ans-=MOD;
	}
	
	return dp[mask][tid]=ans;
	
}

int main() {
	
	int t;
	cin>>t;
	while(t--)
	{
		string ss;
		
		memset(dp,-1,sizeof(dp));
		int i,n;
		cin>>n;
		getchar();
		for(i=0;i<109;i++)
		 arr[i].clear();
		 
		 int x;
		 string temp;
		 for(i=0;i<n;i++)
		 {
		 	getline(cin,ss);
		 	stringstream s (ss);
		 	 while(s>>temp)
		 	 arr[(toint(temp))].push_back(i);
		 }
		 
		 for(i=0;i<109;i++)
		  sort(arr[i].begin(),arr[i].end());
		 
		 p=(1<<n)-1;
		 cout<<recur(0,1)<<endl;
	}
	
	return 0;
}