#include <iostream>
#include <cstring>

using namespace std;
#define mod 1e9+7
int dp[1<<10][101];
int a[11][101];

int main(){
	int t;
	scanf("%d",&t);
	
	while(t--){
	memset(dp, 0, sizeof(dp));
	memset(a, 0, sizeof(a));
	int n; scanf("%d\n",&n);
	char ch;
	int num;
	
 	for(int i=1;i<n+1;i++)
    	{
            num=0;
            while((ch=getchar())!='\n')
            {
                if(ch==' ')
                {
                    a[i][num]=1;
                    num=0;
                    continue;
                }
                num=10*num+(ch-'0');
 
            }
            a[i][num]=1;
        }
 
 	dp[0][0]=1;
 
 	for(int i=0;i<(1<<n);i++){
	
		for(int j=1;j<=100;j++){
			dp[i][j] += dp[i][j-1];
			if(dp[i][j]>mod)dp[i][j]-=mod;
		}
	
		for(int j=1;j<=n;j++){
			int mask = 1<<(j-1);
			if(!(mask&i)){
			mask |= i;
			for(int k=1;k<101;k++){
				if(a[j][k]){
				dp[mask][k]+=dp[i][k-1];
				if(dp[mask][k]>=mod)dp[mask][k]-=mod;

				}
			}
			}
		}
	}
	
	printf("%d\n",dp[(1<<n)-1][100]);
    
	}
	return 0;
}