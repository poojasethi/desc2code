#include <iostream>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <vector>
#include<stack>
#include<limits.h>
#include <queue>
#include <map>
#include <cstdlib>
#include <algorithm>
//psyduck
#define ll long long
#define S(x) scanf("%d",&x)
#define Sf(x) scanf("%f",&x)
#define Slf(x) scanf("%lf",&x)
#define Sl(x) scanf("%lld",&x)
#define P(x)  printf("%d\n", x)
#define Pf(x)  printf("%f\n", x)
#define Plf(x)  printf("%lf\n", x)
#define Pl(x)  printf("%lld\n", x)
#define mem(x,i) memset(x,i,sizeof(x))
#define mod 1000000007
using namespace std;

void dba(int debug_array[],int n){
    for (int i = 1; i <= n; i++){
        cout << debug_array[i]<<" ";
    }
    cout << endl;
}
ll int n;
ll int a[11][109];
ll int dp[1<<11][109];
void finput(ll int id,string s);
ll int solve(ll int mask,ll int tshirt);
int main()
{
   ll int t;
    string s,tmp_line;
    Sl(t);
    while(t--){
        mem(a,0);
        mem(dp,-1);
        Sl(n);
        getline(cin,tmp_line);
        for (int i = 1; i <= n; i++){
            getline(cin,s);
            finput(i,s);
        }
        ll int ans = solve(0,1);
        cout << ans<<endl;
    }
}
void finput(ll int id,string s)
{
    ll int num = 0;
    for(int i = 0; i < s.size();i++){
        if(s[i] == ' '){
           // cout << num<<endl;
            a[id][num] = 1;
            num = 0;
            continue;
        }
        num = num*10+(s[i]-48);
    }
    a[id][num] = 1;
}

ll int solve(ll int mask,ll int tshirt)
{
    //cout << mask<<" "<<tshirt<<endl;
    if(mask == ((1<<n)-1)){
        return 1;
    }
    if(tshirt == 101){
        return 0;
    }
    if(dp[mask][tshirt] != -1){
        return dp[mask][tshirt];
    }
    ll int ans = 0;
    ans = ans + solve(mask,tshirt+1);
    for (int i = 1; i <= n; i++){
        int y = 1LL<<(n-i);
        //cout << y<<endl;
        if(!(mask&y)){
            if(a[i][tshirt] == 1){
                ans = (ans + solve(mask|y,tshirt+1))%mod;
            }
        }
    }
    return dp[mask][tshirt] = ans;
}
