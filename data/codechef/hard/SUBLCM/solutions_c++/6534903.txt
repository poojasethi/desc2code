#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
#define F(i,a,b) for(ll i=a;i<=b;i++)
#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)
#define ALL(a) (a.begin()),(a.end())
#define ZERO(a) memset(a,0,sizeof(a))
#define mp make_pair
#define pb push_back 
#define X first
#define Y second
#define pi 3.14159265
#define MOD 1000000007  
    
const int SIZE=1e6+1;

#define gc getchar_unlocked
void in(ll &x)
{
register ll c = gc();
x = 0;
for(;(c<48 || c>57);c = gc());
for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

vector<ll> v[SIZE];

void sieve(ll n,bool *prime){
	prime[0]=1; prime[1]=1;
    for(ll i=2;i<=n;i++)  
    if(prime[i]==0) 
		{
			v[i].pb(i);
			for(ll j=2;j*i<=n;j++) 
			{
				prime[i*j]=1; 
				v[j*i].pb(i);
			}
		}
	
	}

bool prime[SIZE]={0};

int main(){
	
	//cin.sync_with_stdio(0);
	
	sieve(1e6,prime);
	
	ll t;
	
	in(t);
	
	while(t--)
	{
		ll last[SIZE]={0};
		
		ll n;
		
		in(n);
		
		ll start=1;
		ll best=1;
		
		F(i,1,n)
		{
			ll a;
			
			in(a);
			
			for(ll j=0;j<v[a].size();j++)
			{
				ll num=v[a][j];
				
				if(last[num]>=start)
				start=last[num]+1;
				
				last[num]=i;
		
			}
			
			if(i-start+1>best)
			best=i-start+1;
		}
		
		if(best>=2)
		cout<<best<<"\n";
		else cout<<"-1\n";
		
	}

	return 0;
}
