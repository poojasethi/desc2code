#include <iostream>
#include <cstdio>
#include <cmath>
#include <cstring>
using namespace std;
const int maxN=100010,maxV=1000010;

#define foru(i,l,r) for(int i=l;i<=r;++i)
int check[maxV],num[maxV],a[maxN],test,n,res;

void prime()
{
    foru(i,2,1000000)
        if (check[i]==0)
        {
            int s=i*2;
            while (s<=1000000)
            {
                check[s]=i;
                s+=i;
            }
        }
}

void update(int x,int y)
{
    while (check[x]!=0)
    {
        num[check[x]]=y;
        x/=check[x];
    }
    if (x>1) num[x]=y;
}
int main(){
  
    prime();
    scanf("%d",&test);
    foru(t,1,test){
        scanf("%d",&n);
        memset(num,0,sizeof(num));
        foru(i,1,n) scanf("%d",&a[i]);
        int l=1,r=1; res=1; update(a[1],1);
        while (r<n){
            ++r; int tmp=a[r];
            while (check[tmp]!=0)
            {
                if (num[check[tmp]]!=r)
                {
                    while (num[check[tmp]]!=0)
                    {
                        update(a[l],0); ++l;
                    }
                    num[check[tmp]]=r;
                }
                tmp/=check[tmp];
            }
            if (tmp>1)
                if (num[tmp]!=r)
                {
                    while (num[tmp]!=0)
                    {
                        update(a[l],0); ++l;
                    }
                    num[tmp]=r;
                }
            res=max(res,r-l+1);
        }
        if (res-1) printf("%d\n",res);
        else printf("-1\n");
    }
    
}