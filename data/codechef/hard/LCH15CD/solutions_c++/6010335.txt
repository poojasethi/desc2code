#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
ll n,d,dp[1<<16],inf=1E18;
ll get(vector<ll>&a)
{
	int l=a.size();
	ll res=0;
	for(int i=0;i<l;i++)
	res=res*d+(a[i]);
	return res;
}
ll cost(vector<ll>&a)
{
	int l=a.size();
	ll x=0,s=0;
	for(int i=0;i<l;i++)
	{
		s+=a[i];
		x^=a[i];
	}
	return s*x;
}
ll recur(vector<ll>&a)
{
	ll x=get(a);
	if(dp[x]!=-1)
	return dp[x];
	if(x==0)
	{
		dp[x]=0;
		return 0;
	}
	ll c=cost(a),k=inf;
	vector<ll>b=a;
	dp[x]=inf;
	for(ll i=0;i<n;i++)
	{
		//cout<<a[i]<<endl;
		if(a[i]>0)
		{
			b[i]--;
			k=min(k,recur(b));
			b[i]++;
		}
	}
	//cout<<x<<" "<<k<<' '<<c<<endl;
	dp[x]=c+k;
	return dp[x];
}
void solve()
{
	scanf("%lld%lld",&n,&d);
	vector<ll> a;
	for(ll i=0;i<n;i++)
	a.push_back(d-1);
	memset(dp,-1,sizeof(dp));
	printf("%lld\n",recur(a));
}
int main()
{
	ll t;
	scanf("%lld",&t);
	while(t--)
	solve();
	return 0;
}