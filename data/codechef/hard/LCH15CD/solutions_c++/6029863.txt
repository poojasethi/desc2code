#include <iostream>
#include <stdio.h>
#include <cmath>
#include <algorithm>
#include <vector>
#include <map>
#include <string.h>
#include <stdlib.h>
#define ll long long int
using namespace std;
long long int dp[1<<16];
ll inf=1E18;
int n,d;
int fetch(vector<int>&x)
{
	int result=0;
	for(int i=0;i<x.size();i++)
	result=result*d+x[i];
	return result;	
}
ll penalty(vector<int>&x)
{
int a=0,b=0;
for(int i=0;i<x.size();i++)
	a^=x[i],b+=x[i];
ll A=a,B=b;
return A*B;
}
ll recfunc(vector<int>&x)
{
	int id=fetch(x);
	if(dp[id]!=-1)
		return dp[id];
	if(id==0)
		return 0;
	ll val=inf;
	vector<int>y=x;
	for(int i=0;i<n;i++)
	{
	if(y[i]>0){
	y[i]--;
	val=min(val,recfunc(y));
	y[i]++;		
	}
	}
	dp[id]=val+penalty(x);
	return dp[id];
} 
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{ 
		scanf("%d%d",&n,&d);
		memset(dp,-1,sizeof(dp));
		vector<int>pos;
		for(int i=1;i<=n;i++)
			pos.push_back(d-1);
		printf("%lld\n",recfunc(pos));
	}
 
	return 0;
} 