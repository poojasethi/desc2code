#include <iostream>
#include <cstdio>
#include <cstring>
#include <queue>
#include <algorithm>
using namespace std;
priority_queue<int> q;
int a[100010],ans[250010];
int main()
{
	int n,m;
	while(scanf("%d%d",&n,&m) != EOF) {
		while(!q.empty()) q.pop();
		for(int i = 1; i <= n; i ++)
			scanf("%d",&a[i]);
		sort(a + 1,a + n + 1);
		int cnt = 0,x;
		for(int i = 1; i <= n && cnt <= 5000000; i ++) {
			for(int j = 1; j + i <= n &&cnt <= 5000000;  j ++) {
				x = a[j] ^ a[j + i];
				cnt ++;
				if(q.size() == m) {
					if(q.top() > x) {
						q.pop();
						q.push(x);
					}
				}
				else q.push(x);
			}
		}
		for(int i = m; i >= 1; i --) {
			ans[i] = q.top();
			q.pop();
		}
		for(int i = 1; i <= m; i ++) {
			printf("%d",ans[i]);
			if(i == m) printf("\n");
			else printf(" ");
		}
	}
	return 0;
}


