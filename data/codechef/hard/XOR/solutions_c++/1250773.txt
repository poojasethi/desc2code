#include <stdio.h>
#include <string.h>
#include <iostream>
#include <algorithm>
#include <cmath>
using namespace std;
typedef long long ll;
const int MAXN = 250004;

int a[MAXN];
int d[MAXN];
int ans[MAXN*5];
int cnt;
ll sum;

int main(){
  int n, k;
  int i, j;
  int l, r;
  scanf("%d%d", &n, &k);
  for(i = 0; i < n; i++)
    scanf("%d", &a[i]);
  sort(a, a+n);
  for(i = 1; i < n; i++)
	d[i] = log2((a[i]^a[i-1]));
  r = 31;
  l = -1;
  while(r-l > 1){
    int mid = (l+r)>>1;
    sum = 0;
    for(i = j = 1; i < n; i++){
      if(d[i] < mid)
        j++;
      else{
        sum += (ll)j*(j-1)/2;
        j = 1;
      }
    }
    sum += (ll)j*(j-1)/2;
    if(sum >= k)
      r = mid;
    else
      l = mid;
  }
  if(r == 0){
    for(i = 0; i < k; i++)
      printf("0 ");
    printf("\n");
    return 0;
  }
  for(i = 1, j = 0; i < n; i++){
    if((a[i]^a[i-1]) < 1<<r)
      for(int x = j; x < i; x++)
        ans[cnt++] = a[i]^a[x];
    else
      j = i;
  }
  partial_sort(ans, ans+k, ans+cnt);
  for(i = 0; i < k; i++)
    printf("%d ", ans[i]);
  printf("\n");
  return 0;
}
