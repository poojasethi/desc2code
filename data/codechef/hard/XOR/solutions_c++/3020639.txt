#include <cstdio>
#include <algorithm>
#include <vector>
#define fr(i,j,k) for(int i=j;i<k;i++)
#define N 100100
using namespace std;
typedef long long LL;
int ch, n, m, tot, ans, a[N];
vector<int> s;
void read(int &x) {
	for(ch = getchar(); ch > '9' || ch < '0'; ch = getchar());
	for(x = 0; ch <= '9' && ch >= '0'; x = x * 10 + ch - 48, ch = getchar());
}
int main()
{
	read(n);
	read(m);
	fr(i, 0, n) read(a[i]);
	sort(a, a + n);
	int l = -1, r = 30;
	while(l <= r) {
		int mid = (l + r) / 2;
		LL sum = 0;
		for(int i = 0, j = 0; i < n; sum += (LL)(j - i) * (j - i - 1) / 2, i = j)
			while(j < n && (a[j] ^ a[i]) < 1 << (mid + 1)) j++;
		if(sum >= m) ans = mid, r = mid - 1;
		else l = mid + 1;
	}
	if(ans == -1) {
		fr(i, 0, m) printf("0 ");
		return puts(""), 0;
	}
	for(int i = 0, j = 0; i < n; i = j) {
		for(; j < n && (a[j] ^ a[i]) < 1 << (ans + 1); j++);
		fr(k, i, j) fr(p, k+1, j) s.push_back(a[k] ^ a[p]);
	}
	sort(s.begin(), s.end());
	fr(i, 0, m) printf("%d ", s[i]);
	puts("");
	return 0;
}
