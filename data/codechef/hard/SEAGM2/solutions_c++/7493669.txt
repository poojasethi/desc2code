#include<bits/stdc++.h>
using namespace std;
#define ll long long 
int main()
{
	ios_base::sync_with_stdio(false);
	ll t;
	cin>>t;
	while(t--)
	{
	//	cout<<"t"<<t<<endl;
		ll n,m;
		cin>>n>>m;
		double x;
		double sum[n+1];
		int  flag=0;
		for(int i=0;i<n;i++)
		{
			sum[i]=0.0;
			double c=0.0;
			for(int j=0;j<m;j++)
			{
				cin>>x;
				if(x==0)
				{
					if(i==0 && x==0.0)
					{
					flag=1;
					}
					sum[i]=0.0;
					//break;
				}
				else
				{
				
				
				x=log(x);
				double y=x-c;
				double t1=sum[i]+y;
				c=(t1-sum[i])-y;
				sum[i]=t1;
				}
			}
		}
		
	/*	for(int i=0;i<n;i++)
		cout<<sum[i]<<" ";
		cout<<endl;*/
		if(flag==1)
		{
			cout<<"0.000000"<<endl;
		}
		else
		{
		double ans=1.0;
		for(int i=1;i<n;i++)
		{
			if(sum[i]!=0.0)
			ans+=exp(sum[i]-sum[0]);
		}
		double fans=1.0;
		fans/=ans;
		//cout<<"@";
		//std::cout.setf(std::ios::fixed);
        //std::cout.precision(6);
		cout<<fans<<endl;
		}
	}
	return 0;
}
