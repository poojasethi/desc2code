#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<iostream>
#include<vector>
#include<ctime>
#include<string>
#include<map>
#define rep(i,j,k) for (i=j;i<=k;i++)
#define reps(i,j,k) for (i=j;i>=k;i--)
#define pb push_back
#define mp make_pair
#define mem(a,b) memset(a,b,sizeof(a))
#define inf 0x7fffffff
#define maxn 110000
#define mod 1000000007
#define fi first
#define se second
using namespace std;
int N,K,B,tcase;
int dp[32][32][(1<<7)+10],a[32],num;
int count(int x)
{
	int num=0;
	while (x)
	{
		num+=(x%2);x/=2;
	}
	return (num&1);
}
int main()
{
	int i,j,k,mask,pos;
//	freopen("in.txt","r",stdin);freopen("out.txt","w",stdout);
	scanf("%d",&tcase);
	while(tcase--)
	{
		scanf("%d%d%d",&N,&K,&B);
		N++;num=0;
		while(N)
		{
			a[++num]=N%2;N/=2;
		}
		rep(i,1,num/2)swap(a[i],a[num-i+1]);
		mem(dp,0);dp[0][0][0]=1;
		int maxs=(1<<K)-1;
		rep(i,0,num-1)
			rep(j,0,B)
				rep(k,0,maxs)   if (dp[i][j][k])
					rep(mask,0,maxs)
					{
						int nextk=k;
						if (!(k&1))
						{
							int t1=((mask&1)>0),t2=a[i+1];
							if (t1>t2)continue;
							if (t1<t2)nextk|=1;
						}
						bool flag=true;
						rep(pos,2,K)if (!(k&(1<<pos-1)))
						{
							int t1=(mask&(1<<pos-1)),t2=(mask&(1<<pos-2));
							t1=(t1>0);t2=(t2>0);
							if (t1>t2){flag=false;break;}
							if (t1<t2) nextk|=(1<<pos-1);
						}
						if (!flag)continue;
						dp[i+1][j+count(mask)][nextk]+=dp[i][j][k];
						if (dp[i+1][j+count(mask)][nextk]>mod)dp[i+1][j+count(mask)][nextk]-=mod;
					}
		printf("%d\n",dp[num][B][maxs]);
	}
	return 0;
}
