#include<bits/stdc++.h>
#define s(n) scanf("%d",&n);
#define p(n) printf("%d\n",n);
using namespace std;
int main()
{
    int t;
    s(t)
    while(t--)
    {
       int n;
       s(n)
       int a[n];
       int max=0;
       for(int i=0;i<n;i++)
       {
           s(a[i])
           if(a[i]>max)
            max=a[i];
       }
       int count=1;int d=1;
       for(int i=2;i*i<=max;i++)
       {
           for(int j=0;j<n;j++)
           {
               while(a[j]%i==0){
                count++;
                a[j]=a[j]/i;
               }
           }
           d=d*count;
           count=1;
       }
       sort(a,a+n);
       for(int i=0;i<n;i++)
       {
           if(a[i]>2)
           {
               //cout<<a[i]<<" ";
               count++;
               while(a[i]==a[i+1]&&i<n-1)
               {
                   count++;
                   i++;
               }
           }
           d=d*count;
           count=1;
       }
        p(d)
    }
    return 0;
}
