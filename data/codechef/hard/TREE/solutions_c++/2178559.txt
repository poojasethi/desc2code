#include<stdio.h>
#define ll long long
#define MOD 1000000007
 
ll pow_mod(ll a, ll b, ll mod) {
  ll result = 1;
  while(b>0) {
    if(b % 2==1)
      result=(result*a)%mod;
                
    b=b/2;
    a=(a*a)%mod;               
  }
  return result;
}
 
int main() {
  ll n, k, ans;
  ll res, res1, res2, res3;
  scanf("%lld %lld",&n,&k);
 
  if( k == 1)
    ans = (pow_mod(n, n-2, MOD) % MOD);
  else if (k == 2){
    res = (pow_mod(n, n-2,MOD) % MOD);
    res1 = (pow_mod(n-1,n,MOD) % MOD);
    res2 = (pow_mod(4ll, n-1, MOD) % MOD) ;
    res3 = (res*res1)% MOD;
    ans = (res3*res2) % MOD;
  }
  else if (k == 3) {
    res2 = 3*n;
    res = (pow_mod(res2, n-2, MOD)%MOD);
    res2 = res2 - 3;
    res3 = 2*n;
    res1 = (pow_mod(res2,res3,MOD)% MOD) ;
    ans = (res * res1)% MOD;
  }
  printf ("%lld\n", ans);  
  return 0;
}