#!/usr/bin/env python
#-*- coding:utf-8 -*-

import random


def count_bits(n):
    res = 0
    while n:
        res += 1
        n >>= 1
    return res


t = int(raw_input())
for _ in range(t):
    n = int(raw_input())
    lst = map(int, raw_input().split())
    #lst = [random.randint(0, (1 << 16) - 1) for i in range(10**5)]

    n_bits = count_bits(max(lst))
    counts = [(0, 0, 0) for _ in range(n_bits)]
    for num in lst:
        for i, (c0, c1, count) in enumerate(counts):
            bit = (num & (1 << i)) >> i
            if bit == 1:
                c0, c1 = c1, c0
                c1 += 1
            else:
                c0 += 1
            count += c1

            counts[i] = c0, c1, count

    result = 0
    for i, (c0, c1, count) in enumerate(counts):
        result += count << i

    print result

'''
count = 0

c0, c1 = 0, 0
for i, bit in enumerate(lst):
    #print c0, c1, "bit", bit, "->",
    if bit == 1:
        c0, c1 = c1, c0
        c1 += 1
    else:
        c0 += 1
    count += c1
    #print c0, c1, "count", count

print count
'''
