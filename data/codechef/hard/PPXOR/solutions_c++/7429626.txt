#include <iostream>
#include <cstdio>
using namespace std;

int main(){
    int t;
    scanf("%d",&t);
    while(t--){
        int n;
        scanf("%d",&n);
        int arr[n];
        for(int i=0;i<n;i++)
            scanf("%d",&arr[i]);
        long long p=1,ans=0;
        for(int i=0;i<30;i++){
            long long no=0,ne=0,one=0;
            for(int j=0;j<n;j++){
                if(arr[j]%2==1)
                    one++;
                arr[j]/=2;
                if(one%2==0)
                    ne++;
                else
                    no++;
            }
            long long temp=(((no+ne)*(no+ne-1))/2)-((no*(no-1))/2)-((ne*(ne-1))/2);
            temp+=no;
            ans+=temp*p;
            p=p*2;
        }
        printf("%lld\n",ans);
    }
}
