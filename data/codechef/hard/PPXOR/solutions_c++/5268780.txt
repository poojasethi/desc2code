#include<cstdio>
#include<iostream>
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		long long  n;
		cin>>n;
		long long i,j,val,k;
		long long  sum=0;
		long long array[n];
		for(i=0;i<n;i++)
			cin>>array[i];
		for(j=0,k=1;j<31;j++,k=k<<1)
		{
			long long zero=0;
			long long one=0;
			for(i=0;i<n;i++)
			{
				if(!((array[i]&k)>>j))
					zero=zero+1;
				else
				{
					int temp=zero;
					zero=one;
					one=temp+1;
				}
				sum=sum+one*k;
			}
		}
		cout<<sum<<endl;
	}
	return 0;
}
