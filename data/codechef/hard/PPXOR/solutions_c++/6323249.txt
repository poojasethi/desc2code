#include <bits/stdc++.h>
using namespace   std;


      
#define mod 1000000009
#define si 100001
#define f first
#define s second
#define rep(i,n) for(i=1;i<=n;i++)
#define rep0(i,n) for(i=0;i<n;i++)
#define pb push_back
#define endl '\n'
#define ll long long
#define ull unsigned long long
#define v2 vector< vector <int> > x
#define print(x) printf("%d\n",x)

inline ll scan(){
    char c = getchar_unlocked();
    ll x = 0;
    while(c<'0'||c>'9'){
        c=getchar_unlocked();
    }
    while(c>='0'&&c<='9'){
        x=(x<<1)+(x<<3)+c-'0';
        c=getchar_unlocked();
    }
    return x;
}

ll dp [si][31][2]={0},x[si];

int main() {
 
 ll n,t,i,j,k,f,ans;
 
 t=scan();
 rep(f,t)
 {
      n=scan();
      
      rep(i,n)
      x[i]=scan();
      ans=0;
      
      rep(i,n)
      {
           rep0(j,31)
           {    if(x[i]&(1<<j))
                {
                     dp[i][j][1]=dp[i-1][j][0]+1;
                     dp[i][j][0]=dp[i-1][j][1];
                }
                
                else
                {
                     dp[i][j][1]=dp[i-1][j][1];
                     dp[i][j][0]=dp[i-1][j][0]+1;
                }
                
              ans+=(dp[i][j][1]  * (1LL<<j));
           }
      }
      printf("%lld\n",ans);
      
      
 }

 

}
