#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define ull unsigned long long
#define pb push_back
#define ft first
#define se second
#define mp make_pair


int main(int argc, char const *argv[]){
    int t;
    scanf("%d", &t);
    while(t--){
    	int n;
    	scanf("%d", &n);
    	int a[n];
    	for(int i = 0; i < n; ++i){
    		scanf("%d", &a[i]);
    	}//for i
    	ll ans=0;
    	int sum[31];
    	ans+=a[0];
    	for(int i = 0; i < 31; ++i){
    		sum[i]=0;
    		if(a[0]&(1<<i)) sum[i]++;
    	}//for i
    	for(int i = 1; i < n; ++i){
    		for(int j = 0; j < 31; ++j){ 
    			if(a[i]&(1<<j)){
    				ans+=(i+1-sum[j])*1ll*(1<<j);
                    sum[j]=i+1-sum[j];
    			}
    			else ans+=(sum[j])*1ll*(1<<j);
    		}//for j
    	}//for i
    	printf("%lld\n", ans);
    }
    // cout<<(8^0)<<endl;
	return 0;
}