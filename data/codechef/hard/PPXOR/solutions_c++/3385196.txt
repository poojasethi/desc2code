#include <bits/stdc++.h>
using namespace std;
#define FL(a) memset(a, 0, sizeof a);
#define pi(a) cout <<  a << endl;
#define si(n) scanf("%d",&n)
#define pis(n) printf("%d ",n);
#define FREP(b) for(int i=0;i<b;i++)
#define REP(a,b,c) for(int a=b;a<c;a++)
typedef pair<int,int> ii;
typedef long long LL;
/*
struct data{
};
bool operator < (const data &a1, const data &a2){
}
*/
int A[100008];
int main()
{
    int T,n;
    si(T);
    LL dp[31];
    while(T--){
        si(n);
        FREP(n){
            si(A[i]);
        }
        memset(dp, 0, sizeof dp);
        LL ans = 0;
        for(int i = n-1; i >=0; i--){
            for(LL bit = 30; bit >= 0; bit--){
                if(A[i] & (1 << bit)){
                    dp[bit] = (n - i - dp[bit]);
                }
                ans += (LL)((1 << bit)*dp[bit]);
            }
        }
        cout << ans << endl;
    }
    return 0;
}
