#include <iostream>
#include <stdio.h>
using namespace std;

typedef long long ll;

#define sc(x) scanf("%d",&(x))
#define scl(x) scanf("%lld",&(x))
#define fori(n) for(int i=0;i<n;i++)
#define forj(n) for(int j=0;j<n;j++)

const ll mod = 1000000007;
const int N = 100005;

ll a[N];
bool b[N]; 
ll count[32];

int main(){
	//freopen("input.txt","r",stdin);
	int t;
	sc(t);
	while(t--){		
		int n;
		sc(n);
		fori(n){
			scl(a[i]);
		}
		// fori(n){
		// 	cout<<a[i]<<endl;
		// }
		forj(32){
			fori(n){
				//cout<<a[i]<<endl;
				b[i]=a[i]%2;
				a[i]>>=1;
				//cout<<"b "<<b[i]<<endl;
			}
			//cout<<endl;
			count[j]=0;
			ll temp_count=0;
			fori(n){
				if(b[i]==1){
					temp_count=(1+(i-temp_count));
					count[j]+=temp_count;
				}
				else{
					count[j]+=temp_count;
				}
			}

		}
		// forj(32)cout<<count[j]<<" ";
		// cout<<endl;
		ll sol=0;
		ll mul=1;
		forj(32){
			sol+=(mul*count[j]);
			mul*=2;
		}
		cout<<sol<<endl;
	}
	
}