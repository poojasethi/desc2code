#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<cmath>
using namespace std;
int f[1000100];
int n,m,l,r;
const long long mo = 1000000007;
int getf(int x){
	int y = x;
	for (;f[y]>=0;y = f[y]);
	for (int t = f[x];t >= 0;f[x] = y,x = t,t = f[x]);
	return y;
}
int main(){
	scanf("%d%d",&n,&m);
	memset(f,255,sizeof(f));
	long long ans = 1;
	for (int i = 1;i <= m;i++){
		scanf("%d%d",&l,&r);
		l--;
		int x = getf(l),y = getf(r);
		if (x != y) f[y] = x,(ans*=2)%=mo;
	}
	printf("%lld\n",ans);
	return 0;
}
