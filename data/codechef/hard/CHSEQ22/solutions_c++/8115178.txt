#include<cstdio>
#include<vector>
#ifdef ONLINE_JUDGE
    #define gc getchar_unlocked
#else
    #define gc getchar
#endif
#define s(a) fastRead_INT(a)
#define mod 1000000007
using namespace std;
 
const int maxn=100005;
vector<int> ar(maxn,-1);
 
inline void fastRead_INT(int &x) {
    register int c = gc();
    x = 0;
    int neg = 0;
 
    for(; ((c<48 || c>57) && c != '-'); c = gc());
 
    if(c=='-') {
    	neg = 1;
    	c = gc();
    }
 
    for(; c>47 && c<58 ; c = gc()) {
    	x = (x<<1) + (x<<3) + c - 48;
    }
 
    if(neg)
    	x = -x;
}
int get_free_pos(int s)
{
    int e=s;
    while(ar[e] >= 0)
        e=ar[e];
    int temp=ar[s];
    while(temp>=0)
    {
        ar[s]=e;
        s=temp;
        temp=ar[s];
    }
    return e;
}
int main()
{
    int n,m,result = 1;
    s(n);
    s(m);
    for(int i=0;i<m;i++)
    {
        int a,b;
        s(a);
        s(b);
        a--;
        a=get_free_pos(a);
        b=get_free_pos(b);
        if(a!=b)
        {
            result = (2*result)%mod;
            ar[a] = b;
        }
    }
    printf("%d\n",result);
    return 0;
}
 