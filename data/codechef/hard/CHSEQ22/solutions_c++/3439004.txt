#include <iostream>
#include <vector>
#include <algorithm>
#include <cstdio>
#include <map>
#include <set>
#include <stack>
#include <queue>
#include <cmath>
#include <cstring>

#define f first
#define s second
#define mkp make_pair
#define pb push_back
#define ll long long
#define INF 1e9
#define pii pair < int ,int >
#define vi vector< int >
#define FOR(a,b,c) for(a=b; a<=c; a++)
#define TOR(a,b,c) for(a=b; a>=c; a--)
#define VFOR(a,b) for(a=0; a<b.size(); a++)
#define FILL(a,b) memset(a,b,sizeof(a))
#define MOD 1000000007LL

using namespace std;

int N,M;
pii P[100005];
vi V[200005];
bool H[200005];

int dfs(int yer)
{
	int s=0,i;
	H[yer]=1;
	VFOR(i,V[yer])
		if(!H[V[yer][i]])
			s+=dfs(V[yer][i]);

	return s+1;
}

int main()
{
	int i,j,k,t;
	scanf(" %d %d",&N, &M);
	FOR(i,1,M)
	{
		scanf(" %d %d",&P[i].f,&P[i].s); P[i].s++;
		V[P[i].f].pb(P[i].s);
		V[P[i].s].pb(P[i].f);
	}
	k=t=0;
	FOR(i,1,N)
	{
		j=dfs(i);
		k++;
		t+=j;
	}
	ll res=1;
	FOR(i,1,t-k)
	{
		res*=2;
		res%=MOD;
	}
	cout << res << endl;
	return 0;

}
