#include <stdio.h>
#define NMax 100010

const int mod = 1000000007;

int N, M, Rez;
int P[NMax], size[NMax];

int find( int x ) {
  if ( P[x] == x ) return x;
  return ( P[x] = find(P[x]) );
}

inline void Union( int x, int y ) {
  x = find(x);
  y = find(y);
  if ( size[x] >= size[y] )
    P[y] = x;
  else
    P[x] = y;
}

int main() {

  int i, x, y;
  scanf("%d%d", &N, &M);
  for ( i = 1; i <= N + 1; ++ i)
    P[i] = i;

  Rez = 1;
  for ( i = 1; i <= M; ++ i) {
    scanf("%d%d", &x, &y);
    if ( find(x) != find(y + 1) ) {
      Union(x, y + 1);
      Rez = 2 * Rez % mod;
    }
  }

  printf("%d\n", Rez);
  return 0;
}
