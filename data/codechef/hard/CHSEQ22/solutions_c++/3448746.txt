#include<stdio.h>
#include<iostream>
#include<string.h>
#include<vector>
#define LL long long int 
using namespace std;
bool visited[100020];
vector<int>adj[100020];
int node=0;
LL mod=1000000007;
LL mod_pow(int x, int b)
{
	LL prod=1;
	LL a=x;
	while(b>0)
	{
		if(b&1) prod= (prod*a)%mod;
		a= (a*a)%mod;
		b=b>>1;
	}
	return prod%mod;
}
void dfs(int nod)
{
	node++;
	visited[nod]=true;
	int l=adj[nod].size();
	for(int i=0;i<l;i++)
	{
		if(!visited[adj[nod][i]]) dfs(adj[nod][i]);
	}
	return;
}
int main()
{
	memset(visited,false,sizeof(visited));
	int N,M,i,x,y;
	scanf("%d %d",&N,&M);
	while(M--)
	{
		scanf("%d %d",&x,&y);
		adj[x].push_back(y+1);
		adj[y+1].push_back(x);
	}
	int total=0;
	for(i=1;i<=N;i++)
	{
		if(!visited[i])
		{
			node=0;
			dfs(i);
			if(node>0)total+= node-1;
		}
	}
	LL ans= mod_pow(2,total);
	printf("%lld\n",ans);
 return 0;
}