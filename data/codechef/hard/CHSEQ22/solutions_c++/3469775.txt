#include <cstdio>
#include <cstring>
#include <algorithm>
#include <vector>
#include <string>
#include <cmath>
#include <cctype>
#include <queue>
#include <stack>
#include <map>
#include <set>
#include <iostream>
#include <ctime>
#include <cassert>
#include <sstream>

using namespace std;

#define INF 0x3f3f3f3f
#define ll long long
#define MAXN 100010

const ll mod = 1000000007LL;

int cnt;
vector<int> adj[MAXN],us;
bool vis[MAXN];

void dfs(int u) {
    vis[u] = true;
    cnt++;
    for (int i=0; i<int(adj[u].size()); i++) {
        int v = adj[u][i];
        if (!vis[v]) dfs(v);
    }
    return;
}

int main() {
    int n,m;
    scanf("%d%d",&n,&m);
    while (m--) {
        int x,y;
        scanf("%d%d",&x,&y);
        y++;
        adj[x].push_back(y);
        adj[y].push_back(x);
        us.push_back(x);
        us.push_back(y);
    }
    
    cnt = 0;
    for (int i=0; i<int(us.size()); i++)
        if (!vis[us[i]]) {
            cnt--;
            dfs(us[i]);
        }
    
    ll ans = 1LL;
    while (cnt--) ans = (ans*2LL)%mod;
    
    printf("%lld\n",ans);
    
    return 0;
}
