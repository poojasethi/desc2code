#include<iostream>
#include<cstdio>
#include<vector>
#include<cstring>
#include<algorithm>
#include<set>
#define mod 1000000007ll
using namespace std;
typedef vector<int> vi;
typedef vector<vi> vvi;

long long expo(long long a,long long p)
{
	long long res=1;
	while(p)
	{
		if(p&1)res=res*a%mod;
		p>>=1;
		a=a*a%mod;
	}
	return res;
}
int n,m,ct;//here ct is totol number of distinct edge or segments except the back edge in graph 
bool visited[100005];
void dfs(vvi& adj,int u)
{
	//cout<<u<<" > ";
	visited[u]=true;
	for(int i=0;i<adj[u].size();i++)
	if(!visited[adj[u][i]])
	{
		ct++;
		dfs(adj,adj[u][i]);
	}
}
int main()
{
	scanf("%d %d",&n,&m);
	vvi adj(n+2,vi(0));
	for(int x,y,i=0;i<m;i++)
	{
		scanf("%d %d",&x,&y);
		adj[x].push_back(y+1);
		adj[y+1].push_back(x);
	}
	
	for(int i=0;i<=n;i++)visited[i]=0;
	for(int i=1;i<=n;i++)
	if(!visited[i])
	{
		//cout<<i<<" : ";
		dfs(adj,i);
		//cout<<"\n";
	}
	cout<<expo(2,ct)<<"\n";
	return 0;
}