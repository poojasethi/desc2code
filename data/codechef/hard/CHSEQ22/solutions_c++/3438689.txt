#include <bits/stdc++.h>
using namespace std;
#define ull unsigned long long 
bool done[100005];
vector<vector<int> > adj;
ull sz;
void dfs(int x)
{
	done[x] = true;
	sz++;
	for (int i = 0; i < adj[x].size(); i++) {
		if(!done[adj[x][i]]) {
			dfs(adj[x][i]);
		}
	}
}
ull mod(ull x)
{
	return x%1000000007;
}
ull pz(int x)
{
	if (x == 0) {
		return 1;
	}
	ull ans = pz(x/2);
	ans = mod(ans*ans);
	if (x%2) {
		ans = mod(2*ans);
	}
	return ans;
}
int main()
{
	ios::sync_with_stdio(true);
	int n,m;
	scanf("%d%d",&n,&m);
	adj.resize(n+5);
	for (int i = 0; i < m; i++) {
		int a,b;
		scanf("%d%d",&a,&b);
		b++;
		adj[a].push_back(b);
		adj[b].push_back(a);
	}
	ull ans = 1;
	for (int i = 1; i <= n+1; i++) {
		if(!done[i]) {
			sz = 0;
			dfs(i);
			sz = pz(sz-1);
			ans = mod(ans*sz);
		}
	}
	printf("%llu\n",ans);
	return 0;
}
