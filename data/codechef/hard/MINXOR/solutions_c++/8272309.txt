#include <bits/stdc++.h>
using namespace std;
#define vi vector<int>
#define pii pair<int,int>
#define pb push_back
#define mp make_pair
#define all(x) x.begin(),x.end()
#define inf 1000000007
#define mod 1000000007
#define x first
#define y second
#define pi acos(-1.0)
#define DBG(x) cerr<<(#x)<<"="<<x<<"\n";
#define FOREACH(it,x) for(__typeof(x.begin()) it=x.begin();it!=x.end();it++)
#define ull unsigned long long
#define ll long long
#define N 250005

template <class T> inline void Min(T &a,T b){if(a>b)a=b;}
template <class T> inline void Max(T &a,T b){if(a<b)a=b;}

int ans,mi;
struct node{
    int v,ch[2];
    void init(){
        v=ch[0]=ch[1]=0;
    }
}t[N*16];
int sz=0,top=0;
int q[N*16];
int NewNode(){
    if(!top)return ++sz;
    int x=q[top--];
    return x;
}
struct trie{
    int f,root;
    void init(){
        f=0;root=++sz;t[root].init();
    }
    void insert(int x,int v){
        int i,j,p=root;
        for(i=15;i>=0;i--){
            j=x>>i&1;int u=p;
            if(t[p].ch[j]==0){
                t[p].ch[j]=NewNode();
                t[t[p].ch[j]].init();
            }
            p=t[p].ch[j];
            t[p].v+=v;
            if(t[p].v==0)q[++top]=p,t[u].ch[j]=0;
        }
        //FOREACH(it,q)delete *it;
    }
    void query(){
        int res=0,i,j,p=root;
        for(i=15;i>=0;i--){
            int x=0;
            if(f>>i&1)x=1;
            if(t[p].ch[x]&&t[t[p].ch[x]].v){
                p=t[p].ch[x];continue;
            }
            p=t[p].ch[1-x],res|=1<<i;
            if(res>mi)return;
        }
        if(res<mi)mi=res,ans=t[p].v;
        else if(res==mi)ans+=t[p].v;
    }
}tt[505];
int a[250005];
int main(){
    int T,i,j,k,n,m;
    scanf("%d%d",&n,&m);
    for(i=0;i<n;i++)scanf("%d",&a[i]);
    int sz=sqrt(n+0.);
    int id=0;
    for(i=0;i<n;i+=sz,id++){
        int l=i,r=min(n-1,i+sz-1);
        tt[id].init();
        for(j=l;j<=r;j++)tt[id].insert(a[j],1);
    }
    int l,r,x;
    while(m--){
        scanf("%d%d%d",&k,&l,&r);l--,r--;
        if(k==1){
            ans=0;mi=inf;
            if(r-l+1<sz+5){
                for(i=l;i<=r;i++){
                    int x=a[i]^tt[i/sz].f;
                    if(mi>x)mi=x,ans=1;
                    else if(mi==x)ans++;
                }
            }
            else{
                int st=l/sz,ed=r/sz;
                for(i=l;i<(st+1)*sz;i++){
                    int x=a[i]^tt[st].f;
                    if(mi>x)mi=x,ans=1;
                    else if(mi==x)ans++;
                }
                for(i=ed*sz;i<=r;i++){
                    int x=a[i]^tt[ed].f;
                    if(mi>x)mi=x,ans=1;
                    else if(mi==x)ans++;
                }
                for(i=st+1;i<ed;i++){
                    tt[i].query();
                }
                
            }
            printf("%d %d\n",mi,ans);
        }
        else{
            scanf("%d",&x);
            if(r-l+1<sz+5){
                for(i=l;i<=r;i++){
                    tt[i/sz].insert(a[i],-1);
                    a[i]^=x;
                    tt[i/sz].insert(a[i],1);
                }
            }
            else{
                int st=l/sz,ed=r/sz;
                for(i=st+1;i<ed;i++){
                    tt[i].f^=x;
                }
                for(i=l;i<(st+1)*sz;i++){
                    tt[st].insert(a[i],-1);
                    a[i]^=x;
                    tt[st].insert(a[i],1);
                }
                for(i=ed*sz;i<=r;i++){
                    tt[ed].insert(a[i],-1);
                    a[i]^=x;
                    tt[ed].insert(a[i],1);
                }
            }
        }
    }
    return 0;
}