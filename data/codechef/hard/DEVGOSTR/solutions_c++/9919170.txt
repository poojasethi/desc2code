//TEMPLATE---Akshit gUpta--///

#include <bits/stdc++.h>

using namespace std;

const int MAX_LENGTH=50+5;
const int MAX_ALPHABET_SIZE=3;
const int MAX_DICTIONARY=1000000+10;

int an,wn,w[MAX_LENGTH];
string s,as[MAX_DICTIONARY];
int aa[MAX_DICTIONARY];

void rec(int p)
{
    w[++wn]=p;

    for(int i=1;(wn-i-i>0);i++)
    {
        if(w[wn]==w[wn-i]&&w[wn-i]==w[wn-i-i])
        {
            --wn;
            return;
        }
    }

    string tmp="";
    int max_letter=0;
    for(int i=1;i<=wn;i++)
    {
        tmp+=(w[i]+'a');
        max_letter=max(max_letter,w[i]);
    }

    ++an;
    as[an]=tmp;
    aa[an]=max_letter;

    for(int i=0;i<MAX_ALPHABET_SIZE;i++)
        rec(i);

    --wn;

}


int main()
{
	ios_base::sync_with_stdio(false);cin.tie(0);

    for(int i=0;i<MAX_ALPHABET_SIZE;i++)
        rec(i);
    

	long long int A,K,ans,t;
	cin>>t;

	while(t--)
    {
        cin>>A>>K;
        cin>>s;

        ans=0;
        for(int i=1;i<=an;i++)
        {
            if(aa[i]<A&&as[i].size()==s.size())
            {
                int diff=0;
                for(int j=0;j<s.size();j++)
                    diff+=(as[i][j]!=s[j]);

                ans+=(diff<=K);

            }
        }

        cout<<ans<<endl;

    }

	return 0;
}
