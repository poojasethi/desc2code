#include<iostream>
#include<cstdio>
#include<vector>
#include<string>
#include<algorithm>
#include<utility>

#define MOD 747474747

using namespace std;

int main(){
    long long int T, N, D;
    scanf("%lld",&T);
    while(T--){
        scanf("%lld%lld",&N,&D);
        long long int arr[N+1][D+1], dist[N+1];
        long long int temp = N, i;
        bool linked[N+1];
        while(temp--){
            for(i=1;i<=D;i++){
            scanf("%lld",&arr[temp+1][i]);
            }
            linked[temp+1]=false;
            dist[temp+1]=0;
        }
        long long int result = 1, j;
        long long int d,max=0,current=1;
        while(true){
            max=0;
            linked[current]=true;
        for(i=1;i<=N;i++){
            d=0;
            if(linked[i])
               continue; 
            for(j=1;j<=D;j++)
                d += (arr[i][j]-arr[current][j])*(arr[i][j]-arr[current][j]);
            if(dist[i]<d){
                dist[i]=d;
            }
            if(max<dist[i]){
                max=dist[i];
                temp=i;
            }
        }
        current = temp;
        linked[current]=true;
        if(max==0)
            break;
        result = ((max%MOD)*result)%MOD;
        }
        printf("%lld\n",result);
    }
    return 0;
}
