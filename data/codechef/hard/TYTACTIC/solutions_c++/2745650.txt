#include<stdio.h>
#include<vector>
#define pb push_back
using namespace std;
int a[100005];
int b[1<<17];
int p[100005];
int h[100005];
vector<int> v[100005];
int x;
int out[100005];
int j;
void dfs(int i,int p1)
{
	a[i]=++j;
	
//	in[i]=++x;
	vector<int>::iterator it;
	for(it=v[i].begin();it!=v[i].end();it++)
	{
		int k=*it;
		if(k!=p1)
		dfs(*it,i);
	}		
	p[i]=a[i];
	out[i]=j;
}/*
void dfs(int i)
{
	a[x]=i;
	p[i]=x++;
	vector<int>::iterator it;
	for(it=v[i].begin();it!=v[i].end();it++)
	{
		int k=*it;
		dfs(*it);
	}		
	out[i]=x;
}*/
void update(int i,int v)
{
	while(i<(1<<17))
		b[i]=b[i]+v,i+=i&-i;
}
int get(int i)
{
	int sum=0;
	while(i>0)
		sum+=b[i],i-=i&-i;
	return sum;
}
int main()
{
	int n,m;
	int i,j,k;
	scanf("%d %d",&n,&m);
	for(i=1;i<=n;i++)
		scanf("%d",&h[i]);
	for(i=1;i<n;i++)
	{
		scanf("%d %d",&j,&k);
		v[j].pb(k);
		v[k].pb(j);
	}
	dfs(1,1);
	for(i=1;i<=n;i++)
		update(a[i],h[i]);
	int ch=0,l,r;
	for(i=1;i<=2*m;i++)
	{
//		fflush(stdin);
		scanf("%c",&ch);
		if(ch=='Q')
		{
			scanf("%d",&l);
			k=get(out[l]);
			j=get(p[l]-1);
			printf("%d\n",k-j);
		}	
		if(ch=='U')
		{
			scanf("%d %d",&l,&k);
		//	if(p[l])
			update(a[l],k-h[l]);
			h[l]=k;
		}
	}
}
