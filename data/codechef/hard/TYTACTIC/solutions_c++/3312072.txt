#include<cstdio>
#include<cstdlib>
#include<cassert>
#include<cctype>
#include<cstring>
#include<cmath>
#include<string>
#include<deque>
#include<iostream>
#include<set>
#include<map>
#include<vector>
#include<algorithm>
#include<bitset>
#include<stack>
#include<queue>
#include<sstream>

#define MODM 1000000007
#define MAXM 2147483647
#define MAXML 9223372036854775807LL
#define Pi 3.14159265358979323846264338327950288419716939937510582
#define EPS 1e-10

#define ff first
#define ss second
#define pb push_back
#define pf push_front
#define ppb pop_back
#define ppf pop_front
#define mp make_pair
#define L(x) x.length()
#define B(x) x.begin()
#define E(x) x.End()
#define F(x) x.front()
#define SZ(x) x.size()
#define CLR(x) x.clear()
#define SORT(x) sort(x.begin(),x.End())
#define REV(x) reverse(x.begin(),x.End())
#define FOR(i,x,y) for(int i=x;i<y;i++)
#define S(x) scanf("%d",&x)
#define SL(x) scanf("%lld",&x)
#define SD(x) scanf("%lf",&x)
#define SC(x) scanf("%1s",&x)
#define SS(x) scanf("%s",x)
#define DUM() scanf("%c",&dum)
#define READ(x) freopen(x,"r",stdin)
#define WRITE(x) freopen(x,"w",stdout)
#define FILL(x,y) memset(x,y,sizeof(x))
#define IT iterator

using namespace std;
typedef long long int lli;
typedef unsigned long long int llu;
typedef pair<int,int> P;
typedef vector<int> VI;
typedef vector< VI > VVI;
typedef vector< P > VP;
typedef vector< VP > VVP;
typedef vector<string> VS;
typedef vector< VS> VVS;
typedef map<int,int> MAP;

lli gcd(lli a,lli b){if(a==0)return(b);else return(gcd(b%a,a));}
lli fastpow(lli a,lli n,lli temp){if(n==0) return(1);if(n==1)return((a*temp)%MODM); if(n&1)temp=(temp*a)%MODM;return(fastpow((a*a)%MODM,n/2,temp));}
char dum;

int ind;
int aa[100005],s[100005],e[100005],nind[100005];
lli bit[100005];
VVI adj;
void solve(int v,int u){
	
	nind[v]=++ind;
	
	FOR(i,0,SZ(adj[v])){
		if(adj[v][i]!=u){
			solve(adj[v][i],v);
		}
	}
	s[v]=nind[v];
	e[v]=ind;
}
void update(int ind,int val){
	for(int i=ind;i<=100000;i+=i&-i){
		bit[i]+=val;
	}
}
lli query(int ind){
	lli res=0;
	for(int i=ind;i>0;i-=i&-i){
		res+=bit[i];
	}
	return res;
}
int main(){
	
	#ifndef ONLINE_JUDGE
	READ("read.txt");
	#endif
	int n,a,b,m,x,y;
	char t;
	cin>>n>>m;
	FOR(i,1,n+1)
		cin>>aa[i];

	adj=VVI(100005);
	FOR(i,0,n-1){
		cin>>a>>b;
		adj[a].pb(b);
		adj[b].pb(a);
	}
	ind=0;
	solve(1,-1);
	
	FILL(bit,0);
	FOR(i,1,n+1){
		update(nind[i],aa[i]);
	}
	while(m--){
		cin>>t;
		if(t=='Q'){
			cin>>x;
			cout<<query(e[x])-query(s[x]-1)<<endl;
		}
		else{
			cin>>x>>y;
			update(nind[x],y-aa[x]);
			aa[x]=y;
		}
	}
	return 0;
}
