#include<bits/stdc++.h>
using namespace std;

const int N=123456;
int a[N], temp[N];

long long _merge(int from, int mid, int to) {
    long long res=0;
    int i=from, j=mid+1, k=from;
    while(i<=mid && j<=to) {
        if(a[i]<=a[j]) {
            temp[k++]=a[i++];
        } else {
            temp[k++]=a[j++];
            res+=(long long)(mid-i+1);
        }
    }
    while(i<=mid) {
        temp[k++]=a[i++];
    }
    while(j<=to) {
        temp[k++]=a[j++];
    }
    for(int i=from;i<=to;i++) {
        a[i]=temp[i];
    }
    return res;
}

long long invcnt(int from, int to) {
    long long res=0;
    if(from<to) {
        int mid=from+(to-from)/2;
        res+=invcnt(from, mid);
        res+=invcnt(mid+1, to);
        res+=_merge(from, mid, to);
    }
    return res;
}

int main() {
    int n, q;
    scanf("%d %d", &n, &q);
    for(int i=0;i<n;i++) {
        scanf("%d", &a[i]);
    }
    long long ans=invcnt(0, n-1);
    ans=ans%2;
    while(q--) {
        int l, r;
        scanf("%d %d", &l, &r);
        ans=ans^1;
        printf("%lld\n", ans);
    }
}

