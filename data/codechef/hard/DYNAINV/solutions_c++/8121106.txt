#include<iostream>
using namespace std;
 typedef long long int lli;
 #include<bits/stdc++.h>
 lli ic=0;
 long long int read_int(){
	char r;
	bool start=false,neg=false;
	long long int ret=0;
	while(true){
		r=getchar();
		if((r-'0'<0 || r-'0'>9) && r!='-' && !start){
			continue;
		}
		if((r-'0'<0 || r-'0'>9) && r!='-' && start){
			break;
		}
		if(start)ret*=10;
		start=true;
		if(r=='-')neg=true;
		else ret+=r-'0';
	}
	if(!neg)
		return ret;
	else
		return -ret;
}
lli merge (lli arr[],lli start,lli mid,lli end)
   {
   
   	  lli i=start, j=mid+1;
   	  lli p=start;
   	   lli temp[100000];
   	   lli lc=0;
   	    while(i<=mid && j<=end)
   	     {
   	     	
   	     	if(arr[i]>arr[j])
   	     	 {
   	     	 	lc+=mid-i+1;
   	     	 	temp[p++]=arr[j];
   	     	 	 j++;
				 }
				 else
				 {
				 	temp[p++]=arr[i++];
				 }
   	     	
			}
			while(i<=mid) temp[p++]=arr[i++];
			while(j<=end) temp[p++]=arr[j++];
			for(int i=start;i<p;i++) arr[i]=temp[i];
			return lc;
   }
  
 void  divide(lli arr[],lli start,lli end)
  {
  	 
  	if(start<end)
  	 {
  	 
  	 	 lli mid=(start+end)/2;
  	 	  
  	 	divide(arr,start,mid);
  	 	 divide(arr,mid+1,end);
  	 	 ic+=merge(arr,start,mid,end);
	   }
	    
 
  }
  
 int  main()
  {
  	
  	
  	  	ic=0;
  	  	 lli n;
  	  	 n=read_int();
  	  	 lli q; 
			q=read_int();
  	  lli crr[n+10],brr[n+10],arr[n+10];
  	  	 for(int i=0;i<n;i++)
  	  	  {
  	  	  	 arr[i]=read_int();
  	  	  	 brr[i]=arr[i];
  	  	  	   
			  }
			  divide(brr,0,n-1);
			  int f=ic%2;
			  while(q--)
			   {
			   	
			   	  lli a,b;
			      a=read_int();
			     b=read_int();
			   	 a-=1;
			   	 b-=1;
			   	
			   	  /*if(arr[b]>arr[a]) ic++;
			   	  else if(arr[b]<arr[a]) ic--;
			   	  for(int i=a+1;i<b;i++) 
			   	  {
			   	  	if(arr[i]>arr[a]) ic++;
			   	  	if(arr[i]<arr[a]) ic--;
			   	  	if(arr[i]<arr[b]) ic++;
			   	  	if(arr[i]>arr[b]) ic--;
					 }
			   	  
			   	   lli temp=arr[a];
			   	   arr[a]=arr[b];
			   	  arr[b]=temp;
			     printf("%d\n",ic%2);*/
			     
			     if(a==b)
			      {
			      	 cout<<f<<endl;
			      	  continue;
				  }
			       cout<<abs(f-1)<<endl;
			       f=abs(f-1);
			   }
			  
		
		return 0;
  } 