#include<bits/stdc++.h>
using namespace std;
#define Max 100001
long long int call(int a[],int n)
{

   long long  int best[Max];
   long long  int worst[Max];
    int i;
    best[0]=a[0];
    worst[0]=a[0];
    for(i=1;i<n;i++)
    {
       if(a[i]>0)
       {
           best[i]=max(max(best[i-1]+a[i],best[i-1]-a[i]),best[i-1]*a[i]);
           worst[i]=min(min(worst[i-1]+a[i],worst[i-1]-a[i]),worst[i-1]*a[i]);
       }
       else
       {
            best[i]=max(max(best[i-1]+a[i],best[i-1]-a[i]),worst[i-1]*a[i]);

           worst[i]=min(min(worst[i-1]+a[i],worst[i-1]-a[i]),best[i-1]*a[i]);

       }

    }
    return worst[n-1];
}
int main()
{
int t;
cin>>t;
while(t--)
{
int n;
int i;
cin>>n;
int a[n];
for(i=0;i<n;i++)
{
cin>>a[i];
}
long long int res=call(a,n);
cout<<res<<endl;
}
return 0;
}
