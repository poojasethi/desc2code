#include <bits/stdc++.h>
#define ll long long int
#define REP(i,n) for(i=0;i<n;i++)
#define RREP(i,a,b) for(i=a;i<b;i++)
#define pii pair<int,int>
#define pb(x) push_back(x)
#define FILL(a,x) memset(a,x,sizeof(a))
using namespace std;
int check_pali(char a[],int l,int r)
{	while(l<r)
	{
		if(a[l]!=a[r])
			return 0;
	l++,r--;}
return 1;}
int main()
{
	int i,n,t,l,r,count;
	char a[100005],c;
	cin >>t;
	while(t--)
	{
	cin >>a;
	n=strlen(a);
	c=a[0];
		if(check_pali(a,0,n-1))
		{
			l=(n-1)/2,r=n/2,count=0,c=a[l];
			if(l==r) count=-1;
			while(l>=0&&a[l]==a[r]&&a[l]==c) count+=2,l--,r++;
			cout<<count+1<<endl;
		}
		else
		{
		l=0,r=n-1,count=0;
		while(l<r)
		{
			if(a[l]!=a[r])
			{
				if(check_pali(a,l+1,r))
				{count++;
					i=r+1;
					while(i<n&&a[i]==a[l]) count++,i++;
				}
				if(check_pali(a,l,r-1))
				{
					count++;
					i=l-1;
					while(i>=0&&a[i]==a[r]) count++,i--;
				}
				cout <<count<<endl;
				break;
			}
		l++,r--;}
		}
	}	
	return 0;
}
