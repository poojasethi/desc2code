#include<bits/stdc++.h>
#include<algorithm>

using namespace std;

// similarity = min( A[i]^A[j] ,A[j]^A[i] );
#define maxAi 1000000000
#define maxN 1005
#define M 1000000007
int mod=M;
#define ll long long int


#define ff first
#define ss second


queue<int> Q;
int vis[maxN],color[maxN],A[maxN],C[maxN],VV[maxN];
vector< pair < long long int , pair<int, int>  >  > E;
vector<int> V[maxN];
int G[maxN][maxN];
int N;

bool ok ;
void checkbp(int u){

int i;
	C[u] = 1;
	queue<int> Q;
	ok = 1;
	Q.push(u);
	while(!Q.empty()){
		u = Q.front();Q.pop();
		for( i=0;i<N;i++){
			if(G[u][i]){
				if(VV[i]){
					if(C[i] != C[u] xor 1)
						ok = 0;				
				}else{
					VV[i] = 1;
					C[i] = C[u] xor 1;
					Q.push(i);
					
				}
			}
		}
	}
}

bool check(int x){
	
vector< pair < long long int , pair<int, int>  >  > ::iterator it;
for(it=E.begin();it!=E.end();it++ )
if(it->first>x)
{
G[it->ss.ff][it->ss.ss]=1;
G[it->ss.ss][it->ss.ff]=1;
}
else
{
G[it->ss.ff][it->ss.ss]=0;
G[it->ss.ss][it->ss.ff]=0;
}


	bool ans = 1;

	memset(VV,0,sizeof VV);

	for(int i=0;i<N;i++){
		if(!VV[i]){
			VV[i] = 1;				
			checkbp(i);
			ans = ans&ok;
			if(!ans)
				return ans ;
		}
	}
	return ans ;		
}




ll min(ll a, ll b)
{
if(a<b)
return a;
else
return b;
}

ll pw(ll a, ll e, ll mod) {
if(e <= 0) return 1;
ll x =pw(a,e/2,mod);
x =(x*x)%mod;
if(x < 0) x +=mod;
if(e%2 != 0) x =(x*a)%mod;
if(x < 0) x +=mod;
return x;}



int main()
{
int T,i,j;
scanf("%d",&T);


while(T--)
{
scanf("%d",&N);


for(i=0;i<N;i++)
scanf("%d",&A[i]);

E.clear();

for(i=0;i<N;i++)
for(j=i+1;j<N;j++)
E.push_back ( make_pair( min( pw(A[i],A[j],M) , pw(A[j],A[i],M) )  , make_pair(i,j) ) );

int e=  ( N*(N-1) )/2;
int l =-1, r =e-1;

sort( E.begin() , E.end() );


		int L=1,R=mod-1,MID;	

		while(L<=R){
			MID = (L+R)/2;
			bool f1 = check(MID);

//cout<<MID<<" "<<f1<<endl;

			if(f1 && (MID == 1 || !check(MID-1)))
				break;
			else if(f1)
				R = MID-1;
			else
				L = MID+1;
		}
		printf("%d\n",MID);
	}
return 0;
}
