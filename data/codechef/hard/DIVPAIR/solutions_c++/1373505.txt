#include<iostream>
#include<vector>
#include<string>
#include<cmath>
#include<algorithm>
#include<stdio.h>
using namespace std;

int main(){
	long long no_testcases;
	long long n;
	long long m;
	
	long long addnl1,addnl2,internal,external;
	scanf("%lld",&no_testcases);
	long long a,b,t,ans;
	while (no_testcases--!=0) {
		scanf("%lld",&n);
		scanf("%lld",&m);
		a=n/m;
		b=n%m;
		addnl1=b*a;
		external=((a*(a-1))/2)*m;
		t=(m%2==0)?(m/2-1):((m-1)/2);
		internal=t*a;
		addnl2=max( (int)(t-(m-1-b)), 0);
		ans=addnl1+addnl2+external+internal;
		printf("%lld\n", ans);
	}
	return 0;
}