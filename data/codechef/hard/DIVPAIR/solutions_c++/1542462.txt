#include <iostream>
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <cmath>
#include <algorithm>
#include <stack>
#include <queue>
#include <set>
#include <map>
#include <vector>
#include <cassert>

typedef long long int LL;

int main(void)
{
int t,n,m;    
LL x,y,count;
scanf("%d",&t);
while(t--)
{
scanf("%d %d",&n,&m);
count=0;
 x=n/m;
 y=n%m;          
count=count+x*x*(m-1)+x*(x-1);
if(m%2==0)
count=count-x;
count=count/2;
count=count+y*x;
if(y>m/2)
count=count+y-(m/2);
printf("%lld\n",count);
}    
return 0;    
}
