#include <bits/stdc++.h>
using namespace std;
 
long long int N,M,T;
 
long long int bf(){
	long long int cnt =0; 
	for(int i=1;i<N;++i)
		for(int j=i+1;j<=N;++j){
			if((i+j)%M == 0)
				cnt++;
		}
	return cnt;
}

int main (){
	//freopen("in.txt","r",stdin);
	//freopen("out.txt","w",stdout);

	scanf("%lld",&T);
	
	long long int m1, m2 ,ans = 0, up_e, down_e; 
	
	while(T--){
		scanf("%lld %lld",&N,&M);
		m1 = N/M;
		m2 = (2*N)/M;
		
		up_e = down_e = 0 ;
		
		if(M<=N){
			if(M%2){
				down_e = m1/2;
			}else
				down_e = m1;
		}
		
		if(M%2 == 0)
			up_e = m2;
		else
			up_e = m2/2;
		
		long long int a=0, b=0, final_e = 0 , c = 0;
		
		
		if(M%2){
			a = (m1 - down_e)/2;
			b = (m2 - up_e)/2;
			final_e = up_e - down_e;
			c = (m2-m1-final_e)/2;
		}
		
		ans = M*((m1*(m1+1)/2))/2 -a - down_e;
		ans += (m2-m1)*N -  M*(( m2*(m2+1)/2 - m1*(m1+1)/2))/2  + c ;
			
		printf("%lld\n",ans);
	}
	
	return 0;	
}