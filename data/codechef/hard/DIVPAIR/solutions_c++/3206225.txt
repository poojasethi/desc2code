    #include<cstdio>
    int main()
    {
    long long T;
    scanf("%llu",&T);
    while(T--)
    {
    long long  M,N;
    long long count=0;
    scanf("%llu%llu",&N,&M);
    long long B=M*((2*N-1)/M);
    long int X=B/M;
    if(!(M%2)){count=(((M*X*(X+1))/2)-(2*X))/2;}
    else{count=(((M*X*(X+1))/2)-(3*X/2))/2;}
    long long L=(((N+1)/M)+1)*M,C=((X)-((N+1)/M));
    if(C>0)count-=((((L+B)*C)/2)-((N+1)*C));
    printf("%llu\n",count);
    }
    }

