#include<stdio.h>
inline int inp()
{
    int noRead=0;
    char p=getchar_unlocked();
    for(;p<33;)
    {
     p=getchar_unlocked();
    };
    while(p>32)
    {
     noRead = (noRead << 3) + (noRead << 1) + (p - '0');
     p=getchar_unlocked();
    }
    return noRead;
};
int main()
{
    long long int t,n,m,x,y,c=0;
    t=inp();
    while(t--)
    {
        n=inp();
        m=inp();
        c=0;
        x=n/m;
        y=n%m;
            c+=((x*x*(m-1)-((m%2==0)?x:0))+x*(x-1))/2+y*x;
            if(y>m/2)
            c+=y-m/2;
        printf("%lld\n",c);
    }
    return 0;
}