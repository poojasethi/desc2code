#include<iostream>
#include<cstdio>
using namespace std;
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        unsigned long long int n,m,k,ans=0,r;
        scanf("%llu%llu",&n,&m);
        k=n/m;
        r=n%m;
        ans+= k*k*(m-1);
		ans+= k*(k-1);
		if(m%2==0)
            ans-=k;
        ans/=2;
		ans+=k*r;
		if(r>m/2)
            ans+= r-m/2;
        printf("%llu\n",ans);
    }
    return 0;
}
