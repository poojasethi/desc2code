#include<cstdio>
#include<iostream>
using namespace std;



int N, M;
long long ans;


void solve()
{
  long long x, y;
  scanf("%d%d", &N, &M);
  x = N/M;
  y = N%M;

  ans = 0;
  ans += x*x*(M-1);
  ans += x*(x-1);

  if(M%2 == 0)ans-=x;

  ans/=2;
  ans+= y*x;

  if(y>M/2)ans+= y-M/2;
  printf("%lld\n", ans);

}
int main()
{
    #ifndef ONLINE_JUDGE
        freopen("in.txt","r",stdin);
        freopen("out.txt","w",stdout);
    #endif


    int t;
    scanf("%d", &t);
    while(t--)
    {
      solve();

    }


}
