#include <iostream>
#include <cstdio>

using namespace std;

int main(){

	int t;
	long long result=0,n,m,loop,rem;
	scanf("%d", &t);
	for(int i=0; i<t; i++){
		result = 0;
		scanf("%lld", &n);
		scanf("%lld", &m);
		loop = n/m;
		rem = n%m;
		if(n < m){
			if(rem > m/2) result = rem-(m/2);
		}
		else {
			
			result = ((m-1)*loop*loop + loop*(loop-1));
			if(m%2 == 0){
				result -= loop;
			}
			
			result /= 2;
			result += (rem)*loop;
			if(rem > m/2) result += rem - (m/2);
		}
		
		printf("%lld\n", result);
	}
	return 0;
}