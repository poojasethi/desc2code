#include<iostream>
#include<cstdio>
using namespace std;

int inline scan()
{
int n=0;
char c=getchar_unlocked();
while(c < '0' || c >'9') {c=getchar_unlocked();}
while(c>='0' && c<='9')
{
n=(n<<3)+(n<<1)+c-'0';
c=getchar_unlocked();
}
return n;
}

int main()
{
int t;
t=scan();
while(t--)
{
int n,m;
n=scan();
m=scan();
long long int q=n/m;
long long int r=n%m;
long long int ans=0;
ans=ans+q*(m*q-1);
if(m%2==0)
ans=ans-q;
ans=ans/2+r*q;
if(r>m/2)
ans=ans+r-m/2;
printf("%lld\n",ans);
}
return 0;
}
