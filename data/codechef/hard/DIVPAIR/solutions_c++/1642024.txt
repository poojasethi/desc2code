#include<algorithm>
#include<iostream>
#include<cstdio>
#include<vector>
#include<fstream>
#include<iomanip>
#include<bitset>
#include<deque>
#include<queue>
#include<string>
#include<map>
#include<cstring>
#include<sstream>
#include<cmath>
using namespace std;

int main()
{
	int T;
	scanf("%d", &T);
	for (int t = 0; t < T; t++)
	{
		unsigned long long N, M;
		scanf("%llu %llu", &N, &M);
		if (M > 2*N)
		{
			printf("0\n");
			continue;
		}
		else
		{ 
			unsigned long long k, res;
			k = (2*N-1)/M;
			if (M%2 == 0)
				res = (M/2)*((k*(k+1))/2)-k;
			else
				res = (M*((k*(k+1))/2)-((3*k)/2))/2;
			//printf("%llu\n", res);
			unsigned long long bk = N/M;
			unsigned long long l = k-bk-1;
			res -= M*((l*(l+1))/2);
			unsigned long long upperN = (bk+1)*M;
			//printf("%llu\n", res);
			if (upperN <= 2*N-1)
				res -= (upperN-N-1)*(l+1);
			printf("%llu\n", res);
		}	
	}
	return 0;
}
