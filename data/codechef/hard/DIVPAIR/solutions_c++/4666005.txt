#include<stdio.h>
#include<iostream>
using namespace std;

long long VAL(long long N,long long M)
{
	long long x,y,ans;
	x=N/M;
	y=N%M;
	ans= x*x*(M-1) + x*(x-1);
	if(M%2==0)
	ans-=x;
	ans/=2;
	ans+= x*y;
	if(y>M/2)
	ans+= y-M/2;
	return ans;
}

main()
{
	long long T;
	cin>>T;
	while(T--)
	{
		long long N,M;
		scanf("%lld%lld",&N,&M);
		printf("%lld\n",VAL(N,M)); 
	}
}