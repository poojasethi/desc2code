#include <algorithm>
#include <string>
#include <set>
#include <map>
#include <vector>
#include <queue>
#include <iostream>
#include <iterator>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <fstream>
#include <ctime>
#include <cstring>

using namespace std;

#define pb push_back
#define ppb pop_back
#define pi 3.1415926535897932384626433832795028841971
#define EPS 1e-9
#define INF 1e9
#define mp make_pair
#define pii pair<int,int>
#define pdd pair<double,double>
#define wile(n) while(n--) 
#define FOR(i,a,b) for ( int i=a; i<b; i++)
#define all(c) (c).begin(), (c).end()
#define SORT(c) sort(all(c))
#define rep(i,n) FOR(i,1,(n))
#define C(a) memset((a),0,sizeof(a))
#define ll long long
#define si(n) scanf("%d",&n)
#define sli(n) scanf("%lld",&n)
#define sf(n) scanf("%lf",&n)
#define sc(n) scanf("%s",n)
#define pri(n) printf("%d\n",n)
#define prli(n) printf("%lld\n",n)
#define maX(a,b) ((a)>(b)?(a):(b))
#define miN(a,b) ((a)<(b)?(a):(b))
#define abS(x) ((x)<0?-(x):(x))
#define SZ(v) ((int)(v.size()))
#define EPS 1e-9
#define MOD 1000000007
 
typedef long long LL;
typedef pair<int,int> PII;
typedef pair<LL,LL> PLL;
typedef vector<int> VI;
typedef vector<LL> VL;

int main()
{	int i,j,k,t,n,m;
	si(t);
	wile(t)
	{	si(n);
		si(m);
		LL x=n/m,y=n%m;
		LL ans=0;
 		ans += x*x*(m-1);
		ans += x*(x-1);
		if( ( m & 1) == 0 )
			ans-=x;
 		ans>>=1;
		ans+=x*y;
		if(y > (m>>1) )
			ans+= y-(m>>1);
 		prli(ans);
	}
	return 0;
} 


/* e.g. explanation:
n=7 m=25

valid slots		not to be considered

1-> x*M full cycles (x=N/M)

1-6/13/20
2-5/12/19
3-4/11/18/		25
4-3/10/17/		24
5-2/9/16/		23
6-1/8/15/		22

7-14/21			7	( a != b )

8-6/13/20
9-5/12/19
10-4/11/18/		25
11-3/10/17/		24
12-2/9/16/		23
13-1/8/15/		22

14-7/21			14

15-6/13/20
16-5/12/19
17-4/11/18/		25
18-3/10/17/		24
19-2/9/16/		23
20-1/8/15/		22

21-7/14/		21

 till here x*(x*(M-1)) selections 	where b!=0
 for b=0 x*(x-1)
	each selection repeated twice till now

now if m%2 == 0 (take case of n=6, m=25 ). for each cycle for n/2th entry like 3 3 (a == b )
so total=total-x (substract x selections for all such cases in each cycle )

n%m list
22-6/13/20
23-5/12/19
24-4/11/18/		25
25-3/10/17/		24

now /2 for the total as twice repeated each entry

for these n%m-> (n%m)*x selections (distinct no repetition)

special case when n>m
n=6, m=8
1
2-6
3-5
4-4
5-3
6-2
9
total selection for such case = if (n%m > m/2 ) only then we can have pairing, then total+= y-(m/2)

*/
