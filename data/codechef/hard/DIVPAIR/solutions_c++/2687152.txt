#include<iostream>
#include<cstdio>
#include<cstring>

#define ll long long
using namespace std;
int main()
{
    int T;
    ll n,m,x,y,pairs;
    scanf("%d",&T);
    while(T--)
    {
        scanf("%lld %lld",&n,&m);
        x=n/m; y=n%m;

        //pairs=0;
        pairs=x*x*(m-1);
        pairs+=x*(x-1);             //nus div by m
        if(m%2==0) pairs-=x;       //for even m... same no add upto m
        pairs/=2;
        pairs+=x*y;    //when i in x &j in y

        if(y>m/2)  pairs+=y-m/2;

        printf("%lld\n",pairs);
    }

    return 0;
}
