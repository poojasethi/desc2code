#include <iostream>
#include <cstdio>
using namespace std;
int main(){
	int T; 
	scanf("%d\n",&T);
	
	while(T--){
		long long N,M; scanf("%lld %lld\n",&N,&M);
		
		long long ans=0;
		long long x=N/M;
		long long y=N%M;
		ans=(M-1)*x*x+x*(x-1);
		if(!(M&1LL)) ans-=x;
		ans>>=1LL;
		
		ans+=y*x;
		
		if(y>=(M>>1LL)) ans+=y-(M>>1LL);
		printf("%lld\n",ans);
		
	}
	
return 0;}