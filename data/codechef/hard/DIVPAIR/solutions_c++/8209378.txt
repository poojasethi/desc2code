#include<bits/stdc++.h>
#include<stdio.h>
#include<math.h>
#define rep(i,n) for(typeof(n) i = 0; i<n; i++)
#define range(i,a,b) for(typeof(b) i = a; i<=b ; i++)
#define pb push_back
#define mp make_pair
#define ff first
#define ss second
#define gcd(x,y) __gcd(x,y)
typedef long long int ll;
const int SIZE = 1e5+1;
const ll inf = 1e10;
using namespace std;

ll n,m;

int main(){
    ios_base::sync_with_stdio(false);
    cin.tie(0);
    int tt;
    scanf("%d",&tt);
    while(tt--){
            scanf("%d %d",&n,&m);
    ll to = (n<<1)-1;
    ll cnt = (ll)(to/m);
    ll ans = 0LL;
    ll x=n/m;
    ll y=n%m;
    ans=((m-1)*x*(x-1))/2;
    ans+=x*((m-1)/2);
    ans+=(x*(x-1))/2;
    ans+=x*y;
    if(y>m/2)
    ans+=y-(m/2);
    printf("%lld\n",ans);}
    return 0;
}
