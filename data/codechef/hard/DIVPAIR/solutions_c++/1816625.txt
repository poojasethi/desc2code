#include <cstdio>
#include <algorithm>
using namespace std;

int t, n, m;

int main() {
	scanf("%d", &t);
	while (t--) {
		scanf("%d%d", &n, &m);
		long long ans = 0;
		long long a = n/m;
		long long b = n%m;
		ans = (m-1)*a*a;
		ans += (a-1)*a;
		if(m%2==0) ans-=a;
		ans/=2;
		ans+=a*b;
		if(b>m/2) ans+= b-m/2;
		printf("%lld\n", ans);
	}
}