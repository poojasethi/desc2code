#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;
int main()
{
	long long t,te,n,m,i,j,k,left,all,ans=0;
	cin>>t;
	for(te=0;te<t;te++)
	{
		scanf("%lld%lld",&n,&m);
		all=n/m;
		left=n%m;
		ans=((all*(all-1))/2);
		if(m%2==0)
		{
			ans+=((all*(all-1))/2);
			if(left>=(m/2))ans+=all;
		}
		ans+=(all*all*((m-1)/2));
		ans+=(min(left,(m-1)/2)*all);
		ans+=((all+1)*max(all-all,left-(m)/2));
		printf("%lld\n",ans);
	}
	return 0;
}