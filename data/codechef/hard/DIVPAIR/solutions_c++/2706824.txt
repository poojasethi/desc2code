#include<stdio.h>
#include<cassert>
#include<iostream>
#define LL long long
using namespace std;
main()
{
    int test_cases;
    scanf("%d",&test_cases);
    LL n,m;
    LL full,partial;
    LL ans=0;
    while(test_cases--)
    {
        ans=0;
        scanf("%lld %lld",&n,&m);
        full= n/m;
        partial=n%m;
        ans+= full*full*(m-1);
        ans+= full*(full-1);
        if(m%2==0)
            ans-= full;

        ans/=2;
        ans+= full*partial;

        if(partial>m/2)
            ans+= (partial-m/2);
        printf("%lld\n",ans);

    }

}
