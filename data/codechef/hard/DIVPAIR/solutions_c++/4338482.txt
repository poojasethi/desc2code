#include <stdio.h>

typedef long long INT64;
const int N=100000;
int nn[N];
int mm[N];

int main(int argc, char* argv[])
{
	int i,t,n,m;
	scanf("%d",&t);
	for(i=0;i<t;i++)
	{
		scanf("%d %d",&nn[i], &mm[i]);
	}
	for(i=0;i<t;i++)
	{
		n=nn[i];
		m=mm[i];
		INT64 sum=0;
		if(n+n>m)
		{
			int odd_start=m;
			int num=(n+n-1-m)/(2*m);
			int start=(m-1)>>1;
			int end=start+num*m;
			sum+=(((INT64)start+end)*(num+1))>>1;
		}
		if(n+n>2*m)
		{
			int even_start=m+m;
			int num=(n+n-1-m-m)/(2*m);
			int start=(m+m-1)>>1;
			int end=start+num*m;
			sum+=(((INT64)start+end)*(num+1))>>1;
		}
		int start=(n/m)*m;
		if (start<=n) start+=m;
		int end=((n+n-1)/m)*m;
		if(end>=start)
		{
			int num=(end-start)/m+1;
			sum-=(((INT64)end+start)*num)>>1;
			sum+=((INT64)n+1)*num;
		}
		printf("%lld\n", sum); 
	}
	return 0;
}
