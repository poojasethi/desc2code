#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
#include <algorithm>
#include <bitset>
#include <map>
#include <vector>

#define REP(a,b) for (int a = 0; a < b; a++)
#define FOR(a,b,c) for (int a = b; a <= c; a++)
#define RESET(a,b) memset(a,b,sizeof a)

#define PII pair<int,int>
#define MP make_pair
#define LL long long
#define PB push_back
#define F first
#define S second

using namespace std;

int nkasus;
LL a,b,kt,d;
LL n,m,kmax;
LL ki,ka,tgh,h;

int main(){
	scanf("%d", &nkasus);
	REP(jt,nkasus){
		scanf("%lld%lld", &n, &m);
		
		LL ans;
		if (m == 1){
			ans = n*(n-1)/2;
		}else{
			kmax = (2*n - 1)/m;
			kt = n/m;
			
			a = m*(kt + 1) - n - 1;
			b = m;
			d = kmax - kt;
			
			//printf("--%lld %lld\n", kmax, kt);
			int gen = (m & 1) ? 1 : 2;
			
			ans = (m*kmax*(kmax+1)/2 - kmax - (kmax*gen)/2)/2 - d*(2*a + (d - 1)*b)/2;
		}
		/*
		int bf = 0;
		FOR(i,1,n){
			FOR(j,i+1,n){
				if ((i + j)%m == 0){
					bf++;
				}	
			}
		}
		*/
		printf("%lld\n", ans);
	}	
	
	return 0;
}	
