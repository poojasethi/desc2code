#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
int k1[]={1,2,-1,-2,1,2,-1,-2};
int k2[]={2,1,2,1,-2,-1,-2,-1};
int c[1001][1001];
int n,m;
bool valid(int x)
{
	return (x>=1 && x<=n);
}
bool check(int a,int b,int n)
{
	int i,x,y,cnt=0;//cout<<"a ="<<a<<",b="<<b<<endl;
	for(i=0;i<8;i++)
	{
		x=a+k1[i];
		y=b+k2[i];
		if(valid(x) && valid(y) && c[x][y])
		{//cout<<x<<","<<y<<endl;
			cnt++;
			if(cnt==2)
				return true;
		}
	}
	return false;
}
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		// memset(c,0,sizeof(c[0][0]*1001*1001));
		int a1[1001]={},a2[1001]={},d1[2002]={},d2[2002]={};
		int i,j,ans=0,a,b;
		scanf("%d%d",&n,&m);
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=n;j++)
				c[i][j]=0;
		}
		for(i=0;i<m;i++)
		{
			scanf("%d%d",&a,&b);
			c[a][b]=1;
			a1[a]=a2[b]=d1[a+b]=d2[a-b+n]=1;
		}
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=n;j++)
			{
				if(!(c[i][j] || a1[i] ||
				a2[j] || d1[i+j] || d2[i-j+n] ) && check(i,j,n))
					ans++;
			}
		}
		printf("%d\n",ans );
	}	

	return 0;
}