#include<iostream>
#include<stdio.h>
#include<stdlib.h>
long long array[1001][1001];
int main()
{
    long long i,a,b,j,l,n,m,count1,count2,a1,b1,r[1001],c[1001],m1;
    int t;
    scanf("%d",&t);
    while(t--)
    {
        count1=0;count2=0;
        for(i=0;i<1001;i++)
            for(j=0;j<1001;j++)
            array[i][j]=0;
            for(i=0;i<1001;i++)
            {
                r[i]=0;c[i]=0;
            }
        scanf("%lld%lld",&n,&m);
        while(m--)
        {
            scanf("%lld%lld",&a,&b);
            array[a][b]=1;
            r[a]=1;
            c[b]=1;

            for(i=a-1,j=b-1;i>0&&j>0;i--,j--)
                if(array[i][j]==0)
                array[i][j]=2;
            for(i=a+1,j=b+1;i<=n&&j<=n;i++,j++)
                if(array[i][j]==0)
                array[i][j]=2;


                    for(i=a-1,j=b+1;i>0&&j<=n;i--,j++)
                        if(array[i][j]==0)
                        array[i][j]=2;

                    for(i=a+1,j=b-1;i<=n&&j>0;i++,j--)
                    if(array[i][j]==0)
                        array[i][j]=2;

        }

        //printf("aa");

        for(i=1;i<=n;i++)
        {
            if(r[i]==0)
            for(j=1;j<=n;j++)
        {
            if(c[j]==0)
            {count2=0;
            if(array[i][j]==0)
            {
                if((i+1<=n&&j+2<=n)&&(array[i+1][j+2]==1))
                    count2++;
                if((i+1<=n&&j-2>0)&&(array[i+1][j-2]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;

                        continue;
                    }
                if((i-1>0&&j+2<=n)&&(array[i-1][j+2]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;
                        continue;
                    }
                if((i-1>0&&j-2>0)&&(array[i-1][j-2]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;
                        continue;
                    }
                if((i+2<=n&&j+1<=n)&&(array[i+2][j+1]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;

                        continue;
                    }
                if((i+2<=n&&j-1>0)&&(array[i+2][j-1]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;

                        continue;
                    }
                if((i-2>0&&j+1<=n)&&(array[i-2][j+1]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;

                        continue;
                    }
                if((i-2>0&&j-1>0)&&(array[i-2][j-1]==1))
                    count2++;
                    if(count2>1)
                    {
                        count1++;

                        continue;
                    }

            }
            }
        }
        }

        printf("%lld\n",count1);

    }

    return 0;
}
