#include <iostream>
#include <stdio.h>
#include <string.h>
using namespace std;
int visr[1010],visc[1010],grid[1010][1010],dig1[4010],dig2[4010];
int n,m,t,res,a,b;
int Check(int a, int b,int u)
{
    int ret=0;
    if(a>2 && b>1 && grid[a-2][b-1]==u )ret++;
    if(a>2 && b<n && grid[a-2][b+1]==u )ret++;
                
    if(a>1 && b>2 && grid[a-1][b-2]==u )ret++;
    if(a<n && b>2 && grid[a+1][b-2]==u )ret++;

    if(a<n-1 && b>1 && grid[a+2][b-1]==u )ret++;
    if(a<n-1 && b<n && grid[a+2][b+1]==u )ret++;

    if(a>1 && b<n-1 && grid[a-1][b+2]==u )ret++;
    if(a<n && b<n-1 && grid[a+1][b+2]==u )ret++;

    return ret;
}
int main()
{
    //freopen("r.txt","r",stdin);
    scanf("%d",&t);
    for(int u=1;u<=t;u++)
    {
        res=0;
        scanf("%d %d",&n,&m);
        for(int i=0;i<m;i++)
        {
            scanf("%d %d",&a,&b);
            visr[a]=u , visc[b]=u , dig1[a+b]=u , dig2[a-b+n]=u , grid[a][b]=u;
        }
        for(int i=1;i<=n;i++)
           for(int j=1;j<=n;j++)
                if(visr[i]!=u && visc[j]!=u &&  grid[i][j]!=u && dig1[i+j]!=u && dig2[i-j+n]!=u && Check(i,j,u)>=2 )
                         res++;
        printf("%d\n",res);
    }

    return 0;
}
