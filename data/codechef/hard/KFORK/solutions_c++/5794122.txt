#include <bits/stdc++.h>
using namespace std;

#define N 1123
#define sd(x) scanf("%d", &x)

int n, num;
bool used[N][N], r[N], cl[N], d1[2*N], d2[2*N];

inline void check(int i, int j){
    if(i > n or i <= 0 or j > n or j <= 0) return;
    if(used[i][j]) num++;
    return;
}

inline void Solve(){
    int m, i, c = 0, j, x, y;
    cin>>n>>m;
    for(i = 0; i <= 2 * n + 2; i++){
        d2[i] = d1[i] = 0;
    }
    for(i = 0; i <= n; i++){
        r[i] = cl[i] = 0;
        for(j = 0; j <= n; j++){
            used[i][j] = 0;
        }
    }
    for(i = 1; i <= m; i++){
        sd(x); sd(y);
        used[x][y] = 1;
        r[x] = 1; cl[y] = 1;
        d1[x - y + n] = 1;
        d2[x + y] = 1;
    }
    for(i = 1; i <= n; i++){
        if(r[i]) continue;
        for(j = 1; j <= n; j++){
            if(cl[j] or d1[i - j + n] or d2[i + j]) continue;
            num = 0;
            check(i + 1, j + 2);
            check(i + 1, j - 2);
            check(i - 1, j + 2);
            check(i - 1, j - 2);
            check(i + 2, j + 1);
            check(i + 2, j - 1);
            check(i - 2, j + 1);
            check(i - 2, j - 1);
            if(num >= 2) c++;
        }
    }
    cout<<c<<endl;
    return;
}

int main(){
    //freopen("input.txt", "r", stdin);
    int t;
    cin>>t;
    while(t--){
        Solve();
    }
    return 0;
}
