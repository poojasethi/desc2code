#include<iostream>

using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,m,p,q,i,j,k;
		cin>>n>>m;
		
		int *x=new int[m+1];
		int *y=new int[m+1];
		
		 int** a = new int*[n+1]; 
        for(i=0; i <n+1;i++)
         a[i]=new int[n+1];
		//int a[1000][1000];
		for(k=0;k<m;k++)
		{
		  cin>>p>>q;	
		  x[k]=p-1;
		  y[k]=q-1;
		}
		
		for(i=0;i<n;i++)
		{
			for(j=0;j<n;j++)
			  {
			   a[i][j]=0;
		      }
		}
		
		for(k=0;k<m;k++)
		{
			p=x[k];
			q=y[k];
			
			  while(p>=0 && q>=0)
			  {
			  	 a[p--][q--]=1;
			  }
			
			p=x[k];
			q=y[k];
			  
			    
			   while(p<n && q<n)
			  {
			  	 a[p++][q++]=1;
			  }
			  
			  p=x[k];
			q=y[k];
			  
			  
			   while(p<n && q>=0)
			  {
			  	 a[p++][q--]=1;
			  }
			  
			p=x[k];
			q=y[k];
			
			 
			   while(p>=0 && q<n)
			  {
			  	 a[p--][q++]=1;
			  }
			  
			  p=x[k];
			  q=y[k];
			
			  for(i=0;i<n;i++)
			  {
			  	 a[p][i]=1;
			  }
			  
			   p=x[k];
			  q=y[k];
			  
			   for(i=0;i<n;i++)
			  {
			  	 a[i][q]=1;
			  }
			  
		}
		
	//	for(i=0;i<n;i++)
	//	{
	//		for(j=0;j<n;j++)
	//		 cout<<a[i][j]<<" ";
	//		 cout<<endl;
//		}
		
		int c=0;
		for(k=0;k<m;k++)
		{
			i=x[k];
			j=y[k];
			
					
			if(i+1<n && j+2<n)
			if(a[i+1][j+2]==2) 
			 {
			 c++;
			 a[i+1][j+2]=3;
		    }
			
		   if(i+1<n && j-2>=0)
		   	if( a[i+1][j-2]==2)
			 {
			 c++; 
			 a[i+1][j-2]=3;
		    }
			 
			 if( i-1>=0 && j+2<n)
			  if(a[i-1][j+2]==2)
			  {
			   c++;
			   a[i-1][j+2]=3;
		      }
		     
			 
			if(i-1>=0 && j-2>=0)
			if(a[i-1][j-2]==2)
			{
			 c++;
			 a[i-1][j-2]=3;
		    }
			 
			 if(i+2<n && j+1<n)
			 if(a[i+2][j+1]==2)
			{
			 c++;
			 a[i+2][j+1]=3;
		    }
			
			 if( i+1<n && j-1>=0)
			  if(a[i+2][j-1]==2)
			 {
			 c++;
			 a[i+2][j-1]=3;
		    }
		    
			  if(i-2>=0 && j+1<n)
			  if(a[i-2][j+1]==2)
			{
			 c++;
			 a[i-2][j+1]=3;
		    }
			
			if(i-2>=0 && j-1>=0)
			 if(a[i-2][j-1]==2)
			{
			 c++;
			 a[i-2][j-1]=3;
		   }
		   
		  if(i+1<n && j+2<n)
		   if(a[i+1][j+2]==0) 
			 {
			 //c++;
			 a[i+1][j+2]=2;
		    }
			
		  if( i+1<n && j-2>=0)
		 	if( a[i+1][j-2]==0)
			 {
			 //c++; 
			 a[i+1][j-2]=2;
		    }
			 
			 if( i-1>=0 && j+2<n)
			 if(a[i-1][j+2]==0)
			 {
			 //c++;
			 a[i-1][j+2]=2;
		    }
			 
			 if(i-1>=0 && j-2>=0)
			  if(a[i-1][j-2]==0)
			{
			 //c++;
			 a[i-1][j-2]=2;
		    }
			 
			 if( i+2<n && j+1<n)
			 if(a[i+2][j+1]==0 )
			{
			 //c++;
			 a[i+2][j+1]=2;
		    }
			
			 if( i+1<n && j-1>=0)
			 if(a[i+2][j-1]==0)
			 {
			 //c++;
			 a[i+2][j-1]=2;
		    }
		    
			 if(i-2>=0 && j+1<n)
			 if(a[i-2][j+1]==0)
			{
			 //c++;
			 a[i-2][j+1]=2;
		    }
			
			 if(i-2>=0 && j-1>=0)
			  if(a[i-2][j-1]==0) 
			{
			 //c++;
			 a[i-2][j-1]=2;
		   }
			 
			
		}
		cout<<c<<endl;
		
		
	}
}