#include<cstdio>
#include<vector>
#include<string.h>
#include<iostream>
#include<cstdlib>
#include<map>
#include<math.h>
#include<stack>

using namespace std;
#define gx getchar

void scan( int &n ) { int sign = 1; n = 0; char c = gx(); while( c < '0' || c > '9' ) { if( c == '-' ) sign = -1; c = gx(); } while( c >= '0' && c <= '9' ) n = (n<<3) + (n<<1) + c - '0', c = gx(); n = n * sign;}

/* this function calculates (a*b)%c taking into account that a*b might overflow */
 int mulmod(int a,int b){
    long long x = 0;
    int c=1000000007;
    long long y=a%c;
    while(b > 0){
        if(b%2 == 1){
            x = (x+y)%c;
        }
        y = (y*2)%c;
        b /= 2;
    }
    return x%c;
}

int ar[1000003];

int calc(int & n)
{
 	stack<int> st;
 	int i,ans,val;
 	 	
 	st.push(0);
 	ans=1;
 	
 	for(i=1;i<n;i++)
 	{
		while( !st.empty() && ar[st.top()]>ar[i])
		 { 
			val=(st.empty())? (i+1): (i- st.top()+1);
		    ans= mulmod(ans,val );
		    st.pop(); 
		 }
	    st.push(i);
	}
	 return ans;	
}

int main()
{
 
 int n,i,ans,k;
 //scanf("%d",&t);
 //while(t--)
 {
	 scanf("%d%d",&n,&k);
	 for(i=0;i<n;i++)
	  scan(ar[i]);
	  
	ans=calc(n);
	  
    printf("%d\n",ans);
  }
 return 0;
}    
 	 	 
	 	 
		 
 
  	 	
  
	 		 
		   	 
		   	 
