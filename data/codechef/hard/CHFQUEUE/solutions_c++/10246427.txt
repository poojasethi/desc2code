
#include <bits/stdc++.h>
#include <stack>
using namespace std;
#define mod 1000000007
// Prints smaller elements on left side of every element
void printPrevSmaller(int arr[], int n)
{
    // Create an empty stack
    stack<int> S;
    long long ans=1;
    // Traverse all array elements
    for (int i=n-1; i>=0; i--)
    {
        // Keep removing top element from S while the top
        // element is greater than or equal to arr[i]
        while (!S.empty() && arr[S.top()] >= arr[i])
            S.pop();
 
        // If all elements in S were greater than arr[i]
        if (!S.empty())
            ans=(ans*(S.top()-i+1))%mod;
        S.push(i);
    }
    cout<<ans<<endl;
}
 
/* Driver program to test insertion sort */
int arr[1000005];
int main()
{
   
    int i,j,k,n;
    cin>>n>>k;
    for(i=0;i<n;i++)
    cin>>arr[i];
    printPrevSmaller(arr, n);
    return 0;
}