#include <cstdio>
#include <cstdlib>
#include <algorithm>
#include <cstring>
#include <cmath>


using namespace std;
typedef struct cvor_st{

  int inf;
  int ind;
  struct cvor_st *next;


}STACK;

STACK *vrh;
const long long MOD = 1000000007;
long long sol = 1LL;
int n,k;


void push(int num,int index)
{
  STACK *novi;
  novi = (STACK *)malloc(sizeof(STACK));
  novi->inf = num;
  novi->ind = index;
  novi->next = vrh;
  vrh = novi;
}

void pop(int *index)
{
    STACK *pomocni;
    *index = vrh->ind;
    pomocni = vrh;
    vrh = vrh->next;
    free(pomocni);



}



int main()
{
  int i,a,si;
  scanf("%d%d",&n,&k);
  for(i = 0;i < n;i++)
  {
      scanf("%d",&a);
      if(vrh == NULL) push(a,i);
      else
      {
        if(a >= vrh->inf)
        push(a,i);

      else
       {
       while(vrh->inf > a)
        {
        pop(&si);
        sol = (sol * (i - si + 1)) % MOD;
        if(vrh == NULL) break;
        }

        push(a,i);
        }
        }

  }

    printf("%lld\n",sol);

    return 0;
}
