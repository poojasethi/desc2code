#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define ull unsigned long long
#define pb push_back
#define ft first
#define se second
#define mp make_pair

int main(int argc, char const *argv[]){
    int n, k, ans=1, mod=1000000007, x;    
    scanf("%d%d", &n, &k);
    int a[n];
    for(int i = 0; i < n; scanf("%d", a+i), ++i);
    stack<pair<int, int> > pr;
	
	for(int i = n-1; i >=0; --i){
		while(!pr.empty() && (pr.top()).ft>=a[i]) pr.pop();
		if(!pr.empty()) ans=(ans*1ll*(pr.top().se-i+1))%mod;
		pr.push(mp(a[i], i)); 
	}
    printf("%d\n", ans);
	return 0;
}