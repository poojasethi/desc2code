#include<iostream>
#include<string>
#include<utility>
#include<stack>
#define MOD 1000000007
using namespace std;
int main(){
stack< pair<int ,int> >s;
long long int n,k,a,f=1;
cin>>n>>k;
int arr[n],i=0;
for( i=0;i<n;i++)
	{
		cin>>arr[i];
	}

	i=0;
for(i=0;i<n;i++)
{  if(s.empty())
     s.push(make_pair(arr[i],i));
     else
     {
         if(s.top().first>arr[i])
				while(!s.empty() && s.top().first>arr[i])
				{

					f=(f%MOD*(long long int)(i-s.top().second+1)%MOD)%MOD;
					s.pop();
				}


				s.push(make_pair(arr[i],i));

         }


}
cout<<f;

return 0;
}
