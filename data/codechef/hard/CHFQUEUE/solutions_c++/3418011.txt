#include <cstdio>
#include <cstdlib>
#include <vector>
#include <cmath>
using namespace std;
#define sf(a) scanf("%d",&a)
#define pf(a) printf("%d",a)
#define pfl(a) printf("%lld",a)
#define pln() printf("\n")
#define FOR(i,a,b) for(i=a;i<b;i++)
#define REV(i,a,b) for(i=a;i>b;i--)
#define pb push_back
#define mod 1000000007
typedef long long int LL;
int main(){
	int n,k;
	sf(n);
	sf(k);
	int arr[n];
	int i;
	FOR(i,0,n){
		sf(arr[i]);
	}
	int stack[n];
	int point=-1;
	LL ans=1;
	stack[++point]=0;
	FOR(i,1,n){
		int j;
		REV(j,point,-1){
			if(arr[i]<arr[stack[j]]){
				ans=ans*(i-stack[j]+1)%mod;
				point--;
			}
			else break;
		}
		stack[++point]=i;
	}
	pfl(ans);
	pln();
	return 0;
}
