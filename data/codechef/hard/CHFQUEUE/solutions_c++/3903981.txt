#include<stdio.h>
#include<stdlib.h>
#include<iostream>
#include<algorithm>
using namespace std;
# define MOD 1000000007
# define MAX 1000010
long long a[MAX];
struct node{
long long value;
long long index;
}stack[MAX];
long long top=-1;

long long push(long long x,long long ind)
{
    long long a;
    while(top>=0&&stack[top].value>=x)
        top--;
        if(top==-1)
        a=1;
        else
            a=stack[top].index- ind + 1;
        top++;
    stack[top].value=x;
    stack[top].index=ind;

    return a;

}

int main()
{
     long long i,j,n,k,ans=1;
     int t;
     cin>>n>>k;
     for(i=0;i<n;i++)
        cin>>a[i];
     for(i=n-1;i>=0;i--)
     {
         ans =(ans * push(a[i],i))%MOD;
     }
     cout<<ans<<endl;

return 0;
}
