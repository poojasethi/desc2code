#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<vector>
#include<map>
#include<cmath>
using namespace std;
typedef long long int ll;
ll v[10],dp[11][1<<14],val[10],j;
ll arr[10][10]={
                    {55,60,4,25,18,10,12,8,11,50},
                    {60,45,75,23,27,20,24,7,33,12},
                    {4,75,78,32,36,30,36,6,12,65},
                    {25,23,32,15,45,40,48,5,14,23},
                    {18,27,36,45,54,50,60,4,15,12},
                    {10,20,30,40,50,60,72,3,32,34},
                    {12,24,36,48,60,72,84,2,23,34},
                    {8,7,6,5,4,3,2,1,34,123},
                    {11,33,12,14,15,32,23,34,65,48},
                    {50,12,65,23,12,34,34,123,48,71}
                    };

ll recc(ll index,ll bit)
{
    //cout<<bit<<endl;
    if(dp[index][bit]!=-1)
        return dp[index][bit];
    if(bit==0)
        return 0;
    ll s=0,sit=0,kit=0,p=0,i;
    for(i=0;i<j;i++)
    {
        p=0;
        //cout<<bit<<" "<<(1<<((2*i)+1))<<endl;
        if((bit&(1<<((2*i)+1)))==(1<<((2*i)+1))&&(bit&(1<<(2*i)))==0)
        {
            //cout<<"Rohil";
            sit=bit;
            sit=sit|(1<<(2*i));
            kit=1<<((2*i)+1);
            kit=~kit;
            sit=sit&kit;
            //cout<<arr[val[index]][val[i]]<<endl;
            if(index==10)
                p=recc(i,sit);
            else
            p=arr[val[index]][val[i]]+recc(10,sit);
        }
        else if((bit&(1<<((2*i)+1)))==0&&(bit&(1<<(2*i)))==(1<<((2*i))))
        {
            //cout<<"Raj";
            sit=bit;
            kit=1<<((2*i));
            kit=~kit;
            sit=sit&kit;
            //cout<<arr[val[index]][val[i]]<<endl;
            if(index==10)
                p=recc(i,sit);
            else
            p=arr[val[index]][val[i]]+recc(10,sit);
        }
        else if((bit&(1<<((2*i)+1)))==0&&(bit&(1<<(2*i)))==0)
        {
            continue;
        }
        //cout<<p<<endl;
        s=max(s,p);
    }
    dp[index][bit]=s;
    return dp[index][bit];
}
int main()
{
    /*for(int i=0;i<10;i++)
    {
        for(int j=0;j<10;j++)
            cout<<arr[i][j]<<" ";
        cout<<endl;
    }*/
    //int u=682;
   //cout<<(u&(1<<2))<<" "<<(u&(1<<1))<<endl;
    memset(v,0,sizeof(v));
        v[0]=2;
        for(int i=1;i<11;i++)
        {
            v[i]=(1<<((2*i)+1))+v[i-1];
        }
    ll tc,i,a[10],b[10];
    cin>>tc;
    while(tc--)
    {
        memset(dp,-1,sizeof(dp));

        memset(val,0,sizeof(val));
        memset(a,0,sizeof(a));
        memset(b,0,sizeof(b));
        for(i=0;i<10;i++)
        {
            cin>>a[i];
        }
        for(i=0;i<10;i++)
        {
            cin>>b[i];
        }
        //cout<<"rohil";
        j=0;
        for(i=0;i<10;i++)
        {
            if(a[i]>0&&b[i]==1)
            {
                val[j]=i;
                j++;
            }
        }


       /* for(i=0;i<j;i++)
            cout<<v[i]<<" ";
        cout<<endl;
       */
       // cout<<"rohil";
        cout<<recc(10,v[j-1])<<endl;
    }
    return 0;

}
