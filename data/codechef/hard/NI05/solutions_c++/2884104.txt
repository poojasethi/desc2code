#include<iostream>
#include<stdio.h>
using namespace std;
int A[10][10]={
55,	60,	4,	25,	18,	10,	12,	8,	11,	50,
60,	45,	75,	23,	27,	20,	24,	7,	33,	12,
4,	75,	78,	32,	36,	30,	36,	6,	12,	65,
25,	23,	32,	15,	45,	40,	48,	5,	14,	23,
18,	27,	36,	45,	54,	50,	60,	4,	15,	12,
10,	20,	30,	40,	50,	60,	72,	3,	32,	34,
12,	24,	36,	48,	60,	72,	84,	2,	23,	34,
8,	7,	6,	5,	4,	3,	2,	1,	34,	123,
11,	33,	12,	14,	15,	32,	23,	34,	65,	48,
50,	12,	65,	23	,12,	34	,34,	123,	48,	71};

long long int B[3][3][3][3][3][3][3][3][3][3];
int C[10];

long long int func(int temp[]){
	if(B[temp[0]][temp[1]][temp[2]][temp[3]][temp[4]][temp[5]][temp[6]][temp[7]][temp[8]][temp[9]]!=-1)
		return B[temp[0]][temp[1]][temp[2]][temp[3]][temp[4]][temp[5]][temp[6]][temp[7]][temp[8]][temp[9]];
	long long int sum=0,max=0;
	int i,j,k;
	for(i=0;i<10;i++){
		sum+=temp[i];
		
	}
	if(sum==0)
		return 0;
	
	for(i=0;i<10;i++)
		for(j=i;j<10;j++){
			int temp1[10];

			if(j==i){
				if(temp[i]==2){
					for(k=0;k<10;k++)
						temp1[k]=temp[k];

					temp1[i]-=2;
					if(func(temp1)+A[i][i]>max)
						max=func(temp1)+A[i][i];

				}
			}
			else if(j!=i){
				if(temp[i]>0&&temp[j]>0){
					//int temp1[10];
					for(k=0;k<10;k++)
						temp1[k]=temp[k];


					temp1[i]--;
					temp1[j]--;
					if(func(temp1)+A[i][j]>max)
						max=func(temp1)+A[i][j];
				}
			}
		}
	//cout<<max<<endl;
B[temp[0]][temp[1]][temp[2]][temp[3]][temp[4]][temp[5]][temp[6]][temp[7]][temp[8]][temp[9]]=max;
return B[temp[0]][temp[1]][temp[2]][temp[3]][temp[4]][temp[5]][temp[6]][temp[7]][temp[8]][temp[9]];
}


int main(){

	int m;
	scanf("%d",&m);
	while(m>0){
		m--;
		int i=0,a,i1,i2,i3,i4,i5,i6,i7,i8,i9,i10;
		for(i=0;i<10;i++)
			cin>>a;
		for(i=0;i<10;i++)
			cin>>C[i];
	for(i1=0;i1<3;i1++)
	for(i2=0;i2<3;i2++)
	for(i3=0;i3<3;i3++)
	for(i4=0;i4<3;i4++)
	for(i5=0;i5<3;i5++)
	for(i6=0;i6<3;i6++)
	for(i7=0;i7<3;i7++)
	for(i8=0;i8<3;i8++)
	for(i9=0;i9<3;i9++)
	for(i10=0;i10<3;i10++)
		B[i1][i2][i3][i4][i5][i6][i7][i8][i9][i10]=-1;

	int temp[10];
	for(i=0;i<10;i++)

		if(C[i])
			temp[i]=2;
		else
			temp[i]=0;
	//for(i=0;i<10;i++)
		//cout<<temp[i]<<"  ";
	printf("%lld\n",func(temp));
	}
}


			


