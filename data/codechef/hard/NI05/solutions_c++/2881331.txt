#include<stdio.h>

bool checkValid(int in[] , int count){

	for(int i = 1 ; i<=count ; i++){
	
		for(int j = 1 ; j<=count ; j++){
		
			if(i==j)
				continue ;

			if(in[i] == in[j])
				return false ;
		}
	}
	return true ;
}

int main(){

	int arr[10][10] = {55,60,4,25,	18,	10,	12,	8,	11,	50,
60,	45,	75,	23,	27,	20,	24,	7,	33,	12,
4,	75,	78,	32,	36,	30,	36,	6,	12,	65 ,
25	,23,	32,	15,	45,	40,	48,	5,	14,	23 ,
18	,27	,36	,45	,54	,50	,60	,4	,15	,12 ,
10	,20	,30	,40	,50	,60	,72	,3	,32	,34,
12	,24	,36	,48	,60	,72	,84	,2	,23	,34,
8	,7,	6,	5,	4,	3,	2,	1,	34,	123,
11	,33	,12	,14	,15	,32	,23	,34	,65	,48,
50	,12	,65	,23	,12	,34	,34	,123	,48	,71,
	};

	int m ;

	int val[10] ;
	int bit ;
	int work[7] ;

	scanf("%d",&m) ;

	while(m--){
	
		for(int i = 0 ; i<10 ; i++)
			scanf("%d",val+i) ;

		int count = 0 ;
		for(int i = 0 ; i<10 ; i++){
		
			scanf("%d",&bit) ;
			if(bit){
			
				work[count++] = i ;
			}
		}

		int ans = 0 ;
		int sum ;
		int in[8] ;
		for(in[1] = 0 ; in[1]<count ; in[1]++){
		
			for(in[2] = 0 ; in[2]<count ; in[2]++){
				/*
				if(in[2]==in[1])
					continue ;
				*/
				for(in[3] = 0 ; in[3]<count ; in[3]++){
		/*
					if(in[3]==in[1] || in[3] == in[2])
						continue ;
					*/
					for(in[4] = 0 ; in[4]<count ; in[4]++){
						/*
						if(in[4]==in[1] || in[4]==in[2] || in[4]==in[3])
							continue ;
						*/
						for(in[5] = 0 ; in[5]<count ; in[5]++){
							/*
							if(in[5]==in[1] || in[5]==in[2] || in[5]==in[3] || in[5]==in[4])
								continue ;
						*/
							for(in[6] = 0 ; in[6]<count ; in[6]++){
								/*
								if(in[6]==in[1] || in[6]==in[2] || in[6]==in[3] || in[6]==in[4] || in[6]==in[5]) 
									continue ;
								*/
								for(in[7]=0 ; in[7]<count ; in[7]++){
								
							/*		if(in[7]==in[1] || in[7]==in[2] || in[7]==in[3] || in[7]==in[4] || in[7]==in[5] || in[7]==in[6])
										continue ;
								*/
									
									if(checkValid(in,count)){
										sum = 0 ;


										for(int j = 0 ; j<count ; j++)
											sum += arr[work[j]][work[in[j+1]]] ;
								
										if(ans < sum)
											ans = sum ;
									}
								}

							}
							
						}

					}
				}	
			}
		}

		printf("%d\n",ans) ;

	}
	return 0 ;
}
