#include <iostream>

using namespace std;

#define	MAXN	100010

char prime[MAXN];
long long a[MAXN];

int main(int argc, char *argv[])
{
	for (int i = 2; i < MAXN; i++) prime[i] = 1;
	a[1] = 1;
	for (long long i = 2; i < MAXN; i++)
		if (prime[i]) {
			a[i] = a[i - 1];
			for (long long j = i + i; j < MAXN; j += i) {
				prime[j] = 0;
				a[j] += a[i];
			}
			for (long long j = i * i; j < MAXN; j *= i)
				for (long long k = j; k < MAXN; k += j)
					a[k] += a[i];
		}
	
	int nc;
	cin >> nc;
	for (int ci = 0; ci < nc; ci++) {
		int m, p, k;
		cin >> m;
		long long ans = 1;
		for (int i = 0; i < m; i++) {
			cin >> p >> k;
			ans += k * a[p];
			if (p == 2) ans--;
		}

		cout << ans << endl;
	}

	return 0;
}
