#include<iostream>
#include<cstdio>
#include<vector>
#include<cmath>


 using namespace std;
 int x[200000],y[200000],z[2000000];
 vector< vector<int> > v(65540);
 vector< vector<int> >  w(65540);
 int arr[65540];
 long long dis[65540];

 void dfs(int k) {
	 arr[k]=1;
	 for(int i=0;i<v[k].size();i++) {
		 int q =v[k][i];
		 dis[q]=dis[k]+w[k][i];
		 if(!arr[q])
		   dfs(q);
	 }
 }

 int main() {
	 int n,m;
	 scanf("%d %d",&n,&m);
	 for(int i=0;i<m;i++) {
		 scanf("%d%d%d",&x[i],&y[i],&z[i]);
		v[x[i]-1].push_back(y[i]);
		w[x[i]-1].push_back(z[i]);
		v[y[i]].push_back(x[i]-1);
		w[y[i]].push_back(-z[i]);
	 }
	 for(int i=0;i<=n;i++) if(!arr[i]) dfs(i);
	 for(int i=0;i<m;i++) if(dis[y[i]]-dis[x[i]-1]!=z[i]){
		 puts("-1");
		 return 0;
	 }
	 for(int i=1;i<=n;i++) printf("%lld ",dis[i]-dis[i-1]);
	 return 0;
 }



