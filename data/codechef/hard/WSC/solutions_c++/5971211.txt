#include<bits/stdc++.h>
using namespace std;




int main()
{
    int t,n,m,x,y;

    scanf("%d",&t);
    while(t--)
    {

        scanf("%d %d", &n, &m);

        int arr [n+1];
            memset(arr,0,(n+1)*sizeof(int));

             for(int i=0; i<m ;i++){
                scanf("%d %d",&x, &y);
                 arr[x]+=1;
                 arr[y]+=1;
                }

        if(m>2)
            printf("NO\n");
        else
            if(m<2)
                printf("YES\n");
            else{

                     int _count=0;

                    for(int i=1;i<=n;i++){
                        if(arr[i]>0)
                            _count++;
                    }

                    if(_count>3)
                            printf("NO\n");
                    else{
                                int mytemp=0;
                                for(int i=0;i<=n;i++)
                                        if(arr[i]>0){
                                            mytemp=arr[i];
                                            break;
                                        }

                                int flag=0;

                                for(int i=0;i<=n;i++){
                                        if(arr[i]>0){
                                            if(mytemp!=arr[i]){
                                                flag=1;
                                                break;
                                                }
                                        }
                                }

                                if(flag)
                                    printf("YES\n");
                                else
                                    printf("NO\n");
                            }
                }
    }
return 0;
}
