#include <cstdio>
using namespace std;
typedef struct node
{
	int smoke;
	int color;
}node;
int main()
{
	int n;
	while(scanf("%d",&n)>0)
	{
		node arr[n][n];         //[from][to]
		for(int i=0;i<n;i++)
			for(int j=0;j<n;j++)
			{
				if(j==i)
				{
					scanf("%d",&arr[i][j].color);
					arr[i][j].color%=100;
					arr[i][j].smoke=0;
				}
				else
				{
					arr[i][j].smoke=0;
					arr[i][j].color=0;
				}
			}
		for(int d=1;d<n;d++)
		{
			for(int j=0;j<n;j++)
			{
				if(j+d>=n)
					continue;
				if( d==1 )
				{
					arr[j][j+d].smoke=arr[j][j].color*arr[j+d][j+d].color;
					arr[j][j+d].color=(arr[j][j].color+arr[j+d][j+d].color)%100;
				}
				else
				{
					int ms=(arr[j][j].color*arr[j+1][j+d].color)+arr[j+1][j+d].smoke+arr[j][j].smoke;
					int col=(arr[j][j].color+arr[j+1][j+d].color)%100;
					for(int x=j+1;x<j+d;x++)
					{
						int ns=(arr[j][x].color*arr[x+1][j+d].color)+arr[j][x].smoke+arr[x+1][j+d].smoke;
						if(ns<ms)						
							ms=ns;
					}
					arr[j][j+d].smoke=ms;
					arr[j][j+d].color=col;
				}
			}
		}
		// for(int i=0;i<n;i++)
		// {
		// 	for(int j=i;j<n;j++)			
		// 	{
		// 		// if(j<i)
		// 		// 	printf("---");
		// 		// else
		// 			printf(" %d ",arr[i][j].color);
		// 	}
		// 	printf("\n");
		// }
		printf("%d\n",arr[0][n-1].smoke);
	}
	return 0;
}

					// int sm1,sm2;
					// sm1=(arr[i-1][j].color*arr[i][i].color)+arr[i-1][j].smoke+arr[i][i].smoke;
					// sm2=(arr[i][j+1].color*arr[j][j].color)+arr[i][j+1].smoke+arr[j][j].smoke;
					// if(sm1<sm2)
					// {
					// 	arr[i][j].smoke=sm1;
					// 	arr[i][j].color=(arr[i-1][j].color+arr[i][i].color)%100;
					// }
					// else if(sm1==sm2)
					// {
					// 	arr[i][j].smoke=sm1;
					// 	int c1,c2;
					// 	c1=(arr[i-1][j].color+arr[i][i].color)%100;
					// 	c2=(arr[i][j+1].color+arr[j][j].color)%100;
					// 	if(c1<c2)
					// 		arr[i][j].color=c1;
					// 	else
					// 		arr[i][j].color=c2;
					// }
					// else
					// {
					// 	arr[i][j].smoke=sm2;
					// 	arr[i][j].color=(arr[i][j+1].color+arr[j][j].color)%100;
					// }