#include<cstdio>
#define M(a,b) a<b?a:b
main()
{
 int smoke[100][100],mixture[100][100],colours[100],i,j,k,tj,min,temp,p;
 while(scanf("%d",&tj)!=EOF)
 {
	for(i=0;i<tj;i++) scanf("%d",&mixture[i][i]),colours[i]=mixture[i][i];	
	for(i=0;i<tj;i++) smoke[i][i]=0;
	for(i=0;i<tj;i++) for(temp=mixture[i][i],j=i+1;j<tj;j++) temp+=colours[j],mixture[i][j]=temp%100;	
	for(j=0,p=1,temp=tj;temp>0;temp--,p++)
	{
	 for(i=0;i<temp;smoke[i][j]=min,i++) for(j=i+p,min=999999,k=i+1;k<=j;k++) min=M(min,smoke[i][k-1]+smoke[k][j]+mixture[i][k-1]*mixture[k][j]);
	}
	printf ("%d\n",smoke[0][tj-1]);
 }
}