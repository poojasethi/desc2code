#include<bits/stdc++.h>
using namespace std;
int dp[101][101];
int smoke[101][101];
int mix[101];
int main()
{
int n;int i;int j;int k;
while(scanf("%d",&n)>0)
{
for(i=1;i<=n;i++)
{
for(j=1;j<=n;j++)
smoke[i][j]=9999999;
}
int color;int temp;
for(i=1;i<=n;i++)
{
cin>>mix[i];
}
for(i=1;i<=n;i++)
{
dp[i][i]=mix[i];
smoke[i][i]=0;
for(j=i-1;j>=1;j--)
{
color=100;
for(k=j;k<i;k++)
{
temp=dp[j][k]*dp[k+1][i];
temp=temp+smoke[j][k]+smoke[k+1][i];
if (temp<smoke[j][i])
{
smoke[j][i]=temp;
color=(dp[j][k]+dp[k+1][i])%100;
}
else if (temp==smoke[j][i] && ((dp[j][k]+dp[k+1][i])%100)<color)
{
smoke[j][i]=temp;
color=(dp[j][k]+dp[k+1][i])%100;
}
}
dp[j][i]=color;
}//j
 
}//i
cout<<smoke[1][n]<<"\n";
}//while
 
return 0;
}//main 