#include<bits/stdc++.h>
using namespace std;
# define N 105
int color[N][N],smoke[N][N];
int main()
{
    int n;
    while(scanf("%d",&n)!=EOF)
    {
        for(int i=1; i<=n; i++)
        {
            scanf("%d",&color[i][i]);
        }
        for(int len=1; len<=n; len++)
        {
            for(int i=1; i<=n-len; i++)
            {
                int temp=INT_MAX;
                int z=0;
                for(int k=0; k<len; k++)
                {
                    if(temp>smoke[i][i+k]+smoke[i+k+1][i+len]+color[i][i+k]*color[i+k+1][i+len])
                    {
                        temp=smoke[i][i+k]+smoke[i+k+1][i+len]+color[i][i+k]*color[i+k+1][i+len];
                        z=k;
                    }
                }
               smoke[i][i+len]=temp;
               color[i][i+len]=(color[i][i+z]+color[i+z+1][i+len])%100;
            }
        }
        printf("%d\n",smoke[1][n]);
    }
    return 0;
}
