#include<bits/stdc++.h>
using namespace std;

int main()
{
	
	int t,n,a[100001],num,i;
	long long int sum=0;
	scanf("%d",&t);
	while(t--)
	{
		sum=0;
		map<int,int>largest;
		scanf("%d",&n);
		for(i=0;i<n;i++)
		{
			map<int,int>s;
			scanf("%d",&a[i]);
			num=a[i];
			while (num%2 == 0)
		    {
		        num = num/2;
		        s[2]+=1;
		    }
		 
		    for (int i = 3; i <= sqrt(num); i = i+2)
		    {
		        while (num%i == 0)
		        {
		            num= num/i;
		            s[i]+=1;
		        }
		    }
		    if (num > 2)
				s[num]+=1;
			map<int,int>::iterator it1,it2;
			it2=largest.begin();
			for(it1=s.begin();it1!=s.end();it1++)
			{
				if(largest[it1->first]<it1->second)
				{
					largest[it1->first]=it1->second;
					it2++;
				
				}
				else if(it1->first>it2->first)
				it2++;
				else if(it1->first<it2->first)
				{
					largest[it1->first]=it1->second;
					it2++;
				}
				
			}
			
		}
		map<int,int>::iterator it1;
		for(it1=largest.begin();it1!=largest.end();it1++)
		{
			sum+=it1->second;
		}
		printf("%lld\n",sum);
		
	}
	return 0;
}