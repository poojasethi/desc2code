#include <iostream>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <vector>
#include <string>
#include <map>
#include <set>
#include <queue>
#include <algorithm>
#define lli long long int
#define pb push_back
#define mod 1000000007
#define pii pair<int,int>

using namespace std;
vector<int> vec;
int prim[1000009],cnt[1000000];
void pre(){
    prim[1]=1;
    for(int i=2;i<=1000000;i++){
        if(prim[i]==0){
            vec.pb(i);
            for(int j=2;i*j<=1000000;j++){
                prim[i*j]=1;
            }
        }
    }
}
int main()
{
    int t,i,j,a,b,c,n,d;
    pre();
    scanf("%d",&t);
    while(t--){
        scanf("%d",&n);
        lli ans=0;
        memset(cnt,0,sizeof(cnt));
        for(i=0;i<n;i++){
            scanf("%d",&a);
            for(j=0;j<vec.size() && a>1 ;j++){
                if(prim[a]==0){
                    cnt[a]=max(cnt[a],1);
                    break;
                }
                int tmp=0;
                while(a%vec[j]==0 && a > 1){
                    tmp++;
                    a/=vec[j];
                }
                cnt[vec[j]]=max(cnt[vec[j]],tmp);
            }
        }
        for(i=0;i<vec.size();i++){
            ans=(ans + cnt[vec[i]]);
        }
        printf("%lld\n",ans);
    }

    return 0;
}
