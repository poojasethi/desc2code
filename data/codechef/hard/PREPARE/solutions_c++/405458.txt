#include <cstdio>
#include <cstring>

using namespace std;

int n, o[1111], c[1111];

int dp[1111];
int sum[1111];
bool ok(int ans) {
     memset(dp, 0, sizeof(dp));
     int m = 0;
     int total = 0;
     for(int i = 0; i < n; i++)
       if(o[i]>ans) {
         sum[m++] = c[i];
         total += c[i];
       }
       
     dp[0] = 1;
     for(int i = 0; i < m; i++)
       for(int j = 0; j <= 1000; j++)
         if(dp[j] && (j+sum[i])<=1000)
           dp[j+sum[i]] = 1;
     
     for(int i = 0; i <= 1000; i++)
       if(dp[i] && ((i<=ans) && ((total-i)<=ans))) return true;
     return false; 
}


int main() {
    int t;
    scanf("%d", &t);
    
    while(t--) {
               scanf("%d", &n);
               for(int i = 0; i < n; i++)
                 scanf("%d%d", &o[i], &c[i]);
               int l = 1, r = 1000;
               
               while(l<r) {
                          int m = (l+r)/2;
                          if(ok(m))
                            r = m;
                          else
                            l = m+1;
               }
               printf("%d\n", r);
                                     
    }
}
