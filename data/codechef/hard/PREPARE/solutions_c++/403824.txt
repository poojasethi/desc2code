#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <algorithm>
#include <sstream>
#include <iostream>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <cstring>

using namespace std;

#define f(i, a, b) for(int i = a; i < b; i++)
#define rep(i, n) f(i, 0, n)

const int N = 1000;
int a[N], b[N];
int dp[N + 1];

int main(){

    dp[0] = 1;
    int T; cin >> T; while(T--) {

        int n; scanf("%d", &n);
        rep(i, n) scanf("%d %d", &a[i], &b[i]);

        int lo = 1;
        int hi = 1000;
        int res;

        while(lo <= hi) {

            int d = (lo + hi) / 2;
            vector<int> v;
            int sum = 0;

            rep(i, n) if(a[i] > d) {
                v.push_back(b[i]);
                sum += b[i];
            }

            if(sum > 2 * d) {
                lo = d + 1;
                continue;
            }

            f(i, 1, d + 1) dp[i] = 0;
            int k = v.size();

            for(int i = 0; i < k; i++)
                for(int j = d - v[i]; j >= 0; j--)
                    if(dp[j]) dp[j + v[i]] = 1;

            for(int i = d; i >= 0; i--)
                if(dp[i]) {
                    int j = sum - i;
                    if(j <= d) {
                        hi = d - 1;
                        res = d;
                    }
                    else lo = d + 1;
                    break;
                }
        }

        printf("%d\n", res);

    }
}
