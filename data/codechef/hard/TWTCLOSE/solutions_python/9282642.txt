# Solution to "Closing the Tweets for CodeChef
# by Peter Mattsson (quantum.caffeine@gmail.com)

import sys, heapq

def read(inFile):
    n, k = [int(x) for x in inFile.readline().split()]
    yield n, k, [inFile.readline().rstrip('\n') for _ in xrange(k)]

def write(outFile, answer):
    for x in answer:
        outFile.write(str(x)+'\n')

def solve(n, k, clicks):
    openTweets = set()
    results = []
    current = 0
    for click in clicks:
        if click == 'CLOSEALL':
            openTweets = set()
            current = 0
        else:
            clicked = int(click.split()[1])
            if clicked in openTweets:
                openTweets.remove(clicked)
                current -= 1
            else:
                openTweets.add(clicked)
                current += 1
        results.append(current)
    return results

for case in read(sys.stdin):
    write(sys.stdout, solve(*case))
