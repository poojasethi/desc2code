#include<iostream>
#include<vector>
#include<map>
#include<cstring> 
#include<set>
using namespace std;

bool find_aug_path(map<int,vector<int> > & graph,map<int,bool> & used,map<int,int> & matchy,int u){
	//cout<<u<<endl;
	if(used[u])
		return false;
	used[u]=true;
	for(int i=0;i<graph[u].size();i++){
		int v=graph[u][i];
		if(!matchy[v] || find_aug_path(graph,used,matchy,matchy[v])){
			matchy[v]=u; //reverse the augmenting path
			return true;
		}
	}
	return false;
}


int kuhn(map<int,vector<int> > & graph,set<int> & X){
	map<int,int> matchy;//matching vertex in left side for vertices in right side
	map<int,bool> used;//whether vertex in left side is part of current augmenting path or not

	int count=0;
	matchy.clear();
	for(set<int> ::iterator it=X.begin();it!=X.end();it++){
		int u=*it;
		used.clear();
		if(find_aug_path(graph,used,matchy,u))
			count++;	
			
	}
	return count;
	
}
		 
int main(){
	int t,n,u,v;
	cin>>t;
	while(t--){
		cin>>n;
		map<int,vector<int> > graph;
		set<int> X;
		for(int i=0;i<n;i++){
			cin>>u>>v;
			graph[u].push_back(v);
			X.insert(u);
		}
		cout<<kuhn(graph,X)<<endl;
	}
	return 0;

}






