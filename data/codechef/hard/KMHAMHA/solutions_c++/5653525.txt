#include<bits/stdc++.h>
#define vi vector<int> 
#define pb push_back
using namespace std;

//vi graph[108];
//queue<int> q;
map<int,bool> seen;
map<int,int> match;

map<int,vi> graph;

bool bpm(int src)
{
	int v,i;
	vi ::iterator itr;
	for(i=0;i<graph[src].size();i++)
	{
		v=graph[src][i];
		if(seen[v]==0)
		{
			seen[v]=1;
			if(match[v]<0 || bpm(match[v]))
			{
				match[v]=src;
				return true;
			}
			
			
		}
	}
	return false;
}

int main()
{
	int t,n,m,i,j,x,y,ans=0;
	scanf("%d",&t);
	
	while(t--)
	{
		ans=0;
		scanf("%d",&n);
		graph.clear();
		seen.clear();
		match.clear();
		for(i=0;i<n;i++)
		{
			scanf("%d %d",&x,&y);
			graph[x].pb(y);
			match[y]=-1;
			//match[x]=-1;
			seen[y]=0;
			//seen[x]=0;
		}
		
		//memset(match,-1,sizeof(match));
		map<int,vi> ::iterator itr;
		map<int,bool> ::iterator it;
		for(itr=graph.begin();itr!=graph.end();itr++)
		{
			for(it=seen.begin();it!=seen.end();it++)
			{
				it->second=false;
				
			}
			//memset(seen->second,0,sizeof(seen));
			if(bpm(itr->first))
			{
				ans++;
			}
			
		}
		printf("%d\n",ans);
		
		
		
	}
	
	return 0;
}