# include<bits/stdc++.h>
using namespace std;
# define long long ll
int matrix[2010][2010];
int n;
int arrx[2010],arry[2010],visited[2010],last,indexx,indexy;
int dfs(int i)
{
    int j;
    if(i==last)
    return 1;

    if(visited[i]==1)
    return 0;
    visited[i]=1;
    for(j=1;j<=last;j++)
    {
        if(matrix[i][j]==1)
        {
            if(dfs(j)==1)
            {
                matrix[i][j]=0;
                matrix[j][i]=1;
                return 1;
            }
        }
    }
    return 0;


}
int main()
{
    int i,j,count,flag,max,x,y,cases,k;

    scanf("%d",&cases);
    while(cases--)
   {scanf("%d",&n);
   last=2*n+5;
    indexx=1;
    indexy=n+1;
    memset(matrix,0,sizeof matrix);
    memset(arrx,0,sizeof arrx);
    memset(arry,0,sizeof arry);
    memset(visited,0,sizeof visited);
    for(i=0;i<n;++i)
    {
        scanf("%d%d",&x,&y);
        for(j=1;j<indexx;++j)
        if(arrx[j]==x)
        break;
        if(j==indexx)
        {
            arrx[indexx++]=x;
        }
        for(k=n+1;k<indexy;++k)
        if(arry[k]==y)
        break;
        if(k==indexy)
        {
            arry[indexy++]=y;
        }
        matrix[j][k]=1;
    }
    for(i=1;i<indexx;++i)
    matrix[0][i]=1;
    for(i=n+1;i<indexy;++i)
    matrix[i][last]=1;
    count=0;
    //checking
   // for(i=0;i<indexy;i++)
   // {for(j=0;j<=last;j++)
   // printf("%d ",matrix[i][j]);
   // printf("\n");}
    while(dfs(0)==1)
    {
     //   printf("herer\n");
        count++;
        memset(visited,0,sizeof visited);
    }
    printf("%d\n",count);


   }
   return 0;
}
