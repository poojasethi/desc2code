#include<stdio.h>
#include<iostream>
#include<string>
#include<algorithm>
#include<map>
using namespace std;

#define ll long long
#define ull unsigned long long
#define pb push_back
ull ans=0;
ll BIT[6*100010]={0};

void check(string st,int num)
{
	map<char,int> ref;
//	map<int,char> revref;
	if(num==1)
	{
		ref['r']=1;	
		ref['g']=2;
		ref['b']=3;	
	}
	else if(num==2)
	{
		ref['r']=1;	
		ref['b']=2;
		ref['g']=3;	
	}
	else if(num==3)
	{
		ref['g']=1;	
		ref['r']=2;
		ref['b']=3;	
	}
	else if(num==4)
	{
		ref['g']=1;	
		ref['b']=2;
		ref['r']=3;	
	}
	else if(num==5)
	{
		ref['b']=1;	
		ref['g']=2;
		ref['r']=3;	
	}
	else
	{
		ref['b']=1;	
		ref['r']=2;
		ref['g']=3;	
	}
	ll count[4]={0};
	ll a[100010]={0};
	ll n=0;
	for(ll i=0;i<st.length();i++)
	{
		a[i]=((ll)100010*ref[st[i]]-1)+count[ref[st[i]]]+1;
		count[ref[st[i]]]++;
		n++;
	}
	ll MAX=6*100010;
	for(ll i=0;i<MAX;i++)
		BIT[i]=0;
	ull ans1=0;
	for(ll i=n-1;i>=0;i--)
	{
		ll idx=a[i];
		for(;idx<MAX;idx=idx+(idx&(-idx)))
			BIT[idx]++;
		idx=a[i]-1;
		for(;idx>0;idx-=(idx&(-idx)))
			ans1+=BIT[idx];
	}
	ans=min(ans,ans1);
	return ;
}

int main()
{
	int tc;scanf("%d",&tc);
	while(tc--)
	{
		string st;cin>>st;
		ans=4000000007;
		int i=1;
		while(i<=6)
		{
			check(st,i);
			i++;
		}
		printf("%lld\n",ans);
	}
	return 0;
}