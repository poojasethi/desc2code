#include <iostream>
#include<cstring>
using namespace std;

int calc(int array[],int length)
{
    int i,temp=0;
    int swapCount=0;
    for(i=0;i<length;i++)
    {
        if(array[i]==0)
        {
            swapCount += temp;
            continue;
        }
        else temp++;
    }
    temp=0;
    for(i=length-1;i>=0;i--)
    {
        if(array[i]==2)
        {
            swapCount += temp;
            continue;
        }
        else if(array[i]==1) temp++;
    }
    return swapCount;
}
int calc2(int array[],int length)
{
   int i,temp=0;
    int swapCount=0;
    for(i=0;i<length;i++)
    {
        if(array[i]==2)
        {
            swapCount += temp;
            continue;
        }
        else temp++;
    }
    temp=0;
    for(i=length-1;i>=0;i--)
    {
        if(array[i]==0)
        {
            swapCount += temp;
            continue;
        }
        else if(array[i]==1) temp++;
    }
    return swapCount;
}
int main() {
	// your code goes here
	int T,temp,m=0,i,n;
	cin>>T;
	string S;
	int a[100000],b[100000],c[100000];
	
	while(T>0)
	{
	    cin>>S;
	    n = S.size();
	    for(i=0;i<n;i++)
	    {
	        if(S[i]=='r')
	        {
	            a[i] = 0;
	            b[i] = 1;
	            c[i] = 2;
	        }
	        if(S[i]=='b')
	        {
	            a[i] = 1;
	            b[i] = 2;
	            c[i] = 0;
	        }
	        if(S[i]=='g')
	        {
	            a[i] = 2;
	            b[i] = 0;
	            c[i] = 1;
	        }
	    }
	    /*cout<<calc(a,n);
	    cout<<calc(b,n);
	    cout<<calc(c,n);
	    cout<<calc2(a,n);
	    cout<<calc2(b,n);
	    cout<<calc(c,n);
	    */
	    m = calc(a,n);
	    m = min(m,calc(b,n));
	    m = min(m,calc(c,n));
	    m = min(m,calc2(b,n));
	    m = min(m,calc2(c,n));
	    m = min(m,calc2(a,n));
	    
	    cout<<m<<endl;
	    T--;
	}
	return 0;
}
