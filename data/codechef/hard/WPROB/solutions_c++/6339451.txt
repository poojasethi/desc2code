#include<iostream>
#include<algorithm>
#include<cstdio>
#include<string.h>
#include<climits>
#include<map>
using namespace std;
#define FOR(i,n) for(i=0;i<n;i++)
#define sint(i) scanf("%d",&i)
#define ss(s) scanf("%s",s)
#define pii pair<int,int>
#define ll long long
#define MAX 1000000000
#define MOD 1000000007
int main()
{
    int t;
    cin>>t;
    int i,j;
    int dp[3][100010];
    map<char,int> mymap;
    mymap['r']=0;
    mymap['g']=1;
    mymap['b']=2;
    while(t--)
    {
        string str;
        cin>>str;
        int len=str.length();
        dp[0][0]=0;
        dp[1][0]=0;
        dp[2][0]=0;
        dp[mymap[str[0]]][0]=1;
        for(i=1;i<len;i++)
        {
        for(j=0;j<3;j++)
        {
            dp[j][i]=dp[j][i-1];
        }
        dp[mymap[str[i]]][i]++;
        }
        int curr=0,mini=INT_MAX;
        //rgb
        FOR(i,len)
        {
            if(str[i]=='r')
            {
                curr=curr+dp[2][i]+dp[1][i];
            }
            else if(str[i]=='g')
            curr=curr+dp[2][i];
        }
        mini=min(curr,mini);
        curr=0;
        //rbg
        FOR(i,len)
        {
            if(str[i]=='r')
            {
                curr=curr+dp[2][i]+dp[1][i];
            }
            else if(str[i]=='b')
            curr=curr+dp[1][i];
        }
        mini=min(curr,mini);
        curr=0;
        //grb
        FOR(i,len)
        {
            if(str[i]=='g')
            {
                curr=curr+dp[0][i]+dp[2][i];
            }
            else if(str[i]=='r')
            curr=curr+dp[2][i];
        }
        mini=min(curr,mini);
        curr=0;
        //gbr
        FOR(i,len)
        {
            if(str[i]=='g')
            {
                curr=curr+dp[2][i]+dp[0][i];
            }
            else if(str[i]=='b')
            curr=curr+dp[0][i];
        }
        mini=min(curr,mini);
        curr=0;
        //bgr
        FOR(i,len)
        {
            if(str[i]=='b')
            {
                curr=curr+dp[0][i]+dp[1][i];
            }
            else if(str[i]=='g')
            curr=curr+dp[0][i];
        }
        mini=min(curr,mini);
        curr=0;
        //brg
        FOR(i,len)
        {
            if(str[i]=='b')
            {
                curr=curr+dp[0][i]+dp[1][i];
            }
            else if(str[i]=='r')
            curr=curr+dp[1][i];
        }
        mini=min(curr,mini);
        cout<<mini<<"\n";
    }
    return 0;
}
