#include <utility> 
#include <iostream>
#include <cmath>
#include <vector>
#include <queue>
#include <algorithm>
#include <list>
#include <stack>
#include <string.h>
#include <sstream>
#include <stdio.h>
#define mod 1000000007
using namespace std;
typedef long long int lli;
char str[100000];

lli rgb()
{
	int i,c1=0,c2=0,c3=0,n=strlen(str);
	lli ans=0;
	char x;
	for(i=0;i<n;i++)
	{
		x=str[i];
		if(x=='r') ans+=c2+c3;
		else if(x=='g') ans+=c3;
		if(x=='r') c1++;
		else if (x=='g') c2++;
		else c3++;
	}
	return ans;
}

lli rbg()
{
	int i,c1=0,c2=0,c3=0,n=strlen(str);
	lli ans=0;
	char x;
	for(i=0;i<n;i++)
	{
		x=str[i];
		if(x=='r') ans+=c2+c3;
		else if(x=='b') ans+=c3;
		if(x=='r') c1++;
		else if (x=='g') c3++;
		else c2++;
	}
	return ans;
}

lli bgr()
{
	int i,c1=0,c2=0,c3=0,n=strlen(str);
	lli ans=0;
	char x;
	for(i=0;i<n;i++)
	{
		x=str[i];
		if(x=='b') ans+=c2+c3;
		else if(x=='g') ans+=c3;
		if(x=='r') c3++;
		else if (x=='g') c2++;
		else c1++;
	}
	return ans;
}

lli brg()
{
	int i,c1=0,c2=0,c3=0,n=strlen(str);
	lli ans=0;
	char x;
	for(i=0;i<n;i++)
	{
		x=str[i];
		if(x=='b') ans+=c2+c3;
		else if(x=='r') ans+=c3;
		if(x=='r') c2++;
		else if (x=='g') c3++;
		else c1++;
	}
	return ans;
}

lli grb()
{
	int i,c1=0,c2=0,c3=0,n=strlen(str);
	lli ans=0;
	char x;
	for(i=0;i<n;i++)
	{
		x=str[i];
		if(x=='g') ans+=c2+c3;
		else if(x=='r') ans+=c3;
		if(x=='g') c1++;
		else if (x=='r') c2++;
		else c3++;
	}
	return ans;
}

lli gbr()
{
	int i,c1=0,c2=0,c3=0,n=strlen(str);
	lli ans=0;
	char x;
	for(i=0;i<n;i++)
	{
		x=str[i];
		if(x=='g') ans+=c2+c3;
		else if(x=='b') ans+=c3;
		if(x=='g') c1++;
		else if (x=='b') c2++;
		else c3++;
	}
	return ans;
}

int main()
{
	int t,i,c1,c2,c3;
	lli ans;	
	cin>>t;
	while(t--)
	{
		scanf("%s",str);
		ans=rgb();
		ans=min(ans,rbg());
		ans=min(ans,gbr());
		ans=min(ans,grb());
		ans=min(ans,bgr());
		ans=min(ans,brg());
		printf("%lld\n",ans);
	}
}