#include <cstdio>
#include <cstring>
#include <climits>

#ifndef ONLINE_JUDGE
     #define gc getchar
#else
     #define gc getchar_unlocked
#endif

#define min(x, y) (x < y ? x : y)
using namespace std;

void scanint(int &x) {
    register int c = gc();
    x = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

int main() {
    int t;
    char str[100002];
    int r[100002], g[100002], b[100002];
    long long answer = INT_MAX; 
    scanf("%d", &t);
    while(t --) {
         getchar();   
         answer = INT_MAX;
         scanf("%s", str);
         long long result = 0;
         int size = strlen(str);
 //       printf("%d\n", size);
             switch(str[0]) {
                   case 'r':r[0] = 1;g[0] = 0;b[0] = 0;break;    
                   case 'g':r[0] = 0;g[0] = 1;b[0] = 0;break;
                   case 'b':r[0] = 0;g[0] = 0;b[0] = 1;break;                                                
              }
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'r':r[i] = r[i - 1] + 1;g[i] = g[i - 1];b[i] = b[i - 1];break;    
                   case 'g':r[i] = r[i - 1];g[i] = g[i - 1] + 1;b[i] = b[i - 1];break;
                   case 'b':r[i] = r[i - 1];g[i] = g[i - 1];b[i] = b[i - 1] + 1;break;                                                
              }
         }
/*         for(int i = 0; i < size; i ++) {
              printf("%d %d %d\n", r[i], g[i], b[i]);
         }*/
         
         result = 0;
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'r':result = result + g[i - 1] + b[i - 1];break;    
                   case 'g':result = result + b[i - 1];break;
                   case 'b':break;                                      
              } 
         }
         answer = min(result, answer);         
         result = 0;
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'r':result = result + b[i - 1] + g[i - 1];break;    
                   case 'b':result = result + g[i - 1];break;
                   case 'g':break;                                      
              } 
         }
         answer = min(result, answer);         
         result = 0;
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'g':result = result + r[i - 1] + b[i - 1];break;    
                   case 'r':result = result + b[i - 1];break;
                   case 'b':break;                                      
              } 
         }
         answer = min(result, answer);         
         result = 0;
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'g':result = result + b[i - 1] + r[i - 1];break;    
                   case 'b':result = result + r[i - 1];break;
                   case 'r':break;                                      
              } 
         }
         answer = min(result, answer);         
         result = 0;
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'b':result = result + r[i - 1] + g[i - 1];break;    
                   case 'r':result = result + g[i - 1];break;
                   case 'g':break;                                      
              } 
         }
         answer = min(result, answer);         
         result = 0;
         for(int i = 1; i < size; i ++) {
              switch(str[i]) {
                   case 'b':result = result + g[i - 1] + r[i - 1];break;    
                   case 'g':result = result + r[i - 1];break;
                   case 'r':break;                                      
              } 
         }
         answer = min(result, answer);                                                      
         printf("%lld\n", answer);
    }
    return 0;
}
