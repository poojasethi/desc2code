    #include<iostream>
    #include<string>
    #include<algorithm>
    #define ll long long int
    using namespace std ;
    int si ;
    string s ;
    int arr[100005][3] ;
    inline ll answer(char a , char b, char c)
    {
    for(int i=0 ; i<si ; i++)
    {
    for(int j=0 ; j<3 ; j++)
    {
    arr[i][j]=0 ;
    }
    }
    ll counter=0 ;
    int tota=0 , totb=0 ,totc=0 ;
    ll sumposa=0, sumposb=0, sumposc=0 ;
    for(int i=0 ; i<si ; i++)
    {
    if(s[i]==a)
    {
    tota++ ;
    sumposa+=i ;
    arr[i+1][0]++ ;
    }
    else if (s[i]==b)
    {
    totb++ ;
    sumposb+=i ;
    arr[i+1][1]++ ;
    }
    else
    {
    totc++ ;
    sumposc+=i ;
    arr[i+1][2]++ ;
    }
    if(i!=0)
    {
    for(int j=0 ; j<3 ; j++)
    {
    arr[i][j]+=arr[i-1][j] ;
    }
    }
    }
    counter+=sumposa ;
    counter-= (tota*(tota-1))/2 ;
    for(int i=0 ; i<si ; i++)
    {
    if(s[i]==b)
    {
    counter+= i-arr[i][0] ;
    }
    }
    for(int i=0 ; i<si ; i++)
    {
    if(s[i]==c)
    {
    counter+= i-arr[i][0]-arr[i][1] ;
    }
    }
    counter-= (totb*(totb-1))/2 ;
    counter-= (totc*(totc-1))/2 ;
    return counter ;
    }
    int main()
    {
    int t ;
    cin >> t ;
    for(int i=0 ; i<t ; i++)
    {
    cin >> s ;
    si = s.size() ;
    ll mini = 10000000000ll ;
    mini=min(mini,answer('r','g','b')) ;
    mini=min(mini,answer('r','b','g')) ;
    mini=min(mini,answer('g','r','b')) ;
    mini=min(mini,answer('g','b','r')) ;
    mini=min(mini,answer('b','r','g')) ;
    mini=min(mini,answer('b','g','r')) ;
    cout << mini << "\n";
    }
    return 0 ;
    }

