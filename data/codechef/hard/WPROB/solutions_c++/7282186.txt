/*Author: Meghraj Sharma*/

#include<bits/stdc++.h>

#define gc getchar_unlocked
#define pc putchar_unlocked
#define pb push_back
#define mp make_pair
#define MAX 50004
#define MOD 1000000007
#define ll long long
#define inf 1e15
#define pii pair< ll, ll >
#define ppii pair< pii, pii >
#define f first
#define s second

using namespace std;

inline void inp(ll *n )
{
*n=0;ll ch=gc();int sign=1;while(ch<'0'||ch>'9'){if(ch=='-')sign=-1;ch=gc();}
while( ch >= '0' && ch <= '9' )*n = (*n<<3)+(*n<<1) + ch-'0', ch=gc();*n=*n*sign;
}

inline void fastp(ll a)
{
register char c;char snum[20];int i=0;do{snum[i++]=a%10+48;a=a/10;}while(a!=0);
i=i-1;while(i>=0)pc(snum[i--]);pc('\n');
}

int main()
{
     ll t,n,m,i,j,k,a[3],b,c,d,e,ans[6];
     char s[100004];
     //freopen("x.txt","r",stdin);
     inp(&t);
     while(t--)
     {
          b=c=d=0;
          memset(a,0,sizeof(a));
          memset(ans,0,sizeof(ans));
          scanf("%s",&s);
          n=strlen(s);
          for(i=0;i<n;i++)
          {
              if(s[i]=='r')
              {
                 a[0]++;
                 ans[2]+=a[2];
                 ans[4]+=a[1];
                 ans[0]+=a[1]+a[2];
                 ans[1]+=a[1]+a[2];
              }
              if(s[i]=='g')
              {
                  a[1]++;
                  ans[0]+=a[2];
                  ans[5]+=a[0];
                  ans[2]+=a[0]+a[2];
                  ans[3]+=a[0]+a[2];
              }
              if(s[i]=='b')
              {
                a[2]++;
                ans[1]+=a[1];
                ans[3]+=a[0];
                ans[4]+=a[0]+a[1];
                ans[5]+=a[0]+a[1];
              }
          }
        ll res=ans[0];
        for(i=1;i<6;i++)
        {
            if(res>ans[i]) res=ans[i];
        }
        fastp(res);
     }
 return 0;
}
