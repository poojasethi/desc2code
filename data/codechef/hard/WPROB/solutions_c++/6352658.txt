#include<bits/stdc++.h>
using namespace std;
char temp[100005];
int a[28];
int x[6][3]={{3,1,2},{1,3,2},{2,1,3},{2,3,1},{1,2,3},{3,2,1}};
int fun(char s[],int l,int r)
{int i=l,j,k=l;
int mid=(l+r)/2,count=0;
j=mid+1;
    while(i<=mid && j<=r )
    {
        if(a[s[i]-'a']<=a[s[j]-'a'])
        temp[k++]=s[i++];
        else{
//count<<"kk";
        temp[k++]=s[j++]
        ;count+=mid-i+1;
        }
    }
    while(i<=mid)
    temp[k++]=s[i++];
    while(j<=r)
    temp[k++]=s[j++];

    for(i=l;i<=r;i++)
    s[i]=temp[i];
    return count;
}
int fun1(char s[],int l,int r)
{int count=0;
    if(l>=r)
    return count;
    int mid=(l+r)/2;
    count+=fun1(s,l,mid);
    count+=fun1(s,mid+1,r);
    count+=fun(s,l,r);
    return count;
}
main()
{int t,tx,i,l,ans;char s[100007],backup[100007];
    cin>>t;

    while(t--)
    {
        cin>>s;
        strcpy(backup,s);

        l=strlen(s);
        for(i=0;i<6;i++){
        a['r'-'a']=x[i][0];
        a['g'-'a']=x[i][1];a['b'-'a']=x[i][2];
       // cout<<a['r'-'a']<<a['g'-'a']<<a['b'-'a']<<"\n";
strcpy(s,backup);
tx=fun1(s,0,l-1);
if(i==0)
ans=tx;
//cout<<tx<<"\n";
ans=min(ans,tx);
//cout<<ans<<"\n";



        }

cout<<ans<<endl;

    }
}
