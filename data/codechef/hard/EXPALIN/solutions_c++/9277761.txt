#include<bits/stdc++.h>
using namespace std;
const int N = 500010;
int t;
char arr[N];
char tmp[N];
int n;
int m;
long long ans;
bool ok(){
    int l = 0;
    int r = m - 1;
    while(l < r){
        if(tmp[l] != tmp[r]){
            return 0;
        }
        ++l;
        --r;
    }
    return 1;
}
int main(){
    scanf("%d" , &t);
    while(t--){
        scanf("%s" , arr + 1);
        n = strlen(arr + 1);
        ans = n;
        for(int p = 2 ; p <= n ; ++p){
            for(int j = 1 ; 1LL * j * p <= n ; ++j){
                m = 1;
                tmp[0] = arr[j];
                long long cur = j;
                cur *= p;
                while(cur <= n){
                    tmp[m++] = arr[cur];
                    ans += ok();
                    cur *= p;
                }
            }
        }
        printf("%lld\n" , ans);
    }
} 