#include <bits/stdc++.h>
using namespace std;
typedef long long i64;
char s[500010];
int main() {
    int t,n;
    scanf("%d",&t);
    while(t--){
        scanf(" %s",s+1);
        n = strlen(s+1);
        i64 ans = 0;
        for (int i=1;i<=n;++i) {
            for (int p=2;i*p<=n;++p) {
                int num = 0;
                for(i64 j=i;j<=n;j*=p){
                    num++;
                }
 
                bitset<20> has,sah;
                int mun = num-1;
                num = 0;
 
                for(i64 j=i;j<=n;j*=p){
                    if (s[j]=='1') {
                        has[num] = 1;
                        sah[mun] = 1;
                    }
                    num+=1;
                    mun-=1;
                }
                for (int k=num+1;k>=3;--k) {
                    if (has==sah) ans+=1;
                    has[k-2] = 0;
                    sah>>=1;
                }
            }
        }
        printf("%lld\n",ans+n);
    }
    return 0;
} 