#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
#include <algorithm>
#include <bitset>
#include <map>
#include <vector>
 
#define REP(a,b) for (int a = 0; a < b; a++)
#define FOR(a,b,c) for (int a = b; a <= c; a++)
#define FORD(a,b,c) for (int a = b; a >= c; a--)
#define RESET(a,b) memset(a,b,sizeof a)
 
#define INF 2123123123
#define PII pair<int,int>
#define MP make_pair
#define LL long long
#define PB push_back
#define F first
#define S second
 
#define MAXN 100002
using namespace std;
 
char sc[MAXN];
int nkasus;
int n,n4[MAXN],n7[MAXN];
 
int is4(int x){
	if (sc[x] == '4') return 1;
	return 0;
}
 
int is7(int x){
	if (sc[x] == '7') return 1;
	return 0;
}
 
int main(){
	scanf("%d", &nkasus);
	REP(jt,nkasus){
		scanf("%s", sc);
		n = strlen(sc);
		
		n4[0] = is4(0);
		n7[0] = is7(0);
		FOR(i,1,n-1){
			n4[i] = n4[i-1] + is4(i);
			n7[i] = n7[i-1] + is7(i);
		}
		
		//semua sama
		int ans = max(n4[n-1],n7[n-1]);
		int sel = 0;
		int maxi = 0;
		REP(i,n){
			maxi = max(maxi, n4[i] - n7[i]);
			sel = max(sel, n7[i] - n4[i] + maxi);
			
			if (sc[i] == '4'){
				ans = max(ans, n4[i] + (n7[n-1] - n7[i]) + sel);
			}
			
			//printf("%d %d %d\n", maxi, sel, n4[i] + (n7[n-1] - n7[i]) + sel);
		}
		
		printf("%d\n", ans);
	}
		
	return 0;
}	
 
