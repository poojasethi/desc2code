#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>
#include <climits>
#include <numeric>
#include <vector>
#include <cmath>
#include <set>
#include <map>
using namespace std;
#define ll long long
#define mp make_pair
#define pb push_back
#define fi first
#define se second
#define rep(i,n) for(int i=0;i<n;i++)
#define all(a)  a.begin(),a.end()
#define ESP (1e-9)
#define N 100010
#define M 1000000007
#define sz(a) int(a.size())
#define pii pair<int,int>
#define vi vector<int>
char s[N];
int main()
{
	//freopen("in.txt","r",stdin);
	int T,i,j,k,x,K,n;
	scanf("%d",&T);
	while(T--)
	{
	 scanf("%s",s);
	 n=strlen(s);
	 int cur=0;
	 for(i=0;i<n;i++)cur+=s[i]=='7';
	 int maxx=cur,ans=cur,mins=0;
	 for(i=0;i<n;i++)
	 {
	  if(s[i]=='4')cur++;else cur--;
	  ans=max(ans,cur-mins);
	  mins=min(mins,cur-maxx);
	  maxx=max(maxx,cur);
	 }
	 printf("%d\n",ans);
	}
	return 0;
}
