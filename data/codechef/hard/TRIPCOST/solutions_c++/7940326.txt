#include <iostream>
#include <queue>
#include <cstdio>
#include <cstring>
#include <map>
#include <vector>
#include <list>
#include <sstream>
#include <cmath>
#include <ctime>
#include <algorithm>
 
using namespace std;
 
#define sz(a) ((int)a.size())
#define cl clear()
#define pb push_back
#define mp make_pair
#define X first
#define Y second
#define all(a) a.begin(), a.end()
#define sqr(a) ((a) * (a))
#define PI 3.1415926535897932384626433832795
 
typedef long long ll;
typedef unsigned long long ull;
typedef pair <int, int> pii;
typedef pair <double, double> pdd;
#define inf 1000000007
#define N 100010
int d[N],c[N],s[N],D,n;
int check(int up)
{
	int i=1,x=0;
	while(i<=n)
	{
	    x++;
		int dd=D,p=i-1,cp=i-1;
		while(i<=n)
		{
			if(dd>=d[i])
			{
				if(c[i]<=up||i==n)p=i;
				dd-=d[i];++i;
			}
			else break;
		}
		if(p==n)break;
		if(cp==p)return inf;
		i=p+1;
	}
	//printf("%d %d\n",x,up);
	return x;
}
int main()
{
    int t,i,j,k,m,T;
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d%d",&n,&D);
		int r=0,l=0;
		for(i=1;i<=n;i++)scanf("%d%d",&d[i],&c[i]),r=max(r,c[i]);
		c[0]=c[n]=0;
		int x=check(n+1);
		//printf("%d\n",x);
		while(l<=r)
		{
			m=(l+r)>>1;
			if(check(m)<=x)r=m-1;
			else l=m+1;
		}
		printf("%d %d\n",x,r+1);
	}
    return 0;
} 