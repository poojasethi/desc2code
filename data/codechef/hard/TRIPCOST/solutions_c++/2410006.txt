#include<iostream>
#include<cstdio>
#include<vector>

using namespace std;

int poss[100002],c[100002],n,D;
long long d[100002];

int check(int sz)
{
    int i,pos=0,ret=0;
    for(i=1;i<=sz;i++)
    {
        if(d[poss[i]] - d[poss[i-1]] > D)
        return 1000000;
    }
    for(i=1;i<=sz;i++)
    {
        if(d[poss[i]]-d[pos] > D)
        {
          pos = poss[i-1];
          ret++;
        }
    }
    return ret+1;
}

int main()
{
    int t,i;
    scanf("%d",&t);
    
    while(t--)
    {
              scanf("%d%d",&n,&D);
              for(i=1;i<=n;i++)
              {
                 scanf("%lld%d",&d[i],&c[i]);
                 d[i] += d[i-1];
              } 
              for(i=1;i<=n;i++)
              poss[i]=i; 
                      
              int L = check(n);
              
              int h = 1000000, l = 0,mx = 0,m;
              
              while(h-l>1)
              {
                  mx = 0;
                  m = (l+h)/2;
                  
                  for(i=1;i<n;i++)
                  {
                     if(c[i]<=m)
                     poss[++mx]=i;
                  }
                  poss[++mx]=n;
        
                  if(check(mx)!=L)
                  l = m;
                  else 
                  h = m;
              }
              
              printf("%d %d\n",L,h);
    }
    return 0;
}
