#include <vector>
#include <cstdio>
#define V(X) vector<X>
int N, L, D, C;

int check(std::V(int) &d, std::V(int) &c){
    int RET=0, tmp1=0, tmp2=0;
    for(int i=1; i<=N;){
        int t=i; tmp2=0;
        while(c[t]>C){
            tmp2+=d[t++];
            if(t>N && tmp1+tmp2<=D)return RET+1;
        }
        tmp2+=d[t++];
        if(tmp2>D)return 0;
        
        tmp1+=tmp2;
        if(tmp1>D){RET++; tmp1=0;}
        else i=t;
    }
    return RET+1;
}

int main(){
    int T; scanf("%d", &T);
    while(T--){
        scanf("%d %d", &N, &D); C=1000000000;
        std::V(int)d(N+10), c(N+10);

        for(int i=1; i<=N; ++i)scanf("%d %d", &d[i], &c[i]);
        L=check(d, c);

        int l=0, h=N+1;
        while(h-l>1){
            int m=(l+h)>>1; C=m;
            if(check(d, c)!=L)l=m;
            else h=m;
        }
        printf("%d %d\n", L, h);
    }
    return 0;
}