#include<bits/stdc++.h>

using namespace std;

#define si(x) scanf("%d",&x)
#define pri(x) printf("%d",x)
#define sll(x) scanf("%lld",&x)
#define pll(x) printf("%lld",x)
#define sstr(s) scanf("%s",s)
#define pstr(s) printf("%s",s)
#define nl printf("\n")
#define ll long long int

bool p[5001][5001];
int n;

int main()
{
    int t;
    si(t);
    while(t--)
    {
	memset(p,false,sizeof(p));
	si(n);
	char a[n+1];
	sstr(a);
	for(int i=0;i<n;++i)
	{
	    p[i][i]=true;
	}
	for(int l=2;l<=n;++l)
	{
	    for(int i=0;i<n-l+1;++i)
	    {
		int j=i+l-1;
		if(l==2)
		{
		    if(a[i]==a[j])
			p[i][j]=true;
		}
		else
		{
		    if(a[i]==a[j])
		    {
			p[i][j]=p[i+1][j-1];
		    }
		}
	    }
	}
/*
	for(int i=0;i<n;++i)
	{
	    for(int j=0;j<n;++j)
		cout<<p[i][j]<<" ";
	    nl;
	}
*/
	int dp[n];
	dp[0]=1;
	for(int i=1;i<n;++i)
	{
	    dp[i]=1000000;
	    for(int j=0;j<i;++j)
	    {
		if(p[j][i]==true)
		{
		    if(j==0)
		    {
			dp[i]=1;
			break;
		    }
		    else
			dp[i]=min(dp[i],dp[j-1]+1);
		}
		else
		{
		    dp[i]=min(dp[i],dp[i-1]+1);
		}
	    }
	    dp[i]=min(dp[i],dp[i-1]+1);
//		cout<<dp[i]<<" ";
	}
	pri(dp[n-1]); nl;
    }
    return 0;
}
