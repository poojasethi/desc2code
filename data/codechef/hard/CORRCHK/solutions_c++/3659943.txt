//TC

#include <algorithm>
#include <iostream>
#include <cstdlib>
#include <cassert>
#include <cstring>
#include <cstdio>
#include <vector>
#include <queue>
#include <stack>
#include <cmath>
#include <list>
#include <set>
#include <map>

#define forn(a,b,c) for(int (a)=(b);(a)<=(c);(a)++)
#define forr(a,b,c) for(int (a)=(b);(a)>=(c);(a)--)
#define foreach(a,b) for( typeof( (b).begin() ) a=(b).begin(); (a)!=(b).end() ; (a)++ )
#define foreachr(a,b) for( typeof( (b).rbegin() ) a=(b).rbegin(); (a)!=(b).rend() ; (a)++ )
#define dg(x)  cerr <<#x<<':'<<x<<" "
#define dbg(x)  cerr <<#x<<':'<<x<<endl
#define SET(A,b) memset(A,b,sizeof (A) )
#define SIZE(A) ((int)(A).size())
#define ALL(A) (A).begin(),(A).end()
#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define num(a) (1LL<<(a))
using namespace std;

typedef double dbl;
typedef long long Lint;
typedef pair<int,int> ii;
typedef pair<Lint,Lint> Lii;

const Lint mod = 1e9;

const int MAXN = 100010;

#define val( a ) ( ((a)>='a' && (a)<='f') ? (a-'a'+10) : (a-'0') )

int kont( string &A,string &B,string &C,int Q ){
	
	/*cout << A << " " ,
	cout << B << " " ,
	cout << C << " " ,
	cout << Q << endl;*/
	
	vector<int> R;
	
	for(int i=SIZE(A)-1,j=SIZE(B)-1 ; i>=0 || j>=0 ; i--,j-- ){
		int a=i>=0 ? val( A[i] ) : 0;
		int b=j>=0 ? val( B[j] ) : 0;
		R.pb( a+b );
	}
	
	int elde=0;
	
	forn(i,0,SIZE(R)-1)
		if( R[i]>=Q )
		{
			elde=R[i]/Q;
			R[i]%=Q;
			if( i==SIZE(R)-1 )
				R.pb(elde);
			else
				R[i+1]+=elde;
		}
	
	reverse(ALL(R));
	
	if(SIZE(R)!=SIZE(C))	return 0;
	
	forn(i,0,SIZE(R)-1)
		if( R[i]!=val(C[i]) )
			return 0;
	return 1;
	
}

int main(){
	
	int n;
	char M;
	char str[100];
	
	scanf("%d",&n);
	
	int res=0;
	
	string A,B,C;
	
	forn(j,1,n){
		
		A.clear();
		B.clear();
		C.clear();
		
		scanf(" %s",str);
		
		int i=0;
		M=0;
		
		while( str[i]!='+' )
		{
			A.pb( str[i] );
			M=max(str[i],M);
			i++;
		}
		i++;
		while( str[i]!='=' )
		{
			B.pb( str[i] );
			M=max(str[i],M);
			i++;
		}
		i++;
		while( (str[i]>='0' && str[i]<='9') || (str[i]>='a' && str[i]<='f') )
		{
			C.pb( str[i] );
			M=max(str[i],M);
			i++;
		}
		
		//~ cout << A << endl;
		//~ cout << B << endl;
		//~ cout << C << endl;
		//~ puts("");
		
		int minq;
		
		if(M>='a' && M<='f')
			minq=M-'a'+11;
		
		else
			minq=M-'0'+1;
		
		forn(q,minq,16)
			if( kont(A,B,C,q) )
			{
				//~ cout << q << endl << endl;;
				res++;
				break;
			}
		
	}
	
	cout << res << endl;
	
	return 0;
	
}
