#include<iostream>
#include<cstring>
#include<stdio.h>
#include<algorithm>
#include<cmath>
#include<vector>
#include<queue>
#include<stack>
#include<map>
#include<set>
#define mp make_pair
#define pb push_back
#define MAX(a,b) (a>b?a:b)
#define MIN(a,b) (a<b?a:b)
#define F first
#define S second
#define ll long long
#define pp pair<int,int>
#define P 1000000007
#define INF 2000000000
using namespace std;
const int n_max=1005;
int T,i,j,n,ans;
string A,B,C,s;
int c[500];

ll tobase(string s,int Q){
   ll x=1,ans=0;
   for(int i=s.size()-1;i>=0;i--){
      if(c[s[i]]>=Q)return -1;
      ans+=x*c[s[i]];
      x*=Q;
   }
   return ans;
}

void check(){
     int i;
     ll a,b,c;
     for(i=2;i<=16;i++){
        a=tobase(A,i);
        b=tobase(B,i);
        c=tobase(C,i);

        if(a!=-1 && b!=-1 && a+b==c){ans++;
        //cout<<i<<' '<<a<<' '<<b<<' '<<c<<endl;
        //cout<<A<<' '<<B<<' '<<C<<endl;
        return;}
     }
}


main()
{scanf("%d",&T);
 for(i='0';i<='9';i++)c[i]=(int)i-'0';
 for(i='a';i<='f';i++)c[i]=(int)i-'a'+10;

 while(T--){
    cin>>s;
    A=B=C="";
    n=s.size();
    for(i=0;s[i]!='+';i++)A+=s[i];
    for(++i;s[i]!='=';i++)B+=s[i];
    for(++i;i<n;i++)C+=s[i];
    check();
 }
 cout<<ans<<endl;
}
