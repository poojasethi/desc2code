#include <bits/stdc++.h>
using namespace std;

#define LL long long

LL ans = 0;
string s1, s2, s3;

LL num[500];

inline bool check(LL x){
    LL i, n1 = 0, n2 = 0, n3 = 0;
    for(i = 0; i < s1.length(); i++){
        if(num[ s1[i] ] >= x) return false;
        n1 = n1 * x + num[ s1[i] ];
    }
    for(i = 0; i < s2.length(); i++){
        if(num[ s2[i] ] >= x) return false;
        n2 = n2 * x + num[ s2[i] ];
    }
    for(i = 0; i < s3.length(); i++){
        if(num[ s3[i] ] >= x) return false;
        n3 = n3 * x + num[ s3[i] ];
    }
    if(n1 + n2 == n3) return true;
    return false;
}

inline void Solve(){
    s1 = "", s2 = "", s3 = "";
    string s;
    LL flag = 1, i;
    cin>>s;
    for(i = 0; i < s.length(); i++){
        if(s[i] == '+'){
            flag = 2;
            continue;
        }
        if(s[i] == '='){
            flag = 3;
            continue;
        }
        if(flag == 1){
            s1 += s[i];
        }
        else if(flag == 2){
            s2 += s[i];
        }
        else{
            s3 += s[i];
        }
    }
    for(i = 2; i <= 16; i++){
        if(check(i)){
            ans++;
            return;
        }
    }
    return;
}

int main(){
    //freopen("input.txt", "r", stdin);
    LL q, i;
    for(i = 0; i < 10; i++){
        num[ char(48 + i) ] = i;
    }
    num['a'] = 10;
    num['b'] = 11;
    num['c'] = 12;
    num['d'] = 13;
    num['e'] = 14;
    num['f'] = 15;
    cin>>q;
    while(q--){
        Solve();
    }
    cout<<ans<<endl;
    return 0;
}
