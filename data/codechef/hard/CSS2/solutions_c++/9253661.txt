#include<iostream>
#include<math.h>
#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<string>
#include<vector>
#include<map>
#include<cstring>
#define M 1000000007
#define ll long long int

using namespace std;

typedef pair<int,int> p;
map<int,p>a[1000002];

int main(){
    int i;
int n,m,id,attr,val,pr,q_id,q_attr;
cin>>n>>m;
while(n--){
    cin>>id>>attr>>val>>pr;
    if(a[id].find(attr)==a[id].end()){
            a[id][attr]=p(val,pr);
        }
    else if(a[id][attr].second<=pr){
            a[id][attr]=p(val,pr);
    }
}
while(m--){
    cin>>q_id>>q_attr;
    cout<<a[q_id][q_attr].first<<endl;
}
return 0;
}
