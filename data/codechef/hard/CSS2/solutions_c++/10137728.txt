
#include<bits/stdc++.h>

typedef long long LL;
using namespace std;
const int M = 1000000007;

int main()
{
LL n,i,m;
cin>>n>>m;

LL id,at,va,pr;

map <pair<LL,LL>,pair<LL,LL> > mp; 

for(i=0;i<n;i++)
{
cin>>id>>at>>va>>pr;

if(mp[make_pair(id,at)].second <= pr)
		mp[make_pair(id,at)] = make_pair(va,pr);

}


for(i=0;i<m;i++)
{
cin>>id>>at;
cout<<mp[make_pair(id,at)].first<<endl;
}

}
