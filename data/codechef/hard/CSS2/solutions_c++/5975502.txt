#include<bits/stdc++.h>
using namespace std;
map<int,pair<int,int> > mp[1000001];
int main()
{
	int n,m;
	int id,attr,val,pr;
	cin>>n>>m;
	for(int i=0;i<n;++i)
	{
		scanf("%d%d%d%d",&id,&attr,&val,&pr);
		if(mp[id].find(attr)==mp[id].end())
		{
			mp[id][attr]=pair<int,int>(val,pr);
		}
		else 
		{
			pair<int,int> pria = mp[id][attr];
			if(pria.second<=pr)
				mp[id][attr]=pair<int,int>(val,pr);
		}
	}
	for(int i=0;i<m;++i)
	{
		cin>>id>>attr;
		printf("%d\n",mp[id][attr].first);
	}
	return 0;
}