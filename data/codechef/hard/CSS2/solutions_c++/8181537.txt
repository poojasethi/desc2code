#include <bits/stdc++.h>
using namespace std;

#define gc getchar_unlocked
#define pc putchar_unlocked
 
inline void get (int *p){register int n=0,sign=1,a=gc();while(a<'0'||a>'9'){ if(a=='-'){sign=-1;a=gc();break;} a=gc();}while(a>='0' && a<='9'){n=(n<<1)+(n<<3)+a-'0';a=gc();}*p=n*sign;}
 
inline void put(int n){char d[10];short int i=0;if(n<0){pc('-');n=-n;}do{d[i++]=n%10+'0';n=n/10;}while(n);while(i)pc(d[--i]);pc('\n');}

typedef long long ll;
struct node{
ll  l,f;   
};
int main()
{   
    //fastScan;
    map  <long long,node> my;
int  n,m;
   get(&n);
   get(&m);
   int id,att,val,pr;
    while (n--){
        get(&id);
        get(&att);
        get(&val);
        get(&pr);
        ll tmp=1000000*(ll)id+(ll)att;
        if(pr>=my[tmp].f){
        my[tmp].l=val;
        my[tmp].f=pr;
        }
        
        
        
    }
    while(m--){
        get(&id);
        get(&att);
       put(my[1000000*(ll)id+(ll)att].l);
        
    }
   
    
    
    return 0;
}
