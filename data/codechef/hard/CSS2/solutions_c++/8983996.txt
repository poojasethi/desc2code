#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
typedef pair<int,int> pii;
#define MOD 1000000007
int main()
{
	#ifndef ONLINE_JUDGE
        freopen("input.txt","r",stdin);
        freopen("output.txt","w",stdout);
    #endif
    int N,M,id,attr,val,priority;
    scanf("%d%d",&N,&M);
    map<pii,pii> Map;
    for (int i = 0; i < N; i++) {
        scanf("%d%d%d%d",&id,&attr,&val,&priority);
        pii a = make_pair(id,attr);
        pii b = make_pair(priority,val);
        if(Map.count(a) == 0) Map[a] = b;
        else {
            pii c = Map[a];
            if(b.first >= c.first) {
                Map[a] = b;
            }
        }
    }
    for (int i = 0; i < M; i++) {
        scanf("%d%d",&id,&attr);
        pii a = make_pair(id,attr);
        printf("%d\n",Map[a].second);
    }
    #ifndef ONLINE_JUDGE
    cerr << "Time elapsed: " << 1.0 * clock() / CLOCKS_PER_SEC << " s.\n";
    #endif
    return 0;
}

