#include <bits/stdc++.h>
using namespace std;
#define fastScan ios_base::sync_with_stdio(0); cin.tie(NULL);
typedef long long ll;
struct node{
ll  l,f;   
};
int main()
{   
    fastScan;
    map  <long long,node> my;
ll n,m;
    cin>>n>>m;
    ll id,att,val,pr;
    while (n--){
        cin>>id>>att>>val>>pr;
        ll tmp=1000000*id+att;
        if(pr>=my[tmp].f){
        my[tmp].l=val;
        my[tmp].f=pr;
        }
        
        
        
    }
    while(m--){
        cin>>id>>att;
       cout<<my[1000000*id+att].l<<endl;
        
    }
   
    
    
    return 0;
}
