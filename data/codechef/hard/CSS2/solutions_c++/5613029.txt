#include <bits/stdc++.h>
using namespace std;
typedef pair<int,int> pii;
map<int,pii> prop[1000001];

void solve_50(){
    int n,m;
    scanf("%d %d",&n,&m);

    for(int i=0;i<n;i++){
        int id,attr,val,priority;
        scanf("%d %d %d %d",&id,&attr,&val,&priority);

        if(prop[id].find(attr) == prop[id].end()){
            prop[id][attr]=pii(val,priority);
        }
        else{
            pii curr=prop[id][attr];
            if(curr.second <= priority){
                prop[id][attr]=pii(val,priority);
            }
        }
    }
    for(int i=0;i<m;i++){
        int id,attr;
        scanf("%d %d",&id,&attr);
        assert(prop[id].find(attr) != prop[id].end());
        printf("%d\n",prop[id][attr].first);
    }
}

int main(){
    solve_50();
}