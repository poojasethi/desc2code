#include <bits/stdc++.h>
#define maxn 1000+3
using namespace std;

map<int, map<int, pair<int, int> > > M;
//M[id, [att : val , prior ] ]
int main() {
	// your code goes here
	int n, m;
	int id, attr, val, prior;
	scanf("%d  %d",&n, &m);
	
	for(int i=1; i<=n; i++) {
		scanf("%d %d %d %d ", &id, &attr, &val, &prior);
		if(M[id][attr].first == 0 || M[id][attr].second <= prior) {
			M[id][attr].first = val;
			M[id][attr].second = prior;
		}
	}
	int a, b;
	for(int i=1; i<=m; i++) {
		scanf("%d %d ",&a, &b);
		cout<<M[a][b].first<<"\n";
	}
	
	
	return 0;
}
