#include<bits/stdc++.h>
using namespace std;
int main()
{
	int n,m;
	scanf("%d %d",&n,&m);
	map<string,pair<int,int> > ma;
	int c,d;
	string a,b;
	for(int i=0;i<n;i++)
	{
		cin>>a>>b>>c>>d;
		string s=a+" "+b;
		//cout<<s<<"\n";
		if(ma[s].second<=d)
		ma[s]=make_pair(c,d);
	}
	while(m--)
	{
		cin>>a>>b;
		string s=a+" "+b;
		cout<<ma[s].first<<"\n";
	//	cout<<ma[make_pair(a,b)].first<<"\n";
	}
	return 0;
}