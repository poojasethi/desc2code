#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
struct node{
ll  l,f;   
};
int main()
{   map  <long long,node> my;
ll n,m;
    scanf("%Ld%Ld",&n,&m);
    ll id,att,val,pr;
    while (n--){
        scanf("%Ld%Ld%Ld%Ld",&id,&att,&val,&pr);
        ll tmp=1000000*id+att;
        if(pr>=my[tmp].f){
        my[tmp].l=val;
        my[tmp].f=pr;
        }
        
        
        
    }
    while(m--){
        scanf("%Ld%Ld",&id,&att);
        printf("%Ld\n",my[1000000*id+att].l);
        
    }
   
    
    
    return 0;
}
