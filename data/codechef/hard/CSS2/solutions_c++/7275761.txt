#include<bits/stdc++.h>
#include<stdio.h>
//#define mp make_pair;
using namespace std;
#define ll long long

int main(){
    pair < int , int > p1 ;
    pair < int , int > p2;
    map < pair<int,int> ,pair<int,int> > m1;

    ll int n , m , id , att , val , pr,i,j;
    scanf("%lld%lld",&n,&m);
    for  ( i = 0 ; i < n ;i++){
        scanf("%lld%lld%lld%lld",&id,&att,&val,&pr);
        p1 = make_pair(id,att);
        p2 = make_pair(val,pr);

        if ( m1[p1].second <= p2.second )
            m1[p1] = p2;
    }
    while(m--){
        scanf("%lld%lld",&id,&att);
        p1 = make_pair(id,att);
        cout << m1[p1].first << endl;
    }
    return 0;
}


