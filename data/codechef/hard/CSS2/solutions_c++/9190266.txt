#include<iostream>
#include<map>
using namespace std;
int main()
{
    ios::sync_with_stdio(false);
    int i,n,m,val,attr,id,pr;
    cin>>n>>m;
    map<pair<int,int>,pair<int,int> > mymap;
    map<pair<int,int>,pair<int,int> >::iterator it;
    pair<int,int> a,b;
    for(i=0;i<n;i++)
    {
        cin>>id>>attr>>val>>pr;
        a=make_pair(id,attr);
        b=make_pair(val,pr);
        it=mymap.find(a);
        if(it==mymap.end())
            mymap[a]=b;
        else
        {
            if(b.second>=(it->second).second)
                mymap[it->first]=b;
        }
    }
    for(i=0;i<m;i++)
    {
        cin>>id>>attr;
        a=make_pair(id,attr);
        cout<<mymap[a].first<<"\n";
    }
    return 0;
}
