#include <map>
#include <iostream>
#include <stdio.h>
#include <vector>
#include <string>
using namespace std;
int main(){
	vector<map<int,int> > A(1000000);
	vector<map<int,int> > B(1000000);
	
	int n,m;
	int id,attr,val,prio;
	scanf("%d %d",&n,&m);
	for(int i=0;i<n;i++){
		scanf("%d %d %d %d",&id,&attr,&val,&prio);
		map<int,int>::const_iterator it = B[id].find(attr);
		//return 0;
		if(it==B[id].end()){
			A[id].insert(pair<int,int>(attr,val));
			B[id].insert(pair<int,int>(attr,prio));
		}
		else{
				if(it->second <= prio) {
					(A[id])[attr]=val;
					(B[id])[attr]=prio;
				}
		}				
	}
	
	for(int i=0;i<m;i++){
		scanf("%d %d",&id,&attr);
		cout<<(A[id])[attr]<<endl;
	}
} 
