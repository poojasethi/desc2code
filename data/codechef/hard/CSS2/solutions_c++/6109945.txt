#include <iostream>
#include <string>
#include <map>
#include <utility>
#include <iterator>
#include <stdio.h>
#define ll long long int
#define mp make_pair 
using namespace std;
typedef pair<ll,ll> mypair;
typedef map<mypair,mypair > myhash; 
typedef myhash::iterator myiter;

myhash value;
int main()
{
	
	int n,m;
	cin>>n>>m;
	ll id,att,val,priority;
	while(n>0)
	{
		cin>>id>>att>>val>>priority;
		mypair obj=mp(id,att);
		myiter it=value.find(obj);
		if(it == value.end() || (it->second).second<=priority ) 
			value[obj]=mp(val,priority);
		n--;	
	}
	while(m--)
	{
		cin>>id>>att;
		mypair obj=mp(id,att);
		myiter it=value.find(obj);
		cout<<(it->second).first<<endl;
	}	
	return 0;
}
/*mypair a;
	for(myiter it=value.begin();it!=value.end();++it)
	{
		//mypair a=mp(2,3);
		 a=it->first;
		printf("%lld %lld ",a.first,a.second );
		 a=it->second;
		printf("%lld %lld\n",a.first,a.second );
		
		///cout>> a.first >> a.second;
		//cout>>it->second->first<<it->second->second;
	}
	//myiter x=value.find(a);
*/