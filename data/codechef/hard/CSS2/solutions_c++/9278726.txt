#include<bits/stdc++.h>
using namespace std;
#define max 1000001

typedef pair<int,int>pii;
map<int,pii> pro[max];
int main()

{
  int n,m;
  cin>>n>>m;
  int id,att,val,pri;
  while(n--)
  {
      cin>>id>>att>>val>>pri;

      if(pro[id].find(att)==pro[id].end())
      {
          pro[id][att]=pii(val,pri);
      }
      else
      {
          pii current=pro[id][att];
          if(current.second<=pri)
            pro[id][att]=pii(val,pri);
      }

  }
  while(m--)
  {
      int id,att;
      cin>>id>>att;

      pii c=pro[id][att];
      cout<<c.first<<endl;
  }
  return 0;
}
