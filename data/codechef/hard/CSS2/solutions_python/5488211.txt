

n,m = map(int, raw_input().split(' '))
hash = {}
for i in range(n):
    iD ,attr,val,priority = raw_input().split(' ')
    priority = int(priority)
    attrsHash = hash.get(iD, {})
    oldVal = attrsHash.get(attr, ["", -1])

    if priority >= oldVal[1]:
        attrsHash[attr] =  [val, priority]
        hash[iD] = attrsHash



for i in range(m):
    id, attr = raw_input().split(' ')
    print hash[id][attr][0]
