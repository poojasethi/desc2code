n,m=map(int,raw_input().split())
d={}
for i in xrange(n):
	ide,attr,val,pri=map(int,raw_input().split())
	l=[ide,attr]
	k=[val,pri]
	exp=" ".join(map(str,l))
	try:
		if d[exp][1]<=pri:
			d[exp]=k
	except:
		d[exp]=k
for i in xrange(m):
	q=raw_input()
	print d[q][0]

