a={}
n,m=map(int,raw_input().split())
for i in range(n):
    x,y,v,p=map(int,raw_input().split())
    if a.has_key((x,y)):
        if a[(x,y)][1]<=p:
            a[(x,y)]=[v,p]
    else:
        a[(x,y)]=[v,p]
for i in range(m):
    x,y=map(int,raw_input().split())
    print a[(x,y)][0]