t,m=map(int,raw_input().split())
table={}
while(t):
	t-=1
	idp,attr,val,pri=map(int,raw_input().split())
	if (idp,attr) in table:
	    
	    if table[(idp,attr)][1]<=pri:
			table[(idp,attr)]=[val,pri]
	else:
		table[(idp,attr)]=[val,pri]
	
while(m):
	m-=1
	id,att=map(int,raw_input().split())
	print table[(id,att)][0]				
