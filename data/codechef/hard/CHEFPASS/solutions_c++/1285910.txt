#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int pre[1010];

int find(int x)
{
	if(pre[x] == -1) return x;
	return pre[x] = find(pre[x]);
}

int find(char c)
{
	if(c <= 'Z') return c - 'A';
	return c - 'a' + 26;
}

int deg[1010],f[1010];

int main()
{
	int t,n,m;
	char s[5];
	scanf("%d",&t);
	while(t --) {
		memset(deg,0,sizeof(deg));
		memset(f,0,sizeof(f));
		memset(pre,-1,sizeof(pre));
		scanf("%d",&n);
		while(n --) {
			scanf("%s",s);
			deg[find(s[0])] ++;
			deg[find(s[1])] ++;
		}
		scanf("%d",&m);
		while(m --) {
			scanf("%s",s);
			int x = find(find(s[0]));
			int y = find(find(s[1]));
			if(x != y) pre[x] = y;
		}

		for(int i = 0; i < 52; i ++)
			if(deg[i] & 1) {
				f[find(i)] ++;
			}
		int cnt = 0;
		for(int i = 0; i < 52; i ++)
			cnt += (f[i] & 1);
		if(cnt) printf("NO\n");
		else printf("YES\n");
	}
	return 0;
}
