/**
 * ID: ping128
 * LANG: C++
 */

#include <stdio.h>
#include <iostream>
#include <sstream>
#include <stdlib.h>
#include <string>
#include <vector>
#include <set>
#include <queue>
#include <stack>
#include <list>
#include <math.h>
#include <algorithm>
#include <map>
#include <string.h>

using namespace std;

typedef long long LL;
typedef pair<int, int>PII;
typedef pair<PII, int>PII2;

int degree[60];
int parent[60];
int combine[60];
int convert[300];
int n, m;
char in[5];

int find(int at)
{
	if(at == parent[at]) return at;
	int x = find(parent[at]);
	return parent[at] = x;
}

class Solve
{
	public:
	void main2()
	{
		for(int i = 0; i < 60; i++ )
		{
			degree[i] = combine[i] = 0;
			parent[i] = i;
		}
		
		cin >> n;
		for(int i = 0; i < n; i++ )
		{
			scanf("%s", in);
			degree[convert[in[0]]]++;
			degree[convert[in[1]]]++;
		}
		
		cin >> m;
		for(int i = 0; i < m; i++ )
		{
			scanf("%s", in);
			int u = find(convert[in[0]]);
			int v = find(convert[in[1]]);
			parent[u] = v;
		}
		
		for(int i = 0; i < 52; i++ )
		{
			combine[find(i)] += degree[i];
		}
		
		bool test = true;
		for(int i = 0; i < 52; i++ )
		{
			if(combine[i] % 2)
			{
				test = false;
				break;
			}
		}
		
		printf("%s\n", test ? "YES" : "NO");
	}	
};

int main()
{
	for(int i = 0; i < 26; i++ )
	{
		convert[i + 'a'] = i;
		convert[i + 'A'] = i + 26;
	}
	
	int Test;
	scanf("%d", &Test);
	for(int t = 1; t <= Test; t++ )
	{
		Solve ___test;
		___test.main2();
	}
	
return 0;
}
