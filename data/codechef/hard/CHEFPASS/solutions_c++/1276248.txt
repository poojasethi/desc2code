#include<cstdio>
#include<cmath>
#include<ctime>
#include<algorithm>
#include<map>
#include<set>
#include<vector>
using namespace std;

#define ll long long
#define ull unsigned long long
#define ld long double
#define pb push_back
#define popb pop_back
#define mp make_pair

int T;
int N,M;
int par[60];
int eB[60][60];
char c1,c2;
int e1,e2;
bool visited[60];
int odds;

int conv(char c){
 if(c>='a' && c<='z') c-='a';
 else c = c-'A'+26;
 return c;
}

int go(int v){
 if(visited[v]) return 0;
 visited[v]=true;
 if(par[v]) odds++;
 int i;
 for(i=0;i<56;i++) if(eB[v][i]) go(i);
 return 0;
}

int main(){
 int i,j;
 scanf("%d\n",&T);
 while(T--){
  for(i=0;i<60;i++) visited[i]=0;
  for(i=0;i<60;i++) par[i]=0;
  for(i=0;i<60;i++) for(j=0;j<60;j++) eB[i][j]=0;
  scanf("%d ",&N);
  for(i=0;i<N;i++){
   scanf("%c%c ",&c1,&c2);
   e1 = conv(c1); e2 = conv(c2);
   par[e1] = (par[e1]+1)%2;
   par[e2] = (par[e2]+1)%2;
  }
  scanf("%d ",&M);
  for(i=0;i<M;i++){
   scanf("%c%c ",&c1,&c2);
   e1 = conv(c1); e2 = conv(c2);
   eB[e1][e2] = eB[e2][e1] = 1;
  }

  for(i=0;i<56;i++){
   if(visited[i]) continue;
   odds = 0;
   go(i);
   if(odds%2==1) break;
  }
  if(i==56) printf("YES\n");
  else printf("NO\n");
 }


 return 0;
}
