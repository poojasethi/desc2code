#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstdlib>
#include <cstring>
#include <string>
#include <vector>
#include <queue>
#include <stack>
#include <fstream>
#include <set>
#include <map>
#include <cmath>
#pragma comment(linker,"/STACK:16777216")
#define inf 1000000000
#define MP make_pair
#define PI acos(-1.0)
#define eps 1e-9
#define MAXN 52
using namespace std;
typedef long long i64;
typedef unsigned long long u64;
int G[55][55],A[55][55],Deg[55],B[55];
int T,N,M;

int conv(char ch){
    if(islower(ch))return ch-'a';
    else return ch-'A'+26;
}

int dfs(int v){
    int ans=0;
    for(int j=0;j<MAXN;j++)if(!B[j]&&A[v][j]){B[j]=1; ans+=dfs(j);}
    return ans+(Deg[v]%2);
}

int main()
{

    scanf("%d",&T);

    while(T--){

        memset(A,0,sizeof(A));
        memset(G,0,sizeof(G));

        scanf("%d",&N);

        char c1,c2;
        for(int i=1;i<=N;i++){
            scanf("%c%c%c",&c1,&c1,&c2);
            c1=conv(c1); c2=conv(c2);
            G[c1][c2]++;G[c2][c1]++;
        }

        scanf("%d",&M);

        for(int i=1;i<=M;i++){
            scanf("%c%c%c",&c1,&c1,&c2);
            c1=conv(c1); c2=conv(c2);
            A[c1][c2]++;A[c2][c1]++;
        }

        for(int i=0;i<MAXN;i++){
            Deg[i]=0;
            for(int j=0;j<MAXN;j++)Deg[i]+=G[i][j];
        }


        int can=1;
        memset(B,0,sizeof(B));


        for(int i=0;i<MAXN;i++)
            if(!B[i]){B[i]=1; if(dfs(i)%2)can=0;}

        if(can)printf("YES\n");
        else printf("NO\n");


    }

    return 0;
}
