#include <bits/stdc++.h>

using namespace std;

#define MOD 1000000007
#define inf 1000000000
#define maxn 1000000

#define ll long long
#define pii pair<int, int>
#define pb push_back
#define sin scanint
#define bitcount(x) __builtin_popcount(x)
#define fill(s, p) memset(s, p, sizeof(s));
#define gc getchar

void scanint(int &x)
{
    register int c = gc();
    x = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

typedef vector< vector<ll> > matrix;
int n, m;

matrix m_mul(matrix a, matrix b)
{
	int i, j, k;
	matrix c(m, vector<ll>(m));
	for(i=0; i<m; i++){
		for(j=0; j<m; j++){
			c[i][j] = 0;
			for(k=0; k<m; k++){
				c[i][j] = (c[i][j]+(a[i][k]*b[k][j])%MOD)%MOD;
			}
		}
	}
	return c;
}

matrix m_pow(matrix a, int x)
{
	matrix ret1(m, vector<ll>(m));
	matrix ret2(m, vector<ll>(m));
	int i, j;
	for(i=0; i<m; i++){
		for(j=0; j<m; j++){
			ret2[i][j] = a[i][j];
			ret1[i][j] = 0;
		}
		ret1[i][i] = 1;
	}
	while(x){
		if(x%2)
			ret1 = m_mul(ret1, ret2);
		ret2 = m_mul(ret2, ret2);
		x/=2;
	}
	return ret1;
}

int main()
{
	#ifndef ONLINE_JUDJE
		//freopen("input.txt", "r", stdin);
	#endif
	int t, i, j;
	ll ways;
	sin(t);
	while(t--){
		sin(n);
		sin(m);
		ways = 0;
		matrix odd(m, vector<ll>(m));
		matrix even(m, vector<ll>(m));
		for(i=0; i<m; i++){
			odd[i][i] = 1;
			if(i>0)
				even[i][i-1] = odd[i][i-1] = 1;
			if(i<m-1)
				even[i][i+1] = odd[i][i+1] = 1;
		}
		n--;
		matrix ans(m, vector<ll>(m));
		ans = m_mul(even, odd);
		ans = m_pow(ans, n/2);
		if(n%2)
			ans = m_mul(ans, even);
		for(i=0; i<m; i++){
			for(j=0; j<m; j++)
				ways = (ways+ans[i][j])%MOD;
		}
		printf("%lld\n", ways);
	}
	return 0;
}