#include<bits/stdc++.h>
using namespace std;
int st;
int end;
int n;
char s[500002];
int rotat(int val)
{
    int i;
    int j;
    if((end-val)<0)
        end=end-val+n;
    else
    {
        end=end-val;

    }
    if(end==n-1)
    {
        st=0;
    }
    else
    {
        st=end+1;
    }
    if(st==0)
        return 0;
        if(s[end]!=s[n-1])
            return 1;
        if(s[st]!=s[0])
            return 1;
    for(i=st,j=0;j<n,i<n;i++,j++)
    {
     if(!(s[i]==s[j]))
            return 1;
    }
    if(s[st]!=0)
    {
        for(i=0;i<=end;i++,j++)
        {
            if(!(s[i]==s[j]))
                return 1;
        }
        return 0;
    }

}
int main()
{
int t;
cin>>t;
while(t--)
{
    int a;
    int b;
    int i=0;
    scanf("%s",s);
    int flag=1;
     cin>>a>>b;
      st=0;

      n=strlen(s);
    end=n-1;
     int count=1;
     int val=a;
     while(rotat(val))
     {
         count++;
         if(flag)
         {
             val=b;
             flag=0;
         }

         else
         {
             val=a;
             flag=1;
         }
     }
     cout<<count<<endl;
}
return 0;
}
