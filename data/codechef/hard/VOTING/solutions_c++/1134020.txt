#include<iostream>
#include<map>
#include<stack>
#include<queue>
#include<cstdio>
#include<algorithm>
#include<cmath>
#include<climits>
#include<cstring>
#include<vector>

using namespace std;

#define Inf INT_MAX

int temp[16],n,ans[16],d;
int cost[16][16];
int dp[1<<16],cur[1<<16];

int calc(int mask,int x)
{
  int ret=0;

  for(int i=0;i<n;i++)
    {
      if(mask & (1<<i))
	{
	  ret+=cost[i][x];
	}

    }
  return ret;
}
 

void fun()
{
  int all=(1<<n)-1;
  int temp,c,nw;
  
  for(int i=0;i<=all;i++)
    {
      dp[i]=Inf;
      cur[i]=-1;
    }
  dp[0]=0;

  for(int i=0;i<=all;i++)
    {
      for(int k=0;k<n;k++)
	{
	  if(!(i & (1<<k)))
	    {
	      c=dp[i]+calc(i,k);
	      nw=i|(1<<k);

	      if(dp[nw]>c||(dp[nw]==c&&k<cur[nw]))
		{
		  dp[nw]=c;
		  cur[nw]=k;
		}
	    }
         }
     }

      int k;
      k=all;

      for(int i=n-1;i>=0;i--)
	{
	  ans[i]=cur[k]+1;
	
	  k=k & (all-(1<<cur[k]));
	}
      d=dp[all];
}



int main()
{
  int t;  // ....  No. of test cases:
  scanf("%d",&t);

  int m;

  for(int tt=0;tt<t;tt++)
    {

      scanf("%d %d",&m,&n);

      for(int i=0;i<=n;i++)
	for(int j=0;j<=n;j++)
	  cost[i][j]=0;


      for(int i=0;i<m;i++)
	{

	  for(int j=0;j<n;j++)
	    scanf("%d",&temp[j]);

	  for(int j=0;j<n;j++)
	    for(int k=j+1;k<n;k++)
	      cost[temp[k]-1][temp[j]-1]++;
	}

      fun();

      printf("%d: ",d);
      for(int i=0;i<n;i++)
	printf("%d ",ans[i]);
      printf("\n");
    }

  return 0;
}
