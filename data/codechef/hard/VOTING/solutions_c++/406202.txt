#include<cstdio>
#include<cstring>
int N,M;
int V[1024][16];
int pref[16][16];
int dp[1<<15];
int f[1<<15];
int gogo(int mask)
{
        //printf("mask is %d\n",mask);
        if(dp[mask]!=-1)return dp[mask];
        int first,disag=0,min=1<<30;
        for(int i=0;i<M;i++)
        {
                disag=0;
                if(!(mask&(1<<i)))continue;
                first=i;
                for(int j=0;j<M;j++)
                {
                        if(!(mask&(1<<j)))continue;
                        disag+=pref[j][i];
                }
                //if(first==1&&mask==6)printf("disag is %d\n",disag);
                disag+=gogo(mask^(1<<i));
                if(disag<min)
                {
                        min=disag;
                        f[mask]=first;
                        //printf("mask is %d first is %d\n",mask,f[mask]);
                }
        }
        return dp[mask]=min;
}
int main()
{
        int X;
        scanf("%d",&X);
        while(X--)
        {
                memset(pref,0,sizeof(pref));
                memset(dp,-1,sizeof(dp));
                scanf("%d%d",&N,&M);
                for(int i=0;i<N;i++)for(int j=0;j<M;j++)
                {
                        scanf("%d",&V[i][j]);
                        V[i][j]--;
                }
                for(int i=0;i<N;i++)
                {
                        for(int j=0;j<M;j++)for(int k=j+1;k<M;k++)
                                pref[V[i][k]][V[i][j]]++;

                }
        //      for(int i=0;i<M;i++)for(int j=0;j<M;j++)printf("(%d,%d)%d ",i,j,pref[i][j]);
        //      printf("\n");
                int mask=1<<M;
                mask--;
                dp[0]=0;
                int d=gogo(mask);
                printf("%d:",d);
                int temp[32];
                for(int i=0;i<M;i++)
                {
                        temp[i]=f[mask]+1;
                //      printf(" %d",f[mask]+1);
//                      printf("mask is %d\n",mask);
                        mask=(mask^(1<<f[mask]));

                }
                for(int i=M-1;i>=0;i--)printf(" %d",temp[i]);
                printf("\n");

        }
}
