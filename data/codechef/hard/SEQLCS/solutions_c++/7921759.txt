#include <bits/stdc++.h>
#define MOD 1000000007
using namespace std;
 
const int N=18;
const int MAXS = (1<<16) + 10;
 
int nextmask[MAXS][N],dp[N][MAXS];
int lcs[N],newlcs[N],a[N];
int main() {
	int t,n,k,l;
	scanf("%d",&t);
	while(t--)
	{
	    scanf("%d %d %d",&n,&k,&l);
	    for(int i=1;i<=n;++i)
	    {
	        scanf("%d",&a[i]);
	    }
	    memset(dp,0,sizeof(dp));
	    
	    for(int st = 0; st < (1<<n); ++st)
	    {
	        lcs[0]=0;
	        for(int j = 0; j < n; ++j)
	        {
	            lcs[j+1] = lcs[j] + ((st>>j) & 1);
	        }
	        
	        for(int i = 1; i <= k; ++i)
	        {
	            newlcs[0] = 0;
	            for(int j = 1; j <= n; ++j)
	            {
	                if(i == a[j]) newlcs[j] = lcs[j-1] + 1;
	                else newlcs[j] = max(newlcs[j-1], lcs[j]);
	            }
	            int newst=0;
	            for(int j = 1; j <= n; ++j)
	            {
	                if(newlcs[j] > newlcs[j-1]) newst += (1<<(j-1));
	            }
	            nextmask[st][i] = newst;
	        }
	    }
	    
	    dp[0][0] = 1;
	    for(int i=0;i<n;++i)
	    {
	        for(int st=0;st<(1<<n);++st)
	        {
	            if(dp[i][st]==0) continue;
	            for(int j=1;j<=k;++j)
	            {
	                dp[i+1][nextmask[st][j]] += dp[i][st];
	                if(dp[i+1][nextmask[st][j]]>=MOD) dp[i+1][nextmask[st][j]]-=MOD;
	            }
	        }
	    }
	    int ans = 0;
	    for(int st=0;st<(1<<n);++st)
	    {
	        int len=0;
	        for(int j=0;j<n;++j)
	        {
	            len += ((st>>j) & 1);
	        }
	        if(len==l){
	            ans += dp[n][st];
	            if(ans>=MOD) ans-=MOD;
	        }
	    }
	    printf("%d\n",ans);
	}
	return 0;
}
 