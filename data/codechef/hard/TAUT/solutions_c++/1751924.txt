#include<iostream>
#include<cstdio>
#include<cstring>
#include<string>
#include<cstdlib>
#include<vector>
#include<map>
#include<set>
#include<queue>
#include<stack>
#include<cmath>
#include<algorithm>
using namespace std;
#define pb push_back
#define mp make_pair
#define cin(n) scanf("%d",&n)
#define gc getchar_unlocked
typedef vector<int> VI;
int fcin(){register int c = gc();int x = 0;for(;(c<48 || c>57);c = gc());for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}return x;}
string s; 
int num; 
map <char,bool> MAP; 
map <char,bool>::iterator iter; 
stack<bool> st;
bool islower(char ch){
	return ch<='z' && ch>='a';
}
void operate(char ch){
//	cout<<"operating "<<ch<<"::"<<st.size()<<endl;
	if(ch=='C'){
		bool a = st.top() ; st.pop(); 
		bool b = st.top() ; st.pop() ; 
		st.push(a && b);
	}
	else if(ch=='D'){
		bool a = st.top() ; st.pop() ; 
		bool b= st.top() ; st.pop() ; 
		st.push(a||b) ;
	}
	else if(ch=='I'){
		bool a =st.top() ;st.pop();
		bool b =st.top() ;st.pop(); 
		st.push(!(a==true && b==false));
	}
	else if(ch=='E'){
		bool a = st.top();st.pop() ;
		bool b = st.top(); st.pop() ;  
		st.push(a==b);
	}
	else {
		bool a = st.top(); st.pop(); 
		st.push(!a);
	}
}
bool function(){
	///cout<<"into the funtion :"<<s.length()<<endl;
	for(int i=s.length() -1; i>=0; i--){
	//	cout<<i<<":"<<s<<":"<<s[i]<<endl;
		if(s[i]>='a')st.push(MAP[s[i]]);
		else operate(s[i]); 
	}
	bool ans = st.top() ;
	st.pop() ; 
	return ans;
} 
int main(){
	int tests=fcin();
	while(tests--){
		cin>>s;
		MAP.clear(); 
		for(int i=s.length()-1; i>=0;--i ){
			if(s[i]>='a')num++,MAP[s[i]]=0; 
		}
		num= MAP.size() ; 
		//cout<<"works till input :"<<num<<" "<<MAP.size()<<endl;
		bool flag =true;
		for(int k=0;k<(1<<num);k++){
			int l;
			for(iter = MAP.begin(),l=0; iter!=MAP.end(); l++,iter++){
				((*iter).second) = (((1<<l) & k)!=0);
	//			cout<<iter->first<<" "<<iter->second<<endl;
			}
			//cout<<"woring the k part as well"<<endl;
			if(function()==false){flag=false;break;}
		}
		printf(flag?"YES\n":"NO\n");
	}
}