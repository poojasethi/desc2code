#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>
#include <climits>
#include <numeric>
#include <vector>
#include <cmath>
using namespace std;
const int N = 50000 + 10;
char oper[8]={'C','D','I','E','N'},s[200],map2[200];
char Map[100];
int val[200],m;
int value(int x,int y,int op)
{
 switch(op)
 {
  case 1:return(x&y);
  case 2:return(x|y);
  case 3:return((!x)|y);
  case 4:return(!x&!y|(x&y));
  case 5:return(!x);
 }
}
int eval()
{
 if(s[m]>='a'&&s[m]<='z')
 {
  int x=val[map2[s[m]]];
  m++;return x;
 }
 else
 {
  int op=Map[s[m]];
  if(op==5)
  {
   m++;
   int x=eval();
   return value(x,x,5);
  }
  else
  {
   m++;
   int x=eval();int y=eval();
   return value(x,y,op);
  }
 }
}
int main()
{
	//freopen("in.txt","r",stdin);
	int T,i,j,n;
	for(i=0;i<=4;i++)Map[oper[i]]=i+1;
	scanf("%d",&T);
	while(T--)
	{
	 scanf("%s",s);
	 for(i=97;i<=122;i++)map2[i]=-1;
	 n=strlen(s);
	 int idx=0;
	 for(i=0;i<n;i++)
	 if(!Map[s[i]]&&map2[s[i]]==-1)
	 map2[s[i]]=idx++;
	 for(i=0;i<(1<<idx);i++)
	 {
	  for(j=0;j<idx;j++)
	  if(i&(1<<j))val[j]=1;
	  else val[j]=0;
	  m=0;
	  if(!eval())break;
	 }
	 if(i==(1<<idx))puts("YES");
	 else puts("NO");
	}
	return 0;
}
