#include <bits/stdc++.h>
#define INF 1000000000
using namespace std;

int iff[22][22];
int n;
int val[1<<20];
bool vis_val[1<<20];
int dp[1<<20];
bool vis_dp[1<<20];

int cal(int mask)
{
    if ( vis_val[mask] ) return val[mask];
    vis_val[mask] = true;
    int ans = 0;
    for ( int i = 0; i < n; i++ ) {
        if ( mask&(1<<i) ) {
            for ( int j = 0; j < n; j++ ) {
                if ( mask&(1<<j) ) continue;
                ans += iff[i][j];
            }
        }
    }
    val[mask] = ans;
    return ans;
}

int f(int mask)
{
    if ( mask == (1<<n)-1 ) return 0;
    if ( vis_dp[mask] ) return dp[mask];
    vis_dp[mask] = true;
    int ans = INF;
    for ( int i = 0; i < n; i++ ) {
        if ( mask&(1<<i) ) continue;
        ans = min(ans, cal(mask) + f(mask|(1<<i)));
    }
    dp[mask] = ans;
    return ans;
}

int main()
{
    int x,y,m;
    cin >> n >> m;
    while ( m-- ) {
        cin >> x >> y;
        x--, y--;
        iff[x][y] = iff[y][x] = 1;
    }
    int ans = f(0);
    cout << ans << endl;
    return 0;
}
