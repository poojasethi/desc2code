# include <iostream>
# include <fstream>
# include <sstream>
# include <algorithm>
# include <cstdio>
# include <cmath>
# include <numeric>
# include <cstdlib>
# include <cstring>
# include <vector>
# include <list>
# include <set>
# include <map>
# include <stack>
# include <queue>
# include <cctype>
# include <climits>
# include <complex>

using namespace std;

typedef long long ll;
typedef unsigned long long ull;
typedef pair<int,int> pii;
typedef vector<int> vi;
#define rep(i,a,b) for(int i=a;i<b;i++)
#define pb push_back
#define mp make_pair
#define inf 1000000000
#define mod 1000000007
#define mst(a,b) memset(a,b,sizeof(a))
#define pi (double)(3.141592653589793)
int a[1<<20],b[1<<20];
vector<int> v[20];

int main()
{
    int n,m,i,j,k;
    cin>>n>>m;
    rep(i,0,m)
    {
        cin>>j>>k;
        j--,k--;
        v[j].pb(k);
        v[k].pb(j);
    }
    rep(i,0,1<<n)
    {
        int xx=0;
        rep(j,0,n)
        {
            if(i&(1<<j))
            {
                for(k=0;k<v[j].size();k++)
                {
                    if(!(i&(1<<v[j][k])))
                        xx++;
                }
            }
        }
        b[i]=xx;
a[i]=1000000000;
    }
a[0]=0;
    rep(i,0,1<<n)
    {

        rep(j,0,n)
        {
            if(!(i&(1<<j)))
            {
                int xx=(i|(1<<j));

                a[xx]=min(a[xx],a[i]+b[i]);

            }
        }
    }

     cout<<a[(1<<n)-1];




    return 0;
}
