#include<iostream>
#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<string>
#include<vector>
#include<algorithm>

#define pb push_back
#define f  first
#define s second

using namespace std;

typedef pair<int,int> pr;
typedef long long ll;
int dp[2000000];
int dp2[2000000];
vector<pr> arr;

void func(int a,int m)
{
	int i,j,x1,x2;

	dp2[0] = 0;
	for(i = 1;i < a;i++)
	{
		for(j = 0;j < m;j++)
		{
			x1 = arr[j].f;
			x2 = arr[j].s;
			if( ( (i&(1<<x1)) != 0) && ( (i&(1<<x2)) == 0) )
			{
				dp2[i] += 1;
			}		
			if( ((i&(1<<x2)) != 0) && ((i&(1<<x1))== 0) )
			{
				dp2[i] += 1;	
			}
		}

	}
}

int main()
{
	int n,m,i,a,j,z,x,y;
	
	scanf("%d %d",&n,&m);
		
	for(i = 0;i < m;i++)
	{
		scanf("%d %d",&x,&y);
		x--;
		y--;
		arr.pb(pr(x,y));	
	}
	
	a = 1;
	for(i = 1;i <= n;i++)
	{
		a = a*2;
	}
	
	func(a,m);
	for(i = 0;i <= a;i++)
	{	
		dp[i] = 10000000;
	}
	dp[0] = 0;
	for(i = 1;i < a;i++)
	{
		for(j = 0;j < n;j++)
		{
			if(i&(1<<j))
			{
				z = i^(1<<j);
				dp[i] = min(dp[i],dp[z]+dp2[i]);			
			}
		}
	}
	printf("%d\n",dp[a-1]);
	return 0;
}
