#include <iostream>
#include <cstring>
#include <cstdio>
#include <string>
#include <set>
#include <vector>
#include <map>
#include <cmath>
#include <cstdlib>
#define ll long long
#define ldb long double
#define ff first
#define ss second
#define pii pair <int, int>
#define mp make_pair
#define pb push_back
#define sqr(a) ((a) * (a))
#define nextLine() {int c = 0; while ((c = getchar()) != 10 && c != EOF); }
const ldb pi = fabsl(atan2l(0.0, -1.0));
const ldb eps = 1e-9;
const int inf = 1 << 28;
using namespace std;

int n, m, w, wrap[250], was[52], from[250], to[250];
int a[250][250];
int b[200];

void load()
{
	cin >> n >> m;
	memset(wrap, 0, sizeof(int) * m);
	for (int i = 0; i < m; i++)
	{
		scanf("%d%d", &from[i], &to[i]);
		from[i]--;
		to[i]--;
	}
	cin >> w;
	int g;
	for (int i = 0; i < w; i++)
	{
		cin >> g;
		g--;
		wrap[g] = 1;
	}
}


void solve(int test_number)
{
	for (int i = 0; i < m; i++)
	{
		memset(a[i], 0, sizeof(int) * (n + m));
		a[i][from[i]] = 1;
		a[i][to[i]] = 1;
		if (wrap[i])
		{
			a[i][n + i] = 1;
			b[i] = 0;
		}
		else
			b[i] = 1;	
	}
	for (int i = 0; i < m; i++)
	{
		int j;
		for (j = 0; j < n + m && a[i][j] == 0; j++);
		if (j == n + m)
		{
			if (b[i] == 1)
			{
				printf("NO\n");
				return;
			}
		}
		for (int k = i + 1; k < m; k++)
		{
			if (!a[k][j]) continue;
			for (int l = 0; l < n + m; l++)
				a[k][l] ^= a[i][l];
			b[k] ^= b[i];
		}
	}
	printf("YES\n");
}
#define problem "a"
int main()
{
	#ifndef ONLINE_JUDGE
	freopen(problem ".in", "rt", stdin);
	freopen(problem ".out", "wt", stdout);
	#endif
	int tests;
	cin >> tests;
	nextLine();
	for (int t = 0; t < tests; t++)
	{
		load();
		solve(t + 1);
	}
	return 0;
}