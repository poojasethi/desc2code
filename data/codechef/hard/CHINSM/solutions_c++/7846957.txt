/*
Author :  ARVIND PANDEY
 */
#include <iostream>
#include <cstdio>
#include <climits>
#include <cstring>
#include <algorithm>
#include <string.h>
#include <stdlib.h>
#include <cmath>
#include <vector>
#include <stack>
#include <queue>
#include <map>
#include <set>

using namespace std;

#define FOR(i,a,b) for(i=a;i<b;i++)
#define pb(x) push_back(x)
#define ll long long
#define mp make_pair

typedef vector<int> vi;
typedef pair<int,int> pii;
typedef vector<pii> vii;
typedef vector<vii> vvii;

ll power(ll a, ll n)//////             O(log n)
{
    ll ans = 1;
    while (n) {
        if (n % 2 == 1)
            ans *= a;
        a *= a;
        n /= 2;
    }
    return ans;
}

ll gcd(ll a, ll b)////                 O(log(a+b))
{
    if (b==0)
        return a;
    return gcd(b,a%b);
}
////////////////////////////////////////////////////////////////////////////////////CODE BEGINS/////////////////////////////////////////////////////////
int n,k;
int mark[100005],arr[100005];
void add(int idx)
{
    if(arr[idx] == k)
    {
        mark[0]++;
        return;
    }
    if(arr[idx] < k) 
        return;
    int tmp = arr[idx] - k;
    for(int i = 1; i*i <= tmp; i++)
    {
        if(tmp % i == 0)
        {
            mark[i]++;
            mark[tmp/i]++;
        }
    }
}
void sub(int idx)
{
    if(arr[idx] == k)
    {
        mark[0]--;
        return;
    }
    if(arr[idx] < k) 
        return;
    int tmp = arr[idx] - k;
    for(int i = 1; i*i <= tmp; i++)
    {
        if(tmp % i == 0)
        {
            mark[i]--;
            mark[tmp/i]--;
        }
    }
}

int main() 
{
    #ifndef ONLINE_JUDGE
    freopen("inp.txt","r",stdin);
    #endif

    int i,j;
    cin>>n>>k;
    FOR(i,0,n)
        cin>>arr[i];
    int p1 = 0;
    ll ans = 0;
    FOR(i,0,n)
    {
        while(arr[i] > k && (mark[0] > 0 || mark[arr[i]] > 0))
        {
            sub(p1);
            p1++;
        }
        
        add(i);
        ans += i-p1+1;
    }
    cout<<ans<<"\n";
    return 0;
}