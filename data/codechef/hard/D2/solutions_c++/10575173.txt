#include <bits/stdc++.h>
#define vi vector<int>
#define vlli vector<long long int>
#define pii pair<int,int>
#define pllilli pair<long long int, long long int>
#define loop(i,start,n) for ( int i = start ; i<n ; i++)
#define lli long long int
#define li long int
#define pb push_back
#define qi queue<int>
#define mp make_pair
#define TEST	int t=0; cin>>t; while (t--)
using namespace std;

int LISfunc(int arr[], int n, int start)
{
    int LIS[n];
    LIS[0]=arr[start];
    int top=0,count=0,pos;
    for (int i=start; count<n; i=(i+1)%n)
    {
        if (arr[i]<LIS[0])
            LIS[0]=arr[i];
        else
            if (arr[i]>LIS[top])
            {
                top++;
                LIS[top]=arr[i];
            }
            else
            {
                pos=(lower_bound(LIS,LIS+(top+1),arr[i])-LIS);
                LIS[pos]=arr[i];
            }
        count++;
    }
    return top+1;
}

int main()
{
    ios::sync_with_stdio(false);
    TEST
    {
        int n=0;
        cin>>n;
        int arr[n];
        loop(i,0,n)
            cin>>arr[i];
        int ans=-10000000;
        loop(i,0,n)
        {
            ans=max(ans,LISfunc(arr,n,i));
        }
        cout<<ans<<"\n";
    }
    return 0;
}
