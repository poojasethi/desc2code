//Amit Gupta              
#include<bits/stdc++.h>
using namespace std;
typedef long long LL;
typedef pair<int,int> II;
#define REP(i,i1,n) for(int i=i1;i<n;i++)
#define REPB(i,i1,n) for(int i=i1;i>=n;i--)
#define PB push_back
#define MP make_pair
#define ALL(c) (c).begin(),(c).end()
#define F first
#define S second
#define SZ(a) (LL)a.size()
#define EPS 1e-12
#define MOD 1000000007
#define TR1(x) cerr<<#x<<" : "<<x<<endl
#define TR2(x,y) cerr<<#x<<" : "<<x<<" | "<<#y<<" : "<<y<<endl
#define FAST_IO ios_base::sync_with_stdio(false);cin.tie(NULL)
#define SI(c) scanf("%d",&c)
#define SII(c,d) scanf("%d%d",&c,&d)
#define SLL(c) scanf("%lld",&c)
#define PIN(c) printf("%d\n",c)
#define PLLN(c) printf("%lld\n",c)
#define N 200010
#define endl '\n'
#define FILL(ar,vl) for(int i=0;i<N;i++)ar[i]=vl
#define FILL2(ar,vl) for(int i=0;i<N;i++)for(j=0;j<N;j++)ar[i][j]=vl
//--------------------------MAIN CODE STARTS HERE----------------
LL dp[100][600];
int main()
{	
    int t;
    SI(t);
    while(t--) {
        memset(dp,0,sizeof(dp));
        LL c,s;LL k;
        SLL(c);SLL(s);SLL(k);
        REP(i,0,s+1) {
            if(i<c)
                dp[0][i]=1,dp[1][i]=1;
        }
        int pos=1;
        REP(i,2,100) {
            REP(j,0,s+1) {
                REP(j1,0,min(1LL*(j+1),c)) {
                    dp[i][j]+=dp[i-1][j-j1];
                    if(dp[i][j]>1e+18)
                        dp[i][j]=1e+18;
                }
            }
            if(dp[i][s]>=k) {
                pos=i;
                break;
            }
        }
        LL vl=1;LL ans=0;
        REP(i,1,pos)
            vl*=c;
        REPB(l,pos,2) {
            LL id=0;
            while(id<c&&dp[l-1][s-id]<k)
                k-=dp[l-1][s-id],id++;
            s-=id;
            ans+=vl*id;
            vl/=c;
        }
        PLLN(ans+s);
    }
    return 0;
}
