 #include <bits/stdc++.h>

  using namespace std;
  long long int dp[110][610];
  long long int power[100010];
  int main() { 
  	// freopen("input.txt","r",stdin);
  	int n,i,j,k,l,m,t,S,C;
  	long long s=1,K;
    long long int currdig,num,ans;
  	scanf("%d",&t);
  	while(t--)
  	{
  		scanf("%d %d %lld",&C,&S,&K);
      memset(dp[1],0,sizeof(dp[1]));
      dp[0][0]=1;
      for(i=0;i<C;i++)
        dp[1][i]=1;
      i=2;
      if(dp[1][S]<K)
      for(i=2;i<110;i++) {
        memset(dp[i],0,sizeof(dp[i]));
          for(j=0;j<=S;j++) {
            for(k=0;k<=j&&k<C;k++) {
              dp[i][j]+=dp[i-1][j-k];
            }
            // cout<<dp[i][j]<<' ';
          }
          // cout<<"endl"</<endl;
          if(dp[i][S]>=K)
            break;
      }

      // cout<<i<<endl;
      currdig=1;
      power[0]=1;
      power[1]=C;
      for(int j=2;j<=i;j++)
        power[j]=power[j-1]*C;
      ans=0;
      for(;i>0;i--)
      {
        currdig=0;
        num=0;
        while(num+dp[i-1][S-currdig]<K&&S-currdig>0) {
          num+=dp[i-1][S-currdig];
          currdig++;
          // cout<<num<<"hi"<<S<<' '<<currdig<<' '<<dp[i-1][S-currdig]<<endl;

        }
        ans+=currdig*power[i-1];
        S-=currdig;
        // cout<<S<<' ';
        K-=num;
        // cout<<S<<' '<<K<<' '<<currdig<<endl;
      }
      printf("%lld\n",ans);

  	}

    return 0;
  }