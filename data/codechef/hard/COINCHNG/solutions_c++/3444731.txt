#include <bits/stdc++.h>
#define dosya(s) freopen(s".gir","r",stdin); freopen(s".cik","w",stdout); 
#define FP( ii,aa,bb ) for( typeof(aa) ii = aa; ii <= bb; ii++ )
#define FM( ii,aa,bb ) for( typeof(aa) ii = aa; ii >= bb; ii-- )
#define st first
#define nd second
#define MAX 1000000000000000000LL

using namespace std;

typedef pair<int,int> pii;
typedef long long ll; 

ll T,C,S,K;
ll dp[65][505];
ll D[65];
ll temp,bas;
ll us,res;
ll power[55];

ll solve( ll x,ll sum )
{
	if( sum == 0 ) return 1;
	if( sum < 0 || x*(C-1) < sum ) return 0;

	ll &ret = dp[x][sum];
	if( ret != -1 ) return ret;

	ll temp;
	ret = 0;
	FP( i,0,C-1 )
	{
		temp = solve( x-1,sum-i );
		if( temp > MAX ) return ret = temp;
		ret += temp;
		if( ret > MAX ) return ret;
	}

	return ret;
}

int main()
{
	cin >> T;

	FP( i,2,50 )
	{
		us = 1;
		temp = 0;

		while( us < MAX )
			us *= i,temp++;
		power[i] = temp;
	}

	FP( Case,1,T )
	{
		cin >> C >> S >> K;

		memset( dp,-1,sizeof dp );

		temp = bas = power[C];

		while( bas )
		{
			FP( i,0,C-1 )
			{
				if( solve( bas-1,S-i ) >= K ) { S-=i; D[bas] = i; break; }
				K -= solve( bas-1,S-i );
			}
			bas--;
		}
	
		us = 1;
		res = 0;
		FP( i,1,temp )
		{
			res += us*D[i];
			us *= C;
		}

		cout << res << endl;
		
	}
}
