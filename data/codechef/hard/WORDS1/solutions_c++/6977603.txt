#include <iostream>
#include <stdio.h>
#include <string.h>
#include <vector>
using namespace std;
int counter;
char s[1005];
vector<int> v[30];
int visited[30],nodes[30],check[30][30],net_degree[30];
void dfs(int x)
{
    int i;
    //cout<<x<<"\n";
    visited[x]=1;
    counter++;
    for(i=0;i<v[x].size();i++)
    {
        if(!visited[v[x][i]])
            dfs(v[x][i]);
    }
}
int main()
{
    int t,n,e,x,y,i,j,l,flag,in_degree,out_degree;
    scanf("%d",&t);
    while(t--)
    {
        for(i=0;i<26;i++)
        {
            nodes[i]=0;
            net_degree[i]=0;
            visited[i]=0;
            v[i].clear();
        }
        for(i=0;i<26;i++)
        {
            for(j=0;j<26;j++)
                check[i][j]=0;
        }
        counter=0;
        flag=0;
        n=0;
        in_degree=0;
        out_degree=0;

        scanf("%d",&e);
        for(i=0;i<e;i++){
            scanf(" %s",s);
            l=strlen(s);
            x=s[0]-'a';
            y=s[l-1]-'a';
            if(!check[x][y]){
                v[x].push_back(y);
                v[y].push_back(x);
                check[x][y]++;
                check[y][x]++;
            }
            if(!nodes[x]){
                nodes[x]++;
                n++;
            }
            if(!nodes[y])
            {
                nodes[y]++;
                n++;
            }
            net_degree[x]++;
            net_degree[y]--;
        }
        dfs(x);
        if(counter!=n){
            printf("The door cannot be opened.\n");
            //cout<<"1\n";
            //cout<<counter<<"\n";
            //cout<<n<<"\n";
            //cout<<x<<"\n";
        }
        else
        {
            for(i=0;i<26;i++)
            {
                if(net_degree[i]==1)
                    out_degree++;
                else if(net_degree[i]==-1)
                    in_degree++;
                else if(net_degree[i]!=0)
                {
                    flag=1;
                    break;
                }
            }
            if(flag==1){
                printf("The door cannot be opened.\n");
                //cout<<"2\n";
            }
            else if(out_degree==1&&in_degree==1){
                printf("Ordering is possible.\n");
                //cout<<"3\n";
            }
            else if(out_degree==0&&in_degree==0){
                printf("Ordering is possible.\n");
                //cout<<"4\n";;
            }
            else{
                printf("The door cannot be opened.\n");
                //cout<<"5\n";
            }
        }

    }
    return 0;
}
