#include<iostream>
using namespace std;
typedef long long int lli;
#define mod 1000000007
long long int read_int(){
	char r;
	bool start=false,neg=false;
	long long int ret=0;
	while(true){
		r=getchar();
		if((r-'0'<0 || r-'0'>9) && r!='-' && !start){
			continue;
		}
		if((r-'0'<0 || r-'0'>9) && r!='-' && start){
			break;
		}
		if(start)ret*=10;
		start=true;
		if(r=='-')neg=true;
		else ret+=r-'0';
	}
	if(!neg)
		return ret;
	else
		return -ret;
}
lli power(lli a, lli  b)
{
	 if(b==0)
	 return 1;
	  lli temp= power(a,b/2);
	 if(b%2==0)
    {
    	  return (temp * temp)%mod;
	}
	else
	return (((temp*temp)%mod)*a)%mod;
}

 int main()
  {
  	  int t;
  	  cin>>t;
  	   while(t--)
  	    {
  	    	lli n,k;
  	    	//cin>>n>>k;
  	    	 n=read_int();
  	    	  k=read_int();
  	    	   lli   val1=(k*(k-1))%mod;
  	    	   
  	    	     
  	    	    lli  val2=((k-2)*(k-2))%mod; 
  	    	     val2=(val2+(k-1))%mod;
  	    	  
  	    	      lli ans=power(val2,n-1);
  	    	   
  	            ans=(((ans))*(val1))%mod;
  	    	     cout<<ans<<endl;
  	    	      
  	    	 
		  }
		  
		  
		  return 0;
  	
  }