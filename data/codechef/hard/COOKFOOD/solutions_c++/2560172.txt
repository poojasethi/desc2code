#include <cstdio>
#include <cstdlib>
//#include <vector>
//#include <queue>

#define FOR(i,a,b) for(i = a ; i < b ; i++)
#define LLI long long int 
#define const 1000000007

LLI find(LLI m , LLI p){
	/*if(p == 0)
		return 1LL ;
	else{
		LLI var = find(m , p-1)%const ;
		var = (var*m)%const ;
		return var ;
	}*/
	LLI x = 1 , y = m ;
	while(p != 0){
		if(p % 2 == 1){
			x = (x*y)%const ;
		}
		y = (y*y)%const ;
		p = p/2 ;
	}
	return x ;
}

int main(void){
	int t ;
	LLI n , k , num ;
	scanf("%d" , &t) ;
	while(t--){
		scanf("%lld%lld" , &n , &k) ;
		num = ((k*k)-(3*k)+3)%const ;
		LLI ans = find(num,n-1) ;
		ans = (((k*k-k)%const)*ans)%const ;
		printf("%lld\n", ans) ;
	}
	//system("pause") ;
	return 0 ;
}