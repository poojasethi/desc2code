#include<iostream>
#include<cmath>
#define MOD 1000000007
using namespace std;
long long int fast_exp1(long long int base,long long int exp);
int main()
{
    int test;
    cin>>test;
    while(test--)
    {
        long long int n,k;
        cin>>n>>k;
        long long int a1=(k*(k-1))%MOD;
        long long int a2=(fast_exp1(k-2,2)+(k-1));
        long long int a3=fast_exp1(a2,n-1);
        long long int ans=(a1*a3)%MOD;
        cout<<ans<<"\n";

    }
    return 0;
}
long long int fast_exp1(long long int base,long long int exp) {
    long long int  res=1;
    while(exp>0) {
       if(exp%2==1) res=(res*base)%MOD;
       base=(base*base)%MOD;
       exp/=2;
    }
    return res%MOD;
}
