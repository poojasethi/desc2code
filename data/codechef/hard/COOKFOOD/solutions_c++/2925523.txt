#include <iostream>
#include <queue>
#include <cstdio>
#include <cstring>
#include <map>
#include <vector>
#include <list>
#include <sstream>
#include <cmath>
#include <ctime>
#include <algorithm>
 
using namespace std;
 
#define sz(a) ((int)a.size())
#define cl clear()
#define pb push_back
#define mp make_pair
#define x first
#define y second
#define all(a) a.begin(), a.end()
#define sqr(a) ((a) * (a))
#define PI 3.1415926535897932384626433832795
 
typedef long long ll;
typedef unsigned long long ull;
typedef pair <int, int> pii;
#define mod 1000000007
const ll inf=100000000000007LL;
#define N 100010
ll pow(ll a,int b)
{
	ll res=1;
	while(b>0)
	{
		if(b&1)res=res*a%mod;
		a=a*a%mod;b>>=1;
	}
	return res;
}
int main()
{
	int i,j,k,n,m,T;
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d%d",&n,&k);
		if(k==1)
		{
			puts("0");continue;
		}
		ll ans=((ll)(k-2)*(k-2)%mod+k-1)%mod;
		ans=pow(ans,n-1);
		ans=(ll)k*(k-1)%mod*ans%mod;
		printf("%I64d\n",ans);
	}
	return 0;
}