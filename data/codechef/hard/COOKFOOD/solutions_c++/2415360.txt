#include <cmath>
#include <algorithm>
#include <vector>
#include <iostream>
#include <cstdio>
#include <set>
#include <queue>
#include <map>
#include <string>
#include <cstring>
#include <ctime>
using namespace std;
#define For(i,a,b) for(int i=a;i<=b;i++)
#define Ford(i,a,b) for(int i=a;i>=b;i--)
#define Rep(i,c) for((type of c.begin()) i;i!=c.end();i++)
#define pb push_back
#define mp make_pair
#define fi first
#define se second
#define sr(x) (int)x.size()
#define modul 1000000007
#define nmax 100
#define BUG(x) {cout << #x << " = " << x << endl;}
#define PR(x,a,b) {cout << #x << " = "; For(_,a,b) cout << x[_] << ' '; cout << endl;}
#define fillchar(x,a,b,delta) For(_,a,b) x[_]=delta;
#define Bit(s,i) (s&(1<<i))
#define Two(x) (1<<x)
#define pii pair<int,int>
#define ll long long
#define e 1e-6
#define pi acos(-1)
int n,m,stest,k;
int pow(int i,int j) {
    if (j==0) return 1;
    if (j==1) return i;
    int tg=pow(i,j/2);
    tg=((ll) tg*tg) %modul;
    if (j%2==1) tg=((ll)tg*i)%modul;
    return tg;
}
int main()
{
  //  freopen("codechef.inp","r",stdin);
    scanf("%d",&stest);
    while (stest) {
        stest--;
        scanf("%d%d",&n,&k);
        int m = ((k-1) + (ll) (k-2)*(k-2) ) %modul;
        int res=((((ll)k*(k-1)) %modul ) * pow(m,n-1) ) %modul;
        printf("%d\n",res);
    }
    return 0;
}







