#include <iostream>

#define MOD 1000000007

using namespace std;

long long int expo(long long int n,long long int k)
{
  if(k==0)
    return 1;
  if(k==1)
    return n;
  long long int e = expo(n,k/2);
  if(k%2 == 0)
    return (e * e) % MOD;
  if(k%2 == 1)
    return (((e * e) % MOD) * n) % MOD;
}

long long int cookfood(long long int N, long long int K)
{ 
  return ( (K*(K-1)%MOD) * expo( ( ((K-2)*(K-2)%MOD)+K-1) % MOD ,N-1) )%MOD;
}

int main(int argc, char *argv[])
{
  int T;
  cin >> T;
  long long int N,K;
  for (int i = 0; i < T; ++i)
    {
      cin >> N >> K;
      cout << cookfood(N,K) << endl;
    }
  return 0;
}

