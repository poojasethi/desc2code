from sys import stdin
 
MOD = 1000000007
 
for trial in xrange(int(stdin.readline())):
    N,K = map(int,stdin.readline().split())
    if K==1: print 0
    elif K==2: print 2
    else: print (K*(K-1)*pow(K**2-3*K+3,N-1,MOD))%MOD 