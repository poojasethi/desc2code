#include<cstdio>
#include<iostream>

using namespace std;

int MODZ = 1e9+9;
int height[1000123];
int diff[1000123];
int last[8002000];
int dp[1000123];

int main()
{
	int T,N;
	int i,j;
	int midz = 4001000;
	int ans;
	
	for(i=midz-4000000; i<=midz+4000000; i++)
		last[i] = 0;
	
	cin >> T;
	
	while(T--)
	{
		scanf("%d", &N);
		
		for(i=1;i<=N;i++)
		{
			scanf("%d", &height[i]);
		}
		
		for(i=1;i<N;i++)
		{
			diff[i] = height[i+1] - height[i];
		}
		
		dp[0] = 1;
		for(i=1;i<N;i++)
		{
			dp[i] = dp[i-1]*2;
			if(last[diff[i]+midz]!=0)
			{
				dp[i] -= dp[last[diff[i]+midz]-1];
			}
			last[diff[i]+midz] = i;
			dp[i] = (dp[i]%MODZ + MODZ) % MODZ;
		}
		
		for(i=1;i<N;i++)
		{
			last[diff[i]+midz] = 0;
		}
		
		ans = (dp[N-1]-1+MODZ)%MODZ;
		printf("%d\n", ans);
	}

	return 0;
}

