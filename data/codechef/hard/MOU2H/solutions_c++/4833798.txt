#include<bits/stdc++.h>

using namespace std;
 
#define FOR(i,a,b) for(int i=a;i<b;i++)
#define For(i,a,b) for(int i=a-1;i>=0;i--)
#define K 10000000
#define L 400
#define ll long long
#define s1(a) scanf("%d",&a);
#define s2(a) scanf("%lld",&a);
#define s3(a,b) scanf("%d%d",&a,&b);
#define s4(a,b,c) scanf("%d%d%d",&a,&b,&c);
#define pb push_back
#define mp make_pair
#define F first
#define S second 
/*******************************MAIN CODE STARTS*******************************/

#define m 1000000009
#define md 4000000

int n;
ll a[1000010];
ll dp[1000010],last[8000010];

void scan()
{
	s1(n)
	FOR(i,0,n)
	{
		s2(a[i])
	}
}

void out()
{
	FOR(i,0,n)
		a[i]-=a[i+1];
	--n;
	dp[0]=1;
	FOR(i,0,n)
		last[a[i]+md]=-1;
	FOR(i,0,n)
	{
		dp[i+1]=2*dp[i]-(last[a[i]+md]<0?0:dp[last[a[i]+md]]);
		if(dp[i+1]<0)
			dp[i+1]+=m;
		if(dp[i+1]>=m)
			dp[i+1]=dp[i+1]%m;
		last[a[i]+md]=i;
		//cout<<dp[i+1]<<'\n';
	}
	cout<<dp[n]-1<<'\n';
}

int main()
{
	int t;
	s1(t)
	while(t--)
	{
		scan();
		out();
	}
	return 0;
}