// Author: thecodekaiser
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

#define MOD 1000000009
#define BUF 4000000;

int diff[1000010],H[1000010],id[8000010];
ll dp[1000010];

void solve()
{
 	int N;
      	diff[0] = 0;
	scanf("%d", &N);
	for(int i = 0; i < N; i++)
	{
		scanf("%d",&H[i]);
		if(i)
	    	{
			diff[i] = H[i] - H[i-1] + BUF;
	    	}
	}

	dp[0]=1;

	for(int i = 1; i < N; i++)
        {
            dp[i] = dp[i-1] * 2;
            if(id[diff[i]] > 0)		// If this diff has already occurred
                dp[i] = dp[i] - dp[id[diff[i]]-1];
            
	    dp[i] = (dp[i] % MOD + MOD) % MOD;
            id[diff[i]] = i;
        }
        printf("%lld\n",dp[N-1]-1);
	for (int i = 1; i < N; i++)
            id[diff[i]] = 0;
 	
	return;
}

int main()
{
	int t;
	cin >> t;
	while(t--)
	{
		solve();
	}
	
	return 0;
}