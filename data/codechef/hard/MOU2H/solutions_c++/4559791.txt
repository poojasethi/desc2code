/****** BISMILLAH HIR RAHMANIR RAHIM ******/

#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef unsigned int ul;
typedef unsigned long long ull;
typedef vector <int> vi;
typedef set<int> si;
typedef set<string> ss;
typedef map<string,int>    msi;
typedef map<string,string> mss;
typedef map<int, vector<int> > mvii;
typedef map<string, vector <string> > mvss;
typedef map<char,int> mchi;
typedef map<int,char> mich;
typedef map<int, int> mii;
typedef queue <int> qi;
typedef map <int, vector<string> > mvis;
typedef map <string, vector<int> > mvsi;
typedef vector <string> vs;
typedef pair <int, int> pii;

#define MP make_pair
#define SORT(a) sort (a.begin(), a.end())
#define REVERSE(a) reverse (a.begin(), a.end())
#define PI acos(-1)
#define ms(x,y) memset (x, y, sizeof (x))
#define INF 2000000000
#define pb push_back
#define MAX 100002
#define debug cout<<"A"<<endl
#define prnt(a) cout<<a<<endl
#define mod 1000000009
#define FOR(i,a,b) for (int i=(a); i<(b); i++)
#define FORr(i,a,b) for (int i=(a); i>=b; i--)

// int setbit(int x, int pos)
// {
//     return x=x|(1<<pos);
// }

// int resetbit(int x, int pos)
// {
//     return x=x&~(1<<pos);
// }

// int checkbit(int x, int pos)
// {
//     return (bool)(x&(1<<pos));
// }

/* Direction Array */

// int fx[]={1,-1,0,0};
// int fy[]={0,0,1,-1};
// int fx[]={0,0,1,-1,-1,1,-1,1};
// int fy[]={-1,1,0,0,1,1,-1,-1};

// int gcd(int a, int b)
// {
//     while(b)
//         b^=a^=b^=a%=b;
//     return a;
// }

// int inv_mod (int a, int b)
// {
// 	int b0=b, t, q;
// 	int x0=0, x1=1;
// 	if (b==1)	return 1;
// 	while(a>1)
// 	{
// 		q=a/b;
// 		t=b, b=a%b, a=t;
// 		t=x0, x0=x1-q*x0, x1=t;
// 	}
// 	if (x1<0)	x1+=b0;
// 	return x1;
// }

// Continuous Input
// char line[1000];
// while( gets( line ) ) 
// {
//     stringstream SS(line);
//     int num; vector<int> v;
//     while(SS >> num) v.push_back(num);
//         sort(v.begin(), v.end());
//
// }


/****** END OF HEADER ******/

int a[1000005];
int mem[8000005], *used=mem+4000005;
ll dp[1000005];

int main()
{
	int test, n;
	FOR(i,-4000000,4000001)
		used[i]=-1;
	scanf("%d", &test);
	while(test--)
	{
		scanf("%d", &n);
		FOR(i,1,n+1)
		{
			scanf("%d", &a[i]);
			if (i>1)
			{
				a[i-1]-=a[i];
			}		
		}
		// FOR(i,1,n)
		// 	cout<<a[i]<<" ";
		// puts("");
		dp[0]=1;
		FOR(i,1,n)
		{
			dp[i]=((dp[i-1]%mod)*(ll)2)%mod;
			// prnt(dp[i]);
			if (used[a[i]]>=0)
				dp[i]-=dp[used[a[i]]];
			used[a[i]]=i-1;
		}
		FOR(i,0,n)
			used[a[i]]=-1;
		ll res=(dp[n-1]-1)%mod;
		if (res<0)
			res+=mod;
		printf("%lld\n",res);
	}

    return 0;
}