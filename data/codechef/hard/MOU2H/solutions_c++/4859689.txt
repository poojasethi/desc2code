#include <iostream>
#define MOD 1000000009
#define C 4000000

using namespace std;
typedef long long ll;

long t, n, h, h_2, diff[1000000], occ[8000001];
ll dp[1000000];

int main()
{
    ios_base::sync_with_stdio(false);
    cin >> t;
    long i; for (i = 0; i < 8000001; i++) occ[i] = -1;
    while (t--)
    {
        cin >> n; cin >> h; h_2 = h;
        for (i = 1; i < n; i++)
        {
            cin >> h;
            diff[i-1] = h - h_2 + C;
            h_2 = h;
        }
        dp[0] = 1; occ[diff[0]] = 0;
        for (i = 1; i < n-1; i++)
        {
            if (occ[diff[i]] == -1) dp[i] = (2*dp[i-1]+1)%MOD;
            else if (occ[diff[i]] == 0) dp[i] = (2*dp[i-1])%MOD;
            else dp[i] = (2*dp[i-1] - dp[occ[diff[i]]-1])%MOD;
            while (dp[i] < 0) dp[i] += MOD;
            occ[diff[i]] = i;
        }
        cout << dp[n-2] << endl;
        for (i = 0; i < n-1; i++) occ[diff[i]] = -1;
    }
    return 0;
}
