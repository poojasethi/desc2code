#include <iostream>
#include <climits>
using namespace std;

int main() {
	// your code goes here
	int t;
	cin >> t;
	int matrix[101][101];
	while(t--){
		int m, n;
		cin >> m >> n;
		for(int i = 0; i < m ; i++){
			for(int j = 0; j < n; j++){
				cin >> matrix[i][j];
			}
		}
		/*
		for(int i = 0 ; i < m ; i++){
			for(int j = 0; j < n ; j++){
				cout << matrix[i][j] << " ";
			}
			cout << endl;
		}*/
		int min = (m>n)?n:m;
		int ans_u = INT_MIN;
		for(int l = 2; l <= min; l++){
			for(int i = 0 ; i <= (m-l);i++){
				for(int j = 0; j <= (n-l); j++){
					int ans = 0;
					int a= 0, b = 0, c = (l-1);
					while(a<l){
						ans +=matrix[i+a][j+b] + matrix[i+a][j+c];
						a++;
						b++;
						c--;
					}
					if(l%2)
					ans -= matrix[i+l/2][j+l/2];
					//cout << "i : " << i << " j: " << j << " l : " << l << " ans : " << ans << endl;
					//cout << ans << endl;
					if(ans_u<ans){
						ans_u = ans;
					}
				}
			}
		}
		cout << ans_u << endl;
	}
	return 0;
}