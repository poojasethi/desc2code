#include <bits/stdc++.h>
using namespace std;
#define pll pair<long long,long long>
#define pii pair<int, int>
#define f first
#define s second
#define MAX 100010
#define INF LONG_MAX
#define ReadFile freopen("I:/CODE/INPUT.txt","r",stdin)
#define endl '\n'
#define pb emplace_back
#define MOD 1000000007
#define Boost ios_base::sync_with_stdio(false)

typedef long long int ll;
ll arr[110][110];
ll max_wt[110][110];

int main()
{
	//ReadFile;
	Boost;
	ll t,m,n;
	cin>>t;
	//cout<<"LOL";

	while(t--)
	{
		//cout<<"asd";
		cin>>m>>n;
		for(ll i=0;i<m;i++)
		{
			for(ll j=0;j<n;j++)
			{
				cin>>arr[i][j];
				max_wt[i][j]=-INF;
			}
		}
		//cout<<"LOL"<<endl;
		for(ll i=0;i<m-1;i++)
		{
			for(ll j=0;j<n-1;j++)
			{
				ll it=i+1;
				ll jt=j+1;
				ll ld_sum=arr[i][j];
				ll of_sum=0;
				while(it<m && jt<n)
				{
					ld_sum+=arr[it][jt];
					of_sum=0;
					ll it_of=i;
					ll jt_of=jt;
					while(jt_of>=j)
					{
						of_sum+=arr[it_of][jt_of];
						it_of++;
						jt_of--;
					}
					ll sm=ld_sum+of_sum;
					if((it-i)%2==0)sm=sm-arr[i+(it-i)/2][j+(jt-j)/2];
					max_wt[i][j]=max(max_wt[i][j],sm);
					it++;
					jt++;
				}
			}
		}
		ll ans=-INF;
		for(ll i=0;i<m;i++)
		{
			for(ll j=0;j<n;j++)ans=max(max_wt[i][j],ans);
		}
	cout<<ans<<endl;
	}


	return 0;
}
