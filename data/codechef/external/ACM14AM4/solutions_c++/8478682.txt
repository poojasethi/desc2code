#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define md 1000000007
int t,m,l,n;

int main()
{   //freopen("input.txt","r",stdin);
    int a[105][105];
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d",&m,&n);
        for(int i=0;i<m;i++)
        for(int j=0;j<n;j++)
        scanf("%d",&a[i][j]);
        int mx=INT_MIN;
        for(int i=0;i<m-1;i++)
        for(int j=0;j<n-1;j++)
        {
            for(int k=i+1,l=j+1;k<m&&l<n;k++,l++)
            {
                int s=0;
                for(int x=i,y=j;x<=k&&y<=l;x++,y++)
                s+=a[x][y];
                for(int x=k,y=j;x>=i&&y<=l;x--,y++)
                s+=a[x][y];
                if((k-i)%2==0)
                s-=a[(k+i)/2][j+(k-i)/2];
                if(s>mx)
                mx=s;
                //cout<<i<<" "<<j<<"\n";
            }
        }
        cout<<mx<<"\n";
    }
}
