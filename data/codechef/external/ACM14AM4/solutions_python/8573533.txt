
#include <bits/stdc++.h>
using namespace std;

#define sz(q) (int(q.size()))
int w[110][110];
int main() {
    int T;
    cin >> T;
    while (T--) {
        int M, N;
        cin >> M >> N;
        for (int i = 0; i < M; ++i) {
            for (int j = 0; j < N; ++j) cin >> w[i][j];
        }
        int ans = -999999999;
        for (int i = 0; i < M; ++i) {
            for (int j = 0; j < N; ++j) {
                for (int L = 2; i + L <= M && j + L <= N; ++L) {
                    int s = 0;
                    for (int c = 0; c < L; ++c) s += w[i + c][j + c];
                    for (int c = 0; c < L; ++c) s += w[i + c][j + L - 1 - c];
                    if (L & 1) s -= w[i + L / 2][j + L / 2];
                    ans = max(ans, s);
                }
            }
        }
        cout << ans << "\n";
    }
    return 0;
}
