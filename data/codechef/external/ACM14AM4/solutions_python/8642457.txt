#include <iostream>
#include<math.h>
#include<limits.h>
using namespace std;

int main()
{
    int t;
    cin>>t;
     while(t--){
        int m,n;
        cin>>m>>n;
        unsigned long long int a[100][100];
        for(int i=0; i<m;i++){
            for(int j=0; j<n; j++){
                cin>>a[i][j];
            }
        }
         long long int mx = INT_MIN;
        long long int sum;
        
        for(int i=0; i<m;i++){
            for(int j=0; j<n; j++){
                for(int k=2; k<=min(m,n); k++){ 
                    if(i+k<=m&&j+k<=n){
                        sum = 0;    
                        for(int l = 0;l<k; l++){ 
                            sum+=a[i+l][j+l] + a[i+l][j+k-l-1];
                        }
                        if(k%2){
                            sum -= a[i+k/2][j+k/2];
                        }
                    }
                    mx = max(mx, sum);
                }
            }
        }
        cout<<mx<<endl;
     }
    
    return 0;
}
