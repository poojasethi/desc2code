import math
def ch(n):
    if(math.sqrt(n).is_integer()):
        return 1
    else:
        return 0
def sum(n):
    m=int(math.sqrt(n))+1
    s=0
    for i in range(2,m):
        if n%i==0:
            s=s+i+n/i
    if ch(n)==1:
        s=s-m-1
    return s+1
t=input()
while(t):
    t=t-1
    n=input()
    p=sum(n)
    if n==sum(p):
        print "Yes, amicable with "+str(p)
    else:
        print "No"
    
        
        
    
