//http://www.codechef.com/problems/RESN01/

#include <iostream>
#include <cstdio>

using namespace std;

int a[20000];
int b[20000];
int n,k;

int main(){
	int t;
	scanf("%d", &t);

	while(t--){
		scanf("%d %d", &n, &k);
		for(int i = 0; i < n; i++){
			scanf("%d", &a[i]);
		}

		if(k >= n/2){
			b[0] = a[0];
			for(int i = 1; i < n; i++){
				b[0] &= a[i];
			}
			for(int i = 0; i < n; i++){
				printf("%d ",b[0]);
			}
		}
		else{
			int s = 1;
			int l = 1;
			int *x = a,*y = b; 
			while(l < k){
				for(int i = 0; i < n; i++){
					y[i] = (x[i] & x[(i+s)%n] & x[(i-s+n) % n]);
				}
				s = 3*s;
				l += s;
				
				int *temp = x;
				x = y;
				y = temp;		 
			}
			
			if(l >= k){
				s = k - (l-s);
				for(int i = 0; i < n; i++){
					y[i] = (x[i] & x[(i+s)%n] & x[(i-s+n) % n]);
				}
			}
			for(int i = 0; i < n; i++){
				printf("%d ",y[i]);
			}
		}
		printf("\n");
	}
}