#include <cstdio>
using namespace std;
#define FOR(i,n) for(int (i)=0;(i)<(n);++(i))
#define FORI(i,n) for(int (i)=1;(i)<=(n);++(i))
#define wez(n) int (n); scanf("%d",&(n));
 
 
int a[20002];
int kiedy0[30];
 
int main () {
   wez(t);
   while(t--) {
      wez(n);wez(k);
      FOR(i,n) scanf("%d",a+i);
      
      if (2*k+1 >= n) {
         int x = a[0];
         FORI(i,n-1) x &= a[i];
         FOR(i,n) printf("%d ",x);
         printf("\n");
      } else {
         FOR(i,30) kiedy0[i] = -1;
         
         int pocz = n-k, kon = k; // przedzial cykliczny od pocz do kon wlacznie
         if (k==0) pocz = 0;
         int wart = a[pocz];
         int aktualny = pocz;
         FOR(i,30) {
            if (!(a[aktualny] & (1<<i))) kiedy0[i]=aktualny;
         }
         while (1) {
	        if (aktualny==kon) break; 
            ++aktualny;
            if (aktualny==n) aktualny = 0;
            
            
            wart &= a[aktualny];
            FOR(i,30) {
               if (!(a[aktualny] & (1<<i))) kiedy0[i]=aktualny;
            }
         }
         printf("%d ",wart);
         
         FORI(i,n-1) {
            ++kon;
            if (kon==n) kon = 0;
 
            wart &= a[kon];
            FOR(i,30) if (!(a[kon] & (1<<i))) kiedy0[i] = kon;
            
            FOR(i,30) if (kiedy0[i]==pocz) {
               //kiedy0[i] = -1;
               wart |= 1<<i;
            }
            
            ++pocz;
            if (pocz==n) pocz = 0;
            printf("%d ",wart);
         }
      }
   }
}