#include <vector>
#include <algorithm>
#include <cstdio>
#include <cmath>
#include <time.h>

#define MP make_pair
#define PB push_back
#define F first
#define S second

using namespace std;

typedef pair<int,int> pii;
typedef long long int ll;

const int INF=2147483647;

vector<int>v;



void solve()
{ 
  int M=1,n,k,a;
  scanf("%d %d",&n,&k);
  k=min(k,n/2);
  v.resize(0);
  while(M<3*n) M=M<<1;
  v.resize(2*M,INF);
  for(int i=0;i<n;i++)
  {
    scanf("%d",&a);
    v[M+i]=v[M+n+i]=v[M+n+n+i]=a;
  }
  for(int i=M-1;i>=0;i--)
  {
    v[i]=v[i+i]&v[i+i+1];
  }
  int it=1;

  int L=M+n-k,P=M+n+k,it1,it2,W;
  for(int i=0;i<n;i++)
  {
    W=v[L]&v[P];
    it1=L;
    it2=P;
    L++;
    P++;
    while(it1/2!=it2/2)
    {
      //Lewa strona
      if(it1%2==0) W=W&v[it1+1];
      //Prawa strona
      if(it2%2==1) W=W&v[it2-1];
      it1/=2;
      it2/=2;
    }
    printf("%d ",W);
  }
  printf("\n");
}

int main()
{
  int t;
  scanf("%d",&t);
  while(t--) solve();
  return 0;
}
