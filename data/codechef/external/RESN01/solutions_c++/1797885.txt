#include<iostream>
#include<stdio.h>
using namespace std;
int st[4*20001];
int initialize(int i,int l,int h,int a[])
{
    if(l>h)
    return -1;
    if(l==h)
    return(st[i]=a[l]);
    int mid=(l+h)/2;
    return(st[i]=(initialize(2*i,l,mid,a) & initialize(2*i+1,mid+1,h,a)));

}
int query(int i,int l,int h,int i1,int j1)
{
    if( l > j1 || h < i1 )
		return -1;
  if(i1 <= l && h <= j1 )
    return st[i];
    int mid=(l+h)/2;
    return (query(2*i,l,mid,i1,j1)& query(2*i+1,mid+1,h,i1,j1));
    }
int main()
{int a[20001],t,n,k,s,e,i,ans;
    cin>>t;
    while(t--)
    {
    cin>>n>>k;
    for(i=0;i<n;i++)
        {cin>>a[i];
        }

        if(k>=n/2){
        int ans=a[0];
        for(i=1;i<n;i++)
        ans&=a[i];
        for(i=0;i<n;i++)
        cout<<ans<<" ";
        cout<<endl;
        continue;}

   initialize(1,0,n-1,a);
for(i=0;i<n;i++)
{
    int ans;
    s=(i-k+n)%n;
    e=(i+k)%n;
    if(s<e)
   ans= query(1,0,n-1,s,e);
    else
    ans=query(1,0,n-1,0,e)& query(1,0,n-1,s,n-1);
printf("%d ",ans);
}
cout<<endl;
    }


}
