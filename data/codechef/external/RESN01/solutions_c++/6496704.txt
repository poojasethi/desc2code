#include<bits/stdc++.h>
#define pb push_back
#define mp make_pair
using namespace std;
typedef long long ll;

const int MAX = 3*(2*1e4)+5;

int all[MAX];

struct segtree{
	int start, end;
	int value;
	segtree *left, *right;
	
	segtree( int start, int end ){
		this -> start = start;
		this -> end = end ;
		
		if( start == end ){
			left = right = NULL;
			value = all[end];
			return ;
		}
		int mid = ( start + end )/2;
		left = new segtree( start, mid );
		right = new segtree( mid+1, end );
		value = left -> value & right -> value;
	}
	
	int query( int from, int to ){
		if( start == from && end == to ) return value;
		int mid = ( start + end ) /2;
		if( to <= mid ) return left -> query( from, to );
		if( from > mid ) return right -> query( from, to );
		int lf = left -> query(from,mid);
		int rg = right -> query(mid+1, to);
		return lf & rg;
	}
};

int main(){

	int t;
	cin >> t;
	int n,k;
	while( t-- ){
		cin >> n >> k;
		k = min(k, n/2);
		for( int i = 0 ; i < n ;i++ ) cin >> all[i];
		for( int i = n ; i < 3*n ;i++ ) all[i] = all[i-n];
		
		segtree st(0,3*n-1);
		
		for( int i = n; i < 2*n; i++ ){
			if( i != n ) cout << " ";
			cout << st.query(i-k,i+k);
		}
		cout << endl;
		
	}

	return 0;
}