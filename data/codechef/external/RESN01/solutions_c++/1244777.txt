#include <iostream>
#include <cstring>
//#include <bitset>
//#include <limits>
using namespace std;

int i,j,k,n,t;
int down, up;
int arr[20000];
int ans[20000];

int main(){
	
	scanf("%d", &t);
	
	while( t-- )
	{
		scanf("%d%d", &n, &k);

		for( i=0; i<n; i++ )
			scanf("%d", &arr[i]);

		k = min(k, n/2+1);

		memset(ans, ~'\0', sizeof(ans));

		for( i=0; i<30; i++ )
		{
			down = up = 0;

			for( j=k; j>0; j--)
			{
				arr[n-j] & (1<<i) ? down-- : down = k;
				arr[j-1] & (1<<i) ? up-- : up = k;
			}

			for( j=0; j<n; j++ )
			{
				arr[j] & (1<<i) ? down-- : down = k;
				arr[n-j-1] & (1<<i) ? up-- : up = k;

				if( down >= 0 )
					ans[j] &= ~(1<<i);

				if( up >= 0 )
					ans[n-j-1] &= ~(1<<i);
			}
		}
		
		/*
		for( i=0; i<n; i++)
			cout << bitset<numeric_limits<unsigned>::digits>(ans[i] & ~(3<<30)) << endl;
		cout<<endl;
		*/

		for( i=0; i<n; i++)
			printf("%d ", ans[i] & ~(3<<30));

		cout << endl;
	}

	//system("pause");
	return 0;
}