#include<iostream>
#include<stdio.h>
#include<math.h>
#define N 20001
using namespace std;
int indx[N],prt;
int segm[N],num[N];

void init(int n)
{
   int in=-1;
   int a;
   prt=sqrt((double)n);
   for(int i=0;i<n;i++)
   {
      if(i%prt==0)in++;
      indx[i]=in;
   }
   a=num[0];
   for(int i=1;i<n;i++)
   {
      if(indx[i]==indx[i-1])a&=num[i];
      else segm[indx[i-1]]=a,a=num[i];
   }
   segm[indx[n-1]]=a;

}
int query(int j, int k,int n)
{
   int id1, id2;
   int a;
   if(j<0)return (query(j+n,n-1,n) & query(0,k,n));
   else if(k>=n)return (query(j,n-1,n) & query(0,k%n,n));

   id1=indx[j];
   id2=indx[k];
   if(id1==id2)
   {
      a=num[j];
      for(int i=j+1;i<=k;i++)a&=num[i];
      return a;
   }
   else
   {
      a=num[j];
      for(int i=id1+1;i<id2;i++)a&=segm[i];
      for(int i=j+1;indx[i]==id1;i++)
			a&=num[i];
      for(int i=(k/prt)*prt;i<=k;i++)
			a&=num[i];
      return a;
   }
}


int main()
{
   #ifndef ONLINE_JUDGE
    freopen("input.txt","r",stdin);
    freopen("out.txt","w",stdout);
   #endif
   int test,n,k,max_rounds;
   scanf("%d",&test);
   while(test--)
   {

      scanf("%d%d",&n,&k);
      for(int i=0;i<n;i++)
         scanf("%d",&num[i]);
      max_rounds=n/2;
      init(n);
      if(k>max_rounds)k=max_rounds;
      for(int i=0;i<n;i++)
         printf("%d ",query(i-k,i+k,n));
      printf("\n");

   }
   return 0;
}
