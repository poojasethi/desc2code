#include <iostream>
using namespace std;
int a[20000],b[20000],n;

void rec(int k)
{	int i;
	if(k==0 ) return ;
	rec(k/2);

	for(i=0;i<n;i++)
			b[i]= a[(i-(k/2)%n+ 2*n)%n] & a[i] & a[(i+(k/2)%n )%n];
	for(i=0;i<n;i++)
		a[i]=b[i];	 

	if(k&1)
	{
		for(i=0;i<n;i++)
			b[i]= a[(i-1+n)%n] & a[i] & a[(i+1)%n];
		for(i=0;i<n;i++)
			a[i]=b[i];	 
	}
}


int main(){
	int t,k,i,j;
	cin>>t;
	while(t--)
	{
		cin>>n>>k;
		for(i=0;i<n;i++)
			cin>>a[i];
		rec(k);
		for(i=0;i<n;i++)
			cout<<a[i]<<" ";
		cout<<"\n";
	}
	return 0;
}