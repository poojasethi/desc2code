#include <cstdio>

int arr[500009];

int gcd(int a, int b) {
	if(b==0)
		return a;
	return gcd(b, a%b);
}

int main() {
	int n, k, ans=0, len;
	scanf("%d %d", &n, &k);
	for(int i=0; i<n; i++)
		scanf("%d", &arr[i]);
	for(int i=0; i<n; i++) {
		int x=arr[i];
		if(x<k)
			continue;
		for(len=1; i+len<n; len++) {
			if((x=gcd(x, arr[len+i]))<k)
				break;
		}
		if(len>ans)
			ans=len;
		if(ans==n-i)
			break;
	}
	printf("%d\n", ans);

	return 0;
}
