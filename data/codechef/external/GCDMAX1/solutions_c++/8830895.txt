
#include<bits/stdc++.h>
#define all(x) x.begin(), x.end()
#define pb(x) push_back(x)
#define cout2(x, y) cout << x << " " << y << endl
#define N 500005

using namespace std;

int a[N];
vector<pair<int, int> >L[N];

int main(){

	int n, k;
	
	while(scanf("%d%d", &n, &k) == 2){
		
		for(int i = 0; i < n; i++)
			scanf("%d", &a[i]);
			
		int val, pos, GCD;
		//lista desde el mÃ¡s alejado hasta la posicion i
		
		for(int i = n - 1; i >= 0; i--){
			
			for(int j = 0; j < L[i + 1].size(); j++){
				
				val = L[i + 1][j].first;
				pos = L[i + 1][j].second;
				
				GCD = __gcd(val, a[i]);
				
				if(L[i].size() == 0 || GCD != L[i].back().first)
					L[i].pb(make_pair(GCD, pos));			
			}
			
			if(L[i].size() == 0 || a[i] != L[i].back().first)
				L[i].pb(make_pair(a[i], i));
				
			//for(int j = 0; j < L[i].size(); j++)printf("%d ", L[i][j].second);
			//puts("");
			
		}
		
		int ans = 0;
		for(int i = 0; i < n; i++){
			for(int j = 0; j < L[i].size(); j++){
			
				if(L[i][j].first >= k)ans = max(ans, L[i][j].second - i + 1);
			}	
		}
		
		printf("%d\n", ans);
	}


}
