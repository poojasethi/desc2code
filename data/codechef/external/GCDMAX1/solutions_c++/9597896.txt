#include <bits/stdc++.h>
using namespace std;
#define MAX 500000

int size;
int segt[4*(MAX+1)],arr[MAX+1];

int gcd(int a,int b)
{
	if(a%b==0)
		return b;
	else
		return gcd(b,a%b);
}

int func(int a,int b)
{
	return gcd(a,b);
}

void create(int index,int ss,int se)
{
	if(ss==se)
	{
		segt[index]=arr[ss];
		return;
	}
	if(ss<se)
	{	
		int mid=ss+(se-ss)/2;									//remember
		create(2*index,ss,mid);
		create(2*index+1,mid+1,se);
		segt[index]=func(segt[2*index],segt[2*index+1]);
	}
}

int query(int index,int ss,int se,int l,int r)
{
	//cout<<"once"<<endl;
	if(l<=ss && r>=se)
	{
		return segt[index];
	}
	int mid=ss+(se-ss)/2;										//remember
	if(r<=mid)
		return query(2*index,ss,mid,l,r);
	else if(l>mid)
		return query(2*index+1,mid+1,se,l,r);
	else
		return func(query(2*index,ss,mid,l,r),query(2*index+1,mid+1,se,l,r));
}

int main()
{
	int k;
	cin>>size>>k;
	for(int i=1;i<=size;i++)
	{
		cin>>arr[i];
	}
	create(1,1,size);
	//cout<<"cr"<<endl;
	int max_ans=0;
	int i=1,j=1;
	while(j<=size)
	{
		int ans=query(1,1,size,i,j);
		//cout<<"done"<<endl;
		if(ans>=k)
		{
			//cout<<"yes"<<endl;
			if(max_ans<j-i+1)
				max_ans=j-i+1;
			j++;
		}
		else
		{
			//cout<<"no"<<endl;
			if(i==j)
				j++;
			else
				i++;
		}
	}
	cout<<max_ans<<endl;
}