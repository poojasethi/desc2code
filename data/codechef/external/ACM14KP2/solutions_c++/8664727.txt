#include<bits/stdc++.h>
#define For(i,i1,i2) for(int i=i1;i<i2;i++)
#define ll long long
#define pii pair<int,int>
#define F first
#define S second
#define V vector<int>
#define MP make_pair
#define PB push_back
#define MOD 1000000007
#define CLR(x) memset(x,0,sizeof(x));
using namespace std;
int arr[100000],arr1[100000];
ll mrg(int i,int mid,int j){
    For(ii,i,j+1){
        arr1[ii]=arr[ii];
    }
    int ii=i,jj=mid+1,cnt=i;
    ll ans=0;
    while(ii<=mid and jj<=j){
        if(arr1[ii]<=arr1[jj]){
            arr[cnt]=arr1[ii];
            ii++;
        }
        else{
            arr[cnt]=arr1[jj];
            jj++;
            ans+=(mid-ii+1);
        }
        cnt++;
    }
    if(ii>mid){
        while(jj<=j){
            arr[cnt]=arr1[jj];
            jj++;cnt++;
        }
    }
    if(jj>j){
        while(ii<=mid){
            arr[cnt]=arr1[ii];
            ii++;cnt++;
        }
    }
    return ans;
}
ll srt(int i,int j){
    if(i==j)return 0;
    int mid=(i+j)/2;
    return srt(i,mid)+srt(mid+1,j)+mrg(i,mid,j);
}
int main(){
    ios::sync_with_stdio(false);
    int t,cnt=1;
    cin>>t;
    while(t--){
        cout<<"Case "<<cnt<<": ";cnt++;
        int n;
        ll k;
        cin>>n>>k;
        bool fl=1;
        For(i,0,n){
            cin>>arr[i];
        }
        ll tmp=srt(0,n-1);
        For(i,0,n){
            if((i>0) and arr[i]==arr[i-1])fl=0;
        }
        if(tmp>=k){
            cout<<tmp-k<<endl;
        }
        else{
            if((((k-tmp)%2==1) and fl==1))
            cout<<1<<endl;
            else
                cout<<0<<endl;
        }
    }
}
