#include <bits/stdc++.h>
using namespace std;
#define li long long int
li a[100002],b[100002],bit[100004],n,i,k;
li read(li x)
{
	li i,sum=0;
	for(i=x;i>0;i-=(i&-i)) 
	sum+=bit[i];
	return sum;
}
void add(li x)
{
	for(li i=x;i<=n;i+=(i&-i)) bit[i]+=1;
}
int main()
{
	int t,tt=0;
	scanf("%d",&t);
	while(t--)
	{
		scanf("%lld%lld",&n,&k);
		int flag=0;
		for(i=0;i<n;i++)
		{
			scanf("%lld",&a[i]);
			b[i]=a[i];
		}
		memset(bit,0,sizeof(bit));
		sort(b,b+n);
		for(i=0;i<n;i++)
		{
			if(b[i]==b[i+1] && i+1<n) flag=1;
			int ind=int(lower_bound(b,b+n,a[i])-b);
			a[i]=ind+1;
		}
		li count=0;
		for(i=n-1;i>=0;i--)
		{
			li x=read(a[i]-1);
			count+=x;
			add(a[i]);
		}
		printf("Case %d: ",++tt);
		if(count-k>=0) printf("%lld\n",count-k);
		else
		{
			if(!((k-count)&1) || flag==1) printf("0\n");
			else printf("1\n");
		}
	}
	return 0;
}