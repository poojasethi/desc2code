#include<bits/stdc++.h>
using namespace std;
long long kmp[1000005];
int arr[2][1000005];
int brr[2][1000005];
void KMP(long long a[1000005],int l,long long b[1000005],int l1,int flag)
{
	int i,j;
	j=0;
	kmp[0]=0;
	for(i=2;i<=l;i++)
	{
		while(j>0&&a[i-1]!=a[j])
			j=kmp[j];
		if(a[i-1]==a[j])
		j=j+1;
		kmp[i]=j;
	}
	//for(i=1;i<=l;i++)
	//printf("%lld\n",kmp[i]);
	j=0;
	for(i=1;i<=l1;i++)
	{
		while(j>0&&b[i-1]!=a[j])
		j=kmp[j];
		if(b[i-1]==a[j])
		j+=1;
		if(j==l)
		{
			arr[flag][i-l+1]=1;
			j=kmp[j];
		}
	}
}
int main()
{
	int n,k,l;
	scanf("%d %d %d",&n,&k,&l);
	long long a[n];
	long long b[k];
	long long c[l];
	int i;
	for(i=0;i<n;i++)
	scanf("%lld",&a[i]);
	for(i=0;i<k;i++)
	scanf("%lld",&b[i]);
	for(i=0;i<l;i++)
	scanf("%lld",&c[i]);
	KMP(c,l,a,n,0);
	KMP(b,k,a,n,1);
	for(i=1000002;i>=1;i--)
	{
		//arr[0][i]+=arr[0][i+1];
		arr[1][i]+=arr[1][i+1];
	}
	long long ans=0;
	for(i=1;i<=1000002;i++)
	{
		if(arr[0][i])
		ans+=arr[1][i];
	}
	printf("%lld\n",ans);
	return 0;
}