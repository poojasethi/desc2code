#include <bits/stdc++.h>
using namespace std;
#define ll long long

#define N 2123456
#define INF 1000000000000000

#define     TRACE           1

#ifdef TRACE
    #define trace(x)            cerr<<x<<endl;
    #define trace1(x)           cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<endl;
    #define trace2(x,y)         cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<" | "#y" = "<<y<<endl;
    #define trace3(x,y,z)       cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<" | "#y" = "<<y<<" | "#z" = "<<z<<endl;
    #define trace4(a,b,c,d)     cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<endl;
    #define trace5(a,b,c,d,e)   cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<" | "#e" = "<<e<<endl;
    #define trace6(a,b,c,d,e,f) cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<" | "#e" = "<<e<<" | "#f" = "<<f<<endl;
#else
    #define trace(x)
    #define trace1(x)
    #define trace2(x,y)
    #define trace3(x,y,z)
    #define trace4(a,b,c,d)
    #define trace5(a,b,c,d,e)
    #define trace6(a,b,c,d,e,f)
#endif

int preA[N];

void calculateZfunction(int Z[] , int s[] , int len){
    Z[0] = len;
    int l = 0;
    int r = 0;
    for(int i = 1; i < len; ++i){
        if( i > r ){
            l = r = i;
            while(r < len && s[r-l] == s[r]){
                r++;
            }
            Z[i] = r-l;
            r--;
        }
        else{
            int p = i-l;
            if( Z[p] < r-i+1 ){
                Z[i] = Z[p];
            }
            else{
                l = i;
                while(r < len && s[r-l] == s[r]){
                    r++;
                }
                Z[i] = r-l;
                r--;
            }
        }
    }
}

int main(){
    #ifndef ONLINE_JUDGE
        freopen("input.txt","r",stdin);
    #endif
    int n,m,k;
    scanf("%d %d %d",&n,&m,&k);
    int a[n+5],b[m+5],c[k+5];
    for(int i = 0 ; i < n ; i++){
        scanf("%d",&a[i]);
    }
    for(int i = 0 ; i < m ; i++){
        scanf("%d",&b[i]);
    }
    for(int i = 0 ; i < k ; i++){
        scanf("%d",&c[i]);
    }

    int ac[n+k+5],z1[n+k+5];
    int i;
    for(i = 0 ; i < k ; i++){
        ac[i] = c[i];
    }
    ac[i++] = -1;
    for(int ii = 0 ; ii < n ; ii++){
        ac[i++] = a[ii];
    }

    /*for(int ii = 0 ; ii < n+k+1 ; ii++){
        cout << ac[ii] << " ";
    }
    cout << endl;*/

    calculateZfunction(z1,ac,n+k+1);

    /*for(int ii = 0 ; ii < n+k+1 ; ii++){
        cout << z1[ii] << " ";
    }
    cout << endl;*/

    int ab[n+m+5],z2[n+m+5];
    for(i = 0 ; i < m ; i++){
        ab[i] = b[i];
    }
    ab[i++] = -1;
    for(int ii = 0 ; ii < n ; ii++){
        ab[i++] = a[ii];
    }

    /*for(int ii = 0 ; ii < n+m+1 ; ii++){
        cout << ab[ii] << " ";
    }
    cout << endl;*/

    calculateZfunction(z2,ab,n+m+1);

    /*for(int ii = 0 ; ii < n+m+1 ; ii++){
        cout << z2[ii] << " ";
    }
    cout << endl;*/

    for(int ii = n+m ; ii > m ; ii-- ){
        if(z2[ii] == m){
            preA[ii-m-1] = preA[ii-m] + 1;
        }
        else{
            preA[ii-m-1] = preA[ii-m];
        }
    }

    ll ans = 0;
    for(int ii = k+1 ; ii < n+k+1 ; ii++ ){
        if(z1[ii] == k){
            int idx = ii-k-1;
            ans += (ll)preA[idx];
        }
    }
    cout << ans << endl;
    return 0;
}