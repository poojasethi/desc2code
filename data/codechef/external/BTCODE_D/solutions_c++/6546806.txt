#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<stdlib.h>
#include<string.h>
#include<math.h>
using namespace std;
typedef long long int LL;
int main()
{
LL sum,max;
LL a[105][105],b[105][105],c[105][105],res[105][105],i,j,m,n,k;
int t;
scanf("%d",&t);
while(t--)
{
	scanf("%lld%lld",&m,&n);
	for(i=0;i<m;i++)
	{
	  for(j=0;j<n;j++)
	  {
	    scanf("%lld",&a[i][j]);
	  }
	}
	for(i=0;i<m;i++)
	{
	  for(j=0;j<n;j++)
	  {
	    scanf("%lld",&b[i][j]);
	  }
	}
	for(i=0;i<m;i++)
	{
	  for(j=0;j<n;j++)
	  {
	    scanf("%lld",&c[i][j]);
	  }
	}
	k=0;
	for(i=0;i<m;i++)
	{
	  for(j=0;j<n;j++)
	  {
	    if(a[i][j]>b[i][j])
	    {
	      k=b[i][j];
	    }
	    else
	    {
	      k=a[i][j];
	    } 
	    res[i][j]=c[i][j]*k;
	  }
	}
	max=0;
	sum=0;
	for(i=0;i<m;i++)
	{
	  max=0;
	  for(j=0;j<n;j++)
	  {
	    if(res[i][j]>max)
	    {
	    max=res[i][j];
	    }
	  }
	  sum=sum+max;
	}
	printf("%lld\n",sum);
}
return 0;
}
	   