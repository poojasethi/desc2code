#include<stdio.h>
#include<algorithm>
#include<map>
#include<cctype>
#include<ctime>
#include<set>
#include<string.h>
#include<sstream>
#include<vector>
#include<queue>
#include<stdlib.h>
#include<iostream>
using namespace std;

#define F(i,n) for(i=0;i<n;i++)
#define scan(x) scanf("%d",&x)
#define f(i,a,n) for(i=a;i<n;i++)
#define ulli unsigned long long int 64
#define MAX 102
// freopen("input.txt","r',stdin);

const int size = 1<<18;
char buff[size];
int lp=0,up=0;
char read_char()
{
  if(lp==up)
  {
    up=fread(buff,sizeof(char),size,stdin);
    if(up==0)
      return 0;
    lp=0;
  }
  return buff[lp++];
}
int read_int()
{
  char c;
  do{
    c=read_char();
  }while(c<'0' || c>'9');
  
  int val=0;
  for(;c>='0' && c<='9';c=read_char())
    val=(val<<3) +(val<<1) + c-'0';
  
  return val;
}

main()
{
    int t,i,n,j,x,m;
    scanf("%d",&t);
    long long int max=0,temp=0,profit[MAX][MAX],a[MAX][MAX],b[MAX][MAX],c[MAX][MAX];
    while(t--)
    {
	scanf("%d%d",&m,&n);
	
	for(i=0;i<m;i++)
	  for(j=0;j<n;j++)
	   scanf("%lld",&a[i][j]);
	  
	for(i=0;i<m;i++)
	  for(j=0;j<n;j++)
	   scanf("%lld",&b[i][j]);

	for(i=0;i<m;i++)
	  for(j=0;j<n;j++)
	   scanf("%lld",&c[i][j]);
      
	 
	for(i=0;i<m;i++)
	{
	  for(j=0;j<n;j++)
	  {
	    int cus=a[i][j]<b[i][j]?a[i][j]:b[i][j];
	    profit[i][j]=cus*c[i][j];
	  }
	}
	
	max=0;temp=0;
	for(i=0;i<m;i++)
	{
	  temp=0;
	  for(j=0;j<n;j++)
	  {
	    if(temp<profit[i][j])
	      temp=profit[i][j];
	  }
	  max+=temp;
	}
	
	printf("%lld\n",max);
    }

  return 0;
}
