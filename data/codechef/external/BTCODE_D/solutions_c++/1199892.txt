#include <iostream>
#define FOR(i,x) for(i=0;i<x;i++)

using namespace std;

int main()
{
	int t,i,j,m,n;
	unsigned long long int temp1,ans;
	cin>>t;
	while(t--)
	{
		ans=0;
		cin>>m>>n;
		long long int a[m][n],c[m][n];
		FOR(i,m)
		{
			FOR(j,n)
				cin>>a[i][j];
		}
		FOR(i,m)
		{
			FOR(j,n)
			{
				cin>>temp1;
				a[i][j] = a[i][j]>temp1 ? temp1 : a[i][j];
			}
		}
		FOR(i,m)
		{
			FOR(j,n)
				cin>>c[i][j];
		}
		FOR(i,m)
		{
			temp1=0;
			FOR(j,n)
			{
				if(c[i][j]*a[i][j]>temp1)
					temp1 = c[i][j]*a[i][j];
			}
			ans+=temp1;
		}
		cout<<ans<<endl;
	}
	return 0;
}