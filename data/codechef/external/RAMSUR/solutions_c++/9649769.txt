#include <bits/stdc++.h>
#define INF 10000000
#define lli long long
#define MAX 100005

using namespace std;

int n,tc;
char s[MAX];
int A,B;
int dp[MAX];

int main()
{
	int t,ans;
	scanf("%d", &t);
	for ( tc = 1; tc <= t; tc++ ) {
		scanf("%s%d%d", &s, &A, &B);
		n = (int)strlen(s);
		dp[n] = 0;
		for ( int idx = n - 1; idx >= 0; idx-- ) {
			ans = INF;
			lli val = 0;
			for ( int i = idx; i < n; i++ ) {
				val = val*10LL + (lli)s[i] - 48;
				if ( val >= A && val <= B ) ans = min(ans, 1 + dp[i + 1]);
				else if ( val > B ) break;
			}
			dp[idx] = ans;
		}
		ans = dp[0];
		if ( ans >= INF ) ans = -1;
		else ans--;
		printf("%d\n", ans);
	}
	return 0;
}