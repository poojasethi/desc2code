#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int
#define REP(i,a,b) for(int i=a;i<b;i++)
#define rep(i,n) REP(i,0,n)
#define take(A,n) int A[n+1]; rep(i,n) cin>>A[i]
#define mod 1000000007
#define MX 1000010
#define MX1 410
#define INF 8944674407370955161LL
#define sync() ios_base::sync_with_stdio(0)
#define get getchar//_unlocked
#define PI 3.14159265;


void deb(int A[], int n) {
    for(int i = 0; i < n; i++) {
        cout << A[i] << " " ;
    }
    cout << endl;
}

ll power1(ll a, ll b)
{
    if (b == 0)
        return 1;
    ll x = power1(a, b>>1);
    if (b & 1)
        return (((x*x))*a);
    return (x*x);
}


ll scan()
{
    ll n = 0, ch = get();
    while (ch < '0' || ch > '9')
        ch = get();
    while (ch >= '0' && ch <= '9') {
        n = (n << 3) + (n << 1) + ch - '0';
        ch = get();
    }
    return n;
}

int val(int cs, char ch) {
    return (cs * 10 + ch - 48);
}

ll dp[100005];
ll power[20];

int main()
{
    ll t, i, j, k, mn, num, a, b;
    power[0] = 1;
    for(i = 1; i <= 15; i++) {
        power[i] = 10 * power[i-1];
    }
    //cout << 10e6 << endl;
    cin >> t;
    string s;
    while(t--) {
        cin >> s >> a >> b;
        dp[0] = 0;
        for(i = 0; s[i]; ++i) {
            mn = 10e7;
            k = 0;
            j = i;
            num = 0;
            while(j >= 0) {
                num = num + (s[j] - 48) * power[k];
                if(num > b)
                    break;
                if(num >= a && num <= b) {
                    mn = min(mn, dp[j]);
                }
                j--;
                k++;
            }
            dp[i+1] = mn + 1;
        }
        if((dp[i] >= 10000000)) {
            cout << "-1\n";
        } else {
            cout << (dp[i] - 1) << endl;
        }
    }
    return 0;
}
