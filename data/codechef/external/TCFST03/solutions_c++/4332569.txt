#include<iostream>
#include<map>
#include<vector>
#include<cstring>
#include<cmath>
#include<algorithm>
#include<cstdio>
#include<fstream>
using namespace std;
#define abs(x) ((x)>0?(x):-(x))
#define M 1000000007
#define lld signed long long int
#define pp pop_back()
#define ps(x) push_back(x)
#define tkint(n) scanf("%d",&n)
#define tkchar(ch) scanf("%c",&ch)
#define tklong(n) scanf("%I64d",&n)
map<lld,int> ind;
map<lld,int>fre;
vector<lld> temp;
int main()
{
	int n;
	lld x;
	temp.ps(0);
	cin>>n;
	for(int i=1;i<=n;++i)
	{
		cin>>x;
		if(fre[x]==0){ind[x]=1;fre[x]=1;temp.ps(x);}
		else ++fre[x];
	}
	lld last=0;
	int p=0;
	lld carry=0;
	lld bc=0;//bit count
	while(p<temp.size() or carry>0)
	{
		if(carry==0)p++;
		if(p==temp.size())break;
		x=temp[p];
		do
		{
			//cout<<x<<' '<<fre[x]<<endl;;
			fre[x]+=carry;
			if(fre[x]%2==1)++bc;
			carry=fre[x]/2;
			if(carry<=0)break;
			++x;
			if(ind[x])++p;
		}while(carry>0);
	}
	//cout<<x<<' '<<bc<<endl;
	cout<<x-bc+1;
}
