#include<iostream>
#include<cstdio>
#include<vector>
#include<string.h>
#include<climits>

#define vi vector<int>
#define pb push_back
using namespace std;

const int MAX=1005;
vi G[MAX];
bool visit[MAX];
int cnt;

void dfs(int u){
    visit[u]=1;
    cnt+=1;

    for(int i=0;i<G[u].size();i++){
        if(!visit[G[u][i]]){
            dfs(G[u][i]);
        }
    }
}


int main(){
    int N,M,K,x,y,ans;
    scanf("%d%d%d",&N,&M,&K);
    for(int i=0;i<M;i++){
        scanf("%d%d",&x,&y);
        G[x].pb(y);
    }

    ans=INT_MAX;

    for(int i=1;i<=N;i++){
        memset(visit,0,sizeof(visit));
        cnt=0;
        dfs(i);
        if(cnt<ans)
            ans=cnt;
    }

    printf("%d\n",K*ans);

    return 0;
}
