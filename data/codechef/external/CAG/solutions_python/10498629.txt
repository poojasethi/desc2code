#include <bits/stdc++.h>

using namespace std;
vector<int> v[100000];
bool visited[1000000];
int dfs(int s)
{
	int count=1;
visited[s]=true;
for(int j=0;j<v[s].size();j++)
	if(visited[v[s][j]]==false)
		count=count+dfs(v[s][j]);
return count;
}
	
int main() {
	
	int n,m,k;
	int count=1;
	cin>>n>>m>>k;
	for(int i=1;i<=m;i++)
	{
		int from,to;
		cin>>from>>to;
		v[from-1].push_back(to-1);
	}
	int ans=10000000;
	for(int i=0;i<n;i++)
	{memset(visited,0,sizeof(visited));
	ans=min(dfs(i),ans);

	}
//	cout<<ans<<endl;
	ans=ans*k;
	cout<<ans<<endl;
	
	
	// your code goes here
	return 0;
}