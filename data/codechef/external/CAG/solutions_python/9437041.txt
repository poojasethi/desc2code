#include <cstdio>
#include <vector>
#include <bitset>
using namespace std;
int min(int a, int b)
{
	return (a < b ? a : b);
}
int answer(vector<vector<int> > *g, int u, bitset<1002> *status)
{
	(*status).reset(u);
	int c = 1;
	for(int j = 0; j < (int)(*g)[u].size(); j++)
		if((*status).test((*g)[u][j]))
			c += answer(g,(*g)[u][j],status);
	return c;
}
int main(void)
{
	int n,m,k,init,final,count = 1002;
	bitset<1002> status;
	scanf("%d %d %d",&n,&m,&k);
	vector<vector<int> > g(n);
	while(m--)
	{
		scanf("%d %d",&init,&final);
		g[init-1].push_back(final-1);
	}
	for(int i = 0; i < n; i++)
	{
		status.set();
		count = min(count,answer(&g,i,&status));
	}
	printf("%d\n",count*k);
	return 0;
}