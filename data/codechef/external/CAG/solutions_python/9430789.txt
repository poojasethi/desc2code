#include<cstdio>
#include<vector>
using namespace std;
void reset(int *visited,int nodes)
{
	for(int i=0;i<nodes;i++)
	visited[i]=0;
}
int dfs(int i,vector<int> *graph,int *visited)
{
	int count=1;
	visited[i]=1;
	for(int j=0;j<graph[i].size();++j)
	if(visited[graph[i][j]]==0)
		count+=dfs(graph[i][j],graph,visited);
	return count;
}
int main()
{
	int i,ct,min,nodes,edges,cost,from,to;
	scanf("%d%d%d",&nodes,&edges,&cost);
	vector<int> graph[nodes];
	min=1002;
	for(i=0;i<edges;i++)
	{
		scanf("%d%d",&from,&to);
		graph[from-1].push_back(to-1);
	}
	int visited[nodes];
	reset(visited,nodes);
	for(i=0;i<nodes;i++)
	{
		reset(visited,nodes);
		ct=dfs(i,graph,visited);
		if(ct<min)
		min=ct;
		}
		printf("%d",min*cost);	
	return 0;
}