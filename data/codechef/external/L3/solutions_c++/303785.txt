#include<iostream>
using namespace std;

#include<math.h>
#include<string.h>
int l=0,counter=0;
//int  superm=3,superj= 0;
char a[13];
//int arr[100000];
int checkPrime(long long n)
{
  
   //int a[100000],j=0,k,flag=0,flag1=0,f;
  
  double m=sqrt(double(n));
 // arr[0]=2;
  for(int i=2;i<=m;i++)
  {
     if(n%i==0)
     return 0; 
  }
 
  return 1;


}
int rec(long long n,int i)
{
 
     int chkreturn=0;
     if(i>=l)
     {
       
 
       if(checkPrime(n))
       {
          printf("%lld\n",n);
          //cout<<n<<"\n";
          counter++;
          return 1;
       }   
        else return 0;
     }
     else
        if(a[i]=='?')
        {
 
           if(i==0)
           for(int j=1;j<=9;j++)
                {
                    chkreturn=rec(n*10+j,i+1);
                    if(chkreturn==1)
                    return 1;
                     
                       
                }        
           else
           for(int j=0;j<=9;j++)
               {
                  chkreturn=rec(n*10+j,i+1);
                  if(chkreturn==1)
                  return 1;
                }  
        
        }
      else 
          {  
          
            long long jj=n*10+(a[i]-48);
             chkreturn=rec(jj,i+1);
             if(chkreturn==1)
                return 1;
        
          }
     if(counter==0)
     return 0;
     else return 1;
     


}

int main()
{
  int t,i,mn;
  cin>>t;
  
  for(i=0;i<t;i++)
  {
     counter=0;
     cin>>a;
     l=strlen(a);
     if(l==1)
     {
       printf("2\n");
       //cout<<2<<"\n";
       continue;
     }
     mn=rec(0,0);
    /* if(mn==0)
     {
      cout<<"UNIDENTIFIED PATTERN\n";
      continue;
     } 
    */  
  }
  

    return 0;
}