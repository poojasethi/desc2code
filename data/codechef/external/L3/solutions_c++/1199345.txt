#include<stdio.h>
#include<string.h>
#include<math.h>
typedef long long int L;
int l;
bool flag;
L no,res;
void create_no(char s[13])
{
     L r=1;no=0;
     for(int i=l-1;i>=0;i--)
     {
         no=no+r*(s[i]-48);
         r=r*10;
     }
}
bool check(L a)
{
     L i;
     if(a==2) return true;
     else if(a<2) return false;
     else
     {
         for(i=3;i<=sqrt(a);i+=2)
         if(a%i==0)
         return false;
     }
     return true;
}
void recover(char s[13],int in)
{
     if(flag)
     return;
     if(in==l)
     {
              create_no(s);
              if(check(no))
              {res=no;flag=true;}
              else flag=false;
              return;
     }
     if(s[in]=='?')
     {
                if(in==0)
                for(int i=1;i<=9;i++)
                {s[in]=i+48;
                recover(s,in+1);}
                else if(in==l-1)
                for(int i=1;i<=9;i=i+2)
                {s[in]=i+48;
                recover(s,in+1);}
                else
                for(int i=0;i<=9;i++)
                {s[in]=i+48;
                recover(s,in+1);}
     }
     else
     recover(s,in+1);
}
int main()
{
    L i,n;
    int t;
    char s[13];
    scanf("%d",&t);
    while(t--)
    {
              scanf("%s",s);
              flag=false;
              res=0;
              l=strlen(s);
              recover(s,0);
              printf("%lld\n",res);
    }
    return 0;
}
