//program L3

#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>

using namespace std;

const int inf=1000000000;

long long Calc(string S)
{
  long long N=0;
  for(int i=0;i<S.size();i++)
    if(S[i]!='?')
      N=N*10+S[i]-48;
    else if(!i)
      N=N*10+rand()%9+1;
    else
      N=N*10+rand()%10;
  return N;
}

long long Mult(long long A,long long B,long long P)
{
  if(A<B)
    swap(A,B);
  if(A<inf)
    return A*B%P;
  long long T=Mult(A/2,B,P);
  T=T*2%P;
  if(A&1)
    T=(T+B)%P;
  return T;
}

long long Pow(long long A,long long B,long long P)
{
  if(!B)
    return 1;
  long long T=Pow(Mult(A,A,P),B/2,P);
  if(B&1)
    T=Mult(A,T,P);
  return T;
}

bool Check(long long N,int D)
{
  if(N==D)
    return true;
  if(!(N%D))
    return false;
  long long T=N-1;
  while(~T&1)
    T/=2;
  long long S=Pow(D,T,N);
  if(S==1)
    return true;
  while(T<N-1&&S!=N-1&&S!=1)
    {
      T*=2;
      S=Mult(S,S,N);
    }
  return S==N-1&&T<N-1;
}

bool Prime(long long N)
{
  return Check(N,2)&&Check(N,3)&&Check(N,5)&&Check(N,7);
}

int main()
{
  int Test;
  scanf("%d",&Test);
  while(Test--)
    {
      string S;
      cin>>S;
      long long Ans;
      while(Ans=Calc(S),!Prime(Ans));
      cout<<Ans<<endl;
    }
  return 0;
}
