#include <iostream>
#include <math.h>
#include <vector>
#include <string>
#include <stdlib.h>
using namespace std;

bool prime(long long int num)
{
	if(num<=1)
		return false;

	if(num==2)
		return true;

	if(num%2==0)
		return false;
		
	long long int m,i;
	m=sqrt(num);
	
	for(i=3;i<=m;i=i+2)
		if(num%i==0)
			return false;

	return true;
}

int main()
{
	long long int t,n,m,i,j,k,l,p;
	long long int temp,num,max,min;
	vector<int> x,y;
	bool flag;
	string st;

	scanf("%lld",&t);

	while(t){
		t=t-1;
		cin>>st;

		n=st.length();

		if(n==1){
			if(st[0]=='?'){
				num=2;
				printf("%lld\n",num);
			}else
				cout<<st<<endl;
			continue;
		}

		for(i=0;i<n;i++)
			if(st[i]=='?')
				x.push_back(i);

		m=x.size();
		j=0;

		if(x[m-1]==n-1)
			j=1;

		max=0;
		min=0;
		if(x[0]==0)
			min=1;
		for(i=0;i<m-j;i++){
			max=max*10+9;
			min=min*10;
		}
		if(min!=0)
			min=min/10;

		flag=false;

		for(i=min;i<=max;i++){
			k=i;
			while(k>0){
				y.push_back(k%10);	
				k=k/10;
			}
			for(k=y.size();k<m-j;k++)
				y.push_back(0);

			num=0;
			l=0;
			for(k=0;k<n-j;k++){
				if(st[k]!='?')
					num=num*10+st[k]-48;
				else{
					num=num*10+y[y.size()-1-l];
					l=l+1;
				}
			}

			if(j){
				temp=num;
				for(k=1;k<10;k=k+2){
					num=temp*10+k;
					if(prime(num)){
						printf("%lld\n",num);
						flag=true;
						break;
					}
				}
			}else{
				if(prime(num)){
					printf("%lld\n",num);
					flag=true;
				}
			}

			y.clear();
			if(flag)
				break;


		}

		x.clear();
	}

	return 0;
}
