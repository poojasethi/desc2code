#include <stdio.h>
#include <cstdlib>

#ifdef _WIN32
#define atoll _atoi64
#endif 

bool isPrime(long long int num)
{
	if(num == 1 || num % 2 == 0 || num % 3 == 0) return false;
	long long int checkwith = 5;
	while(checkwith * checkwith <= num)
	{
		if(num % checkwith == 0 || num % (checkwith + 2) == 0) return false;
		checkwith += 6;
	}
	return true;
}
long long int missedPrime(long long int number, int missed[], int count, int pcount, int index)
{
	long long int add = 1;
	for(int k = 1; k < index-missed[pcount]; k++)
		add *= 10;
	long long int num = number;
	
	if(pcount == count -1)
	{
		for(int k = 0; k < 10; k ++)
		{
			if(isPrime(num)) return num;
			num += add;
		}
		return 0;
	}

	for(int k =0; k < 10; k++)
	{
		long long int temp = missedPrime(num,missed,count,pcount + 1, index);
		if(temp) return temp;
		num += add;
	}
}

int main(void)
{
	int t;
	scanf("%d",&t);

	while(t--) {
		char input[13];
		scanf("%s",input);
		int index;
		int isMissedInput[13];
		int count = 0;

		for(index = 0; input[index] != '\0' ; index++)
		{
			if(input[index] == '?') 
			{
				isMissedInput[count++] = index;
				input[index] = index==0 ? '1':'0';
			}
			else isMissedInput[index] = false;
		}
		long long int number = atoll(input);
		printf("%lld\n", missedPrime(number,isMissedInput, count, 0, index ));
	}

}