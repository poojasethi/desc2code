
#include <iostream>
#include <cstdio>
#include <vector>
#include <cstdlib>
#include <cstring>
#include <cmath>
using namespace std;
const char fi[] = "L3.INP";
const int MAXN = 15;

char s[MAXN];
int len;
vector<int> pos;
bool done;

bool isprime(long long int num)
{
	if(num == 1 || num % 2 == 0 || num % 3 == 0) return false;
	long long int checkwith = 5;
	while(checkwith * checkwith <= num)
	{
		if(num % checkwith == 0 || num % (checkwith + 2) == 0) return false;
		checkwith += 6;
	}
	return true;
}

bool isprime2(long long n)
{
    if (n<2) return 0;
    if (n==2) return 1;
    if (n%2==0) return 0;
    long long t = n+1;
    long long i;
    for (i=3;i*i<t;i+=2)
        if (n%i==0) return 0;
    return 1;
}

int isprime3(long long a){
    long long i;
    if(a==1)return 0;
    for(i=2;i<=sqrt(a);i++)
        if(a%i==0)return 0;
    return 1;
}

void gen(int k)
{
    if (k == pos.size())
    {
        long long t;
        //t = atoll(s);
        sscanf(s,"%lld",&t);
        if (isprime2(t))
        {
            printf("%lld\n", t);
            done = true;
        }
        return ;
    }
    char i = '0';
    int inc = 1;
    if (pos[k] == 0) i = '1';
    else if (pos[k] == len-1)
    {
        i = '1';
        inc = 2;
    }

    for (;i<='9';i+=inc)
    {
        s[pos[k]] = i;
        //cout << k << " " << pos[k] << " " << i << " " << s << " " << pos.size() << endl;
        gen(k+1);
        if (done) return ;
    }
}

int main()
{
    int T;
    int i;
    //freopen(fi,"r", stdin);
    scanf("%d", &T);
    while (T--)
    {
        scanf("%s", s);
        pos.clear();
        for (i=0;s[i];i++)
        {
            if (s[i] == '?')
            {
                pos.push_back(i);
                s[i] = (i==0?'1':'0');
            }
        }
        done = false;
        len = strlen(s);
        gen(0);
        //printf("%lld\n", atoll(s));
    }
    return 0;
}
