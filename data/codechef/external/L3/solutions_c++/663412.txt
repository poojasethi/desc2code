#include <iostream>
#include <cstdio>
#include <vector>
#include <cstdlib>
#include <cstring>
using namespace std;
const char fi[] = "L3.INP";
const int MAXN = 15;

char s[MAXN];
int len;
vector<int> pos;
bool done;

bool isprime(long long int num)
{
	if(num == 1 || num % 2 == 0 || num % 3 == 0) return false;
	long long int checkwith = 5;
	while(checkwith * checkwith <= num)
	{
		if(num % checkwith == 0 || num % (checkwith + 2) == 0) return false;
		checkwith += 6;
	}
	return true;
}

void gen(int k)
{
    if (k == pos.size())
    {
        if (isprime(atoll(s)))
        {
            done = true;
        }
        return ;
    }
    char i;
    char start = '0';
    int inc = 1;
    if (pos[k] == 0) start = '1';
    else if (pos[k] == len-1)
    {
        start = '1';
        inc = 2;
    }

    for (i=start;i<='9';i+=inc)
    {
        s[pos[k]] = i;
        //cout << k << " " << pos[k] << " " << i << " " << s << " " << pos.size() << endl;
        gen(k+1);
        if (done) return ;
    }
}

int main()
{
    int T;
    int i;
    //freopen(fi,"r", stdin);
    scanf("%d", &T);
    while (T--)
    {
        scanf("%s", s);
        pos.clear();
        for (i=0;s[i];i++)
        {
            if (s[i] == '?')
            {
                pos.push_back(i);
                s[i] = (i==0?'1':'0');
            }
        }
        done = false;
        len = strlen(s);
        gen(0);
        printf("%lld\n", atoll(s));
    }
    return 0;
}
