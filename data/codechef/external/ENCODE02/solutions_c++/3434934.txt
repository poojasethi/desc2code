#include<iostream>
#include<cstdio>
using namespace std;
#define MAX(a,b) ((a) > (b) ? (a) : (b))
typedef unsigned long long int ull;
int main()
{
    ull n,q,i;
    scanf("%llu",&n);
    ull ar[n+1];
    for(i=1;i<=n;i++)
        scanf("%llu",&ar[i]);
    ull left[n+2],right[n+2];
    left[0]=0;
    left[1]=ar[1];
    right[n]=ar[n];
    right[n+1]=0;
    for(i=2;i<=n;i++)
        {
            left[i]=MAX(ar[i],left[i-1]);
            right[n-i+1]=MAX(ar[n-i+1],right[n-i+2]);
        }
    /*for(i=1;i<=n;i++)
        cout<<left[i]<<" ";
    cout<<endl;
    for(i=1;i<=n;i++)
        cout<<right[i]<<" ";
    cout<<endl;*/
    scanf("%llu",&q);
    while(q--)
    {
        ull x,y,ans;
        scanf("%llu%llu",&x,&y);
        ans=MAX(left[x-1],right[y+1]);
        printf("%llu\n",ans);
    }
    return 0;
}
