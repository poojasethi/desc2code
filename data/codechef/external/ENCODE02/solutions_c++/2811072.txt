#include <iostream>
using namespace std;

int main() {
	// your code goes here
	int t,i,n,l,r,x,y,a[200050],b[200050],p[200050];
	a[0] = 0;
	scanf("%d",&n);
	for(i = 1;i<=n;i++)
	{
	  scanf("%d",&p[i]);
	  if(p[i]>a[i-1])
	    a[i] = p[i];
	  else
	    a[i] = a[i-1];
	}
	
	b[n] = p[n];
//	printf("hi");
	for(i= n-1;i>0;i--)
	{
	   if(p[i] > b[i+1])
	     b[i] = p[i];
	     else
	     b[i] = b[i+1];
	}
	
	scanf("%d",&t);
	while(t--)
	{
	   scanf("%d %d",&x,&y);
	   l = 0;
	   r = 0;
	   if(x-1>=1)
	     l = a[x-1];
	     if(y+1<=n)
	     r = b[y+1];
	     if(l>=r)
	     printf("%d\n",l);
	     else
	     printf("%d\n",r);
	
	} 
/*	for( i =1;i<=n;i++)
	{
	  printf("%d ",p[i]);
	}
	printf("\n");
	for( i =1;i<=n;i++)
	{
	  printf("%d ",a[i]);
	}
	printf("\n");
		for( i =1;i<=n;i++)
	{
	  printf("%d ",b[i]);
	} */
	return 0;
}