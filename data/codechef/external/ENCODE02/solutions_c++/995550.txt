#include<stdio.h>
#define S(x) scanf("%ld",&x)
#define max(a,b) (a>b)?a:b

int main()
{
	long int i,n,q,x,y,maximum;
	
	S(n);
	
	long int quality[n],fhmax[n],shmax[n];
	
	for(i=0;i<n;i++)	
		S(quality[i]);
	
	fhmax[0]=quality[0];
	shmax[n-1]=quality[n-1];	
		
	for(i=1;i<n;i++)
		fhmax[i]=max(quality[i],fhmax[i-1]);

	for(i=n-2;i>=0;i--)
		shmax[i]=max(quality[i],shmax[i+1]);
	
	S(q);
	
	while(q--)
	{
		scanf("%ld %ld",&x,&y);
		
		if(x==1 && y==n)
			maximum=0;
		
		else if(y==n)
			maximum=fhmax[x-2];
		
		else if(x==1)
			maximum=shmax[y];
			
		else 
			maximum=max(fhmax[x-2],shmax[y]);
			
		printf("%ld\n",maximum);
	}
	
	return 0;
}
