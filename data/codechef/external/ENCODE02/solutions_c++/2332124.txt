#include<iostream>
 
#define MAX 200000
 
using namespace std;
 
int a[MAX];
int lefty[MAX];
int righty[MAX];
 
int main()
{
    int i,n,q,x,y,max;
    scanf("%d",&n);
    for(i=0;i<n;i++)
    {
         scanf("%d",&a[i]);
    }
    scanf("%d",&q);
    max=a[0];
    lefty[0]=max;
    for(i=1;i<n;i++)
    {
               if(a[i]>max)
               {
                           max=a[i];
               }     
               lefty[i]=max;
    }
    max=a[n-1];
    righty[n-1]=max;
    for(i=n-1;i>=0;i--)
    {
         if(a[i]>max)
         {
                     max=a[i];
         }
         righty[i]=max;
    }        
    for(i=0;i<q;i++)
    {
        scanf("%d%d",&x,&y);
        max=0;
        if(x>1 && y<n)
        {
                if(lefty[x-2]>righty[y])
                {
                  max=lefty[x-1];
                  //cout<<x-1<<":";
                }
                else
                {
                   max=righty[y];
                   //cout<<y<<":";
                }
        }                
        else if(x>1 && y==n)
        {
             max=lefty[x-2];
        }
        else if(x==1 && y<n)
        {
             max=righty[y];
        }
        printf("%d\n",max);
    }
    return 0;
}