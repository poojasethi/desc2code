#include<bits/stdc++.h>
using namespace std;
#define fast cin.sync_with_stdio(0);cin.tie(0)
#define pii pair<int,int>
#define ff first
#define ss second
#define mp make_pair
#define pb push_back
#define INF (((ll)1000000000) * ((ll)1000000000))
#define N 1005
#define ll long long
#define MOD 1000000007
#define gcd __gcd
#define fill(A,v) memset(A,v,sizeof(A))
#define all(x) (x).begin(), (x).end()
ll arr[N][N];
ll ans1[N][N],ans2[N][N],ans3[N][N],ans4[N][N];
int main() {
	int t;
	scanf("%d",&t);
	while(t--)
	{
		ll n,m,i,j,sum=0,ans=1000000000000;
		scanf("%lld%lld",&n,&m);
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=m;j++)
			  scanf("%lld",&arr[i][j]);
		}
		for(i=1;i<=n;i++)
		{
			sum=0;
			for(j=1;j<=m;j++)
			{
				if(sum>0)
				  sum=0;
				ans1[i][j]=sum;
				sum+=arr[i][j];
			}
		}
		for(i=1;i<=n;i++)
		{
			sum=0;
			for(j=m;j>=1;j--)
			{
				if(sum>0)
				  sum=0;
				ans2[i][j]=sum;
				sum+=arr[i][j];
			}
		}
		for(i=1;i<=m;i++)
		{
			sum=0;
			for(j=1;j<=n;j++)
			{
				if(sum>0)
				  sum=0;
				ans3[j][i]=sum;
				sum+=arr[j][i];
			}
		}
		for(i=1;i<=m;i++)
		{
			sum=0;
			for(j=n;j>=1;j--)
			{
				if(sum>0)
				  sum=0;
				ans4[j][i]=sum;
				sum+=arr[j][i];
			}
		}
		sum=0;
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=m;j++)
			{
				sum=arr[i][j]+ans1[i][j]+ans2[i][j]+ans3[i][j]+ans4[i][j];
				if(sum<ans)
				  ans=sum;
			}
			
		}
		cout<<ans<<"\n";
	}
	return 0;
	
} 