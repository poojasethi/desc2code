#include<stdio.h>

int A[1003][1003],left[1003][1003],right[1003][1003],north[1003][1003],south[1003][1003];


int main(){
    int t,n,m,min1,min2;
    int i,j;
    scanf("%d",&t);
    while(t--){
        scanf("%d %d",&n,&m);
        for(i=0;i<n;i++){
            for(j=0;j<m;j++)scanf("%d",&A[i][j]);
        }
        min1=A[0][0];
        for(i=0;i<n;i++){
            for(j=0;j<m;j++){
                if(j==0)right[i][j]=0;
                else {
                    if(right[i][j-1]>=0)right[i][j]=A[i][j-1];
                    else right[i][j]=right[i][j-1]+A[i][j-1];
                }
            }
        }
        for(i=0;i<n;i++){
            for(j=m-1;j>=0;j--){
                if(j==m-1)left[i][j]=0;
                else{
                    if(left[i][j+1]>=0)left[i][j]=A[i][j+1];
                    else left[i][j]=left[i][j+1]+A[i][j+1];
                }
            }
        }
        for(j=0;j<m;j++){
            for(i=0;i<n;i++){
                if(i==0)south[i][j]=0;
                else{
                    if(south[i-1][j]>=0)south[i][j]=A[i-1][j];
                    else south[i][j]=south[i-1][j]+A[i-1][j];
                }
            }
        }
        for(j=0;j<m;j++){
            for(i=n-1;i>=0;i--){
                if(i==n-1)north[i][j]=0;
                else{
                    if(north[i+1][j]>=0)north[i][j]=A[i+1][j];
                    else north[i][j]=north[i+1][j]+A[i+1][j];
                }
            }
        }
        for(i=0;i<n;i++){
            for(j=0;j<m;j++){
                min2=A[i][j];
                if(left[i][j]<0)min2+=left[i][j];
                if(right[i][j]<0)min2+=right[i][j];
                if(north[i][j]<0)min2+=north[i][j];
                if(south[i][j]<0)min2+=south[i][j];
                if(min1>min2)min1=min2;
            }
        }
        printf("%d\n",min1);
    }
    return 0;
}
