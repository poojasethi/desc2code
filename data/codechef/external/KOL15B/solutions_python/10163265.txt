#include<bits/stdc++.h>


using namespace std;

int A[1003][1003],l[1003][1003],r[1003][1003],up[1003][1003],s[1003][1003];


int main(){
    int t,n,m,min1,min2;

    int i,j;
    cin>>t;
    while(t--){
        scanf("%d %d",&n,&m);
        for(i=0;i<n;i++){
            for(j=0;j<m;j++){
                scanf("%d",&A[i][j]);
                if(j==0)r[i][j]=0;
                else {
                    if(r[i][j-1]>=0)r[i][j]=A[i][j-1];
                    else r[i][j]=r[i][j-1]+A[i][j-1];
                }
                if(i==0)s[i][j]=0;
                else{
                    if(s[i-1][j]>=0)s[i][j]=A[i-1][j];
                    else s[i][j]=s[i-1][j]+A[i-1][j];
                }
            }
        }
        min1=A[0][0];
        for(i=0;i<n;i++){
            for(j=m-1;j>=0;j--){
                if(j==m-1)l[i][j]=0;
                else{
                    if(l[i][j+1]>=0)l[i][j]=A[i][j+1];
                    else l[i][j]=l[i][j+1]+A[i][j+1];
                }
            }
        }
        for(j=0;j<m;j++){
            for(i=n-1;i>=0;i--){
                if(i==n-1)up[i][j]=0;
                else{
                    if(up[i+1][j]>=0)up[i][j]=A[i+1][j];
                    else up[i][j]=up[i+1][j]+A[i+1][j];
                }
            }
        }
        for(i=0;i<n;i++){
            for(j=0;j<m;j++){
                min2=A[i][j];
                if(l[i][j]<0)min2+=l[i][j];
                if(r[i][j]<0)min2+=r[i][j];
                if(up[i][j]<0)min2+=up[i][j];
                if(s[i][j]<0)min2+=s[i][j];
                if(min1>min2)min1=min2;
            }
        }
        printf("%d\n",min1);
    }
    return 0;
}

