#include<iostream>
#include<cstring>
#include<cmath>
#include<limits.h>
using namespace std;
long long int t,l,k,c[100005],i,ans;
    char a[100005],b[100005];
int main()
{

    cin>>t;
    while(t--)
    {
        cin>>a;
        l=strlen(a);
        for(i=0;i<l;i++)
        {
            c[i]=0;
        }
        k=0;
        b[k]=a[0];
        c[k]=1;
        for(i=1;i<l;i++)
        {
            if(a[i]==a[i-1])
                {
                    c[k]++;
                }
                else
                {
                    b[k+1]=a[i];
                    c[k+1]=1;
                    k++;
                }
        }
        ans=INT_MAX;
        //cout<<k<<endl;
        for(i=0;i<k-1;i++)
        {
            //cout<<"L"<<endl;;
            //cout<<b[i]<<b[i+1]<<b[i+2];
            if(b[i]!=b[i+1]&&b[i]!=b[i+2])
            {
                //cout<<c[i+1]+2<<endl;
                ans=min(ans,c[i+1]+2);
            }
        }
        cout<<ans<<endl;
    }
}
