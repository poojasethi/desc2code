#include <stdio.h>

using namespace std;

int main()
{
	int t,i,j,n,a;
	scanf("%d",&t);
	while(t--){
	scanf("%d",&n);
	int x[n];
	int y[n];
	for(i = 0; i < n; i++ ) {
		scanf("%d",&x[i]);
		scanf("%d",&y[i]);
		}
		a = 0;
		int d = 0;
	for(j = 0; j < n-1; j++) {
		d++;
		for(int k = d; k < n; k++) {
			if(((x[j] > x[k])&& (y[j] < y[k])) || ((x[j] < x[k]) && (y[j] > y[k])) ){
				a++;
				
			}	
	
		}
	}	
	printf("%d",a);	
	printf("\n");
	}
	return 0;
}