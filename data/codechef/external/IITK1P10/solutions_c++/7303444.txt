#include<iostream>
#include<cstdio>
#include<vector>
using namespace std;
vector<int> ans;
vector<int> par;
vector<int> data;
void update(int node ,int value)
{
if(node==-1)
{
    return;
}
ans[node]+=value;
update(par[node],value);
}





int main()
{
int n,i,q,x,y,u,v,a,val;
char c;
cin>>n>>q;
ans.resize(n,0);
par.resize(n,-1);
data.resize(n);
for(i=1;i<n;i++)
{
    scanf("%d %d",&x,&y);
    x--;y--;
    par[y]=x;
}
for(i=0;i<n;i++)
{
    scanf("%d",&a);
    data[i]=a;
    if(a==0)
        update(i,1);

}
while(q--)
{
    scanf(" %c",&c);
    if(c=='U')
    {
        scanf("%d %d",&x,&val);
        x--;
        int prev=data[x];
        data[x]+=val;
        if(prev!=0&&data[x]==0)
            update(x,1);
        else if(prev==0&&data[x]!=0)
            update(x,-1);
    }
    else
    {
        int p;
        scanf("%d",&p);
        p--;
        printf("%d\n",ans[p]);

    }

}
    return 0;
}
