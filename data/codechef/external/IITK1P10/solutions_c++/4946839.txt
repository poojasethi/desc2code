#include<queue>
#include<iostream>
#include<cstdio>
#include<cmath>
#include<cstring>
#include<stdlib.h>
#include<algorithm>
#include<iomanip>
#include<set>
#include<vector>
#include<utility>
#include<stack>
#define getcx getchar_unlocked
#ifndef ONLINE_JUDGE
#define getcx getchar
#endif
//#define mod 1000000007
#define rep(i,n) for(int i=0;i<n;++i)
#define rep1(i,j,n) for(int i=j;i<n;++i)
#define repl1(i,j,n) for(long long i=j;i<n;++i)
#define repl(i,n) for(long long i=0;i<n;++i)
#define ll long long
using namespace std;
vector<vector<ll> > adj(100002);
ll count1[100002];
inline void addedge(ll u,ll v)
{
	adj[u].push_back(v);
}
inline ll dfs(ll start)
{
	bool visited[100002];
	memset(visited,0,sizeof(visited));
	visited[start]=1;
	queue<ll> q;
	ll ans=0,temp;
	q.push(start);
	vector<ll>::iterator i;
	while(!q.empty())
	{
		temp=q.front();
		q.pop();
		for(ll i=0;i<adj[temp].size();++i)
		{
			if(visited[adj[temp][i]]==0)
			{
				visited[adj[temp][i]]=1;
				q.push(visited[adj[temp][i]]);
				if(count1[adj[temp][i]]==0)
				++ans;
			}
		}
	}
	return ans;
}
main()
{
	ll n,q,u,v,ans;
	char ch[2];
	scanf("%lld%lld",&n,&q);
	//cin>>n>>q;
	for(ll i=1;i<n;++i)
	{
		scanf("%lld%lld",&u,&v);
		//cin>>u>>v;
		addedge(u,v);
	}
	for(ll i=1;i<=n;++i)
	scanf("%lld",&count1[i]);
	//cin>>count1[i];
	while(q--)
	{
		scanf("%s",&ch);
		//cin>>ch;
		if(ch[0]=='U')
		{
			scanf("%lld%lld",&u,&v);
			//cin>>u>>v;
			count1[u]+=v;
		}
		else
		{
			scanf("%lld",&u);
			//cin>>u;
			ans=dfs(u);
			printf("%lld\n",ans);
		//	cout<<ans<<endl;
		}
	}
} 