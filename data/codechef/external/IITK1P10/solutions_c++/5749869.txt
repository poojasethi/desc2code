#include <iostream>
#include <cstdio>
#include <cstring>
#include <climits>
#include <string>
#include <algorithm>
#include <vector>
#include <cmath>
#include <queue>
#include <stack>
#define LL long long int
#define MAX 100003
#define HIGH 100003
using namespace std;
 int n;

struct f {
    int v;
};
int w[MAX];
vector<struct f >graph[MAX];
bool stat[MAX];
void update(){
    for(int i=0;i<=n;i++){
        graph[i].clear();
        stat[i]=false;
    }
}
int bfs(int x){
    stat[x]=true ;
    int ans =0 ;
    if(w[x]==0)ans=1;
    for(int i=0;i<graph[x].size();i++){
            if(!stat[graph[x][i].v])
                    ans+=bfs(graph[x][i].v);
    }
    stat[x]=false ;
    return ans ;
}
int main()
{
                int q,c;
            scanf("%d%d",&n,&q);
            update();
            for(int j=0;j<n-1;j++){
                    int a,b;
                scanf("%d%d",&a,&b);
                struct f enter ;
                 enter.v=b;
                graph[a].push_back(enter);
            }
            for(int i=0;i<n;i++)
                cin >> w[i+1];
            while(q--){
                char ch ;
                int x,y;
                cin >> ch ;
                if(ch=='U'){
                    cin >> x >> y ;
                    w[x]+=y;
                }
                if(ch=='Q'){
                    cin >> x ;
                    cout << bfs(x) << endl;
                 }
            }
}

