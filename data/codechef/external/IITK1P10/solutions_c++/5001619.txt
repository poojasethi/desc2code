#include<bits/stdc++.h>
#define N 1000001
using namespace std;
int tree[N];
int query(int idx)
{
	int sum=0;
	while(idx>0)
	{
		sum+=tree[idx];
		idx-=(idx & (-idx));
	}
	return sum;
}
void update(int idx,int val)
{
	while(idx<=N)
	{
		tree[idx]+=val;
		idx+=(idx & -idx);
	}
}
long long tim,tin[200001],tout[200001],visited[200001],Val[200001];
vector<int> G[200001];
void dfs(int node)
{
	tin[node]=++tim;
	visited[node]=1;
	int i,v;
	for(i=0;i<G[node].size();i++)
	{
		v=G[node][i];
		if(!visited[v])
			dfs(v);
	}
	tout[node]=++tim;
}
int main() {
	int n,q,i,j,k,a,b,u;
	long long v;
	char c[2];
	scanf("%d%d",&n,&q);	
	for(i=1;i<n;i++)
	{
		scanf("%d%d",&a,&b);
		G[a].push_back(b);
		G[b].push_back(a);
	}
	memset(visited,0,sizeof(visited));
	//memset(tree,0,sizeof(tree));
	tim=0;
	dfs(1);
	for(i=1;i<=n;i++)
	{
		scanf("%lld",&Val[i]);
		if(Val[i]==0)
		{
			b=tin[i];
			update(b,1);
		}
	}
	for(i=1;i<=q;i++)
	{
		scanf("%s",c);
		if(c[0]=='U')
		{
			scanf("%d%lld",&u,&v);
			if(v!=0)
			{
				if(Val[u]==0)
					update(tin[u],-1);
				Val[u]+=v;
				if(Val[u]==0)
					update(tin[u],1);
			}
		}
		else if(c[0]=='Q')
		{
			scanf("%d",&u);
			printf("%d\n",query(tout[u])-query(tin[u]-1));
		}
	}
	return 0;
}
