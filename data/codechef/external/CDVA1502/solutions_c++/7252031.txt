#include<stdio.h>
using namespace std;
long long int fact(long long int x,long long int y)
{
	long long int i,pro=1;
	for(i=x;i>=2;i--)
	pro=(pro*i)%y;
	return pro;
}
int main()
{
	long long int t,n,i,k,max,*a;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld%lld",&n,&k);
		a=new long long int[k];
		for(i=0;i<k;i++)
		scanf("%lld",&a[i]);
		max=a[0];
		for(i=1;i<k;i++)
		if(a[i]>max)
		max=a[i];
		//printf("max=%d\n",max);
		printf("%lld\n",fact(n,max));
	}
}