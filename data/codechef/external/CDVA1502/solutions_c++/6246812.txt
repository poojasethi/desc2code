#include<cstdio>
#include<iostream>
int main()
{
int t;
long int n,a[100001],k,i;
scanf("%d",&t);
while(t--)
{
scanf("%ld%ld",&n,&k);
for(i=0;i<k;i++)
scanf("%ld",&a[i]);
long int max=a[0];
for(i=1;i<k;i++)
{
if(max<=a[i])
max=a[i];
}
// printf("%ld",max);
long long int j=1;
for(i=1;i<=n;i++)
{
j=(j*i)%max;
}
printf("%lld\n",(j%max));
}
return 0;
}