#include<iostream>
#include<stdio.h>
using namespace std;
int main()
{long long int n,ans,m,max,a[100001],t;
scanf("%lld",&t);
while(t--)
{
scanf("%lld%lld",&n,&m);
scanf("%lld",&a[0]);
max=a[0];
for(int i=1;i<m;i++)
{scanf("%lld",&a[i]);
if(a[i]>max)
max=a[i];
}
ans=1%max;
for(int i=2;i<=n;i++)
{
ans=((i-(i/max)*max)*(ans-(ans/max)*max))-(((i-(i/max)*max)*(ans-(ans/max)*max))/max)*max;
}
printf("%lld\n",ans);
}
}