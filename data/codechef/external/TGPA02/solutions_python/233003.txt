#include<stdio.h>
#include<math.h>
#define MAX_PRIME 3402

int prime[MAX_PRIME];
char chkPrime[1000002]={1,1};

inline void initPrimes() {
       const int lim = 31627;
       int currPos=1,primeCount=0;
       do {
           while(chkPrime[currPos]) currPos++;
           prime[primeCount++]=currPos;
           int temp=currPos;
           while((temp+=currPos)<=lim)
               chkPrime[temp]=1;
		   currPos++;
       } while(currPos<=MAX_PRIME);
	   while(currPos<=lim){
	       if(!chkPrime[currPos])
			  prime[primeCount++]=currPos; 
		   currPos++;
	   }
}
int main()
{
	initPrimes();
    int testCases;
	scanf("%d",&testCases);
    while(testCases--){
       int a,b,i,j;
	   scanf("%d%d",&a,&b);

	   for(i=b-a;i>=0;i--)
	       chkPrime[i]=1;
	   if(a==1)
	      chkPrime[0]=0;
	   int lim = (int)sqrt((double)b);
	   for(i=0;prime[i]<=lim;i++){
		   j=a-a%prime[i];
		   if(j<a)
			   j+=prime[i];
		   while(j<=b){
		       if(j!=prime[i])
				   chkPrime[j-a]=0;
		       j+=prime[i];
		   }
	   }
	   int count=0;
	   for(i=2;i<=b-a;i++)
	       if(chkPrime[i-2]&&chkPrime[i])
			   count++;
       printf("%d\n",count);
    }
	return 0;
}
