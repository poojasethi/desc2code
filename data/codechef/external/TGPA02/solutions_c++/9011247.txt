#include<bits/stdc++.h>
using namespace std;
vector<bool> v(31624);
int main()
{
	int i,t,n,m,ans,j,temp,cal;
	for(j=4;j<31624;j=j+2)
		v[j]=true;
	for(i=9;j<31624;j=j+6)
		v[j]=true;
	for(i=6;i<31624;i=i+6)
	{
		if(!v[i-1])
		{
			if((i-1)*(i-1)<31624)
			{
				for(j=(i-1)*(i-1);j<31624;j=j+2*(i-1))
				{
					v[j]=true;
				}
			}
		}
		if(!v[i+1])
		{
			if((i+1)*(i+1)<31624)
			{
				for(j=(i+1)*(i+1);j<31624;j=j+2*(i+1))
					v[j]=true;
			}
		}
	}
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d%d",&m,&n);
		vector<bool> prime(n-m+1);
		if(4<=n)
		{
			cal=m;
			if(m%2!=0)
			{
				cal=(m/2+1)*2;
			}
			for(j=max(4,cal);j<=n;j=j+2)
				prime[j-m]=true;
		}
		for(i=3;i*i<=n;i+=2)
		{
			if(!v[i])
			{
				cal=m;
				if(m%i!=0)
				{
					cal=(m/i+1)*i;
				}
				for(j=max(i*i,cal);j<=n;j=j+i)
				{
					prime[j-m]=true;
				}
			}
		}
		ans=0;
		temp=-1;
		for(i=max(m,2);i<=n;i++)
		{
			if(prime[i-m]==false)
			{
				if(i-temp==2)
				{
					ans++;
				}
				temp=i;
			}
		}
		printf("%d\n",ans);
	}
}