#include<iostream>
#include<cmath>
#include<algorithm>
#include<vector>
#include<fstream>
#include<bitset>


using namespace std;

int t,n,m;

bitset<32000> b;
int prime[32000],pi=0;
ifstream in;
ofstream out;


     

int main()
{
   //in.open("input.txt");
   //out.open("output.txt");
   scanf("%d",&t);
   //in>>t;
   
   
   int lim=(int)(sqrt((double)32000));
   for(int i=2;i<=lim;i++)
   {
           
           if(b[i]==0)
           {
                      for(int j=2;i*j<32000;j++)
                      b[i*j]=1;
                      prime[pi]=i;
                      pi++;
                      //cout<<i<<endl;
           }
           
   }
   for(int i=lim+1;i<32000;i++)
   if(b[i]==0)
   {
              prime[pi]=i;
              pi++;
   }
   
   
   
   for(int prob=0;prob<t;prob++)
   {
           
           scanf("%d %d",&m,&n);
           
           //in>>m>>n;
           
           bool a[1000001]={0};
           if(m==1)
           a[0]=1;
           for(int i=0;i<pi && prime[i]<=n;i++)
           {
                   int l=(m+prime[i]-1)/prime[i];
                   if(l==1)
                   l++;
                   l=l*prime[i];
                   
                   for(int j=l;j<=n;j+=prime[i])
                   a[j-m]=1;
           }
           int last=-100,ans=0;
           for(int i=0;i<n-m+1;i++)
           if(a[i]==0)
           {
                      if(i-last==2)
                      ans++;
                      last=i;
           }
           
           printf("%d\n",ans);
           
   }

   system("pause");
   return 0;

}
