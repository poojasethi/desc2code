#include <iostream>
 
int main()
{
int fall, a[10][10], c=64, b[100], i, j, d[10], k, j1, i1, x, y, e[100];

for(i=0; i<8; i++)
	{
	for(j=0; j<8; a[i][j++]=c--);
	for(j=7, i++; j>=0; a[i][j--]=c--);
	}

for(std::cin >> fall; fall--; std::cout << std::endl)
	{
	for(i=0; i<=65; b[i]=e[i]=0, i++);
	for(i=0; i<8; std::cin >> d[i], e[d[i++]]=1);

	for(k=0; k<8;)
		{
		for(i=0; i<8; i++)
			{
			for(j=0; j<8 && a[i][j]!=d[k]; j++);
			if(j<8)
				break;
			}

		for(i1=i-1, x=14; i1>=0; y=a[i1][j], b[y]+=x*(e[y]!=1), x-=2, i1--);
		for(i1=i+1, x=14; i1<8; y=a[i1][j], b[y]+=x*(e[y]!=1), x-=2, i1++);
		for(j1=j-1, x=14; j1>=0; y=a[i][j1], b[a[i][j1]]+=x*(e[y]!=1), x-=2, j1--);
		for(j1=j+1, x=14; j1<8; y=a[i][j1], b[a[i][j1]]+=x*(e[y]!=1), x-=2, j1++);
		for(x=7, i1=i-1, j1=j-1; i1>=0 && j1>=0; y=a[i1][j1], b[a[i1][j1]]+=x*(e[y]!=1), x--, i1--, j1--);
		for(x=7, i1=i-1, j1=j+1; i1>=0 && j1<8; y=a[i1][j1], b[a[i1][j1]]+=x*(e[y]!=1), x--, i1--, j1++);
		for(x=7, i1=i+1, j1=j-1; i1<8 && j1>=0; y=a[i1][j1], b[a[i1][j1]]+=x*(e[y]!=1), x--, i1++, j1--);
		for(x=7, i1=i+1, j1=j+1; i1<8 && j1<8; y=a[i1][j1], b[a[i1][j1]]+=x*(e[y]!=1), x--, i1++, j1++);
		k++;
		}

	for(i=-(x=-1); i<=64; i++)
		if((b[i]>x)||(x==-1))
			x=b[i];

	for(i=1; i<=64; i++)
		if(b[i]==x)
			std::cout << i << " ";
	}

return 0;
}
