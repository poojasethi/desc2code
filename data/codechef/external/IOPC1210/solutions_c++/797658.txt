#include <cstdio>
#include <memory.h>
#include <vector>
#include <set>
#include <map>
#include <iostream>
#include <string>
#include <cstring>
#include <algorithm>
#include <cmath>
#include <ctime>
using namespace std;
 
#define forn( i,n ) for ( int i=0; i<(int)(n); i++ )
#define pb push_back
typedef long long ll;
typedef long double ld;
typedef pair<int,int> pii;
 
const int md = 100000007;
 
int n, k, x, mt[510], u[510], it;
vector<int> g[510];
 
int dfs( int x ) {
  if ( x == -1 ) return true;
  if ( u[x] == it ) return false;
  u[x] = it;
 
  forn( j, g[x].size() ) {
    int y = g[x][j];
    int z = mt[y];
    mt[y] = x;
    if ( dfs( z ) ) return true;
    mt[y] = z;
  }
 
  return false;
}
 
void solve() {
  scanf( "%d", &n );
  forn( i, n ) g[i].clear(), mt[i] = -1;
 
  forn( i, n ) {
    scanf( "%d", &k );
    forn( j, k ) {
      scanf( "%d", &x );
      g[x].pb( i );
    }
  }
 
  int res = 0;
  forn( i, n ) {
    it++;
    if ( !dfs( i ) ) {
      res = 1;
      break;
    }
  }
 
  if ( res ) printf( "not safe\n" );
  else printf( "safe\n" ); 
}
 
int main() {
  int tc;
  scanf( "%d", &tc );
  while ( tc-- ) solve();
  return 0;
} 