#include<stdio.h>
#include<stdlib.h>
#include<math.h>
 
int poly[100][2];
int Up[100][2];
int IF[100];
int N,M,R;
 
int sun();
 
int sum()
{
	double dis,a,b,c;
	double a1,b1,c1;
	int i,j;
	int count=0;
	int xdis;
	int ydis;
	double max;
	long long int sign1,sign2,sign3,sign4;
	max = (R*R);
	
	for(i=0;i<N;i++)
	{
		for(j=0;j<M;j++)
		{
			xdis = (Up[i][0]-poly[j][0]);
			ydis = (Up[i][1]-poly[j][1]);
			dis  = (xdis*xdis)+(ydis*ydis);
			if(dis<=max)
			{
				IF[i] = -1;
				count++;
				break;
			}
		}
	}
	if(M>1)
	for(i=0;i<N;i++)
	{
		if(IF[i]!=-1)
			for(j=0;j<M-1;j++)
			{
				a = poly[j][1] - poly[j+1][1];
				b = poly[j+1][0] -	poly[j][0];
				c = (poly[j][0]*poly[j+1][1])-(poly[j][1]*poly[j+1][0]);
				
				dis = (a*Up[i][0])+(b*Up[i][1])+c;
				dis = dis * dis;
				dis = dis /((a*a)+(b*b));
				
				if(dis<=max)
				{
					sign1 = b*(Up[i][0]-poly[j][0])-a*(Up[i][1]-poly[j][1]);
					sign2 = b*(poly[j+1][0]-poly[j][0])-a*(poly[j+1][1]-poly[j][1]);
					sign3 = b*(Up[i][0]-poly[j+1][0])-a*(Up[i][1]-poly[j+1][1]);
					sign4 = b*(poly[j][0]-poly[j+1][0])-a*(poly[j][1]-poly[j+1][1]);
					if(sign1*sign2>=0&&sign3*sign4>=0)
					{
						count++;
						break;
					}	
				}
			}
	}
	
	return count;
}					
				
main()
{
	int	tc;
	int 	i;
	int  k=1;
	scanf("%d",&tc);
	
	while(k<=tc)
	{
		scanf("%d%d%d",&N,&M,&R);
		
		for(i=0;i<N;i++)
		{
			scanf("%d%d",&Up[i][0],&Up[i][1]);
			IF[i] = 0;
		}	
		for(i=0;i<M;i++)
			scanf("%d%d",&poly[i][0],&poly[i][1]);
		printf("Case #%d: ",k);
		printf("%d\n",sum());
		k++;
	}
	
	return 0;
}				
 