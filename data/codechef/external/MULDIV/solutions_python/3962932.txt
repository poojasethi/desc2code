def readInt(d):
    return map(int, raw_input().strip().split(d))
#print readInt(',')

def f(N, K, M):
	if K==1: return N;
	while M > 0 and N%K == 0:
		M -= 1
		N /= K
	if M == 0: return N;
	if M%2 == 0:
		return N;
	return N*K;

t = input()
for _ in xrange(t):
	N,K,M = readInt(' ')
	print f(N,K,M)
