#include<bits/stdc++.h>
#define pb push_back
typedef long long ll;
using namespace std;


int main(){
    int N;cin>>N;
    ll n,k,m;
    while(N--){
        cin>>n>>k>>m;
        ll curr = 0;
        if(k!=1){
            while(n%k==0 and curr<m){
                n/=k;
                curr++;
            }
        }
        m-=curr;
        if(m and m&1)cout<<n*k<<endl;
        else         cout<<n<<endl;
        //cout<<n<<" "<<curr<<endl;
    }
}
