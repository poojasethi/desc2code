#include <iostream>
using namespace std;
typedef long long ll;
int main(){
	ll n,k;
	ll m;
	int testc;
	cin >> testc;
	for(int i=0;i<testc;i++){
		cin >> n >> k >> m;
		if (k==1){
			cout << n << endl;
			continue;
		}
		ll md = 0,t=n;
		while (t%k==0) {
			md++;
			t/=k;
		}
		if (m < md){
			for (ll j=0;j<m;j++){
				n/=k;
			}
		} else {
			if ((m-md)%2==0)
				n=t;
			else
				n=t*k;
		}
		cout << n << endl;
	}
}