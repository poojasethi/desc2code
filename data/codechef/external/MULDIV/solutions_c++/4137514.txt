#include<iostream>
#include<math.h>
using namespace std;

int main()
{
	long int t;
	cin>>t;
	long long int n,k,m,x;
	while(t--)
	{
		scanf("%lld%lld%lld",&n,&k,&m);
		if(n%k==0)
		{
			if(k!=1)
			for(long long int i=1;i<=m;i++)
			{
				if(n%k==0)
				n/=k;
				else
				{
					if((m-i-1)%2==0)
					printf("%lld\n",n);
					else
					printf("%lld\n",n*k);
					break;
				}
			}
			else
			printf("%lld\n",n);
		}
		else
		{
			if(m%2==0)
			printf("%lld\n",n);
			else
			printf("%lld\n",n*k);
		}
	}
	return 0;
}
