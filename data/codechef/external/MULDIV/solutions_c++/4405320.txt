#include <iostream>
#include <string.h>
#include <stdio.h>
#include <algorithm>
#include <vector>
#include <set>
#include <queue>
#include <stack>
#include <stdlib.h>
#include <fstream>
#include <memory.h>
#include <queue>
#include <cmath>
#include <set>

using namespace std;

const int N = 1010;
const int inf = 0x3f3f3f3f;
const long long oo = 0x3f3f3f3f3f3f3f3fll;
const int mod = 1e9 + 7;

int main(){
	long long n, m, k;
	int ca;
	for(scanf("%d", &ca); ca--; ){
		cin >> n >> k >> m;
		if(k == 1){
			cout << n << endl;
		}
		else{
			while(n % k == 0){
				n /= k;
				m--;
				if(m == 0) break;
			}
			if(m & 1) cout << 1ll * n * k << endl;
			else cout << n << endl;
		}
	}
    return 0;
}
