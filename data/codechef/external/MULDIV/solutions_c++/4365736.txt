#include <iostream>
using namespace std;

int main()
{
	long long int t,n,k,m;
	cin >> t;

	while(t--)
	{
		cin >> n >> k >> m;
		
		if(k==1)
			cout << n << "\n";
		else
		{
			long long int x=0, y=n;
			
			while(y%k==0 && m>0)
			{
				y = y/k;
				x++;
				m--;
			}

			if((m&1)==0)
				cout << y << "\n";
			else
				cout << k*y << "\n";
		}
	}

	return 0;
}