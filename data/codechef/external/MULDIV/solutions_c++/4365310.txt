#include <iostream>
#include <cstring>
#include <cstdio>

#define llui long long unsigned int

using namespace std;

llui T,N,K,M;

int main()
{
  cin>>T;

  for(int i=0; i<T; i++)
  {
    cin>>N>>K>>M;
    //cout<<N<<" "<<K<<" "<<M<<endl;

    if(K==1)
    {
      cout<<N<<endl;
      continue;
    }

    while(N%K==0 && M>0)
    {
      N /= K;
      M--;
    }

    if(M%2==0)
    {
      cout<<N<<endl;
    }
    else
    {
      cout<<N*K<<endl;
    }
  }

  return 0;
}
