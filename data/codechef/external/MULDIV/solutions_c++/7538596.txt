#include <iostream>
#define ll long long
using namespace std;

int main() {
	int t;
	cin>>t;
	for(;t>0;t--){
		ll n,k,m;
		cin>>n>>k>>m;
		if(k==1){
			cout<<n<<endl;
			continue;
		}
		ll count = m;
		for(int i = 0 ; i < m ; i++){
			if(n%k==0){
				n = n/k;
				count--;
			}
			else
				break;
		}
		if(count%2 == 0)
			cout<<n<<endl;
		else
			cout<<n*k<<endl;
	}
	return 0;
}