#include<iostream>
#include<cstdio>
using namespace std;
int main()
{
 long long T,k,n,m;
 scanf("%lld",&T);
 while(T--)
 {
  scanf("%lld %lld %lld",&n,&k,&m);
  if(k==1)
   printf("%lld\n",n);
  else{
  while(n%k==0&&m)
   n/=k,m--;
  if(m&1)
   printf("%lld\n",n*k);
  else
   printf("%lld\n",n);
 }}
 return 0;
}