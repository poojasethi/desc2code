    //Tue Jul 22 09:49:19 IST 2014
    //Author- Priyanshu Srivastava
    //CSE 2nd Year
    //MNNIT Allahabad
    #include <stdio.h>
    #define getcx getchar_unlocked
    #define lli long long 
     
    void fscani(int *x)
    {
    int n=0;int sign=1;char c=getcx();
    while(c<'0' || c>'9'){if(c=='-') sign=-1;c=getcx();}
    while(c>='0' && c<='9'){n=(n<<1)+(n<<3)+(c-'0');c=getcx();}
    n=n*sign;*x=n;
    }
    void fscanl(lli *x)
    {
    lli n=0;int sign=1;char c=getcx();
    while(c<'0' || c>'9'){if(c=='-') sign=-1; c=getcx();}
    while(c>='0' && c<='9')	{n=(n<<1)+(n<<3)+(c-'0');c=getcx();}
    n=n*sign;*x=n;
    }
     
    int main() {
    int t;scanf("%d",&t);
    while(t--) {
    lli n,k,m;
    fscanl(&n);fscanl(&k);fscanl(&m);
    if(k==(lli)1) {
    printf("%lld\n",n);
    continue;
    }
    lli count = 0;
    while(count<m && n%k==0) {
    n/=k;count++;
    }
    if((m-count) & 1) {
    n*=k;
    }
    printf("%lld\n",n);
    }
    return 0;
    }
