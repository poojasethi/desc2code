#include<bits/stdc++.h>
#define pn() printf("\n")
#define si(x) scanf("%d",&x)
#define pi(x) printf("%d",x)
#define sll(x) scanf("%lld",&x)
#define pll(x) printf("%lld",x)
#define sc(x) scanf("%c",&x)
#define pc(x) printf("%c",x)
#define sf(x) scanf("%f",&x)
#define pf(x) printf("%f",x)
#define sd(x) scanf("%lf",&x)
#define pd(x) printf("%.7lf\n",x)
#define sld(x) scanf("%Lf",&x)
#define pld(x) printf("%.9Lf\n",x)
#define MOD 1000000007
#define ll long long
using namespace std;
int main(void){
    long long n,k;
    long long m;
    int t;
    si(t);
    while(t--){
        sll(n);sll(k);sll(m);
        if(k==1){
            printf("%lld\n",n);
            continue;
        }
        long long temp=n;
        int cnt=0;
        while(n%k==0&&m){
            m--;
            n/=k;
        }
        //cout<<n<<endl;
        if(m&1){
            printf("%lld\n",n*k);
        }
        else{
            printf("%lld\n",n);
        }
    }
    return 0;
}
