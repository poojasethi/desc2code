#include<stdio.h>

int main() {
	unsigned long long n,m,k,t,count,tmp;
	scanf("%llu",&t);
	while(t--) {
		scanf("%llu%llu%llu",&n,&k,&m);
		if(k==1) {
			printf("%llu\n",n);
			continue;
		} else {
			tmp=n;count=0;
			while(count<m && tmp%k==0) {
				count++;
				tmp=tmp/k;
			}
			if(count==m) 
				printf("%llu\n",tmp);
			else if((m-count)%2==0)
				printf("%llu\n",tmp);
			else 
				printf("%llu\n",tmp*k);
		}
	}
	return 0;
}