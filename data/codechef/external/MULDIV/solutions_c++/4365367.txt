#include<iostream>
using namespace std;
#define lld long long int

long long int scan_lld()
{
	long long int res=0,ch = getchar();
	while(ch<'0'||ch>'9')ch = getchar();
	while(ch>='0'&&ch<='9')
	{
		res = res*10+ch-'0';
		ch = getchar();
	}
	return res;
}

//fast output
void print_lld(long int n)
{
	char op[41];
	int size = 40;
	while(n)
	{
		op[size--] = n%10+'0';
		n/=10;
	}
	for(int i=size+1;i<41;i++)
	putchar(op[i]);
	putchar('\n');
}

int main()
{
	int t;
	lld N,M,K;
	scanf("%d",&t);
	while(t--)
	{
		N = scan_lld();
		K = scan_lld();
		M = scan_lld();
		if(K==1)
		{
			printf("%lld\n",N);
			continue;
		}
		lld count=0;
		while((N%K==0)&&count<M)
		{
			count++;
			N/=K;
		}
		
		if(count==M)
		printf("%lld\n",N);
		else
		{
			if((M-count)%2)
			printf("%lld\n",N*K);
			else
			printf("%ld\n",N);
		}
	}
}