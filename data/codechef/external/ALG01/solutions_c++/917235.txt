#include <iostream>
#include <cstdio>
#include <set>

using namespace std;

int main()
{
	
	int t,n;
	int a[30000];
	int b[30000];
	scanf("%d",&t);
	while(t--) {
		set<int> s;
		set<int>::iterator  it;
		scanf("%d",&n);
		for(int i=0;i<n;i++)
			scanf("%d",&a[i]);
		for(int i=0;i<n;i++) {
			s.insert(a[i]);
			it=s.find(a[i]);
			it++;
			if(it!=s.end())
				s.erase(it);
		}
		int maxm=s.size();s.clear();int j=0;
		for(int i=n-1;i>=0;i--)
			b[j++]=a[i];
		for(int i=0;i<n;i++) {
                        s.insert(b[i]);
                        it=s.find(b[i]);
                        it++;
                        if(it!=s.end())
                                s.erase(it);
                }
		j=s.size();
		maxm=max(maxm,j);
		printf("%d\n",maxm);
	}
	return 0;
}