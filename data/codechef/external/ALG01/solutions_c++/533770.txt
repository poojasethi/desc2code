#include <iostream>

using namespace std;

int main()
{
int A[10010], C[10010], fall, n, x, i, max, j, max2;

for(cin >> fall; fall--;)
	{
	for(cin >> n, i=0; i<n; i++)
		cin >> A[i];
	for(max=i=0; i<n; i++, max=0)
		for(j=0; j<=i; j++, C[i]=max+1)
			if(A[i]>A[j] && C[j]>max)
				max=C[j];

	for(max=i=0; i<n; i++)
		if(C[i]>max)
			max=C[i];

	for(max2=0, i=n-1; i>=0; i--, max2=0)
		for(j=n-1; j>=i; j--, C[i]=max2+1)
			if(A[i]>A[j] && C[j]>max2)
				max2=C[j];

	for(max2=i=0; i<n; i++)
		if(C[i]>max2)
			max2=C[i];

	if(max>max2)
		cout << max << endl;
	else
		cout << max2 << endl;
	}
return 0;
}
