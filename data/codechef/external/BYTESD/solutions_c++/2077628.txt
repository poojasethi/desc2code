#include <iostream>
#include<cstring>
using namespace std;
int vis[1001][1001];
char c[1001][1001];
int m,n;
int rec(int i1,int j1)
{
    if(i1+1<m&&!vis[i1+1][j1]&&c[i1+1][j1]=='f')
    {
        vis[i1+1][j1]=2;
        return 1;
    }
    if(i1+1<m&&!vis[i1+1][j1]&&c[i1+1][j1]=='b')
    {
        vis[i1+1][j1]=2;
        if(rec(i1+1,j1))
            return 1;
        vis[i1+1][j1]=1;
    }
    if(i1-1>=0&&!vis[i1-1][j1]&&c[i1-1][j1]=='f')
    {
        vis[i1-1][j1]=2;
        return 1;
    }
    if(i1-1>=0&&!vis[i1-1][j1]&&c[i1-1][j1]=='b')
    {
        vis[i1-1][j1]=2;
        if(rec(i1-1,j1))
            return 1;
        vis[i1-1][j1]=1;
    }
    if(j1+1<n&&!vis[i1][j1+1]&&c[i1][j1+1]=='f')
    {
        vis[i1][j1+1]=2;
        return 1;
    }
    if(j1+1<n&&!vis[i1][j1+1]&&c[i1][j1+1]=='b')
    {
        vis[i1][j1+1]=2;
        if(rec(i1,j1+1))
            return 1;
        vis[i1][j1+1]=1;
    }
    if(j1-1>=0&&!vis[i1][j1-1]&&c[i1][j1-1]=='f')
    {
        vis[i1][j1-1]=2;
        return 1;
    }
    if(j1-1>=0&&!vis[i1][j1-1]&&c[i1][j1-1]=='b')
    {
        vis[i1][j1-1]=2;
        if(rec(i1,j1-1))
            return 1;
        vis[i1][j1-1]=1;
    }
    return 0;
}
int main()
{
    int t,i1,j1;
    int flag=0;
    cin>>t;
    while(t--)
    {
        cin>>m>>n;
        flag=0;
        for(int i=0;i<m;i++)
        {
            for(int j=0;j<n;j++)
            {
                vis[i][j]=0;
                cin>>c[i][j];
                if(c[i][j]=='s')
                {
                  flag=1;
                    i1=i;
                    j1=j;
                }
            }
        }
        if(flag==1){
        vis[i1][j1]=2;
        if(rec(i1,j1))
        {
          for(int i=0;i<m;cout<<endl,i++)
                for(int j=0;j<n;j++)
                {
                  if(vis[i][j]==2)
                        cout<<c[i][j];
                    else
                        cout<<'-';
                }
        }
        else
            cout<<"The path doesn't exist."<<endl;
        }
        else
            cout<<"The path doesn't exist."<<endl;

    }
    return 0;
} 