#include <cstdio>
#include <cstring>
using namespace std;

int pi[4000001];

void solve(char *s){
	int l =strlen(s);
	pi[0]=-1;
	int k=-1;
	for(int i=1;i<l;i++){
		while(k>-1&&s[i]!=s[k+1])	k = pi[k];
		if(s[i]==s[k+1])	k++;
		pi[i] = k;
	}
	for(int i=0;i<l;i++)	printf("%d ", pi[i]+1);
	printf("\n");
}

int main()
{
	char s[4000001];
	scanf("%s",s);
	while(strcmp(s,"End"))	{
		solve(s);
		scanf("%s",s);
	}
}