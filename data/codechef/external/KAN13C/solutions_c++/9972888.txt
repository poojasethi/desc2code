#include <stdio.h>
#include <string.h>

const int MAX = 4e6 + 10;
int n, mp[MAX], j;
char s[MAX];

int main(){
    //freopen("in.txt", "r", stdin);
    while (1){
        scanf("%s", s);
        if (strcmp(s, "End") == 0)
            break;
        n = strlen(s);

        j = mp[0] = -1;

        for (int i = 0; i < n; ++i){
            while (j > -1 && s[i] != s[j])
                j = mp[j];
            printf("%d ", mp[i + 1] = ++j);
        }
        printf("\n");
    }
    return 0;
}
