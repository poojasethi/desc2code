#include<bits/stdc++.h>
#include<string.h>
using namespace std;
void clps(char*pat,int m,int*lps)
{
int len=0;
lps[0]=0;
int i=1;
while(i<m)
{
if(pat[i]==pat[len])
{
len++;
lps[i]=len;
i++;
}
else
{
if(len!=0)
{
len=lps[len-1];
}
else
{
lps[i]=0;
i++;
}
}
}
for(i=0;i<m;i++)
cout<<lps[i]<<" ";
cout<<endl;
}
int main()
{
while(1)
{
char pat[4000009];
cin>>pat;
if(strcmp(pat,"End")==0)
break;
long long int m=strlen(pat);
int*lps=new int[m];
clps(pat,m,lps);
}
return 0;
}