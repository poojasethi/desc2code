#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cstring>
#include<bits/stdc++.h>
#define ll long long int
#define MAX 1005
using namespace std;
int main()
{
	int i,j,k,m,flag,flag1,n,t,v,e,src;
        long long int count;
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d%d",&v,&e);
		int A[v],B[v];
		for(i=0;i<v;i++)
		{
			A[i]=0;
			B[i]=0;
		}
		vector<int>p[MAX];//array of vectors
		for(i=0;i<e;i++)
		{
			cin>>m>>n;
			p[m-1].push_back(n-1);
			p[n-1].push_back(m-1);
		}
		vector<int>::iterator it;
		count=0;
		while(1)
		{
			flag1=0;
			for(i=0;i<v;i++)
			{
				it=p[i].begin();
				flag=0;
				if(B[i]==0)
				{
					while(it!=p[i].end())
					{
						if(flag>1)
							break;
						if(B[*it]==0)
						{
							flag++;
						}
						it++;
					}
					if(flag==1)
						A[i]=1;
				}
			}
			for(i=0;i<v;i++)
			{
				if(A[i]==1 && B[i]==0)
				{
					B[i]=1;
					flag1=1;
				}
			}
			if(flag1==0)
				break;
			count++;
		}
		printf("%lld\n",count);
	}
}
