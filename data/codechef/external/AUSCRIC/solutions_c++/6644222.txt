#include <cstdlib>
#include <iostream>
#include <vector>
#include <cstring>

using namespace std;

int main()
{
    int T,n,m,temp1, temp2,count,total,sum;
    scanf("%d",&T);
    while(T--){
          total = 0;     
          scanf("%d%d",&n,&m);
          int A[n+1][n+1];
          memset(A,0,sizeof(A));
          for(int i = 0;i<m;++i){
              scanf("%d%d",&temp1,&temp2);
              A[temp1][temp2] = A[temp2][temp1] = 1;
          }
          vector<int> vec;
          do{
              count = 0;
              for(int i = 1;i<=n;++i){
                  sum = 0;
                  for(int j = 1;j<=n;++j){
                      sum+=A[i][j];
                  }
                  if(sum == 1){
                     ++count;
                     vec.push_back(i);
                  }
              }
              if(count != 0){
                 int size = vec.size();      
                 for(int i = 0;i<size;++i){
                     for(int j = 1;j<=n;++j){
                         if(A[vec[i]][j] == 1){ 
                            A[vec[i]][j] = 0;
                            A[j][vec[i]] = 0;
                            break;
                         }
                     }    
                 }
                 vec.clear();
                 ++total;
              }
          }while(count != 0);                                       
          printf("%d\n",total);    
    }            
    return 0;
}
