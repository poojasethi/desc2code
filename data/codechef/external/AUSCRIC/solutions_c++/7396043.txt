#include <iostream>
#include<bits/stdc++.h>
using namespace std;
typedef pair<int ,int>p;
#define pb push_back
vector<int> v[1001];
vector<p> v2;
int del[1001];
int init[1001];
int main()
{
 int t;
 cin>>t;
 while(t--)
 {
    int n,m;
    cin>>n>>m;
    int a,b;
    for(int i=1;i<=m;i++)
    {
        cin>>a>>b;
        v[a].pb(b);
        init[a]++;
        v[b].pb(a);
        init[b]++;
 
    }//cout<<init[6];
    int throws=0;
    int prevthrows=-1;
    int ctr=0;
    while(throws!=prevthrows)
    {   prevthrows = throws;
        for(int i=1;i<=n;i++)
        {
            if(init[i]==1)
            {  throws++;
              v2.pb(p(v[i][0],i));
              init[i]--;
            }
           // cout<<init[6]<<" ";
        }
 
     if(throws!=prevthrows)ctr++;
     for(int i=0;i<v2.size();i++)
     {   p y = v2[i];
        
        
         init[y.first]--;
          for(int j=0;j<v[y.first].size();j++)
         {
             if(v[y.first][j]==y.second)
             v[y.first].erase(v[y.first].begin()+j);
 
         }
         //cout<<init[6]<<" "; 
     }
    v2.clear();
    }
    cout<<ctr<<endl;v2.clear();//v.clear();
    for(int i=0;i<=1000;i++)
    {del[i]=0;init[i]=0;v[i].clear();}
 }
    return 0;
 
} 