#include<bits/stdc++.h>

using namespace std;

#define si(x) scanf("%d",&x)
#define pri(x) printf("%d",x)
#define sll(x) scanf("%lld",&x)
#define pll(x) printf("%lld",x)
#define sstr(s) scanf("%s",s)
#define pstr(s) printf("%s",s)
#define nl printf("\n")
#define ll long long int
#define M(x,a) memset(x,a,sizeof(x))

int mat[1001][1001],c[1001],n,m;
vector<int> v;

int isone()
{
    int flag=0;
    for(int i=1;i<=n;++i)
    {
	if(c[i]==1)
	{
	    flag=1;
	    v.push_back(i);
	}
    }
    if(flag)
	return 1;
    return 0;
}
int main()
{
    int t;
    si(t);
    while(t--)
    {
	int i,a,b,cc=0;
	si(n); si(m);
	M(mat,0);
	M(c,0);
	for(i=0;i<m;++i)
	{
	    si(a); si(b);
	    mat[a][b]=mat[b][a]=1;
	    c[a]++;
	    c[b]++;
	}
	while( isone() )
	{
	    cc++;
	    for(int j=0;j<v.size();++j)
	    {
		for(int i=1;i<=n;++i)
		{
		    if(mat[v[j]][i]==1)
		    {
			mat[v[j]][i]=mat[i][v[j]]=0;
			c[v[j]]--;
			c[i]--;
		    }
		}
	    }
	    v.clear();
	}
	pri(cc);
	nl;
    }
    return 0;
}
