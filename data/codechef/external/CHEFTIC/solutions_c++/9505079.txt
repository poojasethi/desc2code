#include <bits/stdc++.h>
using namespace std;
 
typedef long long ll;
 
const int MAX = 30;
const ll MOD = 1000000007LL;
 
char M[MAX][MAX];
 
int N, K, t;
 
bool check1(int m, int n)
{
    int i, j;
    bool flag = false;
    int cnt = 0, cnt1 = 0;
    for(i = m ; i < K+m && i < N ; i++)
    {
        if(M[i][n] == 'X')
            cnt++;
        else if(M[i][n] == '.' && cnt1 == 0)
        {
            cnt++;
            cnt1++;
        }
        else
            break;
    }
    if(cnt == K)
        return true;
 
    cnt = 0, cnt1 = 0;
    for(i = n ; i < K+n && i < N ; i++)
    {
        if(M[m][i] == 'X')
            cnt++;
        else if(M[m][i] == '.' && cnt1 == 0)
        {
            cnt++;
            cnt1++;
        }
        else
            break;
    }
    if(cnt == K)
        return true;
 
    cnt = 0 , cnt1 = 0;
 
    i = m, j = n;
    for(; i < m+K &&(i < N && j < N) ; )
    {
        if(M[i][j] == 'X')
            cnt++;
        else if(M[i][j] == '.' && cnt1 == 0)
        {
            cnt++;
            cnt1++;
        }
        else
            break;
        i++, j++;
    }
 
    if(cnt == K)
        return true;
 
    return false;
 
}
 
bool check2(int m , int n)
{
    int i , j , cnt = 0 , cnt1 = 0;
 
//    cout<<m<<" "<<n<<endl;
    i = m, j = n;
    for(; j < N && i >= 0; )
    {
 //       cout<<i<<" "<<j<<" "<<M[i][j]<<endl;
        if(M[i][j] == 'X')
            cnt++;
        else if(M[i][j] == '.' && cnt1 == 0 )
        {
            cnt++;
            cnt1++;
        }
        else
            break;
        i--, j++;
    }
    if(cnt == K)
        return true;
    return false;
}
 
void solve()
{
    int i , j;
    scanf("%d %d", &N, &K);
 
    for(i = 0 ; i < N ; i++)
        cin>>M[i];
    bool flag = false;
 
    for(i = 0 ; i < N ; i++)
    {
        for(j = 0 ; j < N ; j++)
        {
            if(M[i][j] == 'O')
                continue;
            flag = check1(i, j);
            if(flag)
            {
                cout<<"YES\n";
                return;
            }
        }
    }
 
    for(i = N-1 ; i > 0 ; i--)
    {
        for(j = 0 ; j < N ; j++)
        {
            if(M[i][j] == 'O')
                continue;
            flag = check2(i, j);
            if(flag)
            {
                cout<<"YES\n";
                return ;
            }
        }
    }
    cout<<"NO\n";
    return ;
}
 
int main() 
{
    scanf("%d", &t);
    while(t--)
        solve();
    return 0;
}