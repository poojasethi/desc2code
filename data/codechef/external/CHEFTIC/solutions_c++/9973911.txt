#include<bits/stdc++.h>

using namespace std;

int main(){
int t;
cin>>t;
while(t--){
    int n,k,i,j,l,m;
    cin>>n>>k;
    char a[n+1][n+1];
    for(i=1;i<=n;i++){
        for(j=1;j<=n;j++){
            cin>>a[i][j];
        }
    }
    int temp=0;
    for(i=1;i<=n;i++){
        for(j=1;j<=n;j++){
            if(a[i][j]=='.'){
					temp++;
				    for(l=i-1;l>=1;l--){
				    if(a[l][j]=='X') temp++;
				    else break;
				    }

				    for(l=i+1;l<=n;l++){
				    if(a[l][j]=='X') temp++;
				    else break;
				    }

				    if(temp>=k) break;
				    else temp=1;

				    for(m=j-1;m>=1;m--){
				    if(a[i][m]=='X') temp++;
				    else break;
				    }

				    for(m=j+1;m<=n;m++){
				    if(a[i][m]=='X') temp++;
				    else break;
				    }

				    if(temp>=k) break;
				    else temp=1;

				    for(l=i-1,m=j+1;(l>=1 && m<=n);l--,m++){
				    if(a[l][m]=='X') temp++;
				    else break;
				    }

				    for(l=i+1,m=j-1;(l<=n && m>=1);l++,m--){
				    if(a[l][m]=='X') temp++;
				    else break;
				    }

				    if(temp>=k) break;
				     else temp=1;

				    for(l=i-1,m=j-1;(l>=1 && m>=1);l--,m--){
				    if(a[l][m]=='X') temp++;
				    else break;
				    }

				    for(l=i+1,m=j+1;(l<=n && m<=n);l++,m++){
				    if(a[l][m]=='X') temp++;
				    else break;
				    }

				    if(temp>=k) break;
				     else temp=0;
			    }
        }
    }
    if(temp>=k) cout<<"YES"<<endl;
    else cout<<"NO"<<endl;
}


return 0;
}
