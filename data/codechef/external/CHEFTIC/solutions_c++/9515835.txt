    #include <stdio.h>
    #include <iostream>
    using namespace std;
    int main() 
    {
    	int t;
    	int N, K,k=0;
    	char a[100][100] = {0};
    	int output[101];
    	int count = 0;
    	cin >> t;
    	while (t--) {
    		cin >> N >> K;
    		for (int i = 0; i < N; i++)
    			for (int j = 0; j < N; j++)
    				cin >> a[i][j];
    		for (int i = 0; i < N; i++)
    			for (int j = 0; j < N; j++) {
    				if (a[i][j] == '.') {
    					a[i][j] = 'X';
    					count = 0;
    						//Vertical down
    						for (int i1 = i; i1 < N; i1++) {
    							if (a[i1][j] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						//Vertical up
    						for (int i1 = i; i1 >= 0; i1--) {
    							if (a[i1][j] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						if (count >= K+1) {
    							output[k++] = 1;
    							goto label;
    						}
    						else
    							count = 0;
    						//horizontal right
    						for (int j1 = j; j1 < N; j1++) {
    							if (a[i][j1] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						//horizontal left
    						for (int j1 = j; j1 >= 0; j1--) {
    							if (a[i][j1] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						if (count >= K+1) {
    							output[k++] = 1;
    							goto label;
    						}
    						else
    							count = 0;
    						//primary diagonal down
    						for (int i1 = i, j1 = j; i1 < N && j1 < N; i1++,j1++) {
    							if (a[i1][j1] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						//primary diagonal up
    						for (int i1 = i, j1 = j; i1 >=0 && j1 >= 0; i1--, j1--) {
    							if (a[i1][j1] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						if (count >= K+1) {
    							output[k++] = 1;
    							goto label;
    						}
    						else
    							count = 0;
    						//secondary diagonal down
    						for (int i1 = i, j1 = j; i1 < N && j1 >=0; i1++, j1--) {
    							if (a[i1][j1] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						//secondary diagonal up
    						for (int i1 = i, j1 = j; i1 >= 0 && j1 < N; i1--, j1++) {
    							if (a[i1][j1] == 'X') {
    								count++;
    							}
    							else
    								break;
    						}
    						if (count >= K+1) {
    							output[k++] = 1;
    							goto label;
    						}
    						else
    							count = 0;
    						a[i][j] = '.';
    					}
    				}
    		output[k++] = 0;
    	label: 
    		continue;
    	}
    	for (int i = 0; i < k; i++)
    		if(output[i])
    			cout<<"YES"<<endl;
    		else
    			cout<<"NO"<<endl;
    return 0;
    } 