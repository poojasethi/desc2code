#include<bits/stdc++.h>
using namespace std;
int main()
{ short int t;
  cin>>t;
  while(t--)
  { short int n,k,i,j,ans=0,u,v,w,p;
    cin>>n>>k;
    char str[21][21];
    for(i=0;i<n;i++)
  	cin>>str[i];
  	
  	for(i=0;i<n;i++)
  	for(j=0;j<n;j++)
  	if(str[i][j]=='X' && k>1)
	{ for(u=-1;u<=1;u++)
	  for(v=-1;v<=1;v++)
	  if(u!=0 || v!=0)
	  { p=0;
	    for(w=1;w<k;w++)
	    if(i+w*u>=0 && i+w*u<n && j+w*v>=0 && j+w*v<n)
		{ if(str[i+w*u][j+w*v]=='O')
			break;
		  else if(str[i+w*u][j+w*v]=='.' && p==0)
			p=1;
		  else if(str[i+w*u][j+w*v]=='.' && p==1)
		    break;
		  
		  if(w==k-1)
		  ans=1;
		}
		else
		 break;		
	  }
	}
	else if(str[i][j]=='.' && k==1)
  	{ ans=1;
  	  break;
	}
  	
  	if(ans==1)
  	cout<<"YES\n";
  	else
  	cout<<"NO\n";
  }
	 return 0;
}