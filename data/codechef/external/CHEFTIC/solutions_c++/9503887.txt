// reference::; taken from contest solutions
#include<cstdio>
#include<iostream>
using namespace std;
char arr[111][111];
int n,k,flag;
int search_right(int x,int y)
{
    int count=0;
    //if(flag==0)count++;
    while(y<n && arr[x][y]=='X'){count++;y++;}
    if(y<n && arr[x][y]=='.')
    {
    	//cout<<"came right"<<endl;
        count++;
        y++;
        while(y<n && arr[x][y]=='X'){count++;y++;}
    }
    return count;
}
int search_down(int x,int y)
{
    int count=0;
    //if(flag==0)count++;
    while(x<n && arr[x][y]=='X'){count++;x++;}
    if(x<n && arr[x][y]=='.' )
    {
    	//cout<<"came down"<<endl;
        count++;
        x++;
        while(x<n && arr[x][y]=='X'){count++;x++;}
    }
    return count;
}
int search_diagonal(int x,int y)
{
    int count=0;
   // if(flag==0)count++;
    while(x<n && y<n && arr[x][y]=='X'){count++;x++;y++;}
    if(x<n && y<n && arr[x][y]=='.')
    {
    	//<<"came dia"<<endl;
        count++;
        x++;
        y++;
        while(x<n && y<n && arr[x][y]=='X'){count++;x++;y++;}
    }
    return count;
}
int search_left_dia(int x,int y)
{
	int count=0;
    //if(flag==0)count++;
    while(x>=0 && y<n && arr[x][y]=='X'){count++;x--;y++;}
    if(x>=0 && y<n && arr[x][y]=='.' )
    {
    	//<<"came dia"<<endl;
        count++;
        x--;
        y++;
        while(x>=0 && y<n && arr[x][y]=='X'){count++;x--;y++;}
    }
    return count;
}
 
void find_x()
{
    for(int i=0;i<n;i++)
    {
       for(int j=0;j<n;j++)
       {
           if(arr[i][j]=='X' || arr[i][j]=='.')
           {
           	   if(arr[i][j]=='X')flag=1;
           	   if(arr[i][j]=='.')flag=0;
               int count1=search_right(i,j);
               int count2=search_down(i,j);
               int count3=search_diagonal(i,j);
               int count4=search_left_dia(i,j);
               //cout<<count1<<" "<<count2<<" "<<count3<<endl;
                if((count1>=(k)) || (count2>=(k)) || (count3>=(k)) || (count4>=(k)))
                    {
                        cout<<"YES"<<endl;
                        return;
                    }
           }
       }
    }
    cout<<"NO"<<endl;
        return;
}
void find_()
{
        cin>>n>>k;
 
        for(int i=0;i<n;i++)
        {
            for(int j=0;j<n;j++)
            {
                cin>>arr[i][j];
            }
        }
        find_x();
        return;
 
}
int main()
{
    int tc;
    cin>>tc;
    while(tc--)
    {
        find_();
    }
    return 0;
} 