#include <bits/stdc++.h>

using namespace std;

#define lld long long
#define mod 1000000007
#define INF (int)1e9
#define s(n) scanf("%d", &n)
#define sc(n) scanf("%c", &n)
#define sl(n) scanf("%lld", &n)
#define sf(n) scanf("%f", &n)
#define ss(n) scanf("%s", n);
#define all(a) a.begin(), a.end()
#define pii pair<int, int>
#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define sq(x) ((x)*(x))
#define mset(x,v) memset(x,v,sizeof(x))
#define PI 3.1415926535897932384626

int a[200], matchl[200], matchr[200], vis[200];
int g[200][200];

int mbm(int u)
{
    int i, j;
        for (i = 100; i >= 0; i--) {
            if (vis[i] == 1 || !g[u][i])
                continue;
            vis[i] = 1;
            if (matchr[i] < 0 || mbm(matchr[i])) {
                matchr[i] = u;
                matchl[u] = i;
                return 1;
            }
        }
    return 0;
}

int main()
{
    int n, i, k, x;
    s(n);

    for (i = 1; i <= 9; i++)
        s(a[i]);

    for (i = 0; i < n; i++) {
        s(k);
        while (k--) {
            s(x);
            for (int j = 0; j < a[x]; j++)
                g[i][10*x + j] = 1;
        }
    }

    mset(matchl, -1);
    mset(matchr, -1);
    int cnt = 0;

    for (i = 0; i < n; i++) {
        mset(vis, 0);
            if(mbm(i))
                cnt++;
            //cout << matchl[i] << " " << g[i][matchl[i]] << endl;
    }

    if (cnt != n)
        printf("It seems MSG\n");
    else {
        for (i = 0; i < n; i++)
            cout << matchl[i]/10 << " ";
        cout << endl;
    }

    return 0;
}
