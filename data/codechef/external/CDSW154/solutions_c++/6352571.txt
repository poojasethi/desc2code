    #include <bits/stdc++.h>
     
    using namespace std;
     
    int b[100], c[100][9];
    int n;
    int a[100], sum = 0;
    bool flag;
    list<int> answer;
     
    void recursion(int index){
    if(index == n){
    flag = true;
    return;
    }
     
    int temp, l;
    for(int i=0 ; i<b[index] ; i++){
    temp = c[index][i];
    if(a[temp-1]>0){
    a[temp-1]--;
    } else {
    continue;
    }
    recursion(index+1);
    a[temp-1]++;
    l = temp;
    if(flag){
    break;
    }
    }
    if(flag){
    answer.push_back(l);
    return;
    }
    }
     
    int main(){
    flag = false;
    cin>>n;
     
    for(int i=0 ; i<9 ; i++){
    cin>>a[i];
    sum += a[i];
    }
     
    if(n>sum){
    cout<<"It seems MSG"<<endl;
    return 0;
    }
     
    for(int i=0 ; i<n ; i++){
    cin>>b[i];
    for(int k=0 ; k<b[i] ; k++){
    cin>>c[i][k];
    }
    sort(c[i], c[i] + b[i]);
    }
     
    recursion(0);
     
    if(!flag){
    cout<<"It seems MSG"<<endl;
    return 0;
    }
     
    while(!answer.empty()){
    cout<<answer.back()<<" ";
    answer.pop_back();
    }
     
    return 0;
    } 
