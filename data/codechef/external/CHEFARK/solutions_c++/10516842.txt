#include<cstdio>
#include<iostream>
using namespace std;
#define MOD 1000000007
long long int power(long long int a,long long int b)
{
    long long int temp;
    if(b==0)
        return 1;
    temp=power(a,b/2);
    if((b%2)==0)
         return ((temp%MOD)*(temp%MOD))%MOD;
    else
        return (((temp*a)%MOD)*temp)%MOD;
}
long long int euler(long long int x)
{
    return ((power(x,MOD-2))%MOD);
}

int main()
{

   long long int t,zc,temp;
   long long int f[100009];
   long long int s=0,k,n,i;
    scanf("%lld",&t);
    f[0]=1;
    for(i=1;i<=100005;i++)
        f[i]=(f[i-1]*i)%MOD;

    while(t--)

    {
        zc=0;
        s=0;
        scanf("%lld %lld",&n,&k);
        for(i=0;i<n;i++)
            {
                 scanf("%lld",&temp);
                 if(temp==0)
                    zc++;

            }

            for(i=0;i<=min(k,n-zc);i++)
            {
                 if(zc||!((k-i)&1))
                s=(s+(f[n-zc]*euler((f[i]*f[(n-zc)-i])%MOD))%MOD)%MOD;
            }


       printf("%lld\n",s);

    }

}
