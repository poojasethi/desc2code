import java.lang.*;
import java.io.*;
import java.net.*;
import java.util.*;

class Main {

    public static String recRemove(String orig, String remove) {

        String remStart = "<" + remove + ">";
        String remEnd = "</" + remove + ">";

        int end = orig.indexOf(remEnd);
        
        if(end==-1)
           return orig;

        String newString1 = orig.substring(0, end);
        String newString2 = orig.substring(end + remEnd.length(), orig.length());
        int start = newString1.lastIndexOf(remStart);
        newString1 = newString1.substring(0, start);
        orig = newString1 + newString2;

        return recRemove(orig, remove);

    }

    public static String spaceAdjust(String orig) {

        int index = orig.indexOf("  ");
        if(index==-1)
            return orig;

        String newString1 = orig.substring(0, index+1);
        String newString2 = "";
        try {
            newString2 = orig.substring(index+2, orig.length());
        }
        catch (Exception e) {
        }

        orig = newString1 + newString2;

        return spaceAdjust(orig);
    }

    public static void main(String[] args) throws Exception {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        String line;
        line = br.readLine();
        int t = Integer.valueOf(line).intValue();
        StringTokenizer strTok;
        while ((t--) > 0) {
            line = br.readLine();
            strTok = new StringTokenizer(line, "}");
            String orig = strTok.nextToken();
            String remove = strTok.nextToken();

            strTok = new StringTokenizer(remove, ",");
            remove = strTok.nextToken();

            strTok = new StringTokenizer(orig, "{");
            orig = strTok.nextToken();

            orig = spaceAdjust(recRemove(orig, remove)).trim();
            if(orig.length()==0)
                System.out.println("NO TEXT");
            else
                System.out.println(orig);
        }
    }
}