//
//  q1.cpp
//  dec8q
//
//  Created by Deepali Adlakha on 08/12/13.
//
//

#include <iostream>
#include <cstring>
#include <cmath>
using namespace std;
char A[51][51];
char freq[51];
int n,m;
void func(int k)
{
    if(k==0)
        return;
    else{
        
        for(int j=0;j<51;j++){
            freq[j]=0;
        }
        
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++){
                if(A[i][j]=='*'){
                    freq[i]++;
                }
            }
        }
        int minFreq=0;
        for(int i=0;i<n;i++){
            if(freq[i]<freq[minFreq]){
                minFreq=i;
                
            }
        }
        for(int j=0;j<m;j++){
            if(A[minFreq][j]=='*'){
                A[minFreq][j]='.';
            }
            else{
                A[minFreq][j]='*';
            }
            
        }
        func(k-1);
        
        
    }
        
}
int main(){
    int T,k;
    cin>>T;
    for(int i=0;i<T;i++){
        
        cin>>n;
        cin>>m;
        cin>>k;
        
        
        
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++){
                cin>>A[i][j];
            }
        }
        
        func(k);
        int ans=0;
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++){
                if(A[i][j]=='*')
                    ans++;
            }
        }
        cout<<ans<<endl;
        
        
    }
           return 0;
}
