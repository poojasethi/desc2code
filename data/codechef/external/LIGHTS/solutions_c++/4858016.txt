#include<bits/stdc++.h>

using namespace std;

typedef pair<int,int> pii;

int main(void){
	
	int testCases,count,i,j,k,r,c,totalOn;
	char row[101];
	
	std::priority_queue<pii,vector<pii>,std::greater<pii> >heap;
//    std::set<int> myset;
		
	scanf("%d",&testCases);
	while(testCases--){
		
		scanf("%d%d%d",&r,&c,&k);
		totalOn=0;
		
		scanf("%*c");
		for(i=0;i<r;i++){
			
			scanf("%s",row);
			count=0;
			
			for(j=0;j<c;j++){
				
				if(row[j]=='*')
				   count++;	  
				
			}			
			
			heap.push(pii(count,i));
			
			totalOn+=count;
			
		}
		
		for(i=0;i<k;i++){
			
		    pii front=heap.top();
		    
		    totalOn-=front.first;
		    
		    heap.pop();
		    heap.push(pii(c-front.first,front.second));
			
			totalOn+=c-front.first;
			
		}
		
		printf("%d\n",totalOn);
		
		while(heap.size())
          heap.pop();
 		
		
	}	
	
	return 0;
	
}