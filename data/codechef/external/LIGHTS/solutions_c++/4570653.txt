#include<iostream>
#include<string>
#include<cstdio>
#include<vector>
#include<set>
#define mp make_pair
using namespace std;
main()
{
    int i,j,k,t;
    scanf("%d",&t);
    while(t--)
    {
        int n,m,k;
        scanf("%d %d %d",&n,&m,&k);
        string s[n];
        set<pair<int,int> > flip;
        set<pair<int,int> >::iterator it;
        pair<int,int> ele;
        int row[n],sum=0;
        fill(row,row+n,0);
        for(i=0;i<n;i++)
        {
            cin>>s[i];
        }
        for(i=0;i<n;i++)
        {
            for(j=0;j<m;j++)
            {
                if(s[i][j]=='*')
                {
                    row[i]++;
                }
            }
            flip.insert(mp(row[i],i));
        }
        for(i=0;i<k;i++)
        {
            it=flip.begin();
            ele=*it;
            flip.erase(ele);
            ele.first=m-ele.first;
            flip.insert(ele);
        }
        for(it=flip.begin();it!=flip.end();it++)
        {
            ele=*it;
            sum+=ele.first;
        }
        printf("%d\n",sum);
    }
}
