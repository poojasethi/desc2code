#include<stdio.h>
void quick_sort (int *a, int n) 
{
    if (n < 2)
        return;
    int p = a[n/2];
    int *l = a;
    int *r = a+n-1;
    while (l <= r) 
	{
        if (*l<p) 
		{
			l++;
            continue;
        }
        if (*r>p) 
		{
            r--;
            continue;
        }
        int t=*l;
        *l++ = *r;
        *r-- = t;
    }
    quick_sort(a,r-a+1);
    quick_sort(l,a+n-l);
} 
int main()
{
	int t,m,n,k,j,i;
	char ch[52];
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d %d %d",&n,&m,&k);
		int arr[n],cnt=0;
		for(i=0;i<n;i++)
		arr[i]=0;
		for(i=0;i<n;i++)
		{
			scanf("%s",ch);
			for(j=0;j<m;j++)
			if(ch[j]=='*')
			arr[i]++;
		}
		for(i=0;i<k;i++)
		{
			quick_sort(arr,n);
			arr[0]=m-arr[0];
		}
		for(i=0;i<n;i++)
		cnt=cnt+arr[i];
		printf("%d\n",cnt);
	}
	return 0;
}