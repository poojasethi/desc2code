#include<bits/stdc++.h>

using namespace std;

char str[150][150];
int a[1000];

int find_min(int n)
{
    int min_in,mini=10000000;
    for(int i=0;i<n;i++)
    {
        if(a[i]<mini)
            {min_in=i;
            mini=a[i];
            }
    }
    return min_in;
}
int main()
{
    int t,n,m,k,i,c,j,top,counter,sum;

    cin>>t;
    while(t--)
    {
        cin>>n>>m>>k;
        for(i=0;i<n;i++)
        {
            cin>>str[i];
        }
        for(i=0;i<n;i++)
        {
            c=0;
        for(j=0;j<m;j++)
        {
                if(str[i][j]=='*')
                    c++;
        }
        a[i]=c;
        }
        sort(a,a+n);
        top=0;counter=1;
        /*for(i=0;i<n;i++)
            cout<<a[i]<<" ";
        cout<<"\n";*/
        for(i=0;i<k;i++)
        {
            top=find_min(n);
            a[top]=m-a[top];
        }
        sum=0;
        for(i=0;i<n;i++)
            sum+=a[i];
        cout<<sum<<"\n";
    }
    return 0;
}
