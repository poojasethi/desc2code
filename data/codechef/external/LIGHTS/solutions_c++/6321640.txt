//      vikky_codder(Vikash Dubey)
//	I.T. B.Tech. IInd year
//	MNNIT Allahabad 

#include<bits/stdc++.h>
using namespace std;
#define wl(t) while(t--)
#define scan(n)	scanf("%d",&n)
#define scanll(n) scanf("%lld",&n)
#define print(n) printf("%d\n",n)
#define printll(n) printf("%lld\n",n)
#define pb push_back
#define mp make_pair
#define ft first
#define sd second
#define all(x) (x).begin(), (x).end()
#define mem(a,v) memset(a,v,sizeof(a))
#define nline printf("\n")
typedef long long int ll;
typedef vector<int> VI;
typedef vector<ll> VLL;
typedef pair<int, int> PII;
typedef pair<ll, ll> PLL;
typedef vector<vector<int> > matrix;

int main()
{
	int t,n,m,k;
	char str[110];
	int arr[110];
	scan(t);
	wl(t){
		scan(n);
		scan(m);
		scan(k);
		mem(arr,0);
		for(int i=0;i<n;i++){
			scanf("%s",str);
			for(int j=0;j<m;j++){
				if(str[j] == '*')
					arr[i]++;
			}
		}
		for(int i=0;i<k;i++){
			sort(arr,arr+n);
			arr[0]=m-arr[0];
		}
		int ans=0;
		for(int i=0;i<n;i++){
			ans+=arr[i];
		}
		print(ans);
	}
	return 0;
}