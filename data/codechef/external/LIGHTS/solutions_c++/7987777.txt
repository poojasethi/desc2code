#include<iostream>
#include<stdlib.h>
using namespace std;
int cmpfunc (const void * b, const void * a)
{
   return ( *(int*)a - *(int*)b );
}
char a[51][51];

int main()
{
    int t,n,m,k,i,j,val,pos;
    cin>>t;
    while(t--)
    {
        int s[52]={0};
        cin>>n>>m>>k;
            for(i=0;i<n;i++)
            {
                for(j=0;j<m;j++)
                {
                   cin>>a[i][j];
                   if(a[i][j]=='*')
                        s[i]++;
                }
            }

            for(j=0;j<k;j++)
            {
                val=s[0];
                pos=0;
                for(i=1;i<n;i++)
                {
                   if(val>s[i])
                   {
                       val=s[i];
                       pos=i;
                   }
                }
                s[pos]=m-s[pos];
            }
            val=0;
            for(i=0;i<n;i++)
            {
                val=val+s[i];
            }
            cout<<(val)<<"\n";

    }
    return 0;
}
