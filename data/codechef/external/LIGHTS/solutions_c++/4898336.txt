
#include <iostream>

using namespace std;

int main(){
    short t;
    int N, ans, K, M;
    register int i, j, k;

    cin >> t;
    while(t--){
        ans=0;
        cin >> N >> M >> K;
        char a[N][M];
        int cnt[N], smallest;

        for(i=0; i<N; i++)
            cnt[i]=0;

        for(i=0; i<N; i++){              // iNPUT
            for(j=0; j<M; j++){
                cin >> a[i][j];
                if(a[i][j]=='*')
                    cnt[i]+=1;

            }
        }

        while(K--){
            smallest=0;
            for(i=1; i<N; i++){
                if(cnt[smallest]>cnt[i])
                    smallest=i;
            }
            cnt[smallest]=M-cnt[smallest];
        }

        for(i=0; i<N; i++)
            ans=ans+cnt[i];

        cout << ans << '\n';
    }// Test cases.


    return 0;
}
