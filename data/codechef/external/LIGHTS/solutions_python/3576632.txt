t=input()
def min2(l,n):
    min1=100000
    index=0
    j=0
    while j<n:
        if(l[j]<min1):
            min1=l[j]
            index=j
        j+=1    
    return index        
while t:
    t-=1
    l=[]
    n,m,k=[int(x) for x in raw_input().split()]
    d=n
    while d:
        d-=1
        y=list(raw_input())
        l+=[y.count('*')]
    for p in range(k):
        i=min(l)
        y=l.index(i)
        i=y
       # if(l[i]<m-l[i]
        l[i]=m-l[i]
    print sum(l)
    
        
