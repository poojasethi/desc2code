cases = int(raw_input())
while cases:
    cases -= 1
    on = 0
    l = []
    n,m,k = [int(x) for x in raw_input().split()]
    for i in range(n):
        st = raw_input()
        l.append(st.count('*'))
    while k:
        k -= 1
        mn = min(l)
        idx = l.index(mn)
        l[idx] = m-mn
    on = sum(l)
    print on