#include <bits/stdc++.h>
using namespace std;

#define double long double

int _i;
vector<double> f(string s) {
	if(s[_i] == 'x') {
		vector<double> A(2); A[0] = 0.; A[1] = 1.;
		_i++;
		return A;
	}
	int curr = _i;
	_i++;
	vector<double> a = f(s);
	vector<double> b = f(s);
	if(s[curr] == 'M') {
		vector<double> C(a.size() + b.size() -1, 0.);
		for(int i=0; i<a.size(); i++)
			for(int j=0; j<b.size(); j++)
				C[i+j] += a[i]*b[j];
		return C;
	}
	vector<double> C(a.size()+b.size()-1, 0.);
	for(int i=0; i<a.size(); i++) 
		C[i] += a[i];
	for(int i=0; i<b.size(); i++) 
		C[i] += b[i];
		
	for(int i=0; i<a.size(); i++)
		for(int j=0; j<b.size(); j++)
			C[i+j] -= a[i]*b[j];
			
	return C;
}

int main() {
	int t;
	cin >> t;
	while(t--) {
		string s;
		cin >> s;
		_i = 0;
		vector<double> A = f(s);
		double ans = 1.;
		for(int i=0; i<A.size(); i++)
			ans -= A[i] / (i+1);
		cout << setprecision(10) << ans << endl;
	}
	return 0;
}