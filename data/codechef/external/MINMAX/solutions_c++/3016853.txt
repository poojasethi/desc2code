#include<iostream>
#include<stdio.h>
#include<climits>
#include<string.h>
#include<math.h>
#include<algorithm>
#include<map>
#include<vector>
#include<queue>

using namespace std;

char str[200];
int pos;

long long *fun()
{
    if(str[pos]=='x')
    {
        long long *arr=new long long[205];
        for(int i=0;i<205;i++)
            arr[i]=0;
        arr[1]=1;
        return arr;
    }
    else if(str[pos]=='M')
    {
        pos++;
        long long *arr1=fun();
        pos++;
        long long *arr2=fun();
        long long *arr=new long long[205];
        for(int i=0;i<200;i++)
            arr[i]=0;
        for(int i=0;i<100;i++)
        {
            for(int j=0;j<100;j++)
            {
                arr[i+j]+=arr1[i]*arr2[j];
            }
        }
        return arr;
    }
    else if(str[pos]=='m')
    {
        pos++;
        long long *arr1=fun();
        pos++;
        long long *arr2=fun();
        long long *arr=new long long[205];
        for(int i=0;i<200;i++)
            arr[i]=0;
        for(int i=0;i<100;i++)
        {
            arr[i]=arr1[i]+arr2[i];
        }
        for(int i=0;i<100;i++)
        {
            for(int j=0;j<100;j++)
            {
                arr[i+j]-=arr1[i]*arr2[j];
            }
        }
        return arr;
    }
}


int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        cin>>str;
        pos=0;
        long long *arr=fun();
        for(int i=0;i<200;i++)
            arr[i]*=i;
        long double ans=0;
        for(int i=1;i<200;i++)
            ans+=(long double)arr[i]/(i+1);
        cout<<ans<<"\n";
    }
    return 0;
}
