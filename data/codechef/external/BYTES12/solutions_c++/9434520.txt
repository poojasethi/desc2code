#include<bits/stdc++.h>
using namespace std;
#define ll long long int
bool p[1000010]={0};
vector< set<ll> >v(1000010);
ll dp[1000010];
void sieve()
{
	p[0]=p[1]=1;
	for(ll i=2;i<=1000000;++i)
	{
		if(p[i]==0)
		{
			for(ll j=2;i*j<=1000000;++j)	
			{
				p[i*j]=1;
				v[i*j].insert(i);
			}
		}
	}
}
ll func(ll n)
{
	if(p[n]==0)
		return 1;
	if(dp[n]!=-1)
		return dp[n];
	set<ll>::iterator it;
	ll t=999999;
	for(it=v[n].begin();it!=v[n].end();++it)
		t=min(t,1+func(n-(*it)));
	dp[n]=t;
	return dp[n];
}
int main()
{
	sieve();
	ll i,n;
	cin>>n;
	for(i=1;i<=1000000;++i)
		dp[i]=-1;
	dp[1]=1;
	dp[2]=1;
	dp[3]=1;
	for(i=4;i<=n;++i)
		dp[i]=func(i);
	cout<<dp[n];
	return 0;
}