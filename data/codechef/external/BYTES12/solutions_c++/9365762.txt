#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define ff first
#define ss second
#define pb push_back
#define mp make_pair
#define sd(x) scanf("%d",&x)
#define inf 100001000
int n;
vector<int>primes;
bool mark[1000005];
vector<int>temp[1000005];
int dp[1000005];
void seive(){
  memset(mark,false,sizeof(mark));
  for(int i=2;i<=n;i++){
    if(!mark[i]){
     // cout<<i<<endl;
      temp[i].pb(i);
      primes.pb(i);
      int j=i;
      int cnt=2;
      while((j*cnt)<=n){
        mark[j*cnt]=true;
        temp[j*cnt].pb(i);
        ++cnt;
      }
    }
  }
}
int solve(int x){
  dp[2]=1;
  dp[0]=0;
  dp[1]=inf;
  for(int i=3;i<=x;i++){
    dp[i]=inf;
    for(int j=0;j<temp[i].size();j++){
      dp[i]=min(dp[i],dp[i-temp[i][j]]+1);
    }
  }
  return dp[x];
}  
int main(){
  sd(n);
  seive();
  cout<<solve(n);
  return 0;
}