#include<cstdio>
#include<vector>
using namespace std;
int main()
{
	int n,q,i,j,k,admin,x,y,v;
	scanf("%d %d",&n,&q);
	vector<int> parent(n,0);
	scanf("%d",&admin);
	for(i=1;i<n;i++)
	{
		scanf("%d %d",&x,&y);
		parent[y]=x;
	}
	while(q--)
	{
		scanf("%d %d",&x,&y);
		v=x;
		j=0;		
		while(v!=admin)
		{
			v=parent[v];
			if(v==y)
			{
				j=1;
				break;
			}
		}
		v=y;
		if(!j)
		{		
			while(v!=admin)
			{
				v=parent[v];
				if(v==x&&j==0)
				{
					j=2;
					break;
				}
			}
		}
		if(j==0)
			printf("0\n");
		if(j==1)
			printf("1\n");
		if(j==2)
			printf("-1\n");
	}
	return 0;
}
