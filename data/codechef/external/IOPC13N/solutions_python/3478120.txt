/*
 * IOPC13N.cpp
 *
 *  Created on: 27-Feb-2014
 *      Author: r3gz3n
 */


#include <iostream>
#include <cstdio>

using namespace std;
const int MAX = 100005;
int a[MAX];

void init(int n)
{
	for(int i = 0;i < n;++i)
		a[i] = -1;
}

int root(int x, int y)
{
	while(a[x] != -1)
	{
		if(a[x] == y)
			return 1;
		x = a[x];
	}
	return 0;
}

inline int read()
{
int t=0;
char ch;
ch=getchar_unlocked();
while(ch<'0'||ch>'9')
ch=getchar_unlocked();
while(ch<='9'&& ch>='0')
{
t=(t<<3)+(t<<1)+ch-'0';
ch=getchar_unlocked();
}
return t;
}

int main()
{
	int n, q, u, x, y;
	n = read();q=read();u=read();
	init(n);
	a[u] = -1;
	for(int i = 1;i < n;++i)
	{
		x = read();y = read();
		a[y] = x;
	}
	for(;q;--q)
	{
		x = read();y = read();
		if (root(x, y))
			printf("1\n");
		else if (root(y, x))
			printf("-1\n");
		else
			printf("0\n");
	}
	return 0;
}

