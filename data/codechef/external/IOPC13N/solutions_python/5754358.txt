#include<bits/stdc++.h>
#define FOR(i,a,b) for(int i=a;i<b;i++)
#define PB push_back
#define S(n)	scanf("%d",&n)
#define Sd(n)	scanf("%lf",&n)
#define P(n)	printf("%d\n",n)
#define ll long long
using namespace std;

int parent[100005];
bool inPath(int root, int x)
{
	if(parent[x]==root)
		return true;
	if(parent[x]==-1)
		return false;
	inPath(root, parent[x]);
}
int main()
{
	int n,q,u,temp, temp1;
	//cin>>n>>q>>u;
	S(n);S(q);S(u);
	FOR(i,0,100005)
		parent[i]=-1;
	FOR(i,0,n-1)
	{
		//cin>>temp>>temp1;
		S(temp);S(temp1);
		parent[temp1]=temp;
	}
	FOR(i,0,q)
	{
		//cin>>temp>>temp1;
		S(temp);S(temp1);
		
		if(inPath(temp, temp1))
			P(-1);
		else if(inPath(temp1, temp))
			P(1);
		else
			P(0);
	}
	return 0;
}