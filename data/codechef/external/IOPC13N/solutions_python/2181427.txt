#include<stdio.h>
int call_maybe(int,int,int,int *);
int main()
{
    int n,q,u,i,x,y;
    scanf("%d%d",&n,&q);
    int arr[n];
    scanf("%d",&u);
    arr[u]=u;
    while(n-->1)
    {
        scanf("%d%d",&x,&y);
        arr[y]=x;
    }
      for(i=0;i<q;i++)
       {
        scanf("%d%d",&x,&y);
        if(call_maybe(x,y,u,arr))
            printf("1\n");
        else if(call_maybe(y,x,u,arr))
          printf("-1\n");
          else
            printf("0\n");
       }
       return 0;
}
int call_maybe(int x,int y,int u,int *arr)
{
    while((x!=u)&&(x!=y))
    {
        x=arr[x];
    }
    if(x==y)
        return 1;
    else
        return 0;
}
