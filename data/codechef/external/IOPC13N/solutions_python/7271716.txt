#include<bits/stdc++.h>
int par[100002];
int f(int x,int y)
{
  int xr,yr;
  if(y==x) return 1;
  if(y==-1 || par[y]==-1) return -1;
  if(x==par[y]) return 1;
  return f(x,par[y]);
}
int main()
{
int i,j,k,m,n,q,u,x,y,p,z;int b,c;
scanf("%d%d",&n,&q);

scanf("%d",&u);
par[u]=-1;
for(i=0;i<n-1;i++)
{
scanf("%d%d",&x,&y);
par[y]=x;
}
while(q--)
{
scanf("%d%d",&x,&y);
b=f(y,x);
if(b==1) {printf("1\n");continue;}
c=f(x,y);if(c==1) {printf("-1\n");continue;}
printf("0\n");
}

return 0;}
