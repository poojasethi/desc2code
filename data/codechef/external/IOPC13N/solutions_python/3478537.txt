#include<stdio.h>
int check(long e,long f,long *a,long n )
{	int r=0;
	long i,m,o;
	m=e;o=f;
	while(a[m]!=m)
	{	
		if(a[m]==o)
		return 1;
		else
		m=a[m];
	}
	while(a[f]!=f)
	{
		if(a[f]==e)
		{
			return -1;
		}
		else
		f=a[f];
	}
	return r;
}
	
int main()
{
	long n,q,i;
	scanf("%ld%ld",&n,&q);
	long a[n],b,c,k,p,g;
	scanf("%ld",&k);
	a[k]=k;
	for(i=1;i<n;i++)
	{
		scanf("%ld%ld",&b,&c);
		a[c]=b;
	}
	/*for(i=0;i<n;i++)
	{
		printf("%ld",a[i]);
	}
	*/
	for(i=0;i<q;i++)
	{	int y;
		scanf("%ld%ld",&p,&g);
		y=check(p,g,a,n);
		printf("%d\n",y);
	}
	
	return 0;
}
		
	
