/*
 * IOPC13N.cpp
 *
 *  Created on: 27-Feb-2014
 *      Author: r3gz3n
 */


#include <iostream>
#include <cstdio>

using namespace std;
const int MAX = 100005;
int a[MAX];

void init(int n)
{
	for(int i = 0;i < n;++i)
		a[i] = -1;
}

int root(int x, int y)
{
	while(a[x] != -1)
	{
		if(a[x] == y)
			return 1;
		x = a[x];
	}
	return 0;
}

int main()
{
	int n, q, u, x, y;
	scanf("%d%d%d", &n, &q, &u);
	init(n);
	a[u] = -1;
	for(int i = 1;i < n;++i)
	{
		scanf("%d%d", &x, &y);
		a[y] = x;
	}
	for(;q;--q)
	{
		scanf("%d%d", &x, &y);
		if (root(x, y))
			printf("1\n");
		else if (root(y, x))
			printf("-1\n");
		else
			printf("0\n");
	}
	return 0;
}

