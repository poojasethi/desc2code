#include <bits/stdc++.h>
using namespace std;
#define momentai(x) (cout<<#x<<" := "<<x<<endl)
#define endl '\n'

int N,Q,U,tt;
vector<int> graph[100007];
int l[100007],r[100007];

void solve(int n) {
	l[n]=tt++;
	for (int i : graph[n]) {
		if (l[i]) continue;
		solve(i);
	}
	r[n]=tt-1;
}

int main() {
	ios::sync_with_stdio(0);
	cin.tie(NULL);
	int i,j,x,y;
	memset(l,0,sizeof(l));
	memset(r,0,sizeof(r));
	cin>>N>>Q>>U;
	for (i=1; i<N; ++i) {
		cin>>x>>y;
		graph[x].push_back(y);
		graph[y].push_back(x);
	}
	tt=1; solve(U);
	for (i=0; i<Q; ++i) {
		cin>>x>>y;
		if (l[y]<l[x]&&r[x]<=r[y]) cout<<1<<endl;
		else if (l[x]<l[y]&&r[y]<=r[x]) cout<<-1<<endl;
		else cout<<0<<endl;
	}
	return 0;
}


























