#include<iostream>
#include<stdio.h>
using namespace std;
int a[100005]={0};
int dfs(int x,int y)
{
    while(1)
    {
        if(a[x]==y)
            return 1;
        if(a[x]==-1)
            return 0;
        x=a[x];
    }
}
int main(){
    int n,q,u,x,y;
    scanf("%d %d %d",&n,&q,&u);
    a[u]=-1;
    for(int i=1;i<=n-1;i++)
    {
        scanf("%d %d",&x,&y);
        a[y]=x;
    }
    for(int i=1;i<=q;i++)
    {
        scanf("%d %d",&x,&y);
        if(dfs(x,y)==1)
        {
            printf("1\n");
            continue;
        }
        if(dfs(y,x)==1)
        {
            printf("-1\n");
            continue;
        }
        printf("0\n");
    }
    return 0;
}