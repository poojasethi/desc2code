#include<bits/stdc++.h>

using namespace std;
typedef long long int ll;
typedef vector<int> vi;
typedef vector<vi> vvi;
typedef pair<int,int> ii;
typedef vector<ii> vii;

#define all(x) (x).begin(),(x).end()
#define pb push_back
#define mp make_pair
#define tr(c,it) for(typeof((c).begin()) it=(c).begin();it!=(c).end();it++)
#define rd(x) scanf("%lld",&x)
#define wr(x) printf("%lld\n",x)
#define rep(i,a,b) for(i=a;i<b;i++)
#define pi 3.141592653589793238462643383279

ll admin;
ll parent[100005];

bool dfs(ll x,ll y)
{
    if(x==admin)
        return false;

    else if(parent[x]==y)
        return true;

    else
        return dfs(parent[x],y);
}

int main()
{
    ll n,q,x,y;
    rd(n);
    rd(q);
    rd(admin);
    n--;
    while(n--)
    {
        rd(x);
        rd(y);
        parent[y]=x;
    }

    while(q--)
    {
        rd(x);
        rd(y);
        if(x==y||dfs(x,y))
            printf("1\n");
        else if(dfs(y,x))
            printf("-1\n");
        else
            printf("0\n");
    }

    return 0;
}
