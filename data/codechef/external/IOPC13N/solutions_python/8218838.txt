#include <bits/stdc++.h>
using namespace std;
#define momentai(x) (cout<<#x<<" := "<<x<<endl)
#define endl '\n'

int N,Q,U,tt;
vector<int> graph[100007];
int l[100007],r[100007];

void solve(int p) {
	l[p]=tt++;
	for (int i : graph[p]) {
		if (l[i]) continue;
		solve(i);
	}
	r[p]=tt-1;
}

int main() {
	ios::sync_with_stdio(0);
	cin.tie(NULL);
	int i,j,y,x;
	cin>>N>>Q>>U;
	for (i=1; i<N; ++i) {
		cin>>x>>y;
		graph[y].push_back(x);
		graph[x].push_back(y);
	}
	memset(l,0,sizeof(l));
	tt=1; solve(U);
	while (Q--) {
		cin>>x>>y; 
		if (l[y]<l[x]&&r[y]>=r[x]) cout<<1<<endl;
		else if (l[x]<l[y]&&r[x]>=r[y]) cout<<-1<<endl;
		else cout<<0<<endl;
	}
	return 0;
}


























