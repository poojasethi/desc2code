# include<stdio.h>
# include<stdlib.h>
# define max 100001

int main(){
	int n,u,q,x,y,tmp,res;
	scanf("%d %d",&n,&q);
	int node[n];
	scanf("%d",&u);
	node[u]=-1;
	n--;
	while(n--){
		scanf("%d %d",&x,&y);
		node[y]=x;
	}
	while(q--){
		scanf("%d %d",&x,&y);
		tmp=x;
		res=0;
		while(tmp!=-1){
			if(tmp==y){
				res=1;
				break;
			}
			tmp=node[tmp];
		}
		if(res==0){
			tmp=y;
			while(tmp!=-1){
				if(tmp==x){
					res=-1;
					break;
				}
				tmp=node[tmp];
			}
		}
		printf("%d\n",res);
	}
	return 0;
}