# include<stdio.h>
# define gc getchar_unlocked
int scan(){
	int n=0;
	char ch=gc();
	while(ch<'0' || ch>'9')
		ch=gc();
	while(ch>='0' && ch<='9'){
		n=n*10+ch-'0';
		ch=gc();
	}
	return n;
}
int main(){
	int n,u,q,x,y,tmp,res;
	n=scan();
	q=scan();//scanf("%d %d",&n,&q);
	int node[n];
	u=scan();//scanf("%d",&u);
	node[u]=-1;
	n--;
	while(n--){
		x=scan();
		y=scan();//scanf("%d %d",&x,&y);
		node[y]=x;
	}
	while(q--){
		x=scan();//
		y=scan();//scanf("%d %d",&x,&y);
		tmp=x;
		res=0;
		while(tmp!=-1){
			if(tmp==y){
				res=1;
				break;
			}
			tmp=node[tmp];
		}
		if(res==0){
			tmp=y;
			while(tmp!=-1){
				if(tmp==x){
					res=-1;
					break;
				}
				tmp=node[tmp];
			}
		}
		printf("%d\n",res);
	}
	return 0;
}