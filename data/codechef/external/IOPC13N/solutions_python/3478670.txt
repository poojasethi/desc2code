#include<stdio.h>
int main()
{
	int n,q,x2,y2,u,x,y,i,x1,y1,f=0,p;
	int arr[100001];
	scanf("%d",&n);
	scanf("%d",&q);
    scanf("%d",&u);
    arr[u]=u;
for(i=1;i<=n-1;i++)
{
	scanf("%d",&x);
	scanf("%d",&y);
	arr[y]=x;
}
//scanf("%d",&n);
while(q--)
	{
	scanf("%d",&x1);
	scanf("%d",&y1);
x2=x1,y2=y1;
	while(1)
	{
		p=arr[x1];
		 if(p==y1)
		{
			printf("1\n");
			break;
		}
		else if(p==u)
		{
			
			f=1;
			break;
		
		
		}
		x1=p;
	}	
	if(f==1)
	{
		x1=x2;
	while(1)
	{
		p=arr[y1];
		 if(p==x1)
		{
			printf("-1\n");
			break;
		}
		else if(p==u)
		{
			
			//f=1;
			printf("0\n");
			break;
		
		
		}
		y1=p;
	}		
	//	if(f==1)
	//	printf("0)
	f=0;
	}
	}
	return 0;
}