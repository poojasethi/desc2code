#include<stdio.h>
#include<vector>
using namespace std;
typedef pair<int,int> ii;
typedef vector<ii> vii ;
#define TRvii(c,it) \
    for(vii::iterator it= (c).begin() ; it != (c).end() ; it++)
int visited[101010],intime[101010],outtime[101010],count = 0 ;
vector<vii> AdjList ;
vector<vii>::iterator it;

void dfs(int u){
    intime[u] =  count++ ;
    if(visited[u] == 1) return ;
    visited[u] = 1 ;
    TRvii(AdjList[u],it){
        int v = it->first ,wt = it->second ;
        if(visited[v] == 0) dfs(v);
    }
    outtime[u] = count ++ ;
    return ;
}

int main(){
    int admin,n,q,i,u,v ;
    scanf("%d %d",&n,&q);
    scanf("%d",&admin);
    AdjList.resize(n);
    for(i=0;i<n-1;i++){
        scanf("%d %d",&u,&v);
        AdjList[u].push_back(ii(v,1));
    }
    dfs(admin);
    for(i=0;i<q;i++){
        scanf("%d %d",&u,&v);
        if(intime[u] < intime[v] && outtime[u] > outtime[v]) printf("-1\n");
        else if(intime[u] > intime[v] && outtime[u] < outtime[v]) printf("1\n");
        else printf("0\n");
    }
return 0;
}
