#include<cstdio>
#include<vector>
using namespace std;
#define FOR(i, a, b) for(int i=a; i<b; ++i)
#define pb push_back
#define size(v) (int)((v).size())
#define VI vector<int>
const int N=100007;
int n, q, r, x, y, res; VI adj[N];
int start[N], end[N], tim=0;
void dfs(int v)
{
   start[v] = tim++;
   int k=size(adj[v]);
   FOR(i, 0, k) dfs(adj[v][i]);
   end[v]=tim++;
}
int main()
{
   scanf("%d%d%d", &n, &q, &r); --n;
   while(n--)
   {
      scanf("%d%d", &x, &y);
      adj[x].pb(y);
   }
   dfs(r);
   while(q--)
   {
      scanf("%d%d", &x, &y);
      if((start[x] < start[y]) and (end[x] > end[y])) res = -1;
      else if((start[x] > start[y]) and (end[x] < end[y])) res = 1;
      else res = 0;
      printf("%d\n", res);
   }
}