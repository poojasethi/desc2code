#include <cstdio>
#include <cstdlib>
#include <iostream>
#include <cstring>
using namespace std;

bool can_send_msg(int x,int y,int u,int a[])
{
	while(a[x]!=u && a[x]!=y)
	{
		x=a[x];
	}
	if(a[x]==u && a[x]!=y)
		return 0;
	else
		return 1;
}

int main()
{
	int n,q;
	int u,x,y;
	scanf("%d %d",&n,&q);
	int a[n+1];
	scanf("%d",&u);
	a[u]=u;
	for(int i=1;i<n;i++)
	{
		scanf("%d %d",&x,&y);
		a[y]=x;
	}
	for(int i=0;i<q;i++)
	{
		scanf("%d %d",&x,&y);
		if(can_send_msg(x,y,u,a))
			printf("1\n");
		else if(can_send_msg(y,x,u,a))
			printf("-1\n");
		else
			printf("0\n");
	}
	return 0;
}