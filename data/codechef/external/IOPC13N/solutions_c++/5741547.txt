//http://www.codechef.com/problems/IOPC13N

#include <stdio.h>
#include <stdlib.h>

using namespace std;

#define MAXN 100002

int p[MAXN];
int n, q;
int u;

int main()
{
	scanf("%d %d\n", &n, &q);
	scanf("%d\n", &u);
	for(int a = 0; a<n-1; a++)
	{
		int i, j;
		scanf("%d %d\n", &i, &j);
		p[j] = i;
	}
	int k=0;
	while(k++<q)
	{
		bool found = false;
		int x, y;
		scanf("%d %d", &x, &y);
		int i = x;
		while(i!=u)
		{
			if(i == y)
			{
				found = true;
				break;
			}
			i = p[i];
		}
		if(i==u && y==u)
			found = true;
		if(found)
			printf("1\n");
		else
		{
			int i = y;
			while(i!=u)
			{
				if(i == x)
				{
					found = true;
					break;
				}
				i = p[i];
			}
			if(i==u && x==u)
				found = true;
			if(found)
				printf("-1\n");
			else
				printf("0\n");
		}

	}

	return 0;
}