#include <cstdio>
#include <vector>
using namespace std;

vector <int> adj[100000];
bool visited[100000];
int start[100000],end[100000];
int cnt=0;

void dfs(int vertex)
{
	visited[vertex]=true;
	start[vertex]=cnt++;
	for(int i=0;i<adj[vertex].size();i++)
		if(!visited[adj[vertex][i]])
			dfs(adj[vertex][i]);
	end[vertex]=cnt++;
}

int query(int x,int y)
{
	if(start[y]<start[x] && end[y]>end[x])
		return 1;
	else if(start[x]<start[y] && end[x]>end[y])
		return -1;
	return 0;
}

int main()
{
	int users,queries;
	int admin,x,y;
	scanf("%d %d",&users,&queries);
	scanf("%d",&admin);
	for(int i=0;i<users;i++)
		visited[i]=false;
	for(int i=1;i<users;i++)
	{
		scanf("%d %d",&x,&y);
		adj[x].push_back(y);
		adj[y].push_back(x);
	}
	dfs(admin);
	for(int i=0;i<queries;i++)
	{
		scanf("%d %d",&x,&y);
		printf("%d\n",query(x,y));
	}
	return 0;
}