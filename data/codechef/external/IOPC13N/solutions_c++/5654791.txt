#include<bits/stdc++.h>
using namespace std;
int a[100001];
inline int scan(){
    char c = getchar_unlocked();
    int x = 0;
    while(c<'0'||c>'9'){
        c=getchar_unlocked();
    }
    while(c>='0'&&c<='9'){
        x=(x<<1)+(x<<3)+c-'0';
        c=getchar_unlocked();
    }
    return x;
}

int dfs(int x, int y){
    if(y==-1) return 0;
    if(x==y) return 1;
    else return dfs(x,a[y]);
}

int main(){
    int n,q,admin;
    n=scan();
    q=scan();
    admin=scan();
   
    a[admin]=-1;
    for(int i=1; i<n; i++){
        int x,y;
        x=scan();
        y=scan();
        
        a[y]=x;
    }
    while(q--){
        int p,q,x,y,g=0;
        p=scan();
        q=scan();
        int f=dfs(q,p);
        if(f==1){
            printf("1\n");
        }
        else{
            f=dfs(p,q);
            if(f==1){
                printf("-1\n");
            }
            else printf("0\n");
        }
    }
}   