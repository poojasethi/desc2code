# include <stdio.h>
#include <set>
# define limit (long int)1e5

using namespace std;
typedef set<long int>::iterator its;
set<long int> adj[limit];
long int s[limit],f[limit];
char mark[limit];
long int U,Q,N,timer;
void inp()
{
	long int i,x,y;
	scanf("%ld%ld",&N,&Q);
	scanf("%ld",&U);
	for(i=1;i<N;i++)
	{
		scanf("%ld%ld",&x,&y);
		adj[x].insert(y);
	}
}
void DFS(long int sr)
{// sr is already marked
	s[sr]=timer++;
	//printf("%ld : s = %ld \n",sr,s[sr]);
	its it;
	for(it=adj[sr].begin();it!=adj[sr].end();it++)
		if(!mark[*it])
		{
			mark[*it]=1;
			DFS(*it);
		}
	f[sr]=timer++;
	//printf("%ld : f = %ld\n",sr,f[sr]);
}
int ans(long int x,long int y)
{
	if(s[x]>s[y]&&f[x]<f[y])
		return 1;
	if((s[x]<s[y]&&f[x]>f[y]))
		return -1;
	return 0;
}
int main()
{
	inp();
	long int i,x,y;
	mark[U]=1;
	DFS(U);
	for(i=0;i<Q;i++)
	{
		scanf("%ld%ld",&x,&y);
		printf("%d\n",ans(x,y));
	}
	return 0;
}
