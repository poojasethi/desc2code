#include <cstdio>
#include <iostream>
#include <algorithm>
using namespace std;
int start[31],end[31];
int event[31];
int main()
{
  int t,k,m,D,x,y,maxi,ans;
  scanf("%d",&t);
  for(int i=1;i<=t;i++)
  {
    scanf("%d%d",&k,&m);
    maxi=-1;
    for(int j=1;j<=k;j++)
    {
        scanf("%d",&start[j]);
        scanf("%d",&end[j]);
        maxi=max(maxi,end[j]);
    }
    for(int j=1;j<=31;j++)
        event[j]=0;
     for(int j=1;j<=m;j++)
     {
       scanf("%d",&D);
      while(D--)
       {
       scanf("%d%d",&x,&y);
       event[x]+=y;
       }
     }
    int T[maxi+1];
    for(int j=0;j<=maxi;j++)
        T[j]=0;
    for(int j=1;j<=k;j++)
    {
      for(int p=start[j];p<=end[j];p++)
      {
        T[p]+=event[j];
      }
    }
    int maxii=T[0];
    for(int j=1;j<=maxi;j++)
    {
       maxii=max(maxii,T[j]);
    }
    printf("Case %d: %d\n",i,maxii);
  }
  return 0;
}
