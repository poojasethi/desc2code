#include <cstdio>
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

struct event{
    int id;
    int start;
    int end;
};

bool compare(event a, event b){
    return (a.end<=b.end);
}

int main(){
    int N, K, M, a, d, count[30], b;
    scanf("%d", &N);
    for(int t=1; t<=N; t++){
        //cout<<"C";
        for(int i=0;i<30; i++){
            count[i]=0;
        }
        scanf("%d%d", &K, &M);
        //cout<<"M  :"<<M;
        //event temp1;
        //temp1.id=0; temp1.start=0; temp1.end=0;
        vector<event>events;
        event temp;
        for(int i=0; i<K; i++){
            temp.id= i+1;
            scanf("%d", &(temp.start));
            scanf("%d", &(temp.end));
            events.push_back(temp);
        }
        //cout<<"b";
        for(int i=0; i<M; i++){
            scanf("%d", &d);
           // cout<<d<<endl;
            while(d>0){
                scanf("%d", &a);
                scanf("%d", &b);
                //cout<<"a "<<a<<" b:"<<b<<"  beforE:  "<<count[a]<<"  ";
                count[a-1] = count[a-1]+b;
                //cout<<"c"<<count[a]<<endl;
                d--;
            }
            //cout<<"D"<<M;
        }
    //    cout<<"a";
       /* for(int i=0; i<K; i++)
      /      cout<<"count[i]:  "<<count[i]<<endl;
            */
        sort(events.begin(), events.end(), compare);
        
    /*    for(int i=0; i<K; i++)
            cout<<"events[i]:  "<<events[i].id<<endl;
     */ int maxi=0;
        for(int i=0; i<K; i++){
            int counter=0;
            counter+=count[events[i].id-1];
            for(int j=i+1; j<K; j++){
                if(events[j].start<=events[i].end && events[j].end>=events[i].end)
                    counter+=count[events[j].id-1];
            }
            maxi=max(maxi, counter);
        }
        cout<<"Case "<<t<<": "<<maxi<<endl;

    }

}
