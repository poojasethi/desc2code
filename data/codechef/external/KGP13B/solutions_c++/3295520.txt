#include <iostream>
#include <stdio.h>
#include <stdlib.h>
using namespace std ;
struct data{
	int start ; 
	int end ; 
} ; 
int main(){
	int counter =1  ; 
	int n ; scanf("%d",&n) ;
	while(n--){
		int k , m ; scanf("%d" "%d",&k,&m) ;
		struct data d[k] ; 
		int mn,mx ; 
		for(int i=0;i<k;i++){
			scanf("%d" "%d",&d[i].start,&d[i].end) ; 
			if(i==0){
				mn = d[i].start ; 
				mx = d[i].end ; 
			}
			else{
				if(d[i].start < mn){
					mn = d[i].start ; 
				}
				if(d[i].end > mx){
					mx = d[i].end ; 
				}
			}
		}
		int num = mx-mn+1 ; // number of days
		int arr[num+1] ; 
		for(int i=0;i<num+1;i++){
			arr[i] = 0  ; 
		}
		int p ; 
		int game,players ; 
		for(int i=0;i<m;i++){
			scanf("%d",&p) ;
			for(int i=0;i<p;i++){
				scanf("%d" "%d",&game ,&players) ; 
				for(int k=d[game-1].start;k<=d[game-1].end ; k++){
					arr[k] = arr[k] + players ; 
				}
			}
		}
		int maxbeds = arr[1] ; 
		//cout << arr[1]  << "  "  ;
		for(int l=2;l<=num;l++){
		//	cout << arr[l]  << "   "   ; 
			if(arr[l] > maxbeds){
				maxbeds = arr[l] ; 
			}
		}
		//cout <<  endl ; 
		printf("Case %d: %d\n",counter,maxbeds) ; 
		counter++ ;  
	}
	return  0 ;
}









