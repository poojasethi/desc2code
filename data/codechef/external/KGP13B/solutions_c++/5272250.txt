#include<iostream>
#include<stdio.h>
using namespace std;
int main(){
int t,m,k,h;
scanf("%d",&t);
h=t;
while(t--){
scanf("%d%d",&k,&m);
int start[k],end[m],count=0,max=0;
while(k--){
scanf("%d%d",&start[count],&end[count]);
if(max<end[count])
max=end[count];
count++;
}
int days[max+1],ans=0;
// cout<<max;
for(int j=0;j<=max;j++)
days[j]=0;
while(m--){
int tmp,eve,no;
scanf("%d",&tmp);
while(tmp--){
scanf("%d%d",&eve,&no);
for(int j=start[eve-1];j<=end[eve-1];j++){
//cout<<"hi "<<start[eve]<<" "<<end[eve]<<"\n";
days[j]=days[j]+no;
if(ans<days[j])
ans=days[j];
}
}
}
printf("Case %d: %d\n",h-t,ans);
}
return 0;
}