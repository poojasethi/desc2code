#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;
int main()
{
    int n,k,m,d,id,persons,maxF;
    scanf("%d",&n);
    for(int x=1;x<=n;x++)
    {
        scanf("%d%d",&k,&m);
        maxF=0;
        int start[k],finish[k];
        for(int i=0;i<k;i++)
        {
            scanf("%d%d",&start[i],&finish[i]);
            maxF = max(maxF,finish[i]);
        }
        long long reqd[maxF+2];
        for(int i=0;i<maxF+2;i++) reqd[i] = 0;
        for(int i=0;i<m;i++)
        {
            scanf("%d",&d);
            for(int j=0;j<d;j++)
            {
                scanf("%d%d",&id,&persons);
                reqd[start[id-1]] += persons;
                reqd[finish[id-1]+1] -= persons;
            }
        }

        for(int i=1;i<=maxF+1;i++)
            reqd[i] = reqd[i] + reqd[i-1];
        sort(reqd,reqd+maxF+1);
        cout<<"Case "<<x<<": "<<reqd[maxF]<<endl;
    }
}
