#include<stdio.h>
 
long long mini(long long a,long long b)
{
	if(a<b)return a;
	return b;
}
long long maxi(long long a,long long b)
{
	if(a>b)return a;
	return b;
}
long long fact(long long a,long long b)
{
	long long mult=b;
	long long counter1=0;
	while(mult<=a)
	{
		counter1+=a/mult;
		mult*=b;
	}
	return counter1;
}
long long counter(long long a,long long b)
{
	if(a%b)return 0;
	return 1+counter(a/b,b);
}
bool isprime(long long a)
{
	if(a<=3)
		return a==2||a==3;
	for(long long i=2;i*i<=a;i++)
		if(a%i==0)return 0;
	return 1;
}
int main()
{
	int t;
	scanf("%d",&t);
	long long X,Y,Z;
	while(t--)
	{
		scanf("%lld",&X);
		scanf("%lld",&Y);
		scanf("%lld",&Z);
		X*=Y;
		long long i;
		long long mins=1000000000LL*1000000000LL;
		for(i=1;i*i<=Z;i++)
		{
				if(Z%i==0)
				{
					if(isprime(i))
					{
						mins=mini(mins,fact(X,i)/counter(Z,i));
					}
					if(isprime(Z/i))
					{
						mins=mini(mins,fact(X,Z/i)/counter(Z,Z/i));
					}
				}
		}
		printf("%lld\n",mins);
		
	}
	
	return 0;
} 