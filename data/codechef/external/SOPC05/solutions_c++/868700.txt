#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <cassert>
using namespace std;
#define p(x) cout<<#x<<":"<<x<<"\n"
#define mod 1000000007
#define lim 200001
#define ll long long

ll cs,n,i,j,s;
ll X[lim],C[lim];

int main()
{
  cin>>cs;
  while(cs--)
  {
    cin>>n;
	assert(n<lim && n>=1);
	for(i=0;i<n;i++)
	{
	  cin>>X[i];
	  assert(X[i]<=1000000000 && X[i]>=0);
	}
	for(i=0;i<n;i++)
	{
	  cin>>C[i];
	  assert(C[i]<=10000 && C[i]>=0);
	}
	for(i=s=0;i<n;i++)
	  for(j=0;j<i;j++)
	    s=(s+max(C[i],C[j])*abs(X[i]-X[j]))%mod;
	cout<<s<<"\n";
  }  
  return 0;
}
