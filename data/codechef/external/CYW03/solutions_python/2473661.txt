#include<stdio.h>
#include<math.h>
int main()
{ int i,j,n=3,c=15,a[4][4],b[4][4];//,Rsum=0,Csum=0;
    for(i=1;i<=n;i++)
    { for(j=1;j<=n;j++)
        a[i][j]=0;
    }
    for(i=1;i<=n;)
    {  for(j=ceil(n/2+0.2);j>=1;)
      { if(a[i][j]==0)
	    { a[i][j]=c;
          if((i<j)&&(i+j<=n)&&(i==1))
	      { i=i*n;
	        j++;
          }
          else if((i<j)&&(i+j==n+1)&&(i==1))
          { i=i*n;
            j=j/n;
          }
          else if((i<=j)&&(i+j<=2*n)&&(j==n))
	      { i--;
            j=j/n;
          }
          else if((i==j)&&(i+j<=2))
          { i=i*n;
            j++;
          }
          else
          { i--;
            j++;
            if((i+j==3)&&(i+j>=n)||(i+j!=3)&&(i>=n-1))
            { if(i+j==n+ceil(n/2+0.2))
              { i=n+1;j=0;}
            }
          }
        }
	    else
	    { if(i>j)
	      { if(n==3)
            { a[i-1][j+2]=c;
              i=i-(n-1);
            }
            else if(i==n)
            { a[i-(n-2)][j*n]=c;
              i=i/n;
            }
            else
            { a[i+2][j-1]=c;
              i++;
            }
          }
          else
          { i=i+2;
	        j--;
            a[i][j]=c;
            i--;
            j++;
	      }
        }
	    c++;
      }
    }
    for(i=1;i<=n;i++)
    { for(j=1;j<=n;j++)
        printf(" ",a[i][j]);
       printf("\n");
    }
    printf("\n");
    b[1][1]=a[3][1];
    b[1][2]=a[2][1];
    b[1][3]=a[1][1];
    b[2][1]=a[3][2];
    b[2][2]=a[2][2];
    b[2][3]=a[1][2];
    b[3][1]=a[3][3];
    b[3][2]=a[2][3];
    b[3][3]=a[1][3];
    for(i=1;i<=n;i++)
    { for(j=1;j<=n;j++)
        printf(" ",b[i][j]);
       printf("\n");
    }
    printf("\n");
    b[1][1]=a[3][3];
    b[1][2]=a[3][2];
    b[1][3]=a[3][1];
    b[2][1]=a[2][3];
    b[2][2]=a[2][2];
    b[2][3]=a[2][1];
    b[3][1]=a[1][3];
    b[3][2]=a[1][2];
    b[3][3]=a[1][1];
    for(i=1;i<=n;i++)
    { for(j=1;j<=n;j++)
        printf(" ",b[i][j]);
       printf("\n");
    }
    printf("\n");
    b[1][1]=a[1][3];
    b[1][2]=a[2][3];
    b[1][3]=a[3][3];
    b[2][1]=a[1][2];
    b[2][2]=a[2][2];
    b[2][3]=a[3][2];
    b[3][1]=a[1][1];
    b[3][2]=a[2][1];
    b[3][3]=a[3][1];
    for(i=1;i<=n;i++)
    { for(j=1;j<=n;j++)
        printf(" ",b[i][j]);
       printf("\n");
    }
   return 0;
}
