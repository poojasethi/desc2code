#include<stdio.h>
int main()
{ int i,j,c=15,a[4][4],b[4][4];
    for(i=1;i<=3;i++)
    { for(j=1;j<=3;j++)
        a[i][j]=0;
    }
    for(i=1;i<=3;)
    {  for(j=2;j>=1;)
      { if(a[i][j]==0)
	    { a[i][j]=c;
          if((i<j)&&(i+j<=3)&&(i==1))
	      { i=i*3;
	        j++;
          }
          else if((i<j)&&(i+j==4)&&(i==1))
          { i=i*3;
            j=j/3;
          }
          else if((i<=j)&&(i+j<=6)&&(j==3))
	      { i--;
            j=j/3;
          }
          else if((i==j)&&(i+j<=2))
          { i=i*3;
            j++;
          }
          else
          { i--;
            j++;
            if((i+j==3)&&(i+j>=3)||(i+j!=3)&&(i>=2))
            { if(i+j==5)
              { i=4;j=0;}
            }
          }
        }
	    else
	    { if(i>j)
	      { if(3==3)
            { a[i-1][j+2]=c;
              i=i-2;
            }
            else if(i==3)
            { a[i-1][j*3]=c;
              i=i/3;
            }
            else
            { a[i+2][j-1]=c;
              i++;
            }
          }
          else
          { i=i+2;
	        j--;
            a[i][j]=c;
            i--;
            j++;
	      }
        }
	    c++;
      }
    }
    for(i=1;i<=3;i++)
    { for(j=1;j<=3;j++)
        printf(" ",a[i][j]);
       printf("\n");
    }
    printf("\n");
    b[1][1]=a[3][1];
    b[1][2]=a[2][1];
    b[1][3]=a[1][1];
    b[2][1]=a[3][2];
    b[2][2]=a[2][2];
    b[2][3]=a[1][2];
    b[3][1]=a[3][3];
    b[3][2]=a[2][3];
    b[3][3]=a[1][3];
    for(i=1;i<=3;i++)
    { for(j=1;j<=3;j++)
        printf(" ",b[i][j]);
       printf("\n");
    }
    printf("\n");
    b[1][1]=a[3][3];
    b[1][2]=a[3][2];
    b[1][3]=a[3][1];
    b[2][1]=a[2][3];
    b[2][2]=a[2][2];
    b[2][3]=a[2][1];
    b[3][1]=a[1][3];
    b[3][2]=a[1][2];
    b[3][3]=a[1][1];
    for(i=1;i<=3;i++)
    { for(j=1;j<=3;j++)
        printf(" ",b[i][j]);
       printf("\n");
    }
    printf("\n");
    b[1][1]=a[1][3];
    b[1][2]=a[2][3];
    b[1][3]=a[3][3];
    b[2][1]=a[1][2];
    b[2][2]=a[2][2];
    b[2][3]=a[3][2];
    b[3][1]=a[1][1];
    b[3][2]=a[2][1];
    b[3][3]=a[3][1];
    for(i=1;i<=3;i++)
    { for(j=1;j<=3;j++)
        printf(" ",b[i][j]);
       printf("\n");
    }
   return 0;
}
