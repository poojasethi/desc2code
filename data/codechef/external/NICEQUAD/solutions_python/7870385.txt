for t in range(int(raw_input())):
    a = [[0]*4 for x in range(4)]
    n = int(raw_input())
    for i in range(n):
        (x, y) = (int(j) for j in raw_input().split())
        index = -1
        if x > 0:
            if y > 0:
                index = 0
            elif y < 0:
                index = 1
        elif x < 0:
            if y < 0:
                index = 2
            elif y > 0:
                index = 3
        if index != -1:
            a[index][((abs(x) & 1) * 2) + (abs(y) & 1)] += 1
    result = 0
    for i1 in range(4):
        for i2 in range(4):
            for i3 in range(4):
                for i4 in range(4):
                    x1 = i1 ^ i2
                    x1 &= x1 >> 1
                    x2 = i2 ^ i3
                    x2 &= x2 >> 1
                    x3 = i3 ^ i4
                    x3 &= x3 >> 1
                    x4 = i4 ^ i1
                    x4 &= x4 >> 1
                    x = x1 ^ x2 ^ x3 ^ x4
                    if x == 0:
                        result += a[0][i1] * a[1][i2] * a[2][i3] * a[3][i4]
    print result