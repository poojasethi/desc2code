#include <cstdio>
//#include <iostream>
//using namespace std;

#define    FOR(A,B,C)	for(int	A=B;A<C;A++)
#define	abs(N)	(N>0)?N:N*-1
typedef long long int llint;

int	getQ(int x, int y){
		if(x>0	&&	y>0)
		return	0;
	else if(x<0	&&	y>0)
		return 1;
	else if(x<0	&&	y<0)
		return 2;
	else if(x>0	&&	y<0)
		return 3;
}
int	main(){			
	int t,n,x,y;
	scanf("%d",&t);
	while(t--){
		scanf("%d",&n);
		int QXY[4][2][2]={0};	
		while(n--){
			scanf("%d%d",&x,&y);
			if(x==0 || y==0) continue;
			QXY[getQ(x,y)][abs(x%2)][abs(y%2)]++;
		}
		//FOR(Q,0,4)
		//{
		//	cout<<"\n\n";	
		//	FOR(X,0,2)
		//	{
		//		cout<<"\n";	
		//		FOR(Y,0,2)
		//		{
		//			cout<<QXY[Q][X][Y]<<"\t";
		//		}
		//	}
		//}
        
        llint ans=0;
		FOR(x1,0,2) FOR(y1,0,2) if (QXY[0][x1][y1])
		FOR(x2,0,2) FOR(y2,0,2) if (QXY[1][x2][y2])
		FOR(x3,0,2) FOR(y3,0,2) if (QXY[2][x3][y3])
		FOR(x4,0,2) FOR(y4,0,2) if (QXY[3][x4][y4])
		{
			if (  (x1*(y2-y4)+x2*(y3-y1)+x3*(y4-y2)+x4*(y1-y3))   %2 == 0)
                ans+=(llint)QXY[0][x1][y1]*(llint)QXY[1][x2][y2]*(llint)QXY[2][x3][y3]*(llint)QXY[3][x4][y4];
		}
		printf("%lld\n",ans);        
	}
    return 0;
}