#include <cstdio>

long long a[2][2], b[2][2], c[2][2], d[2][2];

inline int m2(int ax, int ay, int bx, int by) {
    return ((ax==bx && ay==by)?0:1);
}

int main() {
    int t;
    scanf("%d",&t);
    while(t--) {
        int n, x, y;
        scanf("%d",&n);
        for(int i=0;i<2;++i) for(int j=0;j<2;++j) a[i][j] = 0;
        for(int i=0;i<2;++i) for(int j=0;j<2;++j) b[i][j] = 0;
        for(int i=0;i<2;++i) for(int j=0;j<2;++j) c[i][j] = 0;
        for(int i=0;i<2;++i) for(int j=0;j<2;++j) d[i][j] = 0;
        while(n--) {
            scanf("%d%d",&x,&y);
            if (x>0 && y>0) a[x&1][y&1]++;
            else if (x>0 && y<0) b[x&1][(-y)&1]++;
            else if (x<0 && y<0) c[(-x)&1][(-y)&1]++;
            else if (x<0 && y>0) d[(-x)&1][y&1]++;
        }

        int ax, ay, bx, by, cx, cy, dx, dy, ea, eb, ec, ed;
        long long ans = 0;
        for(ax=0;ax<2;++ax)
        for(ay=0;ay<2;++ay)
        for(bx=0;bx<2;++bx)
        for(by=0;by<2;++by)
        for(cx=0;cx<2;++cx)
        for(cy=0;cy<2;++cy)
        for(dx=0;dx<2;++dx)
        for(dy=0;dy<2;++dy) {
            ea = m2(ax,ay,bx,by);
            eb = m2(bx,by,cx,cy);
            ec = m2(cx,cy,dx,dy);
            ed = m2(dx,dy,ax,ay);
            if ( !((ea+eb+ec+ed)&1) ) {
                ans += a[ax][ay]*b[bx][by]*c[cx][cy]*d[dx][dy];
            }
        }
        printf("%lld\n",ans);
    }
    return 0;
}
