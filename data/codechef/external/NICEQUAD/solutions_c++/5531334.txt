#include <stdio.h>
#include <stdlib.h>

int f(int i,int j,int k,int l)
{
	int x1 = i/2;
	int y1 = i - 2*x1;

	int x2 = j/2;
	int y2 = j - 2*x2;
	
	int x3 = k/2;
	int y3 = k - 2*x3;
	
	int x4 = l/2;
	int y4 = l - 2*x4;

	return ((x1-x3)*(y2-y4)) - ((x2-x4)*(y1-y3));
}


int region(long long int x,long long int y)
{
	if(x*y>0)
	{
		if(x>0) return 0;
		else
			return 2;
	}	
	else
	{
		if(x>0) return 1;
		else
			return 3;
	}
	
}
int subregion(int x,int y)
{
	return (2*x+y);
}
int main()
{
	long long int t,x,y,n,r,sr;
	long long int arr[4][4];
	scanf("%lld",&t);
	long long int result=0;
	while(t--)
	{
		scanf("%lld",&n);
		result = 0;
		for(int m=0;m<4;m++)
			for(int n=0;n<4;n++)
				arr[m][n] = 0;
		while(n--)
		{
			scanf("%lld %lld",&x,&y);
			if(x==0 || y==0) continue;
			r = region(x,y);
			x%=2;
			y%=2;
			if(x<0) x*=-1;
			if(y<0) y*=-1;
			sr = subregion(x,y);
			arr[r][sr]++;
		}
		for(int i=0;i<4;i++)
		{
			for(int j=0;j<4;j++)
			{
				for(int k=0;k<4;k++)
				{
					for(int l=0;l<4;l++)
					{
						if(f(i,j,k,l)%2==0)
							result += (arr[0][i]*arr[1][j]*arr[2][k]*arr[3][l]);
					}
				}
			}
		}	
		printf("%lld\n",result);
	}
	return 0;
}