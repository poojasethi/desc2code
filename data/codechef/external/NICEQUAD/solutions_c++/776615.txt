#define DEBUG 0

#include <stdio.h>
#include <stdlib.h>
#include <math.h>

int area_even(int a_x, int a_y, int b_x, int b_y, int c_x, int c_y, int d_x, int d_y) {
  return ((((a_x*b_y+b_x*c_y+c_x*d_y+d_x*a_y)-(b_x*a_y+c_x*b_y+d_x*c_y+a_x*d_y))%2)==0);
}

int main(void) {
  int tc, n, i, x, y;
  int a_ee, a_eo, a_oe, a_oo;
  int b_ee, b_eo, b_oe, b_oo;
  int c_ee, c_eo, c_oe, c_oo;
  int d_ee, d_eo, d_oe, d_oo;
  int a_x, a_y;
  int b_x, b_y;
  int c_x, c_y;
  int d_x, d_y;
  long long unsigned ans, m_a, m_b, m_c, m_d;
  
  scanf("%d", &tc);
  while(tc--) {
    scanf("%d", &n);
    a_ee=0, a_eo=0, a_oe=0, a_oo=0;
    b_ee=0, b_eo=0, b_oe=0, b_oo=0;
    c_ee=0, c_eo=0, c_oe=0, c_oo=0;
    d_ee=0, d_eo=0, d_oe=0, d_oo=0;
    for(i=0;i<n;i++) {
      scanf("%d%d", &x, &y);
      if(x>0&&y>0)
        if(x%2)
          if(y%2)
            a_oo++;
          else
            a_oe++;
        else
          if(y%2)
            a_eo++;
          else
            a_ee++;
      else if(x>0&&y<0)
        if(x%2)
          if(abs(y%2))
            b_oo++;
          else
            b_oe++;
        else
          if(abs(y%2))
            b_eo++;
          else
            b_ee++;
      else if(x<0&&y<0)
        if(abs(x%2))
          if(abs(y%2))
            c_oo++;
          else
            c_oe++;
        else
          if(abs(y%2))
            c_eo++;
          else
            c_ee++;
      else if(x<0&&y>0)
        if(abs(x%2))
          if(y%2)
            d_oo++;
          else
            d_oe++;
        else
          if(y%2)
            d_eo++;
          else
            d_ee++;
    }
    if(DEBUG) {
printf("a_ee=%d, a_eo=%d, a_oe=%d, a_oo=%d\n", a_ee, a_eo, a_oe, a_oo);
printf("b_ee=%d, b_eo=%d, b_oe=%d, b_oo=%d\n", b_ee, b_eo, b_oe, b_oo);
printf("c_ee=%d, c_eo=%d, c_oe=%d, c_oo=%d\n", c_ee, c_eo, c_oe, c_oo);
printf("d_ee=%d, d_eo=%d, d_oe=%d, d_oo=%d\n", d_ee, d_eo, d_oe, d_oo);
    }

    ans=0;
    for(a_x=1;a_x<=2;a_x++)
    for(a_y=1;a_y<=2;a_y++) {
      if(a_x==1)
        if(a_y==1)
          m_a=a_oo;
        else
          m_a=a_oe;
      else
        if(a_y==1)
          m_a=a_eo;
        else
          m_a=a_ee;    
      if(m_a==0)
        continue;
    for(b_x=1;b_x<=2;b_x++)
    for(b_y=1;b_y<=2;b_y++) {
      if(b_x==1)
        if(b_y==1)
          m_b=b_oo;
        else
          m_b=b_oe;
      else
        if(b_y==1)
          m_b=b_eo;
        else
          m_b=b_ee;    
      if(m_b==0)
        continue;
      m_b*=m_a;
    for(c_x=1;c_x<=2;c_x++)
    for(c_y=1;c_y<=2;c_y++) {
      if(c_x==1)
        if(c_y==1)
          m_c=c_oo;
        else
          m_c=c_oe;
      else
        if(c_y==1)
          m_c=c_eo;
        else
          m_c=c_ee;    
      if(m_c==0)
        continue;
      m_c*=m_b;
    for(d_x=1;d_x<=2;d_x++)
    for(d_y=1;d_y<=2;d_y++) {
      if(d_x==1)
        if(d_y==1)
          m_d=d_oo;
        else
          m_d=d_oe;
      else
        if(d_y==1)
          m_d=d_eo;
        else
          m_d=d_ee;    
      if(m_d==0)
        continue;
      m_d*=m_c;
    //printf("a_x=%d a_y=%d b_x=%d b_y=%d c_x=%d c_y=%d d_x=%d d_y=%d, %d\n", a_x,a_y,b_x,b_y,c_x,c_y,d_x,d_y, area_even(a_x,a_y,b_x,b_y,c_x,c_y,d_x,d_y));
    if(area_even(a_x,a_y,b_x,b_y,c_x,c_y,d_x,d_y))
      ans+=m_d;
    }}}}
    printf("%llu\n", ans);
  }
  return 0;
}
