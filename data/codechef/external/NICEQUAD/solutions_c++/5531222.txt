#include <stdio.h>
int abs(int x)
{
	if(x<0) return -x;
	else
		return x;
}
int main()
{
	int t,n,r,sr,x,y,i,j,k,l;
	scanf("%d",&t);
	while(t-->0)
	{
		scanf("%d",&n);
		long long result = 0;
		long long arr[4][4];
		for(i=0;i<4;i++)
			for(j=0;j<4;j++)
				arr[i][j] = 0;
		for(int lm=0;lm<n;lm++)
		{
			
			scanf("%d %d",&x,&y);
			if(x==0 || y==0 )continue;
			if(x>0 && y>0) r = 0;
			if(x>0 && y<0) r = 1;
			if(x<0 && y<0) r = 2;
			if(x<0 && y>0) r = 3;
			sr = (abs(x)%2 << 1) + abs(y)%2;
			arr[r][sr]++;
		}
		for(i=0;i<4;i++)
		{
			for(j=0;j<4;j++)
			{
				for(k=0;k<4;k++)
				{
					for(l=0;l<4;l++)
					{
							int flag=0;
							if(i!=j)flag++;
							if(j!=k)flag++;
							if(k!=l)flag++;
							if(l!=i)flag++;
							if(flag%2==0) result+=arr[0][i]*arr[1][j]*arr[2][k]*arr[3][l]; 
					}
				}
			}
		}	
		printf("%lld\n",result);
	}
	return 0;
}