#include<iostream>
#include<stdio.h>
#include<string.h>
#include<math.h>
#include<stdlib.h>
#include<malloc.h>
#include<vector>
#include<algorithm>
#include<stack>
#include<queue>
#include<list>
#include<string>
#include<map>


#define min(a,b) (a>b?b:a)
#define max(a,b) (a>b?a:b)
#define PB(x) push_back(x)
#define MP(x,y) make_pair(x,y)
#define F first
#define S second
#define ev(x) ((x%2==0)?1:0)
#define od(x) ((x%2==0)?0:1)
typedef long long LL;
using namespace std;

int main()
{
    //freopen("input.txt","r",stdin);
    int t;
    scanf("%d",&t);
    while(t--){
        int n;
        scanf("%d",&n);
        int a[4]={},b[4]={},c[4]={},d[4]={};
        for(int i=0;i<n;i++){
            int x,y;
            scanf("%d %d",&x,&y);
            if(x>0 && y>0){
                if(ev(x) && ev(y))
                    a[0]++;
                else if(ev(x) && od(y))
                    a[1]++;
                else if(od(x) && ev(y))
                    a[2]++;
                else
                    a[3]++;
            }
            else if(x>0 && y<0){
                if(ev(x) && ev(y))
                    b[0]++;
                else if(ev(x) && od(y))
                    b[1]++;
                else if(od(x) && ev(y))
                    b[2]++;
                else
                    b[3]++;
            }
            else if(x<0 && y<0){
                if(ev(x) && ev(y))
                    c[0]++;
                else if(ev(x) && od(y))
                    c[1]++;
                else if(od(x) && ev(y))
                    c[2]++;
                else
                    c[3]++;
            }
            else if(x<0 && y>0){
                if(ev(x) && ev(y))
                    d[0]++;
                else if(ev(x) && od(y))
                    d[1]++;
                else if(od(x) && ev(y))
                    d[2]++;
                else
                    d[3]++;
            }
        }
        LL cnt=0;
        //1= odd,0=even
        for(int i=0;i<4;i++){
            for(int j=0;j<4;j++){
                for(int k=0;k<4;k++){
                    for(int l=0;l<4;l++){
                        int ax=i/2,ay=i%2,bx=j/2,by=j%2,cx=k/2,cy=k%2,dx=l/2,dy=l%2;
                        int temp=(ax-bx)*(ay-by)+(bx-cx)*(by-cy)+(cx-dx)*(cy-dy)+(dx-ax)*(dy-ay);
                        if(temp%2==0)
                            cnt+=((LL)a[i])*b[j]*c[k]*d[l];
                    }
                }
            }
        }
        printf("%lld\n",cnt);
    }
}
