#include <stdio.h>
#include <stdlib.h>

inline bool makelemons(int a)
{
	if(a==2 || a==3 || a==6)
		return 1;
	else
		return 0;
}
inline int f(int i,int j,int k,int l)
{
	return (makelemons(i*j) + makelemons(j*k) + makelemons(k*l) + makelemons(l*i));
}


inline int region(long long int x,long long int y)
{
	if(x*y>0)
	{
		if(x>0) return 0;
		else
			return 2;
	}	
	else
	{
		if(x>0) return 1;
		else
			return 3;
	}
	
}
int main()
{
	long long int t,x,y,n,r,sr;
	long long int arr[4][4];
	scanf("%lld",&t);
	long long int result=0;
	while(t--)
	{
		scanf("%lld",&n);
		result = 0;
		for(int m=0;m<4;m++)
			for(int n=0;n<4;n++)
				arr[m][n] = 0;
		while(n--)
		{
			scanf("%lld %lld",&x,&y);
			if(x==0 || y==0) continue;
			r = region(x,y);
			x%=2;
			y%=2;
			if(x<0) x*=-1;
			if(y<0) y*=-1;
			sr = 2*x + y;
			arr[r][sr]++;
		}
		for(int i=0;i<4;i++)
		{
			for(int j=0;j<4;j++)
			{
				for(int k=0;k<4;k++)
				{
					for(int l=0;l<4;l++)
					{
						if(f(i,j,k,l)%2==0)
							result += (arr[0][i]*arr[1][j]*arr[2][k]*arr[3][l]);
					}
				}
			}
		}	
		printf("%lld\n",result);
	}
	return 0;
}