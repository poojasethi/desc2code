#include <iostream>
using namespace std;

#define f(v) for(int v=0; v<2; v++)

int main () {
  cin.sync_with_stdio(false);
  int t, n, x, y;
  cin >> t;
  while (t--) {
    cin >> n;

    long long p[4][2][2] = {}, ctr = 0;
    while (n--) {
      cin >> x >> y;
      if (x && y)
        p[(x>0) + 2*(y>0)][x&1][y&1]++;
    }

    f(a)f(A)f(b)f(B)f(c)f(C)f(d)f(D)
      if (a&B^A&b ^ b&C^B&c ^ c&D^C&d ^ d&A^D&a ^ 1)
        ctr += p[0][a][A] * p[1][b][B] * p[3][c][C] * p[2][d][D];

    cout << ctr << endl;
  }
}