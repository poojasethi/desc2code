#include<iostream>
#include<cstdio>
using namespace std;
int main()
{/*different states in each quadrant */
 long long int s1[4];
 long long int s2[4];
 long long int s3[4];
 long long int s4[4];
 int t;
 int n;
 int x,y;
 int x1,y1,x2,y2,x3,y3,x4,y4;
 long long int count;
 scanf("%d",&t);
 while(t)
 {  s1[0]=s1[1]=s1[2]=s1[3]=0;
    s2[0]=s2[1]=s2[2]=s2[3]=0;
    s3[0]=s3[1]=s3[2]=s3[3]=0;
    s4[0]=s4[1]=s4[2]=s4[3]=0;
    scanf("%d",&n);
    while(n)
    {
      scanf("%d %d",&x,&y);
      if(x>0&&y>0)
      {
         if (((x & 1) == 0) && ((y & 1)== 0)) s1[0]++;
         else if (((x & 1) == 0) && ((y & 1)== 1)) s1[1]++;
         else if (((x & 1) == 1) && ((y & 1)== 0)) s1[2]++;
         else if (((x & 1) == 1) && ((y & 1)== 1)) s1[3]++;        
      }  
      else if(x>0&&y<0)
      {
         if (((x & 1) == 0) && ((y & 1)== 0)) s2[0]++;
         else if (((x & 1) == 0) && ((y & 1)== 1)) s2[1]++;
         else if (((x & 1) == 1) && ((y & 1)== 0)) s2[2]++;
         else if (((x & 1) == 1) && ((y & 1)== 1)) s2[3]++;   
      } 
      else if(x<0&&y<0)
      {
          if (((x & 1) == 0) && ((y & 1)== 0)) s3[0]++;
         else if (((x & 1) == 0) && ((y & 1)== 1)) s3[1]++;
         else if (((x & 1) == 1) && ((y & 1)== 0)) s3[2]++;
         else if (((x & 1) == 1) && ((y & 1)== 1)) s3[3]++; 
      }  
      else if(x<0&&y>0)
      {
          if (((x & 1) == 0) && ((y & 1)== 0)) s4[0]++;
         else if (((x & 1) == 0) && ((y & 1)== 1)) s4[1]++;
         else if (((x & 1) == 1) && ((y & 1)== 0)) s4[2]++;
         else if (((x & 1) == 1) && ((y & 1)== 1)) s4[3]++; 
      } 
      n--;         
    } 
    count=0;
    for(x1=0;x1<2;x1++)
    for(y1=0;y1<2;y1++)
    for(x2=0;x2<2;x2++)
    for(y2=0;y2<2;y2++)
    for(x3=0;x3<2;x3++)
    for(y3=0;y3<2;y3++)
    for(x4=0;x4<2;x4++)
    for(y4=0;y4<2;y4++)
    {
       if ((x1*y2-x2*y1+x2*y3-x3*y2+x3*y4-x4*y3+x4*y1-x1*y4)%2==0)
           count+=s1[x1*2+y1]*s2[x2*2+y2]*s3[x3*2+y3]*s4[x4*2+y4];                 
    } 
    cout<<count<<endl;
    t--;                              
 } 
 //cin.get();
 //in.get();
 return 0; 
}
