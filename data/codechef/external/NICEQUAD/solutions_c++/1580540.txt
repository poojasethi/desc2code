#include<iostream>
using namespace std;
//int area(int ax,int ay,int bx,int by,int cx,int cy){return ax*(by-cy)+bx*(cy-ay)+cx*(ay-by);}
void nice_quads()
{
    int p[4][2][2]={0};
    int x,y,n;
    for(scanf("%d",&n);n!=0;n--)
    {
        scanf("%d %d",&x,&y);
        if(x>0&&y>0)p[0][x%2][y%2]++;
        if(x<0&&y>0)p[1][(-x)%2][y%2]++;
        if(x<0&&y<0)p[2][(-x)%2][(-y)%2]++;
        if(x>0&&y<0)p[3][x%2][(-y)%2]++;
     }
     long long count = 0;
     for(int ax=0;ax<2;ax++){
     for(int bx=0;bx<2;bx++){
     for(int cx=0;cx<2;cx++){
     for(int dx=0;dx<2;dx++){
     for(int ay=0;ay<2;ay++){
     for(int by=0;by<2;by++){
     for(int cy=0;cy<2;cy++){
     for(int dy=0;dy<2;dy++){
     if((ax*by - bx*ay + bx*cy - cx*by + cx*dy - cy*dx + dx*ay - ax*dy)%2==0)
     count = count + (long long)p[0][ax][ay]*p[1][bx][by]*p[2][cx][cy]*p[3][dx][dy];
     }}}}}}}}
     printf("%lld\n",count);
}
int main()
{
    int t;
    for(scanf("%d",&t);t!=0;t--)nice_quads();
    return 0;
}
