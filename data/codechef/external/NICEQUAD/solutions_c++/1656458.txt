#include <cstdio>
#include <cstdlib>
#include <string>
#include <cmath>
#include <iostream>
#include <string.h>
 
using namespace std;
 
typedef long long int64;
 
int h[4][2][2];
 
void add(int x0,int y0)
{
	int d=-1;
	if (x0>0 && y0>0) d=0;
	if (x0>0 && y0<0) d=1;
	if (x0<0 && y0<0) d=2;
	if (x0<0 && y0>0) d=3;
	h[d][x0&1][y0&1]++;
}
int main()
{
	int testcase;
	for (scanf("%d",&testcase);testcase>0;testcase--)
	{
		memset(h,0,sizeof(h));
		int m,x0,y0;
		for (scanf("%d",&m);m>0;m--)		
		{
			scanf("%d%d",&x0,&y0);
			if (x0==0 || y0==0) continue;
			add(x0,y0);
		}
		int64 R=0;
		for (int xa=0;xa<2;xa++) for (int ya=0;ya<2;ya++) if (h[0][xa][ya])
		for (int xb=0;xb<2;xb++) for (int yb=0;yb<2;yb++) if (h[1][xb][yb])
		for (int xc=0;xc<2;xc++) for (int yc=0;yc<2;yc++) if (h[2][xc][yc])
		for (int xd=0;xd<2;xd++) for (int yd=0;yd<2;yd++) if (h[3][xd][yd])
		{
			int s=xa*(yb-yd)+xb*(yc-ya)+xc*(yd-yb)+xd*(ya-yc);
			if (s%2==0) R+=(int64)h[0][xa][ya]*(int64)h[1][xb][yb]*(int64)h[2][xc][yc]*(int64)h[3][xd][yd];
		}
		cout<<R<<endl;
	}
	return 0;
} 