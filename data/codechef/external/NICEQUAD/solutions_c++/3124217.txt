#include<iostream>
#include<cstdio>
#include<algorithm>
typedef long long int uli;
using namespace std;
#define rep(i,n) for(int i=0;i<n;i++)

uli a[2][2],b[2][2];
uli c[2][2],d[2][2];

inline int even(int ax, int ay, int bx, int by){
    return( (ax==bx && ay==by)?1:0);
}
int main(){
//  freopen("data.in","r",stdin);
    int t,n,x,y,i,j,ta,tb,tc,td;
    int ea,eb,ec,ed;
    scanf("%d",&t);
    while(t--){
        scanf("%d",&n);
        for(i=0;i<2;i++)for(j=0;j<2;j++)a[i][j] = 0;
        for(i=0;i<2;i++)for(j=0;j<2;j++)b[i][j] = 0;
        for(i=0;i<2;i++)for(j=0;j<2;j++)c[i][j] = 0;
        for(i=0;i<2;i++)for(j=0;j<2;j++)d[i][j] = 0;
        ta = tb = tc =td = 0;
        while(n--){
            scanf("%d %d",&x,&y);
            if(x>0&&y>0)a[x%2][y%2]++,ta++;
            else if(x>0&&y<0)b[x%2][(-y)%2]++,tb++;
            else if(x<0&&y<0)c[(-x)%2][(-y)%2]++,tc++;
            else if(x<0 && y>0) d[(-x)%2][y%2]++,td++;
        }

        uli ans = 0;
        rep(ax,2) rep(ay,2) rep(bx,2) rep(by,2){
            rep(cx,2) rep(cy,2) rep(dx,2) rep(dy,2){                
                ea = even(ax,ay,bx,by);
                eb = even(bx,by,cx,cy);
                ec = even(cx,cy,dx,dy);
                ed = even(dx,dy,ax,ay);
                if((ea+eb+ec+ed)%2==0){
                    ans+=a[ax][ay]*b[bx][by]*c[cx][cy]*d[dx][dy];
                }
            }
        }
        printf("%lld\n",ans);
    }
    return 0;
}