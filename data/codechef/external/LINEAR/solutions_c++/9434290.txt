#include <bits/stdc++.h>
using namespace std;
const int maxn = 5010;
int n,x[maxn],y[maxn],dx[maxn],dy[maxn],m,id[maxn],ans;
int prand(int hi){
    return 1+(1LL*rand()*12345+1LL*rand())%hi;
}
int prand(int lo,int hi){
    return lo-1+prand(hi-lo+1);
}
int MAIN(){
    scanf("%d",&n);ans=0;
    for (int i=1; i<=n; i++) scanf("%d%d",&x[i],&y[i]);
    if (n==1) printf("%d\n",1); else{
        int q=prand(n/2,n),u,v,h,k,t;
        while (q--){
            u=prand(1,n);t=1;
            do{
                v=prand(1,n);
            } while (u==v);
            h=x[v]-x[u];k=y[v]-y[u];
            for (int j=1; j<=n; j++)
                if (j!=u){
                    if (1LL*h*(y[j]-y[u])==1LL*k*(x[j]-x[u])) t++;
                }
            ans=max(ans,t);
        }
    }
    printf("%d\n",ans);
}
int main(){
    int test;
    scanf("%d",&test);
    while (test--){
        MAIN();
    }
}
