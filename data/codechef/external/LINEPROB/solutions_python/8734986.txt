#include <bits/stdc++.h>

using namespace std;
int gcd(int a,int b){	
if(b==0)
	return a;
return gcd(b,a%b);


}

int main(){

//cout<<gcd(22,19)<<endl;
long long int t,x1,y1,x2,y2;
cin>>t;
while(t--){
cin>>x1>>y1>>x2>>y2;
int dx=abs(x2-x1);
int dy=abs(y2-y1);
if(dx>dy)
cout<<abs(x2-x1)+abs(y2-y1)-gcd(dx,dy)<<endl;
else
	cout<<abs(x2-x1)+abs(y2-y1)-gcd(dy,dx)<<endl;

}




}