#include <iostream>
#include<cmath>
using namespace std;
long long int gcd(long long int a, long long int b)
{
    if(a==0) return b;
    return gcd(b%a,a);
}
int main()
{
    long long int t, x1, x2, y1, y2,Dx,Dy,dx,dy,g;
    cin>>t;
    while(t--)
    {
        cin>>x1>>y1>>x2>>y2;
        Dx = abs(x2-x1);
        Dy = abs(y2-y1);
        if(Dx==0 || Dy==0) cout<<0<<endl;
        else {
        cout<<Dx+Dy-gcd(Dx,Dy)<<endl;}
    }
}