#include <iostream>
#include <stdio.h>
#include <stdlib.h>

using namespace std;

long gcd(long a, long b)
{
    if ( a==0 ) return b;
    return gcd( b%a, a );
}

int main() 
{
	int t;
	long x1, y1, x2, y2, x, y, sq;
	cin >> t;
	
	while(t-- > 0)
	{
	    cin >> x1;
	    cin >> y1;
	    cin >> x2;
	    cin >> y2;
	    
	    x = abs(x1 - x2);
	    y = abs(y1 - y2);
	    
	    sq = x + y - gcd(x, y);
	    
	    cout << sq << endl;
	}
	return 0;
}