#include <bits/stdc++.h>
using namespace std;

typedef long long int lld;
typedef long double ldb;

#define mp make_pair
#define pb push_back

int main(){
	int t;
	cin >> t;
	while(t--){
		lld x1,y1,x2,y2;
		cin >> x1 >> y1 >> x2 >> y2;
		lld dx = abs(x2-x1), dy = abs(y2-y1);
		lld zz = dx + dy - __gcd(dx,dy);
		cout << zz << endl;
	}
	return 0;
}