#include<bits/stdc++.h>
using namespace std;
long int findhcf(long int a,long int b)
{
	if(b%a==0) return a;
	return findhcf(b%a,a);
}
int main()
{
	int t;
	long int x1,y1,x,y;
	cin>>t;
	while(t--)
	{
		cin>>x1>>y1>>x>>y;
		x=fabs(x-x1);
		y=fabs(y-y1);
		if(x==0||y==0) {cout<<"0\n"; continue;}
		long int hcf=(x<y?findhcf(x,y):findhcf(y,x));
		cout<<x+y-hcf<<"\n";		
	}
	return 0;
}