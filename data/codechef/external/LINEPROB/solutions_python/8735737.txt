#include<iostream>
#include<cmath>
using namespace std;
int gcd(int a,int b){
	return b==0?a:gcd(b,a%b);
}
int main(){
	long long int t,x1,x2,y1,y2;
	cin>>t;
	while(t--){
		cin>>x1>>y1>>x2>>y2;
		long long int Dx = abs(x1-x2);
		long long int Dy = abs(y1-y2);
		if(Dx>Dy){
			cout<<Dx+Dy-gcd(Dx,Dy)<<endl;
		}
		else cout<<Dx+Dy-gcd(Dy,Dx)<<endl;
	}
	return 0;
}