#include<iostream>
#include<algorithm>
using namespace std;
typedef long long ll;
ll g(ll a, ll b){
    ll r=a%b;
    while(r){
        a=b;
        b=r;
        r=a%b;
    }
    return b;
}
int main(){
    ll t,x1,y1,x2,y2;
    cin>>t;
    while(t--){
        cin>>x1>>y1>>x2>>y2;
        x1=abs(x1-x2);
        y1=abs(y1-y2);
        if(x1==0 || y1==0) cout<<0<<endl;
        else{
            if(x1<y1) swap(x1,y1);
            cout<<x1+y1-g(x1,y1)<<endl;
        }
    }
    return 0;
}
