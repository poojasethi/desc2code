#include<iostream>
#include<stdlib.h>
 
using namespace std;
 
#define ll long long
 
ll gcd(ll a, ll b)
{
    if(a==b)
        return a;
    if(a==0)
        return b;
    if(b==0)
        return a;
 
    
 
    return gcd(b,a%b);
}
 
int main()
{
    ll t,x1,x2,y1,y2,ans;
 
    cin>>t;
 
    while(t--)
    {
        cin>>x1>>y1>>x2>>y2;
 
        
        ans=abs(x2-x1) + abs(y2-y1) - gcd(abs(x2-x1),abs(y2-y1)) ;
        cout<<ans<<endl;
    }
} 