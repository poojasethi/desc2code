/*
https://www.codechef.com/problems/LINEPROB

*/
package main
import("fmt")
func  gcd(a int, b int)int{
	if (a == 0){
		return b;
	}
	return gcd(b%a, a);
}
func main(){
	var t, x, y, dx, dy int
	fmt.Scanf("%d", &t)
	for(t > 0){
		fmt.Scanf("%d %d %d %d", &x, &y, &dx, &dy)
		if(dx > x){
			x = dx - x
		}else{x = x - dx}
		if(dy > y){
			y = dy - y
		}else{y = y - dy}
		if(x > y){
			fmt.Printf("%d\n",(x+y-gcd(y, x)))
		}else{
			fmt.Printf("%d\n",(x+y-gcd(x, y)))
		}
		t--
	}
}
