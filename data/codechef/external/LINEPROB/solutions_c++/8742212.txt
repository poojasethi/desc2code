// Example program
#include <iostream>
#include <string>
#include <bits/stdc++.h>
using namespace std;

int gcd(int a, int b)
{
    while(b) b ^= a ^= b ^= a %= b;
    return a;
}

int main()
{
 long long t,x1,y1,x2,y2;
 cin>>t;
 while(t--){
     cin>>x1>>y1>>x2>>y2;
     cout<<(abs(x1-x2)+abs(y1-y2)-gcd(abs(x1-x2),abs(y1-y2)))<<endl;
     }
     return 0;
}

