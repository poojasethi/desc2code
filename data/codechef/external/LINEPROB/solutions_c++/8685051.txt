#include<iostream>
#include<limits>
#include<list>
#include<cmath>
#include<map>
using namespace std;
//carwale question
//i will use the pair in it 
//how to use it?
void swap(int&a,int&b)
{
	int temp = a;
	a = b;
	b=temp;
	return;
}
struct point
{
	int x,y;
	
};

long long gcd(long long m,long long  n)
{    
if(m==0)
    return n;
    else if(n==0)
    return m;
	if(m<n)
	{
		swap(m,n);
		
	}
	while(n>0)
	{
		long long int r = m%n;
		m= n;
		n = r;
		
	}
	return m;	
}
/*
1
0 0 2 2 
*/
long long  ans(point a,point  b)
{

long long  mn= (b.y-a.y),md= (b.x-a.x);
long long  temp1 = abs(mn);
long long  temp2 = abs(md);
long long  g = gcd(temp1,temp2);

  mn = mn/g;
  md = md/g;
  long long  tempx = a.x;
  long long  tempy = a.y;
int count1;
if(mn==0||md==0)
{
	return 0;
}
else 
{    
	int t = abs(mn);
	count1 =temp1/t;  
  }  

long long  count2 = temp1+temp2-2;

return count2-count1+2;
  //something is wrong but what?
  
}

int  main()
{
	long long  t;
	cin>>t;
	
	while(t>0)
	{    
	point a,b;
	cin>>a.x>>a.y>>b.x>>b.y;
		cout<<ans(a,b)<<endl; 
		t--;
	}
	return 0;
}