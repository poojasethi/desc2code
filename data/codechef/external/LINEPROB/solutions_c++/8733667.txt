#include<iostream>
#include<stdlib.h>

using namespace std;

#define ll long long

ll compute_gcd(ll a, ll b)
{
    if(a==b)
        return a;
    if(a==0)
        return b;
    if(b==0)
        return a;

    //if(a>b)
        //return compute_gcd(a%b,b);

    return compute_gcd(b,a%b);
}

int main()
{
    ll t,x1,x2,y1,y2,cells;

    cin>>t;

    while(t--)
    {
        cin>>x1>>y1>>x2>>y2;

        /*if(x1==x2 || y1==y2)
        {
            cout<<0<<endl;
            continue;
        }*/

        cells=abs(x2-x1) + abs(y2-y1) - compute_gcd(abs(x2-x1),abs(y2-y1)) ;
        cout<<cells<<endl;
    }
}
