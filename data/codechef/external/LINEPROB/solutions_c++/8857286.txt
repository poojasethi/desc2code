#include <iostream>
#include <cmath>
#define ll long long
using namespace std;

ll gcd(ll a, ll b){
	if(a==0) return b;
	return gcd(b%a, a);
}

int main(){
	ll t, n;
	cin>>t;
	ll d1, d2, x1, y1, x2, y2;
	while(t--){
		cin>>x1>>y1>>x2>>y2;
		
		d1= abs( (x2 - x1) );
		d2= abs( (y2 - y1) );
		ll g= gcd(d1, d2);
		cout<<d1+d2-g<<endl;
	}
}