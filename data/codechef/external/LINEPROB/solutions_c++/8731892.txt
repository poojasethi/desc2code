#include <cmath>
#include <stdio.h>
using namespace std;

int gcd(int a, int b){
	int c;
	while(a!=0){
		c = a;
		a = b%a;
		b = c;
	}
	return b;
}

int main(){
	int t;
	scanf("%d", &t);
	while(t--){
		int x1, x2, y1, y2, a, b, k;
		scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
		a=abs(x1-x2); b=abs(y1-y2);
		if(a==0 || b==0){
			printf("0\n");
		}
		else{
		k = gcd(a,b);
		if(k==1)
			printf("%d\n",a+b-1);
		else{
			printf("%d\n",a+b-k);
		}}
	}
	return 0;
}