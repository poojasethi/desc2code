#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int
#define s(x) scanf("%d", &x)
#define sl(x) scanf("%lld", &x)
#define mod 1000000007

ll child(ll x, ll n)
{
    ll l = x, r = x, ans = 0;
    while (true) {
        if (n < l)
            break;
        if (n <= r) {
            ans += (n-l+1);
            break;
        }
        ans += (r-l+1);
        l *= 2;
        r = (2*r+1);
    }
    return ans;
}

ll b_search(ll l, ll r, ll n, ll m)
{
    ll mid, tmp = n-m+1;
    while ((r-l) > 1) {
        mid = (r+l)/2;
        //cout << l << " " << r << " " << mid << " " << child(mid, n) << endl;
        if (child(mid, n) <= tmp)
            r = mid;
        else
            l = mid+1;
    }
    if (child(l, n) <= tmp)
        return l;
    return r;
}

int main()
{
    int t;
    ll n, m, last, first;
    s(t);
    while (t--) {
        sl(n);
        sl(m);
        if (m > 63)
            last = n;
        else
            last = min(n, (1LL << m)-1);
        first = b_search(1, last, n, m);
        //cout << first << " " << last << endl;
        printf("%lld\n", last-first+1);
    }
    return 0;
}
