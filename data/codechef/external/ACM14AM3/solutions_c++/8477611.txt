#include<stdio.h>
#include<string.h>
int a[20002]={0};
int b[2][502]={0};
int main()
{
    char s[20004];
    int s1[20004];
    scanf("%s",s);
    int i,j,k,q,l,m,bi;
    int x=strlen(s);
    for(i=0;i<x;i++)
        s1[i]=s[i]-48;
    scanf("%d",&q);
    while(q--)
    {
        scanf("%d %d",&m,&l);
        //p(m,x);
        k=0;
        bi=0;
        for(i=0;i<x;i++)
        {
            b[!bi][s1[i]%m]++;
            for(j=0;j<m;j++)
            {
                if(b[bi][j])
                {
                    b[!bi][((j*10)+s1[i])%m]+=b[bi][j];
                    b[bi][j]=0;
                }
            }
            k+=b[!bi][l];
            bi=!bi;
        }
        for(j=0;j<m;j++)
            b[bi][j]=0;
        printf("%d\n",k);
    }

    return 0;
}
