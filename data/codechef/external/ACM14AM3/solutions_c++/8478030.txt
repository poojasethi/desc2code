#include <iostream>
#include <fstream>
#include <string>
#include <algorithm>
#include <vector>
#include <map>

using namespace std;

int t1[500], t2[500], total[500];

void inline itemp(int *temp, int M){
	for (int i=0; i<M; i++)
		temp[i] = 0;
}

int main(){
	string S;
	int Q, M, L, q, i, j, val;
	int *a, *temp = t1, *temp2 = t2;
	cin >> S >> Q;
	for (q=0; q <Q; q++){
		cin >> M >> L;
		itemp(total, M);
		itemp(temp, M);
		for (i=0; i<S.length(); i++){
			itemp(temp2, M);
			for (j=0; j<M; j++){
				val = (j*10 + (S[i] - '0') ) % M;
				temp2[val] += temp[j];
			}
			temp2[(S[i] - '0') % M] += 1;
			for (j=0; j<M; j++)
				total[j] += temp2[j];
			a = temp;
			temp = temp2;
			temp2 = a;
		}
		cout << total[L] << '\n';
	}
	return 0;
}