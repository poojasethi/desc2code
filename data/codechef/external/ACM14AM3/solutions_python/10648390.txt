#include<bits/stdc++.h>
#define ll long long
#define pb push_back
#define mp make_pair
#define MOD 1000000007
#define pii pair<int,int>
#define sc scanf
#define pf printf
using namespace std;

struct cmp
{
    bool operator()(pii a ,pii b){
        return a.second > b.second;
    }
};

ll modpow(ll base, ll exp, ll mod) 
{
  base %= mod;
  ll result = 1;
  while (exp > 0) {
    if (exp & 1) result = (result * base) % mod;
    base = (base * base) % mod;
    exp >>= 1;
  }
  return result;
}

char ch[20001];
int dp[20001][501];

int main()
{
	ios::sync_with_stdio(0);
	cin.tie(0);
	//freopen("C:/Users/HP/Desktop/codejam/1A_large_input.txt","r",stdin);//redirects standard input
	//freopen("C:/Users/HP/Desktop/codejam/1A_large_output.txt","w",stdout);//redirects standard output
	int q,m,l;
	cin>>ch;
	int len=strlen(ch);
	cin>>q;
	while(q--)
	{
		cin>>m>>l;
		for(int i=0; i<=len; i++)
		{
			for(int j=0; j<=m; j++)
			{
				dp[i][j]=0;
			}
		}
		
		for(int i=0; i<len; i++)
		{
			dp[i][(ch[i]-'0')%m]++;
		}
		
		for(int i=1; i<len; i++)
		{
			for(int j=0; j<m; j++)
			{
				if(dp[i-1][j]>0) {
					//cout<<" found for previous value of "<<j<<" and position "<<i<<" of value "<<(j*10+ch[i]-'0')%m<<endl;
					dp[i][(j*10+ch[i]-'0')%m]+=dp[i-1][j];
				}
			}
		}
		
		/*for(int i=0; i<len; i++)
		{
			for(int j=0; j<m; j++)
			{
				cout<<" "<<dp[i][j];
			}
			cout<<endl;
		}*/
		
		int cnt=0;
		for(int i=0; i<len; i++)
		{
			cnt+=dp[i][l];
		}
		
		cout<<cnt<<endl;
	}
	
	return 0;
}