#include<iostream>
#include<cstdio>
#include<cstring>

using namespace std;

int main()
{
	char s[20003];
	long len;
	int q;
	scanf("%s",s);
	len=strlen(s);
	scanf("%d",&q);
	while(q--)
	{
		int m,l,j,up[505]={0},val,curr=0,prev=0;
		long i,dp1[502],dp2[502];
		scanf("%d%d",&m,&l);
		memset(dp1,0,sizeof(dp1));
		memset(up,0,sizeof(up));
		val=(s[0]-'0')%m;
		dp1[val]++;
		up[val]=1;
		for(i=1;i<len;i++)
		{
			memset(dp2,0,sizeof(dp2));
			for(j=0;j<m;j++)
			{
				if(up[j]!=0)
				{
					val=j*10+s[i]-'0';
					val=val%m;
					dp2[val]+=up[j];
				}
			}
			memset(up,0,sizeof(up));
			for(j=0;j<m;j++)
			{
				dp2[j]+=dp1[j];
				up[j]=dp2[j]-dp1[j];
			}
			val=(s[i]-'0')%m;
			dp2[val]++;
			up[val]++;
			copy(dp2,dp2+501,dp1);
		}
		/*for(i=0;i<len;i++)
		{
			for(j=0;j<m;j++)
				cout<<dp[i][j]<< " ";
			cout<<endl;
		}*/
		//cout<<curr<<endl;
		printf("%ld\n",dp2[l]);
	}
	return 0;
}
