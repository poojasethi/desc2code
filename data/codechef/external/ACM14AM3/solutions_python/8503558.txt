#include<stdio.h>
#include<string.h>	
int a[502][20005]={0};
int main()
{
	char ch[20008];
	scanf("%s",ch);
	int len=strlen(ch);
	int q,temp; 
	scanf("%d",&q);
	while(q--)
	{
		temp=0;
		int l,m,i,j;
		scanf("%d%d",&m,&l);

//		temp= (ch[0]-'0')%m;
		//printf("\n\n%d \n\n\n",temp);
		//a[temp][0]++;	
		
		for(j=0;j<len;j++)
		{
			//temp=(temp*10+(ch[j]-'0'))%m;
			//printf("\n\n%d \n\n\n",temp);
			
			//a[temp][j]++;
			for (i=0;i<m;i++)
				a[i][j]=0;	
			a[(ch[j]-'0')%m][j]++;
			if (j>0)
				for(i=0;i<m;i++)
				{

					if(a[i][j-1]>0)
					{
					
						int num=(i*10+((ch[j]-'0'))%m)%m;
						a[num][j]=(a[i][j-1]+a[num][j]);
					}
				}
			
		}
		long long max=0;
		
			for(j=0;j<len;j++)
			{
				//printf("%d ",j);
				if(a[l][j]>0)
				{
					max=max+(long long )a[l][j];
				}
			}
					//printf("\n");
		printf("%lld\n",max);
 	}
return 0;
}