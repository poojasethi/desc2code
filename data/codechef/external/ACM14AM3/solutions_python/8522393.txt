#include <bits/stdc++.h>

using namespace std;

#define REP(i,n) for(int (i) = 0; (i) < (n); (i)++)
#define ll long long

char s[20001];


int main()
{
    scanf("%s", s);
    int n = strlen(s);

    vector<int> a;
    for(int i=0;i<n;i++)
        a.push_back(s[i]-'0');

    int qn;
    scanf("%d", &qn);

    while(qn--)
    {
        int m, l;
        scanf("%d %d", &m, &l);

        vector<int> vc(m, 0);
        vc[0] = 1;
        vector<int> vc_temp(m,0);

        int t = 0;
        int result = 0;

        for(int j=0;j<n;j++)
        {
            t = (t*10 + a[j])%m;

            int v = (t>=l ? t-l : t+(m-l));
            result += vc[v];

            for(int i=0;i<m;i++)
            {
                vc_temp[i] = vc[i];
                vc[i] = 0;
            }

            for(int i=0;i<m;i++)
                vc[(i*10)%m] += vc_temp[i];


            vc[(t*10)%m]++;
        }

        printf("%d\n", result);

    }
}
