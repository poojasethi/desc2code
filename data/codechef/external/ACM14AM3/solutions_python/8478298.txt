#include <iostream>
#include <algorithm>
#include <bits/stdc++.h>
#include <fstream>
#define fr freopen("input.in","r",stdin)
#define fw freopen("output.out","w",stdout)
#define iOs ios_base::sync_with_stdio(false);
#define INF 1000000007 
#define all(x) (x).begin(), (x).end()          
using namespace std;
typedef long long LL;
typedef long long lli;
typedef pair<int, int> pii;
typedef vector<int> vi;
typedef vector<vi> vvi;
int dp[2][499];
main()
{
    //fw;fr;
    iOs;
    string s; cin>>s;
    int q; cin>>q; 
    bool previous=1,curr=0;
    while(q--) {
        int m, l; cin>>m>>l;
        memset(dp, 0, sizeof(dp));
        int ans = 0;
        bool curr = 0, previous = 1;
        for(int i=0;i<s.size();i++) {
 
            for(int j=0; j<m;j++) dp[curr][j] = 0;
 
            for(int j=0;j<m;j++)  dp[curr][(j*10 + s[i]-'0')%m] += dp[previous][j];
            dp[curr][(s[i]-'0')%m]++;
            ans += dp[curr][l];
            swap(curr, previous);
        }
 
        cout << ans << endl;
    }
    return 0;
}
