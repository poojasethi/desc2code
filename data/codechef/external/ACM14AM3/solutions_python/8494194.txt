#include<iostream>
#include<string>
#include<stdio.h>
using namespace std;
int main(){
    int t,m,l,i,j,len;
    long long dp_temp[500], dp[500], total;
    string s;
    cin>>s;
    len = s.length();
    scanf("%d",&t);
    while(t--){
        total=0;
        scanf("%d %d",&m,&l);
        for(j=0;j<500;j++){dp_temp[j]=0;dp[j]=0;}
        dp_temp[(s[0]-'0')%m]=1;
        if(((s[0]-'0')%m)==l) total++;
        for(i=1;i<len;i++){
            for(j=0;j<500;j++){
                if(dp_temp[j]){
                    dp[((j*10)+s[i]-'0')%m]+=dp_temp[j];
                }
            }
            dp[(s[i]-'0')%m]++;
            for(j=0;j<500;j++){
                if(j==l) total+=dp[j];
                dp_temp[j]=dp[j];
                dp[j]=0;
            }
        }
        printf("%lld\n",total);
    }
    return 0;
}
