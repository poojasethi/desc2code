#include<stdio.h>
#include<math.h>
#include<complex>
#include<vector>

using namespace std;

typedef complex<double> cd;

int get_size(int n)
{
    if(!(n & (n-1))) return n;
    int t = 0;
    while(n)
    {
        n >>= 1;
        t++;
    }
    return 1 << t;
}

void compute_fft(vector<cd>& a, cd omega)
{
    int N = a.size();
    if(N == 1) return;
    vector<cd> a_even;
    vector<cd> a_odd;
    for(int i=0; i<N; i+=2)
    {
        a_even.push_back(a[i]);
        a_odd.push_back(a[i+1]);
    }
    compute_fft(a_even, omega * omega);
    compute_fft(a_odd, omega * omega);
    cd mult = cd(1,0);
    for(int i=0; i<N/2; ++i)
    {
        a[i] = a_even[i] + mult * a_odd[i];
        a[i + N/2] = a_even[i] - mult * a_odd[i];
        mult *= omega;
    }
}

vector<cd> fft(vector<cd> a)
{
    int N = get_size(a.size());
    a.resize(N);
    compute_fft(a, cd (cos(2 * M_PI / N), sin(2 * M_PI / N)));
    return a;
}

vector<cd> inverse_fft(vector<cd> a)
{
    int N = get_size(a.size());
    a.resize(N);
    compute_fft(a, cd (cos(-2 * M_PI / N), sin(-2 * M_PI / N)));
    for(int i=0; i<N; ++i) a[i] /= N;
    return a;
}

int main()
{
    //freopen("CDZ1303.txt", "r", stdin);
    int T;
    scanf("%d", &T);
    while(T--)
    {
        int N1,N2;
        scanf("%d %d", &N1, &N2);
        vector<cd> a;
        for(int i=0; i<=N1; ++i)
        {
            double temp;
            scanf("%lf", &temp);
            a.push_back(cd(temp, 0));
        }
        vector<cd> b;
        for(int i=0; i<=N2; ++i)
        {
            double temp;
            scanf("%lf", &temp);
            b.push_back(cd(temp, 0));
        }
        int N = N1 + N2 + 1;
        int M = get_size(N);
        a.resize(M);
        b.resize(M);
        vector<cd> A = fft(a);
        vector<cd> B = fft(b);
        vector<cd> C(M);
        for(int i=0; i<M; ++i) C[i] = A[i] * B[i];
        vector<cd> c = inverse_fft(C);
        int t = M-1;
        while((unsigned int)(c[t].real() + 0.5) == 0) t--;
        printf("%d\n", t);
        for(int i=0; i<=t; ++i) printf("%u ", (unsigned int)(c[i].real() + 0.5));
        printf("\n");
    }
    return 0;
}
