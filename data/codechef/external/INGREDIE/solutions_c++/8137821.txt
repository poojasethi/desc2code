
//============================================================================
// Name        : riya.cpp
// Author      : riya1794
//============================================================================

#include<bits/stdc++.h>

using namespace std;

#define MAX(a,b) ((a)>(b)?(a):(b))
#define MIN(a,b) ((a)<(b)?(a):(b))

#define REP(i,a,b) for(LL i=a;i<b;i++)
#define rep(i,b) for(LL i=0;i<b;i++)
#define rep1(i,b) for(LL i=1;i<=b;i++)

#define pdn(n) printf("%d\n",n)
#define pln(n) printf("%ld\n",n)
#define plln(n) printf("%lld\n",n)
#define pn(n) printf("\n")
#define psn(n) printf("%s\n",n)

#define s2ll(n1,n2) scanf("%lld%lld",&n1,&n2)
#define sll(n) scanf("%lld",&n)
#define sl(n) scanf("%ld",&n)
#define sd(n) scanf("%d",&n)
#define ss(n) scanf("%s",n)

#define ass(n,a,b) assert(n>=a&&n<=b)

typedef long long LL;

#define MOD 1000000007
#define mx 1000000009

/* https://www.codechef.com/CDCRFT14/problems/INGREDIE */

LL dist[120][120], dp[120][120],n;

int main()
{
    LL e,a,b,w,s,s1,s2,ans1=mx,ans2=mx,child1,child2,cost1=0,cost2=0,ans=mx,i,j;
    s2ll(n,e);
    rep(i,n)
        {
            rep(j,n)
            {
                if(i!=j)
                    dist[i][j]=mx;
                else
                    dist[i][i]=0;
            }
        }
    rep(i,e)
    {
        s2ll(a,b);
        sll(w);
        dist[a][b]=w;
        dist[b][a]=w;
    }
    //init
        rep(i,n)
        {
            rep(j,n)
            {
                dp[i][j]= dist[i][j];
            }
        }
    //floyd warshall;
    rep(k,n)
    {
        rep(i,n)
        {
            rep(j,n)
                dp[i][j]= min(dp[i][j] , dp[i][k]+dp[k][j]);
        }
    }
    sll(s);
    LL store[s+5];
    rep(i,s)
        sll(store[i]);
    s2ll(child1,child2);
     sort(store,store+s);
    for(int mask=0;mask<(1<<s);mask++)
    {
        vector<LL> s1,s2;
        s1.clear();
        s2.clear();
        s1.push_back(child1);
        s2.push_back(child2);
        for(j=0;j<s;j++)
        {
            if((1<<j)& mask)
            {
                s1.push_back(store[j]);
              //   cout<<"1 mask "<<i<<" j "<<j<<" "<<store[j]<<endl;
            }
            else
            {
                s2.push_back(store[j]);
              //  cout<<"2 mask "<<i<<" j "<<j<<" "<<store[j]<<endl;
            }
        }
        ans1=ans2=mx;
        do
        {
            cost1=0;
            rep1(i,s1.size()-1)
                cost1+=dp[s1[i-1]][s1[i]];
            ans1=min(ans1, cost1);
        }while(next_permutation(s1.begin()+1, s1.end()));
        do
        {
            cost2=0;
            rep1(i,s2.size()-1)
                cost2+=dp[s2[i-1]][s2[i]];
            ans2=min(ans2, cost2);
        }while(next_permutation(s2.begin()+1, s2.end()));
        ans=min(ans , (ans1+ans2));
    }
    plln(ans);
    return 0;
}
