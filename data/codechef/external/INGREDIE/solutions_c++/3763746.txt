#include<iostream>
#include<cstdio>
#include<vector>
#include<algorithm>
#include<limits>
using namespace std;
int ar[105][105],dp[105][105];
#define INF 0x3f3f3f3f
#define ll long long
int main() {
    int n,m,a,b,w;
    scanf("%d%d",&n,&m);
    for(int i=0;i<n;i++) {
        for(int j=0;j<n;j++) ar[i][j]=INF;
    }
    for(int i=0;i<n;i++) ar[i][i]=0;
    for(int i=0;i<m;i++) {
        scanf("%d%d%d",&a,&b,&w);
        ar[a][b]=w;
        ar[b][a]=w;
    }
    for(int i=0;i<n;i++) {
        for(int j=0;j<n;j++) {
            dp[i][j]=ar[i][j];
        }
    }
    for(int k=0;k<n;k++) {
        for(int i=0;i<n;i++) {
            for(int j=0;j<n;j++) {
                dp[i][j]=min(dp[i][j],dp[i][k]+dp[k][j]);
            }
        }
    }
    int s,p1,p2;
    scanf("%d",&s);
    vector<int> shop(s);
    for(int i=0;i<s;i++) {
        scanf("%d",&a);
        shop[i]=a;
    }
    sort(shop.begin(),shop.end());
    scanf("%d%d",&p1,&p2);
    vector<int> sk1,sk2;
    ll ans=INF;
    for(int mask=0;mask<(1<<s);mask++) {
        sk1.clear();sk2.clear();
        sk1.push_back(p1);
        sk2.push_back(p2);
        //cout<<mask<<" ";
        for(int j=0;j<s;j++) {
            if(1<<j & mask) sk1.push_back(shop[j]);
            else sk2.push_back(shop[j]);
        }
        ll tcst1=INF,tcst2=INF;
        do {
            ll cst1=0;
            for(int i=1;i<sk1.size();i++) cst1+=dp[sk1[i-1]][sk1[i]];
            if(cst1<tcst1) tcst1=cst1;
        } while(next_permutation(sk1.begin()+1,sk1.end()));
        do {
            ll cst1=0;
            for(int i=1;i<sk2.size();i++) cst1+=dp[sk2[i-1]][sk2[i]];
            if(cst1<tcst2) tcst2=cst1;
        } while(next_permutation(sk2.begin()+1,sk2.end()));
        ans=min(ans,tcst1+tcst2);
    }
    printf("%lld\n",ans);
    return 0;
}
