#include<iostream>
using namespace std;

int main(){
    int n;
    cin>>n;
    while(n--){
               int num;
               cin>>num;
               int z=0,o=0,t=0;
               long long temp;
               for(int i=0;i<num;i++){
                       cin>>temp;
                       temp=temp%3;
                       if(temp==0){
                                   z++;
                                   }
                       else if(temp==1){
                            o++;
                            }
                       else{
                            t++;
                            }
                       }
               int result=0;
               result+=(o*(o-1)*(o-2))/6;
               result+=(t*(t-1)*(t-2))/6;
               result+=(o*t);
               result+=(z*o*t);
               result+=(z*(z-1))/2;
               result+=(z*(z-1)*(z-2))/6;
               cout<<result<<endl;
               }
    }
