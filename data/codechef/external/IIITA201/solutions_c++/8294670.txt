#include <bits/stdc++.h>
#define ll long long int
#define lu unsigned long long
#define s(a) scanf("%lld",&a)
#define f first
#define sc second
#define pb push_back
#define mp make_pair
#define inf 10e16
#define rock 10e9

using namespace std;

ll mark[350];
ll a[100001];

int main()
{
    ll n,i,j,k,w,ww,x,y,z,l,t,sq,kk,sum,q;
    s(t);
    while(t--) {
        s(n);s(q);
        for(i=1;i<=n;i++) s(a[i]);
        sq=sqrt(n)+1;
        for(i=0;i<=350;i++) mark[i]=0;
        for(i=1;i<=n;i++) {
            w=i/sq;
            w++;
            mark[w]+=a[i];
        }
        while(q--) {
            sum=0;
            s(x);s(y);
            w=x/sq;
            w++;
            ww=y/sq;
            ww++;
            if(w==ww) {
                for(i=x;i<=y;i++) {
                    sum=sum+a[i];
                }
            }
            else {
                for(i=x;i<=n;i++) {
                    kk=i/sq;
                    if(kk==w) break;
                    sum=sum+a[i];
                }
                for(i=w+1;i<ww;i++) {
                    sum=sum+mark[i];
                }
                for(i=y;i>=0;i--) {
                    kk=i/sq;
                    kk++;
                    if(kk<ww) break;
                    sum=sum+a[i];
                }
            }
            cout<<sum<<endl;
        }
    }
    return 0;
}
