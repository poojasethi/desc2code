#include <bits/stdc++.h>
#define ll long long int
#define lu unsigned long long
#define s(a) scanf("%lld",&a)
#define f first
#define sc second
#define pb push_back
#define mp make_pair
#define inf 10e16
#define rock 10e9

using namespace std;

ll mark[350];
ll a[100001];
ll ans[100001];
ll sq=350;
vector<pair<pair<ll,ll>,ll> >v;

bool comp(pair<pair<ll,ll>,ll>v1, pair<pair<ll,ll>,ll> v2)
{
    if(v1.f.f/sq != v2.f.f/sq) {return v1.f.f < v2.f.f;}
    else {return v1.f.sc < v2.f.sc;}
}

int main()
{
    ll n,i,j,k,w,ww,x,y,z,l,t,sq,kk,sum,q;
    s(t);
    while(t--) {
        v.clear();
        s(n);s(q);
        for(i=1;i<=n;i++) s(a[i]);
        sq=sqrt(n)+1;
        for(i=1;i<=q;i++) {
            s(x);s(y);
            v.pb(mp(mp(x,y),i));
        }
        sort(v.begin(),v.end(),comp);
        sum=0;
        for(j=v[0].f.f;j<=v[0].f.sc;j++) {
            sum=sum+a[j];
        }
        ans[v[0].sc]=sum;
        x=v[0].f.f;
        y=v[0].f.sc;
        for(i=1;i<v.size();i++) {
            w=v[i].f.f;
            ww=v[i].f.sc;
            if(w<x) {
                for(j=w;j<x;j++) {
                    sum=sum+a[j];
                }
            }
            else {
                for(j=x;j<w;j++) {
                    sum=sum-a[j];
                }
            }
            if(ww<y) {
                for(j=ww+1;j<=y;j++) {
                    sum=sum-a[j];
                }
            }
            else {
                for(j=y+1;j<=ww;j++) {
                    sum=sum+a[j];
                }
            }
            x=w;
            y=ww;
            ans[v[i].sc]=sum;
        }
        for(i=1;i<=q;i++) cout<<ans[i]<<endl;
    }
    return 0;
}
