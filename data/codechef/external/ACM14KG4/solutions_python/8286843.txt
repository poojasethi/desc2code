#include<cstdio>
#include<set>
#include<vector>
using namespace std;
void doit()
{
	int n;
	scanf("%d",&n);
	vector<int> p(n);
	vector<int> ans(n);
	for(int i=0;i<n;++i)scanf("%d",&p[i]);
	set<pair<int, int> > curr;
	curr.insert(make_pair(1,5*n));
	for(int i=n-1;i>=0;i--)
	{
		set< pair<int,int> >::iterator poss = curr.lower_bound(make_pair(p[i],p[i]));
		if(poss!=curr.begin())
		{
			set< pair<int,int> >::iterator prv=poss;
			prv--;
			if((*prv).second>=p[i]+2)
			{
				ans[i]=p[i];
				int l=(*prv).first;
				int r=(*prv).second;
				curr.erase(prv);
				if(r-p[i]-3 + 1 >=3)curr.insert(make_pair(p[i]+3,r));
				if(p[i]-1-l+1 >=3)curr.insert(make_pair(l,p[i]-1));
				continue;
			}
		}
		if(poss == curr.end())
			poss=curr.begin();
		ans[i]=(*poss).first;
		int r=(*poss).second;
		curr.erase(poss);
		if(r-ans[i]-3+1 >=3)curr.insert(make_pair(ans[i]+3,r));
	}
	for(int i=0;i<n;++i)printf("%d ",ans[i]);
	printf("\n");
}
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		doit();
	}
	return 0;
}
