#include <iostream>
#include <cstring>
#include <cstdio>
#include <algorithm>
#define M 1000000007

using namespace std;

int a[100005];
long long dp[100005];

void pre()
{
     dp[0] = 1;
     for ( int i = 1; i <= 100000; i++ ) dp[i] = (dp[i-1]*2)%M;
     return;
}

int main()
{
    int t,n,k;
    pre();
    cin >> t;
    while ( t-- ) {
          cin >> n >> k;
          for ( int i = 0; i < n; i++ ) cin >> a[i];
          sort(a,a+n);
          long long ans = 0;
          for ( int i = 0; i < n; i++ ) {
              int idx = upper_bound(a+i,a+n,a[i]+k) - a;
              int left = (idx-i-1);
              ans += dp[left]%M;
              ans %= M;
          }
          cout << ans << endl;
    }
    return 0;
}
