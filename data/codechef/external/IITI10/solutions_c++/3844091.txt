#include <iostream>
#include <cstring>
#include <cstdio>
#include <algorithm>
#define M 1000000007

using namespace std;

int a[100005];
long long dp[100005];

inline void fi(int *a)
{
 register char c=0;
 while (c<33) c=getchar_unlocked();
 *a=0;
 int tmp = 0;
 while (c>33)
 {
     if ( c == 45 ) tmp = 1;
     else *a=*a*10+c-'0';
     c=getchar_unlocked();
 }
 if ( tmp == 1 ) *a = 0-(*a);
}


void pre()
{
     dp[0] = 1;
     for ( int i = 1; i <= 100000; i++ ) dp[i] = (dp[i-1]*2)%M;
     return;
}

int main()
{
    int t,n,k;
    pre();
    fi(&t);
    while ( t-- ) {
          fi(&n); fi(&k);
          for ( int i = 0; i < n; i++ ) fi(&a[i]);
          sort(a,a+n);
          long long ans = 0;
          for ( int i = 0; i < n; i++ ) {
              int idx = upper_bound(a+i,a+n,a[i]+k) - a;
              int left = (idx-i-1);
              ans += dp[left]%M;
              ans %= M;
          }
          printf("%lld\n", ans);
    }
    return 0;
}
