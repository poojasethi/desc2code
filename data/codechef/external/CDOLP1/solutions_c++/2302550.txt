#include "stdio.h"
#include "stdlib.h"
#include <vector>

int n,s,f;
std::vector<int> *adjl;
bool *visited;
int temp_max=0;

void dfs(int i)
{
	visited[i] = true;
	temp_max += 1;
	for(std::vector<int>::iterator it = adjl[i].begin(); it != adjl[i].end(); it++)
	{
		if(visited[*it]==false) dfs(*it);
	}
	return;
}


int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		int temp1,temp2;
		scanf("%d%d%d",&n,&s,&f);
		adjl = new std::vector<int> [n];
		visited = new bool [n];
		for(int index=0;index<f;index++)
		{
			scanf("%d%d",&temp1,&temp2);
			adjl[temp1-1].push_back(temp2-1);
			adjl[temp2-1].push_back(temp1-1);
		}
		
		for(int index=0;index<n;index++) visited[index] = false;
		temp_max = 0;
		dfs(s-1);
		int result = 0;
		for(int index=0;index<n;index++)
		{
			if(visited[index]==false)
			{
				temp_max = 0;
				dfs(index);
				if(temp_max > result) result = temp_max;
			}
		}		
		
		printf("%d\n",result);
	}

	return 0;
}