#include<iostream>
#include<cstdio>
using namespace std;
int a[1001][1001]={0};
int visited[1001]={0};
int n;
int count=0;
int dfs(int start)
{
    count++;
    visited[start]=1;
    for(int j=1;j<=n;j++)
    {
        if(a[start][j]&&visited[j]==0)
        {

            dfs(j);
        }
    }
    return count;
}
int main()
{
    int test;
    scanf("%d",&test);
    while(test--)
    {
        int s,f;
        scanf("%d %d %d",&n,&s,&f);
        while(f--)
        {
            int first,second;
            scanf("%d %d",&first,&second);
            a[first][second]=1;
            a[second][first]=1;
        }
        count=0;
        dfs(s);
        int max=0;
        for(int k=1;k<=n;k++)
        {
            if(visited[k]==0)
            {
               count=0;
               int pre=dfs(k);
               //printf("%d  ",pre);
               if(max<pre)
               max=pre;

            }
        }
        //printf("\n");
        printf("%d\n",max);
        for(int i=1;i<=1000;i++)
        visited[i]=0;
        for(int i=1;i<=1000;i++)
        for(int j=1;j<=1000;j++)
        a[i][j]=0;

    }
}
