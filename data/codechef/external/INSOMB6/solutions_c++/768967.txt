#define DEBUG 1

#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int f(char c[101][101], char s[101], int n) {
  int i;
  for(i=0;i<n;i++)
    if(!strcmp(c[i], s))
      return i;
  return -1;
}

int main(void) {
  int n, i, j, k, only, any;
  char s[101], c[101][101];
  int acc[101][101];

  scanf("%d", &n);
  for(i=0;i<n;i++)
    scanf("%s", &s); //dig names irrelevant

  for(i=0;i<n;i++)
    scanf("%s", &c[i]); //car names

  memset(acc, 0, sizeof(acc));
  for(i=0;i<n;i++) {
    scanf("%d", &k);
    for(j=0;j<k;j++)
      scanf("%s", &s);
    acc[i][f(c,s,n)]=k;
  }

  for(j=0;j<n;j++) {
    for(i=0,any=0,only=0;i<n;i++) {
      only+=(acc[i][j]==1);
      any+=(acc[i][j]>0);
    }
    if(only>1) {// || !any) {
      printf("No\n");
      return 0;
    }
  }
  printf("Yes\n");
  return 0;
}
