#include<iostream>
#include<cstdio>
#include<vector>
using namespace std;
#define MAXN 101
bool visited[MAXN],conn[MAXN][MAXN];
int n,opp[MAXN];
bool find(int u)
{
    for(int i=0;i<n;i++)
     if(!visited[i]&&conn[u][i]==1)
     {
        visited[i]=true;
        if(!opp[i]||find(opp[i]))
        {
            opp[i]=u;return true;
        }
     }
     return false;
}
int main()
{
	int i,j,k,no_pref; char name[101]; string car_name;
	scanf("%d",&n);
	vector <string> car; car.resize(n+1);
	for(i=0;i<n;i++)scanf("%s",name);
	for(i=0;i<n;i++)cin>>car[i];

	for(i=0;i<n;i++)
	{
       scanf("%d",&no_pref);
       for(j=0;j<no_pref;j++)
       {
          cin>>car_name;
          for(k=0;k<n;k++)
          if(car_name==car[k])
          {
            conn[i][k]=true;break;
          }
       }
	}
	
	int ans=0;
	for(i=0;i<n;i++)
	{
	    for(j=0;j<=n;j++)visited[j]=0;
	    if(find(i))ans++;
	}
	if(ans==n)printf("Yes\n");else printf("No\n");
return 0;
}
