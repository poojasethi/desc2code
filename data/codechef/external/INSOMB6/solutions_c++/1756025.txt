#include <iostream>
#include <string>
#include <vector>
#include <map>
#include <cstdlib>
#include <climits>
#include <cstdio>
 
using namespace std;
int csearch(int);
 
string pname;
char veh[100];
map<string,int> vehicles;

int nor[100]; // number of records
int num;
string prefl[100][100];
 
int main()
{
 
int j;
 
char st1[100];
//,carsind[100],j=0,pr=0,fnd=-1;
cin>> num;
 
 
for(j=0;j<num;j++)
cin>>pname;
 
 
for(j=0;j<num;j++)
{
cin>>veh;
vehicles[veh] = 0;
}
 
//cin.clear();
//std::cin.ignore(INT_MAX);
cin.clear();
cin.ignore(INT_MAX,'\n');
 
 
for(j=0;j<num;j++)
{ 
scanf("%d",&nor[j]);
//cin>>nor[j];
//cout<<nor[j];
 
 
 
for(int h=0;h<nor[j];h++)
{
 
cin>>prefl[j][h];
 
//prefl[j].push_back(veh);
 
}
}

 
if(csearch(0) == -1)
cout<<"No\n";
 
return 0;
}
 
int csearch(int n)
{
	map<string,int>::iterator it;
int found = 0;
//cout<<n;
for(int i=0;i<nor[n];i++)
{
	//cout<< " \nn : "<<n<<" i : "<<i<<"\n";
it = vehicles.find(prefl[n][i]);
if( it!= vehicles.end())
{
	//cout<<it->first<<" ";
if(it->second == 0)
{
if(n==num-1)
{
	cout<<"Yes\n";
  exit(0);	
		
}
	
else
{
//	cout<<it->first<<" avail : "<<it->second<<"\n";
it->second = 1;
csearch(n+1);
//cout<<"here n : "<<n;
it->second = 0;
//cout<<" "<<it->first<<" left\n";
 
}
 
}
else
{
//	cout<<it->first<<" avail : "<<it->second<<"\n";
}


}
 
 
}
//cout<<"not found -- n :  "<<n;
return -1;
 
}
 
