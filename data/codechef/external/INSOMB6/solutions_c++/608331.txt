#include <vector>
#include <string>
#include <cstdio>
#include <map>

using namespace std;

int N;
char buf[256];
bool matched[100] = {false};
vector<vector<int> > prefList;
map<string, int> carMap;

bool solve(int i)
{
    if (i == N)
        return true;

    vector<int>::iterator itr;
    for (itr=prefList[i].begin(); itr!=prefList[i].end(); itr++)
    {
        if(!matched[*itr])
        {
            matched[*itr] = true;
            if (solve(i+1))
                return true;
            matched[*itr] = false;
        }
    }
    return false;
}

int main()
{
    scanf("%d", &N);
    for(int i=0; i<N; i++)
        scanf("%s", buf);

    for(int i=0; i<N; i++)
    {
        scanf("%s", buf);
        carMap[string(buf)] = i;
    }

    int K;
    for(int i=0; i<N; i++)
    {
        scanf("%d", &K);
        vector<int> v;
        for(int j = 0; j < K; j++)
        {
            scanf("%s", buf);
            v.push_back(carMap[string(buf)]);
        }
        prefList.push_back(v);
    }
    if(solve(0))
        printf("Yes\n");
    else
        printf("No\n");
    return 0;
}
