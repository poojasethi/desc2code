#include<iostream>
#include<stdlib.h>
#define max 101
using namespace std;
int pref[max][max]={0};
 string names[max];
    string car[max];
int n;
int t[max]={-1}; //t[i] denotes the person and t[i]=c denotes the car that t[i] can have

bool canhave(int pos) //someone else has preoccupied that seat
{
for(int i=0;i<pos;i++)
if(t[i] ==t[pos])
return false;
return true;    
     
}

bool available(int val,int row) //the person has car at that preference
{
     
if(pref[row][val]==1)
return true;
return false;     
     
}
bool found=false;
void assigncar(int i)
{
if(found)
return;
for(t[i]=0;t[i]<n;t[i]++)
 {
                         
                         if(canhave(i) && available(t[i],i))
                         {
    //cout<<"h1";                     
   // cout<<" i : "<<i<<" given " <<t[i]<<endl;              
                                       if(i==(n-1))
                                       {
  found=true;                           
  
//  exit(1);                    
//                                    cout<<" yes ";
                                       break;
                                       }
                                       else
                                       assigncar(i+1);
                                       
                                       
                                       }
                         
                              
                         }
     
     
     }
    
    
    
int findbase(string a[], string s,int len)
{
    for(int i=0;i<len;i++)
    if(a[i]==s)
    return i;
    return -1;
    
    
    }
int main()
{
    
    cin>>n;
  
    for(int i=0;i<n;i++)
    cin>>names[i];
    
    int k; //cars;
    k=n;
 
    for(int i=0;i<k;i++)
    cin>>car[i];
    
    for(int i=0;i<n;i++)
    {
            int num;
            cin>>num;
            for(int j=0;j<num;j++)
            {
            string c;
            cin>>c;
            int ca=findbase(car,c,k);
            pref[i][ca]=1;        
            }
            
    }
    
 /*   
for(int i=0;i<n;i++)
{
        for(int j=0;j<k;j++)
 cout<<pref[i][j]<<" ";
 cout<<"\n";       
        }
        
   */ 
        assigncar(0);
 if(found)
cout<<"Yes\n";
else
 cout<<"No\n";
    //system("pause");
    return 0;
    }
