#include<stdio.h>
#include<string.h>
#include<stdlib.h>
int k[105],b[105][105],a[105],n,l;
	char str[105][105],st[105];
void func(int i)
{
/*for(int i=1;i<=n;i++)
printf("%d ",a[i]);
printf("\n");*/

	if(i>n)
	{
		printf("Yes");
		exit(0);
	}
	for(int j=1;j<=k[i];j++)
	{
		if(a[b[i][j]]==1)
		{
			a[b[i][j]]=0;
			func(i+1);
                        a[b[i][j]]=1;
		}
	}
	
}
int main()
{
	
	scanf("%d",&n);
	for(int i=0;i<=n;i++)
	gets(st);
	for(int i=1;i<=n;i++)
	gets(str[i]);
	for(int i=1;i<=n;i++)
	{
		scanf("%d",&k[i]);
		

		for(int j=1;j<=k[i];j++)
		{
			scanf("%s",&st);
			for(l=1;l<=n;l++)
			{
               if(strcmp(st,str[l])==0)
                break;
			}
			b[i][j]=l;
		}		
	}
	for(int i=1;i<=n;i++)
	a[i]=1;
	
	/*for(int i=1;i<=n;i++)
	{
		printf("%d ",k[i]);

	}
	printf("\n");
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=k[i];j++)
		{
			printf("%d ",b[i][j]);
		}
		printf("\n");
		
	}
*/
func(1);
printf("No");	
	
}