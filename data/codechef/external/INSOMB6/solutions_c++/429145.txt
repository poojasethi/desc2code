#include<iostream>
#include<stdio.h>
#include<string.h>
#include<math.h>
#include<stdlib.h>
#include<malloc.h>
#include<vector>
#include<algorithm>
#include<stack>
#include<queue>
#include<list>
#include<string>


#define min(a,b) (a>b?b:a)
#define max(a,b) (a>b?a:b)
typedef long long LL;
using namespace std;

vector< vector<int> > pref;
vector<string> dig;
vector<string> car;
vector<int> avail;

int funct(int vipid)
{
    if(vipid==dig.size())
        return 1;
    for(int i=0;i<pref[vipid].size();i++){
        int a=pref[vipid][i];
        if(avail[a]){
            avail[a]=0;
            int rt=funct(vipid+1);
            if(rt)
                return 1;
            avail[a]=1;
        }
    }
    return 0;
}

int id(string s)
{
    int i;
    for(i=0;car[i]!=s;i++);
    return i;
}



int main()
{
    //freopen("input.txt","r",stdin);
    int n;
    cin>>n;
    for(int i=0;i<n;i++){
        string s;
        cin>>s;
        dig.push_back(s);
    }
    for(int i=0;i<n;i++){
        string s;
        cin>>s;
        car.push_back(s);
        avail.push_back(1);
    }
    for(int i=0;i<n;i++){
        int k;
        cin>>k;
        vector<int> temp;
        for(int j=0;j<k;j++){
            string s;
            cin>>s;
            temp.push_back(id(s));
        }
        pref.push_back(temp);
    }
    //////////////////////
   /* for(int i=0;i<pref.size();i++){
        for(int j=0;j<pref[i].size();j++){
            cout<<pref[i][j]<<" ";
        }
        cout<<endl;
    }*/
    ///////////////////////
    int x=funct(0);
    if(x)
        cout<<"Yes\n";
    else
        cout<<"No\n";
}
