#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define ff first
#define ss second
#define ll long long
#define sd(x) scanf("%d",&x)
#define mod 1000000007
const int N=1000000+5;
ll seg[6*N];
int a[N];
ll pow2[N];
void build(int i,int l,int r){
      if(l==r){
            seg[i]=a[l];
            return;
      }
      build(2*i,l,(l+r)/2);
      build(2*i+1,(l+r)/2+1,r);
      seg[i]=(seg[2*i]|seg[2*i+1]);
}
void update(int i,int l,int r,int x,ll val){
      if(x<l||x>r)
            return;
      if((l==r)and(x==l)){
            seg[i]=val;
            return;
      }
      update(2*i,l,(l+r)/2,x,val);
      update(2*i+1,(l+r)/2+1,r,x,val);
      seg[i]=(seg[2*i]|seg[2*i+1]);
}
ll query(int i,int l,int r,int ql,int qr){
      if(ql>r||qr<l)
            return 0;
      if((ql<=l)and(r<=qr))
            return seg[i];
      return query(2*i,l,(l+r)/2,ql,qr)|query(2*i+1,(l+r)/2+1,r,ql,qr);
}
int main(){
      int n,q;
      sd(n);
      sd(q);
      pow2[0]=1;
      for(int i=1;i<=n;i++){
            pow2[i]=(pow2[i-1]*2)%mod;
      }
      for(int i=1;i<=n;i++){
            sd(a[i]);
      }
      build(1,1,n);
      while(q--){
           int t;
           sd(t);
           if(t==2){
            int v,x;
            sd(v);
            sd(x);
            update(1,1,n,v,x);
           }
           else{
            int l,r;
            sd(l);sd(r);
            ll x=query(1,1,n,l,r);
            x=(x*pow2[r-l])%mod;
            printf("%lld\n",x);
           } 
      }
      return 0;
}