#include<iostream>
#include<bits/stdc++.h>
#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;
long long int  rank[100010];
long long int  parent[100010];
#define mod 1000000007

long long int find(long long int  a)
  {
    if(parent[a]!=parent[parent[a]])
     {
      parent[a]=find(parent[a]);
     }

     return parent[a];
 }

long long int  merge(long long int  a, long long int   b)
{
  long long int  x=find(a);
  long long int  y=find(b);
  if(rank[x]>rank[y])
  {
      parent[y]=x;
   
  }
  
  else
  {
      parent[x]=y;
   if(rank[x]==rank[y])
   rank[y]++;
  }
  
}


int main()
{
	 long long int  t; cin>>t;while(t--)
	{
		
	
   long long int  n,q;
    cin>>n>>q;
    for(long long int  i=0;i<=n;i++)
     {
     	rank[i]=1;
     	parent[i]=i;
	 }
    vector<pair<long long int ,long long int > > v;
    long long int  haa[10000][2];// 0 for even 1 for odd
    memset(haa,0,sizeof haa);
    
    while(q--)
     {
     	 long long int  l,r;
     	  cin>>l>>r;
     	  if((r-l+1)%2==0)
     	   {
     	   	 long long int  mid=(r+l)/2;
     	   	 long long int  len=(r-l+1);
     	   	 if(haa[mid][0]<len/2) haa[mid][0]=len/2;
     	   	 
			}
			else
			{
				 	 long long int  mid=(r+l)/2;
     	   	         long long int  len=(r-l+1);
     	   	         if(haa[mid][1]<len/2) haa[mid][1]=len/2;
			}
	 }
	 
	 for(long long int  i=1;i<=n;i++)
	  {
	  	 if(haa[i][0]!=0)
	  	  {
	  	  	 long long int  len=haa[i][0];
	  	  	  long long int  fp=i;
	  	  	  long long int  sp=i+1;
	  	  	 for(long long int  j=0;j<len;j++)
	  	  	  {
	  	  	  	 
	  	  	       merge(fp,sp);
	  	  	        fp--;
	  	  	        sp++;
				  }
			}
			if(haa[i][1]!=0)
			 {
			    long long int  len=haa[i][1];
	  	  	  long long int  fp=i-1;
	  	  	  long long int  sp=i+1;
	  	  	 for(long long int  j=0;j<len;j++)
	  	  	  {
	  	  	  	 
	  	  	       merge(fp,sp);
	  	  	        fp--;
	  	  	        sp++;
				  }	
			 }
	  }
	  long long int  c=0;
	  for(long long int  i=1;i<=n;i++)
	   {
	   	 if(parent[i]==i)c++;
	   }
	    long long int  ans=1;
for(long long int  i=0;i<c;i++)
 {
  ans=(ans*26)%mod;	
 }
  cout<<ans<<endl;
}
 return 0;
}