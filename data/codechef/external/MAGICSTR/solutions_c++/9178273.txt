#include<bits/stdc++.h>
#define ll long long
#define pb push_back
#define mp make_pair
#define F first
#define S second
#define mod 1000000007
#define sl(a) scanf("%lld",&a);

using namespace std;

vector<ll>gp[2001];
ll n,m,visited[2001],midpt[4004];
vector<pair<ll,ll> >ran(4004);

void set_()
{	
	ll i;
	for(i=0;i<2001;i++)
	{
		gp[i].clear();
		visited[i]=0;
	}
	for(i=0;i<4004;i++)
	{
		midpt[i]=0;
	}
	ran.clear();
}

void dfs(ll v)
{
	ll i,u;
	visited[v]=1;
	for(i=0;i<gp[v].size();i++)
	{
		u=gp[v][i];
		if(visited[u]==0)
		{
			dfs(u);
		}
	}
}
void solve(ll a,ll b)
{
	ll i,k;
	for(i=a,k=0;i<=(a+b)/2;i++,k++)
	{
		if(i==b-k)
			continue;
		gp[i].pb(b-k);
		gp[b-k].pb(i);
	}
}
ll power(ll a,ll b)
{
	ll temp=a;
	ll ans=1;
	while(b>0)
	{
		if(b%2==0)
		{
			temp=(temp*temp)%mod;
			b/=2;
		}
		else
		{
			ans=(temp*ans)%mod;
			b--;
		}
	}
	return ans;
}
int main()
{
	ll t,a,b,i,cnt;
	sl(t)
	while(t--)
	{
		set_();
		cnt=0;
		sl(n)
		sl(m)
		for(i=1;i<=m;i++)
		{
			sl(a)
			sl(b)
			if(midpt[a+b]<b-a+1)
			{
				midpt[a+b]=b-a+1;
				ran[a+b]=mp(a,b);
			}
		}
		for(i=0;i<4004;i++)
		{
			if(midpt[i]!=0)
			{
				solve(ran[i].F,ran[i].S);
			}
		}
		for(i=1;i<=n;i++)
		{
			if(visited[i]==0)
			{
				dfs(i);
				cnt++;
			}
		}
		printf("%lld\n",power((ll)26,cnt));
	}
	return 0;
}
