//Author:Hena Firdaus
//GREEDY APPROACH...GIVING WA :()
#include <bits/stdc++.h>
using namespace std;
int n,vc[100005],vis[100005];
vector<int>adj[100005];
int vertex_cover()
{
  	for(int i=1;i<=n;i++)
  	{
  		if(!vis[i])
  		{
  			for(int j=0;j<adj[i].size();j++)
  			{
  				int v=adj[i][j];
  				if(vis[v]) continue;
  					vis[v]=1;
  					vis[i]=1;
  					break;
  				
  			}
  		}
  	}
  	int c=0;
  	for(int i=1;i<=n;i++)
  	{
  		if(vis[i])
  			c++;
  		//cout<<vis[i]<<" ";
  	}
  	//cout<<endl;
 return c/2;
}

int main()
{
	int m,a,b,k;
	cin>>n>>m>>k;
	while(m--)
	{
		cin>>a>>b;
		adj[a].push_back(b);
		adj[b].push_back(a);
	}
		int vv;
		int h;
		memset(vis,0,sizeof(vis));
		vv=vertex_cover();
		//cout<<"vERTEX COVER:"<<vv<<endl;
		if(vv<k)
			cout<<"Case 1\n";
		else
			
				cout<<"Case 2\n";
	
	return 0;
}