#include<bits/stdc++.h>
using namespace std;
# define limit 32625
vector<bool> v(32625);
int main()
{
	vector<int> prime(3503);
	int i,j,in=2,t,n,num,flag,q,x,c,prev,ans;
	for(j=4;j<limit;j=j+2)
		v[j]=true;
	for(j=6;j<limit;j=j+6)
		v[j]=true;
		prime[0]=2;
		prime[1]=3;
	for(i=6;i<limit;i=i+6)
	{
		if(!v[i-1])
		{
			prime[in]=i-1;
			in++;
			if((i-1)*(i-1)<limit)
			{
				for(j=(i-1)*(i-1);j<limit;j=j+2*(i-1))
					v[j]=true;
			}
		}
		if(!v[i+1])
		{
			prime[in]=i+1;
			in++;
			if((i+1)*(i+1)<limit)
			{
				for(j=(i+1)*(i+1);j<limit;j=j+2*(i+1))
					v[j]=true;
			}
		}
	}
	vector<int>::iterator it;
			scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n);
		map<int,vector<int> > m;
		map<int,pair<int,int> > store;
		for(i=0;i<n;i++)
		{
			scanf("%d",&(num));
			for(it=prime.begin();((it!=prime.end())&&((*it)<=num));it++)
			{
				j=*it;
			   if(j!=0)
			   {
				if(num%j==0)
				{
					flag=1;
					m[j].push_back(i);
					while(num%j==0)
					{
						num/=j;
					}
				}
			   }
				
			}
			if(num!=1)
			{
				m[num].push_back(i);
			}
		}
		scanf("%d",&q);
		while(q--)
		{
			scanf("%d",&x);
			if(store[x].first==1)
			{
				printf("%d\n",store[x].second);
			}
			else
			{
				it=m[x].begin();
				ans=c=0;
				//cout<<"hi1"<<endl;
				if(it!=m[x].end())
				{
					prev=*it;
					ans=c=1;
					it++;
					for(it=it;it!=m[x].end();it++)
					{
						//cout<<"hi2"<<endl;
						if(((*it))-prev==1)
						{
							c++;
						}
						else
						{
							ans=max(ans,c);
							c=1;
						}
						prev=*it;
					}
					ans=max(ans,c);
					//cout<<"hi3"<<endl;
				}
				//cout<<"hi4"<<endl;
				store[x].first=1;
				store[x].second=ans;
				printf("%d\n",ans);
			}
		}
	}
	return 0;
}