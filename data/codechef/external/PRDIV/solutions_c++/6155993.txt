#include <iostream>
#include <fstream>
#include <cstdio>
#include <climits>
#include <vector>
#include <map>
#include <list>
#include <deque>
#include <stack>
#include <set>
#include <string>
#include <cstring>
#include <algorithm>
#include <bitset>
#include <cmath>

using namespace std;

#define ll long long
#define vt vector

void func(map<ll,vector<ll> >& primes,ll x,ll ind)
{
	for(ll i=2;i*i<=x;i++)
	{
		if(x%i==0)
		{
			primes[i].push_back(ind);
			while(x%i==0)
				x/=i;
		}
	}
	if(x>1)
		primes[x].push_back(ind);
}

int main()
{
	ll t,n,tmp,q;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld",&n);
		map<ll,vector<ll> > primes;
		vector<ll> vals(n);
		for(ll i=0;i<n;i++)
		{
			scanf("%lld",&tmp);
			func(primes,tmp,i);
		}
		scanf("%lld",&q);
		ll x;
		while(q--)
		{
			scanf("%lld",&x);
			ll prev=-1,ans=0,maxans=0;
			for(ll i=0;i<primes[x].size();i++)
			{
				if(prev==-1)
				{
					prev = primes[x][i];
					ans=1;
				}
				else
				{
					if(prev+1==primes[x][i])
					{
						prev = primes[x][i];
						ans++;
					}
					else
					{
						prev=-1;
						ans=0;
					}
				}
				if(maxans<ans)
					maxans=ans;
			}
			printf("%lld\n",maxans);
		}
	}
	system("pause");
	return 0;
}