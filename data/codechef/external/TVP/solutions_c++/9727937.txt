#include <bits/stdc++.h>
#define mp make_pair
#define F first
#define S second
using namespace std;
int arr[200018];
int val[200018];
int t[400018];
void build(int v,int tl,int tr)
{
    if(tl==tr)
        t[v]=val[tl];
    else{
        int tm=(tl+tr)/2;
        build(2*v,tl,tm);
        build(2*v+1,tm+1,tr);
        t[v]=max(t[2*v],t[2*v+1]);
    }
    //cout<<"int build "<<v<<"  "<<t[v]<<endl;
}
int query(int v,int tl,int tr,int l,int r)
{
    if(tl==l && r==tr)
        return t[v];
    else{
        int tm=(tl+tr)/2;
        if(r<=tm)
            return query(2*v,tl,tm,l,r);
        else if(l>tm) return query(2*v+1,tm+1,tr,l,r);
        else return max( query(2*v,tl,tm,l,tm) , query(2*v+1,tm+1,tr,tm+1,r)  );
    }
}
vector< pair<int,int > > qr;
int main()
{
    int n,m,q,i;
    scanf("%d%d",&n,&m);
    for(i=1;i<=n;i++)
        scanf("%d",&arr[i]);
    for(i=0;i<m;i++){
        int x,y;
        scanf("%d%d",&x,&y);
        x=min(x,y);
        y=max(x,y);
        qr.push_back(mp(x,y));
    }
    scanf("%d",&q);
    for(i=0;i<=n+5;i++)
       val[i]=q+7;
    for(i=1;i<=q;i++){
        int x;
        scanf("%d",&x);
        if(arr[x]==0)
            continue;
        arr[x]--;
        if(arr[x]==0)
            val[x]=i;
    }
    /*for(i=1;i<=n;i++)
        cout<<val[i]<<"  ";
    cout<<endl;*/
    build(1,1,n);
    memset(arr,0,sizeof(arr));
    for(i=0;i<m;i++){
        int l=qr[i].F,r=qr[i].S;
        //cout<<l<<"  "<<r<<endl;
        int x=query(1,1,n,l,r);
        //cout<<"i - > "<<i<<"  "<<x<<endl;
        arr[x]++;
    }
    int ans=0;
    for(i=1;i<=q;i++){
        ans+=arr[i];
        printf("%d\n",ans);
    }
    return 0;
}