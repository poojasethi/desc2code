#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;

int main()
{
    int base,num1,num2,cnt=0;
    char s1[5],s2[5];

    while(true)
    {

        if(scanf("%d",&base)!=1)
			break;

		scanf("%s",&s1);
        cnt=0;

        int l=strlen(s1);

		if(l==1)
		{if(s1[0]>='A'&& s1[0]<='Z')
			num1=s1[0]-'A'+10;
		else num1=s1[0]-'0';}

		else {
			num1=(s1[0]-'0')*10+(s1[1]-'0');
		}

		scanf("%s",&s2);
		l=strlen(s2);
		if(l==1)
		{if(s2[0]>='A'&& s2[0]<='Z')
				num2=s2[0]-'A'+10;
		else num2=s2[0]-'0';}
			else {
				num2=(s2[0]-'0')*10+(s2[1]-'0');
			}

       //cout<<num1<<"\t"<<num2<<endl;
       //Now i am atleast assured that my code works perfectly fine till here..pheww:::

        int tmp=0,mod=0,q=0,save=num1,flag=0;
        while(flag==0)
        {
            tmp=num1*num2+q;

            num1= tmp%base;
            q=tmp/base;

            cnt++;

            if(save==num1 && q==0)
            flag=1;

        }

        printf("%d\n",cnt);

    }

    return 0;
}
