#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <iostream>
using namespace std;
int main (int argc, char * const argv[]) {
	int bi;
	while(1){
		int b,j,a0,m,t;
		char ac[5];
		char mc[5];
		int a;
		//int bi;
		fflush(stdin);
		if(scanf("%d",&bi)!=1)
			break;
		b=bi;
		fflush(stdin);
		scanf("%s",&ac);
		fflush(stdin);
		int l=strlen(ac);
		if(l==1)
		{if(ac[0]>='A'&&ac[0]<='Z')
			a0=ac[0]-'A'+10;
		else a0=ac[0]-'0';}
		else {
			a0=(ac[0]-'0')*10+(ac[1]-'0');
		}
		scanf("%s",&mc);
		fflush(stdin);
		l=strlen(mc);
		if(l==1)
		{if(mc[0]>='A'&&mc[0]<='Z')
				m=mc[0]-'A'+10;
		else m=mc[0]-'0';}
			else {
				m=(mc[0]-'0')*10+(mc[1]-'0');
			}
			//printf("B%d\n",b);
			//printf("A%d\n",a0);
			//printf("M%d\n",m);
			//PARSED!!!
			a=a0;
			int c=0;
			for(j=1;;j++) {
				t=a*m+c;
				a=t%b;
				c=t/b;
				if(a==a0&&c==0)
					break;
			}
			printf("%d",j);
		printf("\n");
    }
	return 0;
}