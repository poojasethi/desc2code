#include<iostream>
#include<stdio.h>
#include<vector>
#include<set>
#include<algorithm>
#include<utility>
using namespace std;

int main()
{
	int t;
	scanf("%d",&t);

	while(t--)
	{
		int n,m,x,y;
		scanf("%d %d",&n,&m);
		scanf("%d %d",&x,&y);
		string s[n+1];
		
		for(int i=0;i<n;i++)
			cin >> s[i];
		int a[n+1][m+1];

		for(int i=0;i<n;i++)
		{
			int cnt = 0;
			for(int j=0;j<m;j++)
			{
				if(s[i][j]=='#')
					cnt++;
				else
					cnt = 0;
				a[i][j] = cnt;
			}
		}
		set< pair<int,int> > ans;
		int cnt = 0;
		for(int j=0;j<m;j++)
		{
			cnt = 0;
			for(int i=0;i<n;i++)
			{
				//cout << cnt << endl;
				if(a[i][j]>=y)
					cnt++;
				else
					cnt = 0;
				if(cnt==x)
				{
					pair<int,int> p;
					p = make_pair(i-x+1,j-y+1);
					ans.insert(p);
		//			cout << i-x+1 << " " << j-y+1 << endl;
					cnt--;
				}
			}
			
		}
/*		if(x!=y)
		{
		cnt =0 ;
		for(int j=0;j<m;j++)
		{
			cnt = 0;
			for(int i=0;i<n;i++)
			{
		//		cout << cnt << endl;
				if(a[i][j]>=x)
					cnt++;
				else
					cnt = 0;
				if(cnt==y)
				{
					pair<int,int> p;
					p = make_pair(i-y+1,j-x+1);
					ans.insert(p);
					cnt--;
				}
			}
		}
		}
//		sort(ans.begin(),ans.end());
*/
		int size = ans.size();
		printf("%d\n",size);
		set< pair<int,int> >::iterator it;
		for(it=ans.begin();it!=ans.end();it++)
			printf("%d %d\n",(*it).first,(*it).second);
	}
return 0;
}
