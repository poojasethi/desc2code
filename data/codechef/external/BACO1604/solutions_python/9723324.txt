#include <bits/stdc++.h>
using namespace std;

#define ll long long
#define mod 1000000007
#define si(i) scanf("%lld",&i);
#define pi(i) printf("%lld",i);
#define rep(i,st,end) for(i=st;i<end;i++) 


int main(){
    
    #ifndef ONLINE_JUDGE
    	freopen("in","r",stdin);
    	freopen("out","w",stdout);
	#endif
    
	ll t;	
	si(t);
    while(t--){
    	ll n,m,q;
    	si(n); si(m);
    	vector<ll> row,column;
    	row.push_back(0); row.push_back(n);
    	column.push_back(0); column.push_back(m);
    	si(q);
    	while(q--){
    		ll i,j;
    		si(i); si(j);
    		row.push_back(i); 
    		column.push_back(j);
    	}
    	sort(row.begin(),row.end());
    	sort(column.begin(),column.end());

    	ll mn_row=mod,mx_row=0; 

    	for(ll i=1;i<row.size();i++){
    		if(row[i]==row[i-1]) continue;
    		mn_row=min(mn_row,row[i]-row[i-1]);
    		mx_row=max(mx_row,row[i]-row[i-1]);
    	}

    	ll mn_column=mod,mx_column=0;

    	for(ll i=1;i<column.size();i++){
    		if(column[i]==column[i-1]) continue;
    		mn_column=min(mn_column,column[i]-column[i-1]);
    		mx_column=max(mx_column,column[i]-column[i-1]);
    	}

    	printf("%lld %lld\n",mn_row*mn_column,mx_row*mx_column);
    }
    return 0;
}