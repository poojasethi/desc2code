/* Written by: Durgesh Kr. Soni
   Problem: */

#include<bits/stdc++.h>
using namespace std;

//template tools
#define pb                   push_back
#define ppb                  pop_back
#define mp                   make_pair
#define ff                   first
#define ss                   second
#define maxele(_)            *max_element(all(_))
#define minele(_)            *min_element(all(_))

#define INF                  2147483647
#define INFLL                9223372036854775807LL
#define INFULL               18446744073709551615ULL
#define PI                   acos(-1.0)
#define E                    exp(1.0)
#define EPS                  1e-12
#define gcd(_1,_2)           __gcd(_1,_2)
#define lcm(_1,_2)           ((_1/gcd(_1,_2))*(_2))
#define cnt_1                __builtin_popcountll
#define rep(i,a,b)           for(LL i=(a);i<=(b);++i)
#define rer(i,b,a)           for(LL i=(b);i>=(a);--i)
#define clr(_)               memset(_,false,sizeof(_))
#define feach(c,_)           for(__typeof((c).begin()) _=(c).begin();_!=(c).end();++_)
#define all(_)               _.begin(),_.end()
#define sz(_)                (LL(_.size()))
#define len(_)               (LL(_.length()))
#define T()                  LL _;cin>>_;while(_--)
#define exist(x,_)           ((_).find(x)!=(_).end())

//traces
#define SP                   system("pause")
#define nl                   cout<<"\n"
#define dbg(vari)            cerr<<#vari<<" = "<<(vari);nl
#define dbgv(A,n)            nl;rep(ti,0,n-1) cout<<ti<<" -- > "<<A[ti]<<"\n"
#define dbgvp(Z)             nl;rep(ti,0,sz(Z)-1){cout<<ti<<" --> "<<Z[ti].ff<<" "<<Z[ti].ss<<"\n";}
#define dbgg(W,n)            nl;rep(ti,1,n){cout<<ti<<" --> ";rep(tj,0,sz(W[ti])-1) cout<<"("<<W[ti][tj].ff<<" , "<<W[ti][tj].ss<<")"<<"  ";cout<<"\n";}
#define dbgmp(Z)             nl;foreach(Z,zt) cout<<(zt->ff)<<" --> "<<(zt->ss)<<"\n"
#define dks                  cerr<<" ----- I am Here -----\n"
#define fout(S,x)            cout<<fixed<<setprecision(x)<<S

//mathematics
#define dist(x1,y1,x2,y2)        ((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))
#define area(x1,y1,x2,y2,x3,y3)  (abs((x1*(y2-y3) + x2*(y3-y1) + x3*(y1-y2))/2.0))
#define lne(x)                   (2.302585*(x))
#define ln(x)                    (LL(log2(double(x))))
#define dig(x)                   (LL(log10(double(x)))+1)
#define ceil(a,b)               (LL(ceil(double(a)/double(b))))
#define sin(x)                   (sin((x*PI)/180.0))

typedef long long int LL;     typedef unsigned long long ULL;  typedef long double LD;      typedef pair<int,int>PII;
typedef vector<int> VI;       typedef vector<PII> VPII;        typedef set<PII> SPII;       typedef vector<LL> VLL;
typedef pair<LL,LL> PLL;      typedef vector<PLL> VPLL;        typedef set<PLL> SPLL;       typedef map<LL,LL> MLL;
typedef map<string,LL> MSLL;  typedef map<LL,VLL> MVLL;        typedef map<LL,PLL> MPLL;    typedef vector<string> VS;

#define gc                   getchar//_unlocked
#define pc                   putchar//_unlocked
#define RG                   100007
bool markP[RG];VLL prime;char buf[23];
inline void sieve(){LL i,j;for(i=2;i*i<=RG;++i)if(!markP[i])for(j=i<<1;j<RG;j+=i)if(!markP[j])markP[j]=1;prime.pb(2);for(i=3;i<RG;i+=2)if(!markP[i])prime.pb(i);}
inline void out(LL &x){register int i=22;if(x<0)pc('-'),x=-x;buf[22]='\n';do{buf[--i]=(x%10)+48;x/=10;}while(x);do{pc(buf[i]);}while(buf[i++]!='\n');}
inline void inp(LL &x){register int c=gc();x=0;bool neg=0;for(;((c<48||c>57)&&c!='-');c=gc());if(c=='-'){neg=1;c=gc();}for(;c>47&&c<58;c=gc()){x=(x*10)+(c-48);}if(neg)x=-x;}
inline bool isEqual(double &a,double &b){(abs(a-b)<EPS)?1:0;}
inline bool isPrime(const LL &x){if(x<=3)return(x<=1?0:1);if(!(x&1)|(!(x%3)))return 0;for(LL i=5;i*i<=x;i+=6)if(!(x%i)|(!(x%(i+2))))return 0;return 1;}
inline bool isPalin(string &st){LL l=len(st);for(LL i=0;(i<<1)<l;++i)if(st[i]!=st[l-i-1])return 0;return 1;}
inline LL modExp(LL a,LL b,LL &mod){LL x=1;while(b){if(b&1){x*=a;if(x>=mod)x%=mod;};b>>=1;a*=a;if(a>=mod)a%=mod;}return x;}
inline LL invMod(LL &a,LL &mod){return modExp(a,mod-2,mod);}
inline LL pow(LL a,LL b){LL x=1;while(b){if(b&1)x=(x*a);a*=a;b>>=1;}return x;}
inline LL digSum(LL n){LL s=0;n=abs(n);while(n){s+=(n%10);n/=10;}return s;}
inline LL toNum(string &st){LL num;stringstream ss(st);ss>>num;return num;}
inline LL elePos(const vector<LL> &A,const LL &x){LL l=0,h=sz(A)-1,m;while(l<=h){ m=(h+l)>>1;if(x==A[m])return (m+1);(x<A[m])?(h=m-1):(l=m+1);}return -1;}
inline bool cmp(const PII &X,const PII &Y) {return (X.ff!=Y.ff)?(X.ff<Y.ff):(X.ss<Y.ss);}

#define MOD                  1000000007
#define MAX                  100007

int main()
{
	ios_base::sync_with_stdio(false);
	T()
	{

        int m, n, i, j;

        cin >> m >> n;

        int a[m][n], ans[m][n];

        for (i = 0; i < m; i++) {
            for (j = 0; j < n; j++)
                cin >> a[i][j];
        }

        memset(ans, 0, sizeof(ans));

        ans[0][0] = 1;
        bool flag1,flag2;
        for (i = 0; i < m; i++) {
            for (j = 0; j < n; j++) {
                if (i + 1 < m && a[i+1][j] > a[i][j])
                    ans[i+1][j] = max(ans[i+1][j], ans[i][j]+1);
                if (j + 1 < n && (a[i][j+1] > a[i][j])){
                    ans[i][j+1] = max(ans[i][j+1], ans[i][j] + 1);
                }
            }
        }

        int c = 0;
        for (i = 0; i < m; i++) {
            for (j = 0; j < n; j++)
                c = max(c, ans[i][j]);
        }

        cout << c << endl;
    }

    return 0;
}
