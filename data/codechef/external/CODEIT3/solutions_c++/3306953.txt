#include<iostream>
#include<cstdio>
#include<cmath>
#include<cstring>
#include<stdlib.h>
#include<algorithm>
#define getcx getchar_unlocked
#ifndef ONLINE_JUDGE
    #define getcx getchar
#endif
#define l long long
using namespace std;
inline void string(char *str)
{
    register char c = 0;
    register int i = 0;
    while (c < 33)
        c = getcx();
    while (c != '\n') {
        str[i] = c;
        c = getcx();
        i = i + 1;
    }
    str[i] = '\0';
}
inline int inp()
{
   int n=0;
   int ch=getcx();int sign=1;
   while( ch < '0' || ch > '9' ){if(ch=='-')sign=-1; ch=getcx();}
 
   while(  ch >= '0' && ch <= '9' )
           n = (n<<3)+(n<<1) + ch-'0', ch=getcx();
   return n*sign;
}
inline long long in()
{
   long long n=0;
   long long ch=getcx();long long sign=1;
   while( ch < '0' || ch > '9' ){if(ch=='-')sign=-1; ch=getcx();}
 
   while(  ch >= '0' && ch <= '9' )
           n = (n<<3)+(n<<1) + ch-'0', ch=getcx();
   return n*sign;
}
#define MOD 1000000007
main()
{
//	freopen("in.txt","r",stdin);
	l t,n,m,b[1001],p[1001],n1,flag;
	char name[1001][101];
	t=in();
	while(t--)
	{
		n=in();
		m=in();
		for(l k=0,i=0;k<n;++i,++k)
		{
			b[i]=in();
			//string(name[i]);
			scanf("%s",&name[i]);
			p[i]=in();
			for(l j=0;j<i;++j)
			{
				flag=strcmp(name[j],name[i]);
				if(flag==0)
				{
					p[j]+=p[i];
					--i;
					break;
				}
			}
			n1=i;
		//	cout<<n1<<" ";
		}
		//cout<<n1<<" ";
		l max=0,min=0;
		sort(p,p+n1+1);
		for(l i=0;i<m;++i)
		{
			min+=p[i];
			max+=p[n1-i];
		}
		printf("%lld\n",max-min);
	}
}