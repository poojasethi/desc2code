#include <cstdio>
#include <cstring>
#include <algorithm>
#define MAX 100000
using namespace std;


long long ans[MAX+1][2];
long long arr[MAX+1];

long long cc(int level,int upto,int limit){
    
    long long sum=0;
    for(int i=level;i<(level+upto);i++)
    {
        if(i>limit)
            break;
        sum+=arr[i];
    }
    //printf("%lld %d %d \n",sum,level,upto);
    return sum;
}

long long f(int level,int type,int limit){
    
    if (level>limit) {
        return 0;
    }

    if (ans[level][type]!=-1)
        return ans[level][type];
    
    if (type) {
        ans[level][type] = max( cc(level,1,limit)+f(level+1,1-type,limit), max(cc(level,2,limit)+f(level+2,1-type,limit), cc(level,3,limit)+f(level+3,1-type,limit) ));
    } else {
        ans[level][type] = min( f(level+1,1-type,limit), min(f(level+2,1-type,limit), f(level+3,1-type,limit) ));
    }
    //printf("%d %d %lld\n",level,type,ans[level][type]);
    return ans[level][type];
}

int main() {
  int t,n;
  scanf("%d",&t);
  while(t--){
    scanf("%d",&n);
    for(int i=0;i<n;i++)
    {
        arr[i]=0;
        ans[i][0]=ans[i][1]=-1;
        //printf("%lld %lld\n",ans[i][0],ans[i][1]);
    }
    for(int i=0;i<n;i++)
    {
        scanf("%lld",&arr[i]);
    }
    printf("%lld\n",f(0,1,n-1));
  }
  return 0;
}
