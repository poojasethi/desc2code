#include <bits/stdc++.h>
using namespace std;

#define DEBUG(x)	cerr << #x << " = " << x << endl;
#define INPUT		freopen("Data.inp", "r", stdin);
#define OUTPUT		freopen("Data.out", "w", stdout);

typedef long long LL;
typedef pair<int, int> II;

const int N = (int) 5e2 + 10;
int n, a[N], b[N];
bitset<N * N> dp;

int Compute(int *a, int n) {
	dp.reset(); dp.set(0);
	for (int i = 1; i <= n; ++i) dp |= dp << a[i];

	int ans = (int) 2e9, s = 0;
	for (int i = 1; i <= n; ++i) s += a[i];
	for (int i = 0; i <= s; ++i)
		if (dp[i]) ans = min(ans, abs(2 * i - s));
	return ans;
}

int main() {
	int TC; scanf("%d", &TC);
	while (TC--) {
		scanf("%d", &n); int c1 = 0, c2 = 0;
		scanf("%d", &a[++c1]);
		for (int i = 1, d = 0; i <= n; ++i, d = 1 - d) {
			char S[10]; scanf("%s", S);
			if (d == 0) scanf("%d", &b[++c2]);
			else scanf("%d", &a[++c1]);
		}
		if (n <= 2) puts("NO"); else
		printf("%d\n", Compute(a, c1) + Compute(b, c2));
	}
	return 0;
}