#include<bits/stdc++.h>
using namespace std;

#define ll long long

int dp[105][105],n;
int arr[105];
int solve(int en,int bn){
	if(en>bn) return 0;
	if(dp[en][bn] != -1) return dp[en][bn];
	int l1=0,l2=0,r1=0,r2=0;

	for(int i = 0; i < en; i++){
		l1 += arr[en] > arr[i];
		r1 += arr[en] < arr[i];
		l2 += arr[bn] > arr[i];
		r2 += arr[bn] < arr[i];
	}

	for(int i = bn+1; i < n; i++){
		l1 += arr[en] > arr[i];
		r1 += arr[en] < arr[i];
		l2 += arr[bn] > arr[i];
		r2 += arr[bn] < arr[i];
	}

	/*for(int i=en+1;i<=bn;i++){
		if(arr[i] > arr[en]) l1++;
		if(arr[i] < arr[en]) r1++;
		cout<<l1<<" 1st "<<r1<<endl;
	}
	for(int i=en;i<=bn-1;i++){
		if(arr[i] > arr[bn]) l2++;
		if(arr[i] < arr[bn]) r2++;
		cout<<l2<<" 2nd "<<r2<<endl;
	}*/
	return dp[en][bn] = min(solve(en+1,bn)+min(r1,l1) ,solve(en,bn-1)+min(r2,l2));
}

int main(){
	int t;
	cin>>t;
	while(t--){
		memset(dp,-1,sizeof(dp));
		scanf("%d",&n);
		for(int i=0;i<n;i++){
			scanf("%d",&arr[i]);
		}
		printf("%d\n",solve(0,n-1));
	}
}
