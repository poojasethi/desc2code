#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define mp make_pair
#define ff first
#define ss second
#define ll long long
#define sd(x) scanf("%d",&x)
int a[105];
int dp[105][105];
int n;
int cntless(int l,int r,int val){
    int res=0;
    for(int i=1;i<l;i++){
        res+=(a[i]<val);
    }
    for(int i=r+1;i<=n;++i){
        res+=(a[i]<val);
    }
    return res;
}
int cntmore(int l,int r,int val){
    int res=0;
    for(int i=1;i<l;i++){
        res+=(a[i]>val);
    }
    for (int i=r+1;i<=n;++i){
        res+=(a[i]>val);
    }
    return res;
}
int solve(int l,int r){
    if(l>r)
        return 0;
    int &ret=dp[l][r];
    if(~ret)
        return dp[l][r];
    ret = min(min(solve(l + 1 , r) + cntless(l , r , a[l]) , solve(l + 1 , r) + cntmore(l , r , a[l])) , min(solve(l , r - 1) + cntless(l , r , a[r]) , solve(l , r - 1) + cntmore(l , r , a[r])));
    return ret;    
}
int main(){
    int t;
    cin>>t;
    while(t--){
        //int n;
        cin>>n;
        memset(dp,-1,sizeof(dp));
        for(int i=1;i<=n;i++){
            cin>>a[i];
        }
        cout<<solve(1,n)<<endl;
    }
    return 0;
}