#include <stdio.h>
#include <stdlib.h>

//Complexity < O(N^2)
int main()
{
	int t,n;
	int *p,*q,*r;
	int max,catcnt,tmp,flg;
	scanf("%d", &t);
	while(t--)
	{
		scanf("%d",&n);
		max=0;
		catcnt=0;
		
		p=(int*)calloc(n, sizeof(int));//idx.
		q=(int*)calloc(n, sizeof(int));//curr. var.
		r=(int*)calloc(n, sizeof(int));//count
		for(int i=0; i<n; i++)
		{
			scanf("%d", &tmp);
			flg=0;
			for(int j=0; j<catcnt; j++)
			{
				if(q[j]-tmp==p[j]-i)
				{
					q[j]=tmp;
					r[j]++;
					p[j]=i;
					if(max < r[j]) max=r[j];
					flg=1;
					break;
				}
			}
			if(flg==0)
			{
				//printf("yae..\n");
				p[catcnt]=i;
				q[catcnt]=tmp;
				r[catcnt]=1;
				if(max==0) max=1;
				catcnt++;
			}
		}
		printf("%d\n", n-max);				
	}
	return 0;
}		