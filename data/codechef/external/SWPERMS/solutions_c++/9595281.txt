#include<bits/stdc++.h>
using namespace std;
#define MOD 1000000007
#define ll long long int
map<ll,ll> m;
ll root(ll x)
{ if(m.find(x)==m.end())
  return m[x]=x;
  else if(m[x]!=x)
  m[x]=root(m[x]);
  return m[x];
};
int main()
{ ll n,k,i,a,b,u,z,ans=1;
  cin>>n>>k;
  
  for(i=0;i<k;i++)
  { cin>>a>>b;
    u=root(a);
    z=root(b);
    
	if(u!=z)
     m[u]=z;
  }
  vector<ll> v(n+1,0),f(n+1,1);
  
  for(i=1;i<=n;i++)
  u=root(i);
  
  for(i=1;i<=n;i++)
  f[i]=(i*f[i-1])%MOD;
  
  map<ll,ll>::iterator it;
  for(it=m.begin();it!=m.end();it++)
  ++v[it->second];	
  
  for(i=0;i<=n;i++) 
  ans=(ans*f[v[i]])%MOD;

  cout<<ans;
  return 0;	
}