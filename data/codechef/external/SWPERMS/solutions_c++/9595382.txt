#include<bits/stdc++.h>
using namespace std;
#define MOD 1000000007
#define ll long long int
inline void f(int *a)
{
register char c=0;
while (c<33) c=getchar_unlocked();
*a=0;
while (c>33)
{
*a=*a*10+c-'0';
c=getchar_unlocked();
}
};
map<ll,ll> m;
ll root(ll x)
{ if(m.find(x)==m.end())
  return m[x]=x;
  else if(m[x]!=x)
  m[x]=root(m[x]);
  return m[x];
};
int main()
{ ll i,u,z,ans=1;
  int n,k,a,b;
  f(&n);f(&k);
  
  for(i=0;i<k;i++)
  { f(&a); f(&b);
    u=root(a);
    z=root(b);
    
	if(u!=z)
     m[u]=z;
  }
  vector<ll> v(n+1,0),f(n+1,1);
  
  for(i=1;i<=n;i++)
  u=root(i);
  
  for(i=1;i<=n;i++)
  f[i]=(i*f[i-1])%MOD;
  
  map<ll,ll>::iterator it;
  for(it=m.begin();it!=m.end();it++)
  ++v[it->second];	
  
  for(i=0;i<=n;i++) 
  ans=(ans*f[v[i]])%MOD;
  
  printf("%lld",ans);
  return 0;	
}