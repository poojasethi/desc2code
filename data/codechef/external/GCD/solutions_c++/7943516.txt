#include <bits/stdc++.h>
#define ll long long
#define MOD 1000000007
#define g getchar
using namespace std;

inline ll rd()
{
    ll x=0;
    int sign=1;
    char c;
    while(((c=g())<'0'||c>'9')&&c!='-');
    if(c=='-')
    sign=-1,c=g();
    while(c>='0'&&c<='9')
    x=(x<<3)+(x<<1)+c-48,c=g();
    return sign*x;
}


int main()
{

    ll t,n,i;
    t=rd();
    while(t--)
    {
        n=rd();
        ll a[n+1];
        ll k=0;
        for(i=0;i<n;i++)
        {
            a[i]=rd();
            ll temp=(__gcd(a[i],i+1));
            if(temp==1)
             continue;
            double temp2=sqrt(temp);
            if(abs(temp2-floor(temp2))<0.00001)
               k++;
        }
        sort(a,a+n,greater<ll>());
        ll ans=1;

        for(i=0;i<k;i++)
          ans=(ans*a[i])%MOD;
         printf("%lld\n",ans);
    }
}
