#include<stdio.h> 
using namespace std;
int main()
{
	int I,J,k,i=0,j=0;
	long long c,t,n,ans=0;
	scanf("%lld\n",&t);
	scanf("%lld\n",&n);
	bool f1[200],f2[200];
	c=t;
	while(c){
		f1[i++]=(c%2);
		c=c/2;
	}
	c=n;
	while(c){
		f2[j++]=(c%2);
		c=c/2;
	}
	scanf("%d",&I);
	scanf("%d",&J);
	for(k=I;k<=J;k++){
		f1[k]=f2[k-I];
	}
	for(k=i-1;k>=0;k--){
		ans=(ans*2)+(f1[k]?1:0);
	}
	printf("%llu\n",ans);
	return 0;
} 

