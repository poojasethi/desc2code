#include<bits/stdc++.h>
using namespace std;
int main()
{
	ios::sync_with_stdio(false);
    long int n,m,a[100001]={0},x,y;
    scanf("%ld%ld",&n,&m);
    while(m--)
    {
        scanf("%ld%ld",&x,&y);
        ++a[x-1];
        --a[y];
    }
    for(x=1;x<n;++x)
        a[x]+=a[x-1];
    sort(a,a+n);
    printf("%ld",a[n/2]);
    return 0;
}
