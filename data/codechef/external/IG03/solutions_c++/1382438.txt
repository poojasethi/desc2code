#include <iostream>
#include <cstdio>
#include <vector>
#include <string>

using namespace std;

int colors[20][20] = {0},p=0,dist[20][20] = {0};

void func(vector <string> v, int x, int y)
{
                 
                 if ( colors[x][y] == 1 ) {
                                   cout << p-dist[x][y]+1 << "L" << endl;
                                   return;
                 }
                 if ( x < 0 || y < 0 || x >= v.size() || y >= v[0].size() ) {
                                   cout << p << "E" << endl;
                                   return;
                 }
                 
                 colors[x][y] = 1;
                 
                 if ( v[x][y] == 'S' ) {
                              p++;
                              dist[x][y] = p;
                              func(v,x+1,y);
                             
                 }
                 if ( v[x][y] == 'N' ) {
                              p++;
                              dist[x][y] = p;
                              func(v,x-1,y);
                 
                 }
                 if ( v[x][y] == 'W' ) {
                              p++;
                              dist[x][y] = p;
                              func(v,x,y-1);
                              
                 }
                 if ( v[x][y] == 'E' ) {
                              p++;
                              dist[x][y] = p;
                              func(v,x,y+1);
                              
                 }
                 return;
}
int main()
{
          int t,n,m,x,i,j;
          vector <string> v;
          string s;          
          scanf("%d",&t);
          while ( t-- ) {
                  scanf("%d%d%d", &n, &m, &x);
                  for ( i = 0; i < n; i++ ) {
                          cin >> s;
                          v.push_back(s);
                  }
                  p = 0;
                  func(v,0,x-1);
                  v.clear();
                  for ( i = 0; i < 20; i++ ){
                          for ( j = 0; j < 20; j++ ) {
                                  colors[i][j] = 0;
                                  dist[i][j] = 0;
                          }
                  }
                  
          }

          return 0;
}
