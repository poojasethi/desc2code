#include <cstdlib>
#include <iostream>

using namespace std;
int A[20][20];
int sum = 0;
void find(int i, int j,int n)
{
     if(i<0 || i>=n || j<0 || j>=n || A[i][j] == 1 )
        return;
     if(i == n-1 && j == n-1){
          ++sum;
          return;
     }
     
     A[i][j] = 1;
     find(i+1,j,n);
     find(i-1,j,n);
     find(i,j+1,n);
     find(i,j-1,n);
     A[i][j] = 0;
 }
int main()
{
    int n;
    scanf("%d",&n);
    for(int i = 0; i<n;++i){
        for(int j = 0;j<n;++j){
            scanf("%d",&A[i][j]);
        }
    }
    
    find(0,0,n);
    printf("%d\n",sum);        
    
    return 0;
}
