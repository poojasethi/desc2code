#include<stdio.h>
int c=0,n;
int arr[25][25];
void dfs(int x,int y)
{
    if(x==n-1&&y==n-1)
    {
        c++;
        return;
    }

    arr[x][y]=1;

    if(arr[x-1][y]!=1&&x-1>=0)
    dfs(x-1,y);

    if(arr[x][y-1]!=1&&y-1>=0)
    dfs(x,y-1);

    if(arr[x+1][y]!=1&&x+1<n)
    dfs(x+1,y);

    if(arr[x][y+1]!=1&&y+1<n)
    dfs(x,y+1);

    arr[x][y]=0;
}
int main()
{
    int t,i,j,k;

    scanf("%d",&n);

    for(int i=0;i<n;i++)
    {
        for(int j=0;j<n;j++)
        {
            scanf("%d",&arr[i][j]);
        }
    }

    dfs(0,0);

    printf("%d\n",c);

    return 0;
}
