#include <bits/stdc++.h>
#define fo(i,x,y) for (int i = x; i < y; i++)
#define fd(i,x,y) for(int i = x; i>= y; i--)
#define ll long long
#define clr(A,x) memset(A, x, sizeof A)
#define pb push_back
#define mod 1000000007
#define debug(x) cout <<#x << " = " << x << endl

using namespace std;

int n;
int matriz[1001][1001];
bool tacha[1001][1001];
int dx[4] = {0, -1, 0, 1};
int dy[4] = {-1, 0, 1, 0};
bool isvalid(int x,int y)
{

    if(x>=0 & x<n & y>=0 & y<n)
    {
        if(x==2 & y==1)
        {
            // debug("aaa");
        }
        if(!tacha[x][y] & matriz[x][y]==0)
        {
            //debug("aaaaaa");
            return true;
        }
    }
    return false;
}
int dfs(int x,int y)
{
    if(x==n-1 & y==n-1)
    {
        return 1;
    }
    int cnt=0;
    fo(i,0,4)
    {
        int rx=dx[i]+x;
        int ry=dy[i]+y;
        if(isvalid(rx,ry))
        {
            tacha[x][y]=1;
            cnt+=dfs(rx,ry);
            tacha[x][y]=0;
        }
    }
    // debug("==");
    return cnt;
}
int main()
{
    //freopen("D:\input.txt","r",stdin);
    cin>>n;
    fo(i,0,n)
    {
        fo(j,0,n)
        {
            cin>>matriz[i][j];
        }
    }
    cout<<dfs(0,0)<<endl;
}
