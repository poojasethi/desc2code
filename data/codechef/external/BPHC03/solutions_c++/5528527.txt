#include <bits/stdc++.h>
using namespace std;
int a[30][30];
int visit[30][30];
int coun=0;
int n;
void dfs(int i,int j)
{
visit[i][j]=1;
if(i==n&&j==n)
coun++;
if(i+1<=n&&visit[i+1][j]==0&&a[i+1][j]==0)
dfs(i+1,j);
if(i-1>=1&&visit[i-1][j]==0&&a[i-1][j]==0)
dfs(i-1,j);
if(j+1<=n&&visit[i][j+1]==0&&a[i][j+1]==0)
dfs(i,j+1);
if(j-1>=1&&visit[i][j-1]==0&&a[i][j-1]==0)
dfs(i,j-1);
visit[i][j]=0;
return;
}
int main()
{
cin>>n;
for(int i=1;i<=n;i++)
{
for(int j=1;j<=n;j++)
{
scanf("%d",&a[i][j]);
visit[i][j]=0;
}}
dfs(1,1);
cout<<coun;
return 0;
}