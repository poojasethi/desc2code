#include<iostream>
using namespace std;

int a[101][101];
bool isSafe(int x,int y,int n){
	if(x>=0&&y>=0 && x<n && y<n && a[x][y]==0)
	return true;
	
	return false;
}
int paths(int n, int x,int y,bool visit[][105],int add[][2]){
	int count=0;
	if(x==n-1&& y==n-1)
	return 1;
	
	for(int i=0;i<4;i++){
		int p=x+add[i][0];
		int q=y+add[i][1];
		if(isSafe(p,q,n)&&!visit[p][q]){
			visit[p][q]=true;
			count+=paths(n,p,q,visit,add);
			visit[p][q]=false;
		}
	}
	return count;
}
int main(){
	int n;
	cin>>n;
	bool visit[105][105];
	int add[][2]={{0,1},{1,0},{-1,0},{0,-1}};
	for(int i=0;i<n;i++){
		for(int j=0;j<n;j++){
			cin>>a[i][j];
			visit[i][j]=false;
		}
	}
	
	cout<<paths(n,0,0,visit,add);
}