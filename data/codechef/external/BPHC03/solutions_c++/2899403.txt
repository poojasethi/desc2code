#include<cstdio>

unsigned int a[25][25];
bool vis[25][25];
unsigned int cnt,n;

void Traverse(int i,int j)
{
	if(i==j && i==n)
	{
		cnt++;
		return;
	}

	vis[i][j]=true;
	if( (!vis[i-1][j]) && a[i-1][j]==0)Traverse(i-1,j);
	if( (!vis[i+1][j]) && a[i+1][j]==0)Traverse(i+1,j);
	if( (!vis[i][j-1]) && a[i][j-1]==0)Traverse(i,j-1);
	if( (!vis[i][j+1]) && a[i][j+1]==0)Traverse(i,j+1);
	vis[i][j]=false;
}

int main()
{

	unsigned int i,j;

	scanf("%u",&n);

	for(i=0;i<=n+1;i++)a[0][i]=a[n+1][i]=1;
	for(i=1;i<=n;i++)a[i][0]=a[i][n+1]=1;

	for(i=1;i<=n;i++)
		for(j=1;j<=n;j++)scanf("%u",&a[i][j]);

	cnt=0;
	Traverse(1,1);
	printf("%u",cnt);
	return 0;
}