#include<cstdio>
#include<iostream>
#include<algorithm>
#include<list>
#include<vector>


using namespace std;

int visited[1000][1000]={0};
int arr[1000][1000];

int cnt=0;

int dfs(int x,int y,int t)
{
    
    //printf("x  %d  y  %d",x,y);
    visited[x][y]=1;
    if((x==t)&&(y==t))
    {
      cnt++;
      visited[x][y]=0;
     // printf("mayank");
      return 0;
    }
    
    if((visited[x+1][y]==0)&&(arr[x+1][y]==0)&&((x+1)<=t))
    {//  printf("m\n");
         dfs(x+1,y,t);
       
    }
    if((visited[x-1][y]==0)&&(arr[x-1][y]==0)&&((x-1)>0))
    {
          //printf("n\n");
         dfs(x-1,y,t);
        
    }
    
     if((visited[x][y+1]==0)&&(arr[x][y+1]==0)&&((y+1)<=t))
    {
         //printf("k\n");
         dfs(x,y+1,t);
        
    }
    
     if((visited[x][y-1]==0)&&(arr[x][y-1]==0)&&((y-1)>0))
    {
         // printf("z\n");
         dfs(x,y-1,t);
         
    }
    visited[x][y]=0;
    
}





int main()
{
    int t;
    scanf("%d",&t);
    
    
   
    
    for(int i=1;i<=t;i++)
    {
            for(int j=1;j<=t;j++)
            {
                    scanf("%d",&arr[i][j]);
            }
    }
    
    dfs(1,1,t);
    
    printf("%d\n",cnt);
    
    //system("pause");
                    
    return 0;
    
    
    
}
