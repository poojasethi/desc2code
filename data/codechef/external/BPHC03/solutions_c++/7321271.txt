#include<bits/stdc++.h>
using namespace std;

const int N=1234;
int maze[N][N], f[N][N], cnt=0, n;

void solve(int i, int j) {
    if(i==n && j==n) {
        cnt++;
    }
    f[i][j]=1;
    if(i+1<=n && maze[i+1][j]==0 && f[i+1][j]==0) {
        solve(i+1, j);
    }
    if(j+1<=n && maze[i][j+1]==0 && f[i][j+1]==0) {
        solve(i, j+1);
    }
    if(i-1>0 && maze[i-1][j]==0 && f[i-1][j]==0) {
        solve(i-1, j);
    }
    if(j-1>0 && maze[i][j-1]==0 && f[i][j-1]==0) {
        solve(i, j-1);
    }
    f[i][j]=0;
}

int main() {
    scanf("%d", &n);
    for(int i=1;i<=n;i++) {
        for(int j=1;j<=n;j++) {
            scanf("%d", &maze[i][j]);
        }
    }
    solve(1, 1);
    printf("%d", cnt);
}

