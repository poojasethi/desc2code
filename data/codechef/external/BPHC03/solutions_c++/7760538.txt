#include<iostream>
#include<cstdio>
#define INF 999999
using namespace std;
int n;
bool maze[25][25];
int paths;
void ans(int i,int j)
{
	if(i>n || j>n || i<1 || j<1 || maze[i][j] == 1)
	return;
	if(i==n && j==n)
	{
		++paths;
		return;
	}
	maze[i][j] = 1;
	ans(i+1,j);
	ans(i-1,j);
	ans(i,j+1);
	ans(i,j-1);
	maze[i][j] = 0;
	return;
}
int main()
{
	//freopen("in.txt","r",stdin);
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=n;j++)
		cin>>maze[i][j];
	}
	paths = 0;
	ans(1,1);
	printf("%d\n",paths);
}