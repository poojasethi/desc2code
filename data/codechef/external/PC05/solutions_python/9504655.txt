#include<iostream>
#include<cmath>
using  namespace std;
int main()
{
	int t,l,r,i,j,hash[100001]={0},temp;
	++hash[2];
	for(i=3;i<100001;i+=2)
	{
		j=3;
		while(j<=sqrt(i))
		{
			if(i%j==0)
			break;
			j++;
		}
		if(j>sqrt(i))
		++hash[i];
	}
	cin>>t;
	while(t--)
	{
		cin>>l>>r;
		int count=0;
		i=l;
		while(i<=r)
		{
			temp=i;
			int sum=0;
			while(temp!=0)
			{
				sum+=temp%10;
				temp/=10;
			}
			if(hash[sum]!=0)
			++count;
			i++;
		}
		cout<<count<<endl;
	}
	return 0;
}