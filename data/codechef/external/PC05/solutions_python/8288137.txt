#include<stdio.h>
#include<math.h>

int checkPrime(int x){
    int i,sum=0;

    while(x){
        sum+= (x%10);
        x/=10;
    }

    int temp=sqrt(sum);

    for(i=2;i<=temp;i++){
        if(sum%i == 0){
            return 0;
        }
    }
    if(sum==1)  return 0;
    else        return 1;
}

int main(){
    int t,ub,lb,count,flag,temp;
    int i,j;
    scanf("%d",&t);
    while(t--){
        count=0;
        scanf("%d%d",&lb,&ub);
        if(lb==1)   lb++;

        for(i=lb;i<=ub;i++){
           if(checkPrime(i)){
                count++;
                //printf("\t%d\n",i);
           }
        }
        printf("%d\n",count);
    }
return 0;
}
