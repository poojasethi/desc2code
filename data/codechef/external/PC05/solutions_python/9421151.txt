#include <iostream>
#include <vector>

using namespace std;

vector<bool> Db(10001);

bool Pierwsza(int a)
{
    if (a == 1) return false;
    for (int i = 2; i < a; ++i) if (a % i == 0) return false;
    return true;
}

void gen()
{
    for (int i = 1; i < 10001; ++i)
    {
        int x = i, s = 0;
        while (x != 0)
        {
            s += x % 10;
            x /= 10;
        }
        if (Pierwsza(s)) Db[i] = true;
        else Db[i] = false;
    }
}

int main()
{
    ios_base::sync_with_stdio(0);
    gen();
    int t;
    cin >> t;
    for (int i = 0; i < t; ++i)
    {
        int l, p;
        cin >> l >> p;
        int odp = 0;
        for (int j = l; j <= p; ++j) if (Db[j]) ++odp;
        cout << odp << endl;
    }
    return 0;
}
