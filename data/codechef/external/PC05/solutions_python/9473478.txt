#include <cstdio>
using namespace std;

int prime[10005]={0};

int main()
{

  int t,l,u,cop,rez,s;

  prime[1] = 1;
  for(int i=2; i<=10001; ++i)
    if(!prime[i])
      for(int j=i+i; j<=10001; j+=i)
        prime[j] = 1;

  scanf("%d", &t);
  while(t--)
  {
    scanf("%d%d", &l, &u);
    rez = 0;

    for(int i=l; i<=u; ++i)
    {
      cop = i;
      s = 0;

      while(cop)
        s += cop%10, cop /= 10;

      if(!prime[s])
        rez++;
    }
    printf("%d\n", rez);
  }

  return 0;
}