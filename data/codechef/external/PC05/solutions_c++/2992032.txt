#include<cstdio>
#include<cmath>
#define MAX 1000000
using namespace std;
int primes[MAX];
int sod(int num)
{
    int sum=0;
    while(num)
    {
        sum+=num%10;
        num/=10;
    }
    return sum;
}
int main()
{
    int t,c,i,j,l,u;
    for(i=0;i<MAX;i++) primes[i]=1;
       for(i=2;i<=(int)sqrt(MAX);i++)
         if(primes[i])
           for(j=i;j*i<MAX;j++) primes[i*j]=0;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d",&l,&u);
        c=0;
        for(i=l;i<=u;i++)
        if((primes[sod(i)])&&(sod(i)!=1)) c++;
        printf("%d\n",c);
    }
    return 0;
}
