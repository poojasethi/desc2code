#include <iostream>
#include <stdio.h>
#include <vector>
#define SIZE 10001

using namespace std;

bool isPrime( int n, vector<bool>& B ) {
	
	int sum = 0;
	
	while( n > 0 ) {
		
		sum += ( n % 10 );
		n /= 10;
	}
	
	if( B[ sum ] )
		return true;
	else
		return false;	
}

int main() {
	
	int t, l, u, i, j, ct;
	
	vector<bool> A( SIZE, false );
	vector<bool> B( 51, true ); 
	
	B[ 0 ] = B[ 1 ] = false;
	for( i = 2;( i * i ) <= 50;i++ )
		for( j = ( i * i );j <= 50;j += i )
			if( B[ j ] )
				B[ j ] = false;
				
	for( i = 0;i < SIZE;i++ )
		if( isPrime( i, B ) )
			A[ i ] = true;
	
	scanf("%d", &t );
	
	while( t-- ) {
		
		scanf("%d", &l );
		scanf("%d",&u );
		ct = 0;
		
		for( i = l;i <= u;i++ )
			if( A[ i ] )
				ct++;
		
		printf("%d\n", ct );
	}
		
	return 0;
}
