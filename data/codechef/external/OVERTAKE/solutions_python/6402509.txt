#include<iostream>
#include<algorithm>
#include<string>
#include<map>
#include<vector>
#include<cmath>
#include<string.h>
#include<stdlib.h>
#include<cstdio>
using namespace std;
#define ll long long
ll mergesort(ll a[],int low,int mid,int high){
	int i=low,j=mid,k=low;
	ll invcnt=0;;
	int temp[200001];
	for(i=low;i<=high;i++)
	temp[i]=a[i];
	i=low;
	while(i<mid&&j<=high){
		if(temp[i]<=temp[j])
			a[k++]=temp[i++];
		else{
			a[k++]=temp[j++];
			invcnt+=(ll)(mid-i);}}
	while(i<mid)
		a[k++]=temp[i++];
	while(j<=high)
		a[k++]=temp[j++];
	return invcnt;}
ll merge(ll a[],int low,int high){
	ll int invcnt=0;
	if(low<high){
		int mid=(low+high)/2;
		invcnt=merge(a,low,mid);
		invcnt+=merge(a,mid+1,high);
		invcnt+=mergesort(a,low,mid+1,high);}
	return invcnt;}
int main(){
	int t;
	cin>>t;
	while(t--){
		ll n,m,a,b;
		cin>>n>>m;
		pair<ll,ll> x[100001];
		ll z[100001];
		for(int i=0;i<n;++i)
			cin>>x[i].first>>x[i].second;
		sort(x,x+n);
		for(int i=0;i<n;++i){
			x[i].first=x[i].first+m*x[i].second;
			x[i].second=i;}
		sort(x,x+n);
		for(int i=0;i<n;++i)
			z[i]=x[i].second;
		cout<<merge(z,0,n-1)<<endl;}
	return 0;
}