#include<cstdio>
#include<vector>
int main()
{
	int t,n,i; double curr,best;
	scanf("%d",&t);
	while(t--)
	{
	scanf("%d",&n);
	std::vector <int> salary; salary.resize(n+1);
	std::vector <double> prob; prob.resize(n+1);
	for(i=0;i<n;i++)scanf("%d",&salary[i]);
	for(i=0;i<n;i++)scanf("%lf",&prob[i]);
	best=0.0;
	for(i=n-1;i>=0;i--)
	{
	    curr=salary[i]*prob[i]+(1-prob[i])*best;
	    if(curr>best)best=curr;
	}
	printf("%.6lf\n",best);
	}
return 0;
}
