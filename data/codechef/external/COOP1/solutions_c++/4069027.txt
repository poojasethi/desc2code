#include <cstdio>
#include <cmath>
using namespace std;
int main()
{
        int t,i,n,best;
        scanf("%d",&t);
        while(t--){
                scanf("%d",&n);
                int a[n];
                double curr,best=0.0,prob[n];
                for(i=0;i<n;i++)
                        scanf("%d",&a[i]);
                for(i=0;i<n;i++)
                        scanf("%lf",&prob[i]);
                for(i=n-1;i>=0;i--){
                        curr=(a[i]*prob[i])+((1-prob[i])*best);
                        if(curr>best)
                                best=curr;
                }
                printf("%.6lf\n",best);
        }
        return 0;
}
