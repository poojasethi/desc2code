#include<bits/stdc++.h>
using namespace std;
#define rep(i,a,b) for(int i=(int)a;i<=(int)b;i++)
#define rip(i,a,b) for(int i=(int)a;i>=(int)b;i--)
#define ll long long
#define MOD 1000000007
#define N 100005
#define PI acos(-1)
vector<int> adj[N];
int ent[N],exi[N];
int k=1;
void dfs(int i,int par)
{
	ent[i]=k++;
	rep(j,0,adj[i].size()-1)
	{
		if(adj[i][j]!=par)
		dfs(adj[i][j],i);
	}
	exi[i]=k++;
}
int main()
{
	int n;
	scanf("%d",&n);
	//parent[1]=1;
	rep(i,1,n-1)
	{
		int u,v;
		scanf("%d%d",&u,&v);
		adj[u].push_back(v);
		adj[v].push_back(u);
	}
	dfs(1,0);
	int q;
	scanf("%d",&q);
	while(q--)
	{
		int a,b;
		scanf("%d%d",&a,&b);
		if(ent[a]>ent[b]&&exi[a]<exi[b])
		printf("%d taught %d\n",b,a);
		else if(ent[b]>ent[a]&&exi[b]<exi[a])
		printf("%d taught %d\n",a,b);
		else
		printf("No idea\n");
	}
}