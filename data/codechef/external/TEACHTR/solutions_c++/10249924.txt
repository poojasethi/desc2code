#include<iostream>
#include<vector>
using namespace std;
#define N 100005
int S[N],E[N];
int t=0;
vector <int> gr[N];
void dfs(int v,int p)
{
  S[v]=t;
  t++;
  int x;
  for(x=0;x<gr[v].size();x++)
  {
    if(gr[v][x]!=p)
    {
      dfs(gr[v][x],v);
    }
  }
  E[v]=t;
  t++;
}

int main()
{
 int t,a,b,c,d,f;
 cin>>a;
 
 for(b=0;b<(a-1);b++)
 {
  cin>>c>>d;
  gr[c].push_back(d);
 }
 dfs(1,0);
  cin>>d;
 for(b=0;b<d;b++)
 {
  int p,q;
   cin>>p>>q;
  if(S[p] < S[q] && E[p] > E[q])
  {
    cout<<p<<" taught "<<q<<endl;
   continue;
  }
  if(S[q] < S[p] && E[q] > E[p])
  {
    cout<<q<<" taught "<<p<<endl;
    continue;
  }
 cout<<"No idea"<<endl;
 }
 return 0;
}