#include<bits/stdc++.h>
using namespace std;
#define debug(x) cout << "[DEBUG] " << #x << " = " << x << "\n"
vector<int> tree[100010];
char c[100010];

int dfs(int u,int parent,long long &ans)
{
    int cnt=1,i;
    ans++;

    for(i=0;i<tree[u].size();i++)
    {
        int v = tree[u][i];
        if(v==parent)
            continue;
        int other = dfs(v, u, ans);

          if(c[v]!=c[u])
          {
             ans+=1LL*other*cnt;  //Here's all the magic
             cnt+=other;           // Here's all the magic
          }
    }
    return cnt;
}


int main()
{
int n;
cin>>n;

int i,u,v;
for(i=0;i<n-1;i++){
cin>>u>>v;
u--;
v--;
tree[u].push_back(v);
tree[v].push_back(u);
}

for(i=0;i<n;i++)
    cin>>c[i];

long long ans=0;

dfs(0,-1,ans);

printf("%lld",ans);

return 0;


}
