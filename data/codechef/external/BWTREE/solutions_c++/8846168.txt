#include<bits/stdc++.h>
#include<queue>
#include<vector>
using namespace std;
char parity[100005];
char visited[100005];
queue<long> q;
vector<long> adj[100005];
long bfs(long i)
{
	visited[i]='1';
	q.push(i);
	long j,u;
	long cnt=1;
	while(!q.empty())
	 {
	 	u=q.front();
	 	q.pop();
	 	for(j=0;j<adj[u].size();j++)
	 	  {
	 	  	if(visited[adj[u][j]]=='0'&&parity[adj[u][j]]!=parity[u])
	 	  	  {
	 	  	  	 visited[adj[u][j]]='1';
	 	  	     q.push(adj[u][j]);
			     cnt++;		 	 
			 }
		   }
	 }
	 return cnt;
}
int main()
{
	 long n,a,b;
	 cin>>n;
     long i;
     long long sum=0;
     long long temp;
     for(i=1;i<=n-1;i++)
      {
      	 cin>>a;
      	 cin>>b;
      	 adj[a].push_back(b);
      	 adj[b].push_back(a);
	  }
	  for(i=1;i<=n;i++)
	    visited[i]='0';
	  for(i=1;i<=n;i++)
	   {
	   	 cin>>parity[i];
	   }
	  for(i=1;i<=n;i++)
	   {
	   	 if(visited[i]=='0')
	   	    {
	   	    	temp=bfs(i);
	   	    	//cout<<i<<" "<<temp<<endl;
	   	        sum=sum+temp*(temp-1)/2;
		    if(sum>=1000000007)
		      sum=sum%1000000007;	
		    } 
		    
	  } 	 
	  cout<<(sum+n)%1000000007;
	 return 0;
}