#include<iostream>
#include<fstream>
#include<cstdio>
 
using namespace std;
 
int t,i,j,flag=0,countx=0,county=0,countt=0;
char ar[6][6],ch;
int main()
{
  // freopen("A-large.in","r",stdin);
   // freopen("A-large.out","w",stdout);
    cin>>t;
    // cin>>ch;
    for(int k=0;k<t;k++)
    {
 
        for(i=0;i<4;i++)
        {
            for( j=0;j<4;j++)
            {
              //  scanf("%c",&ar[i][j]);
              cin>>ar[i][j];
            }
      //       scanf("%c",&ch);
        }
 
 printf("Case #%d: ",k+1);
        flag=0;
        for(i=0;i<4;i++)
        {             countx=county=0;
                    countt=0;
            for(j=0;j<4;j++)
            {
                if(ar[i][j]=='X')
                countx++;
                else if(ar[i][j]=='T')
                countt++;
                else if(ar[i][j]=='O')
                county++;
                else if(ar[i][j]=='.')
                flag=1;
 
            }
 
           //  cout<<countx<<"     "<<county<<"   "<<countt<<endl;
             if(countx==4||(countt==1&&countx==3))
                {printf("X won\n");
                goto x;
                }
                else if(county==4||(countt==1&&county==3))
                {printf("O won\n");
                goto x;
                }
        }
 
        for(i=0;i<4;i++)
        {             countx=county=0;
                    countt=0;
            for(j=0;j<4;j++)
            {
                if(ar[j][i]=='X')
                countx++;
                else if(ar[j][i]=='T')
                countt++;
                else if(ar[j][i]=='O')
                county++;
 
 
            }
 
             //cout<<countx<<"     "<<county<<"   "<<countt<<endl;
             if(countx==4||(countt==1&&countx==3))
                {printf("X won\n");
                goto x;
                }
                else if(county==4||(countt==1&&county==3))
                {printf("O won\n");
                goto x;
                }
        }
            countx=county=countt=0;
            for(i=0;i<4;i++)
            {
                if(ar[i][i]=='X')
                countx++;
                else if(ar[i][i]=='O')
                county++;
                else if (ar[i][i]=='T')
                countt++;
 
            }
  //cout<<countx<<"     "<<county<<"   "<<countt<<endl;
              if(countx==4||(countt==1&&countx==3))
                {printf("X won\n");
                goto x;
                }
                else if(county==4||(countt==1&&county==3))
                {printf("O won\n");
                goto x;
                }
 
    countx=county=countt=0;
            for(i=3;i>=0;i--)
            {
                if(ar[i][3-i]=='X')
                countx++;
                else if(ar[i][3-i]=='O')
                county++;
                else if (ar[i][3-i]=='T')
                countt++;
 
            }
  //cout<<countx<<"     "<<county<<"   "<<countt<<endl;
              if(countx==4||(countt==1&&countx==3))
                {printf("X won\n");
                goto x;
                }
                else if(county==4||(countt==1&&county==3))
                {printf("O won\n");
                goto x;
                }
 
 
                if(flag)
                printf("Game not completed\n");
                else
                printf("Draw\n");
 
                            x:printf("");
    }
    return 0;
}
 