#include<cstdio>
#include<iostream>
#include<vector>
#include<cstring>
#include<algorithm>
#include<set>
#include<cmath>
#include<bitset>
#include<map>
#include<queue>
#define test(t) while(t--)
#define cin(n) scanf("%d",&n)
#define cout(n) printf("%d\n",n)
#define rep(i,a,n) for(i=a;i<n;i++)
#define vi vector<int>
#define vii vector< pair<int,int> >
#define mii map<int,int>
#define pb push_back
#define mp make_pair
#define imax 1000000007
#define ill long long
using namespace std;
int b[1<<22];
void f()
{
int i;
b[0]=0;
for(i=1;i< 1<<22 ;i++)
{
b[i] = (b[i/2] + i%2)%2;
}
}
int cases,n,i,j,k,a[1000001],t[1000001];
int main()
{
f();
cin(cases);
test(cases)
{
cin(n);
for(i=0;i<n;i++) cin(a[i]);
t[0]=-1;t[1]=0;
i=2;j=0;
while(i<n)
{
if(a[i-1]==a[j]) j++,t[i]=j,i++;
else if (j>0) j = t[j];
else t[i]=0,i++;
}
j=0;i=0;k=0;
while(j+i< (1<<22) && k<n)
{
if(a[i]==b[j+i])
{
i++;
if(i>k)
{
k++;
printf("%d ",j);
}
}
else
{
j=j+i-t[i];
if(t[i]> -1)i=t[i];
else i=0;
}
}
while(k<n)
{
printf("-1 ");
k++;
}
printf("\n");
}
return 0;
} 
