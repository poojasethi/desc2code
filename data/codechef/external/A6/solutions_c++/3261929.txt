#include <stdio.h>
#define MAX 4000001
int a[MAX];
int input[1000001];
int main()
{
	int power = 1;
	int i, in, n, m, p, start, prev;
	int done;
	a[0]=0;
	for(i=0; i<MAX; i++)
	{
		if(i==power)
			power *= 2;
		in = power;
		while((i+in)<MAX)
		{
			a[i+in] = a[i]? 0 : 1;
			in = in*2;
		}
	}
	scanf("%d", &n);
	for(m=0; m<n; m++)
	{
		p;
		start=0;
		scanf("%d", &p);
		prev = 0;
		for(i=0; i<p; i++)
		{
			scanf("%d", &input[i]);
			if(prev == -1)
			{
				printf("%d ", prev);
				continue;
			}
			if(input[i] == a[start])
			{
				printf("%d ", prev);
				start++;
				continue;
			}
			in = 0;
			done = 0;
			while(start < MAX)
			{
				if(in > i)
				{
					prev = start-i-1;
					done = 1;
					break;
				}
				if(input[in] == a[start])
					in++;
				else
				{
					start -= in;
					in=0;
				}
				start++;
			}
			if(!done)
				prev = -1;
			printf("%d ", prev);
		}
		printf("\n");
	}
	return 0;
}   