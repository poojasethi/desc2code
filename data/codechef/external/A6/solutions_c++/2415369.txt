#include<stdio.h>

#define cin(n) scanf("%d",&n)

int b[1<<22];
int table[1000001];//Table for KMP algorithm
int input[1000001];
int flip(int a)
{
	return 1-a;
}

void generateBinary()
{
	b[0]=0;
	b[1]=1;
	int i;
	for(i=2;i<(1<<22);i++)
	{
		if(i%2==0) b[i]=b[i/2];
		else b[i]=flip(b[i-1]);
	
	}
}

void buildtable(int m)
{
	table[0]=-1;
	table[1]=0;
	int pos=2;
	int cnd=0;

	while(pos<m)
	{
		if(input[pos-1]==input[cnd])
		{
			cnd++;
			table[pos]=cnd;
			pos++;
		}
		else if(cnd>0) cnd=table[cnd];
		else
		{
			table[pos]=0;
			pos++;
		
		}

	}
	
	

}


int main()
{
	generateBinary();
	int num_cases;
	cin(num_cases);
	int i,j;
	int k,l,n,t;
	int m;
	for(i=0;i<num_cases;i++)
	{
		cin(m);
		for(j=0;j<m;j++) 
		{
			cin(input[j]);
		}
		buildtable(m);
		k=0;//On sequence
		l=0;//On particular input
		t=0;
			
			while(k+l<(1<<22)&&t<m)
			{
				
				if(input[l]==b[k+l]) 
				{
					l++;
					if(l>t)
					{

						printf("%d ",k);
						t++;

					}
				}
				else
				{
					k=k+l-table[l];
					if(table[l]>-1) l=table[l];
					else l=0;
				}
							
			
			}
			while(t<m)
			{
				printf("%d ",-1);
				t++;
			}
			printf("\n");


		}

		
		



	return 0;
	
}
