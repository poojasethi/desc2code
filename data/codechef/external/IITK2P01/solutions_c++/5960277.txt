#include <bits/stdc++.h>
#include <iostream>
#include <string>
#include <vector>
#include <map>
using namespace std;
#define ll long long int
const ll MAXN = 1005;
#define mod 1000000007


#define gc getchar_unlocked
inline ll scan()
{
	ll t=0,neg=0;
	char c;
	c=gc();
	while((c<'0' || c>'9')&& c!='-')
		c=gc();
	if(c=='-') {neg=1;c=gc();}
	while(c>='0' && c<='9')
	{
		t=(t<<3)+(t<<1)+c-'0';
		c=gc();
	}
	if(neg) t=-t;
	return(t);
}

int main()
{
	ll t,n,k,ans;

	t=scan();

	while(t--)
	{
		n=scan();k=scan();
		ans=0;
		if(k==1) ans=n;
		else{
		while(n)
		{
			ans+= (n%k);
			n=n/k;
		}
		}
		printf("%lld\n",ans);
	}
}
