#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;
int main()
{
int t;
cin>>t;
while(t--)
{
long long n;
long long k;
cin>>n>>k;
long long temp;
long long count=0;
if(k==1)
cout<<n<<endl;
else
{
while(n>0)
{
temp=1;
while(n>=(temp*k))
{
temp=temp*k;
}
count+=(n/temp);
n=n-(n/temp)*temp;
}
cout<<count<<endl;
}
}
return 0;
}
