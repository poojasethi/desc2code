#include<bits/stdc++.h>
#define llu long long unsigned
#define lld long long
#define ld long
using namespace std;
#define MOD 1000000007
int main()
{
    int t;
     llu ans=0;
    llu n,k,z;
    scanf("%d",&t);
    while(t--)
    { ans=0;
        scanf("%llu %llu",&n,&k);
        if(k==1)
        {
            printf("%llu\n",n);
            continue;
        }
        while(n)
        {
            z=n%k;
            ans+=z;
            n=n/k;
        }
        printf("%llu\n",ans);
    }
 return 0;
}
