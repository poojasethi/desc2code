#include <iostream>
#include<cmath>
using namespace std;

int main()
{
   int tc;      cin>>tc;
   long long n,k,t,m,i,cnt;
   while(tc--){
        cin>>n>>k;      cnt=0;
        
            if(k==1){
                cout<<n<<endl;
            }
            else{
                            
            m=(log10(n)/log10(k));

                    for(i=m;n>0 && i>=0;i--){
                       
                        t=(long long)(pow(k,i));
                        //if(n>=(t*k)){
                        cnt+=n/t;n=n%t;
                        /*}
                        else{
                            
                        }*/
                            
                    }
            cout<<cnt<<endl;
            
            }
   }

    return 0;
}
