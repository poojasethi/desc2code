#include<stdio.h>
int main(){
	long long int t;
	unsigned long long int n,k;
	scanf("%lld",&t);
	while(t--){
		scanf("%llu %llu",&n,&k);
		long long int count=0;
		if(k==1){
			count=n;
		}
		else{
			while(n){
				count+=(n%k);
				n/=k;
			}
		}
		printf("%lld\n",count);
	}
}