#include<iostream>
#include <stdio.h>
#include<algorithm>


#define print(n) printf("%lld\n",n);
#define input(m)   scanf("%lld",&m);



using namespace std;

int main(){

long long int t,n,k,ans,tmp;
input(t);

    while(t--){

	   input(n);
	   input(k);

	   ans=0;

      if(k==1){
    	  print(n);
    	  continue;
      }

	   while(n){
		   tmp=n%k;
		   ans+=+tmp;
		   n=n/k;

	   }

	 print(ans);
    }


	return 0;
}
