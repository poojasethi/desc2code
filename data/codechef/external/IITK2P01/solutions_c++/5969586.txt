#include <iostream>
using namespace std;

int main() {
	int t;
	cin>>t;
	while(t--)
	{
		long long int n,k;
		cin>>n>>k;
		if(k==1)
		{
			cout<<n<<endl;
			continue;
		}
		
		long long int temp=n;
		long long int result=1,count=0;
		while(result<=temp)
			result=result*k;
		result=result/k;	
		while(temp>0){
			count=count+temp/result;
			temp=temp%result;
			while(result>temp)
				result=result/k;
		}
		cout<<count<<endl;
	}
	return 0;
}