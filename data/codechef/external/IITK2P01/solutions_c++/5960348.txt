#include <bits/stdc++.h>
#include <iostream>
#include <string>
#include <vector>
#include <map>
using namespace std;
#define ll long long int
const ll MAXN = 1005;
#define mod 1000000007




int main()
{
	ll t,n,k,ans;

	scanf("%lld",&t);

	while(t--)
	{
		scanf("%lld %lld",&n,&k);
		ans=0;
		if(k==1) ans=n;
		else{
		while(n)
		{
			ans+= (n%k);
			n=n/k;
		}
		}
		printf("%lld\n",ans);
	}
}
