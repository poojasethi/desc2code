#include<stdio.h>
int main()
{
	long long int t,n,k,x,count;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld %lld",&n,&k);
		if(k==n){  printf("1\n"); continue; }
		if(k==1) { printf("%lld\n",n); continue; }
		count=0;
		while(n!=0)
		{
		    count+=(n%k);
		    n=n/k;
		}
		printf("%lld\n",count);
	}
}