#include<cstdio>



int main()
{
    long long int n,ans;
    int t,x,k;
    scanf("%d",&t);
    while(t--)
    {
        //cin>>n>>k;
        scanf("%lld%d",&n,&k);
        //cout<<min(n,k)<<endl;
        ans=0;
        if(k==1)
        {
            printf("%lld\n",n);
            continue;
        }
        while(n)
        {
            x=n%k;
            ans=ans+x;
            n=n/k;
        }
        //cout<<ans<<endl;
        printf("%lld\n",ans);
    }
}