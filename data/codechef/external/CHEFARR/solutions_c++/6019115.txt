#include<iostream>
using namespace std;
int main()
{
long long ans1,ans2,res=0,count=0,n,arr[500002];
cin>>n;
for(int i=0;i<n;i++)
{
  cin>>arr[i];
  if(i!=0)
   arr[i]+=arr[i-1];
}
if(arr[n-1]%3==0)
{
  ans1=arr[n-1]/3;
  ans2=ans1*2;
}
for(int i=0;i<n-1;i++)
{
  if(arr[i]==ans2)
    res+=count;
  if(arr[i]==ans1)
    count++;
}
cout<<res<<endl;
return 0;
}
