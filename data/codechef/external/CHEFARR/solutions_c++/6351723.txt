#include <iostream>

using namespace std;
#define si 500005
long long x[si],s1[si]={0},c[si]={0},s2[si]={0};
int main()
{
    long long n,i,j,ans=0,s=0;
    cin>>n;
    for(i=1;i<=n;i++)
        {cin>>x[i];
        s+=x[i];
        }

        if(s%3!=0)
        {
            cout<<0;
            return 0;
        }

        s/=3;
    for(i=1;i<=n;i++)
        s1[i]=s1[i-1]+x[i];

    for(i=n;i>0;i--)
    {
        s2[i]=s2[i+1]+x[i];
        if(s2[i]==s)
            c[i]=c[i+1]+1;
        else
            c[i]=c[i+1];
    }

    for(i=1;i<=n-2;i++)
    {
        if(s1[i]!=s)
            continue;
        ans+=(c[i+2]);
    }

    cout<<ans;

}
