#include <iostream>
using namespace std;
long long int n,k,i,j=0,c=0,a[500002],s=0,ans=0;
int main(void){
    cin >> n;
    for(i=0;i<n;i++){
        cin >> a[i];
        s+=a[i];
    }
    for(i=0;i<n-1;i++){
        j+=a[i];
        if((j*3)==(s*2))
            ans+=c;
        if(j*3==s)
            c++;
    }    
    cout << ans << endl;                                                      
    return 0;
}