
#include <iostream>

#include <vector>

using namespace std;

long long int arr[500005];

long long int sum[500005];

 

int main()

{

    ios_base::sync_with_stdio(false);

    int N;

    cin>>N;

    sum[0]=0;

    arr[0]=0;

    for(int i=1; i<=N; i++)

    {

        cin>>arr[i];

        sum[i]=sum[i-1]+arr[i];

    }

    long long int k=0;

    if(sum[N]%3==0 && N>=3)

    {

        if(sum[N]==0)

    {

        for(int i=1; i<N; i++)

        {

            if(sum[i]==0)

            {

                k++;

            }

        }

        long long int s=((k*(k-1))/2);

        cout<<s;

    }

    else

    {  long long int s=0;

        for(int i=N-1; i>=1; i--)

    {

        if(sum[i]==(2*(sum[N]/3)))

        {

            k++;

       }

        else if(sum[i]==(sum[N]/3))

        {

            s+=k;

        }

    }

    cout<<s;

    }

    }

    else

    {

        cout<<0;
    }

}

