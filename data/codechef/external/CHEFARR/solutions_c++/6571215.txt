//CodeChef--Chef and array
#include<bits/stdc++.h>
#define MAX 500015

using namespace std;

typedef long long int lli;

struct node{
	
	int ans;
	
	node(){		ans=0;	}
	
	void makeLeaf(){ this->ans=1; }
	
	void merge(struct node lhs,struct node rhs){
		
		this->ans=lhs.ans+rhs.ans;
		
	}
	
};

struct node Tree[4*MAX];
int array[MAX];
lli fwdSum[MAX]={0},bwdSum[MAX]={0};

void update(int ,int ,int ,int ,int );
int query(int ,int ,int ,int ,int );

int main(void){
	
	int totalElements,i;
	lli sum=0;
	
	scanf("%d",&totalElements);
	
	for(i=0;i<totalElements;i++){
		
		scanf("%d",&array[i]);
		sum+=(lli )array[i];
			
	}
	
	if(sum%3!=0){
		
		printf("0\n");
		return 0;
		
	}
	
	
	lli reqdSum=sum/3;
	
//	cout<<"\nIn forward we have :- ";
	for(i=1;i<=totalElements;i++){
		
		fwdSum[i]=fwdSum[i-1]+array[i-1];
		if(fwdSum[i]==reqdSum){
		
		  update(0,0,totalElements-1,i-1,i-1);
	    //  cout<<i-1<<" ";
		
		}
	
	}
		
	lli ans=0;  
	for(i=totalElements-1;i>=0;i--){
		
		bwdSum[i]=bwdSum[i+1]+array[i];
		if(bwdSum[i]==reqdSum){
		
	 	  ans+=query(0,0,totalElements-1,0,i-2);	
	      //cout<<"\nIn bwd it came at "<<i<<" and gave "<<query(0,0,totalElements-1,0,i-1);
		     
		}
	
	}
	
	printf("%lld\n",ans);
		
	return 0;
	
}

void update(int idx,int assStart,int assEnd,int s,int e){
	
	if(assStart>assEnd||assStart>e||s>assEnd)//out of range	
	 return;
	
	if(assStart>=s&&assEnd<=e){
		
		Tree[idx].makeLeaf();
		return;
		
	}
	
	int mid=(assStart+assEnd)>>1;
	
	update(2*idx+1,assStart,mid,s,e);
	update(2*idx+2,mid+1,assEnd,s,e);
	
	Tree[idx].merge(Tree[2*idx+1],Tree[2*idx+2]);	
	
}

int query(int idx,int assStart,int assEnd,int s,int e){
	
	if(assStart>assEnd||assStart>e||s>assEnd)//out of range
	 return 0;
	 	
	if(assStart>=s&&assEnd<=e) return Tree[idx].ans;
	
	int mid=(assStart+assEnd)>>1;
	
	return query(2*idx+1,assStart,mid,s,e)+query(2*idx+2,mid+1,assEnd,s,e);
	
}