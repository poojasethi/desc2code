#include<iostream>
using namespace std;

int main() {
    long long int t;
    cin >> t;
    while(t--) {
               long long int n,k;
               cin >> n >> k;
               long long int a[n];
               for(long long int i = 0;i < n;i++) cin >> a[i];
               long long int dp[n];
               dp[0] = (a[0]>0)?a[0]:0;
               for(long long int i = 1;i <=k;i++) dp[i] = max(dp[i-1],a[i]);
               long long int lol = dp[0];
               for(int i = 0;i < k+1;i++) lol = max(lol,dp[i]);
               for(long long int i = k+1;i < n;i++) {
                       dp[i] = max(a[i]+dp[i-k-1],lol);
                       lol = max(lol,dp[i]);
               }
               cout << dp[n-1] << endl;
    }
    return 0;
}
