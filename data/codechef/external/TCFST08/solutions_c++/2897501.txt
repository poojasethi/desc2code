#include<stdio.h>
#include<iostream>
#include<string.h>
#include<vector>
#include<set>
#include<string>
using namespace std;

#define sz(z) z.size()
#define pb push_back

char temp[20000][1024];
int main(){
int o;
cin>>o;
for(int T=1;T<=o;T++){
int n,q;
cin>>n>>q;
getchar();
gets(temp[0]);
int k=(1<<n);
set<string> st;
int co=0;
for(int i=1;i<k;i++){
for(int j=1;j<n-1;j++)temp[i][j-1]=temp[i-1][j];
if(temp[i-1][0]=='+')temp[i][n-1]='-';
if(temp[i-1][0]=='-')temp[i][n-1]='+';
if(temp[i-1][0]=='+'){
if(temp[i-1][n-1]=='+')temp[i][n-2]='-';
if(temp[i-1][n-1]=='-')temp[i][n-2]='+';
}
else temp[i][n-2]=temp[i-1][n-1];
temp[i][n]=0;
string te=string(temp[i]);
if(!st.count(te))st.insert(te);
else break;
co++;
}
if(co!=0)k=co;
printf("Experiment #%d:\n",T);
for(int i=0;i<q;i++){
int t;
cin>>t;
if(n==1 && t>0){
temp[t%k][0]='+';
}
t=t%k;
printf("%s\n",temp[t]);
}
}
return 0;
}
