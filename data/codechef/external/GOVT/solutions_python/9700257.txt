#include <stdio.h>

#include <stdlib.h>

 

int comp(const void *p,const void *q){ return *(int*)p  - *(int*)q; }

 

int main(){

	long int t;

	long int i,n,m;

	long int a[1000];

	long int sum=0;

 

	scanf("%ld",&t);

 

	while(t--){

		sum=0;	

		scanf("%ld%ld",&n,&m);

		for(i=0;i<n;i++) scanf("%ld",&a[i]);

		
		qsort(a,n,sizeof(int),comp);

		if(n==1) sum=1;

 

		for(i=n-1;i>=1;i--){

			sum=a[i]+a[i-1]+a[i]*a[i-1];
			sum=sum%m;
			a[i-1]=sum;

		}

		
		printf("%ld\n",sum);

	}

 

	return 0;	

} 

