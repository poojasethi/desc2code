#include<iostream>
#include<cstdio>
#include<vector>
#include<algorithm>
#define mod 1000000007
void scanint(int &x){
    char c = getchar_unlocked();
    x = 0;
    while(c<'0'||c>'9'){
        c=getchar_unlocked();
    }
    while(c>='0'&&c<='9'){
        x= (x<<1)+ (x<<3) + c - '0';
        c=getchar_unlocked();
    }
}
int main(){
    unsigned long long a[105][105]={0};
    int n;
    scanint(n);
    n*=n;
    for(int i=1;i<n;i++){
        a[i][i+1]=1;
    }
    int q;
    scanint(q);
    while(q--){
        int x,y;
        scanint(x);
        scanint(y);
        a[x][y]=1;
    }
    int k;
    scanint(k);
    unsigned long long iden[101][101]={0};
    for(int i=0;i<101;i++){
        iden[i][i]=1;
    }
    while(k){
        if(k&1){
            unsigned long long temp[101][101]={0};
            for(int i=1;i<=n;i++){
                for(int j=1;j<=n;j++){
                    for(int k=1;k<=n;k++){
                        temp[i][j]+=a[i][k]*iden[k][j];
                        temp[i][j]%=mod;
                    }
                }
            }
            for(int i=1;i<=n;i++){
                for(int j=1;j<=n;j++){
                    iden[i][j]=temp[i][j];
                }
            }
        }
        unsigned long long temp[101][101]={0};
        for(int i=1;i<=n;i++){
            for(int j=1;j<=n;j++){
                for(int k=1;k<=n;k++){
                    temp[i][j]+=a[i][k]*a[k][j];
                    temp[i][j]%=mod;
                }
            }
        }
        for(int i=1;i<=n;i++){
            for(int j=1;j<=n;j++){
                a[i][j]=temp[i][j];
            }
        }
        k>>=1;
    }
    printf("%llu",iden[1][n]%mod);
}
 