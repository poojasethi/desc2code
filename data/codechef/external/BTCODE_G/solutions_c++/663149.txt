#include<stdio.h>
#include<stdlib.h>
#include<iostream>
#include<algorithm>
#include<string.h>
#include<utility>
#include<vector>
#include<map>
#include<queue>
#include<set>

#define MAX 100101

using namespace std;
typedef long long ll;
int getint(){int i;scanf("%d",&i);return i;}
long long getll(){long long a;scanf("%lld",&a);return a;}

int n,q;
vector<vector<int> > adj;
int color[MAX];
int seti[MAX];
int seth[MAX];

int findset(int i)
{
    if(i!=seti[i])
    {
        seti[i]=findset(seti[i]);
    }
    return seti[i];
}


int main()
{
    n=getint();
    int u,v;

    for(int i=0;i<=n;i++)
    {
        adj.push_back(vector<int>());
        color[i]=-1;
        seth[i]=i;
        seti[i]=i;
    }

    for(int i=1;i<n;i++)
    {
        u=getint();
        v=getint();
        adj[u].push_back(v);
        adj[v].push_back(u);
    }

    q=getint();

    int opt,ch1,ch2;

    for(int i=0;i<q;i++)
    {
        opt=getint();
        ch1 = getint();
        ch2 = getint();
        if(opt==1)
        {
            int size = adj[ch1].size();
            color[ch1]=ch2;

            for(int j=0;j<size;j++)
            {
                if(color[adj[ch1][j]]==color[ch1])
                {
                    int sethead = findset(adj[ch1][j]);
                    seti[sethead]=ch1;
                }
            }
        }
        else
        {
            int a,b;
            a=findset(ch1);
            b=findset(ch2);
            if(a==b)
            {
                printf("YES\n");
            }
            else
            {
                printf("NO\n");
            }
        }
    }

    return 0;
}
