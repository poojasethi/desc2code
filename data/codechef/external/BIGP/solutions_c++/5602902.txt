import java.util.*;
class BPTRL
{
    static Map<Integer,ArrayList<Integer>>map=new HashMap<Integer,ArrayList<Integer>>();
    static int[]visited=new int[10001];
    static int N;
    public static void main(String [] args)
    {
        Scanner sc=new Scanner(System.in);
        Arrays.fill(visited,-1);
        N=sc.nextInt();
        int x=sc.nextInt(),y=sc.nextInt();
        if(x!=0&&y!=0)
        {
            while(x!=0&&y!=0)
            {
                if(map.containsKey(x))
                    map.get(x).add(y);
                else
                {
                    map.put(x,new ArrayList<Integer>());
                    map.get(x).add(y);
                }
                x=sc.nextInt();y=sc.nextInt();
            }
            System.out.println(ways(1));
        }
        else
        System.out.println("0");
        System.exit(0);
    }
    static int ways(int x)
    {
        if(x==N)
            return 1;
        if(visited[x]==-1)
        {
            int f=0;
            int t=map.get(x).size();
            for(int i=0; i<t; i++)
            {
                f+=ways(map.get(x).get(i));
            }
            visited[x]=f;
        }
        return visited[x];
    }
}