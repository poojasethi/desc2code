#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<cmath>
#include<algorithm>
#define ll long long
using namespace std;
int T,n;
char a[1000005];
ll calcu()
{
	ll ans=0;
	/*if(n&1)*/ ans=(ll) n*((n-1)/2);
	//else ans=(ll) n*(n/2-1);
	if(n%3==0) ans-=n/3*2;
	return ans;
}
ll del()
{
	ll ans;
	if(n%2==1)
	   {int s1=0,i,s0=0;
	    for(i=0;i<n;i++)
	       {if(a[i]=='0') s0++;
		    else s1++;
		   }
		ans=(ll)s1*s0*3;
		if(n%3==0)
		   {s1=n/3; s0=n/3*2;
			for(i=0;i<n;i++)
		       {if(a[i]!=a[(i+s1)%n]) ans--;
			    if(a[i]!=a[(i+s0)%n]) ans--;
			   }
		   }
		return ans/2;
	   }
	else
	   {int i,s00=0,s01=0,s10=0,s11=0;
		for(i=0;i<n;i+=2)
		   {if(a[i]=='0') s00++;
		    else s01++;
		   }
		for(i=1;i<n;i+=2)
		   {if(a[i]=='0') s10++;
		    else s11++;
		   }
		ans=(ll)s00*s11*2; ans+=(ll)s01*s10*2;
		ans+=(ll)s00*s01*4; ans+=(ll)s10*s11*4;
		int n1,n2;
		n1=n/2;
		for(i=0;i<n;i++)
		   {if(a[i]!=a[(i+n1)%n]) ans--;}
		if(n%3==0)
		   {int s1=n/3,s0=n/3*2;
			for(i=0;i<n;i++)
		       {if(a[i]!=a[(i+s1)%n]) ans--;
			    if(a[i]!=a[(i+s0)%n]) ans--;
			   }
		   }
		return ans/2;
	   }
}
int main()
{
	scanf("%d",&T);
	int k;
	for(k=1;k<=T;k++)
	   {scanf("%s",a); n=strlen(a);
		printf("Case %d: %lld\n",k,calcu()-del());
	   }
	return 0;
}