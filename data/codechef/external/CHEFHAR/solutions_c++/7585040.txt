#include<iostream>
#include<cstdlib>
#include<algorithm>
#include<stdio.h>
#include<vector>
#include<map>
#define ll long long
#define pb push_back
using namespace std ;

int st[100002],en[100002];
 int ispow[100002];
 int maxm[100002];
int main(void)
{
    int n ,i,n1,n2,j;
 
    vector<int>v;
    for(i=1;i<=100000;++i){
       v.clear();
       int num = i;
       while(num>0){
          if(num&1)
             v.push_back(1);
          else
             v.push_back(0);
             num/=2;
       }
       int ct = 0;
       for(j=0;j<v.size();++j)
         if(v[j]==1)
           ct++;
        else
           break;
 
        en[i] = ct;
 
        ct = 0;
        for(j=v.size()-1;j>=0;--j)
          if(v[j]==1)
           ct++;
        else
           break;
 
        st[i] = ct ;
        if(st[i]==v.size())
          ispow[i]=1;
         else
           ispow[i]=0;
           
         maxm[i] = 0;
         ct = 0;
         for(j=0;j<=v.size()-1;++j){
             if(v[j]==1)
                ct++;
             else
                ct = 0;
              maxm[i] = max(maxm[i],ct);        
         }
    }
 
 
 
 
 
    int t,l,r;
    cin>>t;
    while(t--){
 
       scanf("%d%d",&l,&r);
       int ans = 0;
       int fsmax = 0 , ssmax = 0,  femax = 0 , semax = 0;
       int smax1,smax2,emax1,emax2;
       for(i=l;i<=r;++i){
                         
          if(ispow[i]!=0)
             ans +=st[i];
          else{
             if(st[i]>fsmax){
                fsmax = st[i];
                smax1 = i;
             }
             else if(st[i]>ssmax){
                ssmax = st[i];
                smax2 = i;
             }
 
             if(en[i]>femax){
                femax = en[i];
                emax1 = i;
             }
             else if(en[i]>semax){
                semax = en[i];
                emax2 = i;
             }
          }
       }
      // cout<<fsmax<<" "<<semax<<" "<<ssmax<<" "<<femax<<endl;
      // cout<<ans<<endl;
       getchar();
       if(smax1==smax2)
         ans =  ans + max(fsmax+semax,ssmax+femax);
       else
         ans = ans + fsmax + femax;
       for(i=l;i<=r;++i)
          ans = max(ans,maxm[i]);
       printf("%d\n",ans);
    }
   
    
    return 0;
}
