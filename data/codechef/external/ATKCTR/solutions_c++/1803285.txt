    #include <climits>
    #include <vector>
    #include <cstdio>
    #include<iostream>
    #include<stdio.h>
    using namespace std;
    int main(void)
    {
    int t, n, m, a, b;
    scanf("%d", &t);
    while(t--)
    {
    scanf("%d", &n);
    vector<int> out(n + 1, 0);
    for(int i = 1; i <= n; i++)
    out[i] = n - i;
    scanf("%d", &m);
    for(int i = 0; i < m; i++)
    {
    scanf("%d", &a);
    scanf("%d", &b);
    if(a > b)
    {
    int tmp = a;
    a = b;
    b = tmp;
    }
    out[a]--;
    out[b]++;
    }
    int minoutdegree = INT_MAX, minoutdegreevertex = -1;
    for(int i = 1; i <= n; i++)
    {
    if(minoutdegree > out[i])
    {
    minoutdegree = out[i];
    minoutdegreevertex = i;
    }
    }
    if(minoutdegree == 0)
    printf("2 %d\n", minoutdegreevertex);
    else
    printf("1\n");
    }
    return 0;
    } 