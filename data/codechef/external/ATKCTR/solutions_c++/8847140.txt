#include <bits/stdc++.h>
using namespace std;

const int N = 1e6 + 10;
vector<int> A[N];
vector<int> B[N];

int main() {
  int t;
  scanf("%d", &t);
  while(t--) {
    int n, m;
    scanf("%d %d", &n, &m);
    for(int i=0; i<n; i++)
      A[i].clear(), B[i].clear();
    for(int i=0; i<m; i++) {
      int x, y;
      scanf("%d %d", &x, &y); x--; y--;
      A[x].push_back(y);
      B[y].push_back(x);
    }

    int num = -1; int yes = 0;
    for(int i=0; i<n; i++) {
      int curr = i + A[i].size() - B[i].size();
      if(curr == n-1) {
	num = i; yes = 1; break;
      }
    }
    if(yes) {
      printf("2 %d\n", num+1);
    }
    else printf("1\n");
  }
}
