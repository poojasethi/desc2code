#include<stdio.h>
int fast_int()
{
        int n = 0;
        char c = getchar();
        while (!('0' <= c && c <= '9'))
        {
                c = getchar();
        }
        while ('0' <= c && c <= '9')
        {
                n = (n<<3)+(n<<1) + c - '0';
                c = getchar();
        }
        return n;
}
int main()
{
	int t,n,m,i,q,x,y;
	int summ[1000001];
	t=fast_int();
	while(t--)
	{
		n=fast_int();
		m=fast_int();
		i=0;
		while(i<n)
		{
			summ[n-i]=i;
			i++;
		}
		i=0;
		while(i<m)
		{
			x=fast_int();
			y=fast_int();
			if(x<y)
			{
				q=x;
				x=y;
				y=q;
			}
			summ[y]--;
			summ[x]++;
			i++;
		}
		i=n;
		while(i>0)
		{
 
			if(summ[i]==0)
				break;
			i--;
		}
		if(i!=0)
			printf("2 %d\n",i);
		else
			printf("1\n");
	}
	return 0;
}