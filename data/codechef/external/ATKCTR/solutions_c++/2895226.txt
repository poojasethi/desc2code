#include<iostream>
#include<cstdio>
#include<cstring>
#include <vector>
using namespace std;
vector<vector<int> > adj;
vector<vector<int> > graph;
long long int t,n,m,i,a,b,f,p;
int main()
{
    cin>>t;
    while(t--)
    {
        cin>>n>>m;
        adj=vector<vector<int> >(n+2);
        graph=vector<vector<int> >(n+2);
        for(i=1;i<=m;i++)
        {
          cin>>a>>b;
          adj[a].push_back(b);
          graph[b].push_back(a);
        }
//cout<<"123456";
f=0;
p=0;
      for(i=1;i<=n;i++)
      {
          //cout<<adj[i].size()<<endl;;
      if(adj[i].size()==n-i&&graph[i].size()==0)
      {
          f=1;
          p=i;
          break;
      }

      }
      if(f==0)
        cout<<"1"<<endl;
      else
        cout<<"2"<<" "<<p<<endl;
    }
}
