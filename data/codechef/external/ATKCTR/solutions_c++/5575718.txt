#include <queue>
#include <iostream>
#include <cstdio>
#include <vector>
#include <map>
#include <algorithm>
#include <bitset>
#include <cstdlib>
#include <list>
#include <stack>
#include <deque>
#include <cmath>
#include <string>
#include <string.h>
#include <iomanip>
#include <sstream>
#include <set>
#include <cassert>
#include <ctype.h>
using namespace std;
#define rep(i,n) for(int i = 0; i < n ; ++i)
#define REP(i,a,b) for(int i = a ; i <= b; ++i)
#define s(n) scanf("%d",&n)
#define rev(i,n) for(int i = n ; i >= 0 ; --i)
#define REV(i,a,b) for(int i = a ; i >= b ; --i)
#define INF 1000000000
#define pp pair<int,int>
#define pb(a) push_back(a)
#define ll long long
#define vi vector<int>
#define mii map<int,int>
#define msi map<string,int>
#define vii vector<vector<int> >
#define vpp vector<pair<int,int> >
#define MOD 1000000007
#define pdd pair<double,double>
#define vl vector<long long>
int g[1000001] , l[1000001] ; 
int main()
{
  //  freopen("input.txt","r",stdin) ; 
    ios_base::sync_with_stdio(0) ; 
    int tc , n , m , k , u , v; 
    bool ok ; 
    cin >> tc ; 
    while(tc--)
    {
        ok = false ; 
        cin >> n >> m  ; 
        for(int i = 1 ; i <= n ; ++i)
        {
            g[i] = 0 , l[i] = 0 ; 
        }
        while(m--)
        {
            cin >> u >> v ; 
            g[u]++ ; 
            l[v]++ ; 
        }
        for(int i = 1 ; i <= n ; ++i)
        {
            if(g[i] == n-i)
            {
                if(l[i] == 0)
                {
                    ok = true ; 
                    cout << 2 << " " << i << "\n" ; 
                    break ; 
                }
            }
        }
        if(!ok)
        {
            cout << 1 << "\n" ; 
        }
    }
    return 0 ; 
}