#include <iostream>
#include <fstream>
#include <cstdio>
#include <climits>
#include <vector>
#include <map>
#include <list>
#include <deque>
#include <stack>
#include <set>
#include <string>
#include <cstring>
#include <algorithm>
#include <bitset>
#include <cmath>

using namespace std;

#define LL long long

int main()
{
	int n;
	cin>>n;
	while(n--)
	{
		int k,m;
		cin>>k>>m;
		int winner = 0;
		vector<int> values(k+1);
		for(int i=0;i<k;i++)
			values[i] = k-i;
		int a,b;
		for(int i=0;i<m;i++)
		{
			cin>>a>>b;
			if(a<=b)
			{
				values[a]--;
				values[b]++;
			}
		}
		int i;
		for(i=k;i>0;i--)
		{
			if(values[i]==0)
			{
				winner = i;
				break;
			}
		}
		if(i==0)
			cout << 1 << endl;
		else
			cout << 2 << " " << winner << endl;
	}
	return 0;
}