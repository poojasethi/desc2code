
#include <vector>
#include <list>
#include <map>
#include <set>
#include <deque>
#include <stack>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>

using namespace std;

const int MAX = (int)1e6 + 5;

int cnt[MAX], cur[MAX];
int main()
{
	int t,N,M;
	
	scanf("%d",&t);
	while(t--)
	{
		int x,y;

		scanf("%d",&N);

		for(int i = 1; i <= N; i++)
			cnt[i] = cur[i] = 0;

		scanf("%d",&M);
		for(int i = 1; i <= M; i++)		
		{
			scanf("%d %d", &x, &y);
			cnt[min(x,y)]++; cur[max(x,y)]++;
		}
		
		int j;
		for( j = 1; j <= N; j++) {
			if(!cur[j] && cnt[j] == N - j)
			{	printf("2 %d\n", j); break; }
		}

		if(j > N)
			printf("1\n");

	}

	return 0;
}