#include <cstdio>

using namespace std;
int a[1000010];
int main()
{
int t,n,m,x,y;
scanf("%d",&t);
while(t--)
	{
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++)a[i]=i-1;
	for(int i=1;i<=m;i++)
		{
		scanf("%d%d",&x,&y);
		a[y]--;
		a[x]++;
		}
	int f=-1;
	for(int i=n;i>0;i--)
		if(a[i]==n-1)
			{f=i;break;}
	if(f>=0)
		printf("2 %d\n",f);
	else
		printf("1\n");
	}
return 0;
}