#include<cstdio>
#include<iostream>
#include<cstring>
#include<string>
#include<malloc.h>
#include<cstdlib>
#include<cmath>
#include<algorithm>
#include<queue>
#include<map>
#include<set>
#include<vector>
#include<deque>
#include<list>
#include<utility>
#include<stack>
#define get getchar//_unlocked
#define LL int
#define max(a,b) a>b?a:b
#define min(a,b) a<b?a:b
#define INF 1000000009
using namespace std;
inline LL inp()
{
    LL n=0,s=1;
    char p=get();
    if(p=='-')
    s=-1;
    while((p<'0'||p>'9')&&p!=EOF&&p!='-')
    p=get();
    if(p=='-')
    s=-1,p=get();
    while(p>='0'&&p<='9')
    {
    n = (n<< 3) + (n<< 1) + (p - '0');
    p=get();
    };
    return n*s;
}
int main()
{
    LL i,j,k,l,c=0,n,m,p,q,r,t;
    t=inp();
    int *a=(int *)malloc(sizeof(int)*1000006);
    while(t--)
    {
        n=inp();
        m=inp();
        for(i=1;i<=n;i++)
        a[i]=n-i;
        while(m--)
        {
            p=inp();
            q=inp();
            if(p<q)
            {
                a[p]--;
                a[q]++;
            }
        }
        int ans=0;
        for(i=n;i>=1;i--)
        {
            if(!a[i])
            {
                ans=i;
                break;
            }
        }
        if(ans)
        printf("2 %d\n",ans);
        else printf("1\n");
    }
    return 0;
}
