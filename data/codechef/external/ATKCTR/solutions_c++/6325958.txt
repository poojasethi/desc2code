#include<iostream>
#include<cstring>
#include<stdlib.h>
using namespace std;
#include<stdio.h>
#ifndef ONLINE_JUDGE
#define get getchar
#else
#define get getchar_unlocked
#endif
inline int f()
{
	int n=0,s=1;
	char p=get();
	if(p=='-')
		s=-1;
	while((p<'0' || p>'9') && p!=EOF && p!='-')
		p=get();
	if(p=='-')
		s=-1,p=get();
	while(p>='0' && p<='9' )
	{
		n=(n<<3)+(n<<1)+(p-'0');
		p=get();
	}
	return (n*s);
}
int a[1000002];
int main()
{
	int t,i,j,n,m,k,x,y;
	//cin>>t;
	t=f();
	while(t--)
	{   int flag=0;
		//cin>>n>>m;
		n=f();
		m=f();
		for(i=1;i<=n;i++)
		a[i]=i-1;
		while(m--)
		{   //memset(a,0,sizeof(a));
		//	cin>>x>>y;
		
		    x=f();
		    y=f();
			a[x]++;
			a[y]--;
		}
		for(i=1;i<=n;i++)
		{
			if(a[i]==(n-1))
			{
				cout<<2<<" "<<i<<"\n";
				flag=1;
				break;
			}
		}
		if(!flag)
		cout<<1<<"\n";
	}
	
	
}