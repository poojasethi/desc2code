#include <cstdio>

using namespace std;

int defCount[1000001];

int main() {
  int t;
  scanf("%d", &t);
  int n,m;
  int a,b;
  int min = 1000001;
  int attack = 1;
  while(t--) {
    // initialize variables
    min = 1000001;
    attack = 1;

    scanf("%d%d", &n, &m);
    for(int i = 1; i <= n; ++i) {
      defCount[i] = n-i;
    }
    for(int i = 0; i < m; ++i) {
      scanf("%d%d", &a, &b);
      defCount[a]--;
      defCount[b]++;
    }

    /*for(int i = 1; i <= n; ++i) {
      printf("%d ", defCount[i]);
    }
    printf("\n");*/

    for(int i = n; i >= 1; --i) {
      if(defCount[i] < min) {
        min = defCount[i];
        attack = i;
      }
    }

    if(min == 0) {
      printf("2 %d\n", attack);
    } else {
      printf("1\n");
    }
  }
} 