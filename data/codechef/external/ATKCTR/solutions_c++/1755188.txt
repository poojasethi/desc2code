#include<iostream>
#define max 1000000
int a[max+1];
using namespace std;
int main()
{
int t,n,i,j,k,x,y,f=0;
scanf("%d",&t);
while(t--)
{
          scanf("%d%d",&n,&k);
          for(i=1;i<=n;i++)
          a[i]=n-i;f=0;
          for(i=0;i<k;i++)
          {
                          scanf("%d%d",&x,&y);
                          a[x]--;
                          a[y]++;
          }
          for(i=n;i>=1;i--)
          if(a[i]==0)
          {
                     printf("2 %d\n",i);
                     f=1;
                     break;
          }
          if(f==0)
          printf("1\n");
}
}
          
          
                          
