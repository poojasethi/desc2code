#include <iostream>
using namespace std;
int indeg[1000000]={0};
int main()
{
    int cases=0;int m=0,n=0,a=0,b=0,flag=0,i=0;
    scanf("%d",&cases);
    while(cases--)
    {
                  scanf("%d %d",&n,&m);
                  for(i=n;i>=1;i--)
                  {
                                   indeg[i]=n-i;
                  }
                  for(i=1;i<=m;i++)
                  {
                     scanf("%d %d",&a,&b);
                     indeg[a]--;
                     indeg[b]++;
                  }
                  
                  for(i=n;i>=1;i--)
                  {
                                   if(indeg[i]==0)
                                   {
                                                  flag=1;
                                                  break;
                                   }
                  }
                  if(flag)
                  {
                          printf("%d %d\n",2,i);
                  }
                  else
                  {
                      printf("%d\n",1);
                  }
                  
                  flag=0;
                  
    }
    return 0;
}
