#include <iostream>
#include<cstdio>

using namespace std;

int a[1000005];

int main()
{
    int test,i,n,m,x,y;
    scanf("%d",&test);
    while(test--)
    {
        scanf("%d%d",&n,&m);
        for(i=n;i>=1;i--)
        a[i]=n-i;
        for(i=1;i<=m;i++)
        {
            scanf("%d%d",&x,&y);
            if(x<y)
            {
                a[x]--;
                a[y]++;
            }
            else
            {
                a[x]++;
                a[y]--;
            }
        }
        int f;
        f=0;
        for(i=1;i<=n;i++)
        {
            if(a[i]==0)
            {
                f=1;
                break;
            }
        }
        if(f==1)
        printf("2 %d\n",i);
        else
        printf("1\n");
    }
    return 0;
}