import sys
for i in xrange(int(sys.stdin.readline())):
    n,m=map(int,sys.stdin.readline().split(' '))
    x,y=[],[]
    for j in xrange(m):
        X,Y=map(int,sys.stdin.readline().split(' '))
        x.append(X)
        y.append(Y)
    if n in y:
        b=x[y.index(n)]
        if b==n-1:
            if (n-1 in y):
                print 1
            else:
                print 2,n-1
        else:
            if x.count(b)==n-b and b not in y:
                print 2,b
            else:
                print 1
    else:
        print 2,n