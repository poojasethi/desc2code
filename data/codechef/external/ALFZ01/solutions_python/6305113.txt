#include<stdlib.h>
#include<stdio.h>
#include<string.h> 
#include<iostream>
#include<algorithm>
using namespace std;

int main()
{
	long long int arr[102][102],brr[102][102],i,j,n,m,t,k,MAX,sum;
	
		scanf("%lld",&t);
while(t--)
{	
	
	for(i=0;i<102;i++)
	{
		
		for(j=0;j<102;j++)
		{
			arr[i][j]=0;
			brr[i][j]=0;
			}

		}


	MAX=0;
		scanf("%lld",&n);
			scanf("%lld",&m);
	for(i=0;i<n;i++)
	{
		for(j=0;j<m;j++)
		scanf("%lld",&arr[i][j]);

	}
	
	for(i=m-1;i>=0;i--)
	brr[n-1][i]=arr[n-1][i];
	
	/*for(i=n-2;i>=0;i--)
	brr[i][n-1]=arr[i][n-1];*/

	for(i=n-2;i>0;i--)
	{
		for(j=m-1;j>=0;j--)
		{
			if(j==0)
			brr[i][j]=arr[i][j]+max(brr[i+1][j+1],brr[i+1][j]);
			else if(j==m-1)
			brr[i][j]=arr[i][j]+max(brr[i+1][j-1],brr[i+1][j]);
			else
			brr[i][j]=arr[i][j]+max(max(brr[i+1][j+1],brr[i+1][j]),brr[i+1][j-1]);	
		}
	
	}	
	
	MAX=arr[0][0]+max(brr[1][1],brr[1][0]);
	
	for(i=1;i<m-1;i++)
	{
		sum=arr[0][i]+max(brr[1][i-1],max(brr[1][i],brr[1][i+1]));
		if(sum>MAX)
		MAX=sum;
		}
		
	sum=arr[0][m-1]+max(brr[1][m-1],brr[1][m-2]);
	
		if(sum>MAX)
		MAX=sum;
	
	
	printf("%lld\n",MAX);
}
}

