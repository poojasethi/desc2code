#include <bits/stdc++.h>
using namespace std;

const int N = 2e4 + 10;
char S[N];
char curr[N];
int matched[N];
int main() {
  int t;
  scanf("%d", &t);
  while(t--) {
    int n, k;
    scanf("%d %d", &n, &k);
    scanf("%s", S);
    memset(matched, 0, sizeof matched);
    int mx = 0; int idx = -1;
    for(int i=0; i<n; ) {
      int j = i;
      while(j<n && S[j] == S[i]) j++;
      if(j-i > mx) {
	mx = j-i; idx = i;
      }
      i = j;
    }

    if(mx < k) {
      cout << "-1" << endl;
      continue;
    }

    int num = 0; int lastcolored = -1; char color = '\0';
    for(int i=0; i<idx; i++) {
      if(lastcolored+k-1 >= i && color==S[i])
	continue;
      num++;
      lastcolored = i; color = S[i];
    }
    int left = lastcolored; char leftc = color;
    lastcolored = -1; color = '\0';
    for(int j=n-1; j>idx+k-1; j--) {
      if(lastcolored-k+1 <= j && color == S[j])
	continue;
      num++;
      lastcolored = j; color = S[j];
    }
    int right = lastcolored; char rightc = color;

    if(!(rightc == leftc && rightc == S[idx]))
      num++;

    printf("%d\n", num);    
    
  }
}
