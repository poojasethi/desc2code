#include<iostream>
#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<queue>
#include<stack>
#include<map>
#include<algorithm>
#include<set>
#include<vector>
#include<limits.h>
using namespace std;
#define pb push_back
#define mk make_pair
#define scani(n) scanf("%d",&n);
#define ll long long
int yes[30001];
int skip[30001];
int main()
{
	int t,n,k,i,c,co,j,ans,flag;
	string str;
	cin>>t;
	while(t--)
	{
		ans=0;
		memset(yes,0,sizeof(yes));
		memset(skip,0,sizeof(skip));
		cin>>n>>k;
		cin>>str;
		flag=0;
		for(i=0;i<n;)
		{
			c=str[i];
			co=0;
			j=i;
			while(str[i]==c && i<n)
			{
				i++;
				co++;
			}
			if(co>=k)
			{	flag=1;
				yes[j]=1;
				skip[j]=co;
				ans+=ceil(((float)co/(float)k));
			}
		}
	//	cout<<flag<<endl;
		if(flag==1)
		{
		for(i=0;i<n;)
		{
			if(yes[i]==1)
			{
				i=i+skip[i];
			}
			else
			{
				while(yes[i]==0 && i<n)
				{
					c=str[i];
					j=i;
					while(yes[i]==0 && str[i]==c && i<n)
					{
						i++;
					}
					ans++;
				}
			}
		}
		}
		else
			ans=-1;
		cout<<ans<<endl;
	
	}

	return 0;
}
