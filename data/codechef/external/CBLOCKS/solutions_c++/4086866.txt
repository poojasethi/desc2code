// ROH.cpp : Defines the entry point for the console application.
//

#include<iostream>
#include<vector>
#include<stdio.h>
#include<set>
#include<algorithm>
#include<fstream>
#include<string>

using namespace std;

#define scan scanf
#define sscan sscanf_s
#define get gets
#define print printf 
#define mod 1000000009
#define ll long long
#define init int i,j,k,l,m,n,test
#define pause system("pause")
#define inf 1000000000
int main()
{
	init;
	scan("%d",&test);
	
	char s[21000];
	while(test--)
	{
		scan("%d %d",&n,&k);
		get(s);
		get(s);

		//first of all find the are which is occupied by k at max
		char symb;
		symb=s[0];
		i=1;
		int cnt=0,start=0;
		int temp=1,begin=0;
		while(true)
		{

			
			while(s[i]==symb && i<n)
			{
				i++;
				temp++;
			}
			
			if(temp>cnt)
			{
				cnt=temp;
				start=begin;
			}
			temp=1;
			if(i==n)
				break;
			symb=s[i];
			
			begin=i;
			i++;

		}
		if(cnt<k)
		{
			cout<<"-1"<<endl;
			continue;
		}
		//otherwise start from left stop at start, and start from last and stop at start+cnt

		//from left
		int ans=0;
		symb=s[0];
		i=0;
		temp=1;
		while(i!=start)
		{
			i++;
			
			while(s[i]==symb && i<n)
			{
				i++;
				temp++;
			}
			
			if(temp%k==0)
				ans+=temp/k;
			else ans+=((temp/k)+1);

			
			temp=1;
			if(i==n)
				break;
			symb=s[i];
			
			
			

		}
		temp=1;
		i=n-1;
		symb=s[n-1];
		while(i!=start+cnt-1)
		{
			i--;
			
			while(s[i]==symb && i>=0)
			{
				i--;
				temp++;
			}
			
			if(temp%k==0)
				ans+=temp/k;
			else ans+=((temp/k)+1);

			
			temp=1;
			if(i==-1)
				break;
			symb=s[i];
			
			
			

		}
		if(cnt%k==0)
			ans+=cnt/k;
		else ans+=((cnt/k)+1);
		cout<<ans<<endl;

		



	}
		


}