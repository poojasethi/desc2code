#include <stdio.h>
int dx[] = { 1,-1,0,0,1,-1,-1,1 };
int dy[] = { 0,0,1,-1,-1,-1,1,1 };
char a[205][205];
int t,n,m,i,j,k,Ans;
 
int dfs(int i,int j)
{
    a[i][j]='.';                                                           
    for ( k = 0; k < 8 ; k ++)
    {
      int x = i + dx[k],y = j + dy[k];
      if(x<n && y<m && x>=0 && y>=0)
      {
      if(a[x][y]=='#') dfs(x,y);
      }
    }
 }
 
int main()
{
    scanf("%d",&t);
    while(t--)
        {
        scanf("%d",&n);
        scanf("%d",&m);
        Ans=0;
        for(i=0;i<n;i++) scanf("%s",a[i]);
        for(i=0;i<n;i++)
                {
         for(j=0;j<m;j++)
                 {
          if(a[i][j]=='#') { Ans++; dfs(i,j); }
         }
        } 
        printf("%d\n",Ans);
    }
    return 0;
}   