#include<iostream>
#include<cstdio>
using namespace std;
void find(char d[202][202],int y,int x){
        d[y][x]=-1;
        if(d[y-1][x-1]==3){
            find(d,x-1,y-1);
        }
        if(d[y-1][x]==3){
            find(d,y-1,x);
        }
        if(d[y-1][x+1]==3){
            find(d,y-1,x+1);
        }
        if(d[y][x+1]==3){
            find(d,y,x+1);
        }
        if(d[y+1][x+1]==3){
            find(d,y+1,x+1);
        }
        if(d[y+1][x]==3){
            find(d,y+1,x);
        }
        if(d[y+1][x-1]==3){
            find(d,y+1,x-1);
        }
        if(d[y][x-1]==3){
            find(d,y,x-1);
        }
}
int main()
{
    int ans=0;
    int n,x,y;
    char temp;
    cin >> n;
    for(int i=0;i<n;i++){
        cin >> y >> x;
        char d[202][202]={0};
        for(int iy=1;iy<=y;iy++){
            for(int ix=1;ix<=x;ix++){
                cin >> temp;
                if(temp=='.'){
                    d[iy][ix]=-1;
                }else{
                    d[iy][ix]=0;
                }
            }
        }
        for(int iy=1;iy<=y;iy++){
            for(int ix=1;ix<=x;ix++){
                if(d[iy][ix]==0){
                    if(d[iy-1][ix-1]!=-1&&d[iy-1][ix-1]!=0){
                        d[iy][ix]=d[iy-1][ix-1];
                    }else if(d[iy-1][ix]!=-1&&d[iy-1][ix]!=0){
                        d[iy][ix]=d[iy-1][ix];
                    }else if(d[iy-1][ix+1]!=-1&&d[iy-1][ix+1]!=0){
                        d[iy][ix]=d[iy-1][ix+1];
                    }else if(d[iy][ix+1]!=-1&&d[iy][ix+1]!=0){
                        d[iy][ix]=d[iy][ix+1];
                    }else if(d[iy+1][ix+1]!=-1&&d[iy+1][ix+1]!=0){
                        d[iy][ix]=d[iy+1][ix+1];
                    }else if(d[iy+1][ix]!=-1&&d[iy+1][ix]!=0){
                        d[iy][ix]=d[iy+1][ix];
                    }else if(d[iy+1][ix-1]!=-1&&d[iy+1][ix-1]!=0){
                        d[iy][ix]=d[iy+1][ix-1];
                    }else if(d[iy][ix-1]!=-1&&d[iy][ix-1]!=0){
                        d[iy][ix]=d[iy][ix-1];
                    }else{
                        d[iy][ix]=3;
                    }
                }
            }
        }
        
        for(int iy=1;iy<=y;iy++){
            for(int ix=1;ix<=x;ix++){
                if(d[iy][ix]==3){
                    find(d,iy,ix);
                    ans++;
                }
            }
        }
        cout<<ans<<endl;
        ans=0;
    }
//   system("pause"); 
    return 0;
}
