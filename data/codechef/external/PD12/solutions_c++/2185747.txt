#include<stdio.h>
//#include<conio.h>
int x[20];int y[20];int hash[20][20];
int main()
{int t,r,c;   char ch; int p=0,count;
scanf("%d",&t);
for(int i=0;i<t;++i)
{count=0;  p=-1;
scanf("%d%d",&r,&c);
for(int j=0;j<r;++j)
{for(int k=0;k<c;++k)
{scanf("%c",&ch);
if(ch=='#')
{hash[j][k]=t+1;  x[++p]=j;y[p]=k;}
if(k==c-1)scanf("%c",&ch);
}
}  if(p!=-1){
for(int a=0;a<=p;++a)
{if((hash[x[a]][y[a]+1]!=t+1)&&(hash[x[a]][y[a]-1]!=t+1)&&(hash[x[a]+1][y[a]]!=t+1)&& (hash[x[a]-1][y[a]]!=t+1))
count++;     }

} printf("%d\n",count);

} // getch();
 return 0;
}
