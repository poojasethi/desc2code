#include<iostream>
#include<cstdio>
#include<vector>
#include<stack>
#include<memory.h>


using namespace std;

int t,n,m;
vector < vector< char > > ar(202,vector< char >(203,'.'));
vector < vector< bool> > visited(202,vector<bool>(0,false));


void dfs(int p,int q)
{
    stack<pair<int,int > > stk;
    stk.push(make_pair(p,q));
    while(!stk.empty())
    {
        int a=stk.top().first;
        int b=stk.top().second;
        stk.pop();

        if(a>0&&b>0&&ar[a-1][b-1]=='#'&&!visited[a-1][b-1])
        stk.push(make_pair(a-1,b-1));
        if(a<n-1&&b>0&&ar[a+1][b-1]=='#'&&!visited[a+1][b-1])
        stk.push(make_pair(a+1,b-1));
        if(a>0&&b<m-1&&ar[a-1][b+1]=='#'&&!visited[a-1][b+1])
        stk.push(make_pair(a-1,b+1));
        if(a<n-1&&b<m-1&&ar[a+1][b+1]=='#'&&!visited[a+1][b+1])
        stk.push(make_pair(a+1,b+1));
         if(b<m-1&&ar[a][b+1]=='#'&&!visited[a][b+1])
        stk.push(make_pair(a,b+1));
         if(a<n-1&&ar[a+1][b]=='#'&&!visited[a+1][b])
        stk.push(make_pair(a+1,b));
         if(b>0&&ar[a][b-1]=='#'&&!visited[a][b-1])
        stk.push(make_pair(a,b-1));
         if(a>0&&ar[a-1][b]=='#'&&!visited[a-1][b])
        stk.push(make_pair(a-1,b));

        visited[a][b]=true;

    }
    return;
}
int main()
{
       cin>>t;
       while(t--)
       {
            for(vector< vector <bool> > :: iterator it=visited.begin();it!=visited.end();it++)
        for(vector< bool > ::iterator it1=it->begin();it1!=it->end();it1++)
        *it1=false;
           int comp=0;
           scanf("%d%d",&n,&m);
           for(int i=0;i<n;i++)
           for(int j=0;j<m;j++)cin>>ar[i][j];
           for(int i=0;i<n;i++)
           for(int j=0;j<m;j++)
           {

                if(ar[i][j]=='#'&&!visited[i][j])
                {

                    dfs(i,j);
                    comp++;
                }
           }

           cout<<comp<<endl;
       }

}
