#include<cstdio>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

typedef long long ll;

const ll M=100000007;

int main(){
	int T; scanf("%d",&T);
	while(T--){
		int n,m,q; scanf("%d%d%d",&n,&m,&q);
		rep(i,m) scanf("%*d%*d");

		int nc=n-m; // 連結成分の個数
		while(q--){
			int k; scanf("%d",&k);
			if(k<2){
				scanf("%*d%*d");
				if(k==0) nc--;
				else     nc++;
			}
			else{
				ll ans=1;
				rep(i,n){
					if(i<nc) ans=ans*k%M;
					else     ans=ans*(k-1)%M;
				}
				printf("%lld\n",ans);
			}
		}
	}

	return 0;
}
