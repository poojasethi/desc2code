
#include<iostream>
#include<string>
using namespace std;

	
int LPS(string s){
	int n = s.size();
	long long *even = new long long[n], *odd = new long long[n];
	for(int i = 0; i < n; i++)
		odd[i] = 1;
	for(int i = 0; i < n-1; i++){
		if(s[i] == s[i+1]) even[i] = 3;
		else even[i] = 2;
	}
	long long *temp = new long long[n];
	
	for(int i = 2; i < n; i++){
		for(int j = 0; j < n-i; j++){
			if(s[j] == s[j+i]) temp[j] = even[j] + even[j+1] + 1;
			else temp[j] = even[j] + even[j+1] - odd[j+1];
		}
		odd = even;
		even = temp;
		temp = odd;
	}
	return even[0];
}
 
int main(){
	int t; cin >>t;
	while(t--){
		string s;
		cin >> s;
		cout << LPS(s) << endl;
	}
	return 0;
}