#include <cstring>
#include<cstdio>
#include<vector>
#include<stack>
#include<map>
#include<queue>
#include<set>
#include<list>
#include<iostream>
#include<sstream>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<climits>
#include<cstdlib>
#define snd(a) scanf("%d",&(a))
#define snc(a) scanf("%c",&(a))
#define snlld(a) scanf("%lld",&(a))
#define rep(i,n) for((i)=0;(i)<(n);(i)+=1)
#define reps(i,s,n) for((i)=(s);(i)<(n);(i)+=1)
#define tr(container,it) for(typeof(container.begin()) it = container.begin(); it != container.end(); it++)
#define pb push_back
#define pf push_front
#define all(a) (a).begin(),(a).end()
#define rall(a) (a).rbegin(),(a).rend()
#define fill(a,v) memset((a),(v),sizeof(a))
#define sz size()
#define mp make_pair
#define N 100010
#define mod  1000000007
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
template<class T> inline T poww(T b,T p){ll a=1;while(p){if(p&1){a=(a*b);}p>>=1;b=(b*b);}return a;}
template<class T> inline T modpoww(T b,T p,T mmod){ll a=1;while(p){if(p&1){a=(a*b)%mmod;}p>>=1;b=(b*b)%mmod;}return a%mmod;}
template<class T>  inline T gcd(T a,T b){ if(b>a)return gcd(b,a);return ((b==0)?a:gcd(b,a%b));}
template<class T> inline void scan(vector<T>& a,int n){T b;int i; rep(i,n){cin>>b;a.pb(b);}}
#define modd  20071027
#define pii pair<int,int>
#define vpii vector<pii >
#define vi vector<int>
#define vvi vector<vi >
#define vl vector<long long>
#define fr first
#define sd second
//ios_base::sync_with_stdio(0);
vector<string> nam;

int n,m;
int dp[110][210],mx=-mod;
int a[110][210],from[110][210];
inline void solve(int mn){
    if(mn>=m)return;
    int i,j,k,l;
    if(!mn){
        rep(i,n)dp[i][0]=-a[i][0];
    }
    else{
        rep(i,n){
            dp[i][mn]=dp[i][mn-1];
            from[i][mn]=i;
            rep(k,n){
                if(k!=i){
                    if(dp[i][mn]<=dp[k][mn-1]+a[k][mn]-100-a[i][mn]){
                        dp[i][mn]=dp[k][mn-1]+a[k][mn]-100-a[i][mn];
                        from[i][mn]=k;
                    }
                }

            }
        }
    }
   // cout<<"mn="<<mn<<"\n";
   // rep(i,n)cout<<dp[i][mn]<<" ";cout<<"\n";
    solve(mn+1);
}
int main(){
    //ios_base::sync_with_stdio(0);
    int i,j,k,l,mn;
    string s,ss;
    cin>>s;
    while(s!="TheEnd"){
        mx=-mod;
        cin>>n>>m;
        nam.clear();
        rep(i,n){cin>>ss;nam.pb(ss);rep(j,m)snd(a[i][j]);}
        //rep(i,n){rep(j,m)cout<<a[i][j]<<" ";cout<<"\n";}return 0;
        solve(0);

        mn=-mod;
        int mni;
        rep(i,n)if(dp[i][m-1]>mn){mn=dp[i][m-1];mni=i;}
        i=mni;
        vi ans;
        ans.pb(i);
        j=m-1;
        while(j>0){
            ans.pb(from[i][j]);
            i=ans.back();
            j--;
        }
        reverse(all(ans));
        cout<<s<<"\n";
        cout<<"Tk "<<abs(mn)<<"\n";
        j=ans[0];
        int ct=0;
        rep(i,ans.sz){
            if(ans[i]!=j){
                cout<<nam[j]<<" for "<<ct<<" month(s)\n";
                j=ans[i];ct=1;
            }
            else ct++;
        }
        cout<<nam[j]<<" for "<<ct<<" month(s)\n\n";
        cin>>s;
    }
    cout<<s<<"\n";
}






