#include <cstdlib>
#include <cstdio>
#include <cstring>
#include <iostream>
#include <cmath>
using namespace std;

const int MAXN=1010;
const int MAXM=20010;
const double eps=1e-7;

int Index[MAXN],To[MAXM],E[MAXM],D[MAXM],Next[MAXM],Tot;
int Q[MAXN],IN[MAXN];
double X[MAXN];
int N;

void AddLine(int a,int b,int e,int d)
{
	++Tot;
	Next[Tot]=Index[a];
	Index[a]=Tot;
	To[Tot]=b;
	E[Tot]=e;
	D[Tot]=d;
}

void Ready()
{
	Q[1]=1;Q[0]=1;
	for (int i=1;i<=Q[0];++i)
		for (int p=Index[Q[i]];p;p=Next[p])
			if (--IN[To[p]]==0)
				Q[++Q[0]]=To[p];
}

bool Check(double Ans)
{
	for (int i=1;i<=N;++i)
		X[i]=1e99;
	X[1]=0;
	for (int i=1;i<=N;++i)
		for (int p=Index[Q[i]];p;p=Next[p])
			X[To[p]]=min(X[To[p]],X[Q[i]]+E[p]-D[p]*Ans);
	return (X[N]<=0);
}

int main()
{
//	freopen("A.in","r",stdin);
	
	int A,B,S,D,M,TEST;
	scanf("%d",&TEST);
	while (TEST--)
	{
		scanf("%d%d",&N,&M);
		memset(Index,0,sizeof(Index));
		memset(IN,0,sizeof(IN));
		Tot=0;
		for (int i=1;i<=M;++i)
		{
			scanf("%d%d%d%d",&A,&B,&S,&D);
			AddLine(A,B,D*(S<=60?70-S:10),D);
			++IN[B];
		}
		Ready();
		double Min=0,Max=1000000,Mid;
		while (Min+eps<Max)
		{
			Mid=(Min+Max)/2;
			if (Check(Mid))
				Max=Mid;
			else
				Min=Mid;
		}
		printf("%.4lf\n",ceil(Min*10000)/10000.0);
	}
	return 0;
}