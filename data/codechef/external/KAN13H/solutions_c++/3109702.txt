#include <iostream>
#include<algorithm>
#include<vector>
#include<cstdio>
using namespace std;
typedef long long int llint;
vector< vector < llint> > t1;
vector< vector < llint> > t3;
vector < vector <vector <llint> > > t2;


llint M(llint n,llint p)
{
    if(p==1)
    {
        t1[n][p]=0;
        return 0;
    }
    if(n==1)
    {
        t1[n][p]=1;
        return 1;        
    }
    if(p==2)
    {
        t1[n][p]=-1;
        return -1;        
    }
    else if(t1[n][p]!=-1)
        return t1[n][p];
    else
    {
        llint res  = -1;
        bool done = false;
        llint temp ;
        for(int i=1;i<n;i++)
        {
            //cout<<" n  = "<<n<<" p = "<<p<<" M i p "<<M(i,p)<<"M n-i p-1 "<<M(n-i,p-1)<<endl;
            if(M(i,p)!=-1 && M(n-i,p-1)!=-1)
            {
                temp = 2*M(i,p)+M(n-i,p-1);
                if(temp < res || res ==-1)
                {
                    res = temp;
                    done = true;
                    t3[n][p] = i;
                }
            }
        }
        if(!done)
        {
            res = -1;
            t3[n][p] = -1;
        }
        t1[n][p] = res;
        return t1[n][p];
    }
}
llint F(llint n,llint p,llint k)
{
    if(k==1)
        return t1[n][p];
    if(t2[n][p][k]!=-1)
        return t2[n][p][k];
    if(t3[n][p] < k)
    {
        llint n1 = t3[n][p];
        llint temp = t1[n1][p]+F(n-n1,p-1,k-n1);
        t2[n][p][k]  = temp;
    }
    else
    {
        llint n1 = t3[n][p];
        t2[n][p][k] = t1[n1][p] + t1[n-n1][p-1]+F(n1,p,k);
    }
    return t2[n][p][k];
}
int main()
{
    int t;
    cin>>t;
    t1.resize(51);
    t2.resize(51);
    t3.resize(51);
    for(int i=0;i<=50;i++)
    {
        t1[i].resize(51,-1);
        t3[i].resize(51,1);        
        t2[i].resize(51);        
        for(int j=0;j<=50;j++)
            t2[i][j].resize(51,-1);        
    }
    for(int i=1;i<=50;i++)
        for(int j=1;j<=50;j++)
            M(i,j);
    // for(int i=1;i<=5;i++)
    // {
    //     for(int j=1;j<=5;j++)
    //     {
    //         cout<<t1[i][j]<<" ";
    //     }
    //     cout<<endl;
    // }
    for(int i=1;i<=t;i++)
    {
        cout<<"Case "<<i<<": ";
        int n,p,k;
        cin>>n>>p>>k;
        cout<<F(n,p,k)<<endl;
        
    }
    
   return 0;
}
