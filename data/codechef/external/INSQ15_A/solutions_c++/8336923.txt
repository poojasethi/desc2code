#include<bits/stdc++.h>
#define s(n) scanf("%d",&n)
#define ll long long
#define pb push_back
 using namespace std ;


int z[5000002];
string ss ;
void calc_Zarray(){

   int L = 0, R = 0;
   int n = ss.length();
    for (int i = 1; i < n; i++) {
        if (i > R) {
            L = R = i;
            while (R < n && ss[R-L] == ss[R]) R++;
                z[i] = R-L; R--;
        } else {
            int k = i-L;
            if (z[k] < R-i+1) z[i] = z[k];
                else {
                    L = i;
                    while (R < n && ss[R-L] == ss[R]) R++;
                    z[i] = R-L; R--;
                }
            }
        }

}

int main(){

int t,n,i,j,k;

cin>>ss;
calc_Zarray();
int q,id;
cin>>q;
while(q--){
  s(id);
  printf("%d\n",min(z[id],id));
}
return 0;
}
