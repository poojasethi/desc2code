#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef vector<list<int> > vli;
typedef vector<int > vi;
typedef pair<int ,int> pii;
#define pb push_back
#define mp make_pair 
#define rep(i,n) for(int i=0;i<n;++i)
#define REP(i,a,b) for(int i=a;i<b;++i)
#define sd(n) scanf("%d",&n)
#define sld(n) scanf("%ld",&n)
#define sll(n) scanf("%lld",&n)
int z[5000005];
void zvalue(char s[],int len){
	int l=0,r=0,k;
	REP(i,1,len){
		if(i>r){
			l=r=i;
			while(r<len && s[r]==s[r-l])
			++r;
			z[i]=r-l;
			r--;
		}
		else
		{
			int k1=i-l;
			if(z[k1]<r-i+1)
			z[i]=z[k1];
			else
			{
				l=i;
				while(r<len && s[r]==s[r-l])
				r++;
				z[i]=r-l;
				r--;
			}
		}
		
	}
}
int main() {
	char s[5000005];
	scanf("%s",s);
	int len=strlen(s);
	zvalue(s,len);
	int q,in;
	sd(q);
	while(q--){
		sd(in);
		if(z[in]>in)
		printf("%d\n",in);
		else
		printf("%d\n",z[in]);
	}
	// your code goes here
	return 0;
}