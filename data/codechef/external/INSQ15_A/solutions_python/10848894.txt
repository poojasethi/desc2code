//----  Longest common prefix question ---//

#include<bits/stdc++.h>
using namespace std;

typedef long long lld;
#define MAX 5000009

lld Z[MAX];
void get_Z_arr(char str[])
{
    lld n = strlen(str);
    lld L, R, k;
 
                                 
    L = R = 0;                        // [L,R] make a window which matches with prefix of s
    
    for (lld i = 1; i < n; ++i)
    {
        
        if (i > R)                    // if i>R nothing matches so we will calculate Z[i] using naive way.
        {
            L = R = i;
 
         while (R<n && str[R-L] == str[R])     
          {  
             R++;                              
           }                                   
          Z[i] = R-L;
          R--;
        }
        else
        {
            k = i-L;                     // k = i-L so k corresponds to number which matches in [L,R] interval.
            
 
            if (Z[k] < R-i+1)           
            {                             

                Z[i] = Z[k];             
            }

            else                         
            {
              L = i;
              while (R<n && str[R-L] == str[R])
                R++;
              Z[i] = R-L;
              R--;
            }
        }
    }
}



int main()
{
   char str[MAX];
   scanf("%s",str);

   get_Z_arr(str);

   lld Q;
   scanf("%lld",&Q);

   while(Q--)
   {   lld n1;
        scanf("%lld",&n1);

        printf("%lld\n",min(n1,Z[n1]));
 
       

   }
 


}