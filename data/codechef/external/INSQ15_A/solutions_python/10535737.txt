#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
#define sci(fd) scanf("%d",&fd)
#define scll(fd) scanf("%lld",&fd)
#define pb push_back
#define mp make_pair
#define MOD 1000000007
#define PI 3.1415926535897932
#define pii pair < int,int > 
#define fi first
#define se second
#define MAX 5000009
const ll infi=1000000000000000009;
char str[MAX+3];
int Z[MAX+3];
int n;
void compute_Z_Function()
{
	
	int i,j,L=0,R=0;
	for(i=1;i<n;i++)
	{
		if(i>R)
		{
			L=i;
			R=i;
			while(R<n&&str[R]==str[R-i])
			R++;
			R--;
			Z[i]=R-L+1;
		}
		else
		{
			j=i-L;
			if(Z[j]<R-i+1)
			Z[i]=Z[j];
			else
			{
				L=i;
				while(R<n&&str[R]==str[R-i])
				R++;
				R--;
				Z[i]=R-L+1;
			}
		}
	}
}	
int main()
{
    scanf("%s",str);
    n=strlen(str);
    compute_Z_Function();
    int i,j,q,p;
    sci(q);
    while(q--)
    {
    	sci(p);
    	int ans=min(p,Z[p]);
    	printf("%d\n",ans);
    }
    return 0;
}