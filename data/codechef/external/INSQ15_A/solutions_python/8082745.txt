#include <bits/stdc++.h>
using namespace std;

int z[5000005];

void buildZ(string txt){
	int k=1,l=0,r=0;
	z[0]=txt.size();
	for(int k=1;k<txt.size();++k){
		if(k > r){
			l=k;r=k;
			while(r<txt.size() && txt[r]==txt[r-l]) ++r;
			z[k]=r-l;--r;
		}
		else{
			if(z[k-l]<r-k+1) z[k]=z[k-l];
			else{
				l=k;
				while(r<txt.size() && txt[r]==txt[r-l]) ++r;
				z[k]=r-l;--r;
			}
		}
	}
}

int main(){
	string a; cin >> a;
	int b,t; scanf("%d",&b);
	buildZ(a);
	for(int i=0;i<b;++i){
		scanf("%d",&t);
		t=min(z[t],t);
		printf("%d\n",t);
	}
}