#include<bits/stdc++.h>
using namespace std;
void mkZ(char *s,int *z,int n)
{

int L = 0, R = 0,i;
for ( i = 1; i < n; i++) {
  if (i > R) {
    L = R = i;
    while (R < n && s[R-L] == s[R]) R++;
    z[i] = R-L; R--;
  } else {
    int k = i-L;
    if (z[k] < R-i+1) z[i] = z[k];
    else {
      L = i;
      while (R < n && s[R-L] == s[R]) R++;
      z[i] = R-L; R--;
    }
  }
}
}
char s[5000010];
int z[5000010];
int main()
{	
	scanf("%s",s);
	int l=strlen(s);
	mkZ(s,z,l);
	int q;
	scanf("%d",&q);
	while(q--)
	{	
		int p;
		scanf("%d",&p);
		printf("%d\n",min(p,z[p]));
	}
	return 0;
}