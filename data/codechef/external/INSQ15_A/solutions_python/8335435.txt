#include<bits/stdc++.h>

#define pb   push_back
#define mp   make_pair
#define f    first
#define s    second
#define ll   long long
#define For(i,j,n)  for(int (i) = (j); i < n; i++)
#define MAX(a, b)     ((a) > (b) ? (a) : (b))
#define MIN(a, b)     ((a) < (b) ? (a) : (b))
#define Max  INT_MAX
#define Min  INT_MIN
#define mod  1000000007
using namespace std;
ll power(ll b,ll exp,ll m)
{ll ans=1;b%=m;
 while(exp){if(exp&1) ans=(ans*b)%m;
  exp>>=1;b=(b*b)%m;}
 return ans;}

string s;
int lcp[5000005];
void makelcp()
{
	int n=s.length();
	int l=0,r=0,k;
	For(i,1,n)
		{
			if(i>r)
				{
					l=r=i;
					while(r<n&&s[r-l]==s[r])
						r++;
					lcp[i]=r-l;
					r--;
				}
			else
				{
					k=i-l;
					if(lcp[k]<r-i+1)
						{
							lcp[i]=lcp[k];
						}
					else
						{
							l=i;
							while(r<n&&s[r-l]==s[r])
								r++;
							lcp[i]=r-l;
							r--;
						}
				}	
		}
}

int main()
{
    int q,p;
    cin>>s;
    makelcp();
    /*cout<<endl;
    For(i,0,s.length())
    	cout<<s[i]<<" ";
    cout<<endl;
    For(i,0,s.length())
    	cout<<lcp[i]<<" ";*/
    scanf("%d",&q);
    while(q--)
    	{
    		scanf("%d",&p);
    		printf("%d\n",MIN(lcp[p],p));
		}
}
