#include <iostream>
#include <fstream>
#include <string>
#include <map>
#include <set>
#include <vector>
#include <queue>
#include <stack>
//#include <unordered_set>
#include <iomanip>
#include <utility>
#include <math.h>
#include <algorithm>
#include <functional>
#include <bitset>
 
#define LLI long long int
#define LD long double
#define PB push_back
#define MP make_pair
#define FORi(i, a, b) for(int i = a; i < b ; ++i)
#define FORd(i, a, b) for(int i = a; i > b ; --i)

using namespace std;

vector<int> z_func (string s) {
	int n = (int) s.length();
	vector<int> z (n);
	for (int i=1, l=0, r=0; i<n; ++i) {
		if (i <= r)
			z[i] = min (r-i+1, z[i-l]);
		while (i+z[i] < n && s[z[i]] == s[i+z[i]])
			++z[i];
		if (i+z[i]-1 > r)
			l = i,  r = i+z[i]-1;
	}
	return z;
}

int main() {
	string s;
	cin >> s;
	vector<int> z=z_func(s);
	int q,p;
	cin >> q;
	while (q--){
		scanf("%d",&p);
		printf("%d\n",min(p,z[p]));
	}
	return 0;
}