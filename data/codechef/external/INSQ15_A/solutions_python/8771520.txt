#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef vector<list<int> > vli;
typedef vector<int > vi;
typedef pair<int ,int> pii;
#define pb push_back
#define mp make_pair 
#define rep(i,n) for(int i=0;i<n;++i)
#define REP(i,a,b) for(int i=a;i<b;++i)
#define sd(n) scanf("%d",&n)
#define sld(n) scanf("%ld",&n)
#define sll(n) scanf("%lld",&n)
int z[5000005];
void zvalue(char s[],int len){
	int l=0,r=0,k;
	REP(i,1,len){
		if(i>r){
			l=r=i;
			while(r<len && s[r]==s[r-l])
			++r;
			z[i]=r-l;
			r--;
		}
		else
		{
			int k1=i-l;
			if(z[k1]<r-i+1)
			z[i]=z[k1];
			else
			{
				l=i;
				while(r<len && s[r]==s[r-l])
				r++;
				z[i]=r-l;
				r--;
			}
		}
		
	}
}
inline void f(int *a)
{
    register char c=0;
    while (c<33) c=getchar_unlocked();
    *a=0;
    while (c>33)
    {
        *a=*a*10+c-'0';
        c=getchar_unlocked();
    }
}

inline void fs(char *str)
{
    register char c=0;
    register int i = 0;
    while (c < 33)
        c = getchar_unlocked();
    while (c > 65)
    {
        str[i] = c;
        c = getchar_unlocked();
        i = i + 1;
    }

    str[i] = '\0';
}
inline void write(int x){

         register char buffor[35];
         register int i=0;
         do{
               buffor[i++]=(x%10)+'0';
               x/=10;
            } while(x);
           i--;
            while(i>=0) putchar_unlocked(buffor[i--]);
            putchar_unlocked('\n');
       }
int main() {
	char s[5000005];
	fs(s);
	int len=strlen(s);
	zvalue(s,len);
	int q,in;
	f(&q);
	while(q--){
		f(&in);
		if(z[in]>in)
		write(in);
		else
		write(z[in]);
	}
	// your code goes here
	return 0;
}