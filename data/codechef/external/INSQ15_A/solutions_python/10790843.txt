#include<bits/stdc++.h>
using namespace std;

void zFunction(char *S, int *Z){
    int L, R, N;
    N = strlen(S);
    L = R = 0;
    for (int i = 1; i < N; i++){
        if (i > R){
            L = R = i;
            while (R < N && S[R - L] == S[R]) R++;
            Z[i] = R - L;
            R--;
        } else {
            int k = i - L;
            if (Z[k] < R - i + 1) Z[i] = Z[k];
            else {
                L = i;
                while (R < N && S[R - L] == S[R]) R++;
                Z[i] = R - L;
                R--;
            }
        }
    }
}
const int maxn = 5e6+6;
char s[maxn];
int n,a,z[maxn];
int main() {
  //  freopen("input.txt","r",stdin);
    scanf("%s%d",s,&n);
    zFunction(s,z);
    for(int i = 0; i < n; ++i) {
        scanf("%d",&a);
        printf("%d\n",min(a,z[a]));
    }
}
