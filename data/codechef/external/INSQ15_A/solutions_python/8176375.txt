//#define xplorer

/*	IN THE NAME OF GOD	*/

#include <iostream>
#include <string>
#include <algorithm>
#include <vector>
#include <map>
#include <sstream>
#include <set>
#include <iomanip>
#include <list>
#include <stack>
#include <queue>
#include <bitset>
#include <functional>

#include <cstdio>
#include <cmath>
#include <climits>
#include <cstring>
#include <cctype>
#include <cstdlib>

using namespace std;
const int maxx = 5e6 + 9;

vector <int> z_function(string s) {
    int n = (int) s.length();
    vector<int> z(n);
    for (int i = 1, l = 0, r = 0; i < n; ++i) {
        if (i <= r)
            z[i] = min (r - i + 1, z[i - l]);
        while (i + z[i] < n && s[z[i]] == s[i + z[i]])
            ++z[i];
        if (i + z[i] - 1 > r)
            l = i, r = i + z[i] - 1;
    }
    return z;
}
char c[maxx];
int main(){
#ifdef xplorer
    freopen("in.txt", "r", stdin);
    freopen("out.txt", "w", stdout);
#endif
    scanf("%s", c);
    string s = c;
    vector<int> z;
    z = z_function(s);
    int q, x;
    scanf("%d", &q);
    while(q--){
        scanf("%d", &x);
        printf("%d\n", min(x, z[x]));
    }
    return 0;
}
