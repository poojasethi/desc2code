#include <bits/stdc++.h>

using namespace std;

int main()
{
	string s;
	int i,l,r,q,p,n;
	cin>>s;	
	n=s.length();
	vector<int> z(n);
	l=r=0;
	for(i=1;i<n;i++)
	{
		if(i<=r)
		{
			z[i]=min(r-i+1,z[i-l]);
		}
		while(i+z[i]<n && s[z[i]]==s[i+z[i]])
			z[i]++;
		if(i+z[i]-1>r)
		{
			l=i;
			r=i+z[i]-1;
		}
	}
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d",&p);
		printf("%d\n",min(z[p],p));
	}
	return 0;
}
