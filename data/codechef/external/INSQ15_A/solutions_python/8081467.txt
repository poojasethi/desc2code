#include <bits/stdc++.h>

using namespace std;

char s[5000005];
int z[5000005],n,q,ans,p;

int main()
{

    scanf("%s",s);
    scanf("%d",&q);
    n = strlen(s);
    int l=0,r=0,k;
    z[0]=1;
    for(int i=1;i<n;i++){
        if(i>r){
            l=r=i;
            while(r<n && s[r-l] == s[r])r++;
            z[i] = r-l;
            r--;
        }
        else{
            k = i-l;
            if(z[k]<r-i+1)z[i]=z[k];
            else{
                l=i;
                while(r<n && s[r-l] == s[r])r++;
                z[i] = r-l;
                r--;
            }
        }
    }

    while(q--){
        scanf("%d",&p);
        ans = min(z[p],p);
        printf("%d\n",ans);
    }


    return 0;
}
