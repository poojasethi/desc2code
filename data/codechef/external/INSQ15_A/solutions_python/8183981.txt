/* Z algorithm */

#include<stdio.h>
#include<stdlib.h>
int min(a,b) {
    return a<b?a:b;
}
char s[5000001];
int  z[5000001];
int main()
{
	int i,j,k,n;
	//printf("enter the string :");
	scanf("%s",s);
	//printf("%s\n",s);
	n=strlen(s);
	//printf("%d\n",n);
	int l=0,r=0;
	for(i=1;i<n;i++)
	{
		if(i>r)
		{
		    l=i;
		    r=i;
			while(r<n && s[r-l]==s[r])
			r++;
			z[i]=r-l;
			r--;
		}
		else
		{
			k=i-l;
			if(z[k]<r-i+1)
				z[i]=z[k];
			else
			{
				l=i;
				while(r<n && s[r-l]==s[r])
				r++;
				z[i]=r-l;
				r--;
			}
			
			
		}
		
	}
	int m,p;
	scanf("%d",&m);
	for(i=0;i<m;i++)
	{
	    scanf("%d",&p);
	    if(z[p]>min(p,n-p))
	    printf("%d\n",min(p,n-p));
	    else
	    printf("%d\n",z[p]);
	}
	
	
	
	
	
	
	return 0;
}
