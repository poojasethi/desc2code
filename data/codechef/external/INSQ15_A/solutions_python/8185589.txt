#include<bits/stdc++.h>
using namespace std;
const int nz=5000009;
char s[nz];
	int z[nz];
	void cal() {
	int l=0, r=0;
	int len=strlen(s);
	for(int i=1;i<len;i++) {
		if(i<=r) z[i]=min(z[i-l], r-i+1);
		while(i+z[i]<len && s[z[i]]==s[i+z[i]]) z[i]++;
		if(z[i]>(r-i+1)) l=i, r=i+z[i]-1;
	}
}
	
int main() {
	int n,i,j,k,l=0,r=0,t;
	
	scanf("%s",&s);
	n=strlen(s);
	cin>>t;
	r=0;z[0]=0;
cal();
	while(t--){
scanf("%d",&k);
printf("%d\n",min(k,z[k]));
	}
	return 0;
}