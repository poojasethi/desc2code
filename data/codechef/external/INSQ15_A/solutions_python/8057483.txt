#include<bits/stdc++.h>
 
#define mod 1000000007
 
using namespace std;
 
char arr[5000005];
int q,n;
int z[5000005];
 
void fillz(){
	int l,r,k;
	l=0;r=0;
	for(int i=1;i<n;i++){
		if(i > r){
			l=i;r=i;
			while(r < n && arr[r-l] == arr[r]) r++;
			r--;
			z[i] = r-l+1;
		}
		else {
			k = i-l;
			if(z[k] < r-i+1) z[i] = z[k];
			else{
				l=i;
				while(r < n && arr[r-l] == arr[r]) r++;
				r--;
				z[i] = r-l+1;
			}
		}
	}	
}
 
int main(){
	scanf("%s",arr);
	scanf("%d",&q);
	n = strlen(arr);
	fillz();
	int ind,ans;
	while(q--){
		scanf("%d",&ind);
		if(z[ind] > ind) ans = ind;
		else ans = z[ind];
		printf("%d\n",ans);
	}
	return 0;
}