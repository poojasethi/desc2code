/* package codechef; // don't place package name! */

import java.util.*;
import java.lang.*;
import java.io.*;

/* Name of the class has to be "Main" only if the class is public. */
class Codechef
{
    
    static int[] computez(char[] a )
    {
        int left=0,right=0;
        int[] z = new int[a.length];
        z[0] =0;
        for(int k=1;k<a.length;k++)
        {
            if(right<k)
            {
                left=right=k;
                
                while(right<a.length && a[right]==a[right-left])
                {
                    right++;
                }
                z[k] = right-left;
                right--;
            }
            else
            {
                int k1 = k-left;
                
                if(z[k1]+k-1<right)
                z[k] = z[k1];
                
                else
                {
                    left = k;
                    
                    while(right<a.length && a[right]==a[right-left])
                    right++;
                    
                    z[k] = right-left;
                    right--;
                    
                    
                }
            }
        }
        
        return z;
    }
    
	public static void main (String[] args) throws java.lang.Exception
	{
		// your code goes here
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		
		String a = br.readLine();
		int[] z = computez(a.toCharArray());
		String b = br.readLine();
		int c = Integer.parseInt(b);
		
    int[] n = new int[c];int counter=0;
		for(int i=0;i<c;i++)
		{
		    String f = br.readLine();
		    int d = Integer.parseInt(f);
		    int e = Math.min(d,z[d]);
		    BufferedOutputStream p  = new BufferedOutputStream(System.out);
		    //byte y = e.getBytes();
		    n[counter++] = e;
		    
		   
		}
		
		for(int i=0;i<counter;i++)
		{
		    System.out.println(n[i]);
		}
		
		
	}
}
