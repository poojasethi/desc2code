#include<bits/stdc++.h>
using namespace std;
const int nz=5000009;
char s[nz];
	int z[nz];
	
	
int main() {
	int n,i,j,k,l=0,r=0,t;
	
	scanf("%s",&s);
	n=strlen(s);
	cin>>t;
	r=0;z[0]=0;
	for(i=1;i<n;i++){
	if(i<=r) 	z[i]=min(z[i-l],r-i+1);
		while(s[z[i]]==s[i+z[i]] && i+z[i]<n)
	{z[i]++;}

		if(z[i]>r-i+1)
	r=i+z[i]-1,l=i;
	}
	n=i;
	while(t--){
scanf("%d", &k);
		printf("%d\n", min(z[k], k));
	}
	return 0;
}