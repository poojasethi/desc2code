#include<bits/stdc++.h>
using namespace std;

const int N=5123456;
char s[N];

int z[N];

void calZ() {
	int l=0, r=0;
	int len=strlen(s);
	for(int i=1;i<len;i++) {
		if(i<=r) z[i]=min(z[i-l], r-i+1);
		while(i+z[i]<len && s[z[i]]==s[i+z[i]]) z[i]++;
		if(z[i]>(r-i+1)) l=i, r=i+z[i]-1;
	}
}

int main() {
	scanf("%s", s);
	calZ();
	int q;
	scanf("%d", &q);
	while(q--) {
		int p;
		scanf("%d", &p);
		printf("%d\n", min(z[p], p));
	}
}
