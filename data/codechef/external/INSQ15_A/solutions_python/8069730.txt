// String Matching Algo
// Z-Algorithm

#include "cstdio"
#include "iostream"
#include "algorithm"
#include "vector"
#include "cstring"
#include "bits/stdc++.h"

using namespace std;

#define REP(i,n) for(int (i)=0;(i)<(int)(n);(i)++)
#define _REP(i,x,n) for(int (i)=(x);(i)<(int)(n);(i)++)
#define Bhavik(c,itr) for(__typeof((c).begin()) itr=(c).begin();itr!=(c).end();itr++)

typedef long long int LL;

const int oo = 5000005;

int z[oo], N;
char s[oo];

void print_array() {
	REP(i,N) printf("%c ",s[i]);
	printf("\n");

	REP(i,N) printf("| ");
	printf("\n");

	REP(i,N) printf("| ");
	printf("\n");

	REP(i,N) printf("%d ",z[i]);
	printf("\n");
}

void z_Algo() {
	int L, R, k;

	L = R = -1;
	_REP(i,1,N){
		if (R <= i) {
			L = R = i;
			while (R < N && s[R] == s[R-L]) R++;
			z[i] = R - L;
			continue;
		}

		k = i - L;

		if (z[k] < R-i) {
			z[i] = z[k];
			continue;
		}

		L = i;
		while (R < N && s[R] == s[R - L]) R++;
		z[i] = R - L;
	}

	//print_array();
}

int xceptor() {
	scanf("%s",s);
	N = strlen(s);

	z_Algo();

	int Q;
	scanf("%d", &Q);

	while (Q--) {
		int qq; scanf("%d", &qq);
		printf("%d\n", min(qq,z[qq]));
	}

	return 0;
}

int main () {
#define INPUT
#ifdef INPUT1
	freopen("in.txt","r",stdin);
#endif
	ios::sync_with_stdio(0); cin.tie(0);
	return xceptor();
}

/*

Input string :-

ababxababyabaca

output :

a b a b x a b a b y a b a c a
| | | | | | | | | | | | | | |
| | | | | | | | | | | | | | |
0 0 2 0 0 4 0 2 0 0 3 0 1 0 1



Helpful links :-

1. http://codeforces.com/blog/entry/3107

2. https://ivanyu.me/blog/2013/10/15/z-algorithm/

Related Problem links :-

1. http://codeforces.com/contest/126/problem/B

2. https://www.codechef.com/INSQ2015/problems/INSQ15_A

 */
