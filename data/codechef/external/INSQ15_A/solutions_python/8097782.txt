#include<bits/stdc++.h>
using namespace std;
int Z[5000006];
char s[5000006];
int main()
{
	int t;
	t=1;
	while(t--)
	{

		int q,p;
		scanf("%s",s);
		scanf("%d",&q);

		memset(Z,0,sizeof(Z));
		int n = strlen(s);
	    int L, R, k;

	    // [L,R] make a window which matches with prefix of s
	    L = R = 0;
	    for (int i = 1; i < n; ++i)
	    {
	        // if i>R nothing matches so we will calculate.
	        // Z[i] using naive way.
	        if (i > R)
	        {
	        //	cout<<"\nI' = "<<i<<"\n";
	            L = R = i;
	 		//	cout<<"\nL = "<<L<<"\n";
	            // R-L = 0 in starting, so it will start
	            // checking from 0'th index. For example,
	            // for "ababab" and i = 1, the value of R
	            // remains 0 and Z[i] becomes 0. For string
	            // "aaaaaa" and i = 1, Z[i] and R become 5
	          //  int beg=R;
	            while (R<n && s[R-L] == s[R])
	            {
	            //	cout<<"s[R-L] = "<<s[R-L]<<" , s[R] = "<<s[R]<<"\n";
            		R++;
            	}
            //	cout<<"R = "<<R<<"\n";

	            Z[i] = R-L;
	          //  cout<<"Z[i]"<<Z[i]<<"\n";
				R--;
	        }
	        else
	        {
	        //	cout<<"\nI2 = "<<i<<"\n";
	            // k = i-L so k corresponds to number which
	            // matches in [L,R] interval.
	            k = i-L;

	            // if Z[k] is less than remaining interval
	            // then Z[i] will be equal to Z[k].
	            // For example, str = "ababab", i = 3, R = 5
	            // and L = 2


	            // For example str = "aaaaaa" and i = 2, R is 5,
	            // L is 0
	            if (Z[k] < R-i+1)
	            {
            		 Z[i] = Z[k];
	            	//cout<<"R = "<<R<<"\n";
	 			//	cout<<"Z[i] = "<<Z[i]<<"\n";
            	}

	            else
	            {
	                //  else start from R  and check manually
	                L = i;
	               // int beg=R;
	                while (R<n && s[R-L] == s[R])
	                    R++;
	                Z[i] = R-L;
	                R--;
	            }
	        }
	    }
	//	for(int i=0;i<=n;i++)
	//	cout<<Z[i]<<" ";
	//	cout<<"\n";
		for(int i=0;i<q;i++)
		{
			scanf("%d",&p);
			printf("%d\n",min(p,Z[p]));
		}
	}
}
