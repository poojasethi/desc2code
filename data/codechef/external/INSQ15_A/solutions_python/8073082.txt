#include<bits/stdc++.h>
#define inc(x) scanf("%c",&x)
#define ins(x) scanf("%s",x)
#define in(x) scanf("%d",&x)
#define in2(x,y) scanf("%d%d",&x,&y)
#define in3(x,y,z) scanf("%d%d%d",&x,&y,&z)
#define inll(x) scanf("%lld",&x)
#define inll2(x,y) scanf("%lld%lld",&x,&y)
#define inll3(x,y,z) scanf("%lld%lld%lld",&x,&y,&z)
#define lli long long int
#define ou(x) printf("%d\n",x)
#define oull(x) printf("%lld\n",x)
#define ouf(x) printf("%f\n",x)
#define fli(i,x,y) for(int i=x;i<y;i++)
#define fld(i,x,y) for(int i=x;i>y;i--)
#define pb push_back
#define mp make_pair
#define vi vector<int>
#define vii vector<int,int>
#define vll vector<long long int,long long int>
#define vl vector<long long int>
#define vs vector<string>
#define MOD 1000000007
#define INF 99999999
using namespace std;
lli z[10000009];

int main()
{
lli q;
string str;
cin>>str;
lli n=str.size();
lli L = 0, R = 0;
for (int i = 1; i < n; i++) {
  if (i > R) 
  {
    L = R = i;
    while (R < n && str[R-L] == str[R]) R++;
    z[i] = R-L; R--;
  } else {
    lli k = i-L;
    if (z[k] < R-i+1) z[i] = z[k];
    else {
      L = i;
      while (R < n && str[R-L] == str[R]) R++;
      z[i] = R-L; R--;
    }
  }
}
inll(q);
for(int i=0;i<q;i++)
{
	lli p;
	inll(p);
	lli ans=min(p,z[p]);
	printf("%lld\n",ans);
}
return(0);
}