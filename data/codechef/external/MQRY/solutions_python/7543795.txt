d={}# empty dictionary
sz,q =map(int,(raw_input()).split())
list1=map(int,(raw_input()).split())
for i in range(0,q):
    st,end=map(int,raw_input().split())
    c=list1[st:end+1]
    key=str(st) + str(end)
    if key not in d:
        d[key]=max(c)-min(c) #hashing to reduce some time
    print d[key]
   