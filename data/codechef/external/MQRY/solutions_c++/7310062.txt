#include<bits/stdc++.h>
using namespace std;
#define SIZE 100005
int n;
int arr[SIZE];
int st[18][SIZE];
int st1[18][SIZE];
int power[20],epow[SIZE];
void compute()
{
	int i,j;
	for(i=0;i<n;i++)
	st[0][i]=i;
	for(i=1;power[i]<n;i++){
		for(j=0;j+power[i]<=n;j++){
			int x = st[i-1][j];
			int y = st[i-1][j+power[i-1]];
			st[i][j]=arr[x]<=arr[y]?x:y;
		}
	}
}
void compute1()
{
	int i,j;
	for(i=0;i<n;i++)
	st1[0][i]=i;
	for(i=1;power[i]<n;i++){
		for(j=0;j+power[i]<=n;j++){
			int x = st1[i-1][j];
			int y = st1[i-1][j+power[i-1]];
			st1[i][j]=arr[x]<=arr[y]?y:x;
		}
	}
}
int rmq(int s,int e)
{
	int k = epow[e-s];
	int x = st[k][s];
	int y = st[k][e-power[k]+1];
	int index = arr[x]<=arr[y]?x:y;
	return arr[index];
}
int rmq1(int s,int e)
{
	int k = epow[e-s];
	int x = st1[k][s];
	int y = st1[k][e-power[k]+1];
	int index = arr[x]<=arr[y]?y:x;
	return arr[index];
}
int main()
{	
	int q;
	scanf("%d%d",&n,&q);
	int i,j;
	for(i=0;i<n;i++)
		cin>>arr[i];
	for(i=0;i<=17;i++)
		power[i]=1<<i;
		epow[1]=0;
	for(i=2;i<=n;i++)
		epow[i] = epow[i>>1]+1;
	compute();
	compute1();
	while(q--){
		int s,e;
		cin>>s>>e;
		int ans = rmq1(s,e)- rmq(s,e);
		cout<<ans<<endl;
	}	
	return 0;
}