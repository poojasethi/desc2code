#include <bits/stdc++.h>
using namespace std;
#define MAX 1000000000
#define MIN 0
long long int input[100005],seg1[100005],seg2[100005];
void construct(int low,int high,int pos)
{
    if(low==high)
    {
        seg1[pos]=input[low];
        return;
    }
    int mid=(low+high)/2;
    construct(low,mid,2*pos+1);
    construct(mid+1,high,2*pos+2);
    seg1[pos]=min(seg1[2*pos+1],seg1[2*pos+2]);
}
void constructa(int low,int high,int pos)
{
    if(low==high)
    {
        seg2[pos]=input[low];
        return;
    }
    int mid=(low+high)/2;
    constructa(low,mid,2*pos+1);
    constructa(mid+1,high,2*pos+2);
    seg2[pos]=max(seg2[2*pos+1],seg2[2*pos+2]);
}
long long int rng(int qlow,int qhigh,int low,int high,int pos)
{
    if(qlow<=low&&qhigh>=high)   //total overlap
        return seg1[pos];
    if(qlow>high||qhigh<low)    //no overlap
        return MAX;
    int mid=(low+high)/2;
    return min(rng(qlow,qhigh,low,mid,2*pos+1),rng(qlow,qhigh,mid+1,high,2*pos+2));
}
long long int rnga(int qlow,int qhigh,int low,int high,int pos)
{
    if(qlow<=low&&qhigh>=high)   //total overlap
        return seg2[pos];
    if(qlow>high||qhigh<low)    //no overlap
        return MIN;
    int mid=(low+high)/2;
    return max(rnga(qlow,qhigh,low,mid,2*pos+1),rnga(qlow,qhigh,mid+1,high,2*pos+2));
}
int main()
{
    int n,l,r,i,q;
    scanf("%d%d",&n,&q);
    for(i=0;i<n;i++)
        scanf("%lld",&input[i]);
   construct(0,n-1,0);
   constructa(0,n-1,0);
   for(i=0;i<q;i++)
    {
        scanf("%d%d",&l,&r);
    long long int x=rng(l,r,0,n-1,0);
    long long int y=rnga(l,r,0,n-1,0);
    printf("%lld\n",y-x);
    }
    return 0;
}
