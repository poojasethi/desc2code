#include<iostream>
#include<cstdio>
#include<vector>
#include<algorithm>
#include<string>
#include<cmath>
#include<set>
#include<queue>
#define ll long long
using namespace std;
ll mdp[1<<7][1<<7][102];
ll m;
void init()
{
	for(int i=0;i<(1<<7);++i)
		for(int j=0;j<(1<<7);++j)
			for(int k=0;k<102;++k)
				mdp[i][j][k]=-1;
}
int w;
ll dp(int b,int pos,int h)
{
	if(pos==0)return 0;
	if(h==1)return 1;
	if(mdp[b][pos][h]!=-1)return mdp[b][pos][h];
	int npos=0;
	for(int i=0;i<w;++i)
	{
		if(!((b>>i)&1))
		{
			if((i>0 && ((pos>>(i-1))&1)) || (i<w-1 && ((pos>>(i+1))&1))  || ((pos>>i)&1) )
			{
				npos+=(1<<i);
			}
		}
	}
	ll ans=0;
	for(int i=0;i<(1<<w);++i)
	{
		ans+=dp(i,npos&((1<<w)-1-i),h-1);
	}
	ans%=m;
	return mdp[b][pos][h]=ans;
}
void doit()
{
	int h;
	init();
	scanf("%d%d%lld",&w,&h,&m);
	ll ans=0;
	for(int i=0;i<(1<<w);++i)
	{
		if(!(i&1))
		{
			ans+=dp(i,1,h);
		}
	}
	ans%=m;
	printf("%lld\n",ans);
}
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		doit();
	}
	return 0;
}
