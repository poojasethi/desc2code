t = input()
for _ in xrange(t):
    x = raw_input().split()
    n,p = int(x[0]),float(x[1])
    a = [0]*(n+10)
    a[0],a[1],a[2] = 0,2,2
    for i in xrange(3,n+1):
    	a[i] = (a[i-2]+2)*p + (a[i-3]+2)*(1-p)
    print ('%.2f' % a[n])