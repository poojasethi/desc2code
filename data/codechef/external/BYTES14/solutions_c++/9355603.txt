#include <bits/stdc++.h>
using namespace std;
double dp[100005];
double fun(int n,double p)
{
if(n==0)
return 0.0;
if(n==1)
return 2.0;
if(n==2)
return 2.0;
if(dp[n]!=-1.0)
return dp[n];
double ans1=0.0;
double ans2=0.0;
ans1=2.0+p*fun(n-2,p)+(1.0-p)*fun(n-3,p);
dp[n]=ans1;
return dp[n];
}
int main()
{
int t;
int n;
double p;
scanf("%d",&t);
while(t--)
{
scanf("%d",&n);
cin>>p;
for(int i=0;i<=n;i++)
dp[i]=-1.0;
double ans=fun(n,p);
printf("%.2f\n",ans);
}
return 0;
}