#include<bits/stdc++.h>
using namespace std;
#define ll long long int
double p,dp[100010];
double func(ll n)
{
	if(n<=0)
		return 0;
	if(dp[n]!=((double)(-1)))
		return dp[n];
	double t1=p*(2.0+func(n-2));
	double t2=(1-p)*(2.0+func(n-3));
	//cout<<n<<" "<<t1<<" "<<t2<<endl;
	dp[n]=t1+t2;
	return dp[n];
}
int main()
{
	ios_base::sync_with_stdio(false);cin.tie(0);
	ll t,i,n;
	cin>>t;
	while(t--)
	{
		cin>>n>>p;
		for(i=0;i<=100010;++i)
			dp[i]=((double)(-1));
		printf("%.2lf\n",func(n));
	}
	return 0;
}