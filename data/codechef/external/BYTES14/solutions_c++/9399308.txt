#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define ff first
#define ss second
#define pb push_back
#define mp make_pair
#define sd(x) scanf("%d",&x)
#define inf 100001000
double dp[100005];
int main(){
  int t,n;
  double p;
  sd(t);
  while(t--){
    sd(n);
    scanf("%lf",&p);
    dp[0]=0.0;
    dp[1]=2.0;
    dp[2]=2.0;
    for(int i=3;i<=n;i++){
      dp[i]=(dp[i-2]+2.0)*p;
      dp[i]+=(dp[i-3]+2.0)*(1-p);
    }
    printf("%0.2f\n",dp[n]);
  }
  return 0;
}
 