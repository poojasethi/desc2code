#include <iostream>
#include <algorithm>
#include <vector>
#include <set>
#include <map>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <climits>
using namespace std;

int main()
{
	long long int power_2[100];
    power_2[0]=1;
    for (int i=1;i<=31;i++)
    	power_2[i]=power_2[i-1]*2;
   	int n;
   	cin>>n;
   	long long int height[n+3];
   	long long int dp[n+3];
   	for (int i=1;i<=n;i++)
   	  cin>>height[i];
     dp[0]=dp[1]=0;
     for (int i=2;i<=n;i++)
     	dp[i]=LONG_MAX;
     for (int i=2;i<=n;i++)
     {
     	  for(int j=0;j<31;j++)
     	  {

     	  	if((i-power_2[j])>0)
     	  		dp[i] = min(dp[i],dp[i-power_2[j]]+abs(height[i]-height[i-power_2[j]]));
     	  	else
     	  		break;
     	  }
     	 
          
        
     }
     
     cout<<dp[n]<<"\n";


}