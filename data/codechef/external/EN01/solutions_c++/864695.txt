//the shed problem

#include<cstdio>
#include<iostream>

//#define minimum((a),(b),(c))   ((a)<(b)?((a)<(c)?(a):(c)):((b)<(c)?(b):(c)))

using namespace std;

int mat[1001][1001];
int sq[1001][1001];
char s[1001];

int minimum(int a,int b,int c)
{
return ((a)<(b)?((a)<(c)?(a):(c)):((b)<(c)?(b):(c)));

}


int main()
{
int row,col,max=0;
scanf("%d%d",&row,&col);

for(int i=0;i<row;i++)
{
	scanf("%s",s);
	for(int j=0;j<col;j++) 
	{
		if(s[j]=='.') mat[i][j]=1;
		
	}
}
for(int i=0;i<row;i++) sq[i][0]=mat[i][0];
for(int i=0;i<col;i++) sq[0][i]=mat[0][i];
for(int i=1;i<row;i++) 
{
	for(int j=1;j<col;j++)
	{
		if(mat[i][j]==1) {
			sq[i][j]=1+minimum(sq[i-1][j],sq[i-1][j-1],sq[i][j-1]);
			if(max < sq[i][j]) max=sq[i][j]	;
			//printf("%d ",max);			
			}
		else sq[i][j]=0;	
	}
}

if(max==0 || max==1) printf("%d\n",-1);
else printf("%d\n",max*max);
return 0;
}
