#include<iostream>
#include<cmath>
#include<set>
#include<vector>
#include<list>
#include<map>
#include<algorithm>
 
using namespace std;
#define FOR(i,a,b) for(int i=a;i<b;i++)
 
 
#ifndef ONLINE_JUDGE
#include <time.h>
#endif
 
#define SIZE 1005
char S[SIZE][SIZE];
int D[SIZE][SIZE];
 
 
int main(){
#ifndef ONLINE_JUDGE
	freopen("input.txt","r",stdin);
	clock_t start = clock();
#endif
 
	int M,N;		
	scanf("%d%d",&M,&N);
	M++;N++;
	FOR(i,0,M){
		scanf("%s",S[i]);
	}
	FOR(i,0,M){
		if(S[i][0]=='.') D[i][0]=1;
		else D[i][0]=0;
	}
 
	FOR(j,0,N){
		if(S[0][j]=='.') D[0][j]=1;
		else D[0][j]=0;
	}
 
	int MAX=0;
	FOR(i,1,M){
		FOR(j,1,N){
			if(S[i][j]=='.'){
				D[i][j]=min(D[i][j-1], min(D[i-1][j], D[i-1][j-1])) + 1;
				MAX=D[i][j]>MAX?D[i][j]:MAX;
			}else D[i][j]=0;
		}
	}
	if(MAX==0)printf("-1\n");
	else printf("%d\n",MAX*MAX);
 
#ifndef ONLINE_JUDGE	
	printf("Time elapsed: %f\n", ((double)clock() - start) / CLOCKS_PER_SEC);
#endif
	return 0;
}