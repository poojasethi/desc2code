    #include<stdio.h>
    int min(int a, int b, int c)
    {
    int m = a;
    if (m > b)
    m = b;
    if (m > c)
    m = c;
    return m;
    }
     
    int main()
    {
    int m,n,i,j;
    scanf("%d %d",&m,&n);
    int arr[m][n],count[m][n];
    int max=0;
    char temp[n];
    for(i=0;i<m;i++)
    {
    scanf("%s",&temp);
    for(j=0;j<n;j++)
    {	
    if(temp[j]=='T') arr[i][j]=0;
    else arr[i][j]=1;
    }
    }
    for(i=0;i<n;i++)
    {
    count[0][i]=arr[0][i];
    if(count[0][i]>max) max=count[0][i];
    }
    for(i=0;i<m;i++)
    {
    count[i][0]=arr[i][0];
    if(count[i][0]>max) max=count[i][0];
    }
    for(i=1;i<m;i++)
    {
    for(j=1;j<n;j++)
    {
    if(arr[i][j]==1)
    {
    count[i][j]=min(count[i-1][j],count[i][j-1],count[i-1][j-1]) +1;
    if(count[i][j]>max) max=count[i][j];
    }
    else count[i][j]=0;
    }
    }
    if(max==0 || max==1) printf("-1\n");
    else printf("%d\n",(max*max));
    
    
    return 0;
    }
