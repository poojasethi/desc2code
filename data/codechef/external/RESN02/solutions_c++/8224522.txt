    #include <stdio.h>
  // #  
   // #define MAX 500
     
    char temp[2][525];
    long long int a[525];
     
     
    int main()
    {
    	long long int n,k,i,s,m1,m2,p,j;
    	int t;
    	scanf("%d",&t);
    	while(t--)
    	{
    		scanf("%lld%lld",&n,&k);
    		for(i=0;i<n;i++)
    			scanf("%lld",&a[i]);
    		
    		for(i=0;i<n;i++)
    			temp[0][i]=temp[1][i]=0;
     
    		s=1;
    		temp[0][0]=1;
    		p=1;
    		while(k)
    		{
    			if (k&1)
    			{			
    				for(i=0;i<n;i++)
    					if (temp[1-s][i])	
    					{						
    						temp[s][(i+p)%n]^=1;
    						m1=(i-p)%n;
    						if (m1<0)
    							m1+=n;
    						temp[s][m1]^=1;
    						temp[s][i]^=1;
    						temp[1-s][i]=0;									
    					}
    				s=1-s;
    			}
    			k>>=1;
    			p<<=1;
    		}
    		for(i=0;i<n;i++)
    		{
    			m1=0;
    			for(j=0;j+i<n;j++)
    				if (temp[1-s][j])
    					m1^=a[i+j];
    			for(;j<n;j++)
    				if (temp[1-s][j])
    					m1^=a[i+j-n];
    			printf("%lld ",m1);
    		}
    		printf("\n");
    	}
    	return 0;
    } 