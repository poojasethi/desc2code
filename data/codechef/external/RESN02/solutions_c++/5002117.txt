#include <bits/stdc++.h>
using namespace std;
#define N 500
typedef int ll;
int A[N + 10][N + 10],B[N + 10][N + 10];
int temp[N + 10];
ll a[N + 10],b[N + 10];
void mulab(int n)
{
    int i,j,k;
    for(k = 1 ; k<=n ; k++)
    {
        int c = 0;
        for(j = 1 ; j<=n ; j++)
        {
            c = c + A[1][j]*B[j][k];
        }
        temp[k] = c%2;
    }
    for(i = 1 ; i<=n ; i++) A[1][i] = temp[i];
    for(i = 2 ; i<=n ; i++)
    {
        for(j = 1 ; j<=n ; j++)
        {
            if(j == 1) A[i][1] = A[i-1][n];
            else A[i][j] = A[i-1][j-1];
        }
    }
}
void mulbb(int n)
{
    int i,j,k;
    for(j = 1 ; j<=n ; j++)
    {
        int c = 0;
        for(k = 1 ; k<=n ; k++)
        {
            c = c + B[1][k]*B[k][j];
        }
        temp[j] = c%2;
    }
    for(i = 1 ; i<=n ; i++) B[1][i] = temp[i];

    for(i = 2 ; i<=n ; i++)
    {
        for(j = 1 ; j<=n ; j++)
        {
            if(j == 1)B[i][1] = B[i-1][n];
            else B[i][j] = B[i-1][j-1];
        }
    }
}
int func(int n,ll k)
{
    int i,j;
    for(i = 1 ; i<=n ; i++) cin>>a[i];
    for(i = 1 ; i<=n ; i++)
    {
        for(j = 1 ; j<=n ; j++) A[i][j] = 0;
        A[i][i] = 1;
    }
    for(i = 1 ; i<=n ; i++)
    {
        for(j = 1 ; j<=n ; j++) B[i][j] = 0;

        B[i][i] = 1;
        B[i][i%n+1] = 1;
        if(i == 1)B[i][n] = 1;
        else B[i][i-1] = 1;
    }
    //for(i = 1 ; i<=n ; i++,cout<<endl)
    //for(j = 1 ; j<=n ; j++)
    //cout<<B[i][j]<<" ";
    while(k > 0)
    {
        if(k%2 != 0)
        {
            mulab(n);
        }
        k = k/2;
        mulbb(n);
    }
    /*for(i = 1 ; i<=n ; i++,cout<<endl)
    for(j = 1 ; j<=n ; j++)
    cout<<B[i][j]<<" ";
    for(i = 1 ; i<=n ; i++,cout<<endl)
    for(j = 1 ; j<=n ; j++)
    cout<<A[i][j]<<" ";*/


    for(i = 1 ; i<=n ; i++)
    {
        b[i] = 0;
        for(j = 1 ; j<=n ; j++)
        {
            if(A[i][j] == 1) b[i] = b[i]^a[j];
        }
    }
    for(i = 1 ; i<=n ; i++) cout<<b[i]<<" ";
    cout<<endl;
}
int main()
{
    int tc,t;
    cin>>tc;
    while(tc--)
    {
        int n;
        ll k;
        cin>>n>>k;
        func(n,k);
    }
    return 0;
}
