/*
 * Author: hanshuai
 * Created Time:  2011-4-15 10:03:48
 * File Name: resn.cpp
 */
#include <iostream>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;
const int maxn = 505;
typedef vector<int> VI;
int n;
int a[maxn];
VI mul(VI t1, VI t2){
    VI ret(n, 0);
    for(int i = 0; i < n; i ++){
        for(int j = 0; j < n; j ++){
            if(t1[i] && t2[j]){
                ret[(i+j)%n] ^= 1;
            }
        }
    }
    return ret;
}
int main() {
    int test, k;
    scanf("%d", &test);
    while(test --){
        scanf("%d%d", &n, &k);
        for(int i = 0; i < n; i ++) scanf("%d", &a[i]);
        VI x(n, 0), ans(n, 0);
        x[0] = x[1] = x[n-1] = 1;
        ans[0] = 1;
        while(k){
            if(k&1) ans = mul(ans, x);
            k >>= 1;
            x = mul(x, x);
        }
        //for(int i = 0; i < n; i ++) printf("%d ", ans[i]);
        //printf("\n");
        for(int i = 0; i < n; i ++){
            int tmp = 0;
            for(int j = 0; j < n; j ++){
                if(ans[j]) tmp ^= a[(i+j)%n];
            }
            if(i != 0) printf(" ");
            printf("%d", tmp);
        }
        printf("\n");
    }
    return 0;
}

