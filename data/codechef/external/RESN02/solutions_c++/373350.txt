#include <stdio.h>
#define MAX_N 505

int T;
int N,K,D[MAX_N],E[MAX_N];
int P[32][MAX_N];

int main()
{
	int i,j,k;

	scanf ("%d",&T);
	while (T--){
		scanf ("%d %d",&N,&K);
		for (i=0;i<N;i++){scanf ("%d",&D[i]); P[1][i] = 0;}
		P[0][0] = 1; P[1][0] = P[1][1] = P[1][N-1] = 1;
		for (i=2;i<32;i++){
			for (j=0;j<N;j++) P[i][j] = 0;
			for (j=0;j<N;j++){
				for (k=0;k<N;k++) P[i][(j+k)%N] = (P[i][(j+k)%N] + P[i-1][j] * P[i-1][k]) % 2;
			}
		}

		for (i=1;;i++){
			if (K % 2){
				for (j=0;j<N;j++) E[j] = 0;
				for (j=0;j<N;j++){
					for (k=0;k<N;k++) if (P[i][k]) E[j] ^= D[(j+k)%N];
				}
				for (j=0;j<N;j++) D[j] = E[j];
			}
			K /= 2;
			if (K == 0) break;
		}

		for (i=0;i<N;i++) printf ("%d ",D[i]);
		printf ("\n");
	}
}