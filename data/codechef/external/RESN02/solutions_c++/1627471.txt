#include<cstdio>
#include<cstring>

int tab[32][505];
int in[505];
int tmp[2][505];
int out[505];
int n,k;

void splot(int taba[], int tabb[], int tabr[])
{
    for(int i=0; i<n; ++i)
    {
        if(taba[i])
        {
            for(int j=0; j<n; ++j)
            {
                if(tabb[j])
                {
                    int index = i+j;
                    if(index >= n) index -=n;
                    tabr[index] ^= taba[i];
                }
            }
        }
    }
}

void prep()
{
    memset(tab,0,sizeof(tab));
    tab[0][0] = 1;
    tab[0][1] = 1;
    tab[0][n-1] = 1;

    for(int pot = 1; pot<32; ++pot)
    {
        splot(tab[pot-1],tab[pot-1],tab[pot]);
    }
}

void solve()
{
    scanf("%d%d",&n,&k);

    prep();

    /*
    for(int i=0; i<32; ++i)
    {
        for(int j=0; j<n; ++j)
        {
            printf("%d ",tab[i][j]);
        }
        printf("\n");
    }*/


    for(int i=0; i<n; ++i)
    {
        int c;
        scanf("%d",&c);
        in[i] = c;
    }


    int curr = 0;
    int pot = 0;


    memset(tmp[!curr], 0, sizeof(tmp[!curr]));
    tmp[!curr][0] = 1;

    while(k)
    {
        if(k & 1)
        {
            //printf("szof %d\n",sizeof(tmp[curr]));
            memset(tmp[curr], 0, sizeof(tmp[curr]));
            splot(tmp[!curr], tab[pot], tmp[curr]);
            curr = !curr;
        }
        k>>=1;
        ++pot;
    }

    memset(out, 0, sizeof(out));
    splot(in,tmp[!curr],out);

    for(int i=0; i<n; ++i)
    {
        printf("%d ",out[i]);
    }
    printf("\n");
}

int main()
{
    int tc;
    scanf("%d",&tc);

    for(int i=0; i<tc; ++i)solve();

    return 0;
}
