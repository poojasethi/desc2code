#include<cstdio>
#define max(a,b) ( ((a)>(b)) ? (a):(b))
int a[101][101],b[101][101];
int main()
{
	int n;
	while(scanf("%d",&n)!=EOF)
	{
		if(!n)break;
		for(int i=0;i<n;i++)for(int j=0;j<n;j++)
		{
			scanf("%d",&a[i][j]);
			b[i][j] = (j==0)?a[i][j]:(b[i][j-1]+a[i][j]);
		}
		int maxsum = 0;
		for(int c1=0;c1<n;c1++)for(int c2=c1;c2<n;c2++)
		{
			int temp = 0;
			for(int r=0;r<n;r++)
			{
				temp = max(0,temp+(b[r][c2] - (c1==0?0:b[r][c1-1]) ));
				maxsum = max(maxsum,temp);

			}
		}
		printf("%d\n",maxsum);
	}
}
