#include<cstring>
#include<cstdio>
#include<cstdlib>
using namespace std;

#define MX 105
int Sum[MX][MX];
int G[MX][MX];

int main()
{
	int N, i, j, k, c, c1, c2, r;
	int maxSum, temp;
	while(scanf("%d",&N)!=EOF)
		{
			if(N==0)
				break;
			for(i=0;i<N;i++) 
				for(j=0;j<N;j++) 
					scanf("%d",&G[i][j]);
			maxSum = G[0][0];
			for(r=0;r<N;r++)
			{
				Sum[r][0] = G[r][0];
				for(c=1;c<N;c++) 
					Sum[r][c] = Sum[r][c-1] + G[r][c];
			}
			for(c1=0;c1<N;c1++) 
			{
				for(c2=c1;c2<N;c2++)
				{
					temp = 0;
					for(r=0;r<N;r++)
					{
						if(temp<0) temp=0;
							temp += Sum[r][c2] - Sum[r][c1] + G[r][c1];
						if(temp>maxSum) 
							maxSum=temp;
					}
				}
			}
				printf("%d\n",maxSum);
		}
	return 0;
}
