#include <iostream>

int main()
{
int a[100][100], pr[100], i, j, N, t=0, S=0, s=0, z, x;

for(std::cin>>N, i=0; i<N; i++)
	for(j=0; j<N; std::cin>>a[i][j++]);

for(z=0; z<N; z++)
	{
	for(i=0; i<N; pr[i++]=0);
	for(x=z; x< N; x++)
		{
		for(t=s=j=i=0; i<N; i++)
			{
			pr[i]=pr[i]+a[x][i];
			t=t+pr[i];
			if(t>s)
				s=t;
			if(t<0)
				j=i+1+(t=0);
			}
		if(s>S)
			S=s;
		}
	}
std::cout << S;
return 0;
}
