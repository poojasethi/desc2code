#include<iostream>
#include<vector>
#include<set>
#include<string>
#include<cmath>
#include<stdio.h>
#include<algorithm>
#include<map>
#include<string.h>
using namespace std;
main()
{
	int arr[101][101],n,temp,temp1,sum,maximum;
	for(int i=0;i<101;i++)
		arr[i][0]=arr[0][i]=0;
	while(scanf("%d",&n)!=EOF)
	{
		if(n==0)
		break;
		for(int i=1;i<=n;i++)
		{
			sum=0;
			for(int j=1;j<=n;j++)
			{
				cin>>arr[i][j];
				sum+=arr[i][j];
				arr[i][j]=arr[i-1][j]+sum;
			}
		}
		
		for(int i=n;i>=1;i--)
		{
			for(int j=n;j>=1;j--)
			{
				for(int k=0;k<i;k++)
				{
					temp1=arr[i][j]-arr[k][j];		
					for(int l=0;l<j;l++)
					{
						temp=temp1-arr[i][l]+arr[k][l];
						if(temp>maximum)
						maximum=temp;
					}
				}
			}
		}
		cout<<maximum<<"\n";
	} 
}
