#include<bits/stdc++.h>
#define mod 1000000007
#define len(a) strlen(a)
#define ll long long
#define nl printf("\n")

//#define ip(a) scanf("%I64d",&a)

#define db printf("debug")
#define yes printf("YES\n")
#define no printf("NO\n")
#define pb(a) push_back(a)
#define po(a) pop_back()
#define mp(a,b) make_pair(a,b)
#define set(a,v) memset(a,v,sizeof(a))

//#define sz(v) v.size()
//#define max 50005
#define pcase(i) printf("Case #%d: ",i)
#define gc getchar//_unlocked
using namespace std;
inline void ip( ll &x) {
	    register  ll c = gc();
	    x = 0;
	    for(; ((c<48 || c>57) ); c = gc());
	    for(; c>47 && c<58 ; c = gc()) {
	        x = (x<<1) + (x<<3) + c - 48;
	    }

	}


int main()
{
    ll n,q,i;
    ip(n);ip(q);
    ll a[n+1];

    for(i=1;i<=n;i++)
        ip(a[i]);
    while(q--)
    {
        ll op,i,x,L,R;
        ip(op);
        if(op==1)
        {
            ip(i);ip(x);
            a[i]=x;
        }
        else
        {
            ll ans=0;
            ip(L);ip(R);ip(x);
            for(i=L;i<=R;i++)
            {
                if(a[i]<=x)
                    ans++;
            }
            printf("%lld\n",ans);
        }
    }
}
