using namespace std;
#include<iostream>
#include<bits/stdc++.h>

long long int s=5000000/6,x;
int main()
{
   long int m,n,k;
   int j,t;
   std::ios_base::sync_with_stdio(false);
vector<bool> a(5000000/6), b(5000000/6);
    for(j=1;j<373;++j)
       {

           for(x=6*j*j-2*j;x<=s;x+=6*j-1)
                       b[x]=1;
           for(x=6*j*j;x<=s;x+=6*j+1)
               a[x]=1;
           for(x=6*j*j;x<=s;x+=6*j-1)
               a[x]=1;
            for(x=6*j*j+2*j;x<=s;x+=6*j+1)
               b[x]=1;


       }
   cin>>t;
   for(j=0;j<t;++j)
   {
       cin>>m>>n;
       s=0;k=n/6;
       for(x=m/6+1;x<=k;++x)
        {
            if(a[x]==0){
                s+=6*x-1;
            }
            if(b[x]==0){
                s+=6*x+1;
            }
        }
        if(m<=2)s+=5;
        else if (m==3)s+=3;
        else if(m%6==0&&b[m/6]==0)s+=m+1;
        else if(m%6==1&&b[m/6]==0)s+=m;
        if(n==2)s=2;
        else if(n==1)s=0;
        else if((n%6==0)&&b[n/6]==0)s-=n+1;
        else if(n%6==5&&a[n/6+1]==0)s+=n;
        cout<<s<<endl;

   }
}
