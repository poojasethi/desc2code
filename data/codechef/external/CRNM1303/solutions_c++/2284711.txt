//Author: Aman Choudhary
#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <deque>
#include <stack>
#include <cmath>
#include <algorithm>
#include <functional>
#include <numeric>
#include <bitset>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <cstring>
#include <climits>
#include <map>
#include <cassert>
#define mod  1000000007
#define PHI 1000000006
#define ull unsigned long long
#define ill long long int
#define pii pair<int,int>
#define pb(x) push_back(x)
#define F(i,a,n) for(i=(a);i<(n);++i)
#define FD(i,a,n) for(i=(a);i>=(n);--i)
#define FE(it,x) for(it=x.begin();it!=x.end();++it)
#define V(x) vector<x>
#define S(x) scanf("%d",&x)
#define S1(x) scanf("%llu",&x)
#define MAX 100001
#define NIL 0
#define  EPS  1e-9
#define MOD 1000000007
#define INF (1<<28)
#define max_x 1009
#define max_y 1009

using namespace std;

vector < vector <int > > s,a;
void mm (int row, int column)
{
    s.clear();      s.resize (row);
    a.clear();      a.resize (row);
    int i,j;

    F (i, 0, row) {
        F (j, 0, column) {
            s[i].pb (0);
        }
    }
}


int gauss ( vector < vector<int> > a,vector<int> & ans ) {
	int n=a.size();
	int m=a[0].size()-1;
	vector < int > where ( m, - 1 ) ;
	for ( int col = 0 , row = 0 ; col < m && row < n ; ++ col ) {
		for ( int i = row ; i < n ; ++ i )
			if ( a [ i ] [ col ] ) {
				swap ( a [ i ] , a [ row ] ) ;
				break ;
			}
		if ( ! a [ row ] [ col ] )
			continue ;
		where [ col ] = row ;

		for ( int i = 0 ; i < n ; ++ i )
			if ( i != row && a [ i ] [ col ] )
			{
				for(int j=0;j<=m;j++)
				a[i][j]^=a[row][j];
			}
		++ row ;
	}
	ans. assign ( m, 0 ) ;
	for ( int i = 0 ; i < m ; ++ i )
		if ( where [ i ] != - 1 )
			ans [ i ] = a [ where [ i ] ] [ m ] ;
	for ( int i = 0 ; i < n ; ++ i ) {
		int sum = 0 ;
		for ( int j = 0 ; j < m ; ++ j )
			sum ^= (ans [ j ]*a [ i ] [ j ]) ;
			//cout<<"i "<<i<<" "<<sum<<" "<<a[i][m]<<endl;
		if ( sum!=a[i][m] )
			return 0 ;
	}

	for ( int i = 0 ; i < m ; ++ i )
		if ( where [ i ] == - 1 )
			return INT_MAX ;
	return 1 ;
}

int main()
{
    //freopen ("input.txt", "r", stdin);

    int tt,n,i,j,m,l;
    S (tt);

    while (tt--) {
        S (n);      S (m);      S (l);

        mm (n*m, l+1);

        F (i, 0, l) {
            int xx;
            S (xx);
            while (xx--) {
                int x,y;
                S (x);      S (y);
                s[x*m + y][i] = 1;
            }
        }




        F (i, 0, n) {
            F (j, 0, m) {
                int k = i*m + j;
                S (s[k][l]);
            }
        }

        vector <int> ans;
        if (gauss (s, ans)) {
             printf("Yes\n");
        } else{
            printf("No\n");
        }
    }


    return 0;
}
