#include <iostream>
using namespace std;

int main() {
	// your code goes here
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		string s="";
		int val=0,ans=n;
		while(n)
		{
			int x=n%2;
			char c='0'+x;
			s=s+c;
			val=val+1+x;
			n=n/2;
		}
		val=val-2;
		//cout<<val<<endl;
		int sum=0,x=0;
		ans=val;
		for(int i=0;i<s.length()-1;i++)
		{
			sum=sum+1+s[i]-'0';
			if(s[i]=='1')
			{
				x++;
				//cout<<val-x<<" "<<sum-2<<endl;
				ans=min(ans,max(val-x,sum-2));
			}
		}
		if(s.length()-1==val)
		ans=val-1;
		cout<<ans<<endl;
	}
	return 0;
}