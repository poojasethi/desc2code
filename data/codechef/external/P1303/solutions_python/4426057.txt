#include "stdio.h"

void rec(short **arr,unsigned long int n,unsigned long int r,unsigned long int c, unsigned long long int* count){
	if(r == n-1 && c == n-1){
		*count = *count + 1;
		return;
	}
	arr[r][c] = 1;
	if(r > 0 && arr[r-1][c] == 0)
		rec(arr,n,r-1,c,count);

	if(c > 0 && arr[r][c-1] == 0)
		rec(arr,n,r,c-1,count);

	if(r < n-1 && arr[r+1][c] == 0)
		rec(arr,n,r+1,c,count);

	if(c < n-1 && arr[r][c+1] == 0)
		rec(arr,n,r,c+1,count);

	arr[r][c] = 0;

}

int main(int argc, char* argv[])
{

	unsigned long int n;
	scanf("%lu\n",&n);
	short **arr = new short*[n];
	for(unsigned long int i=0; i<n;i++){
		arr[i] = new short[n];
	} 

	for(unsigned long int i=0; i<n;i++){
		for(unsigned long int j=0; j<n;j++){
			scanf("%hd",&arr[i][j]);
		} 
	}

	unsigned long long int count = 0;
	if(n == 0) printf("0\n");
	else if (n==1) printf("1\n");
	else{
		rec(arr,n,0,0,&count);
		printf("%llu",count);
	}

	return 0;
}
