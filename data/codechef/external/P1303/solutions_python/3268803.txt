//cheese hunt

#include<cstdio>
#include<iostream>
#include<list>
#include<algorithm>

int cell[500][500];
int visited[500][500]={{0}};
int routes;
int t;
int dfs(int x,int y)
{
    //printf("micro  %d   %d\n",x,y);
  //  printf("t is  %d\n",t);
   visited[x][y]=1;
    if((x==t)&&(y==t))
    {
        //printf("he this is me  %d\n",routes);
        routes++;visited[x][y]=0;return 0;
        }
   
    if((cell[x][y+1]==0)&&(visited[x][y+1]==0)&&(y+1<=t))
    {
        //printf("mayank %d  %d\n",x,y+1);
        dfs(x,y+1);}
    
    if((cell[x][y-1]==0)&&(visited[x][y-1]==0)&&(y-1>0))
    {
        //printf("vikash  %d  %d\n",x,y-1);
        dfs(x,y-1);}
    
    if((cell[x+1][y]==0)&&(visited[x+1][y]==0)&&(x+1<=t))
    {
        //printf("rakesh %d  %d\n",x+1,y);
        dfs(x+1,y);}
    
    if((cell[x-1][y]==0)&&(visited[x-1][y]==0)&&(x-1>0))
    {
        //printf("sonu %d  %d\n",x-1,y);
    dfs(x-1,y);}
    visited[x][y]=0;
     
    
}    
    
    
    
    

int main()
{
    
    int i,k,j,a,b,c;
    scanf("%d",&t);
    routes=0;
    for(i=1;i<=t;i++)
    for(j=1;j<=t;j++)
    scanf("%d",&cell[i][j]);
    
    dfs(1,1);
    
    printf("%d\n",routes);
    
   // system("pause");
}    