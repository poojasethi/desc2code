#include <iostream>
using namespace std;

int count=0;

bool isSafe(int a[],int x,int y,int n){
    if(a[x*n+y]==0 && x>=0 && x<n && y>=0 && y<n){
        return true;
    }
    return false;
}

void find(int a[],int x,int y,int n){
    int temp[n*n];
    for(int i=0;i<n;i++){
        for(int j=0;j<n;j++){
            temp[i*n+j]=a[i*n+j];
        }
    }
    if(x==n-1 && y==n-1){
        count++;
    }
    else{
        if(isSafe(temp,x+1,y,n)){
            temp[x*n+y]=1;
            find(temp,x+1,y,n);
        }
        if(isSafe(temp,x-1,y,n)){
            temp[x*n+y]=1;
            find(temp,x-1,y,n);
        }
        if(isSafe(temp,x,y+1,n)){
            temp[x*n+y]=1;
            find(temp,x,y+1,n);
        }
        if(isSafe(temp,x,y-1,n)){
            temp[x*n+y]=1;
            find(temp,x,y-1,n);
        }
    }
}


int main() {
    int n;
    cin >> n;
    int a[n*n];
    for(int i=0;i<n;i++){
        for(int j=0;j<n;j++){
            cin >> a[i*n+j];
        }
    }
    int temp=a[0];
    find(a,0,0,n);
    if(temp==1){
        cout << 0 << endl;
    }
    else{
        cout << count << endl;
    }
	// your code goes here
	return 0;
}
