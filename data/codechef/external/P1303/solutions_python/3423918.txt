#include <stdio.h>

int a[9][9],count=0,n;

int main()
{int i, j;

 scanf("%d", &n);
 for(i =0;i<n;i++)
   for(j=0;j<n;j++)
      scanf("%d",&a[i][j]);

   func(0,0);
   printf("%d\n",count);
 return(0);
}

void func(int i, int j)
{
  if(i==n-1 && j==n-1)
   count++;

  a[i][j] = 1;

  if((j+1)<n  && a[i][j+1] == 0)
   func(i,j+1);
  if((i+1)< n && a[i+1][j] == 0)
   func(i+1,j);
  if((j-1)>=0 && a[i][j-1] == 0)
   func(i,j-1);
  if((i-1)>=0 && a[i-1][j] == 0)
   func(i-1,j);

  a[i][j] = 0;
  return;
}



