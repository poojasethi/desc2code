#include<stdio.h>
#define get getchar_unlocked
inline int inp()
{
    int n=0,s=1;
    char p=get();
    if(p=='-')
    s=-1;
    
    while((p<'0'||p>'9')&&p!=EOF&&p!='-') 
    p=get();
    
    if(p=='-') s=-1,p=get();
    while(p>='0'&&p<='9')
    {
        n = (n<< 3) + (n<< 1) + (p - '0');
        p=get();
    }
    return n*s;
}
int a[1000][1000],n,visit[1000][1000]={{0}};

long long int count=0;

int dfs(int x,int y)
{
    if(x==n-1&&y==n-1)
    {
                      count++;
                      return 0;
    }
    visit[x][y]=1;
    if(x!=0)
    {
            if(!visit[x-1][y]&&!a[x-1][y])
            dfs(x-1,y);
    }
    if(x!=n-1)
    {
            if(!visit[x+1][y]&&!a[x+1][y])
            dfs(x+1,y);
    }
    if(y!=0)
    {
            if(!visit[x][y-1]&&!a[x][y-1])
            dfs(x,y-1);
    }
    if(y!=n-1)
    {
            if(!visit[x][y+1]&&!a[x][y+1])
            dfs(x,y+1);
    }
    visit[x][y]=0;
}


int main()
{
    int i,j;
    scanf("%d",&n);
    for(i=0;i<n;i++)
    for(j=0;j<n;j++)
    a[i][j]=inp();    
    dfs(0,0);
    printf("%lld\n",count);
    return 0;
}
