#include<stdio.h>
#include<string.h>

int n,count=0;
bool **arr,**current;

void calc(int,int);

int main()
{
    int i,j;
    
    scanf("%d",&n);
    
    arr=new bool*[n+1];
    current=new bool*[n+1];
    
    for(i=0;i<n;i++)
    {
                    arr[i]=new bool[n+1];
                    current[i]=new bool[n+1];
                    memset(current[i],0,sizeof(bool)*(n+1));
                    for(j=0;j<n;j++)
                                    scanf("%d",&arr[i][j]);
    }
    
    calc(0,0);
    
    printf("%d\n",count);
    
    return 0;
}

void calc(int i,int j)
{
     if(current[i][j]==true)
                         return;
                         
     if(i==n-1&&j==n-1)
     {
                       count++;
                       return;
     }
     
     current[i][j]=true;
     
     if(i<n-1 && arr[i+1][j]==0)
              calc(i+1,j);
              
     if(j<n-1 && arr[i][j+1]==0)
                calc(i,j+1);
                
     if(j>0 && arr[i][j-1]==0)
               calc(i,j-1);
               
     if(i>0&& arr[i-1][j]==0)
               calc(i-1,j);
     
     current[i][j]=false;
     
     return;
}
