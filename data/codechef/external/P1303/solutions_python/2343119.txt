#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<vector>
#include<list>
#include<map>
#include<set>
#include<deque>
#include<queue>
#include<stack>
#include<bitset>
#include<algorithm>
#include<functional>
#include<numeric>
#include<utility>
#include<sstream>
#include<iomanip>
#include<cmath>
#include<cctype>
#include<cstring>
#include<string>
#include<ctime>
#include<cassert>
using namespace std;
//#include<conio.h>

#define TRACE(x) cerr << "TRACE(" #x ")" << endl;
#define DEBUG(x) cerr << #x << " = " << x << endl;
#define FOR(i,a,b) for(int i=(a);i< (b);i++)
#define input(a) scanf("%d",&a)
#define CLEAR(a) memset((a),0,sizeof(a))
#define INF 1000000000
#define LL long long
#define PI 2*acos(0.0)
#define sqr(a) (a)*(a)
#define MAX 50

int a[MAX][MAX],b[MAX][MAX];
int count_=0,n;
void process(int x,int y)
{
    a[x][y]=1;
    if(x==n-1 && y==n-1)
     count_++;
    if(x-1 >=0 && !a[x-1][y] && b[x-1][y]!=1)
      process(x-1,y); 
    if(x+1 <n && !a[x+1][y] && b[x+1][y]!=1)
      process(x+1,y); 
    if(y-1 >=0 && !a[x][y-1] && b[x][y-1]!=1)
      process(x,y-1);
    if(y+1 <n && !a[x][y+1] && b[x][y+1]!=1)
      process(x,y+1);
    a[x][y]=0;   
}
int main()
{
    input(n);
    FOR(i,0,n)
     FOR(j,0,n)
      input(b[i][j]);
    a[0][0]=1;
    process(0,0);
    printf("%d\n",count_);

    //getch();
    return 0;
}
