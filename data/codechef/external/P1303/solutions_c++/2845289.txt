#include<iostream>
#include<algorithm>
#include<vector>
#include<list>
#include<map>
#include<set>
#include<deque>
#include<sstream>
#include<string>
#include<iomanip>
#include<ctime>
#include<cmath>
#include<stack>
#include<utility>
#include<cstdlib>

using namespace std;

#define lli long long int
#define li long int
#define fri(n) for(int i=0;i<n;i++)
#define frj(n) for(int j=0;j<n;j++)

int traverse(int **a,int i,int j,int &ans,int n)
{
	//cout<<"i "<<i+1<<" j "<<j+1<<endl;
	if(i==n-1&&j==n-1) ans++;
	else
	{
		a[i][j]=1;
		if(i-1>-1&&(!a[i-1][j])) traverse(a,i-1,j,ans,n);
		if(j-1>-1&&(!a[i][j-1])) traverse(a,i,j-1,ans,n);
		if(i+1<n&&(!a[i+1][j])) traverse(a,i+1,j,ans,n);
		if(j+1<n&&(!a[i][j+1])) traverse(a,i,j+1,ans,n);
		a[i][j]=0;
	}
}

int main()
{
	//freopen("inp.in","r",stdin);
	int n;cin>>n;
	int **a;
	a=new int * [n];
	fri(n)
	{
		a[i]=new int [n];
		frj(n)
			{
				
				cin>>a[i][j];
			}
	}
	int ans=0;
	traverse(a,0,0,ans,n);
	
	cout<<ans<<endl;
	return 0;
}