
#include<bits/stdc++.h>
#define all(x) x.begin(), x.end()
#define pb(x) push_back(x)
#define cout2(x, y) cout << x << " " << y << endl
#define N 100005
#define MOD 1000000007

using namespace std;


int main(){

	int tc;
	scanf("%d", &tc);
	
	while(tc--){
		
		int n, m;
		scanf("%d%d", &n, &m);
		
		int u, v;
		for(int i = 0; i < m; i++){
			
			scanf("%d%d", &u, &v);	
			u--, v--;

		}
		
		long long ans = 0;
		ans = (n/2);
		ans = ans * (n - n/2);
		ans -= m;
		
		printf("%lld\n", ans);	
	
	}
}
