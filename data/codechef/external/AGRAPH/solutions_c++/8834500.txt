//Author : Ankit Bisla :)

#include<bits/stdc++.h>
 
using namespace std; 
 
#define     mp(x,y)            make_pair((x),(y))
#define     pb(x)              push_back(x)
#define     F                    first
#define     S                    second
#define     INF                  (int(1e9))
#define     INFL                 (ll(1e18))
#define     EPS                  1e-12
#define     chkbit(s, b)     (s & (1<<b))
#define     setbit(s, b)     (s |= (1<<b))
#define     clrbit(s, b)     (s &= ~(1<<b))
 
 
#define     rep(i, n)        for(int i = 0; i < (n); i++)
#define     fo(i, a, n)      for(int i = a; i < n; i++)
#define     rev(i, a, n)     for(int i = a; i >= n; i--)
#define     FORALL(itr, c) for(itr = (c).begin(); itr != (c).end(); itr++)
#define     all(A)             A.begin(), A.end()
#define     lla(A)             A.rbegin(), A.rend()
 
#define     mod              1000000007
 
#define     s1(x)              scanf("%d",&x);
#define     s2(x,y)            scanf("%d%d",&x,&y);
#define     s3(x,y,z)      scanf("%d%d%d",&x,&y,&z);
#define     sl(x)              scanf("%lld",&x);
#define     sl2(x,y)           scanf("%lld%lld",&x,&y);
#define     p(x)                 printf("%d\n",x);
#define     pl(x)              printf("%lld\n",x);
#define     p1d(a,n)          for(int ix=1;ix<=n;ix++) printf("%d ",a[ix]); printf("\n");
#define     p2d(a,n,m)        for(int ix=1;ix<=n;ix++){ for(int jx=1;jx<=m;jx++) printf("%d ",a[ix][jx]); printf("\n");}
 
#define     DEBUG              1
#define     TRACE              1
 
#ifdef TRACE
    #define trace(x)            cerr<<x<<endl;
    #define trace1(x)           cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<endl;
    #define trace2(x,y)         cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<" | "#y" = "<<y<<endl;
    #define trace3(x,y,z)       cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<" | "#y" = "<<y<<" | "#z" = "<<z<<endl;
    #define trace4(a,b,c,d)     cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<endl;
    #define trace5(a,b,c,d,e)   cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<" | "#e" = "<<e<<endl;
    #define trace6(a,b,c,d,e,f) cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<" | "#e" = "<<e<<" | "#f" = "<<f<<endl;
#else
    #define trace(x)
    #define trace1(x)
    #define trace2(x,y)
    #define trace3(x,y,z)
    #define trace4(a,b,c,d)
    #define trace5(a,b,c,d,e)
    #define trace6(a,b,c,d,e,f)
#endif
 
#define gc getchar_unlocked
 
typedef long long ll;
typedef unsigned long long ull;
 
#define vi vector<int>
#define vii vector<pair<int,int> >
#define pii pair<int,int>
#define vl vector<ll>
#define vll vector<pair<ll,ll> >
#define pll pair<ll,ll>
 
#define N   2005

int main(){
    
    #ifndef ONLINE_JUDGE
        freopen("input.txt","r",stdin);
    #endif
    int t;
    scanf("%d",&t);
    while(t--){
        ll n,m;
        scanf("%lld%lld",&n,&m);
        for(int i = 0 ; i < m ; i++){
            int u,v;
            scanf("%d%d",&u,&v);
        }
        ll n1 = n/2;
        ll n2 = n - n1;
        ll ans = (n1 * n2) - m;
        printf("%lld\n",ans);
    }
    return 0;
} 