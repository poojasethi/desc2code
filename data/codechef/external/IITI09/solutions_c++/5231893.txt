#include<cstdio>
#include<iostream>
#include<cstdlib>
#include<functional>
#include<string.h>
#include<vector>
#define CLEAR(a) memset((a),0,sizeof(a)); 
using namespace std;
int main()
{
	int t,i,j;
	int n,k;
	cin>>t;
	while(t--)
	{
	
		cin>>n>>k;
		int arr[n];
		for(i=0;i<n;i++)
		cin>>arr[i];
		int brr[n];
		for(i=0;i<n;i++)
        cin>>brr[i];
        vector<int> crr(n);
        while(k--)
        {
        	crr.clear();
        	
        	for(i=0;i<n;i++)
        	{
        		crr[brr[i]-1]=arr[i];
        	}
        	for(i=0;i<n;i++)
        	{
        		arr[i]=crr[i];
        	}
        }
        	for(i=0;i<n;i++)
        	{
        		cout<<arr[i]<<" ";
        	}
        	cout<<endl;
	}
	return 0;
}