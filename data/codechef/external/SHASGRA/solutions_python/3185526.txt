/*	Template by
	Ashwin Kumar
	IIT Delhi */
#include<algorithm>
#include<iostream>
#include<cassert>
#include<cmath>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<sstream>
#include<string>
#include<ctime>
#include<deque>
#include<map>
#include<queue>
#include<set>
#include<stack>
#include<vector>	
using namespace std;

typedef pair<int, int> pii;
typedef long long LL;
#define MOD 1000000003
#define INF 1000000000
#define MAX 10000000000000000LL

int N;
vector<int> arr[18];
LL dp[18][262144];

LL runDP(int i, int match) {
	if (i == N)
		return 1;
	if (dp[i][match] != -1)
		return dp[i][match];
	LL &ans = dp[i][match];
	ans = 0;
	for (int j = 0; j < arr[i].size(); j++) {
		int k = arr[i][j];
		int pos = (1<<k);
		if ((match&pos) == 0)
			ans = (ans+runDP(i+1, match^pos))%MOD; 
	}
	return ans;
}

int main() {
	int T;
	scanf("%d", &T);
	for (int t = 0; t < T; t++) {
		int M, x, y;
		scanf("%d %d", &N, &M);
		for (int i = 0; i < N; i++)
			arr[i].clear();
		for (int i = 0; i < M; i++) {
			scanf("%d %d", &x, &y);
			arr[x].push_back(y-N);
		}
		memset(dp, -1, sizeof dp);
		printf("%d\n", runDP(0, 0));
	}
	return 0;
}
