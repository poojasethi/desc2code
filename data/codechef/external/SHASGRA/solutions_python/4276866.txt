#include<stdio.h>
#define MOD 1000000003
 
 
 
int main ()
{
	int t;
	scanf("%d",&t);
 
	while(t--)
	{
		int n, m,k,i,j;
		scanf("%d%d",&n,&m);
		
		int ar[n][n];
		
		for(i=0;i<n;i++)
		for(j=0;j<n;j++)
		  ar[i][j]=0;
		
		for (i = 0; i < m; ++i)
		{
			int a, b;
			scanf("%d%d",&a,&b);
			ar[a][b - n] = 1;
		}
 
		long long  int ans = 0;
		for (k = 0; k < (1 << n); ++k)
		{
			int count = 0;
			for (i = 0; i < n; ++i)
				if (k & (1 << i))
					count++;
 
			long long int p = 1;
			for (i=0; i<n; ++i)
			{
				long long int s = 0;
				for (j = 0; j < n; ++j)
					if (k & (1 << j))
						s += ar[i][j];
 
				p = (p * s) %MOD;
				if (p == 0) break;
			}
 
			if (count % 2)
				p = (MOD-p) % MOD;
			
			ans += p;
			if (ans >=MOD) ans -=MOD;
		}
 
		if (n % 2)
			ans = (MOD - ans) % MOD;
 
		printf("%lld\n",ans);
	}
	return 0;
}
 