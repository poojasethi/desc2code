/* 

   SHUBHAM RAI-IIIT Hyderabad

 */
#include<cstdio>
#include<iostream>
#include<cmath>
#include<vector>
#include<cstring>
#include<climits>
#include<string>
#include<map>
#include<stack>
#include<queue>
#include<set>
#include<algorithm>
using namespace std;
#define FOR(i,a,b) for(i=a;i<b;i++)
#define REP(i,a) for(i=0;i<a;i++)
#define LLD long long int
#define MOD 1000000007
#define si(n) scanf("%d",&n);
#define sl(n) scanf("%lld",&n);
#define F first
#define S second
#define getcx getchar_unlocked
typedef pair<int,int> PII;
inline void inp(int &n)
{
	n=0;
	int ch= getcx(),sign=1;
	while( ch < '0' || ch > '9' ){if(ch=='-')sign=-1; ch=getcx();}	
	while(ch>='0' && ch<='9')
	{
		n=(n<<3)+(n<<1)+ch-'0';
		ch=getcx();
	}
}
unsigned LLD  dp[21][1<<20];
vector<int> setbits[21];
int size[21];
void precompute()
{
	int i;
	REP(i,1<<20)
	{
		int j=i,cnt=0;
		while(j>0)
		{
			if(j&1)
				cnt++;
			j>>=1;
		}
		setbits[cnt].push_back(i);
		size[cnt]++;
	}
}
int main()
{
	int t;
	precompute();
	inp(t);
	//	si(t);
	while(t--)
	{
		int n,a[21][21]={0},i,j,k,m;
		inp(n);
		inp(m);
		REP(i,m)
		{
			int x,y;
			si(x);
			si(y);
			a[x+1][y-n]=1;
		}
		/*FOR(i,1,n+1)
		  {
		  REP(j,n)
		  inp(a[i][j]);
		  }*/
		//	si(a[i][j]);
		FOR(i,1,n+1)
		{
			REP(j,(1<<n))
				dp[i][j]=0;
		}
		dp[0][0]=1;
		FOR(i,1,n+1)
		{
			REP(j,n)
			{
				if(a[i][j])
				{
					FOR(k,0,1<<n)
					{
						if(!((k>>j)&1))
							dp[i][k|(1<<j)]+=dp[i-1][k];
						if(dp[i][k|(1<<j)]>=1000000003);
							dp[i][k|(1<<j)]%=1000000003;
					}
				}
			}
		}
		/*FOR(i,1,n+1)
		  {
		  REP(j,n)
		  {
		  if(a[i][j])
		  {
		  REP(k,size[i])
		  {
		  int nu=setbits[i][k];
		  if((nu>>j)&1)
		  dp[i][nu]+=dp[i-1][nu-(1<<j)];
		  }
		//	FOR(k,1,1<<n)
		//	{
		//		if((k>>j)&1)
		//			dp[i][k]+=dp[i-1][k-(1<<j)];
		//	}
		}
		}
		}*/
		/*REP(i,n+1)
		  {
		  REP(j,1<<n)
		  printf("%lld ",dp[i][j]);
		  printf("\n");
		  }*/
		unsigned LLD ans=dp[n][(1<<n)-1];
		printf("%llu\n",ans);
	}
	return 0;
}
