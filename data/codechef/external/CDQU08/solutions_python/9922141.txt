#include <bits/stdc++.h>
#define gc getchar//_unlocked
using namespace std;
void scan(int *n){
    register int c; *n=0;
    while((c=gc())<=' ');
    if(c=='-') {scan(n); *n = -*n; return;}
    for(; c>' '; c=gc()) 
    *n = (*n<<1) + (*n<<3) + c - '0';
}
int main(){
    int n,a,b,i,j,k;
    scan(&n);
    vector <int> v(n+1);
    for(i=1;i<=n;++i) v[i]=i;
    for(i=0;i<n;++i){
        scan(&a); scan(&b);
        for(j=1;j<=n;++j)
            if(v[j]==v[a]) v[j]=v[b];
    }
    map <int,int> m;
    map <int,int>::iterator it;
    for(i=1;i<=n;++i){
        m[v[i]]++;
    }
    v.clear();
    for(it=m.begin();it!=m.end();++it){
        v.push_back(it->second);
    }
    sort(v.begin(),v.end());
    cout << m.size() << '\n';
    for(i=0;i<v.size();++i){
        cout << v[i] << ' ';
    }
    cout << '\n';
    return 0;
} 