#include<bits/stdc++.h>
using namespace std;
int a1,a2;
string a,q;
bool isc(string h)
{
	int hh=h.length();
	for(int j=0;j<a2-hh;j++)
	{
		if(q.substr(j,hh)==h)
		return true;
	}
	return false;
}
int main()
{ cin>> a1>>a2;
 int c=0;
	cin>>a>>q;
	for(int i=0;i<a1;i++)
	for(int j=1;j<a1-i;j++)
	{
		if(isc(a.substr(i,j)))
		 {
		 	c=max(c,j);
		 }
	}
	cout<<c;
}