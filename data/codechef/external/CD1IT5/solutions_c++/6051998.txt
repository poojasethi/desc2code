#include <bits/stdc++.h>
using namespace std;
int par[100005];
int find_par(int x)
{
if(par[x]==x)
return x;
else
return par[x]=find_par(par[x]);
}
void unio(int x,int y)
{
int px=find_par(x);
int py=find_par(y);
if(px==py)
return;
else
par[px]=py;
}
int main()
{
int n,q,t,x,y;
scanf("%d%d",&n,&q);
for(int i=1;i<=n;i++)
par[i]=i;
while(q--)
{
scanf("%d%d%d",&t,&x,&y);
if(t==0)
unio(x,y);
else
{
if(find_par(x)==find_par(y))
printf("Yes\n");
else
printf("No\n");
}
}
return 0;
}
