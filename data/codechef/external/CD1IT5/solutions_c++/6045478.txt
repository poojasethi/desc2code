

    #include<bits/stdc++.h>
    using namespace std;

    #define pii pair<int,int>
    #define pip pair<int,pii>
    #define ff first
    #define ss second
    #define FOR(i,n) for(int i=0; i<(int)n ;i++)
    #define REP(i,a,n) for(int i=a;i<(int)n;i++)
    #define pb push_back
    #define mp make_pair

    typedef long long ll;
    //int dx[]= {-1,0,1,0};
    //int dy[]= {0,1,0,-1};

    int parent[1000000]={0};

    int findgroup(int x)
    {
        if(x!=parent[x])
            return findgroup(parent[x]);
        return parent[x];
    }

    int main()
    {
        int n,q;
        scanf("%d%d",&n,&q);

        for(int i=1;i<=n;i++)
        {
            parent[i]=i;
        }

        for(int i=0;i<q;i++)//query
        {
            int type;
            scanf("%d",&type);

            if(type==0)
            {
                int x,y;
                scanf("%d%d",&x,&y);
                int u=findgroup(x);
                int v=findgroup(y);
                parent[v]=u;
            }
            else
            {
                int x,y;
                scanf("%d%d",&x,&y);
                if(findgroup(x)==findgroup(y))
                    cout<<"Yes\n";
                else
                    cout<<"No\n";


            }
        }

        return 0;
    }





