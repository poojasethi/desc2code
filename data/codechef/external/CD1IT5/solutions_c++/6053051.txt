#include<stdio.h>
#include<iostream>
#include<cstring>
#define ll long long
using namespace std;
//---------------------------disjoint set (path wih compression)----------------------//

//---------------------------find root func---------------//
int find_by_sz(int s[],int x)
{
    if(s[x]<0)
        return x;
    else
        return (s[x]=find_by_sz(s,s[x]));
}
//--------------------union func-------------------------//
void unon(int s[],int x,int y)
{
    x=find_by_sz(s,x);
    y=find_by_sz(s,y);
    if(x==y)
        return;
    if(s[x]<s[y])
    {
        s[x]+=s[y];
        s[y]=x;
    }
    else
    {
        s[y]+=s[x];
        s[x]=y;
    }
}
// -----------------makeset func------------------------//
void makeset(int s[],int n)
{
    for(int i=0;i<=n;i++)
        s[i]=-1;
}
int s[100003];
int main()
{
    int n,q,op,x,y,i;

    scanf("%d%d",&n,&q);
    makeset(s,n);
    while(q--)
    {
        scanf("%d%d%d",&op,&x,&y);
        if(op==0)
        {
            unon(s,x,y);
        }
        else
        {
            if(find_by_sz(s,x)==find_by_sz(s,y))
                printf("Yes\n");
            else
                printf("No\n");
        }
    }
    return 0;
}
