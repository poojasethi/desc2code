
#include<bits/stdc++.h>
using namespace std;
#define MAX 100000 +10
int parent[MAX];
int f(int i)
{
    if(parent[i]!=i)
        parent[i]=f(parent[i]);
    return parent[i];
}
void u(int i,int j)
{
    int x=f(i);
    int y=f(j);
    if(parent[x]>parent[y])
          parent[y]=x;
    else
        parent[x]=y;
}
int main()
{
    int n,q;
    scanf("%d %d",&n,&q);
    for(int i=1;i<=n;i++)
        parent[i]=i;
    while(q--)
    {
        int a,b,c;
        scanf("%d",&a);
        if(a==0)
        { scanf("%d %d",&b,&c);
            u(b,c);
        }
        else
        { scanf("%d %d",&b,&c);
            if(f(b)==f(c))
                printf("Yes\n");
            else
                printf("No\n");
        }
    }


    return 0;
}
