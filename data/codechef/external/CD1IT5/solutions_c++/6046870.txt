#include<iostream>
#include<algorithm>
#include<string.h>
using namespace std;
#include<stdio.h>
#ifndef ONLINE_JUDGE
#define get getchar
#else
#define get getchar_unlocked
#endif
inline int f()
{
	int n=0,s=1;
	char p=get();
	if(p=='-')
		s=-1;
	while((p<'0' || p>'9') && p!=EOF && p!='-')
		p=get();
	if(p=='-')
		s=-1,p=get();
	while(p>='0' && p<='9' )
	{
		n=(n<<3)+(n<<1)+(p-'0');
		p=get();
	}
	return (n*s);
}
int par[100002];
int find(int u){
	if(par[u]==u)
	return u;
	else
	return par[u]=find(par[u]);
    //return (par[u]==u) ? u : par[u]=find(par[u]);
}
int main()
{
	int i,j,k,t,m,n,N,x,y;
	N=f();
	k=f();
	for(i=0;i<=N;i++)
	par[i]=i;
	while(k--)
	{
	    t=f();
	 	m=f();
	    n=f();
        x = find(m);
        y = find(n);  
	 if(!t)
	 {
 		par[x]=y;
 	 }
	 else
	 {
         if(x==y) 
         printf("Yes\n");
         else
         printf("No\n"); 
 	 }	
  }
}