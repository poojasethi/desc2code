#include <cstdio>
using namespace std;
int a[100002];
int find(int r) {
	if (r != a[r])
		a[r] = find(a[r]);
	return a[r];
}
int main() {
	int n,q;
	scanf("%d%d",&n,&q);
	for (int i = 1; i <= n; i++)
		a[i] = i;
	while (q--) {
		int x,y,z,i,j;
		scanf("%d%d%d",&x,&y,&z);
		if (x == 0) {
			i = find(y);
			j = find(z);
			a[i] = a[j];	
		}
		else {
			if (find(y) == find(z))
				printf("Yes\n");
			else
				printf("No\n");
		}
	}
	return 0;	
}