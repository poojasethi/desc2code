#include <bits/stdc++.h>
using namespace std;
struct connect {
	int parent;
	int rank;
}c[100002];
void link(int x,int y){
	if(c[x].rank>c[y].rank)
		c[y].parent=x;
	else{
		c[x].parent=y;
		if(c[x].rank==c[y].rank)
		        c[y].rank+=1;
	}
}
int find(int x){
	if(x!=c[x].parent)
	c[x].parent=find(c[x].parent);
	return c[x].parent;
}
void Union(int x,int y){
	link(find(x),find(y));
}
int main() {
	int n,q;
	scanf("%d%d",&n,&q);

	for(int i=0;i<n;i++){
		c[i].parent=i;
		c[i].rank=0;
	}
	int t,x,y;
	while(q--){
		scanf("%d%d%d",&t,&x,&y);
		x--;
		y--;
		if(t==0){
			Union(x,y);
		}
		else{
			if(find(x)==find(y))
			printf("Yes\n");
			else 
			printf("No\n");
		}
	}
	return 0;
}