#include<bits/stdc++.h>
using namespace std;
int rnk[100001], par[100001];
int ff(int x){
	if(par[x]!=x) par[x]=ff(par[x]);
	return par[x];
}
void unn(int node1, int node2){
	int x=ff(node1);
	int y=ff(node2);
	if(rnk[x]>rnk[y]){
		par[y]=x;
	}
	if(rnk[x]<rnk[y]){
		par[x]=y;
	}
	else{
		par[y]=x;
		rnk[x]++;
	}
}
int main(){
	int n,q;
	cin>>n>>q;
	for(int i=1; i<=n; i++){
        par[i]=i;
        rnk[i]=0;
    } 
	while(q--){
		int num,x,y;
		cin>>num>>x>>y;
		if(num){
			int t,tt;
			t=ff(x);
			tt=ff(y);
			if(t==tt) cout<<"Yes\n";
			else cout<<"No\n";
		}
		else{
			unn(x,y);
		}
	}
}