#include<iostream>
using namespace std;
 
int a[100002];
int search1(int x)
{
while(x!=a[x])
{a[x]=a[a[x]];
x=a[x];}
return x;
}
int add(int x,int y)
{
if(x>y)
{a[x]=y;}
else
a[y]=x;
 
}
int search(int x,int y)
{
int p=search1(x);
int q=search1(y);
if(p==q)
return 1;
else
return 0;
 
}
 
int main()
{int n,q;
cin>>n>>q;
 
for(int i=1;i<=n;i++)
{a[i]=i;}
while(q--)
{
int t,x,y;
cin>>t>>x>>y;
if(t==0)
{
add(x,y);
}
else
{int count=search(x,y);
if(count==1)cout<<"Yes"<<endl;
else
cout<<"No"<<endl;
}
 
 
}
}