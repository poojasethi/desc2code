#include <bits/stdc++.h>

using namespace std;
typedef long long int ll;
const ll mod=1e9+7;

#define fileinput freopen("input.txt","r",stdin)
#define fileoutput freopen("output.txt","w",stdout)
#define T ll t ; cin>>t ; while(t--)
#define fastio ios::sync_with_stdio(0); cin.tie(0)

int parent[100002];
int Size[100002];

int findParent(int x) {
    int y=parent[x];

    while(y!=parent[y])
            y=parent[y];

    return y;
}

void createSet(int n) {
    for(ll i=1;i<=n;i++) {
        parent[i]=i;
        Size[i]=1;
    }
}

void setUnion(int x,int y) {
    int a=findParent(x);
    int b=findParent(y);

    if(a==b) return;

    int sa=Size[a];
    int sb=Size[b];

    if(sa>=sb) {
        parent[b]=a;
        Size[a]+=Size[b];
    } else {
        parent[a]=b;
        Size[b]+=Size[a];
    }
}

int main()
{

    ll n,q;
    cin>>n>>q;

    createSet(n);

    while(q--) {
        ll t,x,y;
        cin>>t>>x>>y;

        if(t==0) {
            setUnion(x,y);
        }
        else {
            if(findParent(x)==findParent(y)) printf("Yes\n");
            else printf("No\n");
        }
    }


    return 0;
}

