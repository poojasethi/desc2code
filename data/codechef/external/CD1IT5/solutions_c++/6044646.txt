#include<bits/stdc++.h>
using namespace std;
#define FOR(i, a, b) for(int i=a;i<=b;i++)
const int MX = 1e5 + 5;
int p[MX], r[MX];
int f(int x) {
    if(p[x] != x) p[x] = f(p[x]);
    return p[x];
}
void m(int x, int y) {
    int px = f(x);
    int py = f(y);
    if(r[px] > r[py]) p[py] = px;
    else p[px] = py;
    if(r[px] == r[py]) r[py]++;
}
int main() {
    int n, q, ty, x, y;
    scanf("%d %d",&n, &q);
    FOR(i, 1, n) p[i] = i;
    FOR(Q, 1, q) {
        scanf("%d %d %d",&ty, &x, &y);
        if(ty == 0) m(x, y);
        else {
            if(f(x) == f(y)) puts("Yes");
            else puts("No");
        }
    }
    return 0;
}
