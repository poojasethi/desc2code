#include<bits/stdc++.h>
#define MAX 100004
#define gc getchar_unlocked
#define pc putchar_unlocked
using namespace std;
inline void inp( int *n )
{
*n=0;
int ch=gc();int sign=1;
while( ch < '0' || ch > '9' ){if(ch=='-')sign=-1; ch=gc();}
while( ch >= '0' && ch <= '9' )
*n = (*n<<3)+(*n<<1) + ch-'0', ch=gc();
*n=*n*sign;
}
int cable[MAX];
int root(int i)
{
    while(i!=cable[i])
    {
        cable[i]=cable[cable[i]];
        i=cable[i];
    }
 return i;
}
bool find(int i,int j)
{
    return root(i)==root(j);
}
void uni(int first,int second)
{
    int i=root(first);
    int j=root(second);
    cable[i]=j;
}
int main()
{
    int t,n,i,q,x,y,c;
    inp(&n); inp(&q);
    for(i=1;i<=n;i++) cable[i]=i;
    while(q--)
    {
        inp(&c);
        if(!c)
        {
            inp(&x); inp(&y);
            if(x>y) swap(x,y);
            uni(x,y);
        }
        else
        {
            inp(&x); inp(&y);
            if(find(x,y)) printf("Yes\n");
            else printf("No\n");
        }

    }
 return 0;
}
