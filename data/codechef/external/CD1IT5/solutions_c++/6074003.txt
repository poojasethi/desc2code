#include<iostream>
#include<string.h>
#include<stdlib.h>
#include<cmath>
#include<cstdio>
#include<vector>
using namespace std;
#define sd(x) scanf("%d",&x)
struct solve
{
int rank;
int p;
}a[100001];
void link(int x,int y)
{
if(a[x].rank>a[y].rank)
a[y].p=a[x].p;
else
a[x].p=a[y].p;
if(a[x].rank==a[y].rank)
a[y].rank=a[y].rank+1;
}
int find_set(int x)
{
if(a[x].p!=x)
a[x].p=find_set(a[x].p);
return a[x].p;
}
void uni(int x,int y)
{
link(find_set(x),find_set(y));
}
int main()
{
int n,q;
sd(n);
sd(q);
for(int i=1;i<=n;i++)
{
a[i].p=i;
a[i].rank=0;
}
while(q--)
{
int t,x,y;
sd(t);
sd(x);
sd(y);
if(!t)
{
uni(x,y);
}
else
{
if(find_set(x)==find_set(y))
cout<<"Yes"<<endl;
else
cout<<"No"<<endl;
}
}
return 0;
}
