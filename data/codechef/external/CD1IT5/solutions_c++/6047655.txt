#include<bits/stdc++.h>
using namespace std;

int par[100005];

void MakeSet(int N)
{
    for(int a=1;a<=N;a++) par[a]=a;
}

int find_rep(int r)
{
    if(par[r]==r) return r;
    else return par[r]=find_rep(par[r]);
}

void Union(int a,int b)
{
    int u=find_rep(a);
    int v=find_rep(b);
    if(u != v)
    {
        par[u]=v;
    }
}

int main()
{
    int N,K;
    while(scanf("%d %d",&N,&K)==2)
    {
        int t,u,v;
        MakeSet(N);
        for(int a=1;a<=K;a++)
        {
            scanf("%d %d %d",&t,&u,&v);
            if(t==0)
            {
                Union(u,v);
            }
            else
            {
                puts(find_rep(u)==find_rep(v) ? "Yes" : "No");
            }
        }
    }
    return 0;
}
