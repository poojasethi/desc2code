      #include<stdio.h>
      #define size 10
       
      int arr[size][size];
      int n;
       
      int getsum(int row, int col, int cursum)
      {
      int a, b, c;
      if(row==n-1)
      return (cursum+arr[row][col]);
      if(col==0)
      a=-32768;
      else
      a=getsum(row+1, col-1, arr[row][col]+cursum);
      b=getsum(row+1, col, arr[row][col]+cursum);
      if(col==n-1)
      c=-32768;
      else
      c=getsum(row+1, col+1, arr[row][col]+cursum);
      if(a>b && a>c)
      return a;
      else if(b>c)
      return b;
      else
      return c;
      }
       
      int main()
      {
      int t;
      int i, j;
      int sum[size];
      scanf("%d", &t);
      while(t>0)
      {
      scanf("%d", &n);
      for(i=0; i<n; i++)
      for(j=0; j<n; j++)
      scanf("%d", &arr[i][j]);
      for(i=0; i<n; i++)
      sum[i]=getsum(0, i, 0);
      j=sum[0];
      for(i=1; i<n; i++)
      if(j<sum[i])
      j=sum[i];
      printf("%d\n", j);
      t--;
      }
      return 0;
      }