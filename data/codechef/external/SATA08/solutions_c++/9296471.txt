#include <iostream>
#include <vector>
#include <string.h>
// #include <map>
#include <unordered_map>
#define map unordered_map

using namespace std;

typedef long long ll;
typedef vector<ll> vi;

int n,d,k;
ll num[20];
map<ll,ll> din;

ll code(ll mod){
  ll sol = 0;
  ll pot14 = 1;
  for(int i = 0; i < 10; ++i){
    sol += pot14*num[i];
    pot14 *= 15;
  }
  sol += pot14*mod;
  return sol;
}

ll decode(ll hachi){
  for(int i = 0; i < 10; ++i){
    num[i] = hachi%15;
    hachi /= 15;
  }
  return hachi;
}

ll dina(ll hachi){
  if(din.find(hachi) == din.end()){
    ll mod = decode(hachi);
    ll suma = 0;
    for(int i = 0; i < 10; ++i) suma += num[i];
    if(suma == 0 and mod == k) din[hachi] = 1;
    else if(suma == 0) din[hachi] = 0;
    else{
      din[hachi] = 0;
      for(int i = 0; i < 10; ++i){
	if(num[i]){
	  --num[i];
	  ll mod2 = 10*mod+i;
	  mod2 %= d;
	  din[hachi] += dina(code(mod2));
	  ++num[i];
	}
      }
    }
  }
  return din[hachi];
}

int main(){
  string s;
  cin >> s >> d >> k;
  n = s.size();
  memset(num,0,sizeof(num));
  for(int i = 0; i < n; ++i) ++num[s[i]-'0'];
  cout << dina(code(0)) << '\n';
}