/** O poor unthinking human heart ! Error will not go away logic and reason are slow to penetrate.
	We cling with both arms to false hopes , refusing to give way to the wieghtest proofs against it.
	Embracing it with all our strength.
	In the end it goes,ripping our veins and draining our heart's blood,until regaining consiousness
	we fall into snares of delusion all over again 
	*/
 
 
#include<bits/stdc++.h>
#define rep(i,n) for( int (i)=0;(i)<(int)(n);(i)++)
#define sz(v) (int)((v).size())
#define FOR(i,k,n) for(int i=(k);i<(int)(n);i++)
#define VI vector<int>
#define VS vector <string>
#define SORT(c) sort((c).begin(),(c).end())
#define pb push_back
#define gc getchar_unlocked
#define Q queue<int> 
#define s(n) scanf("%d",&n)
#define sll(n) scanf("%lld",&n)
#define p(n) printf("%d",n)
#define pll(n) printf("%lld",n)
#define mem(s,v) memset(s,v,sizeof s)
#define pp pair<int,int> 
#define pp1 pair<int,pair<int,int> > 
#define INF 999999
#define VP vector<pp> 
#define QP queue<pp>
#define endl '\n'
typedef long long ll;
using namespace std;
int ar[17];
int got[17];
int d;
ll dp[1002][(1<<15)+2];
int maxpos;
int loop=0;
int mk;
int filled(int m)
{
		int numfilled=0;
		for(int i=0;i<=maxpos;i++){
				if(m&(1<<i))
						numfilled++;;
		}
		return numfilled;
}
ll findans(ll k,int done)
{
		k=k%d;
		//cout<<k<<endl;
		//for(int i=14;i>=0;i--)
		//		cout<<(done&(1<<i))<<" ";
		//cout<<endl;
			int numfilled=filled(done);
		//	cout<<numfilled<<"--"<<endl;
 
		if(dp[k][done]!=-1){
				//cout<<k<<" "<<done<<endl;
				//cout<<"h"<<dp[k][done]<<endl;
				return dp[k][done];
			}
 
 
	
		
		if(numfilled==maxpos+1){
				//if ((k==0))
				//cout<<k<<endl;
					
				dp[k][done]= ((k%d)==mk);
 
		}else{
				//cout<<done<<endl;
				ll ans=0;
			for(int i=0;i<=maxpos;i++){
 
				if((~done)&(1<<i)){
				//		cout<<"now at"<<i<<endl;
						int value=done;
						//cout<<value<<endl;
						value=(value|(1<<i));
					//	if(loop<30)
					//	{
		
					//	cout<<"using"<<ar[i]<<"at"<<numfilled<<endl;
					//	for(int i=14;i>=0;i--){
					//		if((value&(1<<i)))
					//			cout<<1<<" ";
					//		else
					//				cout<<0<<" ";
 
								
					//}
					//	cout<<endl;
						
					//	loop++;
					//	}
						int val1=ar[i]%d;
						int val2=got[numfilled];
						//cout<<val1<<" "<<val2<<endl;
						int val=(val1*val2)%d;
 
						//if(!(numfilled==maxpos && ar[i]==0)){
							//if(loop<30){
							//	cout<<val1<<" "<<val2<<endl;
							//cout<<"using "<<ar[i]<<endl;
							//loop++;
							//}
							//cout<<val<<" "<<k<<endl;
							ans=ans+findans(k+val,value);
						//}
					//	cout<<"re"<<endl;
 
				}	
			}
			
			dp[k][done]= ans;
 
		}
		return dp[k][done];
}
int main()
{
	ios_base::sync_with_stdio(false);cin.tie(NULL);
 
		#ifndef ONLINE_JUDGE
    	freopen("in.txt", "r", stdin);
		#endif
		ll n,k;
		cin>>n>>d>>k;
		mk=k;
		
			for(int j=0;j<=1000;j++){
					for(int k=0;k<=(1<<15)+1;k++){
							dp[j][k]=-1;
						}
			}
 
		//cout<<"done"<<endl;
		//exit(0);
		ll num;num=n;
		int pos=0;
		rep(i,16)
			ar[i]=0;
 
		while(num>0){
				int k=num%10;
				ar[pos]=k;
				pos++;
				num=num/10;
		}
		maxpos=pos-1;
		//rep(i,15)
		//	cout<<ar[i]<<" ";
		//exit(0);
		for(int i=15;i>=0;i--){
				ll val=pow(10,i);
				got[i]=val%d;
		}
		ll done=1<<15;
		//cout<<"done"<<endl;
		//exit(0);
	//	cout<<endl;
	//	for(int i=14;i>=0;i--)
		//		cout<<(done&(1<<i))<<" ";
		//cout<<endl;
		//exit(0);
		//cout<<k<<" "<<done<<endl;
		ll ans=findans(0,done);
		int count[10];
		rep(i,10)count[i]=0;
		for(int i=0;i<=maxpos;i++){
				count[ar[i]]++;
 
		}
		//for(int i=0;i<=9;i++)
		//		cout<<count[i]<<" ";
 
		//cout<<ans<<endl;
		//exit(0);
		//cout<<ans<<endl;
		for(int i=0;i<=9;i++){
				int ct=count[i];
				//cout<<ct<<endl;
				while(ct!=0){
						ans=ans/ct;
						ct--;
				}
		}
		cout<<ans<<endl;
}