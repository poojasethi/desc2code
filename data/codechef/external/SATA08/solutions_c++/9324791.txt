#include<iostream>
#include<fstream>
#include<cstring>
#include<algorithm>
#include<vector>
#include<queue>
#include<cmath>
#include<map>
#define in cin
#define out cout
using namespace std;
typedef long long ll;
const int Nmax = 16001;
map<vector<int>,int> M;
queue<vector<int>> q;
vector<int> G[Nmax],C[Nmax];
vector< vector<ll> > dp;
int cf[10],D,K,N;
int main(){
    #ifndef ONLINE_JUDGE
    ifstream in("test.in");
    ofstream out("test.out");
    #endif
    string s; in>>s>>D>>K;
    for(int i=0;i<s.size();i++) cf[int(s[i])-'0']++;
    vector<int> A(10,0);
    M[A]=++N,q.push(A);
    while(!q.empty()){
        vector<int> p=q.front(),nx; q.pop();
        for(int i=0;i<10;i++) if(p[i]<cf[i]){
            nx=p,nx[i]++;
            if(!M[nx]) M[nx]=++N,q.push(nx);
            G[M[p]].push_back(M[nx]);
            C[M[p]].push_back(i);
        }
    }
    dp=vector< vector<ll> >(N+1,vector<ll>(D,0));
    dp[1][0]=1;
    for(int i=1;i<N;i++){
        for(int j=0;j<G[i].size();j++){
            for(int k=0;k<D;k++){
                dp[G[i][j]][ (k*10+C[i][j])%D ] += dp[i][k];
            }
        }
    }
    out<<dp[N][K]<<'\n';
    return 0;
}
