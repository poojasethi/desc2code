#include <bits/stdc++.h>
using namespace std;
const int maxn = 15;
long long f[1000][1<<maxn],n;
int d,k,a[20],m;
bool del[10];
int main(){

    cin>>n>>d>>k;
    if (n==0){
        if (k>0) cout<<0; else cout<<1;
        return 0;
    }
    while (n){
        a[m++]=n%10;n/=10;
    }
    memset(del,0,sizeof del);
    for (int i=0; i<m; i++)
    if (!del[a[i]]){
        del[a[i]]=1;
        f[a[i]%d][1<<i]++;
    }
    for (int ni,i=1; i<(1<<m); i++){
        for (int nj,j=0; j<d; j++){
            if (f[j][i]){
                memset(del,0,sizeof del);
                for (int z=0; z<m; z++){
                    if (((i>>z)&1)==0&&!del[a[z]]){
                        del[a[z]]=1;
                        ni=i|(1<<z);
                        nj=(j*10+a[z])%d;
                        f[nj][ni]+=f[j][i];
                    }
                }
            }
        }
    }
    cout<<f[k][(1<<m)-1];
}
