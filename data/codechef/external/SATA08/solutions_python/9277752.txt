#include<bits/stdc++.h>
using namespace std;
typedef long long ll;

int freq[11];
ll dp[1<<15][1003];
int d, k, sz;
string n;
ll solve(int mask, int rem){
	if(dp[mask][rem] > -1)
		return dp[mask][rem];
	if(mask == ((1<<sz) - 1)){
		if(rem == k) return 1;
		return 0;
	}
	ll ans = 0;
	for(int i = 0; i < sz; i++){
		if(!(mask&(1<<i))){
			ans += solve((1<<i)|mask, (rem*10 + n[i] - '0')%d);
		}
	}
	dp[mask][rem] = ans;
	//cout<<mask<<" "<<rem<<" "<<ans<<endl;
	return ans;
}

ll fact[20];

int main(){
	memset(dp, -1, sizeof(dp));
	fact[0] = 1;
	for(ll i = 1; i < 20; i++){
		fact[i] = i*fact[i - 1];
	}
	cin>>n;
	sz = (int)n.size();
	scanf("%d%d",&d, &k);
	for(int i = 0; i < sz; i++)
		freq[n[i] - '0']++;
	ll ans = solve(0, 0);
	for(int i = 0; i < 10; i++){
		ans /= fact[freq[i]];
	}
	printf("%lld\n",ans);	
	return 0;
}