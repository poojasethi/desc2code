//  O_o  =>  -_-
//
//  Created by shikhar thakur
//

#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstdlib>
#include <map>
#include <stack>
#include <queue>
#include <functional>
#include <vector>
#include <string>
#include <set>
#include <cstring>
#include <iomanip>
#include <cmath>
#define ll long long
#define pb push_back
#define mp make_pair
#define gcd(a,b) __gcd(a,b)
#define fillm(v,val) memset(v,val,sizeof(v))
#define _iosync ios_base::sync_with_stdio(false);cin.tie(0);
const ll mod = 1000000007ll;
const double pi = acos(-1.0);

using namespace std;

ll n, d, k;
vector<ll> num;
ll l;
ll A[1 << 15][1005];

ll f(ll x, ll r)
{
	ll i = __builtin_popcountll(x);
	if (i == l && r == k)
		return 1;
	if (i == l)
		return 0;
	if (A[x][r] != -1)
		return A[x][r];
	ll ans = 0;
	ll rep = 0;
	for (ll j = 0; j < l; j++)
	{
		if (x & (1 << j))
			continue;
		if (rep & (1 << num[j]))
			continue;
		ans += f(x ^ (1 << j), ((r * 10) + num[j]) % d);
		rep |= (1 << num[j]);
	}
	return A[x][r] = ans;
}

int main()
{
#ifdef LOCAL_SYS
	freopen("input.txt", "r", stdin);
#endif
	_iosync
	cin >> n >> d >> k;
	while (n > 0)
	{
		num.pb(n % 10);
		n /= 10;
	}
	l = num.size();
	fillm(A, -1);
	cout << f(0, 0) << "\n";
	return 0;
}