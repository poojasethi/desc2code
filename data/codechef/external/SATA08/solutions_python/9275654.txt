#include<bits/stdc++.h>

using namespace std;
typedef long long ll;
int ar[17];
ll dp[34000][1107];
int DV, K;
int n = 0;

int c = 1;
ll  f(int idx, int bmsk, int modulo) {

	if (idx == n) {
		if (modulo == K)
			return 1;
		else
			return 0;
	}
	if (dp[bmsk][modulo] != -1)
		return dp[bmsk][modulo];

	ll ans = 0;
	int xyar[10] = {0};

	for (int i = 0; i < n; i++) {
		if ( (bmsk & (1 << i)) == 0) {
			if (xyar[ar[i]] == 0) 
			{
				//cout <<ar[i]<<"^^"<<endl;
				//ll x = (modulo * 10 + ar[i]) % DV;

				ans += f ( idx+1, bmsk | (1 << i), (modulo * 10 + ar[i])%DV);
				xyar[ar[i]] = 1;
			}
		}
	}

	dp[bmsk][modulo] = ans;
	return ans;

}
int main()
{
	memset(dp, -1LL, sizeof(dp));
	ll  num;
	cin >> num >> DV >> K;
	
	if (num == 0) {
		if (K > 0) cout <<"0\n";
		else cout <<"1\n";
		return 0;
	}
	while (num > 0) {
		ar[n] = num % 10;
		num /= 10;
		n++;
	}
	cout <<f(0,0,0)<<endl;
	return 0;
}

