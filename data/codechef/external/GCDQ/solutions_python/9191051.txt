def gcd(a, b):
    if a%b==0:
        return b
    return gcd(b,a%b)

for i in range(int(raw_input())):
    n,q=raw_input().split()
    n,q=int(n),int(q)
    a=map(int,raw_input().split())
    prefix=[]
    suffix=[]
    prefix.append(a[0])
    temp=a[0]
    for k in range(1,n):
        temp=gcd(temp,a[k])
        prefix.append(temp)
    temp=a[n-1]
    suffix.append(a[n-1])
    for k in range(n-2,-1,-1):
        temp=gcd(temp,a[k])
        suffix.append(temp)
    suffix.reverse()
    for j in range(q):
        l,r=raw_input().split()
        l,r=int(l),int(r)
        if l==1:
            print suffix[r]
        elif r==n:
            print prefix[l-2]
        else:
            print gcd(suffix[r],prefix[l-2])
    
