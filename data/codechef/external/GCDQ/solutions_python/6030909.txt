# cook your code here
def gcd(i,j):
	if i%j==0:
		return j
	return gcd(j,i%j)

t=int(raw_input())
while t!=0:
	n,q=raw_input().split() 
	n=int(n)
	q=int(q)
	lr=[None]*n
	rl=[None]*n
	a=[None]*n
	a=raw_input().split() # number of elements
	i=1
	j=n-2
	lr[0]=int(a[0])
	rl[n-1]=int(a[n-1])
	while i<n or j>=0:
		if int(a[i]>int(lr[i-1])):
			lr[i]=gcd(int(a[i]),int(lr[i-1]))
		else:
			lr[i]=gcd(int(lr[i-1]),int(a[i]))
		if a[j]>int(rl[j+1]):
			rl[j]=gcd(int(a[j]),int(rl[j+1]))
		else:
		    rl[j]=gcd(int(rl[j+1]),int(a[j]));
		j=j-1
		i=i+1
		#print "here"
	#print lr
	#print rl
	while q!=0:
			x,y=raw_input().split()
			x=int(x)-1
			y=int(y)-1
			if x-1<0:
			    print rl[y+1]
			elif y+1>n-1:
			    print lr[x-1]
			else:
			    print gcd(int(lr[x-1]),int(rl[y+1]))
			q=q-1
	t=t-1
