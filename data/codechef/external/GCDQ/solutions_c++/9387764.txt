#include<bits/stdc++.h>

using namespace std;

#define ll long long int
#define T ll t; cin>>t ; while(t--)
#define fin freopen("input.txt","r",stdin)
#define fout freopen("o1.txt","w",stdout)
#define fastio ios_base::sync_with_stdio(false); cin.tie(0)
#define pf(n) cout<<n<<endl;

ll gcd(ll a,ll b){
        if(b==0) return a;
        return gcd(b,a%b);
}

int main(){
        fastio;
        T {
                ll n,q;
                cin>>n>>q;

                ll a[n+5];

                for(ll i=1;i<=n;i++) cin>>a[i];

                ll pre[n+5],suf[n+5];

                pre[1]=a[1];
                for(ll i=2;i<=n;i++) pre[i]=gcd(pre[i-1],a[i]);

                suf[n]=a[n];
                for(ll i=n-1;i>0;i--) suf[i]=gcd(suf[i+1],a[i]);

                while(q--){
                        ll l,r;
                        cin>>l>>r;
                        if(l!=1 && r!=n)
                                cout<<(gcd(pre[l-1],suf[r+1]))<<endl;
                        else if(l==1)
                                cout<<suf[r+1]<<endl;
                        else
                                cout<<pre[l-1]<<endl;
                }
        }

        return 0;
}
