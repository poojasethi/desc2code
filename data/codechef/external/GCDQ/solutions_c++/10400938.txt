#include <bits/stdc++.h>

using namespace std;

typedef long long int ll;

int gcd(int a, int b)
{
	while(b)
	{
		int t = a % b;
		a = b;
		b = t;
	}
	return a;
}

int main()
{
	int T;
	scanf("%d",&T);
	while(T--)
	{
		int N, Q;
		scanf("%d%d",&N,&Q);
		int* A = new int[N];
		for(int i = 0;  i < N; i++)
			scanf("%d",&A[i]);
		int* ltor = new int[N];
		int* rtol = new int[N];
		ltor[0] = A[0];
		for(int i = 1; i < N; i++)
			ltor[i] = gcd(max(A[i], ltor[i - 1]), min(A[i], ltor[i - 1]));
		rtol[N - 1] = A[N - 1];
		for(int i = N - 2; i >= 0; i--)
			rtol[i] = gcd(max(A[i], rtol[i + 1]), min(A[i], rtol[i + 1]));
		int L, R;
		while(Q--)
		{
			scanf("%d%d",&L,&R);
			L--, R--;
			if(L == 0)
				printf("%d\n",rtol[R + 1]);
			else if(R == N - 1)
				printf("%d\n",ltor[L - 1]);
			else
				printf("%d\n",gcd(ltor[L - 1], rtol[R + 1]));
		}
	}
	return 0;
}
