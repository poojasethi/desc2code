#include<bits/stdc++.h>
using namespace std;
int gcd(int a,int b)
{
	if(a==0) return b;
	else return gcd(b%a,a);
}
int main()
{
	std::ios::sync_with_stdio(false);
//	cout<<gcd(12,9);
	int t,n,q;
	cin>>t;
	int a[100006];
	while(t--)
	{
		cin>>n>>q;
		for(int i=1;i<=n;i++)
		{
			cin>>a[i];
		}
		int pre[n+1];
		int suf[n+1];
		pre[1]=a[1];
		for(int i=2;i<=n;i++)
		{
			pre[i]=gcd(pre[i-1],a[i]);
		}
		suf[n]=a[n];
		for(int i=n-1;i>=1;i--)
		{
			suf[i]=gcd(suf[i+1],a[i]);
		}
		while(q--)
		{
			int l,r;
			cin>>l>>r;
			if(r==n&&l!=1)
				cout<<pre[l-1]<<endl;
			if(l==1&&r!=n)
				cout<<suf[r+1]<<endl;
			if(l==1&&r==n)
				cout<<0<<endl;
			if(l!=1&&r!=n)
			cout<<gcd(pre[l-1],suf[r+1])<<endl;
		}
	}
	
}