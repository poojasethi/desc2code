#include<stdio.h>
long long int gc1[100006], gc2[100006],l[100006],h[100006],a[100006];
long long int gcd(long long int a, long long int b)
{
	if (b == 0)
		return a;
	return gcd(b, a%b);
}
int main()
{
	long long int t, n, q, i, res;
	scanf("%lld", &t);
	while (t--)
	{
		scanf("%lld%lld", &n, &q);
		for (i = 1; i <= n; i++)
		{
			scanf("%lld", &a[i]);
		}
		for (i = 0; i < q; i++)
		{
			scanf("%lld", &l[i]);
			scanf("%lld", &h[i]);
		}
		gc1[0] = 0;
		gc1[1] = a[1];
		
		for (i = 2; i <= n; i++)
		{
			gc1[i] = gcd(gc1[i - 1], a[i]);
		}
		gc2[n] = a[n];
		gc2[n+1] = 0;
		for (i = n - 1; i >= 2; i--)
		{
			gc2[i] = gcd(gc2[i + 1], a[i]);
		}
		for (i = 0; i < q; i++)
		{
			res = gcd(gc1[l[i] - 1], gc2[h[i] + 1]);
			printf("%lld\n", res);
		}
	}
	getchar();
	getchar();
	return 0;
}