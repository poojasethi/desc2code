#include<stdio.h>
int gcd2(int a,int b)
{
if(b==0) return a;
else
return gcd2(b,a%b);
}
int gcd(int a[], int l, int r, int n)
{
    int i,minm=1000000;
    for(i=0;i<l;i++)
    {
        if(a[i]<minm) minm=a[i];
    }
    for(i=r+1;i<n;i++)
    {
        if(a[i]<minm) minm=a[i];
    }
    int flag=1;
 //   printf("yo %d\n",minm);
    while(minm--)
    {   flag=1;
        for(i=0;i<l;i++)
        {
            if(a[i]%(minm+1)!=0)
            {
                flag=0;
                continue;
            }
        }
        for(i=r+1;i<n;i++)
        {
            if(a[i]%(minm+1)!=0)
            {
                flag=0;
                continue;
            }
        }
        if(flag==1)
        {
            return minm+1;
        }
    }
}
int gcdr(int a[],int l, int r)
{
    int i,minm=1000000;
    for(i=l;i<=r;i++)
    {
        if(a[i]<minm) minm=a[i];
    }
    int flag=1;
    while(minm--)
    {
        flag=1;
        for(i=l;i<=r;i++)
        {
            if(a[i]%(minm+1)!=0)
            {
                flag=0;
                continue;
            }
        }
        if(flag==1) return minm+1;
    }
}
int a[100002];
int dp1[100002],dp2[100002];
int main()
{
    int t,q,n,l,r,i,j;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d",&n,&q);
        for(i=0;i<n;i++)
        {
            scanf("%d",&a[i]);
        }
        dp1[0]=a[0];
         for(i=1;i<n;i++)
        {
            dp1[i]=gcd2(dp1[i-1],a[i]);
        }
        dp2[n-1]=a[n-1];
        for(i=n-2;i>=0;i--)
        {
            dp2[i]=gcd2(dp2[i+1],a[i]);
        }
        while(q--)
        {
            scanf("%d%d",&l,&r);
            l--;r--;
         //   printf("%d  %d\n",dp[l-1],dp[r+1]);
            if(l>0&&r<n-1)
            {
               /* int b[2];
                b[0]=dp1[l-1];
                b[1]=dp2[r+1];
                printf("%d\n",gcdr(b,0,1));*/
                printf("%d\n",gcd2(dp1[l-1],dp2[r+1]));
            }
            else if(l>0) printf("%d\n",dp1[l-1]);
            else if(r<n-1) printf("%d\n",dp2[r+1]);
        }
    }
    return 0;
}

