#include<cstdio>
#include<algorithm>
#include<cstring>
#include<iostream>

#define LL long long

using namespace std;

const int maxn=1e5+5;

LL fir[maxn];
LL sec[maxn];
LL a[maxn];

void solve(int ,int );

int main()
{
	int test;
	scanf("%d",&test);
	while(test--){
		int n,q;
		scanf("%d %d",&n,&q);
		for(int i=1;i<=n;i++)
			scanf("%lld",&a[i]);
		solve(n,q);
	}
	return 0;
}

LL gcd(LL a,LL b)
{
	if(b==0)
		return a;
	return gcd(b,a%b);
}

void init(int n)
{
	fir[1]=a[1];
	for(int i=2;i<=n;i++){
		fir[i]=gcd(fir[i-1],a[i]);
	}
	sec[n]=a[n];
	for(int i=n-1;i>0;i--){
		sec[i]=gcd(sec[i+1],a[i]);
	}
}

void solve(int n,int q)
{
	init(n);
	for(int i=1;i<=q;i++){
		int l,r;
		scanf("%d %d",&l,&r);
		LL ans;
		if(l==1)
			ans=sec[r+1];
		else if(r==n)
			ans=fir[l-1];
		else 
			ans=gcd(fir[l-1],sec[r+1]);
		printf("%lld\n",ans);
		
	}
	return ;
}