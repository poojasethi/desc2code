#include <iostream>
#include<stdio.h>
#include<vector>
#include<cmath>
#include<algorithm>
#define ll long long
#define gc getchar_unlocked
using namespace std;

void scanll(ll &x)
{
    register ll c = gc();
    x = 0;
    int neg = 0;
    for(;((c<48 || c>57) && c != '-');c = gc());
    if(c=='-') {neg=1;c=gc();}
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
    if(neg) x=-x;
}

ll gcd(ll a,ll b)
{
    if(a%b == 0)
        return b;
    return gcd(b,a%b);
}

int main()
{
    ll t;
    scanll(t);
    while(t--)
    {
        ll n,q;
        scanll(n); scanll(q);
        ll prefix[n+2]; 
        ll suffix[n+2];
        ll arr[n+1];
        
        prefix[0] = prefix[n+1] = suffix[0] = suffix[n+1] = 1;
        
        for(ll i=1; i<=n; i++)
            scanll(arr[i]);
        
        prefix[1] = arr[1];
        for(ll i=2; i<=n; i++)
            prefix[i] = gcd(prefix[i-1],arr[i]);
        suffix[n] = arr[n];
        for(ll i=n-1; i>=1; i--)
            suffix[i] = gcd(suffix[i+1],arr[i]);
            
        ll left,right;
        for(ll i=0; i<q; i++)
        {
            scanll(left); scanll(right);
            ll ans;
            if(left != 1 && right != n)
                ans = gcd(prefix[left-1],suffix[right+1]);
            else if(left == 1)
                ans = suffix[right+1];
            else ans = prefix[left-1];
            printf("%lld\n",ans);
        }
        
    }
    
    return 0;
}