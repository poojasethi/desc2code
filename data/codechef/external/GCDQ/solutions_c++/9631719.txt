#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
ll a[100005];
ll prefix[100005]={0};
ll suffix[100005]={0};
int main()
{
    int t;
    scanf("%d",&t);
    while(t--){
     ll n;ll q;
     scanf("%lld %lld",&n,&q);
     for(ll i=1;i<=n;i++)
        scanf("%lld",&a[i]);
     prefix[1]=a[1];
     suffix[n]=a[n];
     for(ll i=2;i<=n;i++)
     prefix[i]=__gcd(prefix[i-1],a[i]);

     for(ll i=n-1;i>=1;i--)
        suffix[i]=__gcd(suffix[i+1],a[i]);

        for(ll i=1;i<=q;i++){
                 ll ans;
                ll x,y;
            scanf("%lld %lld",&x,&y);
            if(x==1 && y<n)
                ans=suffix[y+1];
                else if(x>1 && y==n)
                ans=prefix[x-1];
            else
        ans=__gcd(prefix[x-1],suffix[y+1]);
        printf("%lld\n",ans);
        }



    }
    return 0;
}
