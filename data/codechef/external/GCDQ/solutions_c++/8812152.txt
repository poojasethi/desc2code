#include <iostream>
#include <cstdio>

using namespace std;

int gcd(int a,int b)
{
    if(b == 0)
        return a;
    else
        return gcd(b,a%b);
}

int main()
{
    int t,n,q,i,l,r;
    scanf("%d",&t);

    while(t--)
    {
        scanf("%d",&n);
        scanf("%d",&q);
        int a[n+1],prefix[n+1],suffix[n+2];

        for(i = 1 ; i <= n ; ++i)
            scanf("%d",&a[i]);

        prefix[1] = a[1];
        for(i = 2 ; i <= n ; ++i)
            prefix[i] = gcd(prefix[i-1],a[i]);


        suffix[n] = a[n];
        for(i = n-1 ; i > 0 ; --i)
            suffix[i] = gcd(suffix[i+1],a[i]);

        for(i = 0 ; i < q ; ++i)
        {
            scanf("%d",&l);
            scanf("%d",&r);

            if(l != 1 and r != n)
             printf("%d\n",gcd(prefix[l-1],suffix[r+1]));

           else  if( l == 1)
             {
                printf("%d\n",suffix[r+1]);
             }
           else 
             {
               printf("%d\n",prefix[l-1]);
             }
        }
    }
    return 0;
}
