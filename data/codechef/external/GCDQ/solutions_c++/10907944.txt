#include <bits/stdc++.h>

using namespace std;

const int maxn = (int)1e5+10;
int a[maxn], fg[maxn], bg[maxn];

int gcd( int x, int y )
 {
       if( x < y )
          std::swap( x, y );

       while( y > 0 )
       {
          int f = x % y;
          x = y;
          y = f;
       }
       return x;
 } 
 
int main()
{
	std::ios::sync_with_stdio(false);;
	int t, sum_n=0;
	cin>>t;
	while(t--)
	{
		int n,q;
		cin>>n>>q;
		sum_n += n;
		for(int i=1;i<=n;i++)
		{
			cin>>a[i];
		}
		fg[0] = 0;
		for(int i=1;i<=n;i++)
		{
			fg[i]= gcd(fg[i-1],a[i]);
			//cout<<fg[i]<<" ";
		}
		//cout<<endl;
		bg[n+1]=0;
		for(int i=n;i>=1;i--)
		{
			bg[i] = gcd(bg[i+1],a[i]);
			//cout<<bg[i]<<" ";
		}
		//cout<<endl;
		while(q--)
		{
			int l,r;
			cin>>l>>r;
			int ans = gcd(fg[l-1],bg[r+1]);
			cout<<ans<<endl;
		}
	}
	return 0;
}
