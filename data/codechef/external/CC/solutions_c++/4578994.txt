#include <iostream>
#include <vector>
#include <cstdio>
#include <iterator>
#define max 1000000
using namespace std;
 
 
int *processed;
int n;
int search_next(int i)
{
 
	for(int j=i+1;j<n;j++)
	{
		if(processed[j]==0)
			return j;
	}
	return -1;
 
}

int main()
{
 	
 	int t;
	cin>>t;
	
	while(t--)
	{
	int p=0;
    int e;
    scanf("%d%d",&n,&e);
    processed=new int[n];
    vector<int> vec;
    vector <int> *adj =new vector<int> [n];
    for(int i=0;i<e;i++)
    {
        int a,b,w;
   		scanf("%d%d",&a,&b);
        adj[a].push_back(b);
        adj[b].push_back(a);
        
    }
	for(int j=0;j<n;j++)
	{
		processed[j]=0;
	}
	int i=-1;
	int count=0;
    while(1)
	{
		i=search_next(i);
		if(i==-1)
			break;
		else
		{
			count++;
			vec.push_back(i);
			while(!vec.empty())
			{
				if(p==n)
					break;
				int cur=vec.back();
			    processed[cur]=1;
				p++;
				vec.pop_back();
				while(!(adj[cur].empty()))
				{	
					int a=adj[cur].back();
					if(!processed[a])
						vec.push_back(a);
					adj[cur].pop_back();
				}            
			}
		}	
	}
	cout<<count<<"\n";
}
	return 0;
 
}  