#include<bits/stdc++.h>
#define LL long long
using namespace std;
pair<LL,LL>pa[30010];
int bs(LL x, int n)
{
    int start=0, end=n-1, mid= (start+end)>>1;
    while(end-start>=2)
    {
        if(pa[mid].first<=x)
        {
            start=mid;
        }
        else end=mid-1; 
        mid= (start+end)>>1;
    }
    while(1)
    {
        if(pa[end].first<x) return end; end--;
    }

}
main()
{
    int t,i,j,N;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d",&N);
        for(i=0;i<N;i++)
        {
            scanf("%lld",&pa[i].second);  //starting   
            scanf("%lld",&pa[i].first); // finishing time
        }
        pa[N].first= pa[N].second= - 1000000000000LL; // append it at the beginning so that the if a number less than x is not found it returns 0
        N++;
        sort(pa,pa+N);
        
        // now calculate P[j];
        LL dp[N+10];
        int P[N+10];
        P[0]=0;
        for(j=1;j<N;j++)
        {
            P[j]= bs(pa[j].second,j);
        }
        dp[0]=0;
        for(i=1;i<N;i++)
        {
            dp[i]= max(dp[i-1], dp[P[i]]+ pa[i].first- pa[i].second+1);
        }
        printf("%lld\n",dp[N-1]);
    }
   return 0;
}