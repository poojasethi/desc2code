#include<stdio.h>
#define s(x) scanf("%lld",&x)
#define M 1000000007
typedef long long int ll;
ll f(ll a,ll b,ll c)
{

ll ans=1 ;                           
  while(b !=0 ) {
     
           if(b%2 == 1) {             
             ans = ans*a ; 
              ans = ans%c;      
           }
   a = a*a;                 
   a %= c;                   
   b /= 2;                
}
return ans;
}
int main()
{
	//ll t;
	//s(t);
	ll a,b,c;
	s(a);s(b);s(c);
	while((a!=-1)||(b!=-1)||(c!=-1))
	{
		ll z; 
		
		if(b==0&&c==0)
		z=0;
		else
		{
		   z=f(b,c,M-1);
		}
		if(a==0&&z==0)
		z=0;
		else
     	{
		z=f(a,z,M);}
		//if(z>0)
		printf("%lld\n",z);
		//else
		s(a);s(b);s(c);
	}
	return 0;
}