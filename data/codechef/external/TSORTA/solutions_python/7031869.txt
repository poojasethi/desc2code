#include<bits/stdc++.h>
using namespace std;
typedef long long int LL;
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int a[100005],b[100005],c[100005];
        int p,q,r;
        scanf("%d",&p);
        for(int i=0;i<p;i++)
            scanf("%d",&a[i]);
        scanf("%d",&q);
        for(int i=0;i<q;i++)
            scanf("%d",&b[i]);
        scanf("%d",&r);
        for(int i=0;i<r;i++)
            scanf("%d",&c[i]);
            LL ans=0;
        for(int i=0;i<q;i++){
            if(i>=r)
             break;
            LL cnt1=upper_bound(a,a+min(p,i+1),b[i])-a;
            LL cnt2=lower_bound(c+i,c+r,b[i])-c;
            cnt2=r-cnt2;
            ans+=cnt1*cnt2;
        }
        printf("%lld\n",ans);
    }
    return 0;
}
