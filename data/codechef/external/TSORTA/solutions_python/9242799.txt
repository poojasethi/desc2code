#include <bits/stdc++.h>
using namespace std;

int a[100000];
int b[100000];
int c[100000];
int d[100000];

int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int p,q,r;
        scanf("%d",&p);
        for(int i=0;i<p;i++)
        {
            scanf("%d",&a[i]);
        }
        scanf("%d",&q);
        for(int i=0;i<q;i++)
        {
            scanf("%d",&b[i]);
        }
        scanf("%d",&r);
        for(int i=0;i<r;i++)
        {
            scanf("%d",&c[i]);
        }
        int index=0;
        for(int i=0;i<q;i++)
        {
            while(index<p&&index<=i&&b[i]>=a[index])
            {
                index++;
            }
            d[i]=index;
        }
        index=0;
        long long ans=0,sum=0;
        for(int i=0;i<r;i++)
        {
            while(index<q&&index<=i&&b[index]<=c[i])
            {
                sum=sum+d[index];
                index++;
            }
            ans=ans+sum;
        }
        printf("%lld\n",ans);
    }
}
