#include<bits/stdc++.h>
using namespace std;
vector<int> a;
vector<int> b;
vector<int> c;
long long storage[100001];
int main(){


          int t;
          scanf("%d",&t);
          while(t--){
          int n , x ;
                       a.clear();
                       b.clear();
                       c.clear();
                       memset( storage , 0 , sizeof storage);
             scanf("%d",&n);
             for(int i = 0 ; i < n ; ++i ){
               scanf("%d",&x);
               a.push_back(x);
               }
                scanf("%d",&n);
             for(int i = 0 ; i < n ; ++i ){
               scanf("%d",&x);
               b.push_back(x);
               } scanf("%d",&n);
             for(int i = 0 ; i < n ; ++i ){
               scanf("%d",&x);
               c.push_back(x);
               }
               for(int i = 0 ; i <  min( b.size() , c.size() ) ;  ++i ){

                    int id = lower_bound( c.begin() + i ,  c.end() , b[i]) - c.begin();
                      storage[ i + 1 ] = c.size() - id;
                   }
                   for( int i = 1; i <= b.size() ; ++i )
                     storage[i]+=storage[i-1];
                    long long ans = 0;
                    for( int i = 0 ; i  < min(a.size(),b.size()) ; ++i ){

                        int id =  lower_bound( b.begin() + i  , b.end() , a[i] ) - b.begin();
                            ans = ans + (storage[b.size()] - storage[id]);
                           

                    }
                    printf("%lld\n",ans);

          }

}
