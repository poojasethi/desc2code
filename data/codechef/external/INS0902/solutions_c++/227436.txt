#include<iostream>
#include<vector>
#include<algorithm>
#include<string>
#include<sstream>
#include<set>
using namespace std;

int main(void)
{
	int cases,N,K;
	vector<set<int> > p;
	cin>>cases;
	while(cases--)
	{
		string str;
		cin>>N>>K;
		getline(cin,str);
		p.clear();
		p.resize(N);
		for ( int i=0; i<K; i++ )
		{
			getline(cin,str);
			stringstream s(str);

			int k;
			while(s>>k)
				p[k-1].insert(i);
		}
		sort(p.begin(),p.end());
		vector<set<int> >::iterator pit=p.begin(),it=pit;
		int count=1;
		for(++it; it!=p.end(); pit=it,++it)
			if(*it!=*pit)
				count++;
		cout<<count<<endl;
	}

}
