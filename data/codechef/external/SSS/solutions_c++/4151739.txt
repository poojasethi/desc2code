#include<bits/stdc++.h>
using namespace std;
long long int modu(long long int n,long long int p)
{
	long long int i,j,k,a=1,b;
/*	for(i=0;i<p;i++)
	{
		k=(n*i)%p;
		if(k==1)
		{
			return i;
		}
	}
	*/
	k=p-2;
	while(k>0)
	{
		if(k%2)
		{
		a=(a*n)%p;	
		}
		n=(n*n)%p;
		k=k/2;
	}
	return a%p;
}
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	long long int n,p,i,j,sum=1;
    	scanf("%lld%lld",&n,&p);
    	if(n>=p)
    	{
    		printf("0\n");
    		
    	}
    	else
    	{
    	
		for(i=1;i<p-n;i++)
    	{
    		sum= (sum*(i+n))%p;
    	}
    	sum=modu(sum,p);
    	sum=(sum*(p-1))%p;
    	sum=sum%p;
    	printf("%lld\n",sum);
    	
    	}
    }
	return 0;
}
