#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
int fn(ll a, ll n, ll b){
	ll p=a,z=1;
	while (n){
        while(n%2==0){
            n>>=1;
            p=(p*p)%b;
        }
        if (n%2){z=(z*p)%b; n--;}
	}
	return z;
}
int main(){
    int n;
    cin>>n;
    while(n--){
        ll n,p;
        scanf("%lld %lld",&n,&p);
        ll ans=1LL;
        for (ll i=n+1; i<=p-1; i++){
            ans = (ans*(i))%p;
        }
        ans = fn(ans,p-2,p);
        ans = (ans*(p-1))%p;
        cout<<ans<<"\n";
    }
}
