#include <cstdio>
#include <iostream>
using namespace std;
long long fast_exp(long long a,long long b,long long mod)
{
  long long res=1;
  if(b==0)
    return 1;
  res=fast_exp(a,b/2,mod);
  if(b%2)
    res=(((a*res)%mod)*res)%mod;
  else
    res=(res*res)%mod;
  return res;
}
int main()
{
    long long t,n,p,ans;
    scanf("%lld",&t);
    while(t--)
    {
      scanf("%lld%lld",&n,&p);
      if(n>=p)
      {
        printf("0\n");
        continue;
      }
      ans=1;
      for(long long i=n+1;i<p;i++)
        ans=(ans*i)%p;
      ans=fast_exp(ans,p-2,p);
      ans=(ans*-1)+p;
      ans=ans%p;
      printf("%lld\n",ans);
    }
    return 0;
}
