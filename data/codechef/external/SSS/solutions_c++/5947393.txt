#include<bits/stdc++.h>
using namespace std;
long long int power(long long int a, long long b, long long m)
{
    long long int x=1,y=a;
    while(b>0){
        if(b&1){
            x=(x*y)%m;
        }
        y=(y*y)%m;
        b>>=1;
    }
    return x;
}
int main()
{
    ios_base::sync_with_stdio(false);
    long long int t,p,n,i,ans,x;
    cin>>t;
    while(t--){
        cin>>n>>p;
        if(n>=p){
            cout<<"0\n";
        }
        else{
             x=1;
            for(i=n+1;i<p;i++){
                x=(x*i)%p;
            }
         ans=((p-1)*power(x,p-2,p))%p;
         cout<<ans<<"\n";
        }
    }
    return 0;
}
