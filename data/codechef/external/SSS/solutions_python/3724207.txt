def getAns(x,M):
    a=1
    b=x
    while b!=1:
        c=M/b
        a*=c
        a%=M
        b*=c
        b%=M
        if b>M/2:
            a=M-a
            b=M-b
    return a
t=int(input())
for i in range(t):
    n,p=map(int,raw_input().split())
    if n<p:
        f=1
        i=p-1
        while i>n:
            f=(f*i)%p
            i-=1
        r=p-1
        print (r*getAns(f,p))%p
    else:
        print "0"
