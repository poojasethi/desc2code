#include<iostream>
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,k,i;
		cin>>n>>k;
		char a[n+1];
		long int ans[n+1];
		for(i=1;i<=n;i++)
		cin>>a[i],ans[i]=0;
		while(k--)
		{
			int l,r,m;
			cin>>l>>r>>m;
			ans[l]=ans[l]+m;
			if((r+1)<=n)
			ans[r+1]=ans[r+1]-m;
			
		}
		for(i=2;i<=n;i++)
		ans[i]=ans[i]+ans[i-1];
		for(i=1;i<=n;i++)
		ans[i]=ans[i]%26;
//			for(i=1;i<=n;i++)
//		cout<<ans[i]<<" ";
		for(i=1;i<=n;i++)
		{
			int x=a[i]+ans[i];
		//	printf("%d",a[i]);
		//	a[i]=a[i]+ans[i];
			//	printf("%d",a[i]);
			if(x<97)
			x='z'-('a'-x-1);
			else if(x>122)
			x='a'+(x-'z'-1);
			a[i]=x;
			//printf("%d",a[i]);
			
		}
//		for(i=1;i<=n;i++)
//		cout<<ans[i]<<" ";
		for(i=1;i<=n;i++)
		cout<<a[i];
		cout<<"\n";
	
	}
}