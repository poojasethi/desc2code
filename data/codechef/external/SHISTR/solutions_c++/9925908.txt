#include<iostream>
using namespace std;
int main()
{
    int t;
    cin>>t;
    while(t--)
        {
            int n,q;
            cin>>n>>q;
            string str;
            cin>>str;

            int arr[n+1];
            int diff[n+2];

            int i;
            for(i=0;i<=n;i++)
                {
                    arr[i]=0;
                    diff[i]=0;
                }

            diff[n+1]=0;

            while(q--)
                {
                    int l,r,k;
                    cin>>l>>r>>k;

                    diff[l]+=k;
                    diff[r+1]-=k;
                }

            for(i=1;i<=n;i++)
                {
                    arr[i]=arr[i-1]+diff[i];
                }


            for(i=0;i<n;i++)
                {
                    int character=str[i];
                    if (arr[i+1]>=0)
                        {
                            int number=arr[i+1];
                            number=number%26;
                            if (character+number>122)
                                {

                                number=character+number-122;
                                number=number+96;

                                str[i]=number;
                                }
                            else
                                {character=character+number;
                            str[i]=character;}
                        }
                    else
                        {
                            int number=arr[i+1];

                            number=number*(-1);
                            number=number%26;
                            number=26-number;
                            if (character+number>122)
                                {

                                number=character+number-122;
                                number=number+96;

                                str[i]=number;
                                }
                            else
                                {character=character+number;
                            str[i]=character;}

                        }

                }
            cout<<str<<"\n";
        }
    return 0;
}
