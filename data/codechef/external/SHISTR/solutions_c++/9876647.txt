#include<stdio.h>
#include<string.h>
typedef int ll;
int main()
{
	ll n,q,i,t,a,b,k;
	char at[27]="abcdefghijklmnopqrstuvwxyz";
	ll pos[200];
	for(i=0;i<26;i++)
	pos[at[i]]=i+1;
	scanf("%d",&t);
	char ar[5006];
	ll cum[5005];
	while(t--)
	{
		memset(cum,0,sizeof(cum));
	scanf("%d%d",&n,&q);
	scanf("%s",ar);
	while(q--)
	{
		scanf("%d%d%d",&a,&b,&k);
		a--;
		b--;
		cum[a]=cum[a]+k;
		cum[b+1]=cum[b+1]-k;
}
   for(i=1;i<n;i++)
   cum[i]=cum[i]+cum[i-1];
   for(i=0;i<n;i++)
   {
   	if(cum[i]>=0)
   	ar[i]=(at[(pos[ar[i]]+cum[i]-1)%26]);
   	else
   	{
   		cum[i]=(cum[i]%26)+26;
   		 	ar[i]=(at[((pos[ar[i]]+cum[i]-1))%26]);
	   }
}
	for(i=0;i<n;i++)
	printf("%c",ar[i]);
	printf("\n");
}
return 0;
} 