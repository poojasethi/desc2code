#include <bits/stdc++.h>
using namespace std;

int N, M, a[30003], cnt[101101], total, ans[50005];
struct query
{
    int l, r, i;
    bool operator < (const query & op) const
    {
        return (l / 200 != op.l / 200) ? (l / 200 < op.l / 200) : r < op.r;
    }
} Q[50005];

void Add(int x)
{
    cnt[x]++;
    if (cnt[x] == 1) total++;
}

void Remove(int x)
{
    cnt[x]--;
    if (cnt[x] == 0) total--;
}

main()
{
    scanf("%d", &N);
    for (int i = 1; i <= N; i++) scanf("%d", &a[i]);
    scanf("%d", &M);
    for (int i = 1; i <= M; i++)
        scanf("%d %d", &Q[i].l, &Q[i].r), Q[i].i = i;

    sort(Q + 1, Q + M + 1);
    for (int i = 1, l = 1, r = 0; i <= M; i++)
    {
        while (r < Q[i].r) Add(a[++r]);
        while (r > Q[i].r) Remove(a[r--]);
        while (l > Q[i].l) Add(a[--l]);
        while (l < Q[i].l) Remove(a[l++]);
        ans[Q[i].i] = total;
    }

    for (int i = 1; i <= M; i++)
        printf("%d\n", ans[i]);
}
