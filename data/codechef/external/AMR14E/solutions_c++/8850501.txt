#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int
#define s(x) scanf("%d", &x)
#define sl(x) scanf("%lld", &x)
#define mod 1000000007

vector <int> p;
int isP[40000];
int mrk[200005];

void sieve()
{
    int i, j;
    for (i = 2; i < 40000; ++i) {
        if (!isP[i]) {
            p.pb(i);
            for (j = 2; i*j < 40000; ++j)
                isP[i*j] = 1;
        }
    }
}

int find_number_of_primes(int x, int y)
{
    memset(mrk, 0, sizeof(mrk));
    int lim = y-x, i, tmp, j;
    int ans = 0;
    for (i = 0; i < p.size(); ++i) {
        tmp = x % p[i];
        ans += (x <= p[i] && p[i] <= y);
        j = (tmp == 0 ? x : x + p[i] - tmp);
        for (j = j-x; j <= lim; j += p[i])
            mrk[j] = 1;
    }
    for (i = 0; i <= lim; ++i)
        ans += !mrk[i];
    return ans;
}

int check(int x)
{
    int ans = 3;
    for (int i = 2; i*i < x; ++i) {
        if (x % i == 0)
            ans += 2;
    }
    return !isP[ans];
}

int main()
{
    sieve();
    int t, a, b, ans, i;
    s(t);
    while (t--) {
        s(a);
        s(b);
        ans = find_number_of_primes(a, b);
        i = sqrt(a);
        if (i*i != a)
            ++i;
        for (; i*i <= b; ++i)
            ans += check(i*i);
        printf("%d\n", ans);
    }
    return 0;
}
