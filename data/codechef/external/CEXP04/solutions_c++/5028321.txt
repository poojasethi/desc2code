#include<iostream>
#include<vector>
#include<cmath>
#include<set>
using namespace std;
int a[1000000]={0};
void CircularPrime(vector<int>&an,  set<int>&st)
{

    int i,j,k;


    k=sqrt(1000000);

    for(i=3;i<=k;i+=2)
     if(a[i]==0)
       for(j=i*i ; j<=1000000 ;j+=2*i)
    {
        a[j]=1;

    }
    int p,t,l,n,c;
    int b[12];
    for(i=2;i<1000000;i++)
        if(i%2 && !a[i])
           {
             p=i;t=6;
              while(p)
              {
                  b[--t]=p%10;
                  p=p/10;
              }
                k=t;
                l=6-t;
            for(j=6; t!=6 ;j++)
                b[j]=b[t++];

             for(j=k+1,c=1 ; j<6 ; j++)
                {
                    for(t=j ,n=0; t<j+l; t++)
                {
                    n=n*10+b[t];

                }

                if(n%2==0 || a[n]==1)
                       {c=0;j=6;break;}
           }

             if(c)
              {  st.insert(i);
                  an.push_back(i);
                }
}
}
int main()
{
 vector<int>ans;
  set<int>st;
 CircularPrime(ans,st);
int t,k;
cin>>t;

for(int i=0;i<t ;i++)
      {cin>>k;
            if(st.find(k)!=st.end())
                cout<<"Yes\n";
                 else
                    cout<<"No\n";
      }
  return 0;
}
