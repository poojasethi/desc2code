#include <bits/stdc++.h>     
using namespace std;
int a[100005];
int main()
{
	long long int i,j,k,m,n,t,cnt=0;
	int flag=0;
	cin>>t;
	while(t--)
	{
		cin>>n;
		cnt=0;
		for(i=0;i<n;i++)
		{
			cin>>a[i];
		}
		// 1 0 2 4 6 5 7
		for(i=2;i<n;i++)
		{
			if(a[i]<a[i-1]&&a[i-1]>a[i-2])
			{
				cnt++;
			}
			else
			{
				if(a[i]>a[i-1]&&a[i-1]<a[i-2])
				{
					cnt++;
				}
			}
		}
		cout<<cnt<<endl;
	}
	
	
	
	
	
	
	
	
	
	
	
	return 0;
}