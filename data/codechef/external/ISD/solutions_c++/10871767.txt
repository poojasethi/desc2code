#include<iostream>
#include<stdio.h>
#include<map>
#include<math.h>
#include<string.h>
#include<vector>
#include<queue>
#include<list>
#include<iomanip>
#include<algorithm>
#define FOR(i,a,b) for(long long int i=(a);i<=(b);++i)
#define NFOR(i,a,b) for(long long int i=(a);i>=(b);--i)
#define pb push_back
#define ll long long
using namespace std;
vector<ll>v;
int main()
{
    ll t,n,x;
    cin>>t;
    while(t--)
    {
        cin>>n;
      FOR(i,1,n)
      {
          cin>>x;
          v.pb(x);
      }
      ll c=0;
      ll inc=0,dec=0;
      if(v[1]>v[0])
        inc=1;
      else
        dec=1;
      FOR(i,0,n-2)
      {
          if(inc)
          {
              if(v[i+1]<v[i])
                {c++;
              inc=0;
              dec=1;}
          }
          if(dec)
          {
              if(v[i+1]>v[i])
                {c++;
              inc=1;
              dec=0;}
          }
      }
      cout<<c<<endl;
      v.clear();
    }
    return 0;
}
