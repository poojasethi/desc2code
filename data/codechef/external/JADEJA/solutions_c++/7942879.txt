#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
int main()
{
	std::ios_base::sync_with_stdio(false);
	ll t,x1,x2,y2,y1;
	cin>>t;
	while(t--)
	{
		cin>>x1>>y1>>x2>>y2;
		
		cout<<__gcd(abs(x1-x2),abs(y1-y2))-1<<endl;
	}
	return 0;
}
