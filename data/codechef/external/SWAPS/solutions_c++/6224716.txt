#include <iostream>
#include <bits/stdc++.h>
using namespace std;
 
string s;
int n;
int a[1000009];
int sum[1000009];
 
int contiguous_subarr() {
	sum[0] = a[0];
	if(sum[0] < 0) {
		sum[0] = 0;
	}
	for(int i = 1 ; i < n; i++) {
		sum[i] = sum[i-1] + a[i];
		if(sum[i] < 0) {
			sum[i] = 0;
		}
	}
	//for(int i = 0 ; i < n; i++) cout<<sum[i]<<" ";
	//cout<<"\n";
	int x = INT_MIN;
	int indi = 0,indj = 0;
	for(int i = 0 ; i < n; i++) {
		if(sum[i] > x) {
			x = sum[i];
			indj = i;
		}
	}
	//cout<<indj<<"\n";
	indi = indj;
	while(indi >= 0) {
		if(sum[indi] == 0) {
			//cout<<indi<<" i\n";
			indi = indi + 1;
			break;
		}
		indi--;
	}
	//cout<<indi<<"\n";
	//cout<<s<<"\n";
	for(int i = indi ; i <= indj; i++) {
		if(s[i] == 'K') s[i] = 'R';
		else s[i] = 'K';
	}//cout<<s<<"\n";
	int cnt = 0 ;
	for(int i = 0 ; i < n; i++) {
		if(s[i] == 'R') cnt++;
	}
	if(indi > indj) cnt--;
	//cout<<s<<"\n";
	return cnt;
}
 
int main() {
	// your code goes here
	int t;
	cin>>t;
	while(t--) {
		s.clear();
		cin>>s;
		n = s.length();
		for(int i = 0 ; i < n; i++) {
			if(s[i] == '1') {
				s[i] = 'R';
			} else {
				s[i] = 'K';
			}
		}
		for(int i = 0 ; i < n; i++) {
			if(s[i] == 'R') a[i] = -1;
			else a[i] = 1;
			//cout<<a[i]<<" ";
		}//cout<<"\n\n";
		cout<<contiguous_subarr()<<"\n";
	}
	return 0;
}
