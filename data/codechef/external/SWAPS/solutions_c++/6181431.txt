#include<iostream>
#include<cstring>
using namespace std;

int func(char *a,int l)
{
int dp0[l+1],dp1[l+1];
fill(dp0,dp0+l+1,0);
fill(dp1,dp1+l+1,0);
if(a[0]=='0')
{
dp0[0]=1;
dp1[0]=0;
}
else
{
dp1[0]=1;
dp0[0]=0;
}
int ans=0;
for(int i=1;a[i]!='\0';i++)
{
if(a[i]=='1')
{
dp0[i]=dp0[i-1]-1;
dp1[i]=dp1[i-1]+1;
}
else
{
dp0[i]=dp0[i-1]+1;
dp1[i]=dp1[i-1];
}
dp0[i]=max(dp0[i],0);
}
for(int i=0;i<l;i++)
ans=max(ans,dp0[i]);
if(dp1[l-1]==l)
return l-1;
return ans+dp1[l-1];
}

int main()
{
ios_base::sync_with_stdio(false);
int t;
cin>>t;
while(t--)
{
char a[100005];
cin>>a;
int l=strlen(a);
cout<<func(a,l)<<endl;
}
return 0;
}
