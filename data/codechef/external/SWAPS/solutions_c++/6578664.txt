/*
Problem description

Karthik has N bulbs in his house.But he has only one switch that works only once.


Initially the configuration of the bulbs are given to you as a string.1 if the bulb is already switched ON or 0 if the bulb is switched OFF.He is allowed to do exactly one move.He chooses two indices i and j and toggles the state of all the bulbs in the range [i,j] using the switch mentioned above.Changing the state means turning off a switched on bulb or turning on a switched off bulb.

Tell him the maximum number of switched on bulbs that are possible after one move.He must make one move.
Input

First line contains a number T denoting the number of test cases.Then T lines follow each containing a string of 1's and 0's.
*/

#include <bits/stdc++.h>
using namespace std;

int main() {
	// your code goes here
	int t;cin>>t;
	while(t--){
	    string s;
	    cin>>s;
	    int n=s.length();
	    int A[n],i;
	    for(i=0;i<n;i++){
	        if(s[i]=='0')A[i]=1;
	        else A[i]=-1;
	    }
	    int initial=0;
	    for(i=0;i<n;i++)
	        if(A[i]==-1)
	        initial++;

	    int dp[n],ans=A[0];
	    dp[0]=A[0];

	    for(i=1;i<n;i++)
	        dp[i]=max(A[i]+dp[i-1],A[i]);

	    for(i=0;i<n;i++)
	        if(ans<dp[i])ans=dp[i];

	   ans+=initial;

	   cout<<ans<<endl;
	}
	return 0;
}
