#include<cstdio>
#include<algorithm>
using namespace std;
long long ar[1000000],br[1000000],cr[1000000];
long long t,j,k,l,m,n,u,v,sum,i,num;
int main()
{
    scanf("%lld",&t);
    while(t--)
    {
        scanf("%lld",&n);
        for(i=0;i<=n+1;i++)
        {
            ar[i]=br[i]=cr[i]=0;

        }
        sum=0;num=0;
        m=0;
        for(i=1;i<=n;i++)
        scanf("%lld",&ar[i]);
        for(i=1;i<=n;i++)
        if(br[i-1]<0)
        {
            br[i]=ar[i]+br[i-1];
        cr[i]=cr[i-1];
        }
        else
        {
            br[i]=ar[i];
            cr[i]=i;
        }
        num=0;
        m=0;
    for(i=0;i<=n;i++)
     {
         if(br[i]<num)
         {   num=br[i];
             k=cr[i];
             l=i;
             m=1;
         }



     }
      if(m==1)
      for(i=k;i<=l;i++)
      ar[i]=-ar[i];
      for(i=1;i<=n;i++)
      sum=sum+ar[i];
      printf("%lld\n",sum);
    }

  return 0;
}
