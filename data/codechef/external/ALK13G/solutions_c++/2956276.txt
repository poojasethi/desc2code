#include<iostream>
#include<cstdio>
#include<algorithm>

#define LL long long

using namespace std;
#define M 100001

int x,y,xm,ym;
long long int kad(int a[], int size)
{
   long long  mf = a[0], cm = a[0];
   int i;

   for (i = 1; i < size; i++)
   {
        if(a[i]< cm+a[i])
        {
            cm=a[i];
//            if(cm<mf)
            x=i,y=i;
        }
        else
        {
            //cout<<"P "<<a[i]<<" "<<cm+a[i]<<endl;
            //if(cm+a[i]<cm)
            y++;
            cm=cm+a[i];

        }

        if(cm<mf)
        {
            mf=cm;xm=x,ym=y;
        }

        // if(a[i]< cm+a[i] &&cm<mf)x=i,y=i;

   }
   return mf;
}

int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        x=0,y=0,xm=0,ym=0;
        int n,a[M];

        scanf("%d",&n);

        for(int i=0;i<n;i++)
        {
            scanf("%d",&a[i]);
        }
        long long mi = kad(a, n);
        //cout<<"PP "<<mi<<" "<<xm<<" "<<ym<<endl;
        if(mi>=0)
        {
            long long s=0;
            for(int i=0;i<n;i++)
            {
                s+=a[i];
            }
            cout<<s<<endl;
        }

        else
        {
            long long s=0;
            for(int i=0;i<n;i++)
            {
                if(i>=xm&&i<=ym) {s+=a[i]*-1;}
                else s+=a[i];
            }
            cout<<s<<endl;
        }

    }

}
