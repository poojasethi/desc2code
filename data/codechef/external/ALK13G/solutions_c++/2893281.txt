#include<cstdio>
#include<string.h>
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int n;
        long long sum=0,max=0,c=0;
        scanf("%d",&n);
        long long a,b[n+10];
        for(int i=0;i<n;i++){
                scanf("%lld",&a);
                c+=a;
                b[i]=a*(-1);
        }
        for(int i=0;i<n;i++)
        {
                sum+=b[i];
                if(sum<0)
                sum=0;
                if(max<sum)
                max=sum;
        }
        printf("%lld\n",c+2*max);
    }
    return 0;
}
