#include <cstdio>
#include <algorithm>
using namespace std;
int main()
{
	int t;
	long long a[100000];
	scanf("%d",&t);
	while(t--){
		int n;
		int negative = 0;
		int long long sum = 0;
		int long long ans;
		scanf("%d",&n);
		for(int i = 0; i < n; i++){
			scanf("%lldd",&a[i]);
			sum += a[i];
			if(a[i] < 0) {
				negative = 1;
			}
		}
		if(negative == 0){
			printf("%ld\n",sum);
		}
		else {
			/* Finding min sub-array */
			long long mini[100000];
			mini[0] = a[0];
			ans = mini[0];
			for(int i = 1; i < n; i++) {
				mini[i] = min(a[i], a[i] + mini[i - 1]);
				if(ans > mini[i]) {
					ans = mini[i];
				}
			}
			//printf("The min subarray = %d\n",ans);
			//printf("SUM of whole array = %d\n", sum);
			ans = sum - 2*ans; // multiplying the min sub-array with -1 and obtaining final max solution
			printf("%lld\n",ans);
		}
	}
	return 0;
}