#include<cstdio>
#include<string.h>
#define gc getchar_unlocked
void scanint(long long  &x)
{
    register long long int c = gc();
    x = 0;
    int neg = 0;
    for(;((c<48 || c>57) && c != '-');c = gc());
    if(c=='-') {neg=1;c=gc();}
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
    if(neg) x=-x;
}
int main()
{
    long long t;
    scanint(t);
    while(t--)
    {
        long long n;
        long long sum=0,max=0,c=0;
        scanint(n);
        long long a,b[n+10];
        for(int i=0;i<n;i++){
                scanint(a);
                c+=a;
                b[i]=a*(-1);
        }
        for(int i=0;i<n;i++)
        {
                sum+=b[i];
                if(sum<0)
                sum=0;
                if(max<sum)
                max=sum;
        }
        printf("%lld\n",c+2*max);
    }
    return 0;
}
