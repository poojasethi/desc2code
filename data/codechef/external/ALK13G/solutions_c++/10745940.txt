#include <cstdio>
#include <algorithm>
using namespace std;
int main()
{
	int t;
	long long a[100005];
	scanf("%d",&t);
	while(t--){
		int n;
		int long long sum = 0;
		int long long ans;
		scanf("%d",&n);
		for(int i = 0; i < n; i++){
			scanf("%lld",&a[i]);
			sum += a[i];
		}
		long long mini[100005];
		mini[0] = a[0];
		ans = mini[0];
		for(int i = 1; i < n; i++) {
			mini[i] = min(a[i], a[i] + mini[i - 1]);
			if(mini[i] < ans) {
				ans = mini[i];
			}
		}
		if(ans < 0) {
			ans = sum - 2*ans; // multiplying the min sub-array with -1 and obtaining final max solution
		}
		else {
			ans = sum;
		}
		printf("%lld\n",ans);
	}
	return 0;
}
