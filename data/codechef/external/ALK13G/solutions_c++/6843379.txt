/* Sacheendra MS */
#include <bits/stdc++.h>
using namespace std;
#define MOD 1000000007
#define pii pair<int, int>
#define vi  vector<int>
#define pb  push_back
#define M(a,x) memset(a,x,sizeof(a))
#define sci(x) scanf("%d",&x);
#define scl(x) scanf("%lld",&x);
#define scs(x) scanf("%s",x);
#define print(x) printf("%d",x);
#define nl printf("\n")
#define printl(x) printf("%lld",x)
#define F(i,a,n) for(int i=a;i<n;i++)
#define INF 100000000000000000LL
#define MAX 1000005

int main() {
    int t;sci(t);
    long long dp[100005];
    while(t--) {
        int n;sci(n);
        long long a[n];
        M(dp,0);
        long long sum=0;
        bool flag=false;
        F(i,0,n) {
            scl(a[i]);
            if(a[i]<0) flag=true;
            sum+=a[i];
        }
        if(!flag) {
            printl(sum);nl;
        }
        else {
            dp[0]=a[0];
            F(i,1,n) {
                dp[i]=min(a[i],dp[i-1]+a[i]);
            }
            long long ans=INF;
            F(i,0,n) {
                ans=min(ans,dp[i]);
            }
            printl(sum-2*ans);nl;
        }
    }
}
