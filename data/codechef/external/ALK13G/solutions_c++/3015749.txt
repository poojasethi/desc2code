#include<stdio.h>
#include<stdlib.h>
int main(){
 int a,t,n,*ptr;
 long long sum,maxsum,initial_sum;   
 scanf("%d",&t);
 while(t--){
  sum=0;
  scanf("%d",&n);      
  ptr=(int*)malloc(n*sizeof(int));     
  
  initial_sum=0;
  
  for(int i=0;i<n;i++){
    scanf("%d",&a);
    initial_sum+=a;
    ptr[i]=(-1)*a;
   }
 
  maxsum=0;
  
   for(int i=0;i<n;i++){
     
     sum+=ptr[i];
     
     if(sum>maxsum)
      maxsum=sum;
     
     else if(sum<0)
     sum=0;       
   }
   
   printf("%lld\n",initial_sum+2*maxsum);        
 }   
 return 0;    
}
