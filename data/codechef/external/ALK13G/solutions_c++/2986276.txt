#include<stdio.h>
#include<iostream>
using namespace std;
 
int max(int x, int y)
{ return (y > x)? y : x; }

 
int min(int x, int y)
{ return (y > x)? x : y; }
 
long long int maxSubArraySum(long long int a[], long long int size)
{
   long long int max_so_far = a[0], i;
   long long int curr_max = a[0];
 
   for (i = 1; i < size; i++)
   {
        curr_max = max(a[i], curr_max+a[i]);
        max_so_far = max(max_so_far, curr_max);
   }
   return max_so_far;
}
 long long int minSubArraySum(long long int a[],long long int size)
{
   long long int min_so_far = a[0], i;
   long long int curr_min = a[0];
 
   for (i = 1; i < size; i++)
   {
        curr_min = min(a[i], curr_min+a[i]);
        min_so_far = min(min_so_far, curr_min);
   }
   return min_so_far;
}
/* Driver program to test maxSubArraySum */
int main()
{
long long int t,n,i,j,ss=0;
scanf("%lld",&t);
while(t--)
{
ss=0;
int check=0;
scanf("%lld",&n);
long long int a[n];
for(i=0;i<n;i++)
{
scanf("%lld",&a[i]);
ss=ss+a[i];
if(a[i]<0)
check=1;
}
   if(check==1){
   long long int min_sum = minSubArraySum(a, n);
   printf("%lld\n",ss-2*min_sum);
   }
   else
   printf("%lld\n",ss);
   }
   
   return 0;
}