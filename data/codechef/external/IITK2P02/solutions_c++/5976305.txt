#include<iostream>

using namespace std;

long long int MOD=(1000000007);

long long int log_exp(long long int a,long long int m){
    if(m==0) return 1;
    long long int ans,temp;
    temp=log_exp(a,m/2)%MOD;
    if(m%2==1) ans=(((temp%MOD)*temp%MOD)%MOD*a)%MOD;
    else ans=((temp%MOD)*(temp%MOD))%MOD;
    return ans%MOD;
}

int main(){
    long long int t;
    cin>>t;
    while(t--){
            long long int n,m;
            cin>>n>>m;
            if(n==1){
                    cout<<m<<"\n";
                    continue;
            }
            if(m==1){
                if(n==1) cout<<"1\n";
                else if(n>=2) cout<<"0\n";
                continue;
            }
            else if(m==2){
                if(n==1) cout<<"2\n";
                else if(n==2) cout<<"2\n";
                else if(n>=3) cout<<"0\n";
                continue;
            }
            long long int ans=1;
            ans=((((m%MOD)*(m-1)%MOD)%MOD)*(log_exp(m-2,n-2))%MOD)%MOD;
            cout<<ans%MOD<<"\n";
    }
return 0;
}
