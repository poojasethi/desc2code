/* Sahil Prakash */

#include<bits/stdc++.h>

using namespace std;

#define ull unsigned long long
#define si(x) scanf("%d",&x)
#define sull(x) scanf("%llu",&x)
#define sch(x) scanf("%c",&x)
#define sstr(s) scanf("%s",s)
#define pri(x) printf("%d",x)
#define pch(x) printf("%c",x)
#define pull(x) printf("%llu",x)
#define pstr(s) printf("%s",s)
#define nl printf("\n")
#define MOD 1000000007

ull power( ull a, ull b )
{
    ull res=1;
    while(b)
    {
	if(b%2)
	    res=((res%MOD)*(a%MOD))%MOD;
	a=((a%MOD)*(a%MOD))%MOD;
	b=b/2;
    }
    return res;
}
int main()
{
    int t;
    si(t);
    ull n,m,temp1,a,temp2;
    while(t--)
    {
	temp1=1;
	sull(n); sull(m);
	if(n>2)
	{
	a=n-2;
	temp1=power(m-2,a);
	temp2=m-1;
	temp1=((temp1%MOD)*(temp2%MOD))%MOD;
	temp1=((m%MOD)*(temp1%MOD))%MOD;
	pull(temp1);
	}
	else
	{
	    if(n==2)
	    temp1=((m%MOD)*((m-1)%MOD))%MOD;
	    else
	    temp1=m;
	    pull(temp1);
	}
	nl;
    }
    return 0;
}
