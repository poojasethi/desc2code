#include<stdio.h>
#define mod 1000000007

long long int power(long long int m,long long int n)
{
	if(n==1) return m;
	long long int x=power(m,(n/2));
	x=(x*x)%mod;
	if(n%2!=0) x=(x*m)%mod;
	return x;
	
}

int main()
{
	long long int t,n,m,sum,tum,i;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld %lld",&n,&m);
		if(n==1) { printf("%lld\n",m); continue; }
		if(n==2) { printf("%lld\n",(m*(m-1))%mod); continue; }
		tum=1;
		n=n-2;
	    tum=power(m-2,n);
	    
		sum=( tum*( (m*(m-1) )%mod)%mod );
		printf("%lld\n",sum);
		
	}
}