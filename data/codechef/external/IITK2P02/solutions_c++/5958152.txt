#include<bits/stdc++.h>
using namespace std;
inline void inp( long long int &n ) {
    n=0; int ch = getchar(); int sign = 1;
    while(ch < '0' || ch > '9') { if(ch == '-') sign=-1; ch = getchar(); }
    while(ch >= '0' && ch <= '9') { n = (n << 3) + (n << 1) + ch - '0', ch = getchar(); }
    n = n * sign;
    }
long long int pow1(long long int a,long long int b,long long int mod )  //to find power
{
	if(b==0)
	return 1;
	if(b==1)
	return a;
	long long int temp=pow1(a,b/2,mod);
	long long int x;
	if(b%2==0)
		x=(temp*temp)%mod;
	else
		x=(((temp*temp)%mod)*a)%mod;
	return x;
}
int main()
{
    int t;
    scanf("%d",&t);
    long long int mod=1000000007;
    while(t--)
    {
        long long int n,m;
        inp(n);
        inp(m);
        if(n==1)
        printf("%lld\n",m);
        else
        if(n==2)
         printf("%lld\n",((m*(m-1))%mod));
         else
         {
             long long int ans;
             ans=pow1(m-2,n-2,mod);
             ans=((((ans*m)%mod + mod)*(m-1))%mod +mod)%mod;
              printf("%lld\n",ans);
         }
    }
}
