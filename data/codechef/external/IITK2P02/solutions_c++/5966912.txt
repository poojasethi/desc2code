// An AVL tree node
/*------------------------Subham Mishra--------------------------------------------------------*/
#include<bits/stdc++.h>
#define s(n) scanf("%d",&n)
#define sl(n) scanf("%lld",&n)
#define pl(n) printf("%lld\n",n)
#define p(n) printf("%d\n",n)
#define pb push_back
#define mp make_pair
#define mod 1000000007LL
#define N 200005
#define LN 25
#define SQN 5000
#define SQN1 500100000000000
#define ll  long long
#define gc getchar_unlocked
using namespace std;

ll powmod(long long a, long long b, long long c)
{
    ll ret=1LL;
 // cout<<a<<" "<<b<<" "<<c<<endl;
    while(b)
    {
        if(b & 1)
            ret = (ret*a)%c;
        a=(a*a)%c;

        b>>=1;
    }
    return (ret)%c;
}

int main()
{
int t;
ll m,n;
s(t);
while(t--)
{
 sl(n);sl(m);
 if(n==1)
 cout<<m<<endl;
 else if(n==2)
 cout<<(m*(m-1))%mod<<endl;
 else
 {
  ll ans=powmod(m-2,n-2,mod);
  ans=ans*(m-1);
  ans%=mod;
  ans=ans*m;
  ans%=mod;
  cout<<ans<<endl;
 }
}
 return 0;
}
