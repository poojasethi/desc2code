#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;
#define mod (long long)(pow(10,9)+7)
long long pw(long long int a,long long int b)
{
if(b==0)
return 1;
long long int x=pw(a,b/2);
if(!(b&1))
return ((x%mod)*(x%mod))%mod;
else
return (((a%mod)*(x%mod))%mod*(x%mod))%mod;
}
int main(){
    int t;
    cin>>t;
    while(t--){
            long long int n,m;
            cin>>n>>m;
            if(n==1){
                    cout<<m<<"\n";
                    continue;
            }
            if(m==1){
                if(n==1) cout<<"1\n";
                else cout<<"0\n";
                continue;
            }
            else if(m==2){
                if(n==1) cout<<"2\n";
                else if(n==2) cout<<"2\n";
                else if(n>=3) cout<<"0\n";
                continue;
            }
            long long int ans=1;
            ans=((((m%mod)*(m-1))%mod)*(pw(m-2,n-2)))%mod;
            cout<<ans<<"\n";
    }
return 0;
}
