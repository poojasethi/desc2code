#include <stdio.h>
#include <string.h>

int dp[1<<13][13];
int ar[13][13];

int main(){

	int a,b,c,d,x,z,n,k,m;
	int y,e;
	scanf("%d",&z);
	while(z--){
	
	scanf("%d %d %d",&n,&m,&k); getchar();
	for(a=0;a<n;a++){
		for(b=0;b<m;b++){
			ar[a][b]=getchar()-'0'; dp[1<<a][b]=ar[a][b];
		}getchar();
	}y=0;
	for(a=1;a<(1<<n);a++){
		d=0;
		for(b=0;b<n;b++){
			if(a&(1<<b)){
				x=a;
				x&=~(1<<b);
				e=0; d++;
				for(c=0;c<m;c++){
					if(ar[b][c]) dp[a][c]=dp[a][c]+e; 
					e=e+dp[x][c];
				}
			}
		}
		if(d==k) for(b=0;b<m;b++) y=y+dp[a][b];
	}
	printf("%d\n",y);
	for(a=0;a<(1<<n);a++) for(b=0;b<m;b++) dp[a][b]=0;
	}
	return 0;
}
