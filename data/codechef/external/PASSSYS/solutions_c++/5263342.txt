#include<cstdio>
using namespace std;

char arr[101][101];
int main()
{
	int T,n,i,j,c;
	scanf("%d",&T);
	while(T--){
		c=1;
		scanf("%d",&n);
		for(i=0;i<n;++i){
			for(j=0;j<n;++j){
				scanf("%d",&arr[i][j]);
			}
		}
		for(i=0;i<=n/2;++i){
			for(j=0;j<=n/2;++j){
				if(arr[i][j]!=arr[n-i-1][n-j-1]){
					c=0;
				}
			}
		}
		if(c){
			printf("%s \n","Yes");
		}
		else{
			printf("%s \n","No");
		}
	}
	
	return 0;
}