#include <iostream>
#include <vector>
using namespace std;
int main(){
int T,n,l,flag = 1;
cin>>T;
while(T--){
flag = 1;
cin>>n;
n = n*n;
vector<int> pass;
while(n--){
cin>>l;
pass.push_back(l);
}
for(int i = 0,j = pass.size()-1;i<j;i++,j--){
if(pass[i]!=pass[j]){flag = 0;break;}
}
if(flag) cout<<"Yes\n";
else cout<<"No\n";
}
return 0;
}