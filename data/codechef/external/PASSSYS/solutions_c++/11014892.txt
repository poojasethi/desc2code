#include <iostream>
#include <vector>
using namespace std;
static string test(vector<int> pass){
for(int i = 0,j = pass.size()-1;i<j;i++,j--)
    if(pass[i]!=pass[j]) return "No\n";
return "Yes\n";
}
int main(){
int T,n,l;
cin>>T;
while(T--){
cin>>n;
n = n*n;
vector<int> pass;
while(n--){
cin>>l;
pass.push_back(l);
}
cout<<test(pass);
}
return 0;
}