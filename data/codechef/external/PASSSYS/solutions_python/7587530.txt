n=input()
d=[]
for i in range(n):
    v=[]
    s=input()
    for i in range(s):
        c=[]
        b=''
        b=raw_input()
        for i in b.split():
            c.append(int(i))
        v.append(list(c))
    d.append(v)
w=[]
for i in range(len(d)):
    if d[i][len(d[i])/2][0]==d[i][len(d[i])/2][-1]:
        if d[i][0]==d[i][-1][::-1]:
            w.append('Yes')
        else:
            w.append('No')
    else:
        w.append('No')
for i in w:
    print i
        
