#include <iostream>
#include <vector>
#include <fstream>
#include <stdio.h>

using namespace std;

int main(){
	//ifstream cin("input.txt");
	long long int test_cases , n , value , i , j , len , sum , maxSum;
	vector<long long int> arrlis;
	//cin >> test_cases;
	scanf("%lld",&test_cases);
	while ( test_cases-- ){

		//cin >> n;
		scanf("%lld",&n);
		for ( i = 0 ; i < n ; i++ ){
			//cin >> value;
			scanf("%lld",&value);
			arrlis.push_back( value );
		}

		maxSum = 0;
		for ( j = 2 ; j <= n ;j++){
			i = j;
			sum = 0;
			while( i <= n ){
				sum = sum + arrlis[i-1] ;
				i = i + j;
			}

			j = j + j/2 - 1;

			if ( sum > maxSum ){
				maxSum = sum ;
			}
		}

		cout << maxSum << endl;
		arrlis.clear();


	}
}