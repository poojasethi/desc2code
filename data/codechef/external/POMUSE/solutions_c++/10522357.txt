#include<bits/stdc++.h>
using namespace std;
#define ll long long
ll dp[4502][4502];
ll sol[4502][4502];
char str[4504];
int main()
{
    int n,m;
    scanf("%d%d",&n,&m);
    int i,j;
    char ch;
    int a=n;
    int b=m;
    for(i=1;i<=a;i++)
    {
        scanf("%s",str);
        for(j=1;j<=b;j++)
        {
           if(str[j-1]=='C')
                dp[i][j]=1+dp[i][j-1];
            else
                dp[i][j]=0;

        }
    }
    ll ans=-1;
    for(j=1;j<=m;j++)
    {
           ll maxir=-1;

        for(i=1;i<=n;i++)
        {
            ll int l=0;
            ll int r=dp[i][j]+1;
            maxir=max(maxir,r);
            sol[l][j]++;
            sol[r][j]--;
        }
        ll maxi=-1;
        for(i=1;i<=maxir;i++)
        {
            sol[i][j]=sol[i-1][j]+sol[i][j];
            maxi=max(maxi,i*sol[i][j]);
        }
    //cout<<maxi<<endl;
        ans=max(maxi,ans);
    }
   printf("%lld\n",ans);


}
