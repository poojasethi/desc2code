#include <bits/stdc++.h>

using namespace std;

typedef long long L;
L a[5][2];

L gcd(L x, L y) {
  if(y == 0) return x;
  return gcd(y, x % y);
}

int main()
{
  int t;
  scanf("%d", &t);
  
  for(int tt = 1; tt <= t; ++tt) {
    L b = 0;
    for(int i = 0; i < 4; ++i) {
      scanf("%lld %lld", &a[i][0], &a[i][1]);
      if(i > 0) {
        b += (gcd(abs(a[i][0] - a[i - 1][0]), abs(a[i][1] - a[i - 1][1])) - 1);
      }
    }
    b += (gcd(abs(a[0][0] - a[3][0]), abs(a[0][1] - a[3][1])) - 1); b += 4;
    L area = 0;
    for(int i = 0; i < 4; ++i) {
      area += (a[i][0] * a[(i + 1) % 4][1] - a[(i + 1) % 4][0] * a[i][1]);
    }
    if(area < 0) area =- area;
    L in = (area + 2 - b)/2;
    printf("Case %d: %lld\n",tt, (in + b));
  }
  return(0);
}
