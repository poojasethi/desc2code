/*
 note - pick's theorem
 */
#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cmath>

using namespace std;

int gcd(int a, int b)
{
	if(b == 0) return a;
	else return gcd(b,a%b);
}

int main()
{
	int N,xa,ya,xb,yb,xc,yc,xd,yd,x1,y1,x2,y2;
	int ans;
	cin >> N;
	for(int cno=1; cno<=N; cno++) {
		cin >> xa >> ya >> xb >> yb;
		cin >> xc >> yc >> xd >> yd;
		int b = 0;
		b = gcd(abs(xa-xb), abs(ya-yb)) + gcd(abs(xb-xc),abs(yb-yc)) + gcd(abs(xc-xd),abs(yc-yd))  + gcd(abs(xd-xa),abs(yd-ya));
		int A2 = 0;
		x1 = xc - xa;
		y1 = yc - ya;
		x2 = xd - xb;
		y2 = yd - yb;
		A2 = abs(x1*y2 - x2*y1);
		ans = (A2 + 2 + b)/2;
		printf("Case %d: %d\n",cno,ans);
	}
}
