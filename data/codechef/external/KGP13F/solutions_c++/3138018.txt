#include<stdio.h>
#include<iostream>
#include<vector>
#include<string>
#include<algorithm>
#include<math.h>
using namespace std;
#define ll long long int
int gcd(int x,int y)
{
	if(y==0)
	return x;
	else
	return gcd(y,x%y);
}
int bound(int StartX,int StartY,int EndX,int EndY)
{
	int diffx=abs(StartX-EndX);
	int diffy=abs(StartY-EndY);
	if(diffx==0) return diffy+1;
	if(diffy==0) return diffx+1;
	return (1+gcd(diffx,diffy));
}

main()
{
int x1,x2,x3,x4,y1,y2,y3,y4,t,j;
//freopen("in.txt","r",stdin);
scanf("%d",&t);
for(j=1;j<=t;j++)
{
	scanf("%d %d %d %d %d %d %d %d",&x1,&y1,&x2,&y2,&x3,&y3,&x4,&y4);
	int res,i,b=0,a;
	float area;
	a=(x1*y2 - x2*y1) + (x2*y3 - x3*y2) + (x3*y4 - x4*y3) + (x4*y1 - x1*y4);
	area=(float)abs(a)/2;
	if(x1<=x2)
	b=bound(x1,y1,x2,y2);
	else
	b=bound(x2,y2,x1,y1);
	if(x2<=x3)
	b+=bound(x2,y2,x3,y3);
	else
	b+=bound(x3,y3,x2,y2);
	if(x3<=x4)
	b+=bound(x3,y3,x4,y4);
	else
	b+=bound(x4,y4,x3,y3);
	if(x1<=x4)
	b+=bound(x1,y1,x4,y4);
	else
	b+=bound(x4,y4,x1,y1);
	b-=4;
	i=area+1-(float)b/2;
	cout<<"Case "<<j<<": "<<i+b<<endl;
}
}



