// adijimmy
#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
int x[5],y[5];
double solve(){
    double X1 = (x[0]-x[2]);
    double Y2 = (y[1]-y[3]);
    double X2 = (x[1]-x[3]);
    double Y1 = (y[0]-y[2]);
    double A = (X1*Y2-X2*Y1);
    return abs(A);
}
int main(){
 int t;
 cin >> t;
 for(int i=1;i<=t;i++){
    for(int j=0;j<4;j++)
        cin >> x[j] >> y[j];
    int ans = 0;
    int area = 0.5+solve();
    int s = 0;
    for(int j=0;j<4;j++){
        int k = (j+1)%4;
        int a = max(x[j],x[k]) - min(x[j],x[k]);
        int b = max(y[j],y[k]) - min(y[j],y[k]);
        s += (__gcd(a,b)-1);
    }
    s += 4;
    int x = area+2-s;
    x = x/2;
    ans = x+s;
    printf("Case %d: %d\n",i,ans);
 }
 return 0;
}
