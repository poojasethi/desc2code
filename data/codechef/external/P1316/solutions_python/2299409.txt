#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#define Hash 1001007

int fa[Hash],num[Hash],son[Hash],next[300001],tot,T,n,i,j,k,aim,a1,a2;
char str[300001][100],s1[100],s2[100],s[100];

int hash(char s[],int l)
{
    int i;
    long long re=0;
    for(i=0;i<l;++i)re=(re*1456+s[i]+78114)%Hash;
    return re;
}

int get(int p)
{
	if(fa[p]==p)return p;
	fa[p]=get(fa[p]);
	return fa[p];
}

int main()
{
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d",&n);
		for(i=0;i<Hash;++i)son[i]=0;
		for(i=1;i<=n;++i)
		{
			scanf("%s%s",s1,s2);
			a1=j=hash(s1,strlen(s1));
			for(j=son[j];j;j=next[j])if(strcmp(str[j],s1)==0)break;
			a2=k=hash(s2,strlen(s2));
			for(k=son[k];k;k=next[k])if(strcmp(str[k],s2)==0)break;
			if(!j){++tot;j=tot;memcpy(str[j],s1,sizeof(s1));next[tot]=son[a1];son[a1]=tot;fa[tot]=tot;num[tot]=1;}
			if(!k){++tot;k=tot;memcpy(str[k],s2,sizeof(s2));next[tot]=son[a2];son[a2]=tot;fa[tot]=tot;num[tot]=1;}
			j=get(j);k=get(k);
			if(j!=k)
			{
				fa[j]=k;
				num[k]+=num[j];
			}
			printf("%d\n",num[get(j)]);
		}
	}
}