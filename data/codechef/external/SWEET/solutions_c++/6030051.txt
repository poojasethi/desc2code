//Md. Ahsan Kabir Shohagh
#include<bits/stdc++.h>
using namespace std;
#define sz 100002
#define pb(a) push_back(a)
#define ll long long
#define ull unsigned long long
#define fread freopen("input.txt","r",stdin)
#define fwrite freopen("output.txt","w",stdout)
#define inf (1<<29)
#define mem(abc,z) memset(abc,z,sizeof(abc))
#define PI acos(-1)
ll c[sz];
int n;
ll MaxSumKaratSuba(){
   ll currentSum=0,maxSum=0;
   for(int i=0;i<n;i++){
      currentSum+=c[i];
      if(currentSum>maxSum){
        maxSum=currentSum;
      }
      if(currentSum<0) currentSum=0;
   }
   if(currentSum>maxSum) maxSum=currentSum;
   return maxSum;
}
int main(){
   int t;
   ll x;
   scanf("%d",&t);
   while(t--){
     scanf("%d %lld",&n,&x);
     for(int i=0;i<n;i++){
        scanf("%lld",&c[i]);
        c[i]-=x;
     }
     printf("%lld\n",MaxSumKaratSuba());
   }
   return 0;
}
