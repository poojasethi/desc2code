#include<bits/stdc++.h>
using namespace std;

#define ii pair<int,int>
#define iii pair<double,ii>
#define mp(a,b) make_pair(a,b)
#define pb(a) push_back(a)

int t,n,a,b;
double c;
int parent[1024];
vector<iii> ar;

void init(int x)
{
	for(int i=0;i<=x;i++)
	parent[i]=i;
	return;
}

int find(int v)
{
	if(parent[v]!=v)
	parent[v]=find(parent[v]);
	return parent[v];
}

void unite(int a,int b)
{
	int para = find(a);
	int parb = find(b);
	parent[para]=parb;
}

int main()
{
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n);
        ar.clear();
							
		while(1)
		{
			scanf("%d%d%lf",&a,&b,&c);
			if(a==-1 && b==-1 && c==-1)
			break;
			ar.pb(mp(c,mp(a,b)));
		}
		
		sort(ar.rbegin(),ar.rend());
		init(n+1);
		
		double min = INT_MAX;
		
		// kruskal on reverse sorted array of edges
		for(int i=0;i<ar.size();i++)
		{
			if(find(1)==find(n))
			break;
			int x = ar[i].second.first;
			int y = ar[i].second.second;
			double w = ar[i].first;
				min = w;
			if(find(x)!=find(y))
			{
				unite(x,y);
			}
		}
		printf("%lf\n",min);
	}
	return 0;
}
