#include<stdio.h>
int main()
{
int t,pre[1001],a,b,n,i,k,j;
double len[1001],min,max,dist[1001][1001];
scanf("%d",&t);
while(t--)
	{
		int label[1001]={0};
		scanf("%d",&n);
		for(i=1;i<=n;i++)
			len[i]=-1;
		for(i=1;i<=n;i++)
			for(j=1;j<=n;j++)
				dist[i][j]=-1;
		scanf("%d%d",&a,&b);
		while(a!=-1)
			{
				scanf("%lf",&dist[a][b]);
				dist[b][a]=dist[a][b];
				scanf("%d%d",&a,&b);	
			}
		scanf("%lf",&dist[0][0]);
		label[1]=1;
		k=1;
		do
			{
				for(i=1;i<=n;i++)
					{
						if(dist[k][i]>len[i]&&label[i]==0&&dist[k][i]!=-1)
							{
								pre[i]=k;
								len[i]=dist[k][i];
							}
					}
				k=1;
				max=-1;
				for(i=1;i<=n;i++)
					{
							if(label[i]==0&&len[i]>max)
							{
								max=len[i];
								k=i;
							}
					}
				label[k]=1;
			}while(k!=n);
		min=101;
		while(k!=1)
			{
				if(len[k]<min)
					min=len[k];
				k=pre[k];	
			}
		printf("%.6lf\n",min);			
	}
 
	
return 0;	
} 