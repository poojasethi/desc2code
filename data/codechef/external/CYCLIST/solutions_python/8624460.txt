/*input
2
4
1 2 4.0
1 3 7.0
1 4 1.0
2 3 5.0
2 4 3.0
3 4 2.0
-1 -1 -1
4
1 2 40.0
1 3 8.0
1 4 11.0
2 3 21.0
3 4 30.0
-1 -1 -1
*/
#include <bits/stdc++.h>
#define ll long long
#define f(i,s,n) for(ll i=s;i<n;i++)
#define rf(i,n,s) for(ll i=n-1;i>=s;i--)
#define pb push_back
#define ms0(X) memset((X), 0, sizeof((X)))
#define ms1(X) memset((X), -1, sizeof((X)))
#define len(X) strlen(X)
#define pii pair<ll,ll>
#define F first
#define S second
const int mod = 1e9+7;
/********************************************************************************************************/
ll arr[1000005];
ll size[1000005];

using namespace std;
vector<pair<double,pii> >w;

void in(ll n)
{
	f(i,1,n+1)
	{
		arr[i]=i;
		size[i]=1;
	}
}
ll root(ll a)
{
	while(arr[a]!=a)
	{
		arr[a]=arr[arr[a]];
		a=arr[a];
	}
	return a;
}

void uni(long long a, long long b)
{
	ll root1=root(a);
	ll root2=root(b);
	if(size[root1]<=size[root2])
	{
		size[root2]+=size[root1];
		arr[root1]=arr[root2];
	}
	else
	{
		size[root1]+=size[root2];
		arr[root2]=arr[root1];
	}
}

void krus(ll n)
{
	ll count=0;
	ll o;
	rf(i,w.size(),0)
	{
		o=i;

		if(root(w[i].S.F)!=root(w[i].S.S))
		{
			uni(w[i].S.F,w[i].S.S);
		}
		if(root(n)==root(1))
			break;
		
	}
	printf("%.6lf\n",w[o].F);
}
int main() {
	// your code goes here
	ios_base::sync_with_stdio(0);
	cin.tie(0);cout.tie(0);
	ll t;
	cin>>t;
	while(t--)
	{
		ll n;
		
		cin>>n;
		in(n);
		ll a,b;
		double c;
		while(1)
		{

			cin>>a>>b>>c;
			if(a==-1&&b==-1&&c==-1)
				break;
			w.pb({c,{a,b}});
		}
		sort(w.begin(),w.end());
		krus(n);
		w.clear();
	}
	
	
	return 0;
}