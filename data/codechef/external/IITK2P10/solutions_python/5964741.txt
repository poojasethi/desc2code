M = 10**9+7
T = input()
for test_case in xrange(T):
    K, N = map(int, raw_input().split())
    if N == 1:
        print 1
    elif N in [2, 3]:
        print K % M
    else:
        print pow(K, pow(2, N-3, M-1), M) % M