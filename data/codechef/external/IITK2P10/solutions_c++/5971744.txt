#include<iostream>
#define mod 1000000007
using namespace std;
long long power(long long b,long long p, int md){
	long long t1=1;
	while(p){
		if((p%2)==1){
			t1=(t1*b)%md;
		}
		b=(b*b)%md;
		p/=2;
	}
	return (t1%md);
}
int main() {
	int t;
	cin>>t;
	while(t--){
		long long k,n;
		cin>>k>>n;
		if(n==1){
			cout<<1<<endl;
		}else if(n==2){
			cout<<k<<endl;
		}else{
			long long p=(n-3)%(mod-2);
			long long x=(power(2,p,mod-1))%(mod-1);
			long long ans=(power(k,x,mod))%mod;
			cout<<ans<<endl;
		}
	}
	return 0;
} 