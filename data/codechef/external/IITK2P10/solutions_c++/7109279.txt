#include<bits/stdc++.h>
using namespace std;

#define sd(x) scanf("%d",&x)
#define ss(x) scanf("%s",x)
#define lld long long int
#define slld(x) scanf("%lld",&x)


lld power(lld a,lld b,lld m)
{
    lld ans=1;
    while(b!=0)
    {
        if(b%2==1)
        ans=(ans*a)%m;
        a=(a*a)%m;
        b=b/2;
    }

    return ans;

}


int main()
{
    lld n,k,mod=1000000007,t,ans;
    slld(t);
    while(t--){
    slld(k);slld(n);
    if(n==1)
    cout<<1<<endl;
    else if(n==2)
    cout<<k<<endl;
    else if(n==3)
    cout<<k<<endl;
    else{
    ans=power(k,power(2,n-3,mod-1),mod);
    cout<<ans<<endl;
    }
    }
	return 0;
}
