#include<bits/stdc++.h>
#define llu long long unsigned
#define lld long long
#define ld long
using namespace std;
long long MOD= 1000000007;
lld mult(lld a,lld b,int z)
{
    lld x=1,y=a;
    while(b)
    {
    if(b%2==1)
    {
        x=x*y;
        x=x%z;
    }
    y=y*y;
    y=y%z;
    b=b/2;
    }
    return x%z;
}
int main()
{
    int t;
     llu ans,q;
    llu n,k;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%llu %llu",&k,&n);
        if(n==1)
        {
            ans=1;
        }
        else if(n==2||n==3)
        {
            ans=k;
        }
        else
        {

            q=mult(2,n-3,MOD-1);
          //cout<<q<<endl;
            ans=mult(k,q,MOD);
            //cout<<ans<<endl;
        }
        ans=ans%MOD;
        if(ans<0)
            ans=(ans+MOD)%MOD;
     printf("%lld\n",ans);
    }
 return 0;
}
