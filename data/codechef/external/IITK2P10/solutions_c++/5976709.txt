#include<bits/stdc++.h>

using namespace std;
# define ll long long int
# define mod 1000000007
ll modular_pow(ll base, ll exponent, int modulus)

{

    ll result = 1;

    while (exponent > 0)

    {

        if (exponent % 2 == 1)

            result = (result * base) % modulus;

        exponent = exponent >> 1;

        base = (base * base) % modulus;

    }

    return result;

}
int main()
{
	int T;
	scanf("%d",&T);
	long long int N,K;
	long long int ans,exp;
	while(T--)
	{
		ans = 0;
		scanf("%lld %lld",&K,&N);
		if(N>3)
		{
			exp = modular_pow(2,N-3,mod-1);
			//printf("%lld\n",exp);
			printf("%lld\n",modular_pow(K,exp,mod));
		}
		else
		{
			if(N==3)
			{
				printf("%lld\n",K);
			}
			if(N==2)
			{
				printf("%lld\n",K);
			}
			if(N==1)
			{
				printf("1\n");
			}
		}
		
	}
}