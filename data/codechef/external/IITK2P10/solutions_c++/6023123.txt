 #include<iostream>
    #include<cstdio>
    #include<cstring>
    #include<vector>
    #include<algorithm>
    //#include<conio.h>
     
    using namespace std;
    
    #define gc getchar_unlocked
#define pc putchar_unlocked
//#define ll long long
    #define M 1000000007

typedef long long ll;








    ll power(ll base,ll po,ll N)
{
    if(po==0)
       return 1;
    if(po==1)
    return base;
    long long halfn=power(base,po/2,N);
    if(po%2==0)
        return ( halfn * halfn ) % N;
    else
        return ( ( ( halfn * halfn ) % N ) * base ) % N;
 
 
}

 
 
 
    int main()
    {
    ll t;
    cin>>t;
    while(t--)
    {
    ll n,m;
  scanf("%lld %lld",&n,&m);
    if(m<4)
    {
    if(m==1)
    printf("%lld\n",m);
    else
    printf("%lld\n",n);
    }
    else
    {
    m=m-3;
    ll val=power(2,m,M-1);
	
    val=power(n,val,M);
 
 printf("%lld\n",val);
  //  cout<<val;
    }
    }
    //getch();
    return 0;
    }
 
