#include<bits/stdc++.h>
using namespace std;
typedef long long lint;
#define mod 1000000007
lint power(lint a, lint n)  //a^n
{
    lint ans=1;
    while(n)
    {
        if(n & 1)
            ans=(ans*a)%mod;
        a=(a*a)%mod;
        n>>=1;
    }
    return ans;
}
lint power1(lint a, lint n)  //a^n
{
    lint ans=1;
    while(n)
    {
        if(n & 1)
            ans=(ans*a)%(mod-1);
        a=(a*a)%(mod-1);
        n>>=1;
    }
    return ans;
}
void solve(lint k, lint n)
{
    lint pw, ans;
    if(n==1)
        printf("1\n");
    else if(n==2)
        printf("%lld\n", k);
    else
    {
        pw=power1(2, (n-3));
        ans=power(k, pw);
        printf("%lld\n", ans);
    }
}
int main()
{
    int test;
    scanf("%d", &test);
    while(test--)
    {
        lint k, n;
        scanf("%lld %lld", &k, &n);
        solve(k, n);
    }
    return 0;
}
