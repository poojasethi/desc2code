#include<iostream>
using namespace std;

long long int power(long long int x,long long int y,long long int c)
{
	long long int a,b;
	a=1;
	b=x;
	while(y)
	{
		if(y&1)
		a=a*b%c;
		b=b*b%c;
		y=y>>1;
	}
	return a;
}

 int main()
{
	long long int t,k,n,mod;
	mod=1000000007;
	cin>>t;
	while(t--)
	{
		cin>>k>>n;
		//cout<<power(k,n,mod)<<endl;
		if(n==1)
		cout<<"1"<<endl;
		else
		if(n==2)
		cout<<k<<endl;
		else
		{
		long long int p=power(2,n-3,mod-1);
		cout<<power(k,p,mod)<<endl;	
		}
	}
}