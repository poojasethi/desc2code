#include<bits/stdc++.h>
using namespace std;
#define ull unsigned long long int
#define ll unsigned long long
#define sd(a) scanf("%d",&a)
#define pf printf
ull power(ull a,ull b,ull MOD)
{
    ull res=1;
    while(b>=1)
    {
        if(b&1)
        {
           res=(res*a)%MOD;
        }
        a=(a*a)%MOD;
        b=b/2;
    }
    return res;
}
int main()
{
    int t;
    ull k,n;
    const ull MOD=1000000007;
    sd(t);
    while(t--)
    {
        scanf("%llu%llu",&k,&n);
        if(n==1)
        printf("1\n");
        else if(n==2)
        printf("%llu\n",k);
        else
        {
            ull temp=power(2,n-3,MOD-1);
            printf("%llu\n",power(k,temp,MOD));
        }
    }
  return 0;
}

