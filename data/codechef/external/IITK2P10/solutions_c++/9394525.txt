#include<bits/stdc++.h>
using namespace std;
long long int  MOD1 = 1e9+7;
long long int  MOD2 = 1e9+6;
 long long int expn(long long int N, long long int K,long long int MOD)
{
    if(K==0) return 1;
    if(K==1) return N%MOD;
    if(K%2 ==0)
    {
        long long int temp = expn(N,K/2,MOD);
        return (temp*temp)%MOD;
    }
    else
    {
        long long int temp = expn(N,K/2,MOD);
        temp = (temp*temp)%MOD;
        return (temp*N)%MOD;
    }
}




int main()
{
	long long int i,j,k,m,n,t,a2;
	cin>>t;
	
	while(t--)
	{
		cin>>a2;
		cin>>n;
		long long int ans=1;
		long long int a1=1;
		long long int sum=1;
		long long int prev=1;
		// 1 3 3 9 81   
		 if(n==1)
		 {
		 	sum=0;
		 }
		 else
		 {
		 	if(n==2||n==3)
		 	{
		 		sum=1;
		 	}
		 	else
		 	{
		 		n=n-3;
		 		sum=expn(2,n,MOD2);
		 	}
		  
	     }
		
		//cout<<sum<<endl;
		 long long int ans1=expn(a2,sum,MOD1);
		cout<<ans1<<endl;
	}
}