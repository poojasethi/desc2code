#include <stdio.h>
#include <stdlib.h>
#define M 1000000007
#define N 1000000006
 
int main()
{ int t;long long unsigned int n,k,y,z,m,c;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%llu%llu",&k,&n);
        if(n==1)printf("1\n");
        else if(n==2)printf("%llu\n",k);
        else if(n==3)printf("%llu\n",k);
        else
        {
            n-=3;m=2;y=1;
            while(n)
           while(n!=0)
           {
           c=n%2;
            n/=2;if(c==1){y*=m;y%=N;}
            m=m*m;m%=N;
           }m=k;z=1;
           while(y!=0)
           {
               c=y%2;
               y/=2;if(c==1){z*=m;z%=M;}
               m=m*m;m%=M;
           }
           printf("%llu\n",z);
 
        }
    }
    return 0;
}
  