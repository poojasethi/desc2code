#include <bits/stdc++.h>
using namespace std;
#define mod 1000000007
#define ull unsigned long long
 
ull pow_mod(ull a , ull b , ull m)
{
	ull x=1 ;
	while(b)
	{
		if(b&1) x=(x*a)%m; 
		a=(a*a)%m;
		b>>=1;
	}
	return x%m;
}
 
int main() {
	int t;
	ull n , k;
	scanf("%d" , &t);
	while(t--)
	{
		scanf("%lld%lld" , &k , &n);
		if(n==1) printf("1\n");
		else if(n==2||n==3) printf("%lld\n" , k);
		else printf("%lld\n" , pow_mod(k , pow_mod(2 , n-3 , mod-1) , mod));
	}
	return 0;
} 