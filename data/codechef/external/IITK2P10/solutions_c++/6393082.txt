//Md. Ahsan Kabir Shohagh
#include<bits/stdc++.h>
using namespace std;
#define sz 10005
#define pb(a) push_back(a)
#define ll long long
#define ull unsigned long long
#define fread freopen("input.txt","r",stdin)
#define fwrite freopen("output.txt","w",stdout)
#define inf (1<<29)
#define mem(abc,z) memset(abc,z,sizeof(abc))
#define PI acos(-1)
ll k,n,ans;
ll bigmod(ll b,ll p,ll mod){
  ll ret=1LL;
  while(p>0){
    if(p&1) ret=(ret*b)%mod;
    p>>=1;
    b=(b*b)%mod;
  }
  return ret;
}
int main(){
   int t;
   ll mod=1000000007LL;
   cin>>t;
   while(t--){
     cin>>k>>n;
     if(n==1) ans=1LL;
     else if(n==2 || n==3) ans=k;
     else {
        n-=3;
        ll base=bigmod(2LL,n,mod-1); //using fermats theorem a^(n-1) % n = 1 where n is prime
        ans=bigmod(k,base,mod);
     }
     cout<<ans<<endl;
   }
   return 0;
}
