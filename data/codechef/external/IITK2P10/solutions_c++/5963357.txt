#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cmath>
#define mod 1000000007
using namespace std;
long long pow(long long a,long long b,long long m)
{   
	 long long ans=1,cur=a;
     while(b) {
     if(b%2) ans=(ans*cur)%m;
     b/=2;
     cur=(cur*cur)%m;  }
     return ans;
}
int main()
{
  std:ios_base::sync_with_stdio(false);
  long long int t,k,n,ans;
  cin>>t;
  while(t--)
  {
  	cin>>k>>n;
  	if(n==1)
  	printf("1\n");
  	else if(n==2)
  	printf("%lld\n",k);
  	else
  	{
  		ans=pow(k,pow(2,n-3,mod-1),mod);
  		printf("%lld\n",ans);
  	}
  }
  return 0;
}
