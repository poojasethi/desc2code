#include<bits/stdc++.h>
using namespace std;
 
#define ll long long
#define mod 1000000007
#define pb push_back
#define mp make_pair
 
ll powe(ll a,ll b,ll m){
	ll ans=1;
	while(b){
		if(b&1){
			ans=(ans*a)%m;
			//if(ans>=mod)
			//	ans-=mod;
		}
		a=(a*a)%m;
		b>>=1;
	}
	return ans%m;
}
 
int main(){
	ll t,k,n;
	cin>>t;
	while(t--){
		cin>>k>>n;
		if(n==1)
			cout<<"1"<<endl;
		else if(n==2)
			cout<<k<<endl;
		else{
			ll ans=powe(2,n-3,mod-1);
			cout<<powe(k,ans,mod)<<endl;
		}
	}
	return 0;
} 