//Copyrights of the Code reserved with chetan_shukla
 
#include <bits/stdc++.h>
using namespace std;
#define  MOD 1000000007
 
long long POW(long long a, long long b)
{
    long long x=1, y=a;
    while(b>0)
    {
        if(b%2==1)
            x = (x%MOD*y%MOD)%MOD;
 
        y=(y%MOD*y%MOD)%MOD;
 
        b/=2;
    }
 
    return x%MOD;
}
long long MUL(long long a, long long b)
{
    long long x=1, y=a;
    long long MOD1;
    MOD1=MOD-1;
    while(b>0)
    {
        if(b%2==1)
            x = (x%MOD1*y%MOD1)%MOD1;
 
        y=(y%MOD1*y%MOD1)%MOD1;
 
        b/=2;
    }
 
    return x%MOD1;
}
int main() 
{
	int t;
	scanf("%d", &t);
 	while(t--)
 	{
 		long long n,k,i;
 		scanf("%lld %lld", &k, &n);
 		
 		if(n==1)
 		{
 			printf("1\n");
 			continue;
 		}
 		if(n==2)
 		{
 			printf("%lld\n",k);
 			continue;
 		}
 		
 		else
 		{
 			long long exp1,exp2;
 			exp1 = MUL(2,n-3);
 			exp2 = POW(k,exp1);
 			
 			printf("%lld\n",exp2%MOD);
 		}
 	}
 	
	return 0;
}