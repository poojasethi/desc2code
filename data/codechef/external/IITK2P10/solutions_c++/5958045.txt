#include<bits/stdc++.h>
using namespace std;
//#define MOD 1000000007
long long int power(long long int x, long long int y,long long int MOD)
{
    long long int temp;
    if( y == 0)
       return 1;
    temp = power(x, y/2,MOD)%MOD;       
    if (y%2 == 0)
        return (temp*temp)%MOD;
    else
    {
        if(y > 0)
            return (((x*temp)%MOD)*temp)%MOD;
        else
            return ((temp*temp)%MOD)/x;
    }
}  
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
	long long int k,a,c,d,x=1;
	scanf("%lld %lld",&k,&a);
		if(a==1)
	{
		x=1;
	
	
	}
	else if(a==2||a==3)
	{
			x=k;
	
	
	}

	else
	{
		//a=a-3;
		x=power(k,power(2,a-3,1000000006),1000000007);
		
		

	
	}
		printf("%lld\n",x);
	
	
	}



return 0;
}