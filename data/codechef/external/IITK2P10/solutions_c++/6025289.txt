#include <cstdio>
#include <algorithm>
#include <vector>
#include <iostream>
#include <string>
#include <string.h>
#include <set>
#include <map>
#include <stdlib.h>
#include <iomanip>
#include <bitset>
#include <cmath>
using namespace std;
#define ll long long
#define sd(x) scanf("%d",&x)
ll pw(ll a,ll b,ll mod)
{
if(b==0)
return 1;
ll x=pw(a,b/2,mod);
if(b&1)
return (((x%mod)*(x%mod))%mod*(a%mod))%mod;
else
return ((x%mod)*(x%mod))%mod;
}
int main()
{
int t;
ll mod=1000000007;
sd(t);
while(t--)
{
ll n,k;
scanf("%lld",&k);
scanf("%lld",&n);
if(n<=3)
{
if(n==1)
printf("1\n");
else
printf("%lld\n",k);
}
else
{
ll ans=pw(2,n-3,mod-1);
ll an=pw(k,ans,mod);
cout<<an%mod<<endl;
}
}
return 0;
}
