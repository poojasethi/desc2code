#include<cstdio>
#include<cstdlib>
#include<iostream>
#include<algorithm>
#include<queue>
#include<cstring>
#include<string>
using namespace std;

int main() {
	int t;
	scanf("%d",&t);
	while(t--) {
		 long long int n;
		 long long int k,x;
		long long int ans=0;
		long  long int *a;
		scanf("%lld %lld",&n,&k);
		a=(long long int*)malloc((n+1)*sizeof(long long int));
		for( long long int i=0;i<n;i++) {
			scanf("%lld",&a[i]);
		}
		sort(a,a+n);
		long long int i,s[n+1];
		long long int j=1,l,diff,p=0;
		for(i=0;i<n;i++)
			s[i]=a[i]*((float)(a[i]+1)/(float)2);
		p=0;
		for(i=n-1;i>=0;i--)
		{
			if(i>0)
				diff=a[i]-a[i-1];
			else
				diff = a[i];
			if(p+(diff*j)<=k)
			{
				if(i>0)
					ans+=j*(s[i]-s[i-1]);
				else 
					ans+= j*s[i];
				p+=(diff*j);
				j++;
			}
			else
			{
				for(l=a[i];l>0;l--)
				{
					if(p+j<=k)
					{
						ans+=(l*j);
						p+=j;
					}
					else
					{
						ans+=(l*(k-p));
						break;
					}
				}
				break;
			}
		}
		printf("%lld\n",ans);
	}
	return 0;
}
			
			
	
