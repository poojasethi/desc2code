#include <iostream>
#include <string>
#include <climits>
#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <vector>
#include <algorithm>
#include <utility>
#include <queue>
#include <stack>
#include <map>
#include <set>
#include <cstring>
using namespace std;
#define PR(x) cout << #x " = " << x << "\n";
#define EMPTY 2147483647
void orderify(std::vector<std::vector<int> > &p, int i, int j, int &count, int r, int c)
{
	if (i>r || j>c)
	{
		return;
	}
	int x=-1, y=-1;

	if (i+1<r && p[i+1][j]<p[i][j])
	{
		p[i][j]=p[i+1][j];
		x=i+1; y=j;
	}
	if (j+1<c && p[i][j+1]<p[i][j])
	{
		p[i][j]=p[i][j+1];
		x=i; y=j+1;
	}

	if (x!=-1)
	{
		count++;
		p[x][y]=INT_MAX;
		orderify(p, x, y, count,r,c);
	}
}
int main(int argc, char const *argv[])
{
	ios_base::sync_with_stdio(0);
	int r,c, t,temp; cin>>t;
	while(t--)
	{
		cin>>r>>c;
		std::vector<std::vector<int> > p(r, std::vector<int> ());
		for (int i = 0; i < r; ++i)
		{
			for (int j = 0; j < c; ++j)
			{
				cin>>temp;
				p[i].push_back(temp);
				if (p[i][j]==EMPTY) p[i][j]=INT_MAX;
			}
		}

		p[0][0]=INT_MAX;
		int count=0;
		orderify(p,0,0,count,r,c);
		cout<<count<<endl;
	}
	return 0;
}