#include<bits/stdc++.h>
using namespace std;

#define REP(i,a,b) for(int i=a;i<b;i++)
#define rep(i,n) REP(i,0,n)

#define ll long long
#define ull unsigned ll
#define pii pair<int,int>
vector<pii> g[100009];
ll ans;
bool visit[100009];
ll s[100009];
int cnt[100009];
int n;
void dfs1(int u)
{
    visit[u]=true;
    cnt[u]=1;
    for(int i=0;i<g[u].size();i++)
    {
        int v = g[u][i].first;
        int w = g[u][i].second;
        if(visit[v])
            continue;
        dfs1(v);
        s[u] += s[v] + 1LL*cnt[v]*w;
        cnt[u] += cnt[v];
    }

}
void dfs2(int u)
{
    visit[u]=true;

    for(int i=0;i<g[u].size();i++)
    {
        int v = g[u][i].first;
        int w = g[u][i].second;
        if(visit[v])
            continue;

        s[v] = s[u] + (1LL*(n-(2*cnt[v]))*w);
        dfs2(v);
    }

}
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d",&n);
        for(int i=0;i<=n;i++)
        g[i].clear();
        for(int i=0;i<n-1;i++)
        {
            int u,v,w;
            scanf("%d %d %d",&u,&v,&w);
            g[u].push_back(pii(v,w));
            g[v].push_back(pii(u,w));
        }
        for(int i=1;i<=n;i++)
        {
            cnt[i]=0;
            visit[i]=false;
            s[i]=0;
        }
        dfs1(1);
        for(int i=1;i<=n;i++)
        {
            visit[i]=false;
        }
        dfs2(1);
        for(int i=1;i<=n;i++)
            printf("%lld\n",s[i]);
    }
    return 0;
}
