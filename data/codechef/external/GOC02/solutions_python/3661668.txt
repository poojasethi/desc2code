T=input()
while T:
    T-=1
    N=input()
    A=[int(x) for x in raw_input().split()]
    arr=[0]*4001
    count=0
    for i in range(0,len(A)):
        arr[A[i]+2000-i]+=1
        if count<arr[A[i]+2000-i]:
            count=arr[A[i]+2000-i]
    print N-count
