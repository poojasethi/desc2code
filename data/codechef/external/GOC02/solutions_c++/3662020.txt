#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<algorithm>
using namespace std;
 
typedef long long ULL;
#define REP(i,N) for(int i = 0; i < N; i++)
 
int main()
{
	int t, N;
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&N);
		int * arr =(int *)calloc(N,sizeof(int));
		int j;
		for(int i = 0; i < N; i++)
		{
			scanf("%d",&arr[i]);
			j = arr[i] - i;
			arr[i] = j;
		}
		//cout<<"SORTING"<<endl;
		sort(arr,arr+N);
		//REP(i,N)	cout<<arr[i]<<" ";
		//cout<<endl;
		//cout<<"SORTING DONE"<<endl;
		int maxC=1,cnt=1;
		j = arr[0];
		for(int i = 1; i < N; i++)
		{
			if(arr[i] == j)
			{
				cnt += 1;
				if(cnt > maxC)
					maxC = cnt;
			}
			else
			{
				if(cnt > maxC) 
					maxC = cnt;
				cnt = 1;
				j = arr[i];
			}
		}
		printf("%d\n",N-maxC);
		free(arr);
	}
	return 0;
}