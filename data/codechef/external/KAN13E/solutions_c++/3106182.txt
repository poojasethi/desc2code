#include<cstdio>
#include<iostream>
#include<cstring>
#include<queue>
#include<algorithm>
#include<string>
#include<map>
#include<set>
#include<sstream>
#include<iomanip>
#include<cmath>
using namespace std;
#define ll long long
//#define inf 1000000007
#define mod 1000000007
const ll inf = 100000000000000007LL;
#define pii pair<int,int>
#define vi vector<int>
#define all(x) x.begin(),x.end()
#define mp make_pair
#define pb push_back
#define x first
#define y second
#define N 1010
int dfn[N],low[N],be[N],in[N],s[N],g[N][N],v[N/2][N/2],top,cnt,p,n,t;
void tarjan(int u)
{
	dfn[u]=low[u]=++cnt;
	in[u]=1;s[++top]=u;
	for(int i=0;i<n+n;i++)
	if(g[u][i]==t)
	{
		if(!dfn[i])
		{
			tarjan(i);low[u]=min(low[u],low[i]);
		}
		else if(in[i])low[u]=min(low[u],dfn[i]);
	}
	if(dfn[u]==low[u])
	{
		p++;int j;
		do
		{
			j=s[top--];
			in[j]=0;be[j]=p;
		}while(j!=u);
	}
}
int main()
{
	int T,i,j,k,ca=0,m;
	memset(v,0,sizeof(v));
	scanf("%d",&T);
	t=0;
	while(T--)
	{
		t++;
		scanf("%d%d",&n,&m);
		for(i=0;i<m;i++)
		{
			scanf("%d%d",&j,&k);
			j--,k--;
			v[k][j]=v[j][k]=t;
		}
		for(i=0;i<n;i++)
		for(j=i+1;j<n;j++)
		if(v[i][j]==t)
		g[i][n+j]=g[j][n+i]=t;
		else g[n+i][j]=g[n+j][i]=t;
		memset(dfn,0,sizeof(dfn));
		memset(in,0,sizeof(in));
		top=0,cnt=0,p=0;
		for(i=0;i<n+n;i++)
		if(dfn[i]==0)tarjan(i);
		int f=1;
		for(i=0;i<n;i++)
		{
			if(be[i]==be[i+n]){f=0;break;}
		}
		if(f)puts("YES");
		else puts("NO");
	}
}