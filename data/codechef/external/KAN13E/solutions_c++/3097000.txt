#include <iostream>
#include <algorithm>
#include <cstring>
using namespace std;
int n,m, deg[501], a, b;
bool cmp(int x,int y){
	return x > y; 
}
int main(){
	int t;
	cin >> t;
	while (t--) {
		cin >> n >> m; 
		memset(deg,0,sizeof deg); 
		for(int i=0;i<m;i++){
			cin >> a >> b; 
			deg[a-1]++; 
			deg[b-1]++; 
		}
		sort(deg,deg+n,cmp); 
		int sum1 = 0; 
		int sum2 = 0; 
		int cnt = 0;
		for(int i=0;i<n;i++){
			if(deg[i] > i){
				sum1 += deg[i]; 
				cnt++;
			} else{
				sum2 += deg[i]; 
			}
		}
		if (sum1 == sum2 + cnt*(cnt-1)) {
			cout << "YES" << endl;
		} else {
			cout << "NO" << endl;
		}
	}
}