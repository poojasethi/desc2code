#include<iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
using namespace std;

int con[600];

bool cmp(int i, int j)
{
    return (con[i]<con[j]);
}

main()
{
    int i,j,k,n,m,t,id,mn,total,res,x,y;
    scanf("%d",&t);

    while(t--)
    {
        scanf("%d %d",&n,&m);
        int a[n+1][n+1],ind[n+1];
        vector<int> v;

        for(i=1;i<=n;i++) {con[i]=0; ind[i]=i;}
        for(i=1;i<=n;i++)
            for(j=1;j<=n;j++) a[i][j]=0;

        total=2*m;
        res=0;

        for(i=0;i<m;i++)
        {
            scanf("%d %d",&x,&y);
            a[x][y]=1;
            a[y][x]=1;
            con[x]++;
            con[y]++;
        }

        mn=100000000;

        sort(ind+1,ind+n+1,cmp);

        for(i=1;i<=n;i++)
        {
            id=ind[i];
            for(j=0;j<v.size();j++)
            {
             if(a[id][v[j]]==1) break;
            }
            if(j==v.size())
            {
                v.push_back(id);
                res+=con[id];
            }
        }

        //for(i=0;i<v.size();i++) cout<<v[i]<<" "; cout<<endl;

        total=total-2*res;
        n=n-v.size(); //cout<<total<<" "<<res<<endl;

        if(total==n*(n-1)) printf("YES\n");
        else printf("NO\n");
    }
}
