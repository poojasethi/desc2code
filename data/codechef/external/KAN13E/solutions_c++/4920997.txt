#include <bits/stdc++.h>

using namespace std;

#define x first
#define y second
#define mp make_pair
#define pb push_back
#define sz(a) (int)(a.size())
#define all(a) a.begin(), a.end()
#define R(a) ((a)%mod)

typedef vector<int> VI;
typedef vector<VI> VVI;
typedef long long ll;
typedef vector<ll> VL;
typedef vector<VL> VVL;
typedef vector<bool> VB;
typedef vector<string> VS;
typedef pair<int, int> PI;
typedef vector<PI> VPI;
typedef vector<double> VD;
typedef vector<VD> VVD;

int main(int argc, char const *argv[]) {
    ios::sync_with_stdio(false);

    int t;
    cin >> t;
    for (int cs = 0; cs < t; ++cs) {
        int n, m;
        cin >> n >> m;
        VVI w(n, VI(n, 0));
        VPI deg(n);
        for (int i = 0; i < n; ++i) {
            deg[i] = mp(0, i);
        }
        for (int i = 0; i < m; ++i) {
            int a, b;
            cin >> a >> b;
            w[a-1][b-1] = 1;
            w[b-1][a-1] = 1;
            deg[a-1].x++;
            deg[b-1].x++;
        }
        sort(all(deg));

        int ax = 2 * m, bx = 0, clq = n;
        if (ax == clq * (clq - 1)) {
            cout << "YES" << endl;
        } else {
            for (int i = 0; i < n; ++i) {
                for (int j = 0; j < i; ++j) if (w[deg[i].y][deg[j].y]) {
                    bx += 2;
                }
                for (int j = i + 1; j < n; ++j) if (w[deg[i].y][deg[j].y]) {
                    ax -= 2;
                }
                clq--;
                if (bx) {
                    cout << "NO" << endl;
                    break;
                } else if (ax == clq * (clq - 1)) {
                    cout << "YES" << endl;
                    break;
                }
            }
        }
    }
    
    return 0;
}