#include<iostream>
#include<stdlib.h>
#include<stdio.h>
#include<cmath>
using namespace std;
int primes[3450];//upto index 3408
int upto=31700;
void getPrimes()
{
    bool list[upto];
    for(int i=0; i<upto; i++)
        list[i]=true;
    for(int i=2; i*i<=upto; i++)
        if(list[i]==true)
            for(int j=2*i; j<upto; j+=i)
                list[j]=false;
    for(int i=2,j=0; i<upto; i++)
        if(list[i]==true)
            primes[j++]=i;
}
int main()
{
    int t,m,n,count;
    getPrimes();
    scanf("%d",&t);
    while(t--)
    {
        scanf("%d%d",&m,&n);
        count=0;
        if(m<31700)
        {
            for(int i=0; i<3409; i++)
                if(primes[i]<=n && primes[i]>=m)
                    count++;//printf("%d\n",primes[i]);
            m=31700;
        }
        if(n>=31700)
        {
            bool list[n-m+1];
            for(int i=0; i<n-m+1; i++)
                list[i]=true;
            for(int i=0; primes[i]*primes[i]<=n; i++)
            {
                if(m%primes[i]==0 && m!=primes[i])
                    list[0]=false;
                int r=m/primes[i],k;
                k=(r+1)*primes[i]-m;
                for(; k<n-m+1; k+=primes[i])
                    list[k]=false;
            }
            for(int i=0; i<n-m+1; i++)
                if(list[i]==true)
                    count++;//printf("%d\n",i+m);
        }
        printf("%d\n",count);
    }
}
