#include<bits/stdc++.h>
using namespace std;
int main()
{
	int t,n,i,j,maxm,uu,vv,save;
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n);
		vector<int>v[n];
 
		for(i=1;i<n;i++)
		{
			scanf("%d%d",&uu,&vv);
			v[uu-1].push_back(vv-1);
			v[vv-1].push_back(uu-1);
		}
		maxm=-1;
		vector<int>:: iterator it1;
 
			for(i=0;i<n;i++)
			{
				vector<int>par(n);
				vector<int>len(n);
				vector<int>vis(n);
				stack<int>s;
				s.push(i);
				vis[i]=2;
				len[i]=0;
				par[0]=0;
				while(!s.empty())
				{
					int k=s.top();
					s.pop();
					if(vis[k]==2||vis[k]==1)
					{
						int temp=len[par[k]]+1;
						if(temp>maxm)
						{
							maxm=temp;
						}
					}
					/*else if(vis[k]==1)
					{
                        par[k]
					}*/
					vector<int>:: iterator it;
					if(vis[*(v[k].begin())]==0)
					{
						vis[*(v[k].begin())]=1;
						par[*(v[k].begin())]=k;
						len[*(v[k].begin())]=len[k]+1;
						s.push(*(v[k].begin()));
					}
					for(it=v[k].begin()+1;it!=v[k].end();it++)
					{
						if(vis[*it]==0)
						{
							vis[*it]=2;
							par[*it]=k;
							len[*it]=len[k]+1;
							s.push(*it);
						}
					}
				}
			}
		cout<<maxm<<endl;
	}
	return 0;
}