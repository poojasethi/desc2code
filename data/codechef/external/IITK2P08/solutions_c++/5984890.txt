#include <bits/stdc++.h>
using namespace std;

int main(){
	int n,k,ans=0,temp=0;
	scanf("%d %d",&n,&k);
	int s[100][100];
	int mask[100][100];
	for(int i=0;i<n;i++){
		scanf(" ");
		for(int j=0;j<n;j++)s[i][j]=1<<(getchar()-'A');
	}	
	for(int i=0;i<n;i++){
		for(int j=0;j<n;j++){				
			for(int x=i;x<n;x++){
				int l=n;
				for(int y=j;y<l;y++){										
					if(x==i && y==j){
						mask[x][y]=s[i][j];
					}
					else if(x==i){
						mask[x][y]=mask[x][y-1] | s[x][y];
					}
					else if(y==j){
						mask[x][y]=mask[x-1][y] | s[x][y];
					}
					else {
						mask[x][y]=mask[x-1][y] | mask[x][y-1] | s[x][y];
					}
					int pop=__builtin_popcount(mask[x][y]);
					if(pop==k)ans++;
					else if(pop>k){
						l=j;
						break;
					}
				}
			}
		}
	}
	printf("%d",ans);
	return 0;
}
