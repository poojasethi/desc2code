#include <bits/stdc++.h>
using namespace std ;

#define MAXN 1005
int T,N,K;
char M[MAXN][MAXN] ;
int DP[MAXN][MAXN] , val , ans , A[MAXN];

int cntset(int x){
	int c = 0 ;
	while(x){
		c ++ ;
		x -= x&-x ;
	}
	return c ;
}


int main(){

	scanf("%d%d",&N,&K) ;
	for(int i=1;i<=N;i++){
		for(int j=1;j<=N;j++){
			cin >> M[i][j] ;
		}
	}
	A[0] = 1 ;
	for(int i=1;i<26;i++){
		A[i] = A[i-1]*2 ;
	}
	for(int i=1;i<=N;i++){
		for(int j=1;j<=N;j++){
			for(int k=i;k<=N;k++){
				val = 0 ;
				for(int l=j;l<=N;l++){
					val |= (A[M[k][l]-'A']) ;
					DP[k][l] = (val|DP[k-1][l]) ;
					int cnt = cntset(DP[k][l]) ;
					if(cnt > K){
						break ;
					}
					if(cnt == K)
						ans ++ ;
				}
			}
			for(int k=i;k<=N;k++){
				for(int l=j;l<=N;l++){
					DP[i][j] = 0 ;
				}
			}
		}
	}
	printf("%d\n",ans) ;
	return 0 ;
}
