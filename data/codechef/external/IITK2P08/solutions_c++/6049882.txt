#include <bits/stdc++.h>
using namespace std;
char g[101][101];
int dp[101][101][101];


int main() {
int i,j,k,n,xx,l;
cin>>n>>xx;
for(i=0;i<n;i++)
scanf("%s",g[i]);

for(i=0;i<n;i++)
for(j=0;j<n;j++)
{
int val=0;
for(k=j;k<n;k++)
{val|=(1<<g[i][k]-'A');
dp[i][j][k]=val;
}
}
long long sum=0;
for(j=0;j<n;j++)
{
for(k=j;k<n;k++)
{

for(i=0;i<n;i++)
{
int val=0;
for(l=i;l<n;l++)
{
val|=dp[l][j][k];
if(__builtin_popcount(val)==xx)
sum++;
}
}
}
}
cout<<sum;


	return 0;
}