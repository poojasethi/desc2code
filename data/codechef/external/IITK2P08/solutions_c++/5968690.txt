#include<bits/stdc++.h>
using namespace std;
 
#define ll long long
#define mod 1000000007
#define pb push_back
#define mp make_pair
 
ll powe(ll a,ll b,ll m){
	ll ans=1;
	while(b){
		if(b&1){
			ans=(ans*a)%m;
		}
		a=(a*a)%m;
		b>>=1;
	}
	return ans%m;
}
char str[111][111];
ll dp[111][111][111];
int main(){
	int n,K;
	scanf("%d %d",&n,&K);
	int l,k,i,j;
	for(i=0;i<n;i++)
			for(j=0;j<n;j++)
			scanf(" %c",&str[i][j]);
	for(i=1;i<=n;i++){
		for(j=1;j<=n;j++){
			ll mask=0;
			for(k=j;k<=n;k++){
				mask|=(1<<(str[i-1][k-1]-'A'));
				dp[i][j][k]=mask;
			}
		}
	}
	ll fans=0;
	for(int left=1;left<=n;left++){
		for(int right=left;right<=n;right++){
			for(int top=1;top<=n;top++){
				ll mask=0;
				for(int bottom=top;bottom<=n;bottom++){
					mask|=dp[bottom][left][right];
					int cnt=__builtin_popcount(mask);
					if(cnt==K)
						++fans;
					else if(cnt>K)
						break;
				}
			}
		}
	}
	printf("%lld\n",fans);
	return 0;
} 