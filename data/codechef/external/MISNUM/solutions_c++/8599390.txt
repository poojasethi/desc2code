#include<bits/stdc++.h>
using namespace std;

int main()
{
	int i,j,in=0,q,l,r,ans;
	vector<int> v(31633);
	map<int,int> m;
	for(i=2;i<=31622;i++)
	{
		if(v[i]==0)
		{
			in++;
			m[i*i]=in;
			for(j=2*i;j<=31622;j=j+i)
				v[j]=1;
		}
	}
	map<int,int>::iterator it1,it2;
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d%d",&l,&r);
		it1=m.lower_bound(l);
		it2=m.lower_bound(r);
		if(it1==m.end())
		{
			ans=0;
		}
		else
		{
			if((it1->first)>r)
				ans=0;
			else
			{
				if((it2==m.end())||((it2->first)>r))
					it2--;
				ans=(it2->second)-(it1->second)+1;
			}
		}
		printf("%d\n",ans);
	}
	return 0;
}
