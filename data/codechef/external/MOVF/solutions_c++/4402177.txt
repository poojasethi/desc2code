// Author : thecodekaiser
// Using hashing
#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <cstring>

using namespace std;

void solve()
{
      int i, N, K, rem1, rem2, j;
      int cost[505];
      char str[55];
      int hash[10005];
      memset(hash,0,sizeof(hash));
      scanf("%d %d",&N, &K);
      for(i=0;i<N;i++)
      {
         getchar();
         gets(str);
         scanf("%d",&cost[i]);
         hash[cost[i]]++;
      }
      int ans=0;
      for(i=0;i<N;i++)
      {
          rem1 = K - cost[i];
          if(rem1 < 0)
          	continue;

          for(j = i+1; j < N; j++)
          {
              rem2 = rem1 - cost[j];
              if(rem2 < 0) continue;
              int x = hash[rem2];
              if(cost[i] == rem2) x--;
              if(cost[j] == rem2) x--;
              if(x > 0)
                ans += x;
          }
      }
      printf("%d\n",(ans/3));
	  return;
}

int main()
{
      int t;
      scanf("%d",&t);
      while(t--)
      {
		solve();         
      }
 
return 0;
}
 