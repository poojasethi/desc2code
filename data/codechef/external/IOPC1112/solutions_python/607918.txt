#include <stdio.h>
#include <string.h>
#define siz 410
#define MOD 100000007
#define S(a,b) memset(a,b,sizeof(a))
#define T(a) a[kn][k][w]=a[kn][k][1-(w)]
#define U(a) for(k=-1;++k<=K;sum%=MOD,a[kn][k][w]=(int)sum)
#define V(a) for(l=-!(sum=0); ++l<=k; sum+=(long long)a)

int N, R, K, gr[siz], el[siz], ja[siz][siz][2], ne[siz][siz][2], li[siz][siz], be[siz];

int g(int kn)
{
int v, k, l, ad=1, w=1;
long long sum;
for(k=!(be[kn]=ne[kn][0][0]=ja[kn][0][0]=1); ++k<=K; ne[kn][k][0]=ja[kn][k][0]=0);
for(; ad<=gr[kn]; ad++,w=1-w)
	{
	if((v=li[kn][ad-1])==el[kn])
		{
		for(k=-1; ++k<=K; T(ja),T(ne));
		continue;
		}
	if(!be[v])
		g(v);
	U(ja)
		{
		V(ja[kn][k-l][1-(w)]*ja[v][l][gr[v]&1]);
		for(l=-1; ++l<=k-1; sum+=(long long)ne[kn][k-l-1][1-(w)]*ne[v][l][gr[v]&1]);
		}
	U(ne)
		V(ja[v][l][gr[v]&1]*ne[kn][k-l][1-(w)]);
	}
return ja[kn][K][gr[kn]&1];
}

main()
{
int fall, x, y, i, qf, qb, u, v, q[400];;
for(scanf("%d",&fall); fall--;)
	{
	for(i=-(!!scanf("%d %d %d",&N,&R,&K)),S(gr,0),S(el,-1),S(be,0),S(ja,0),S(ne,0),S(li,-1); ++i<R; scanf("%d %d",&x,&y),li[x][gr[x]++]=y,li[y][gr[y]++]=x);
	for(el[1]=!(qf=qb=0),q[qb++]=1; qf<qb;)
		for(u=q[qf++]+(i=0); i<gr[u]; i++)
			if((v=li[u][i])!=el[u])
				el[q[qb++]=v]=u;
	g(1);
	printf("%d\n", ja[1][K][gr[1]&1]);
	}
return 0;
}
