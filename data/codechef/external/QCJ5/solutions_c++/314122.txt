#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

const int maxn = 20, maxm = 200;

int main()
{
    int i, j, k, n, l, max = 0;
    char mountain[maxn][maxm], ch[1];
    cin >> n;
    gets(ch);
    gets(ch);
    for(i=0; i<n; i++)
    {
             gets(mountain[i]);
             l = strlen(mountain[i]);
             max = l > max ? l : max;
    }
    i = n-1;
    cout << "Total Walk Distance = " << max << endl;
    for(j=0; j<max; )
    {
             int wh = 0;
             if(mountain[i][j] == '_')
             {
                               while((mountain[i][j] == '_') && (j < max))
                               {
                                                    wh++;
                                                    j++;
                               }
                               cout << "Walk " << wh << " steps\n";
             }
             else if(mountain[i][j] == '/')
             {
                               while((mountain[i][j] == '/') && (j < max) && (i >= 0))
                               {
                                                    wh++;
                                                    i--;
                                                    j++;
                               }
                               cout << "Up " << wh << " steps\n";
             }
             else if(mountain[i][j] == 92)
             {
                               while((mountain[i][j] == 92) && (j < max) && (i < n))
                               {
                                                    wh++;
                                                    i++;
                                                    j++;
                               }
                               cout << "Down " << wh << " steps\n";
             }
             bool flag = true;
             for(k=1; (k >= -1) && (flag); k--)
                      if((mountain[i+k][j] != 32) && (i+k < n) && (i+k >= 0)) flag = false;
             k++;
             i += k;
    }
    //cin.get(); cin.get();
    return 0;
}
