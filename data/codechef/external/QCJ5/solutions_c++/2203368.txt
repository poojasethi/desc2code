#include <iostream>
#include <stdio.h>
#include <string.h>
using namespace std;

int cam[210];
int N;
char linea[210];
int maxi=0;

void leer(){
    cin >> N;

    gets(linea);
    gets(linea);
    for(int i=1; i<=N; i++){
        gets(linea);
        int l=strlen(linea);

        if(l>maxi){
            maxi=l;
        }

        for(int i=0; i<l; i++){

            if(linea[i]=='/'){
                cam[i]=1;
            }else if(linea[i]==92){
                cam[i]=3;
            }else if(linea[i]=='_'){
                cam[i]=2;
            }
        }
    }

}

int main()
{
    leer();

    int pas=cam[0];
    int ult=0;

    cout << "Total Walk Distance = " << maxi << endl;

    for(int i=0; i<=maxi; i++){
        if(cam[i]==pas){
            ult++;
        }else{
            if(pas==1){
                cout << "Up ";
            }else if(pas==2){
                 cout << "Walk ";
            }else if(pas==3){
                cout << "Down ";
            }

            cout << ult << " steps"<<endl;
            ult=1;
            pas=cam[i];

        }
    }
    return 0;
}
