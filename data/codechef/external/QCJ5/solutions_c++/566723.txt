// https://www.spoj.pl/problems/QCJ1/
// Mountain walking

#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cstdlib>
#include <vector>
#include <algorithm>
#include <iostream>

using namespace std;

int main()
{
	//freopen("mountin.txt", "r", stdin);
	//freopen("mountout.txt", "w", stdout);
	int rows;
	scanf("%d%*c%*c",&rows);
	string x[rows];
	for(int i = 0; i < rows; ++i)
	        getline(cin, x[i]);
	int sz_m = x[rows - 1].size();
	for(int i = 0; i < rows - 1; ++i)
	{
			for(int j = x[i].size(); j < sz_m; j++)
			        x[i] += " ";
	}
	int colms = sz_m;
	char ch[rows][colms];
	for(int i = 0; i < rows; ++i)
	        for(int j = 0; j < colms; j++)
	                ch[i][j] = x[i][j];
	vector<char> moves;
	for(int j = 0; j < colms; j++)
	        for(int i = 0; i < rows; ++i)
	        {
					if(ch[i][j] == '\\' || ch[i][j] == '/' || ch[i][j] == '_')moves.push_back(ch[i][j]);
			}
	int tot = moves.size();
	printf("Total Walk Distance = %d\n", tot);
	for(int i = 0; i < moves.size(); ++i)
	{
			char ch = moves[i];
			int up = 0, dn = 0, wn = 0;
			switch(ch)
			{
					  case '/':
							   while(moves[i] == '/'){up++;i++;}
							   i--;
							   printf("Up %d steps\n", up);
							   break;
					  case '\\':
							   while(moves[i] == '\\'){dn++;i++;}
							   i--;
							   printf("Down %d steps\n", dn);
							   break;
					  case '_':
							   while(moves[i] == '_'){wn++;i++;}
							   i--;
							   printf("Walk %d steps\n", wn);
							   break;
	  		}
 	}

	return 0;
}
