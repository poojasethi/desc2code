#include <iostream>
#include <vector>
#include <string>
#include <algorithm>
//#include <conio.h>
using namespace std;
string str(char x)
{
  switch (x)
    {
    case '/':
      return "Up";
      break;
    case '\\':
      return "Down";
      break;
    case '_':
      return "Walk";
      break;
    default:
      cerr<<"Why?"<<endl;
      return "SILLY!!!";
    }
}

int main()
{
  int n;
  cin>>n;
  string lines[n];
  int len=0;
  string temp;
  getline(cin,temp);
  getline (cin,temp);
  for(int i=0;i<n;i++)
    {
    getline(cin,lines[i]);
    //cerr<<"Got:"<<lines[i]<<endl;
    len=max(len,(int)lines[i].length());
    }
  vector<char> path(len);
  for(int i=0;i<len;i++)
    {
      for(int j=0;j<n;j++)
	{
      if(i>=lines[j].length())
         continue;
	  if(lines[j][i]!=' ')
	    {path[i]=lines[j][i]; //cerr<<"Set:"<<i<<" : "<<path[i]<<"From: "<<j<<endl;
         break;}
	}
    }
  cout<<"Total Walk Distance = "<<len<<endl;
  char going=path[0];
  int count=1;
  for(int i=1;i<len;i++)
    {
      if(path[i]==going)
	{
	  count++;
	  if(i==len-1)
	    {
        //  cerr<<"Printing for:"<<i<<" wh2ich is:"<<path[i]<<endl;
	      cout<<str(going)<<" "<<count<<" steps"<<endl;
	    }
	}
      else
	{
      //cerr<<"Printing for:"<<i<<" which is:"<<path[i]<<endl;
	  cout<<str(going)<<" "<<count<<" steps"<<endl;
	  count=1;
	  going=path[i];
	  if(i==len-1)
        cout<<str(path[i])<<" 1 steps"<<endl;
	}
    }
  //getch();
  return 0;
}
