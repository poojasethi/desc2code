#include <vector>
#include <list>
#include <map>
#include <set>
#include "queue"
#include <deque>
#include <stack>
#include <numeric>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <cstring>
#include <climits>
#include <cassert>
#include <iostream>
#define MOD 1000000
#define pi 3.141592653589
#define iil pair<int,int>
#define vii vector<ii>
#define ll  long long int
#define FORD(i,a,b) for(int i=(a),_b=(b);i>=_b;i--)
#define REP(i,a,b) for(ll i=a;i<=b;i++)
#define loop(i,n) for(ll i=0;i<n;i++)
#define ll  long long int
#define loop2(i,n) for(ll i=1;i<=n;i++)
#define MIN(a,b) (a) < (b) ? (a) : (b)
#define MAX(a,b) (a) > (b) ? (a) : (b)
#define ABS(a) (a) > 0 ? (a) : -(a)
#define rep(i,n) for(i=0;i<(n);i++)
#define pii pair< ll, ll >
#define pb push_back
#define mp make_pair
#define FOR(i,a,b) for (int _n(b), i(a); i <= _n; i++)
#define rept(i,n) FOR(i,0,(n)-1)
#define edge pair<int ,int >
#define maxn 201
using namespace std;

typedef vector<pii> vpp;
int dp[5005][5005];
int main(){
   
   int n,a[5005];
   scanf("%d",&n);
   vpp v;
   for(int i  =1;i<=n;i++){
       scanf("%d",&a[i]);
       v.pb(mp(a[i],i));
   }


   sort(v.begin(),v.end());
   for(int z = 0 ;z<n;z++){
       int i  = v[z].second;
       for(int j = i-1;j>=1;j--){
           dp[i][j]=max((a[i]>a[j])?(1+dp[j][i-1]):0,dp[i][j+1]);
       }
       for(int j = i+1;j<=n;j++){
           dp[i][j]=max((a[i]>a[j])?(1+dp[j][i+1]):0,dp[i][j-1]);
       }
   }
for(int i  =1;i<=n;i++){

    int accepted = 0 ;
    for(int j=1;j<=n;j++){
        accepted = max(accepted,dp[i][j]);
        
    }
    printf("%d ",accepted);
}
    
        return 0;
}




