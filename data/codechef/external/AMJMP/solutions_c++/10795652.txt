#include <bits/stdc++.h>
using namespace std;
#define LL long long
LL dp[5555][5555];
int in[5555];

LL ans_me(int st,int ed)
{
  if(st == ed) return 0;
  LL &ret = dp[st][ed];
  if(ret != -1) return ret;
  ret = 0;
  if(st >= ed){
    if(in[st] > in[ed]) ret = max(ret , ans_me(ed , st - 1) + 1);
    ret = max(ret , ans_me(st , ed + 1));
  }
  else {
    if(in[st] > in[ed]) ret = max(ret , ans_me(ed , st + 1) + 1);
    ret = max(ret , ans_me(st , ed - 1));
  }
  return ret;
}


int main()
{
  int n;
  scanf("%d",&n);
  for(int i=0;i<n;i++) scanf("%d",&in[i]);
  memset(dp,-1,sizeof(dp));
  for(int i=0;i<n;i++){
    LL ans = max(ans_me(i,0), ans_me(i,n - 1));
    if(i) printf(" ");
    printf("%lld",ans);
  }
  printf("\n");
  return 0;
}
