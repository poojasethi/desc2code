#include<bits/stdc++.h>
#define PB push_back
#define MP make_pair
#define F first
#define S second
#define FRI freopen("in.txt","r",stdin)
#define FRO freopen("out.txt","w",stdout)
#define debug(args...) {dbg,args; cerr<<endl;}
#define EPS 1e-12
#define RAD(x) ((x*PI)/180)
#define MAXN 5005
using namespace std;

const double PI=acos(-1.0);

struct debugger{
    template<typename T> debugger& operator , (const T& v){
        cerr<<v<<" ";
        return *this;
    }
}dbg;

int dp[MAXN][MAXN][2],h[MAXN],ans[MAXN];

int main() {
    int n,i,j,l;
    scanf("%d",&n);
    for(i=0;i<n;i++) {
        scanf("%d",&h[i]);
        dp[i][0][0]=dp[i][0][1]=0;
        ans[i]=0;
    }
    for(l=1;l<=n;l++)
        for(i=0;i<n;i++) {
            j=i-l;
            if(j>=0) {
                if(h[i]>h[j]) dp[i][l][0]=max(dp[i][l-1][0],1+dp[j][l-1][1]);
                else dp[i][l][0]=dp[i][l-1][0];
                ans[i]=max(ans[i],dp[i][l][0]);
            }
            j=i+l;
            if(j<n) {
                if(h[i]>h[j]) dp[i][l][1]=max(dp[i][l-1][1],1+dp[j][l-1][0]);
                else dp[i][l][1]=dp[i][l-1][1];
                ans[i]=max(ans[i],dp[i][l][1]);
            }
        }
    for(i=0;i<n-1;i++) printf("%d ",ans[i]);
    printf("%d\n",ans[i]);
    return 0;
}
