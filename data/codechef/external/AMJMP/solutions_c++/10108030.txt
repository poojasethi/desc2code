#include <bits/stdc++.h>

#define REP(i, n)	for(int i=0;i<n;i++)
#define REPN(i, n)	for(int i=1;i<=n;i++)

#define MAX			5050
#define INF			(1LL << 50LL)
#define pb			push_back

using namespace std;

typedef long long ll;

struct data{
	int x, y;
	bool operator < (const data &p) const{
		if(x == p.x) return y < p.y;
		return x < p.x;
	}
	data () {}
	data (int a, int b){
		x = a;
		y = b;
	}
};

int n, H[MAX], ret[MAX];
int dp[MAX][MAX];
vector<data>vec;

void init(){
	sort(vec.begin(), vec.end());
    REP(i, n){
    	int cur = vec[i].y;
    	for(int j=cur-1;j>=1;j--){
    		dp[cur][j] = dp[cur][j+1];
    		if(H[j] < H[cur]){
    			dp[cur][j] = max(dp[cur][j], dp[j][cur-1] + 1);
    		}
    	}
    	for(int j=cur+1;j<=n;j++){
    		dp[cur][j] = dp[cur][j-1];
    		if(H[j] < H[cur]){
    			dp[cur][j] = max(dp[cur][j], dp[j][cur+1] + 1);
    		}
    	}
    }

    REPN(i, n){
    	REPN(j, n){
    		if(i == j) continue;
    		ret[i] = max(ret[i], dp[i][j]);
    	}
    }
}

int main(){
	scanf("%d", &n);
	REPN(i, n){
		scanf("%d", &H[i]);
		vec.pb(data(H[i], i));
	}
	init();
	REPN(i, n-1) printf("%d ", ret[i]);
	printf("%d\n", ret[n]);
	return 0;
}