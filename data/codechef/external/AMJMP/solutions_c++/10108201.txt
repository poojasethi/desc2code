#include<bits/stdc++.h>
using namespace std;
#define mx 5010
#define ll long long
#define ff first
#define ss second
#define pi pair<int,int>
#define mp make_pair

int a[mx],dp[mx][mx];

int f(int l,int r)
{
 //  cout<<l<<" "<<r<<endl;
    if(l==r)return 0;
    if(dp[l][r]!=-1)return dp[l][r];
    int ans=0;
    if(l<r){

        if(a[l]>a[r])ans=1+f(r,l+1);
        ans=max(ans,f(l,r-1));
    }

    else{
        if(a[l]>a[r])ans=1+f(r,l-1);
        ans=max(ans,f(l,r+1));
    }

    return dp[l][r]=ans;

}

int main()
{
    int n;
    cin>>n;
    for(int i=0;i<n;i++)cin>>a[i];
    memset(dp,-1,sizeof(dp));

    for(int i=0;i<n;i++)cout<<max(f(i,0),f(i,n-1))<<" ";


}
