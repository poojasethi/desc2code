#include<bits/stdc++.h>
using namespace std;
typedef long long int uli;
const int mx=5e3+10;
int h[mx];
int f[mx][mx];
int main(){
   //   freopen("data.in","r",stdin);
   int n;
   scanf("%d",&n);
   for(int i=1;i<=n;i++)scanf("%d",h+i);
   h[0]=h[n+1]=1e9;
   n+=2;
   for(int i=0;i<n;i++)f[i][i+1]=0;
   for(int i=1;i<n;i++)f[i][i-1]=0;
   for(int l=2;l<n;l++){
      for(int i=0;i+l<n;i++){
         int j=i+l;
         f[i][j]=f[i][j-1];
         if(h[j-1]<h[i]){
            f[i][j]=max(f[i][j-1],f[j-1][i]+1);
         }
      }
      for(int i=l;i<n;i++){
         int j=i-l;
         f[i][j]=f[i][j+1];
         if(h[j+1]<h[i]){
            f[i][j]=max(f[i][j+1],f[j+1][i]+1);
         }
      }
   }
   for(int i=1;i<n-1;i++){
      if(i!=1)printf(" ");
      printf("%d",max(f[i][0],f[i][n-1]));
   }
   puts("");
   return 0;
}
