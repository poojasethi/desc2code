#include <bits/stdc++.h>
#define left dkdkjdkjd
#define right kddkdjdl
using namespace std;
int left[5005][5005];
int right[5005][5005];
int main(){
    int n;
    cin >> n;
    int A[n+1];
    for(int i=1;i<=n;++i)
        cin >> A[i];
    for(int i=1;i<=n;++i){
        if(i>1 && A[i-1]<A[i])
            left[1][i]=1;
        if(i<n && A[i+1]<A[i])
            right[1][i]=1;


    }
    for(int i=2;i<=n-1;++i){
        for(int j=i+1;j<=n;++j){
            left[i][j]=left[i-1][j];
            if(A[j-i]<A[j])
            left[i][j]=max(left[i-1][j],1+right[i-1][j-i]);
           // cout << j << " " << i << " " << left[i][j] << endl;

        }
        for(int j=1;j+i<=n;++j){
            right[i][j]=right[i-1][j];
           // cout << A[j+i] << " " << A[i] << endl;
            if(A[j+i]<A[j])
            right[i][j]=max(right[i-1][j],1+left[i-1][j+i]);
            //cout << j << " " << i << " " << right[i][j] << endl;
        }
    }
    for(int i=1;i<=n;++i){int u=max(left[i-1][i],right[n-i][i]);
        printf("%d ",u);

        }
    cout << endl;
    return 0;
}
