#include<bits/stdc++.h>

using namespace std;

#define rep(i,j,k) for(i=j;i<k;i++)
#define MOD 1000000007
#define pii pair<int,int>

vector< pii > inp;
int h[5001],dp[5001][5001];

bool cmp(pii a,pii b)
{
	 if(a.first<b.first)
		return true;
		return false;
}	

int main()
{
	int i,n,p,j,ans;
	scanf("%d",&n);
	inp.resize(n);
	rep(i,0,n){
		scanf("%d",&h[i]);
		inp[i].first=h[i];
		inp[i].second=i;
	}
	sort(inp.begin(),inp.end(),cmp);
	
	rep(i,0,n)
	{
		p=inp[i].second;
		
		for(j=p-1;j>=0;j--)
		{
			if(h[j]<h[p])
				dp[p][j]=max(dp[j][p-1]+1,dp[p][j+1]);
			else
				dp[p][j]=dp[p][j+1];
		}
		for(j=p+1;j<n;j++)
		{
			if(h[j]<h[p])
				dp[p][j]=max(dp[j][p+1]+1,dp[p][j-1]);
			else
				dp[p][j]=dp[p][j-1];
		}
					
	}
	
	//rep(i,0,n)
	//cout<<inp[i].first<<" "<<inp[i].second<<endl;
	
	rep(i,0,n){
		ans=0;
		rep(j,0,n)
			ans=max(ans,dp[i][j]);
		printf("%d ",ans);	
			}
			
	return 0;
}	
