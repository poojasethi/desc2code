//
//  AreYouLucky.cpp
//  
//
//  Created by Hieu Le on 10/1/15.
//
//

#include <stdio.h>

int modPower(int x, int y, int n) {
    if (x == 1 || y == 0) return 1;
    int res = modPower(x, y >> 1, n);
    res = (res * res) % n;
    if (y & 1) res = (res * x) % n;
    return res;
}

int main() {
    int t, n;
    scanf("%d", &t);
    scanf("%d", &n);
    while (t--) {
        int x,y;
        scanf("%d%d", &x, &y);
        printf("%d\n", modPower(x, y, n));
    }
}