#include<bits/stdc++.h>
using namespace std;
#define rep(i,a,b) for(int i=a;i<=b;++i)
#define is(X) cout<<#X<<" is "<<X<<endl
#define ff first
#define ss second
#define fast ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0)
#define pb push_back
#define mp make_pair
#define openin freopen("input.txt","r",stdin)
#define openout freopen("output.txt","w",stdout)
long long pow1(long long a,long long b,int mod)
{
    long long ans = 1;
    while(b)
    {
        if(b&1){
            ans = ans*a;
            ans %= mod;
        }
        a = (a*a)%mod;
        b/=2;
    }
    return ans;
}
int main()
{
    int t;
    scanf("%d",&t);
    int MOD;
    scanf("%d",&MOD);
    while(t--)
    {
        long long x,y;
        scanf("%lld%lld",&x,&y);
        printf("%lld\n",pow1(x,y,MOD));
    }
    return 0;
}
