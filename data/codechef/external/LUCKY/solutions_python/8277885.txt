#include <iostream>
#include<string.h>
#include<algorithm>
#include<map>
#define in(test) cin>>test;
#define out(test) cout<<test<<endl;
typedef long long int ll;
using namespace std;
int tc;
int main() {
	// your code goes here
	ios_base::sync_with_stdio(false);
	in(tc)
	int N;
	in(N)
	while(tc--)
	{
	    ll X=0,Y=0;
	    in(X) in(Y)
	    X=X%N;
	    X = ll(pow(X,Y));
	    out(X%N)
	 }
	return 0;
}
