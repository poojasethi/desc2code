#include<stdio.h>
#define i32 long int
i32 powr(i32 x, i32 y, i32 n){
	i32 p;
	if(y==0) return 1;
	p=powr(x,y/2,n);
	p*=p;
	if(y&1) return ((p%n)*x)%n;
	else return p%n;
}
int main(){
	i32 t,n;
    scanf("%ld%ld",&t,&n);
	while(t--){
		i32 x,y;
		scanf("%ld%ld",&x,&y);
		printf("%ld\n",powr(x,y,n));
	}
	return 0;
}