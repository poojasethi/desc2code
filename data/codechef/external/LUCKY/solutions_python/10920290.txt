#include<iostream>
#include<cmath>
#include<cstdio>
using namespace std;
long long exp(long long x, int y, int n)
{
int res;
if(y==0)return 1;
if(y==1)return x%n;
if(y>1){
if(y%2==0){
res=pow(exp(x,y/2,n),2);
}
else{
res=x*pow(exp(x,y/2,n),2);
}
}
return res%=n;
}
int main()
{
ios::sync_with_stdio(false);
int t, y, n, res;
long long x;
cin>>t;
cin>>n;
while(t--){
cin>>x>>y;
long long res=exp(x,y,n);
res%=n;
cout<<res<<endl;
}
}
