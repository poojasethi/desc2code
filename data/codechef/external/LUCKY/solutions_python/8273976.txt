#include<iostream>
using namespace std;
int no;
int a,b;
int exp(){
	int ans=a;
	if(ans>no)	ans%=no;
	int temp=1;
	while(b>1){
		if(b%2==0)	{ans*=ans;ans%=no;b/=2;}
		else		{temp*=ans;temp%=no;b-=1;}
	}
	return (ans*temp)%no;
}
int main(){
	ios::sync_with_stdio(false);
	int test;
	cin>>test;
	cin>>no;
	while(test--){
		cin>>a>>b;
		cout<<exp()<<endl;
	}
	return 0;
}