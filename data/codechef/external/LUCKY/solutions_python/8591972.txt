#include<bits/stdc++.h>
using namespace std;
long long int rem(long long int x,long long int y,int n)
{    long long int res=1;
    while(y>0)
   {
	 if(y%2)
    res=(res*x)%n;
    x=(x*x)%n;
    y/=2;
}
  res=res%n;
  return res;
}
int main()
{   int t,n;
   scanf("%d",&t);
   scanf("%d",&n);
   while(t--)
   { long long int x,y;
      scanf("%lld %lld",&x,&y);
      printf("%lld\n",rem(x,y,n));
   }
   return 0;
}