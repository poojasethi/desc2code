#include <iostream>
#include<cstring>

using namespace std;
typedef long long uii;
typedef long long uii;
uii modularExponentiation(uii base,uii exponent,uii p)
{
    if(exponent == 0)
      return 1;
    uii res= modularExponentiation(base,exponent/2,p);
    res = (res*res)%p;
    if(exponent%2 == 0)
        return res;
    else
        return (res*(base%p))%p;
 
}

int main() {
        long long t,N;
        cin>>t;
        cin>>N;
        while(t>0){
        long long answer,x,y;
        cin>>x>>y;
        answer =modularExponentiation(x,y,N);
        cout<<answer<<endl;
            
    
    
    t--;
    }
    
    
	// your code goes here
	return 0;
}
