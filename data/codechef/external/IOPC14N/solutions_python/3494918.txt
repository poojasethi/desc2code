#include<stdio.h>

int main()
{
    int t,m;
    char str[100001];
    int i,min,swaps;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%s%d",str,&m);
        swaps=0;
        for(i=0;i<m;i++)
        {
            if(str[i]=='B')
                swaps++;
        }
        min=swaps;
        while(str[i] && min!=0)
        {
            if(str[i-m]=='A' && str[i]=='B')
                swaps++;
            else if(str[i-m]=='B' && str[i]=='A')
                swaps--;
            if(swaps<min)
                min=swaps;
            i++;
        }
        printf("%d\n",min);
    }
    return 0;
}
