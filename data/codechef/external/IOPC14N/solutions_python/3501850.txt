    //author : @kcahdog
    #include <bits/stdc++.h>
     
    using namespace std;
    /* General Declarations */
    #define INF 1000000007
    #define LL long long
    #define INFL (LL)1000000007
    //INTEGERS
    #define si(n) scanf("%d",&n)
    #define s2i(n,m) scanf("%d %d",&n,&m)
    #define s3i(m,n,k) scanf("%d %d %d",&m,&n,&k)
    #define pi(n) printf("%d\n",n);
    #define pis(n) printf("%d ",n);
    //CHAR AND STRING
    #define sc(c) scanf("%c",&c)
    #define ss(s) scanf("%s",s)
    #define pc(n) printf("%c\n",n);
    #define pcs(n) printf("%c ",n);
    //FLOAT AND DOUBLE
    #define sf(n) scanf("%f",&n)
    #define pf(n) printf("%f\n",n)
    #define slf(n) scanf("%lf",&n)
    #define plf(n) printf("%lf\n",n)
    //LONG LONG
    #define sll(n) scanf("%lld",&n)
    #define pll(n) printf("%lld\n",n)
    #define plls(n) printf("%lld ",n)
     
    #define pline() printf("\n");
    LL gcd(LL a, LL b){ LL temp; while(b>0)	{ temp= b; b=a%b; a=temp;}	return a;}
     
    #define FOR(x,a,b) for( x=a;x<b;x++)
    #define fr(i,n) for( i=0;i<n;i++)
    #define PRINT(v,i,n) fr(i,n){printf("%d ",v[i]);}printf("\n");
    #define PRINTLL(v,i,n) fr(i,n){printf("%lld ",v[i]);}printf("\n");
    #define sortrev(arr,n) sort(arr,arr+n,greater<int>())
    #define SIZE 100001
    char arr[SIZE];
    int main()
    {
    int i,j,n,t,ans=0,m;
    si(t); //NO OF TEST CASES
    while(t--)
    {
    ss(arr);
    si(m);
    int mx=-1,flag=0,c=0,cnt=0;
     
    fr(i,m)
    {
    if(arr[i]=='B')
    cnt++;
    }
    mx=cnt;
    for(i=m;arr[i]!='\0';i++)
    {
    if(arr[i]=='A')
    {
    cnt--;
    if(arr[i-m]=='A')
    cnt++;
    mx=min(mx,cnt);
    }
    else
    {
    cnt++;
    if(arr[i-m]=='B')
    cnt--;
    mx=min(mx,cnt);
    }
    }
    pi(mx);
    }	//end of t loop
    return 0;
    } 