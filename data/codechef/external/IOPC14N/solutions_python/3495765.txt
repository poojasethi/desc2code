#include<bits/stdc++.h>
#define ull unsigned long long
#define ll long long
#define pb push_back
#define mem(a,p) memset(a,p,sizeof(a))
#define fi first
#define se second
#define mp make_pair
#define bitcount __builtin_popcount
#define gcd __gcd
#define rep(i,a,b) for(int i=a;i<b;++i)
#define all(a) a.begin(),a.end()
#define sz(a) ((int)(a.size()))
#define DREP(a) sort(all(a));a.erase(unique(all(a)),a.end())
#define debug(x,y) cerr<<x<<" "<<y<<" "<<endl;
#define ns ios_base::sync_with_stdio(false);cin.tie(0)
using namespace std;
#define VI vector<int>
#define PII pair<int,int>
#define MAX(a,b) {if((a)<(b)) (a)=(b);}
int cnt[1000009];
int main() {
    ns;
    int t,n,m;
    string s;
    cin>>t;
    VI a,b;
    while(t--) {
        cin>>s;
        cin>>m;
        n=s.length();
        cnt[0]=0;
        rep(i,0,n)
        cnt[i+1] = cnt[i] + (s[i]=='A');
        int res=0;
        for(int k=0; k+m<=n; k++)
            MAX(res, cnt[k+m]-cnt[k]);
        res = m-res;
        printf("%d\n",res);
    }
    return 0;
}
