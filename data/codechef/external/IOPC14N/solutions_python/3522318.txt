#include<stdio.h>
char s[100001];
unsigned int m;
int getA(int st)
{
	int i,aCount=0;
	for(i=st;i<st+m;i++)
	{
		if(s[i] == 'A') aCount++;
	}
	return aCount;

}
int main()
{
	unsigned int t, aCount, max, i;
	scanf("%u",&t);
	while(t--)
	{
		aCount = 0;
		max = 0;
		scanf("%s",s);
		scanf("%u", &m);
		aCount=getA(0);
		max = aCount;
		for(i=m; s[i]; i++)
		{
			if(s[i] != s[i-(m)])
			{
				if(s[i] == 'A') aCount++;
				else aCount--;
			}
			if(max < aCount)
			{
				max = aCount;
			}
			
		}
		printf("%u\n", (m - max));
	}
	return 0;
}
