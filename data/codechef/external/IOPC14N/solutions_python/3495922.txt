#include<stdio.h>
#include<stdlib.h>
#include<math.h>
#include<string.h>
#include<iostream>
#include<algorithm>
#include<vector>
#include<string>
 
using namespace std;
 
#define s(n) scanf("%d",&n)
#define sl(n) scanf("%lld",&n)
#define sc(n) scanf("%c",&n);
#define f(i,a,b) for(i=a;i<b;i++)
#define pb push_back
#define mod 1000000007
 
typedef unsigned long long int ull;
typedef long long int ll;
 
int main(){
	int t;
	ll i;
	scanf("%d",&t);
	ll m;
	char c[100005];
	int dp[100005]={0};
	while(t--){
		int b[100005]={0};
		dp[0]=0;
		scanf("%s",c);
		getchar();
		scanf("%lld",&m);
		ull len=strlen(c);
		for(i=0;i<m;i++){
			if(c[i]=='B'){
				dp[0]++;
			}
		}
		ll min=dp[0];
		for(i=1;i<(len-m+1);i++){
			dp[i]=dp[i-1];
			if(c[i+m-1]=='B')
				dp[i]++;
			if(c[i-1]=='B')
				dp[i]--;
			if(dp[i]<min)
				min=dp[i];
		}
		printf("%lld\n",min);
	}
	return 0;
}   