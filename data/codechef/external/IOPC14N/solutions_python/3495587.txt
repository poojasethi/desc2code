#include <iostream>
#include<cstdio>
#include<cstring>
using namespace std;
#define ll long long int

int main() 
{
	ios_base::sync_with_stdio(false);
	ll t,n,i,m;
	char a[100005];
	cin>>t;
	while(t--)
	{
		cin>>a;
		cin>>m;
		ll l=strlen(a);
		ll c=0;
		for(i=0;i<m;i++)
			if(a[i]=='A') c++;
		 ll max=c;
		 for(i=m;i<l;i++)
		 {
		 	if(a[i]=='A' && a[i-m]=='B') c++;
		 	
		 	if(a[i]=='B' && a[i-m]=='A') c--;
		 	
		 	if(c>max) max=c;
		 }
		 if(max<m) cout<<m-max<<endl;
		 else cout<<"0\n";
	}
	return 0;
}