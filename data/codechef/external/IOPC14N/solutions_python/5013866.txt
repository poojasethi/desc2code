#include <iostream>
using namespace std;
#include<bits/stdc++.h>
int main() {
	char s[1000002];
	int t,m,min,count,i;
	
	scanf("%d\n",&t);
	while(t--)
	
	{
		scanf("%s",s);
		scanf("%d\n",&m);
		min=-1;
		count=0;
		for(i=0;i<m;i++)
		{
			if(s[i]=='B')
			count++;
		}
	min=count;
		for(i=m;i<strlen(s);i++)
		{
			if(s[i]==s[i-m])
			continue;
			
			else if(s[i]=='A')
			{count--;
			if(count<min)
			min=count;}
			else
			{
				count++;
			}
		}
		printf("%d\n",min);
	}
	
	
	
	
	
	return 0;
}