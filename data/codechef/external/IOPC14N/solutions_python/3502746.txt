import java.io.*;
public class Main
{
    public Main() throws Exception
    {
    	BufferedReader in=new BufferedReader(new InputStreamReader(System.in));
	    BufferedWriter out=new BufferedWriter(new OutputStreamWriter(System.out));
	    int test=Integer.parseInt(in.readLine());
	    while(test-->0)
	    {
	    	char str[]=in.readLine().toCharArray();
	    	int M=Integer.parseInt(in.readLine());
	    	int count=0;
	    	for(int i=0;i<M;i++)
	    		if(str[i]=='B') count++;
	    	int min=count;
	    	int last=count;
	    	for(int j=M;j<str.length;j++)
	    	{
	    		if(str[j]=='B') last++;
	    		if(str[j-M]=='B') last--;
	    		if(last<min) min=last;
	    	}
	    	out.write(min+"\n");
	    }
	    out.flush();
    }
    public static void main(String args[]) throws Exception
    {
	    new Main();
    }
} 