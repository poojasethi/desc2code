#include <iostream>
#include <algorithm>
#include <cmath>
#include <time.h>
#include <stdlib.h>
#include <string>
#include <string.h>
#include <queue>
#include <utility>
#include <vector>
#include <time.h>
#include <stdio.h>
#include <list>
#include <limits> // for numeric_limits
#include <set>
#include <iterator>
#include <memory.h>

using namespace std;

#define ff first
#define ss second
#define pb push_back
#define mp make_pair
#define var(a,b)  __typeof(b) a = b
#define rep(i,n)  for(int i = 0;(i) < (n);  ++i)
#define rept(i,a,b) for(var(i,a); i < (b); ++i)
#define tr(v,it)  for(var(it,v.begin());it!=v.end();++it)
#define fill(a,val) memset(a,val,sizeof(a))
#define gi(n) scanf("%d",&n);
#define all(v) v.begin(),v.end()
#define max(a,b) a>b?a:b
#define min(a,b) a>b?b:a
#define MOD 1000000007
#define INF 99999999
#define a_max 100100
#define ll long long int
#define debug_lld(a) printf("Debug here %lld\n",a);

typedef pair<ll,ll> pll;
typedef pair<int,int > pii;
typedef pair<ll,pii>plp;

int main()
{
	int t;
	scanf("%d",&t);
	for(int i=0;i<t;i++)
	{
		char str[100000];
		scanf("%s",str);
		ll m;
		getchar();
		scanf("%lld",&m);
		ll l=strlen(str);
		ll a=0;
		ll b=0;
		for(ll i=0;i<m;i++)
		{
			if(str[i]=='B')
				b++;
		}
		ll min=b;
		// printf("%lld\n",min);
		for(ll i=1;i<=l-m;i++)
		{
			if(str[i-1]=='B')
			{
				if(str[i+m-1]=='A')
					b--;
			}
			else
			{
				if(str[i+m-1]=='B')
					b++;	
			}
			if(b<min)
				min=b;
			// printf("%lld\n",min);
		}
		printf("%lld\n",min);
	}
	return 0;
}