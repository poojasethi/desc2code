import java.io.*;
class swap{
	public static void main(String[] args) throws IOException{
		BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
		int t=Integer.parseInt(br.readLine());
		while(t-->0){
			String s=br.readLine();
			int m=Integer.parseInt(br.readLine());
			int i=0;
			int count=0;
			int max=0;
			int n=s.length();
			while(i<m){
				if(s.charAt(i)=='A')
					count+=1;
				i+=1;
			}
			max=count;
			if(i==n){
				max=count;
			}
			//System.out.println(count);
			for(;i<n;i++){
				
				if(s.charAt(i-m)=='A')
					count--;
				if(s.charAt(i)=='A')
					count++;
				if(count> max)
					max=count;
				if(max>=m)
					break;
			}
			System.out.println(m-max);
		}	

	}	
}
