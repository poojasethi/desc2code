#include <bits/stdc++.h>
using namespace std;
#define infinity (1000000007)
#define ll long long
#define pii pair<int,int>
#define ppi pair<pii,int>
#define ppp pair<pii,pii>
#define pip pair<int,pii>
#define pb push_back
ll pwr(ll a,ll b,ll mod)
{
  ll ans=1;
  while(b)
  {
    if(b&1)
      ans=(ans*a)%mod;
    a=(a*a)%mod;
    b/=2;
  }
  return ans;
}
ll pwr(ll a,ll b)
{
  ll ans=1;
  while(b)
  {
    if(b&1)
      ans*=a;
    a*=a;
    b/=2;
  }
  return ans;
}
ll gcd(ll a,ll b)
{
  while(b)
    {
      ll temp=a;
      a=b;
      b=temp%b;
    }
  return a;
}
ll lcm(ll a,ll b)
{  
  return (a/gcd(a,b))*b;
}
ll modularInverse(ll a,ll m)
{     
      /*reminder: make sure m is prime*/
      assert(false);
      return pwr(a,m-2,m);
}
const int mod=1000000007;

int main()
{
  std::ios::sync_with_stdio(false);
  

  int t;
  cin>>t;
  while(t--)
  {
    string s;
    int m;
    cin>>s>>m;

    int currentA=0;

    for(int i=0;i<m;++i)
    {
      if(s[i]=='A')
        ++currentA;
    }
    // cout<<currentA<<endl;
    int best=currentA;
    for(int i=m;i<s.size();++i)
    {
      if(s[i-m]=='A')
      {
        --currentA;
      }
      if(s[i]=='A')
      {
        ++currentA;
      }

      if(currentA>best)
        best=currentA;
    }

    cout<<m-best<<"\n";
  } 


}