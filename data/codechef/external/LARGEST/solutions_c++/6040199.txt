#include<bits/stdc++.h>
using namespace std;

void scanint(int &x){
    char c = getchar_unlocked();
    x = 0;
    while(c<'0'||c>'9'){
        c=getchar_unlocked();
    }
    while(c>='0'&&c<='9'){
        x= (x<<1)+ (x<<3) + c - '0';
        c=getchar_unlocked();
    }
}

int arr[1010][1010], cumu[1010][1010];
main() {
    int n, m;
    scanint(m);
    scanint(n);
    for (int i=1; i<=n; i++) {
         for (int j=1; j<=m; j++) {
            scanint(arr[i][j]);
         }
    }
    for (int i=1; i<=n; i++) {
         for (int j=1; j<=m; j++) {
            cumu[i][j]=arr[i][j]+cumu[i-1][j]+cumu[i][j-1]-cumu[i-1][j-1];
         }
    }
    int k;
    scanint(k);
    while (k--) {
        int x1,x2,y1,y2;
        scanint(x1);
        scanint(y1);
        scanint(x2);
        scanint(y2);
       	int ans=cumu[x2][y2]-cumu[x2][y1-1]-cumu[x1-1][y2]+cumu[x1-1][y1-1];
        printf("%d\n", ans);
    }
}