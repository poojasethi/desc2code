#include<stdio.h>
#include<iostream>
using namespace std;

void scanint(int &x){
    char c = getchar_unlocked();
    x = 0;
    while(c<'0'||c>'9'){
        c=getchar_unlocked();
    }
    while(c>='0'&&c<='9'){
        x= (x<<1)+ (x<<3) + c - '0';
        c=getchar_unlocked();
    }
}

int main(){
    int m,n,a[1003][1003]={0},sum[1003][1003]={0};
        scanint(m);
        scanint(n);
    
        for(int i=1; i<=m; i++){
                for(int j=1; j<=n; j++){
                    scanint(a[i][j]);    
                    
                }
        }
        
        
        for(int i=1; i<=n; i++){
            sum[1][i]=a[1][i]+sum[1][i-1];
        }
    
        for(int i=2; i<=m; i++){
            int f=0;
            for(int j=1; j<=n; j++){
                f+=a[i][j];
                sum[i][j]=sum[i-1][j]+f;
            }
        }
        int c;
        scanint(c);
        while(c--){
                int x1,y1,x2,y2;
                scanint(x1);
                scanint(y1);
                scanint(x2);
                scanint(y2);
                unsigned int k=0;
                
                k=sum[x2][y2]-sum[x1-1][y2]-sum[x2][y1-1]+sum[x1-1][y1-1];
               
               	printf("%d\n", k);
                
                
        }
        
}
