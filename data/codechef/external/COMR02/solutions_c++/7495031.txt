#include <stdio.h>
#include <time.h>

int main()
{
    int i,f=0,n,skey,lkey,t=0;
    long int a[1000],prod;

    scanf("%d",&skey);
    scanf("%d",&lkey);
    prod=skey;
    scanf("%d",&n);
    if(n<=1000)
    {
        for(i=0;i<n;i++)
            scanf("%ld",&a[i]);

        if(skey==lkey)
            printf("0");
        else
        {
            for(i=0;i<n;i++)
            {
                if(a[i]<=100000L && lkey % a[i]==0)
                {
                    prod=(a[i]*prod)%100000L;
                    t++;

                    if(prod==lkey)
                    {
                        f=1;
                        printf("%d",t);
                        break;
                    }
                    else
                        f=0;
                }
            }
        }

    }
    if(f==0)
        printf("-1");

}
