#include<iostream>
#include<vector>
#include<stdio.h>
using namespace std;

#define MAX 1000001

typedef int ll;

ll res = 0, m = 100001;
vector<vector<ll> > vec(MAX);
bool visit[100001];
ll a[MAX];

void dfs(ll src){

	if(visit[src] == 1){
		return;
	}
	
	visit[src] = 1;
	
	if(a[src] < m)
		m = a[src];
	
	for(int i=0;i<vec[src].size(); i++){
		if(visit[vec[src][i]] == 0)
			dfs(vec[src][i]);
	}

}

int main(){
	
	int test;
	scanf("%d",&test);
	//cin>>test;
	
	while(test--){
	
	ll n,m1;
	scanf("%d %d", &n, &m1);
	
	int i;
	
	for(i=0;i<n;i++){
		//cin>>a[i];
		scanf("%d", &a[i]);
		visit[i] = 0;
	}
	
	ll x,y;
	
	for(i=0;i<m1;i++){
	//	cin>>x>>y;
		scanf("%d %d", &x,&y);
		vec[x-1].push_back(y-1);
		vec[y-1].push_back(x-1);
	}
	
	res = 0;
	m = MAX;
	
	for(i=0;i<n;i++){
		m = MAX;
		if(visit[i] == 0){
			dfs(i);
			//cout<<"Minimum is " <<m<<endl;
			res += m;
		}
	}
	
		printf("%d\n",res);
		
		for(i=0;i<=n;i++){
			vec[i].clear();
			visit[i] = 0;
	}
	
	}
	
	return 0;
}