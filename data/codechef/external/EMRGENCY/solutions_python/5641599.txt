#include<iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
#include<map>
#include<queue>
#include<utility>
#include<cstring>
#include<cmath>
#define LL long long int
#define mod 1000000007
#define vi vector<int>
#define vvi vector < vi >
#define pii pair<int,int>
#define all(c) c.begin(),c.end()
#define pb push_back
#define f first
#define s second
#define sf(n) scanf("%d",&n)
using namespace std;
vi cost,v[100005];
bool vis[100005];
queue<int> q;
int bfs(int src)
{	int x,i,mincost=cost[src-1];
	vis[src]=1;
	while(!q.empty())		
	{	x=q.front();
		//printf("x %d\n",x);
		for(i=0;i<v[x].size();i++)
		{	if(!vis[v[x][i]])
			{	mincost=min(mincost,cost[v[x][i]-1]);
				vis[v[x][i]]=1;
				q.push(v[x][i]);
			}
		}
		q.pop();
	}
	//printf("cost %d\n",mincost);
	return mincost;
}
int main()
{	int t,i,j,n,m,x,y,ans=0;
	sf(t);
	while(t--)
	{	sf(n);sf(m);ans=0;
		//printf("%d\n",ans);
		cost.clear();
		for(i=0;i<=100005;i++)
			v[i].clear();
		for(i=0;i<n;i++)
		{	sf(x);
			cost.pb(x);
		}
		for(i=0;i<m;i++)
		{	sf(x);sf(y);
			if(x!=y)
			{	v[x].pb(y);
				v[y].pb(x);
			}
		}
		ans=0;
		memset(vis,0,sizeof(vis));
		for(i=1;i<=n;i++)
		{	if(!vis[i])
			{	while(!q.empty()) q.pop();
				q.push(i);
				//printf("i%d\n",i);
				ans+=bfs(i);
			}
		}
		printf("%d\n",ans);
	}
	return 0;
}

