//#include<bits/stdc++.h>
#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<queue>
#include<vector>

#define ll long long
#define fo(i,in,end) for (i=in;i<end;i++)
#define in(x) scanf("%d",&x)
#define inp(x,y) scanf("%d%d",&x,&y)
#define vi vector <int>
#define pb push_back 
using namespace std;


vi v[100005];
queue <int> q;
int mark[100005],cost[100005];

int bfs(int x)
{
	q.push(x);
	int ver,n,i,min=cost[x];
	mark[x]=1;
	while (!q.empty())
	{
		ver=q.front();
		q.pop();
		n=v[ver].size();
		for (i=0;i<n;i++)
		{
			if (mark[v[ver][i]]==0)
			{
				mark[v[ver][i]]=1;
				if (cost[v[ver][i]]<min)
				min=cost[v[ver][i]];
				q.push(v[ver][i]);
			}
		}
	}
	return min;
}

int main()
{
	int t;
	in(t);
	while (t--)
	{
		int n,m,i,x,y,total=0;
		inp(n,m);
		for (i=1;i<=n;i++)
		{
			in(cost[i]);
			mark[i]=0;
		}
		for (i=1;i<=m;i++)
		{
			inp(x,y);
			if (x!=y)
			{
				v[x].pb(y);
				v[y].pb(x);
			}
		}
		for (i=1;i<=n;i++)
		{
			if (mark[i]==0)
			total+=bfs(i);
		}
		printf("%d\n",total);
		for (i=0;i<100005;i++)
		v[i].clear();
	}
	return 0;
}



