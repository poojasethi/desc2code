#include <iostream>

using namespace std;

int findmax(int p1, int p2, int p3)
{
     if (p1 >= p2 && p1 >= p3)
	  return 1;
     if (p2 >= p1 && p2 >= p3)
	  return 2;
     if (p3 >= p1 && p3 >= p2)
	  return 3;
     return 1;
}

int main()
{
     int tc;
     cin >> tc;
     for (int i = 0; i < tc; i++){
	  int p1, p2, p3, N;
	  cin >> p1;
	  cin >> p2;
	  cin >> p3;
	  cin >> N;
	  int g = 0;
	  while((p1 >= 0 || p2 >= 0 || p3 >= 0) && N > 0){
	       int p = findmax(p1, p2, p3);
	       if (p == 1){
		    g += p1;
		    p1--;
	       }
	       if (p == 2){
		    g += p2;
		    p2--;
	       }
	       if (p == 3){
		    g += p3;
		    p3--;
	       }
	       N--;
	  }
	  cout << g << endl;
     }
     

     return 0;
}

	  
	  
	  
	  
