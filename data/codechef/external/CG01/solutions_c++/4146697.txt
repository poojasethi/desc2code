#include<iostream>
#include<vector>
#include<algorithm>
#include<cstdio>

using namespace std;

int main()
{ 
    int test, N;
    int q[3];
    int index;
    scanf("%d", &test);
    while(test--)
    {   int count = 0;
        scanf("%d %d %d",&q[0], &q[1] ,&q[2]);
        scanf("%d", &N);
        for(int i=0;i<N;i++)
        { 
            index = distance(q,max_element(q,q+3));
            if(q[index]){
            count = count + q[index];
            q[index] = q[index]-1;
        }
        else
        { 
          break;
          }}
        printf("%d\n", count);
        
    }
return 0;
}