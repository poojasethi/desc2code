#include <cstring>
#include <iostream>
#include <algorithm>
#include <vector>
#include <string>
using namespace std;
vector<string> vec;
vector<string>::iterator it;
int n;
int main() {
	int T;
	string cmd, path;
	scanf("%d", &T);
	while(T--) {
		vec.clear();
		scanf("%d", &n);
		for(int i = 0; i < n; i++) {
			cin >> cmd;
			if(cmd == "pwd") {
				for(int i = 0; i < vec.size(); i++) {
					printf("/%s", vec[i].c_str());
				}puts("/");
			}else {
				cin >> path;
				if(path[0] == '/') {
					vec.clear();
					path = path.substr(1, path.size());
				}
				for(int j = 0; j < path.size(); j++) {
					string tmp = "";
					while(path[j] != '/' && j < path.size()) {
						tmp += path[j];
						j++;
					}
					if(tmp == ".." && vec.size() > 0) {
						it = vec.end();
						it--;
						vec.erase(it);
					}else {
						vec.push_back(tmp);
					}
				}
			}
		}
	}
	return 0;
}
