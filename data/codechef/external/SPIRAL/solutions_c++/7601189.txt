#include<bits/stdc++.h>
using namespace std;

const int N=123;
int a[N][N];

int main() {
    int test;
    scanf("%d", &test);
    while(test--) {
        int n, m;
        scanf("%d %d", &n, &m);
        for(int i=0;i<n;i++) {
            for(int j=0;j<m;j++) {
                scanf("%d", &a[i][j]);
            }
        }
        int t=0, b=n-1, l=0, r=m-1, d=0;
        while(t<=b && l<=r) {
            if(d==0) {
                for(int i=l;i<=r;i++) {
                    printf("%d ", a[t][i]);
                }
                t++;
                d=1;
            } else if(d==1) {
                for(int i=t;i<=b;i++) {
                    printf("%d ", a[i][r]);
                }
                r--;
                d=2;
            } else if(d==2) {
                for(int i=r;i>=l;i--) {
                    printf("%d ", a[b][i]);
                }
                b--;
                d=3;
            } else {
                for(int i=b;i>=t;i--) {
                    printf("%d ", a[i][l]);
                }
                l++;
                d=0;
            }
        }
        putchar('\n');
    }
}
