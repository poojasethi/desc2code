#include<iostream>
#include<cstring>
#include<cstdio>

using namespace std;

int main() {
	char s[32];
	char literal[16] = {0}, op[16]= {0};
	scanf("%s", &s);
	int i, j = 0, k = 0;
	for (i = 0; i < strlen(s); i++) {
		if (s[i] == 'T' || s[i] == 'F') {
			literal[j++] = s[i];
		} else {
			op[k++] = s[i];
		}
	}
	int num_lit = strlen(literal);
	int num_op = strlen(op);

	int t[16][16] = {0};
	int f[16][16] = {0};
	for (i = 0; i < num_lit; i++) {
		if (literal[i] == 'T')
			t[i][i] = 1;
		if (literal[i] == 'F')
			f[i][i] = 1;
	}
	for (i = 2; i <= num_lit; i++) {
		for (j = 0; j <= num_lit - i; j++) {
			k = i + j - 1;
			for (int l = j; l <= k- 1; l++) {
				if (op[l] == '.') {
					t[j][k] += t[j][l]*t[l + 1][k];
					f[j][k] += f[j][l]*f[l + 1][k] + f[j][l]*t[l + 1][k] + t[j][l]*f[l + 1][k];
				}
				else if (op[l] == '+') {
					f[j][k] += f[j][l]*f[l + 1][k];
					t[j][k] += t[j][l]*t[l + 1][k] + f[j][l]*t[l + 1][k] + t[j][l]*f[l + 1][k];
				}
				else if (op[l] == '*') {
					t[j][k] += t[j][l]*f[l + 1][k] + f[j][l]*t[l + 1][k];
					f[j][k] += f[j][l]*f[l + 1][k] + t[j][l]*t[l + 1][k];
				}
			}
		}
	}
	printf ("%d\n", t[0][num_lit - 1]);
	return 0;
}