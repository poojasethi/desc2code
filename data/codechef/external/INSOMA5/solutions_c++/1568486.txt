#include <iostream>
int m[30][30];
int tcount[30][30];
int fcount[30][30];
void xandor(char *s,int n);
int main()
{
    char s[30];
    int length=0;
    scanf("%s",s);
    for(int i=0;s[i]!='\0';i++)
    length++;
    xandor(s,length);

    std::cout<<tcount[0][(length/2)];
	return 0;
}

void xandor(char *s,int n)
{
    int j=0,k=0,o[n],v[n],q;

    for(int i=0;i<n;i++)
     {
       if(s[i]=='T' || s[i]=='F')
        {
           v[j++]=s[i];
        }
       else
       o[k++]=s[i];
     }
     int booleanLength=j,opLength=k;
     for(int i=0;i<booleanLength;i++)
     {
         if(v[i]=='T')
         {
             m[i][i]=1;tcount[i][i]=1;
         }
         else
         {
         m[i][i]=0;fcount[i][i]=1;
         }
     }
     for(int l=2;l<=booleanLength;l++)
     {
         for(int i=0;i<booleanLength-l+1;i++)
         {
             int j=i+l-1;
             for(int k=i;k<j;k++)
             {
                 if(o[k]=='+')
                 {
                     q=m[i][k]|m[k+1][j];
                     tcount[i][j]=tcount[i][j]+(tcount[i][k]*fcount[k+1][j])+(tcount[i][k]*tcount[k+1][j])+(fcount[i][k]*tcount[k+1][j]);
                     fcount[i][j]=fcount[i][j]+(fcount[i][k]*fcount[k+1][j]);
                 }
                 if(o[k]=='.')
                 {
                     q=m[i][k]&m[k+1][j];
                     tcount[i][j]=tcount[i][j]+(tcount[i][k]*tcount[k+1][j]);
                     fcount[i][j]=fcount[i][j]+(tcount[i][k]*fcount[k+1][j])+(fcount[i][k]*fcount[k+1][j])+(fcount[i][k]*tcount[k+1][j]);
                 }
                 if(o[k]=='*')
                 {
                     q=m[i][k]^m[k+1][j];
                     tcount[i][j]=tcount[i][j]+(tcount[i][k]*fcount[k+1][j])+(fcount[i][k]*tcount[k+1][j]);
                     fcount[i][j]=fcount[i][j]+(fcount[i][k]*fcount[k+1][j])+(tcount[i][k]*tcount[k+1][j]);
                 }
                 if(q==1)
                 m[i][j]=1;
             }
         }
     }

}
