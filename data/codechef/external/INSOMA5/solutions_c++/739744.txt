#include<cstdio>
#include<string>
#include<iostream>

using namespace std;

struct table
{
  int t,f;
  table()
  {
    t=0;
    f=0;
  }
};

int main()
{
  table t[20][20];
  string str,proc;
  cin>>str;
  for(int i=0;i<str.size();i++)
  {
    if(str[i]=='T' || str[i]=='F')
    {
      proc.push_back(str[i]);
      if(str[i]=='T')
      {
	t[proc.size()-1][proc.size()-1].t=1;
	t[proc.size()-1][proc.size()-1].f=0;
      }
      else if(str[i]=='F')
      {
	t[proc.size()-1][proc.size()-1].t=0;
	t[proc.size()-1][proc.size()-1].f=1;
      }
    }
  }
  int n=proc.size();
  for(int l=1;l<=n;l++)
  {
    for(int i=0;i<n-l+1;i++)
    {
      int j=i+l-1;
      for(int k=i;k<j;k++)
      {
	char c=str[2*k+1];
	if(c=='.')
	{
	  t[i][j].t+=t[i][k].t*t[k+1][j].t;
	  t[i][j].f+=t[i][k].t*t[k+1][j].f+t[i][k].f*t[k+1][j].t+t[i][k].f*t[k+1][j].f;
	}
	else if(c=='+')
	{
	  t[i][j].t+=t[i][k].t*t[k+1][j].f+t[i][k].f*t[k+1][j].t+t[i][k].t*t[k+1][j].t;
	  t[i][j].f+=t[i][k].f*t[k+1][j].f;
	}
	else if(c=='*')
	{
	  t[i][j].t+=t[i][k].t*t[k+1][j].f+t[i][k].f*t[k+1][j].t;
	  t[i][j].f+=t[i][k].t*t[k+1][j].t+t[i][k].f*t[k+1][j].f;
	}
      }
    }
  }
  /*printf("\n");
  for(int i=0;i<n;i++)
  {
    for(int j=0;j<n;j++)
      printf("%d ",t[i][j].t);
    printf("\n");
  }
  printf("\n");
  for(int i=0;i<n;i++)
  {
    for(int j=0;j<n;j++)
      printf("%d ",t[i][j].f);
    printf("\n");
  }*/
  printf("%d\n",t[0][n-1].t);
  return 0;
}