#include <iostream>

using namespace std;
struct pack{
    long int trues;
    long int falses;
};


pack analyze(char* string,int length)
{

pack ans;

if(length == 1)
{
    if(string[0] == 'T')
    {ans.trues = 1;ans.falses = 0;return ans;}
    if(string[0] == 'F')
    {ans.trues = 0;ans.falses = 1;return ans;}
}    

ans.trues = 0;
ans.falses = 0;

    
    for(int i = 1;i < length;i += 2)
    {
        pack first = analyze(string,i);
        pack second = analyze(( string + i + 1 ),( length - (i + 1) ) );

        if(string[i] == '.')
        {
        ans.trues += (first.trues * second.trues);
        ans.falses +=((first.trues + first.falses) * second.falses) + (first.falses * second.trues);
        continue;
        }    
        if(string[i] == '+')
        {
        ans.falses += (first.falses * second.falses);
        ans.trues +=((first.trues + first.falses) * second.trues) + (first.trues * second.falses);
        continue;
        }    
        if(string[i] == '*')
        {
        ans.trues += (first.falses * second.trues + first.trues * second.falses);
        ans.falses += (first.falses * second.falses + first.trues * second.trues); 
        }    
    }
    return ans;    
        
        
}    

int main()
{
char input[30];
scanf("%s",input);
int i;
for(i = 0;(input[i] != '\0');i++);
cout<<analyze(input,i).trues<<endl;
return 0;
}    
