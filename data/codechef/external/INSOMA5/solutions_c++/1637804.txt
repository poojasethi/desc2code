#include<cstdio>
#include<iostream>
#include<cstring>
using namespace std;
int main()
{
	int var_count=0;
	int operator_count=0;
	char s[50];
	char variables[16]={0};
	char operators[16]={0};
	scanf("%s",s);
	int i,j,start,k;
	for(i=0;i<strlen(s);i++)
	{
		if(s[i]=='T' || s[i]=='F')
		{
			variables[var_count]=s[i];
			var_count++;
		}
		else
		{
			operators[operator_count]=s[i];
			operator_count++;
		}
	}
//	printf("variables %d operators %d\n",var_count,operator_count); 
//	printf("variables %s operators %s\n",variables,operators); 
	int val_t[16][16]={0};//true parenthesis from ith to jth operator
	int val_f[16][16]={0};
	for(i=0;i<var_count;i++)
	{
		if(variables[i]=='T')
			val_t[i][i]=1;
		else
			val_f[i][i]=1;
	}
	int len;
	for(len=2;len<=var_count;len++)
	{
		for(start=0;start<=var_count-len;start++)
		{
			for(k=start;k<=start+len-2;k++)
			{
				if(operators[k]=='*')
				{
					val_f[start][start+len-1]+=(val_f[start][k]*val_f[k+1][start+len-1])+(val_t[start][k]*val_t[k+1][start+len-1]);
					val_t[start][start+len-1]+=(val_f[start][k]*val_t[k+1][start+len-1])+(val_t[start][k]*val_f[k+1][start+len-1]);
	//				printf("*\n");
				}
				else if(operators[k]=='.')
				{
					val_t[start][start+len-1]+=val_t[start][k]*val_t[k+1][start+len-1];
					val_f[start][start+len-1]+=(val_f[start][k]*val_f[k+1][start+len-1])+(val_f[start][k]*val_t[k+1][start+len-1])+(val_t[start][k]*val_f[k+1][start+len-1]);
	//				printf(".\n");
				}
				else if(operators[k]=='+')
				{
					val_f[start][start+len-1]+=val_f[start][k]*val_f[k+1][start+len-1];
					val_t[start][start+len-1]+=(val_t[start][k]*val_f[k+1][start+len-1])+(val_f[start][k]*val_t[k+1][start+len-1])+(val_t[start][k]*val_t[k+1][start+len-1]);
	//				printf("+\n");
				}
		

 
			
			
			
			
			
			
			}
		}
	}
//	for(i=0;i<var_count;i++)
//		printf("%d ",val_t[0][i]);
//	printf("\n");
	printf("%d\n",val_t[0][var_count-1]);
	return 0;

}
 
