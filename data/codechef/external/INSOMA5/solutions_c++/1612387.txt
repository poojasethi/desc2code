#include<cstdio>
#include<iostream>
#include<vector>
#include<cstring>
#include<algorithm>
#include<set>
#include<cmath>
#include<bitset>
#include<map>
#define test(t) while(t--)
#define cin(n) scanf("%d",&n)
#define cout(n) printf("%d\n",n)
#define rep(i,a,n) for(i=a;i<=n;i++)
#define vi vector<int>
#define vii vector< vector<int> >
#define vpii vector< pair<int,int> >
#define mii map<int,int>
#define pb push_back
#define mp make_pair
#define imax (int) 1000000007
#define ill long long
#define gc getchar_unlocked
using namespace std;
char a[30];
void fcin(int &x)
{
    register int c = gc();
    x = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

int ones(int z1,int z2,int o1,int o2,char c)
{
	if (c=='.') return o1*o2;		
	if (c=='+') return o1*o2+z1*o2+z2*o1;
	if (c=='*') return z1*o2+z2*o1;
	return 0;
}

int zeros(int z1,int z2,int o1,int o2,char c)
{
	if (c=='.') return z1*z2+z1*o2+o1*z2;		
	if (c=='+') return z1*z2;
	if (c=='*') return o1*o2+z1*z2;
	return 0;
}
int main()
{
	vector<char> val,op;int n,l,i,j;
	scanf("%s",a);
	n=strlen(a);
	rep(i,0,n)
	{
		if(a[i]=='F'||a[i]=='T') val.pb(a[i]);
		else op.pb(a[i]);
	}
	n=val.size();
	vector< vector< pair<int,int> > > v;v.resize(n);
	rep(i,0,n-1)
	{
		if(val[i]=='F') v[0].pb(mp(0,1));
		else v[0].pb(mp(1,0));
	}
	
	rep(l,1,n-1)
	{
		v[l].resize(n-l);
		rep(i,0,n-l-1)
		{
			v[l][i] = mp(0,0);
			rep(j,i,i+l-1)
			{
				v[l][i].first+=ones(v[j-i][i].second,v[i+l-1-j][j+1].second,v[j-i][i].first,v[i+l-1-j][j+1].first,op[j]);
				v[l][i].second+=zeros(v[j-i][i].second,v[i+l-1-j][j+1].second,v[j-i][i].first,v[i+l-1-j][j+1].first,op[j]);
			}	
		}
	}
	cout(v[n-1][0].first);
	return 0;
} 