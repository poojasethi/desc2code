#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
#define F(i,a,b) for(ll i=a;i<=b;i++)
#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)
#define ALL(a) (a.begin()),(a.end())
#define ZERO(a) memset(a,0,sizeof(a))
#define mp make_pair
#define pb push_back 
#define X first
#define Y second
#define pi 3.14159265
#define MOD 1000000007  

ll n,m;

const int SIZE=50010;

vector<int> adj[SIZE];

int p[SIZE];

int tr[SIZE];

int tmp;

void sz(int u,int p1){
	
	p[u]=p1;
	
	for(int i=0;i<adj[u].size();i++)
	{
		int v=adj[u][i];
		
		if(v==p1)
		continue;	
		
		sz(v,u);
	}
	
}

void reset(){
	
	F(i,1,50000)
	{
		adj[i].clear();
		p[i]=tr[i]=0;
	}
	
}

#define gc getchar_unlocked
void in(ll &x)
{
register ll c = gc();
x = 0;
for(;(c<48 || c>57);c = gc());
for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

void in(int &x)
{
register ll c = gc();
x = 0;
for(;(c<48 || c>57);c = gc());
for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

int main(){
	
	int t;
	
	in(t);
	
	while(t--){
			
		reset();	
			
		in(n);
		
		F(i,2,n)
		{
			int u,v;
			
			in(u); in(v);
			
			adj[u].pb(v);
			adj[v].pb(u);
			
		}
		
		in(m);
		
		sz(1,-1);
		
		ll ans=n;
		
		F(i,1,m)
		{	
			in(tmp);
			
			while(tr[tmp]==0)
			{
				tr[tmp]=1;
			
				ans--;
				
				tmp=p[tmp];
				
				if(tmp==-1)
				break;	
				
			}
				
			printf("%lld\n",ans);
		}	
	
	
	}
	
	return 0;
}	
