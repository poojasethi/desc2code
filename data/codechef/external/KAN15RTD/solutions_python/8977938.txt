#include <bits/stdc++.h>
using namespace std;

int main() {
    int t;
    cin >> t;
    for(int p=0;p<t;p++){
        int n;
        cin >> n;
        int visited[n+1]={0};
        int parent[n+1]={0};
        vector<int> graph[n+1];
        for(int i=1;i<n;i++){
            int a,b;
            cin >> a >> b;
            graph[a].push_back(b);
            graph[b].push_back(a);
        }
        queue<int> Q;
        Q.push(1);
        while(!Q.empty()){
            int y=Q.front();
            Q.pop();
            visited[y]=1;
            for(int i=0;i<graph[y].size();i++){
                if(!visited[graph[y][i]]){
                    Q.push(graph[y][i]);
                    parent[graph[y][i]]=y;
                }
            }
        }
        int m;
        cin >>m;
        int cnt=n;
        int blocked[n+1]={0};
        for(int i=0;i<m;i++){
            int x;
            cin >> x;
            int ans=0;
            int temp=x;
            int count=0;
            while(temp!=1 && blocked[temp]!=1){
                blocked[temp]=1;
                count++;
                temp=parent[temp];
            }
            ans=cnt-(count+1);
            cnt-=count;
            cout << ans << endl;
        }
    }
	// your code goes here
	return 0;
}
