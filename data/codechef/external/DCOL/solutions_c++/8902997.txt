#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define ull unsigned long long
#define pb push_back
#define ft first
#define se second
#define mp make_pair
int fenwick[100001], n, k;
int start[100001], color[100001];
bool visit[100001];
vector<int> adj[100001];
int star = 0;
ll ans = 0;
void init () {
    memset(fenwick, 0, sizeof fenwick);
    memset(start, -1, sizeof start);
    memset(visit, 0, sizeof visit);
    scanf("%d%d", &n, &k);
    for (int i = 1; i <= n - 1; ++i) {
    	int x;
    	scanf("%d", &x);
    	x--;
    	adj[i].pb(x);
    	adj[x].pb(i);
    }
    for (int i = 0; i < n; ++i) scanf("%d", &color[i]);
}
void update (int pos, int extra) {
    while (pos < 100001) {
        fenwick[pos] += extra;
        pos |= (pos + 1);
    }
}
int query (int pos) {
    int ans=0;
    while (pos >= 0) {
        ans += fenwick[pos];
        pos = (pos & (pos + 1)) - 1;
    }
    return ans;
}
void dfs(int rt) {
	visit[rt] = 1;
	star++;
	int tmp = star;
	for (int i = 0; i < adj[rt].size(); ++i) {
		if (!visit[adj[rt][i]]) dfs(adj[rt][i]);
	}
	if (start[color[rt]] == -1) {
		start[color[rt]] = tmp;
		update(tmp, 1);
	} else if (start[color[rt]] < tmp){
		update(start[color[rt]], -1);
		update(tmp, 1);
		start[color[rt]] = tmp;
	}
	// cout << query(100000) - query(tmp - 1) << " " << rt << endl;
	ans += query(100000) - query(tmp - 1);
}
int main(int argc, char const *argv[]){
	init();
    dfs(0);
    printf("%lld\n", ans);
    // update(1, 1);
    // update(3, 1);
    // cout << query(3) << endl;
	return 0;
} 