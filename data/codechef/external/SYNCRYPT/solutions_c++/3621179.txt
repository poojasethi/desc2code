#include<iostream>
#include<cstdlib>
#include<cstring>
using namespace std;

int main(void)
{
	char enc[100100];
	char map[1000];
	int T, i, l, n;

	scanf("%d", &T);

	while (T--)
	{
		memset(map, 0, sizeof(map));
		memset(enc, 0, sizeof(enc));
		
		scanf("%d",&n);
		gets(enc);
		l=strlen(enc);
		
		gets(map);

		for (i = 0; i < l; i++)
		{
			if (enc[i]>='A' && enc[i]<='Z')
			{
				enc[i]=map[enc[i]-'A'];
			}
		}
		printf("%s\n",enc);
	}

	return 0;
}