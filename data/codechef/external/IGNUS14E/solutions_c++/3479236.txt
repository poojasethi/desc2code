#include <iostream>

using namespace std;
int scan(){
    int t=0;
    char c;
    c=getchar_unlocked();
    while(c<'0' || c>'9')
        c=getchar_unlocked();
    while(c>='0' && c<='9'){
        t=t*10+c-'0';
        c=getchar_unlocked();
    }
    return(t);
}
int main(){
    int T;
    int A[1001][1001],B[1001][1001];
    cin>>T;
    while(T--){
        int N,M,Q;
        N=scan();
        M=scan();
        Q=scan();

        int i,j;

        for(i=1;i<=N;i++)
        {
            for(j=1;j<=M;j++)
            {
                A[i][j]=scan();

            }
        }

        for(i=1;i<=N;i++)
        {
            for(j=1;j<=M;j++)
            {
                B[i][j]=scan();

            }
        }
        int x1,y1,x2,y2;
        long long ct;
        for(int m=0;m<Q;m++){
            x1=scan();
            y1=scan();
            x2=scan();
            y2=scan();
            ct=0;
           /* int max_x=(x1>x2)?x1:x2;
			int min_x=x1+x2-max_x;
			int max_y=(y1>y2)?y1:y2;
			int min_y=y1+y2-max_y;*/
            for(i=x1;i<=x2;i++)
                for(j=y1;j<=y2;j++)
                {


                   // cout<<A[i][j]<<" " <<B[i][j]<<endl;
                     if(A[i][j]==B[i][j])
                         ct++;
                }
                cout<<"\n";
                cout<<ct;

        }

    }
    return 0;
}
