#include<iostream>
#include<cstdio>
using namespace std;
int a[1001][1001];
  int b[1001][1001];
  int c[1001][1001];
int main()
{
  int t;
  scanf("%d",&t);
  
  int n,m,q;
  int i,j;
  int x1,y1,x2,y2;
  for(i=0;i<1001;i++) c[i][0]=0;
  while(t--)
  {
    scanf("%d%d%d",&n,&m,&q);

    for(i=1;i<=n;i++)
      for(j=1;j<=m;j++)
        scanf("%d",&a[i][j]);
  

    for(i=1;i<=n;i++)
      for(j=1;j<=m;j++)
        scanf("%d",&b[i][j]);

    

    for(i=1;i<=n;i++)
      for(j=1;j<=m;j++)
        if(a[i][j]==b[i][j])c[i][j]=1;
        else c[i][j]=0;
/*
       cout<<endl;

     for(i=0;i<=n;i++){
        for(j=0;j<=m;j++){
          printf("%d ",c[i][j]);}
        printf("\n");
      }*/

    // cumulative of c[][]

      for(i=1;i<=n;i++)
      {
        for(j=1;j<=m;j++)
        {
          c[i][j]=c[i][j-1]+c[i][j];
        }
      }


     /* for(i=0;i<=n;i++){
        for(j=0;j<=m;j++){
          printf("%d ",c[i][j]);}
        printf("\n");
      }*/

      while(q--)
      {
      scanf("%d%d%d%d",&x1,&y1,&x2,&y2);

      int ans=0;

      for(i=x1;i<=x2;i++)
      {
        ans = ans+ (c[i][y2]-c[i][y1-1]);
      }
      printf("%d\n",ans );
      }
  }


  return 0;
}



