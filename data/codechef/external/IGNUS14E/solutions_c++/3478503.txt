#include<bits/stdc++.h>

using namespace std;

static int dp[1000][1000] , arr1[1000][1000] , arr2[1000][1000];

int main ()
{
	int t , n , m , i , j , q , x1 , y1 , x2 , y2 , sum;
	
	cin >> t;
	
	while(t --)
	{
		cin >> n >> m >> q;
		
		for(i = 0; i < n ; i++)
		{
			for(j = 0; j < m; j ++)
				cin >> arr1[i][j];
		}
		
		for(i = 0; i < n; i++)
		{
			cin >> arr2[i][0];
			
			if(arr2[i][0] == arr1[i][0])
				dp[i][0] = 1;
				
			else
				dp[i][0] = 0;
		
			for(j = 1; j < m; j++)
			{
				cin >> arr2[i][j];
				
				if(arr2[i][j] == arr1[i][j])
					dp[i][j] = dp[i][j - 1] + 1;
					
				else
					dp[i][j] = dp[i][j - 1];
			}
			
		}
		
		for(j = 0; j < q; j++)
		{
			cin >> x1 >> y1 >> x2 >> y2;
			
			sum = 0;
			
			for(i = x1 - 1; i <= x2 - 1; i++)
			{
				if(arr2[i][y1 - 1] == arr1[i][y1 - 1])
					sum = sum + dp[i][y2 - 1] - dp[i][y1 - 1] + 1;
					
				else
					sum = sum + dp[i][y2 - 1] - dp[i][y1 - 1];
					
			}
			
			cout << sum << endl;
			
		}
		
	}
	
	return 0;
	
}
		
