#include<iostream>
#include<string.h>
using namespace std;
int ispalin(char *a);
char func(char c);
int ismirror(char *a);
int main()
{
    char a[100];
    //freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
    while(1)
    {
       scanf("%s",a);
       if(strcmp(a,"#") == 0)
           break;
       //cout << "hi" << endl;
       int p = ispalin(a);
       int m = ismirror(a);
       if(p == 1 && m == 1)
          cout << "mirroredpalindrome\n";
       else if(p == 1 && m !=1)
          cout << "regularpalindrome\n";
       else if(p != 1 && m == 1)
          cout << "mirroredstring\n";
       else if(p != 1 && m != 1)
          cout << "notpalindrome\n";
    }
    return 0;
}
int ispalin(char *a)
{
    int l = strlen(a);
    int flag = 1;
    int i,j;
    for(i=0,j=l-1;i<j;i++,j--)
    {
        if(a[i] != a[j])
           {flag = 0;
           break;}
    }
    return flag;
}
char func(char c)
{
	switch(c)
	{
		case 'A':
             return 'A';
		case 'E':
             return '3';
		case 'H':
             return 'H';
		case 'I':
             return 'I';	
		case 'J':
             return 'L';
		case 'L':
             return 'J';	
		case 'M':
             return 'M';
		case 'O':
             return 'O';
		case 'S':
             return '2';
		case 'T':
             return 'T';
		case 'U':
             return 'U'; 
		case 'V':
             return 'V';
		case 'W':
             return 'W';
		case 'X':
             return 'X';
		case 'Y':
             return 'Y';
		case 'Z':
             return '5';
		case '1':
             return '1';
		case '2':
             return 'S';
		case '3':
             return 'E';
		case '5':
             return 'Z';
		case '8':
             return '8';
		default:
                return ' ';
	}
} 
int ismirror(char *a)
{
    int l = strlen(a);
    int flag = 1;
    int i,j;
    char b[101];
    for(i=0;i<l;i++)
    {
       if(func(a[i]) == ' ')
          return 0;
       b[i] = func(a[i]);
    }
    //cout << "mirror string is " << b << endl;
    for(i=0,j=l-1;j>=0;i++,j--)
    {
        if(a[i] != b[j])
            return 0;
    }
    return flag;
}






