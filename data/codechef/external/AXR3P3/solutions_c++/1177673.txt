#include<iostream>
#include<stdio.h>
#include<stack>
#include<map>
using namespace std;
main()
{
	stack<char>s;
	map<char,int>m;
	m['+']=1;
	m['-']=2;
	m['*']=3;
	m['/']=4;
	m['^']=5;
	char q, arr[405];
	string str;
	int t,j,i;
	scanf("%d",&t);
	while(t--)
	{
		j=0;
	cin>>str;
	 for(i=0;i<str.size();i++)
	 {
	 	if(int(str[i])>95)
	 	arr[j++]=str[i];
 		else if(str[i]=='(')
 		s.push(str[i]);
 		else if(str[i]==')')
 		{  while(s.top()!='(')
	 	   {
			arr[j++]=s.top();
			s.pop();
	 	   }
	 	   s.pop();
		 }
	    else if(str[i]=='+'||str[i]=='-'||str[i]=='*'||str[i]=='/'||str[i]=='^'){
		 	if((s.top()=='(')||(s.empty()))
		 	s.push(str[i]);
 			else if(m[str[i]]<m[s.top()])
 			arr[j++]=str[i];
			else
			s.push(str[i]);
 			
 		}
		
 	}
 	for(i=0;i<j;i++)
 	printf("%c",arr[i]);
 	printf("\n");
	}
}