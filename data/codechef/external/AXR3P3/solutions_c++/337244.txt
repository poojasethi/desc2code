#include<cstdio>
#include<cstring>
#include<cctype>
#define SIZE 500
#define LOWEST 0
char stack[SIZE],expr[SIZE],output[SIZE];
int precedence(char op)
{
switch(op)
	{
	case '+':return LOWEST;
	case '-': return LOWEST+1;
	case '*': return LOWEST+2;
	case '/': return LOWEST+3;
	case '^': return LOWEST+4;
	case ')': return LOWEST+5;
	case '(': return LOWEST+5;
	}
}
int main()
{
int t,n;int top,pos;char ch;
scanf("%d",&t);
while(t--)
	{
	scanf("%s",expr);
	n=strlen(expr);top=0;pos=0;
	for(int i=0;i<n;i++)
		{
		ch=expr[i];
		if(isalnum(ch)){output[pos++]=ch;}
		else if(ch=='(') stack[top++]=ch;
		else if(ch==')')
			{
			while(stack[top-1]!='('&&top>0) output[pos++]=stack[top-1],top--;
			if(top>0)top--;
			}
		else
			{
			while(precedence(stack[top-1])>=precedence(ch)&&top>0&&stack[top-1]!='('){ if(stack[top-1]!='(')output[pos++]=stack[top-1];top--;}
			stack[top++]=ch;
			}
		//for(int j=0;j<top;j++) printf("%c ",stack[j]);	printf("\n");
		}
	while(top)
		{
		if(stack[top-1]!='(') output[pos++] = stack[top-1],top--;
		}
	output[pos]	= '\0';
	printf("%s\n",output);
	}
return 0;
}
