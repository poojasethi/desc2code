/*input
2
5
6 4 3 5 2
2
7 7
*/
#include <bits/stdc++.h>

#define For(i,a,b) for (int i=(a),_b=(b);i<=_b;i=i+1)
#define Ford(i,b,a) for (int i=(b),_a=(a);i>=_a;i=i-1)
#define mask(i) (1ll << i)
#define bits(x , i) ((x >> i) & 1)
#define base 1000000007
#define mid ((l+r)>>1)
#define long long long
#define bug(x)	cout<<"bug says:"<<x<<'\n';
#define line cout<<'\n'
#define loop(a,x)	for(int i=0;i<(int)(a).size();++i)
#define nenezsnp cout << "em yeu nene\n"

using namespace std;
const int N = 1001, M = sqrt(N);
int all, max_pri[N], mask[N],t,n,a[N],dp[N][(1<<11)];
bool ck[N];
bool cmp(int x,int y){
	return max_pri[x]<max_pri[y];
}
void init(){
	For(i,2,M){
		if(ck[i]==false){
				for(int j=i*i;j<=N;j+=i){
					ck[j]=true;
				}
				for(int j=i;j<=N;j+=i){
					mask[j]|=(1<<all);
				}
				all++;
			}
		}
	For(i,2,N)	if(ck[i]==false) {for(int j=i;j<=N;j+=i) max_pri[j] = max(max_pri[j], i);}
}

void solve(){
	cin>>n;
	For(i,1,n) cin>>a[i];
	sort(a+1,a+1+n, cmp);
	//For(i,1,n) cout<<a[i]<<' ';line;
	//For(i,1,n) cout<<max_pri[a[i]]<<' ';line;
	int pre = 0;
	For(i,1,n){
		if(a[i]==1||max_pri[a[i]]!=max_pri[a[i-1]]) pre = i-1;
		For(j,0, (1<<all)-1){
			dp[i][j] = dp[i-1][j];
			if(!(j&mask[a[i]]))  dp[i][j] = max(dp[i][j] ,1 + dp[pre][j | mask[a[i]]]);
		}
	}
	cout<<dp[n][0]<<'\n';
}
int main(){
	ios_base::sync_with_stdio(false);cin.tie();
	init();
	cin>>t;
	while(t--)solve();
}