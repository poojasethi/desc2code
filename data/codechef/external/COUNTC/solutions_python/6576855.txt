#include<stdio.h>
int is_safe(int mat[300][300],int i,int j,int visited[300][300],int r,int c){
    if(i<r && j<c && mat[i][j]==1 && visited[i][j]==0)
        return(1);
    else
    return(0);
}
void Dfs(int mat[300][300],int i,int j,int visited[300][300],int r,int c){
visited[i][j]=1;
if(is_safe(mat,i,j+1,visited,r,c)==1)
    Dfs(mat,i,j+1,visited, r, c);
if(is_safe(mat,i+1,j,visited,r,c)==1)
    Dfs(mat,i+1,j,visited,r ,c); 
if(is_safe(mat,i,j-1,visited,r,c)==1)
    Dfs(mat,i,j-1,visited, r, c);
if(is_safe(mat,i-1,j,visited,r,c)==1)
    Dfs(mat,i-1,j,visited,r ,c);
}
int main(){
	int t,r,c,i,j,count=0;
	int mat[300][300];
	int visited[300][300];
	scanf("%d",&t);
	while(t--){
		count=0;
		scanf("%d %d",&r,&c);
		for(i=0;i<r;i++){
  			for(j=0;j<c;j++){
                scanf("%d", &mat[i][j]);
                visited[i][j]=0;
  			}
		}
		for(i=0;i<r;i++){
  		    for(j=0;j<c;j++){
 		        if((mat[i][j]==1)&&(visited[i][j]==0)){
                   Dfs(mat,i,j,visited,r,c);
                   count++;
                }
            }
		}
        printf("%d\n",count);
	}
	return(0);
}