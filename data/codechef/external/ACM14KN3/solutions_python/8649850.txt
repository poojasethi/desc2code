#include <iostream>
#include <cstdio>
#include <vector>
#include <cmath>
#include <algorithm>
#include <queue>
#include <map>

using namespace std;

int main()
{
	int t;
	cin>>t ;
	while(t--)
	{
	string s ;
	cin>>s ;

	int p,q ;
	cin>>p>>q ; 

	int len = s.size();
	//vector<char> arr(p *len ); 

	/*for(int i=0;i<p*len;i++)
	{
		arr[i] = s[ i%len ]; 
	}*/

	sort(s.begin(),s.end());

	//cout<<endl;
	/*for(int i=0;i<p*len;i++)
	{
		cout<<arr[i];
	}*/
	int temp ;
	for(int i=0;i<q;i++)
	{
		cin>>temp ;
		if(temp<=p*len)
		{
			int k = (temp-1)/p ;
			cout<<s[k]<<endl; 
		}
		else
		{
			cout<<-1<<endl;
		}
	}	
}
	return 0;
	
}