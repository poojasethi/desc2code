#include<stdio.h>
#include<algorithm>
#include<string.h>
#include<iostream>
using namespace std;

int tc,i;
long int p,q,n;
char s[110];

int main(){
    scanf("%d\n",&tc);
    while(tc--){
        gets(s);
        int len = strlen(s);
        sort(s,s+strlen(s));
        scanf("%ld%ld",&p,&q);
        while(q--){
            scanf("%ld",&n);
            if(n > p*len){
                printf("-1\n");
                continue;
            }
            if(n%p)
                i = n/p;
            else
                i = n/p-1;
            cout<<s[i]<<"\n";
        }
        if(tc)
            scanf("\n");
    }
    return 0;
}
