
#include <bits/stdc++.h>
#define For(i,a,b) for(long long i=a;i<=b;i++)

using namespace std;
typedef long long ll;

inline int inp()
    { int n=0,s=1,c=getchar_unlocked();
    if(c=='-')
        s=-1;
    while(c<48)
        c=getchar_unlocked();
    while(c>47)
        n=(n<<3)+(n<<1)+c-'0',c=getchar_unlocked();
    return n*s;
    }


int main()
{
    ll t;
    t=inp();
    while(t--)
    {
        ll p, q, i=0;
        string s, r;
        cin>>s;
        p=inp();
        q=inp();
//        for(i=0; i<p; i++)
//            r+=s;

        sort(s.begin(),s.end());
        long long len = s.length();

//        cout << len << endl;



        for(i=0; i<q; i++)
        {
            ll n,mod,quo,mult;
            n=inp();
            n--;
            //cout << "sc :: " << n << endl;
            quo = n / p;
            //mod = n % p;
            mult = p*len;
//            cout << "quo :: " << quo << endl;
//            cout << "rem :: " << mod << endl;
            if(n>=mult)
            {
                //cout << "HEre" << endl;
                cout << "-1" << endl;
                continue;
            }
            cout << s[quo] << endl;
        }
    }
    return 0;
}
