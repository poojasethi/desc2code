#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <cstring>
using namespace std;
#define ll long long int

int main() {
int t;
scanf("%d", &t);
char s[100];
ll p, q, n;
while(t--)
{
scanf("%s", s);
scanf("%lld %lld", &p, &q);
int l=strlen(s);
sort(s, s+l);
while(q--)
{
scanf("%lld", &n);
ll lim= l*p;
if(n>lim)
printf("-1\n");
else
if(n%p==0)
printf("%c\n", s[n/p-1]);
else
printf("%c\n", s[n/p]);
}
}
	// your code goes here
	return 0;
}