#include<cstdio>
#include<iostream>
#define read(x) scanf("%d",&x)
#define write(x) printf("%lld\n",x)
using namespace std;
typedef long long int ull;


int arr[100010],temp[100010]={0},req[100010]={0},size;
ull ans;
void merge(int l1,int r1,int l2,int r2)
{
     int cur=0,item,x1=l1,x2=r2,st=l1,sz1=r1-l1+1;
     
     while(l1<=r1 && l2<=r2)
     {
                  if(req[arr[l1]]<=req[arr[l2]])temp[cur++]=arr[l1++];
                  else {
                                      temp[cur++]=arr[l2++];
                                      ans+=sz1-(l1-st);
                       }
                 
        
                  
     }
     
     while(l1<=r1){temp[cur++]=arr[l1];l1++;}
     while(l2<=r2){temp[cur++]=arr[l2];l2++;}
     
     cur=0;
     while(x1<=x2)arr[x1++]=temp[cur++];
     
}


void mergesort(int a,int b)
{
     if(a==b)return;
     int m=(a+b)/2;
     
     mergesort(a,m);
     mergesort(m+1,b);
     merge(a,m,m+1,b);
}
     
     
int main()
{
    int i,j,t;
    read(t);
    while(t--)
    {
                    read(size);
                    for(i=0;i<size;i++)read(arr[i]);
                    
                   for(i=1;i<=size;i++){
                                        read(j);
                                        req[j]=i;
                                        }
                    ans=0;
                    mergesort(0,size-1);
    
    //for(i=0;i<size;i++)printf("%d ",arr[i]);
    write(ans);
     }
return 0;
}     
