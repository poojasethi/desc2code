#include <cstdio>
#include <algorithm>
#include<iostream>
using namespace std;

#define S(x) scanf("%d",&x)

int main()
{
    int t,n,x,y;
    S(t);
    while(t--)
    {
        S(n);
        int a[n],b[n];
        for(int i=0;i<n;i++)
        {
            a[i]=0;
            b[i]=0;
        }    
        int r1,r2;
        S(r1);
        for(int i=0;i<n-1;i++)
        {
            S(x);S(y);
            a[x]++;a[y]++;
        }
        S(r2);
        for(int i=0;i<n-1;i++)
        {
            S(x);S(y);
            b[x]++;b[y]++;
        }
        int ans1=a[r1],ans2=b[r2];
        if(ans1!=ans2)putchar('0');
        else
        {
        	std::sort(a,a+n);
            std::sort(b,b+n);
			bool flag=false;
            for(int i=0;i<n;i++)
            {
                if(a[i]!=b[i])
                {
                    flag=true;
                    break;
                }
            }
            if(flag==false)putchar('1');
            else putchar('0');
        }
        putchar(10);
    }
}