#include <iostream>
#include <cstdio>
using namespace std;
char is[200][200];
void chn(int,int);
int main()
{
int n;
cin>>n;
for(int i=0;i<n;i++){
int x,y;
cin>>x>>y;
for(int j=0;j<x;j++)
for(int k=0;k<y;k++)
is[j][k]='.';
for(int j=0;j<x;j++)
for(int k=0;k<y;k++)
cin>>is[j][k];
int sum=0;
for(int j=0;j<x;j++)
for(int k=0;k<y;k++)
{if(is[j][k]=='#')sum=sum+1;
chn(j,k);}
/* for(int j=0;j<x;j++){
for(int k=0;k<y;k++)
cout<<is[j][k];
cout<<endl;}*/
cout<<sum<<endl;
}
}
 
void chn(int x,int y){
if(is[x][y]=='#')
{is[x][y]='.';
chn(x-1,y-1);
chn(x-1,y);
chn(x-1,y+1);
chn(x,y-1);
chn(x,y+1);
chn(x+1,y-1);
chn(x+1,y);
chn(x+1,y+1);
}
else return;
} 
 