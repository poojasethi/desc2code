#include <iostream>
using namespace std;
static int r,c;
char **p;
void rem(int i,int j)
{
	p[i][j]='.';
	if((j+1)<c && p[i][j+1]=='#') rem(i,j+1);
	if((j-1)>-1 && p[i][j-1]=='#') rem(i,j-1);
	if((i+1)<r)
	{
		if((j+1)<c && p[i+1][j+1]=='#') rem(i+1,j+1);
		if((j-1)>-1 && p[i+1][j-1]=='#') rem(i+1,j-1);
		if(p[i+1][j]=='#') rem(i+1,j);
	}
	if((i-1)>-1)
	{
		if((j+1)<c && p[i-1][j+1]=='#') rem(i-1,j+1);
		if((j-1)>-1 && p[i-1][j-1]=='#') rem(i-1,j-1);		
		if(p[i-1][j]=='#') rem(i-1,j);
	}
}
int main()
{
	int t,island,l,k,i,j;
	cin>>t;
	while(t--)
	{
		cin>>r>>c;
		cin.ignore();
		p=new char*[r+1];
		for(i=0;i<r;i++)
		{p[i]=new char[c+1];cin>>*(p+i);}
		island=0;
		for(i=0;i<r;i++)
		for(j=0;j<c;j++)
		{
			if(p[i][j]=='#')
			{
				island++;
				if(p[i][j]=='#')
				rem(i,j);
			}
		}
		cout<<island<<endl;
	}
	return 0;
}