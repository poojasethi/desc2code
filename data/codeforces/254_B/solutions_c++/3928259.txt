#include <iostream>
#include <stdio.h>
using namespace std;
int tt,x,n,i,j,m,d,p,mx,t,a[601];
const int mm[] = {0 ,31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365};
int main () {
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	cin>>n;
	mx=0;
	for (i=0; i<601; i++)a[i]=0;
	for (i=0; i<n; i++){
		cin>>m>>d>>p>>t;
		x=200+mm[m-1]+d-t;
		for (j=t; j>0; j--){
			a[j+x]=a[j+x]+p;
			if (a[j+x]>mx) mx=a[j+x];
		}
	}	
	cout<<mx;
}	