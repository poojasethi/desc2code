#include<iostream>
#include<cstdio>
using namespace std;
int day[13] = {0,
31,28,31,30,31,30,31,31,30,31,30,31
};
int hash[2][13][40];
void work(int &y,int &m, int &d){
	d--;
	if(d== 0){
		m--;
		if(m==0) {m = 12; y--;}
		d = day[m];
	}
}
int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int n,ans=0; cin >> n;
	for(int i = 0; i <n; i++){
		int m,d,p,t,y=1;
		cin >> m >> d >> p >> t;
		for(int i = 0; i < t; i++){
			work(y,m,d);
			hash[y][m][d] += p;
			ans = max(ans,hash[y][m][d]);
		}
	}
	cout<< ans << endl;
}
