import sys
sys.stdin = open("input.txt", "r")
sys.stdout = open("output.txt", "w")
table = [30, 31, 30, 31, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
base_index = 4
ls = [0 for i in xrange(1000)]
n = input()
for loop in xrange(n):
    m,d,p,t = map(int, raw_input().split())
    i = sum(table[:base_index+m-1])+d-t
    for j in xrange(t):
        ls[i+j] += p 
print max(ls)
