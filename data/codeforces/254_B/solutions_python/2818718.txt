import sys
sys.stdin = open('input.txt','r')
sys.stdout = open('output.txt','w')
def date(m,d):
    a = [31,28,31,30,31,30,31,31,30,31,30,31]
    ans = 0
    for a1 in range(m-1):
        ans+=a[a1]
    ans+=d
    return ans
n = int(input())
olymps =[]
used = [0] * 366
for i in range(n):
    m,d,p,t = map(int,raw_input().split())
    date1 = date(m,d)
    for i in range(max(date1-t,0),date1): used[i]+=p
print(max(used))