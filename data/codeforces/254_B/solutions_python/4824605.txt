import sys
sys.stdin=open("input.txt")
sys.stdout=open("output.txt",'w')
from datetime import *
n=input()
f=datetime(2012,1,1)
l=[]
for i in range(n):
    m,d,p,t = map(int,raw_input().split())
    e=(datetime(2013,m,d)-f).days
    l+=[(e-t,1,p), (e,0,p)]
M=0
s=0
l.sort()
for e,t,p in l:

    if t:
        s+=p
        M=max(s,M)
    else:
        s-=p
    #print e,t,p,s
print M