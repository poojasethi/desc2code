import sys
sys.stdin = open('input.txt', 'r')
sys.stdout = open('output.txt', 'w')
M = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
n = input()
v = []
for _ in range(n):
    m, d, p, t = map(int, raw_input().split())
    d += sum(M[0 : m])

    v.append((d - t, p))
    v.append((d, -p))
    
v.sort()

f = w = 0
for t, p in v:
    w += p
    f = max(f - p, 0)
print f
