import sys
sys.stdin = open('input.txt', 'r')
sys.stdout = open('output.txt', 'w')

md = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]

n = input()
pp = []

for i in xrange(n):
	m, d, p, t = map(int, raw_input().split())
	dd = sum(md[:m - 1]) + d
	pp.append((dd - t, p))
	pp.append((dd, -p))
pp.sort()

res, s = 0, 0
for x in pp:
	s -= x[1]
	if s < 0:
		res += -s
		s = 0
print res