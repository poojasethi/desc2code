#include <iostream>
#include <cstdio>
#include <string>
#include <map>
#include <vector>
#include <algorithm>

using namespace std;  

#define rep(i,n)        for (int (i) = 0; (i) < (n); ++(i))
#define FOR(i,j,n)      for (int (i) = (j); (i) < (n); ++(i))

typedef pair<int,string> pis;

int n, k;
map<string,int> m;
vector<pis> v;
string name, n1, n2, s, a;

int main () {
#ifndef ONLINE_JUDGE
    freopen("input.txt","r",stdin);     
    //freopen("output.txt","w",stdout);
#endif
    cin>>name>>n;
    rep(i,n){
        cin>>n1>>s;
        if(s[0]=='p'){
            k = 15; cin>>s;
        }else if(s[0]=='c'){
            k = 10; cin>>s;
        } else k = 5;
        cin>>s;
        n2 = s.substr(0,s.size()-2);
        if(n1 != name && n2 != name) k = 0;
        m[n1] -= k; m[n2] -= k;
        cin>>s;
    }
    for(map<string,int>::iterator it = m.begin(); it != m.end(); it++){
        if(it->first != name)
            v.push_back(pis(it->second,it->first));
    }
    sort(v.begin(),v.end());
    rep(i,v.size()) cout<<v[i].second<<endl;
    return 0;
}