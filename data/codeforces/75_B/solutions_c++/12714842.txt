#include <bits/stdc++.h>

using namespace std;

map<string,int> scores;
vector<pair<int,string> > names;
string n1,ac,n2,tm;
string tmp;
string me;

bool cmp(string s1,string s2)
{
    if(scores[s1]>scores[s2]) return 1;
    else if(scores[s2]>scores[s2]) return 0;
    else return(s1<s2);
}

int main()
{
    cin >> me;
    int n;
    cin >> n;
    getline(cin,tmp);
    int i;
    for(i=0;i<n;i++)
    {
        cin>> n1 >> ac;
        if (ac=="posted"||ac=="commented")
            cin >> tmp;
        cin >> n2 >> tmp;
        n2=n2.substr(0,n2.size()-2);
        int fa=0;
        if(ac=="posted") {fa=15;}
        else if(ac=="likes") {fa=5;}
        else {fa=10;}
        if(!(n1==me||n2==me))
        {
            fa=0;
        }
        scores[n1]+=fa;scores[n2]+=fa;
    }
    for(map<string,int>::iterator it=scores.begin();it!=scores.end();it++)
        names.push_back(make_pair(-(it->second),it->first));
    sort(names.begin(),names.end());
    for(i=0;i<names.size();i++)
    {
        if(names[i].second!=me)
            cout << names[i].second << endl;
    }
}
