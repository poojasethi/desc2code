#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <string>
#include <map>
using namespace std;
#define p(x) cout<<#x<<":"<<x<<"\n"

int n,p,i,a;
string name,x,y,str;
map <string,int> M;
map <string,int>::iterator it;
pair <int,string> A[201];

int main()
{
  cin>>name>>n;
  for(i=0;i<n;i++)
  {
    cin>>x>>str;  
    if(str[0]=='p')
    {
      cin>>str>>y>>str;
      p=15;
    }
    else if(str[0]=='c')
    {
      cin>>str>>y>>str;
      p=10;
    }
    else
    {
      cin>>y>>str;
      p=5;
    }
    y=y.substr(0,y.size()-2);
    if(y==name)
      M[x]-=p;
    else if(x==name)
      M[y]-=p;
    M[x];
    M[y];
  }
  for(it=M.begin();it!=M.end();it++)
    if(it->first!=name)
      A[a++]=make_pair(it->second,it->first);
  sort(A,A+a);
  for(i=0;i<a;i++)
  {
    cout<<A[i].second<<"\n";
  }
  return 0;
}
