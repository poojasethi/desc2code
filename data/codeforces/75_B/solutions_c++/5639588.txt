#include <iostream>
#include <map>
#include <string>
#include <vector>
using namespace std;

int main(){
    map<string,int> bst,value;
    value["posted"]=15;
    value["commented"]=10;
    value["likes"]=5;
    multimap<int,string> inv;
    string myname;
    int n;
    cin>>myname;
    cin>>n;
    for(int i=0 ; i<n ; i++)
    {
        string X,Y,t,c;
        cin>>X;
        if(!bst.count(X) && X!=myname)
            bst[X]=0;
        cin>>t;
        cin>>Y;
        if(Y=="on")
            cin>>Y;
        Y.erase(Y.size()-2,2);
        if(!bst.count(Y) && Y!=myname)
            bst[Y]=0;
        cin>>c;
        if(X==myname || Y==myname){
            if(X!=myname)
                bst[X] += value[t];
            if(Y!=myname)
                bst[Y] += value[t];
        }
    }
    for (map<string,int>::iterator i=bst.begin() ; i!=bst.end() ; i++)
        inv.insert(pair<int,string>(-i->second,i->first));
    for (map<int,string>::iterator i=inv.begin() ; i!=inv.end() ; i++)
        cout<<i->second<<endl;
    return 0;
}