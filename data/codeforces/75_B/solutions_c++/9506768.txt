#include<bits/stdc++.h>
using namespace std;

int main(int argc, char **argv) {
#ifndef ONLINE_JUDGE
    freopen("a.in", "r", stdin);
#endif
    int val[128] = { };
    val['p'] = 15;
    val['c'] = 10;
    val['l'] = 5;
    string name;
    map<string, int> cnt;
    int n;
    cin >> name >> n;
    while (n--) {
        string s, w, act;
        cin >> s >> act;
        if (act[0] != 'l')
            cin >> w;
        getline(cin, w, '\'');
        w = w.substr(1);
        if (cnt.find(s) == cnt.end())
            cnt[s] = 0;
        if (cnt.find(w) == cnt.end())
            cnt[w] = 0;
        if (s == name)
            cnt[w] += val[act[0]];
        else if (w == name)
            cnt[s] += val[act[0]];
        cin >> w >> w;
    }

    set<pair<int, string> > arr;
    map<string, int>::iterator it;
    for (it = cnt.begin(); it != cnt.end(); ++it)
        if (it->first != name)
            arr.insert(make_pair(-it->second, it->first));
    for (set<pair<int, string> >::iterator is = arr.begin(); is != arr.end();
            ++is)
        cout << is->second << endl;
    return 0;
}
