#include <iostream>
#include <cstdio>
#include <string>
#include <algorithm>
#include <map>
using namespace std;
string s,t,r,e,f,g,on;
int n,i,j,bns;
map <string,int> y;
std::map<string,int>::iterator it;
pair <int,string> ans[101];
int main()
{
cin>>s;
cin>>n;
for (i=0;i<n;i++)
{
cin>>t>>r>>e;
if (r[0]=='p' || r[0]=='c')
	{
	cin>>f>>g;
	f=f.substr(0,f.size()-2).c_str();
	if (r[0]=='p')
		{
		if (t==s || f==s)
			y[t]-=15,y[f]-=15;
				else {
				if (y[t]==0)
				y[t]=0;
				if (y[f]==0)
				y[f]=0; 
					}
		}
	if (r[0]=='c')
		{
		if (t==s || f==s)
			y[t]-=10,y[f]-=10;
			else {
				if (y[t]==0)
				y[t]=0;
				if (y[f]==0)
				y[f]=0; 
					}}
	}
else {
	cin>>g;
	f=e.substr(0,e.size()-2).c_str();
	if (t==s || f==s)
			y[t]-=5,y[f]-=5;
else {
				if (y[t]==0)
				y[t]=0;
				if (y[f]==0)
				y[f]=0; 
					}}
}
for (it=y.begin();it!=y.end();it++)
	ans[bns++]=make_pair(it->second,it->first);
sort (ans,ans+bns);
	for (i=0;i<bns;i++)
	if (ans[i].second!=s)
	cout<<ans[i].second<<endl;


return 0;
}
