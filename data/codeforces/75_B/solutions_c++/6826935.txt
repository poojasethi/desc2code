#include <iostream>
#include <algorithm>
#include <map>
#include <cstring>
#include <cstdio>
using namespace std;
map<string,int> p;
pair<int,string> r[10000];
string me;
int n,v;
int main(){
	cin>>me;
	cin>>n;
	for(int i=0;i<n;i++){
		string t,a,b,c="";
		cin>>a>>b;
		if (b=="posted"){
			cin>>b>>t;
			v=15;
		}
		if (b=="commented"){
			cin>>b>>t;
			v=10;
		}
		if (b=="likes"){
			v=5;
			cin>>t;
		}
		cin>>b;
		for(int i=0;t[i]!='\'';i++)
			c+=t[i];
		if (a==me) p[c]+=v;else
		if (c==me) p[a]+=v;else
		p[a]+=0,p[c]+=0;
	}
	n=0;
	for(map<string,int>::iterator it=p.begin();it!=p.end();it++)
		r[n++]=make_pair(-(it->second),it->first);
	sort(r,r+n);
	for(int i=0;i<n;i++)
		cout<<r[i].second<<endl;
	return 0;
}
