#include <iostream>
#include <string>
#include <algorithm>
#include <map>
#include <stdio.h>
#include <vector>
using namespace std;
int main(){
	string m,s;int n;
	cin>>m>>n;cin.ignore();
	map<string,int> hash;
	for(int i=0;i<n;++i){
		getline(cin,s);
		string x,y;int pos = 0,point;
		while(s[pos]!=' ')
			++pos;
		x= s.substr(0,pos++);
		if(s[pos]=='p'){
			pos += 10,point =15;
		}
		else if(s[pos]=='c'){
			pos+=13,point = 10;
		}
		else
			pos+=6,point = 5;
		int n= 0;
		while(s[pos+n]!=' ')
			++n;
		y= s.substr(pos,n-2);
		if(x!=m && y!=m)
			hash[x]+=0,hash[y]+=0;
		if(x==m)
			hash[y]+=point;
		if(y==m)
			hash[x]+=point;
	}
	vector<pair<int,string> >sor;
	map<string,int>::iterator it;
	for(it=hash.begin();it!=hash.end();++it)
		sor.push_back(make_pair(-it->second,it->first));
	sort(sor.begin(),sor.end());
	for(int i=0;i<sor.size();++i)
		cout<<sor[i].second<<endl;
}
