#include<map>
#include<cstdio>
#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;
#define pb push_back
#define mp make_pair
string name;
vector <pair<int,string> > V;
int n;

bool present(string s)
{
	for(int i=0;i<V.size();i++)
	if(V[i].second==s)
	return true;
	return false;
}


void inc(string s,int l)
{
	for(int i=0;i<V.size();i++)
	if(V[i].second==s)
	V[i].first -= l;
}

int main()
{
	cin>>name;
	cin>>n;
	for(int i=0;i<n;i++)
	{
		string x,y,z;
		cin>>x>>z;
		if(!present(x))
		V.pb(mp(0,x));
		if(z[0]=='p')
		{
			cin>>z>>y;
			y=y.substr(0,y.length()-2);
			if(!present(y))
			V.pb(mp(0,y));
			cin>>z;
			if(x==name || y==name){
			inc(x,15);
			inc(y,15);}
		}
		else if(z[0]=='c')
		{
			cin>>z>>y;
			y=y.substr(0,y.length()-2);
			if(!present(y))
			V.pb(mp(0,y));
			cin>>z;
			if(x==name || y==name){
			inc(x,10);
			inc(y,10);}
		}
		else
		{
			cin>>y;
			y=y.substr(0,y.length()-2);
			if(!present(y))
			V.pb(mp(0,y));
			cin>>z;
			if(x==name || y==name){
			inc(x,5);
			inc(y,5);}
		}
		sort(V.begin(),V.end());
	}
	for(int i=0;i<V.size();i++)
	{
		if(V[i].second != name)
		cout<<V[i].second<<" "<<endl;
	}
	return 0;
}
