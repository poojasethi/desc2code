#include<bits/stdc++.h>
using namespace std;

map<string, int> id;
string names[220];
int score[220][220];
string s, s2;
int idx = 0, n;
vector<pair<int, string> > v;

int main(int argc, char **argv) {
#ifndef ONLINE_JUDGE
	freopen("a.in", "r", stdin);
#endif
	cin>>s;
	id[s] = ++idx;
	names[idx] = s;

	scanf("%d", &n);
	for(int i=0 ; i<n ; ++i) {
		cin>>s;
		int x = id[s], y, sc = 0;
		if(!x) {
			id[s] = x = ++idx;
			names[idx] = s;
		}
		cin>>s2;
		if(s2 == "likes") {
			cin>>s2;
			sc = 5;
		}
		else {
			if(s2[0] == 'p') sc = 15;
			else sc = 10;
			cin>>s2;
			cin>>s2;
		}
		s2.resize((int)s2.size()-2);
		y = id[s2];
		if(!y){
			id[s2] = y = ++idx;
			names[idx] = s2;
		}
		score[x][y] += sc;
		score[y][x] += sc;
		cin>>s2;
	}
	for(int i=2 ; i<=idx ; ++i)
		v.push_back(make_pair(-score[1][i], names[i]));
	sort(v.begin(), v.end());
	for(int i=0 ; i<(int)v.size() ; ++i)
		puts(v[i].second.c_str());
	return 0;
}
