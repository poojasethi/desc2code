#include<iostream>
#include<cstdio>
#include<string>
#include<vector>
#include<map>
#include<algorithm>
using namespace std;
typedef map<string,int> msi;
msi h;
vector< pair<int,string> > g;
string me,a,b;

int main(){
  int t,k;
  cin>>me;
  scanf("%d",&t);
  while (t--){
    cin>>a>>b;
    if (b[0]=='l') cin>>b,k=5;
    else {
      if (b[0]=='p') k=15;
      else k=10;
      cin>>b>>b;
    }
    b=b.substr(0,b.length()-2);
    if (a==me || b==me) h[a]-=k,h[b]-=k;
    else h[a]-=0,h[b]-=0;
    cin>>b;
  }
  h.erase(me);
  for (msi::iterator it=h.begin();it!=h.end();it++)
    g.push_back(make_pair(it->second,it->first));
  sort(g.begin(),g.end());
  for (k=0;k<g.size();k++) cout<<g[k].second<<endl;
  return 0;
}
 		        			  	  	   		