#include <iostream>
#include <bits/stdc++.h>
using namespace std;

int main()
{
string n;
int t;
map<string ,int>name;
map<string ,int>::iterator it;
pair <int ,string>sor[1000];
string f,ope;
int value=0;
    cin>>n>>t;
    for (int i =0;i<t;i++)
    {
        string s;
        cin>>f>>ope;
        if (ope=="posted")
        {
            value=15;
            cin>>s>>s;
        }
        else if (ope=="commented")
        {
            value=10;
            cin>>s>>s;
        }
        else
        {

            value=5;
            cin>>s;
        }
        s=s.substr(0,s.length()-2);
        if (f==n)
        {
            name[s]+=value;
        }
        else if (s==n)
        {
            name[f]+=value;

        }
        else
        {
            name[s]+=0;
            name[f]+=0;
        }
        cin>>s;
    }
    int c=0;
    for (it=name.begin();it!=name.end();it++)
    {

        sor[c++]=make_pair(-(it->second),it->first);

    }
    sort(sor,sor+c);
    for(int i=0;i<c;i++)
        cout<<sor[i].second<<endl;
    return 0;
}
