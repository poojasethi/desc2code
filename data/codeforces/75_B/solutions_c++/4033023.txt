#include <iostream>
#include <map>
#include <string>
#include <algorithm>
using namespace std;

main()
{
	map<string,int>m;
	pair<int,string>p[300];
	string a,b,c,d;
	int n,i,value;

	cin>>a>>n;
	for(i=0;i<n;i++)
	{
		cin>>b>>c;
		if(c=="posted"){value=15;cin>>c>>c;}
		else if(c=="commented"){value=10;cin>>c>>c;}
		else{value=5;cin>>c;}
		c=c.substr(0,c.length()-2);
		if(b==a)m[c]+=value;
		else if(c==a)m[b]+=value;
		else {m[c]+=0;m[b]+=0;}
		cin>>c;
	}
	n=0;
	for(map<string,int>::iterator it=m.begin();it!=m.end();it++)
	{
		p[n++]=make_pair(-(it->second),it->first);
	}
	sort(p,p+n);
	for(i=0;i<n;i++)cout<<p[i].second<<endl;
	return 0;
}
