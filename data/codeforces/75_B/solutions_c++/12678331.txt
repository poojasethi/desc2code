#include <bits/stdc++.h>
using namespace std;

map<string,int> m;
string me,l,x,f,s,a;

int main () {
    getline(cin,me);
    getline(cin,l);
    stringstream sn(l);
    int n,v; sn >> n;
    for (int i=0; i<n; i++) {
        getline(cin,l);
        stringstream ss(l);
        ss >> f >> a;
        if (a != "likes") ss >> l;
        ss >> s; s.erase(s.size()-2,2);

        //cout << s << endl;

        v = 0;
        if (f == me || s == me)
            if (a == "likes") v = 5;
            else if (a == "posted") v = 15;
            else v = 10;

        m[f]+=v; m[s]+=v;

        //cout << x << endl;
    }

    vector< pair<int,string> > ans; ans.clear();

    for (map<string,int>::iterator it = m.begin(); it!=m.end(); it++) {
        ans.push_back( make_pair( -(it->second), it->first) );
    }

    sort(ans.begin(), ans.end());

    for (int i=0; i<ans.size(); i++)
        if (ans[i].second != me)
            cout << ans[i].second << endl;
}
