#include <iostream>
#include <map>
#include <string>
#include <vector>
#include <utility>
#include <algorithm>

using namespace std;

string name;
int N;
map<string,int> point;
vector<pair<int,string> > result;

bool comp(pair<int,string> p1,pair<int,string> p2)
{
	if (p1.first==p2.first)
		return p1.second<p2.second;
	return p1.first>p2.first;
}

int main()
{
	cin >> name >> N;
	for (int i=0;i<N;i++)
	{
		string X,Y,action,t;
		int p;
		cin >> X >> action;
		if (action=="posted")
		{
			p=15;
			cin >> t >> Y >> t;
		}
		else if (action=="commented")
		{
			p=10;
			cin >> t >> Y >> t;
		}
		else
		{
			p=5;
			cin >> Y >> t;
		}
		Y=Y.substr(0,Y.size()-2);
		if (X==name)
			point[Y]+=p;
		else if (Y==name)
			point[X]+=p;
		else
		{
			point[X]+=0;
			point[Y]+=0;
		}
	}
	for (map<string,int>::iterator it=point.begin();it!=point.end();it++)
		result.push_back(make_pair(it->second,it->first));
	sort(result.begin(),result.end(),comp);
	for (int i=0;i<result.size();i++)
		cout << result[i].second << endl;
	return 0;
}