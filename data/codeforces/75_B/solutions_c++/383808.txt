#include <iostream>
#include <algorithm>
#include <string>
#include <map>
#include <cstdio>

using namespace std;

#define MXN 1007

int n;
string myName;
map<string, int> m;
pair<int, string> data[MXN];

int main()
{
	cin >> myName >> n;
	for (int i = 0; i < n; ++i) {
		string name1, name2, op, t;
		int pt = 0;
		cin >> name1 >> op;
		if (op == "posted" || op == "commented")
			cin >> t;
		cin >> name2;
		name2 = name2.substr(0, name2.size() - 2);

		if (name1 == myName) swap(name1, name2);
		if (op == "posted") pt = 15;
		if (op == "commented") pt = 10;
		if (op == "likes") pt = 5;
		if (name1 != myName && name2 != myName) {
			m[name1] += 0;
			m[name2] += 0;
		} else m[name1] -= pt;
		cin >> t;
	}
	
	int tot = 0;
	for (map<string, int>::iterator it = m.begin();
			it != m.end(); ++it)
		data[tot++] = make_pair(it->second, it->first);
	sort(data, data + tot);
	for (int i = 0; i < tot; ++i)
		puts(data[i].second.c_str());
}
