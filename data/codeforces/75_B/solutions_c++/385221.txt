#include <iostream>
#include <sstream>
#include <algorithm>
#include <set>
#include <cmath>
#include <map>
#include <vector>

using namespace std;
bool sorter (pair<string, int> i, pair<string, int> j) { return j.second < i.second || j.second == i.second && j.first > i.first; }

int main() {
	string name, a, b, t;
	cin >> name;
	map <string, int> vals;
	int n, c;
	cin >> n;
	while (n--) {
		cin >> a >> t;
		if (t == "posted") {
			c = 15;
			cin >> t >> b >> t;
		} else if (t == "commented") {
			c = 10;
			cin >> t >> b >> t;
		} else {
			c = 5;
			cin >> b >> t;
		}
		b = b.substr(0, b.size()-2);
		if (a == name)
			vals[b] += c;
		else if (b == name)
			vals[a] += c;
		else {
			vals[a] += 0;
			vals[b] += 0;
		}
	}
	vector <pair<string, int> > valv(vals.begin(), vals.end());
	sort(valv.begin(), valv.end(), sorter);
	for (int i = 0; i < valv.size(); i++)
		cout << valv[i].first << endl;
	return 0;
}
