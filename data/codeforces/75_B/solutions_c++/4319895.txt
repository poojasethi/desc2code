#include<iostream>
#include<string>
#include<algorithm>
#include<cstdio>
#include<map>
using namespace std;
map<string,int> M;
map<string,int>::iterator it;
#define FOR(i,a,b) for(i=a;i<b;i++)
class klas {
	public:
		string s;
		int n;
}K[205];
bool cmp(klas A,klas B) {
	if(A.n==B.n)
		return A.s<B.s;
	return A.n < B.n;
}
int main () {
	string mn,s,na,a,cop;//mn=my name//s=str//na=name
	int i,n,c=0,ar;
	cin >> mn >> n;
	FOR(i,0,n)
	{
		na=a="";
		cin >> na;
		cin >> a;
		if(a[0]=='p') { cin >> cop; ar=15; }
		else if(a[0]=='c') { cin >> cop; ar=10; }
		else ar=5;
		cin >> s;
		s=s.substr(0,s.size()-2);
		cin >> cop;
		if(na==mn)
			M[s]-=ar;
		else if(s==mn)
			M[na]-=ar;
		else
		{
			M[na]+=0;
			M[s]+=0;
		}
	}
	for(it=M.begin();it!=M.end();it++)
	{
		K[c].s=(*it).first;
		K[c++].n=(*it).second;
	}
	sort(K,K+c,cmp);
	for(i=0;i<c;i++)
		cout << K[i].s << endl;
	return 0;
}
