// Facetook Priority Wall
#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <vector>
#include <map>
#include <string>
#include <algorithm>
#include <utility>

using namespace std;

int main(){
	string myName;
	cin>>myName;
	int n;
	cin>>n;
	string name1,name2;
	map<string,int> facetook;
	while(n--){
		string action,temp;
		int value;
		cin>>name1;
		cin>>action;
		if(action=="commented" || action=="posted")	
			cin>>temp;
		if(action== "posted")
			value=15;
		else if(action=="commented")
			value = 10;
		else
			value = 5;
			
		cin>>name2;
		cin>>temp;
		name2= name2.substr(0,name2.length()-2);
		
		if(name1== myName)
			facetook[name2] +=value;
		else
			facetook[name1];
			
		if(name2== myName)
			facetook[name1] +=value;
		else
			facetook[name2];
			
	}
	vector< pair<int,string> > result;
	for(map<string,int> ::iterator it= facetook.begin();it!= facetook.end();++it){
		result.push_back(make_pair(-it->second, it->first));
	}
	sort(result.begin(),result.end());
	for(int i=0;i<result.size();i++)
		cout<<result[i].second<<endl;
	return 0;
}
