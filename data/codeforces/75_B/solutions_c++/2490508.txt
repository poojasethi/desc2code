#include<iostream> 
#include<cstring>
#include<cmath> 
#include<algorithm> 
using namespace std;
struct node
{
       string str;
       int score;
};
node a[1000];
string me,other1,other2,jk,jki;
int n,t,o1,o2;
bool cmp(node aa,node bb)
{
     if(aa.score==bb.score)return aa.str<bb.str;
     return aa.score>bb.score;
}
int main()
{
    cin>>me;
    cin>>n;
    for (int i=1;i<=n;i++)
    {
        o1=-1;o2=-1;
        cin>>other1>>jk;
        jki=jk;
        if(jk[0]!='l')cin>>jk;
        cin>>other2>>jk;
        other2=other2.substr(0,other2.length()-2);
        for (int i=1;i<=t;i++)
        {
            if(a[i].str==other1)o1=i;
            if(a[i].str==other2)o2=i;
        }
        if(o1==-1){t++;a[t].str=other1;o1=t;}
        if(o2==-1){t++;a[t].str=other2;o2=t;}
        if(other1==me||other2==me){
        if(jki[0]=='l'){a[o1].score+=5;a[o2].score+=5;}
        if(jki[0]=='c'){a[o1].score+=10;a[o2].score+=10;}
        if(jki[0]=='p'){a[o1].score+=15;a[o2].score+=15;}}
    }sort(a+1,a+t+1,cmp);
    for (int i=1;i<=t;i++)
    {
        if(a[i].str!=me)cout<<a[i].str<<endl;
    }//system("pause");
    return 0;
}
