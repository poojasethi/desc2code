from collections import defaultdict
d = defaultdict(lambda: defaultdict(int))
s = raw_input()
for i in xrange(input()):
    p = raw_input().split()
    a = p[0]
    if p[1]=='likes': b=p[2]
    else: b=p[3]
    b=b[:-2]
    c={'likes':5,'commented':10,'posted':15}[p[1]]
    d[a][b]+=c
    d[b][a]+=c
for v,k in sorted((-d[s][k],k) for k in d.keys() if k!=s):
    print k

    
    
    
    

