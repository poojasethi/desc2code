N=raw_input()
n=input()

from collections import defaultdict as D
R=D(int)
for i in range(n):
    l=raw_input()
    a=l.split()   
    x=a[0]
    y=a[-2].split("'")[0]
    if x!=N:R[x]+=0
    if y!=N:R[y]+=0
    if x != N and y != N or x==y: continue
    if x==N:x=y
    if a[1][0] == 'p':
        R[x]+=15
    if a[1][0] == 'c':
        R[x]+=10
    if a[1][0] == 'l':
        R[x]+=5
for k,v in sorted(R.items(),key=lambda (k,v):(-v,k)):
    print k