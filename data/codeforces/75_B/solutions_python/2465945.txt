m = raw_input()
score = {'posted' : 15, 'commented': 10, 'likes' : 5}
cnt = {}
for i in xrange(input()):
    str = raw_input().split()
    cnt.setdefault(str[0], 0)
    cnt.setdefault(str[-2][:-2], 0)
    if str[0] == m or str[-2][:-2] == m:
        cnt[str[0]] -= score[str[1]]
        cnt[str[-2][:-2]] -= score[str[1]]
for v, k in sorted([(v, k) for (k, v) in cnt.items() if k != m]): print k


