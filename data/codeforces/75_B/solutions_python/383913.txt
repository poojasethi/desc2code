#! /usr/bin/env python

import re
from sys import stdin

def process(mesg,q,my):
	tokens=mesg.split()
	if tokens[1]=='posted':
		names=(tokens[0],tokens[3][:-2])
		points=15
	elif tokens[1]=='commented':
		names=(tokens[0],tokens[3][:-2])
		points=10
	elif tokens[1]=='likes':
		names=(tokens[0],tokens[2][:-2])
		points=5
	if my not in names:
		points=0
	for name in names:
		try:
			q[name]+=points
		except KeyError:
			q[name]=points
	
if __name__=='__main__':
	my=stdin.readline().strip()
	n=int(stdin.readline())
	names={}
	queries=[stdin.readline().strip() for i in xrange(n)]
	for line in queries:
		process(line,names,my)
	output=sorted(((-v,k) for (k,v) in names.items() if k!=my))
	print "\n".join((k for (v,k) in output))
