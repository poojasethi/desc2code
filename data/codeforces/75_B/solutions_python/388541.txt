name = raw_input()
Dic = {}
D = {'p':15, 'c':10, 'l':5}
p = []
for i in xrange(input()):
    str = raw_input()
    a = str.split()[0]
    b = str.split()[-2].split("'")[0]
    s = D[str.split()[1][0]]
    if (a != name and a not in Dic.keys()): 
        Dic[a] = 0
    if (b != name and b not in Dic.keys()): 
        Dic[b] = 0
    if (a == name): Dic[b] += s
    if (b == name): Dic[a] += s
for i in Dic.keys():
    p.append((10000 - Dic[i], i))
p.sort()
for i in p: print i[1]
