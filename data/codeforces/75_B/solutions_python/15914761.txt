d={'p':15,'c':10,'l':5}
f={}
m=raw_input()
n=input()
for i in range(n):
    s=raw_input().split()
    a,b=s[0],s[-2][:-2]
    if b==m: a,b=b,a
    f.setdefault(b,0)
    if a==m:
        f[b]-=d[s[1][0]]
    else:
        f.setdefault(a,0)
        f[a]-=0
        f[b]-=0
for (v,k) in sorted((v,k) for (k,v) in f.items()):
    print k