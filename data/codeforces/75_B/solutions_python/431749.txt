from sys import stdin
from collections import defaultdict

def cmpr(a, b):
    """comparator should specify a custom comparison function of two arguments (list items) which should return a negative, zero or positive number depending on whether the first argument is considered smaller than, equal to, or larger than the second argument."""
    if a[1] == b[1]:
        if a[0] < b[0]:
            return -1
        return 1
    return b[1] - a[1]

def score(word):
    if word == 'posted': return 15
    if word == 'commented': return 10
    return 5

priority = defaultdict(int)
name = stdin.readline().strip()
for _ in xrange(int(stdin.readline())):
    line = stdin.readline().split()
    first = line[0]
    second = line[2][:-2] if line[1] == 'likes' else line[3][:-2]
    if first == name:
        priority[second] += score(line[1])
    elif second == name:
        priority[first] += score(line[1])
    else:
        priority[first]
        priority[second]

#print priority
for key, val in sorted(priority.items(), cmp = cmpr):
    print key
