s = raw_input()
d={s:0}
for i in xrange(input()):
    p=raw_input().split()
    a=p[0]
    b=p[[3,2][p[1][0]=='l']][:-2]
    d[a]=d.get(a,0)
    d[b]=d.get(b,0)
    if b not in d: d[a]=0
    if b==s: b=a
    elif a!=s: continue
    d[b]-={'likes':5,'commented':10,'posted':15}[p[1]]
del d[s]
for v,k in sorted((v,k) for k,v in d.items()): print k