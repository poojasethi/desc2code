name = raw_input()
D = {'p':15, 'c':10, 'l':5}
Dic = {}; p = []
for i in xrange(input()):
    s = raw_input()
    a = s.split()[0]
    b = s.split()[-2].split("'")[0]
    c = D[s.split()[1][0]]
    if (a != name and not Dic.has_key(a)): Dic[a] = 0
    if (b != name and not Dic.has_key(b)): Dic[b] = 0
    if (a == name): Dic[b] += c
    if (b == name): Dic[a] += c
for i in Dic.keys(): p.append((10000 - Dic[i], i))
for i in sorted(p): print i[1]
