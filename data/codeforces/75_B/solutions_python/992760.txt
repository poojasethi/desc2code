my = raw_input()

n = input()

a = {}

p = {'p' : 15 , 'c' : 10 , 'l' : 5}

for i in range(n):
    line = raw_input().split()
    
    c = line[0]
    if c not in a:
        a[c] = 0
    
    d = line[-2][:-2]
    if d not in a:
        a[d] = 0
    if c == my :    
        a[d] += p[line[1][0]]
    if d == my :
        a[c] += p[line[1][0]]

a = sorted( a.items() ,key = lambda d :(-d[1], d[0] ))

for i in range (len(a)):
    if a[i][0] != my:
        print a[i][0]
