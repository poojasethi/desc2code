point = {"p":15, "c":10, "l":5}
name = raw_input()
n = input()
map = {}
map.setdefault(name, 0)
for i in xrange(n):
    s = raw_input().split(" ")
    map.setdefault(s[0], 0)
    map.setdefault(s[-2][:-2], 0)
    if(s[0] == name or s[-2][:-2] == name): 
        map[s[0]] -= point[s[1][0]]
        map[s[-2][:-2]] -= point[s[1][0]]
del map[name]
for v, k in sorted([(v, k) for k, v in map.items()]): print k

    
