#include<iostream>
#include<conio.h>
using namespace std;
int main()
{
int n,m,i,j,t;
cin>>n>>m;
unsigned long long int a[n],x,y,sum=0;
for(i=0;i<n;i++)
cin>>a[i];
for(i=0;i<m;i++)
{
cin>>t;
if(t==3)
{
cin>>x;
cout<<a[x-1]+sum<<"\n";
}
if(t==2)
{
cin>>y;
sum+=y;
}
if(t==1)
{
cin>>x>>y;
a[x-1]=y;
a[x-1]=a[x-1]-sum;
}
}
}
