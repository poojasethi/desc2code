#include <iostream>

using namespace std;
int n,m,a[100005],up=0,i,t,v,x;
int main()
{
    cin>>n>>m;
    for(i=1;i<=n;i++)cin>>a[i];
    for(i=1;i<=m;i++)
    {
            cin>>t;
            if (t==1){cin>>v>>x;a[v]=x-up;}
            else if (t==2){cin>>x;up+=x;}
            else{cin>>x;cout<<a[x]+up<<endl;}
    }

    return 0;
}
