#include <iostream>
using namespace std;

typedef long long ll;

ll n, m, arr[100005], y = 0, a, b, c;

int main(){

    cin >> n >> m;
    for(int i = 0; i<n; i++) cin >> arr[i];
    for(int i = 0; i<m; i++){
        cin >> a >> b;
        if(a==1) (cin >> c), arr[b-1]=-y+c;
        if(a==2) y+=b;
        if(a==3) cout << arr[b-1]+y << '\n';
    }

}
