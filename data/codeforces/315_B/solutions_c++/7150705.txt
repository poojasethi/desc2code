#include<bits/stdc++.h>
using namespace std;
int main()
{
	int i,n,m,t,v,x,q,y=0,a[100010];
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)
		scanf("%d",&a[i]);
	while(m--)
	{
		scanf("%d",&t);
		if(t==1)
		{
			scanf("%d%d",&v,&x);
			a[v]=x-y;
		}
		else if(t==2)
		{
			scanf("%d",&x);
			y+=x;	
		}
		else if(t==3)
		{
			scanf("%d",&q);
			printf("%d\n",a[q]+y);
		}
	}
	return 0;
}
