#include <iostream>

using namespace std;

int main(){

int k,v,y,q;
long x;
 int n,m;
 int sum=0;
 cin>>n>>m;
 int a[n+2];
 for(int i=1;i<=n;i++)cin>>a[i];
 for(int i=1;i<=m;i++){
 
 cin>>k;

 switch(k){
 case 1: cin>>v>>x;  a[v]=x-sum; break;
 case 2: cin>>y; sum+=y; break;
 case 3: cin>>q; cout<<a[q]+sum<<endl; break;
 }
 }
}