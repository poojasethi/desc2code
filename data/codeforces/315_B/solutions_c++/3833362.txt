#include <cstdio>
#include <iostream>
#include <algorithm>
using namespace std;
long n,m,i,t,f,x,v,a[110000];
int main() {
	scanf("%ld%ld",&n,&m);
	for (i=1;i<=n;i++) scanf("%ld",&a[i]);
	for (i=1;i<=m;i++) {
		scanf("%ld%ld",&t,&x);
		if (t==1) {
			scanf("%ld",&v);
			a[x]=v-f;
		} else if (t==2) f+=x;
		else if (t==3) printf("%ld\n",a[x]+f);
	}
	return 0;
}