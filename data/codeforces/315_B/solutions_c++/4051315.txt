#include<cstdio>
int dizi[100001],a,b,c,n,m,t,d;
int main( )
{
 scanf("%d %d",&n,&m);
 for(int i=1;i<=n;i++) scanf("%d",&dizi[i]);	
	for(int i=1;i<=m;i++){
	scanf("%d",&a);
	if(a==1){ scanf("%d %d",&c,&d); dizi[c]=d-t; }
	if(a==2){ scanf("%d",&c); t+=c; }
	if(a==3){ scanf("%d",&c); printf("%d\n",dizi[c]+t); }	
		
	}
	
	
}