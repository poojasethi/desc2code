#include <iostream>

using namespace std;

int main(){
	int n, m;
	cin>>n>>m;
	int arr[n+1];
	for(int i = 1; i < n+1; i++){
		cin>>arr[i];
	}
	int x,y,z,h = 0;
	for(int  i = 0; i < m;i++){
		cin>>x>>y;
		if(x == 1){
			cin>>z;
			arr[y] = z - h;
		}
		if(x == 2){
			h+=y;
		}
		if(x == 3){
			cout<<arr[y]+h<<endl;
		}
	}
	return 0;
}