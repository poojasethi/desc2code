#include<cstdio>
int main()
{
	__int64 i,n,m,a[100005],p,q,o,s=0;
	scanf("%I64d%I64d",&n,&m);
	for(i=0;i<n;i++) scanf("%I64d",&a[i]);
	for(i=0;i<m;i++){
		scanf("%I64d%I64d",&p,&q);
		if(p==1){
			scanf("%I64d",&o);
			a[q-1]=o-s;
		}
		else if(p==2)
			s+=q;
		else printf("%I64d\n",a[q-1]+s);
	}
}

  		  	 	 			 	 					 	   			 	