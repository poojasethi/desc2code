#include<iostream>
using namespace std;
long long a[100000],i,j,b,j1,n,m,x;
main()
{
 cin>>n>>m;
 for(i=1;i<=n;i++)
 cin>>a[i];
 for(i=1;i<=m;i++)
 {
  cin>>x;
  if(x==3){cin>>j;cout<<a[j]+b<<endl;};
  if(x==2){cin>>j;b+=j;}
  if(x==1){cin>>j>>j1;a[j]=j1-b;}
}
//system("pause");
}
