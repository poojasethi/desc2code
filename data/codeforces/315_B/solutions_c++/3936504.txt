#include <iostream>
using namespace std;

int main(void)
{
	int n, m, a[100000], t, v, x, y, q, tmp=0;

	cin >> n >> m;
	for (int i=0; i<n; ++i)
		cin >> a[i];
	for (int i=0; i<m; ++i)	{
		cin >> t;
		if (t == 1)	cin >> v >> x, a[v-1]=x-tmp;
		else if (t == 2)	cin >> y, tmp+=y;
		else if (t == 3)	cin >> q, cout << a[q-1]+tmp << endl;
	}
	return 0;
}
