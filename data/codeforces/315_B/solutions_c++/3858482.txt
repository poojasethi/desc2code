#include <stdio.h>

int main (void) {
	int n, m, v[100000], i, t, a, b, tot;
	scanf ("%d%d", &n, &m);
	for (i = 0; i < n; i++)	scanf ("%d", &v[i]);
	tot = 0;
	for (i = 0; i < m; i++) {
		scanf ("%d%d", &t, &a);
		if (t == 1) {
			scanf ("%d", &b);
			v[a-1] = b-tot;
		} else if (t == 2)	tot += a;
		else	printf ("%d\n", v[a-1]+tot);
	}
	return 0;
}
