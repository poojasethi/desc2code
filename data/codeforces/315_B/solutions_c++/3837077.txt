#include<cstdio>
int a[100002][2];
int main()
{
int n,m,t,i,c=0,v,x,y,q;
scanf("%d%d",&n,&m);
for(i=1;i<=n;i++)
scanf("%d",&a[i][0]);
while(m--)
{
scanf("%d",&t);
if(t==1)
{
scanf("%d%d",&v,&x);
a[v][1]=c;
a[v][0]=x;
}
if(t==2)
{
scanf("%d",&y);
c=c+y;
}
if(t==3)
{
scanf("%d",&q);
printf("%d\n",a[q][0]+c-a[q][1]);
}
}
return 0;
}
