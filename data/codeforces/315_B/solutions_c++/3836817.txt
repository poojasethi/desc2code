#include <iostream>

using namespace std;

int main(){
 int N,M;
 cin>>N>>M;
 int A[N+1];
 for(int i=1; i<=N;i++)cin>>A[i];
 int k,v,x,m=0;
 for(int i=1; i<=M;i++){
 
 cin>>k>>v;
 
 switch(k){
 case 1: cin>>x;  A[v]=x-m; break;
 case 2: m+=v; break;
 case 3: cout<<A[v]+m<<endl; break;
 default: break;
 
 
 
 
 
 }
 
 
 
 
 
 }
 
 
 
 return 0;
}