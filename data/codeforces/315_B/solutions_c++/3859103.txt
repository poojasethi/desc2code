#include<iostream>
using namespace std;
int main()
{
long int n,m,i,j,a[100009],t,k;
cin>>n>>m;
for(i=1;i<=n;i++)
{
cin>>a[i];
}
int s=0;
for(i=0;i<m;i++)
{
cin>>t;
if(t==3)
{
cin>>j;
cout<<a[j]+s<<"\n";
}
else if(t==2)
{
cin>>k;
s+=k;
}
else
{
cin>>j>>k;
a[j]=k-s;
}
}
return 0;
}
