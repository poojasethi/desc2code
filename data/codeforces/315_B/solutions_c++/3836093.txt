#include<iostream>
using namespace std;
long long inp[100005];
unsigned long long add;
int main()
{
	add=0;
	long long n,m,a,b,c;
	cin>>n>>m;
	for(int i=0;i<n;i++)
		cin>>inp[i];
	for(int i=0;i<m;i++){
		cin>>a;
		if(a==1){
			cin>>b>>c;
			b--;
			inp[b]=c-add;
		}
		else if(a==2){
			cin>>b;
			add+=b;
		}else{
			cin>>b;
			cout<<inp[b-1]+add<<endl;
		}
	}
	return 0;
}
