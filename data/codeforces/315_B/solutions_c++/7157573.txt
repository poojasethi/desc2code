#include <iostream>
#include <cstdio>
using namespace std;
int main() {
	int N,M,arr[100005],i,opt,A,B,total=0;
	cin>>N>>M;
	for(i=0;i<N;i++) {
		cin>>arr[i];
	}
	while(M--) {
		cin>>opt>>A;
		if(opt==1) {
			cin>>B;
			arr[A-1]=B-total;
		}
		else if(opt==2) {
			total+=A;
		}
		else if(opt==3)
			cout<<arr[A-1]+total<<endl;
	}
	return 0;
}
