#include <iostream>
using namespace std;

int ar[100001], N, M, st=0;

int main(){
	cin>>N>>M;

	for(int i=1; i<=N; ++i) cin>>ar[i];

	int t, v, x, y, q;
	for(int m=0; m<M; ++m){

		cin>>t;
		switch(t){

			case 1:
				cin>>v>>x;
				ar[v]=x-st;
				break;

			case 2:
				cin>>y;
				st+=y;
				break;

			case 3:
				
				cin>>q;
				cout<<ar[q]+st<<endl;
				break;

		}
	}

}
