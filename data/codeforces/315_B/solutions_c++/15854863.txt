#include <iostream>
#include <cstring>
#include <cstdio>
using namespace std;
__int64 a[100005];
int main()
{
    __int64 m,n,i,x,y,z,s=0;
    cin>>m>>n;
    for(i=1;i<=m;i++)scanf("%I64d",&a[i]);
    while(n--){
    scanf("%I64d%I64d",&x,&y);
    if(x==1){scanf("%I64d",&z);a[y]=z-s;}
    else if(x==2)s+=y;
    else cout<<a[y]+s<<endl;
    }
}

		       	   	  	 			  	    			