n,m=map(int,raw_input().split())
ar=map(int,raw_input().split())
inc=0
for i in range(m):
	inp=map(int,raw_input().split())
	if len(inp)==3:
		ar[inp[1]-1]=(inp[2]-inc)
	else:
		if inp[0]==2:
			inc+=inp[1]
		else:
			print ar[inp[1]-1]+inc
