R=lambda:map(int,raw_input().split())
n,m = R()
a = [0] + R()
y = 0

for _ in range(m):
  x = R()
  if x[0] == 1: a[x[1]] = x[2] - y
  if x[0] == 2: y += x[1]
  if x[0] == 3: print(a[x[1]] + y)