import sys
sys.setrecursionlimit(10001)

n, m = map(int, sys.stdin.readline().strip().split())
A = map(int, sys.stdin.readline().strip().split())
incr = 0
for _ in xrange(m):
	L = map(int, sys.stdin.readline().strip().split())
	if L[0] == 1:
		A[L[1] - 1] = L[2] - incr
	elif L[0] == 2:
		incr += L[1]
	elif L[0] == 3:
		print incr + A[L[1] - 1]
