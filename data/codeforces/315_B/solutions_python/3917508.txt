n,m=map(int,raw_input().split())
A=list(raw_input().split())
y = 0
for i in range(0,m):
    task=list(raw_input().split())
    if task[0] == '1':
        A[int(task[1])-1]=int(task[2])-y
    if task[0] == '2':
        y = y+int(task[1])
    if task[0] == '3':
        print (int(A[int(task[1])-1]) + y)

