R=lambda:map(int,raw_input().split())
n,m=R()
a=[0]+R()
d=0
for _ in range(m):
  v=R()
  if 1==v[0]:
    a[v[1]]=v[2]-d
  elif 2==v[0]:
    d+=v[1]
  else:
    print a[v[1]]+d
