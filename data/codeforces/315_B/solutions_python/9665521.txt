def iarr(): return map(int,raw_input().split())
[n,m] = iarr()
arr = zip(iarr(),[0]*n)
s = [0]
t = 0
for i in xrange(m):
    op = iarr()
    if(op[0] == 1):
        arr[op[1]-1] = [op[2],t]
    elif(op[0] == 2):
        s.append(s[-1]+op[1])
        t+=1
    else:
        print arr[op[1]-1][0] + s[-1] - s[arr[op[1]-1][1]]
									  	 			 					        	