import sys



n,m=map(int,raw_input().split())
a=list(map(int, raw_input().split()))

offset=0
for i in range(m):
    h=list(map(int,raw_input().split()))
    if h[0]==1:
        a[h[1]-1]=(h[2]-offset)
    if h[0]==2:
        offset+=h[1]
    if h[0]==3:
        print a[h[1]-1]+offset
        



    