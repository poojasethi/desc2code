n,m=map(int,raw_input().split(' '))
a=map(int,raw_input().split(' '))
sum=0
for i in xrange(m):
	b=map(int,raw_input().split(' '))
	if b[0]==1:a[b[1]-1]=b[2]-sum
	if b[0]==2:sum+=b[1]
	if b[0]==3:print a[b[1]-1]+sum