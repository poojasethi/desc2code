I = lambda:map(int , raw_input().split())
n , m = I()
a = I()
sum = 0
for i in [I() for _ in range(m)]:
    if i[0] == 1:
        a[i[1] - 1] = i[2] - sum
    if i[0] == 2:
       sum += i[1]
    if i[0] == 3:
        print a[i[1] - 1] + sum