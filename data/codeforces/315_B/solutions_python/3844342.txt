n,m = map(int,raw_input().split())
a = map(int,raw_input().split())
b = [0 for i in range(n)]
aug = 0
for i in range(m):
    op = map(int,raw_input().split())
    if op[0] == 1:
        a[op[1]-1] = op[2]
        b[op[1]-1] = aug
    elif op[0] == 2:
        aug += op[1]
    else:
        print str(a[op[1]-1] + aug - b[op[1]-1])