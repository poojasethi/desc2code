n,m = map(int,raw_input().split())
lis = map(int,raw_input().split())
add = 0
while m > 0:
    m -= 1 
    l = map(int,raw_input().split())
    if l[0] == 1:
        lis[l[1]-1] = l[2]-add
    elif l[0] == 2:
        add += l[1]
    else : 
        print lis[l[1]-1]+add