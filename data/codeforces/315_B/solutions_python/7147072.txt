n,k = [int(c) for c in raw_input().split()]
r = [int(c) for c in raw_input().split()]
s = 0
for i in xrange(k):
	Q = [int(c) for c in raw_input().split()]
	if len(Q) == 2:
		q,u = Q
	else:
		q,u,v = Q
	if q == 3:
		print r[u-1]+s
	elif q == 2:
		s += u
	else:
		r[u-1] = v-s