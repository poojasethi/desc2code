#raw_input().split()

n,m  = map(int, raw_input().split())

list1 = map(int, raw_input().split())

total_add = 0

for i in xrange(m):
	shitlist = map(int, raw_input().split())
	if shitlist[0] == 1:
		list1[shitlist[1]-1] = shitlist[2] - total_add
	elif shitlist[0] == 2:
		total_add += shitlist[1]
	elif shitlist[0] == 3:	
		print list1[shitlist[1]-1] + total_add
