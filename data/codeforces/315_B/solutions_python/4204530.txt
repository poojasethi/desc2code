I = lambda:[int(v) for v in raw_input().split()]
n, m = I()
a = I()
S = 0
for i in [I() for _ in range(m)]:
    if i[0] == 1: a[i[1] - 1] = i[2] - S
    elif i[0] == 2: S += i[1]
    else: print(a[i[1] - 1] + S)