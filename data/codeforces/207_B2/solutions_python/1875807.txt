#include <cstdio>
#include <iostream>
#include <algorithm>
#define FOR(i,s,e) for(int i=(s);i<(int)(e);i++)
#define FOE(i,s,e) for(int i=(s);i<=(int)(e);i++)
using namespace std;
typedef long long LL;

const int N = 1048576, INF = N;
int n;

int a[N];
int d[N];
int q[N], hd, tl;

void Push(int i, int c) {
        if (d[i] != -1) return;
        d[i] = c;
        q[tl++] = i;
}

int main() {
        cin >> n;
        FOR(i, 0, n) cin >> a[i];
        copy(a, a+n, a+n);

        LL ans = 0LL;
        FOR(i, 0, n) {
                int e = i+n-1;
                hd = tl = 0;
                FOR(k, 0, n) d[i+k] = -1;
//              FOR(k, 0, n) cout << a[i+k] << " "; cout << endl;

                Push(e, 0);
                while (hd != tl && d[i] == -1) {
                        int x = q[hd], c = d[x];
                        int off = 0;
                        while (hd+off != tl && d[q[hd+off]] == c) {
                                int x = q[hd+off]; ++off;
                                for (int u = 1; x+u<=e && d[x+u]==-1; Push(x+u,c), u++);
                        }
                        FOR(u, 0, off) {
                                int x = q[hd+u];
                                int y = max(i, x-a[x]);
                                Push(y, c+1);
                        }
                        hd += off;
                }
//              cout << d[i] << endl;
                ans += d[i];
        }
        cout << ans << endl;
        return 0;
}
