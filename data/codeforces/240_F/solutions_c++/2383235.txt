#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;
#define ls pos<<1,l,m
#define rs pos<<1|1,m+1,r
const int N = 100005;
int chg[26][N<<2];
int seg[26][N<<2],n,now;
char ch[N];
inline void set(int c,int pos,int l,int r){
	if(c == 1) seg[now][pos]=r-l+1;
	else seg[now][pos]=0;
	chg[now][pos]=c;
}
inline void pushdown(int pos,int l,int r){
	int &c = chg[now][pos];
	if(!c) return ;
	if(l!=r) {
		int m = l+r>>1;
		set(c,ls); set(c,rs);	
	}
	c = 0;
}
int query(int L,int R,int pos = 1, int l = 1, int r = n){
	pushdown(pos,l,r);
	if(L <= l && R >= r){
		return seg[now][pos];
	}
	int m = l + r >> 1, ans = 0;
	if(L <= m) ans += query(L,R,ls);
	if(R >  m) ans += query(L,R,rs);
	return ans;
}
void update(int c,int L, int R, int pos = 1,int l = 1,int r = n){
	if(L <= l && R >= r){
		set(c,pos,l,r);
		//cout<<"update: "<<l<<" "<<r<<" "<<now<<" "<<seg[now][pos]<<endl;
		return ;
	}
	pushdown(pos,l,r);
	int m = l + r >> 1;
	if(L <= m) update(c,L,R,ls);
	if(R >  m) update(c,L,R,rs);
	seg[now][pos] = seg[now][pos<<1] + seg[now][pos<<1|1];
	//cout<<"update: "<<l<<" "<<r<<" "<<now<<" "<<seg[now][pos]<<endl;
}
int tmp[30];
int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int m;
	cin >> n >> m;
	cin >> ch;
	for(int i = 1; i <= n; i++){
		now = ch[i-1]-'a';
		update(1,i,i);
	}
	for(int i = 0;i < m; i++){
		int l,r;
		cin >> l >> r;
//		cout<<"QUERY: "<<l<<" "<<r<<endl;
		int cnt = (r-l+1)&1;
		for(now = 0; now < 26; now++)
			cnt -= (tmp[now] = query(l,r)) & 1;
		if(cnt != 0) continue;
		int tl = l,tr = r;
		for(now = 0; now < 26; now ++){
			int mnt = tmp[now];
			if(mnt == 0) continue;
			update(2,l,r);
			if(mnt & 1){
				update(1,(r+l)/2,(r+l)/2);
			}
			if(mnt>1) {
				update(1,tl,tl+mnt/2-1);
				tl = tl+mnt/2;
				update(1,tr-mnt/2+1,tr);
				tr = tr-mnt/2;
			}
		}
	}
	for(int i = 1; i <= n; i++)
		for(now = 0; now < 26; now++)
			if(query(i,i)) {cout<<char('a'+now);break;}
	cout<<endl;
}
