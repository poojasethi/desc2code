#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <set>
#include <vector>
#include <cmath>
#include <queue>
#define N (1<<17)
using namespace std;
int t[26][N*2];
char a[N];
void up(int ch,int l,int r,int key,int now=1,int low=0,int high=N){
	int len=high-low;
	if (r<=low||l>=high) return;
	if (l<=low&&r>=high){
		t[ch][now]=len*key;
		return;
	}
	if (t[ch][now]==0) t[ch][now*2]=t[ch][now*2+1]=0;
	if (t[ch][now]==len) t[ch][now*2+1]=t[ch][now*2]=len/2;
	int mid=(low+high)/2;
	up(ch,l,r,key,now*2,low,mid);
	up(ch,l,r,key,now*2+1,mid,high);
	t[ch][now]=t[ch][now*2]+t[ch][now*2+1];
}
int sum(int ch,int l,int r ,int now=1, int low=0,int high=N){
	int len=high-low;
	if (r<=low||l>=high) return 0;
	if (l<=low&&r>=high)  return t[ch][now];
	if (t[ch][now]==len) return min(high,r)-max(low,l);
	if (t[ch][now]==0) return 0;
	int mid=(low+high)/2;
	int res=sum(ch,l,r,now*2,low,mid);
	res+=sum(ch,l,r,now*2+1,mid,high);
	return res;
}
main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	ios::sync_with_stdio(false);
	int n,m,i,j,x,y,cnt;
	memset(t,0,sizeof(t));
	cin>>n>>m;
	for(i=1;i<=n;i++) {
		
		cin>>a[i];
		up(a[i]-'a',i-1,i,1);
	}
	
	/* for (i=1;i<=n;i++){
		cout<<sum(a[i]-'a',i-1,i)<<endl;
	} */
	
	/* for (i=1;i<=n;i++) cout<<a[i];
	cout<<endl; */
	
	while (m--){
		cin>>x>>y;
		x--;
		
		//cout<<x<< " "<<y<<endl;
		
		int b[26];
		for (i=0;i<26;i++) {
			b[i]=sum(i,x,y);
			//cout<<i<<" "<<x<<" "<<y<<" "<<b[i]<<endl;
		}
		cnt=0;
		j=0;
		for (i=0;i<26;i++) if (b[i]&1) {
			cnt++;j=i;
		}
		if (cnt>1) continue;
		for (i=0;i<26;i++) up(i,x,y,0);
		if (cnt==1){
			up(j,(x+1+y)/2-1,(x+1+y)/2,1);
			b[j]--;
		}
		for (i=0;i<26;i++)
		if (b[i]){
			up(i,x,x+b[i]/2,1);
			//cout<<"up"<<i<<" "<<x<<" "<<(x+b[i]/2)<<endl;
			x+=b[i]/2;
		}
		if (cnt==1) x++;
		for (i=25;i>=0;i--)
		if (b[i]){
			up(i,x,x+b[i]/2,1);
			//cout<<"up"<<i<<" "<<x<<" "<<(x+b[i]/2)<<endl;
			x+=b[i]/2;
		}
	}
	for (i=1;i<=n;i++)
	for (j=0;j<26;j++)
	if (sum(j,i-1,i)==1) a[i]=(char)('a'+j);
	for (i=1;i<=n;i++)
	cout<<a[i];
	cout<<endl;
}
