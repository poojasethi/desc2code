#include<iostream>
#include<algorithm>
#include<cstdio>
#include<cstring>
#include<cmath>
using namespace std;
#define N 110000
int a[N*4][27],n,m,b[27];
char lab[N*4],str[N];
void down(int u,int l,int r){
     if(lab[u]==' ')return;
     for(int i=0;i<26;i++)a[u][i]=0;
     a[u][(int)(lab[u]-'a')]=r-l+1;
     if(l!=r)lab[u*2]=lab[u*2+1]=lab[u];
     lab[u]=' ';
}
void updata(int u,int l,int r){
     int mid=(l+r)/2;
     down(u*2,l,mid);
     down(u*2+1,mid+1,r);
     for(int i=0;i<26;i++)a[u][i]=a[u*2][i]+a[u*2+1][i];
}
void build(int u,int l,int r){
     lab[u]=' ';
     if(l==r){
       for(int i=0;i<26;i++)a[u][i]=0;
       a[u][(int)(str[l]-'a')]=1;
       return;
     }
     int mid=(l+r)/2;
     build(u*2,l,mid);
     build(u*2+1,mid+1,r);
     updata(u,l,r);
}
void add(int u,int l,int r,int x,int y,char ch){
     down(u,l,r);
     if(x>r || y<l)return;
     if(x<=l && y>=r){
       lab[u]=ch;
       down(u,l,r);
       return;
     }
     int mid=(l+r)/2;
     add(u*2,l,mid,x,y,ch);
     add(u*2+1,mid+1,r,x,y,ch);
     updata(u,l,r);
}
void pri(int u,int l,int r){
     down(u,l,r);
     if(l==r){
       for(int i=0;i<26;i++)
         if(a[u][i])printf("%c",'a'+i);
       return;
     }
     int mid=(l+r)/2;
     pri(u*2,l,mid);
     pri(u*2+1,mid+1,r);
}
void get(int u,int l,int r,int x,int y){
     down(u,l,r);
     if(x>r || y<l)return;
     if(x<=l && y>=r){
       for(int i=0;i<26;i++)b[i]+=a[u][i];
       return;
     }
     int mid=(l+r)/2;
     get(u*2,l,mid,x,y);
     get(u*2+1,mid+1,r,x,y);
}
int main(){
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    scanf("%d%d",&n,&m);
    scanf("%s",str+1);
    build(1,1,n);
    while(m--){
      int l,r;
      scanf("%d%d",&l,&r);
      for(int i=0;i<26;i++)b[i]=0;
      get(1,1,n,l,r);
      int t=-1;
      bool pd=1;
      for(int i=0;i<26;i++)
        if(b[i]%2){
          if(t!=-1){pd=0;break;}
          t=i;
        }
      if(t!=-1 && (r-l+1)%2==0)pd=0;
      if(!pd)continue;
      for(int i=0;i<26;i++)b[i]=b[i]/2;
      for(int i=1;i<26;i++)b[i]+=b[i-1];
      if((r-l+1)%2)add(1,1,n,(l+r)/2,(l+r)/2,'a'+t);
      for(int i=0;i<26;i++){
        int s1=b[i],s0=0;
        if(i)s0=b[i-1];
        if(s0==s1)continue;
        add(1,1,n,l+s0,l+s1-1,'a'+i);
        add(1,1,n,r-s1+1,r-s0,'a'+i);
      }
    }
    pri(1,1,n);
    return 0;
}
