#include <map>
#include <cstdio>
#include <iostream>
#include <algorithm>
using namespace std;

typedef long long LL;
const int Sn = 1000010;

map<int,int> apr;
int n, a[Sn];
int Al, Ar, S[Sn], tS;
LL s[Sn], Ans = -(LL)1e18;

void update(int l, int r)
{
     LL cur = (s[r-1] - s[l]) + (a[l] + a[r]);
     if (cur > Ans) Ans = cur, Al = l, Ar = r;
}

int main()
{
#ifndef ONLINE_JUDGE
     freopen("cf.in" , "r", stdin);
     freopen("cf.out", "w", stdout);
#endif
     scanf("%d", &n);
     for (int i = 1; i <= n; i ++) {
	  scanf("%d", a + i), s[i] = s[i-1] + max(a[i], 0);
	  if (!apr[a[i]]) apr[a[i]] = i;
	  else update(apr[a[i]], i);
     }

     int tS = 0;
     for (int i = 1; i <= n; i ++)
	  if (i < Al || i > Ar || (Al < i && i < Ar && a[i] < 0)) S[++tS] = i;
     cout << Ans << " " << tS << endl;
     for (int i = 1; i <= tS; i ++) printf("%d ", S[i]); printf("\n");
}
