#include<stdio.h>
#include<map>
using namespace std;
map<int,int> mp;
const int N=300001;
__int64 sum[N],mx=0,t;
int x[N],q[N],f=0;
    
int main(){
    int l,r,i,j,n,cnt=0;
    scanf("%d",&n);
    for(i=1;i<=n;i++){
        scanf("%d",&x[i]);
        if(x[i]>0) sum[i]=sum[i-1]+x[i];
        else sum[i]=sum[i-1];
        if(mp.find(x[i])==mp.end())
            mp[x[i]]=i;
        else{
            j=mp[x[i]];
            t=sum[i-1]-sum[j]+2*x[i];
            if(!f||t>mx) mx=t,l=j,r=i,f=1;
        }
    }
    for(i=1,cnt=0;i<=n;i++)
        if(i<l||i>r||(i!=l&&i!=r&&x[i]<0)) q[cnt++]=i;
    printf("%I64d %d\n",mx,cnt);
    for(i=0;i<cnt;i++) printf("%d ",q[i]);
    printf("\n");
    return 0;
}   