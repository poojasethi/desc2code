#include <stdio.h>
#include <map>
#define N 300100

using namespace std;

__int64 a[N], s[N], res, m;
int cnt[N], nn;

int main() {
	int n, i, j, ii, jj;
	map <__int64, int> mp;
	res=-(1LL<<60);
//	freopen ("in.txt", "r", stdin);
	scanf("%d", &n);
	s[0]=0;
	cnt[0]=0;
	for (i=1; i<=n; i++) {
		scanf("%I64d", a+i);
		if (mp[a[i]]==0) mp[a[i]]=i;
		if (a[i]>0) {
			s[i]=s[i-1]+a[i];
			cnt[i]=cnt[i-1]+1;
		} else {
			s[i]=s[i-1];
			cnt[i]=cnt[i-1];
		}
	}
	for (i=1; i<=n; i++) {
		j=mp[a[i]];
		if (j==i) continue;
		m=s[i-1]-s[j]+2*a[i];
		if (res<m) {
			res=m;
			nn=n-(cnt[i-1]-cnt[j]+2);
			ii=i, jj=j;
		}
	}
	printf("%I64d %d\n", res, nn);
	for (i=1; i<jj; i++) printf("%d ", i);
	for (i=jj+1; i<ii; i++) if (a[i]<=0) printf("%d ", i);
	for (i=ii+1; i<=n; i++) printf("%d ", i);
	puts("");
	return 0;
}
