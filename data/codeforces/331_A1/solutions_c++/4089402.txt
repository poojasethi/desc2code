#include <vector>
#include <algorithm>
#include <iostream>
#include <cstdio>
#include <cstring>
#include <queue>
#include<set>
#include<map>
using namespace std;

const int maxn=300010;
int a[maxn],b[maxn];

long long s[maxn];
map<int,int>M;
int main()
{
	int n,i,j,k;

	cin>>n;

	for(i=1;i<=n;i++)
		scanf("%d",&a[i]),b[i]=a[i];

	long long ans=-1*(1ll<<50);
	int ll,rr;

	for(i=1,s[0]=0;i<=n;i++)
	{
		s[i]=s[i-1];
		if(a[i]>=0)
			s[i]+=a[i];
	}
	
	for(i=n;i>=1;i--)
	{
		if(M.count(a[i])==0)
			M[a[i]]=i;
		else
		{
			if(ans<s[M[a[i]]-1]-s[i]+a[i]*2)
				ll=i,rr=M[a[i]];
			ans=max(ans,s[M[a[i]]-1]-s[i]+a[i]*2);
		}
	}
	cout<<ans<<" ";
		int num=0;
		for(i=ll+1;i<rr;i++)if(a[i]>0)
			num++;
		printf("%d\n",n-num-2);
		for(i=1;i<ll;i++)
			printf("%d ",i);
		for(i=rr+1;i<=n;i++)
			printf("%d ",i);
		for(i=ll+1;i<rr;i++)if(a[i]<=0)
			printf("%d ",i);
		puts("");
}