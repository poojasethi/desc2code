#include<iostream>
using namespace std;
#define ll long long
const int N=1e5+100,MOD=95542721,K=48;
int n,q,seq[N];
int seg[4*N][100],sgn[4*N];
void build(int b=1,int e=n,int v=1)
{
	if(b==e)
    {
		seg[v][0]=seq[e];
		for(int i=1;i<K;i++)
			seg[v][i]=((((ll)seg[v][i-1]*seg[v][i-1])%MOD)*seg[v][i-1])%MOD;
		return;
	}
	int mid=(b+e)/2;
	build(b,mid,v*2);
	build(mid+1,e,v*2+1);
	for (int i = 0; i<K;i++)
		seg[v][i] = ((ll)seg[v * 2][i] + seg[v * 2 + 1][i]) % MOD;
}
void shift(int v)
{
	sgn[v]%=K;
	sgn[v*2]+=sgn[v];
	sgn[v*2+1]+=sgn[v];
	for(int i=0;i<sgn[v];i++)
		seg[v*2][K+i]=seg[v*2][i];
	for(int i=0;i<K;i++)
		seg[v*2][i]=seg[v*2][i+sgn[v]];
	for(int i=0;i<sgn[v];i++)
		seg[v*2+1][K+i]=seg[v*2+1][i];
	for(int i=0;i<K;i++)
		seg[v*2+1][i]=seg[v*2+1][i+sgn[v]];
	sgn[v]=0;
}
void st(int r,int l,int b=1,int e=n,int v=1)
{
	if(r<=b && e<=l)
    {
		sgn[v]++;
		seg[v][K]=seg[v][0];
		for(int i=0;i<K;i++)
			seg[v][i]=seg[v][i+1];
		return;
	}
	if(e<r || l<b)
		return;
	shift(v);
	int mid=(b+e)/2;
	st(r,l,b,mid,v*2);
	st(r,l,mid+1,e,v*2+1);
	for(int i=0;i<K;i++)
		seg[v][i]=((ll)seg[v*2][i]+seg[v*2+1][i])%MOD;
}
int get(int l,int r,int b=1,int e=n,int v=1)
{
	if(l<=b && e<=r)
		return seg[v][0];
	if(e<l || r<b)
		return 0;
	shift(v);
	int mid=(b+e)/2;
	int res=((ll)get(l,r,b,mid,v*2)+get(l,r,mid+1,e,v*2+1))%MOD;
	for(int i=0;i<K;i++)
		seg[v][i]=((ll)seg[v*2][i]+seg[v*2+1][i])%MOD;
	return res;
}
int main()
{
	ios_base::sync_with_stdio(false);
	cin>>n;
	for(int i=0;i<n;i++)
		cin>>seq[i+1];
	build();
	cin>>q;
	for (int i=0;i<q;i++)
    {
        int s,a,b;
		cin>>s>>a>>b;
		if(s-1)
			st(a,b);
		else
			cout<<get(a,b)<<endl;
	}
	return 0;
}
