#include<cstdio>
#include<iostream>
using namespace std;

typedef __int64 LL;
const int mod=95542721;
const int N=1e5+10;
#define ll o<<1
#define rr o<<1|1
#define mid (l+r)/2
LL sum[N<<2][50],no[N<<2];
int add[N<<2];

void pushup(int o){
    for(int i=0;i<50;i++){
        sum[o][i]=(sum[ll][(i+add[ll])%48]+sum[rr][(i+add[rr])%48])%mod;
    }
}

void pushdown(int o){
    add[ll]+=add[o];add[rr]+=add[o];
    add[o]=0;
    pushup(o);
}

LL f(LL a){
    return (((a*a)%mod)*a)%mod;
}

void build(int l,int r,int o){
    add[o]=0;
    if(l==r){
        scanf("%I64d",&sum[o][0]);
        for(int i=1;i<50;i++){
            sum[o][i]=f(sum[o][i-1]);
        }
        return ;
    }
    build(l,mid,ll);
    build(mid+1,r,rr);
    pushup(o);
}

LL ans;
int L,R;

void query(int l,int r,int o){
    if(L<=l&&r<=R){
        ans+=sum[o][add[o]%48];ans%=mod;return ;
    }
    pushdown(o);
    if(L<=mid)query(l,mid,ll);
    if(R>mid)query(mid+1,r,rr);
}

void update(int l,int r,int o){
    if(L<=l&&r<=R){
        add[o]++;return ;
    }
    pushdown(o);
    if(L<=mid)update(l,mid,ll);
    if(R>mid)update(mid+1,r,rr);
    pushup(o);
}

int main(){
    #ifdef DouBi
    freopen("in.cpp","r",stdin);
    #endif // DouBi
    int n;while(scanf("%d",&n)!=EOF){
        build(1,n,1);
        int m;scanf("%d",&m);
        for(int i=0;i<m;i++){
            int a,b,c;scanf("%d%d%d",&a,&b,&c);
            if(a==1){
                ans=0;L=b,R=c;
                query(1,n,1);
                printf("%I64d\n",ans);
            }
            else {
                L=b,R=c;
                update(1,n,1);
            }
        }
    }
    return 0;
}

	  	  	 	 		 				 	 	  		  	 		