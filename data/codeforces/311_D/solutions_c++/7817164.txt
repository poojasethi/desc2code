#include<cstdio>
#include<cstdlib>
#define mo 95542721
#define LL long long
#define N 400005
#define rep(i,n) for(int i=1;i<=n;i++)
#define REP(i,n) for(int i=0;i<n;i++)
int res,n,m,a[N],data[N][50],lazy[N],tmp[50],ll,rr;
void updata(int t){
    int L=t*2,R=t*2+1;
    REP(i,48) data[t][i]=(data[L][i]+data[R][i])%mo;
}
void build(int t,int l,int r){
    if(l==r){
        LL val=a[l];
        REP(i,48) data[t][i]=val,val=val*val%mo*val%mo;
        return;
    }
    int mid=(l+r)>>1;
    build(t*2,l,mid); build(t*2+1,mid+1,r);
    updata(t);
}
void doit(int t,int key){
    REP(i,48) tmp[i]=data[t][i];
    REP(i,48) data[t][i]=tmp[(i+key)%48];
    lazy[t]=(lazy[t]+key)%48;
}
void down(int t){
    if(lazy[t]){
        doit(t*2,lazy[t]); doit(t*2+1,lazy[t]);
        lazy[t]=0;
    }
}
void modify(int t,int l,int r){
    if(ll<=l&&r<=rr){
        doit(t,1); return;
    }
    int mid=(l+r)>>1;
    down(t);
    if(ll<=mid) modify(t*2,l,mid);
    if(rr>mid) modify(t*2+1,mid+1,r);
    updata(t);
}
void query(int t,int l,int r){
    if(ll<=l&&r<=rr){
        res=(res+data[t][0])%mo; return;
    }
    int mid=(l+r)>>1;
    down(t);
    if(ll<=mid) query(t*2,l,mid);
    if(rr>mid) query(t*2+1,mid+1,r);
}
int main(){
    scanf("%d",&n);
    rep(i,n) scanf("%d",&a[i]);
    build(1,1,n);
    scanf("%d",&m);
    while (m--){
        int ch;scanf("%d%d%d",&ch,&ll,&rr);
        if(ch==1){res=0;query(1,1,n);printf("%d\n",res);}
        if(ch==2) modify(1,1,n);
    }
}