#include <cstdio>
#include <cstdlib>
#define P 95542721
using namespace std;

int n,m,key,l,r;
int t[400001];
int x,ans;
int c[300001][49];
int tmp[49];

void insert(int p,int l,int r,int x)
{
	if (l==r)
	{
		for (int i=1;i<=48;i++) c[p][i]=tmp[i];
		return;
	}
	int mid=(l+r)>>1,ll=p<<1;
	if (x<=mid) insert(ll,l,mid,x);
	else insert(ll+1,mid+1,r,x);
	for (int i=1;i<=48;i++) c[p][i]=(c[ll][i]+c[ll+1][i])%P;
}

void down(int p)
{
	if (t[p])
	{
		int ll=p<<1;
		for (int i=1;i<=48;i++) tmp[i]=c[ll][(i+t[p]-1)%48+1];
		for (int i=1;i<=48;i++) c[ll][i]=tmp[i];
		t[ll]+=t[p]; 
		for (int i=1;i<=48;i++) tmp[i]=c[ll+1][(i+t[p]-1)%48+1];
		for (int i=1;i<=48;i++) c[ll+1][i]=tmp[i];
		t[ll+1]+=t[p];
		t[p]=0;
	}
}

void query(int p,int l,int r,int x,int y)
{
	if (l==x&&r==y)
	{
		ans=(ans+c[p][1])%P;
		return;
	}
	down(p);
	int mid=(l+r)>>1,ll=p<<1;
	if (y<=mid) query(ll,l,mid,x,y);
	else if (x>=mid+1) query(ll+1,mid+1,r,x,y);
	else {
		query(ll,l,mid,x,mid);
		query(ll+1,mid+1,r,mid+1,y);
	}
}

void add(int p,int l,int r,int x,int y)
{
	if (l==x&&r==y)
	{
		for (int i=1;i<=48;i++) tmp[i]=c[p][i%48+1];
		for (int i=1;i<=48;i++) c[p][i]=tmp[i];
		t[p]++;
		return;
	}
	down(p);
	int mid=(l+r)>>1,ll=p<<1;
	if (y<=mid) add(ll,l,mid,x,y);
	else if (x>=mid+1) add(ll+1,mid+1,r,x,y);
	else {
		add(ll,l,mid,x,mid);
		add(ll+1,mid+1,r,mid+1,y);
	}
	for (int i=1;i<=48;i++) c[p][i]=(c[ll][i]+c[ll+1][i])%P;
}

int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;i++) 
	{
		scanf("%d",&tmp[1]);
		for (int j=2;j<=48;j++) tmp[j]=(((long long)tmp[j-1]*tmp[j-1])%P*tmp[j-1])%P;
		insert(1,1,n,i);
	}
	scanf("%d",&m);
	for (int i=1;i<=m;i++)
	{
		scanf("%d%d%d",&key,&l,&r);
		if (key==1)
		{
			ans=0;
			query(1,1,n,l,r);
			printf("%d\n",ans);
		}
		if (key==2) add(1,1,n,l,r);
	}
}
