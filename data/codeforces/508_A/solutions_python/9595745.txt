R=lambda:map(int,raw_input().split())
n,m,k=R()
N=1024
g=[[0]*N for _ in range(N)]
def T(r,c):
  return g[r][c] and g[r+1][c] and g[r][c+1] and g[r+1][c+1]
for i in range(k):
  r,c=R()
  g[r][c]=1
  if T(r-1,c-1) or T(r-1,c) or T(r,c-1) or T(r,c):
    print i+1
    break
else:
  print 0
