r=lambda:map(int,raw_input().split())
n,m,k=r()
M=[ [0]*(m+2) for i in range(n+2)]
for i in range(k):
    a,b=r()
    M[a][b]=1
    if (M[a-1][b-1]*M[a][b-1]*M[a-1][b]
        or M[a+1][b+1]*M[a][b+1]*M[a+1][b]
        or M[a-1][b+1]*M[a][b+1]*M[a-1][b]
        or M[a+1][b-1]*M[a][b-1]*M[a+1][b]):
        print i+1
        exit(0)
print 0