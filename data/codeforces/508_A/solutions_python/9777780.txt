#!/usr/bin/python
#Filename: a.py

def check(x, y):
    if (s[x][y] & s[x][y-1] & s[x-1][y] & s[x-1][y-1]):
        return 1
    if (s[x][y] & s[x][y-1] & s[x+1][y-1] & s[x+1][y]):
        return 1
    if (s[x][y] & s[x][y+1] & s[x-1][y] & s[x-1][y+1]):
        return 1
    if (s[x][y] & s[x][y+1] & s[x+1][y] & s[x+1][y+1]):
        return 1
    return 0

n, m, k = map(int, raw_input().split())
s = [[0 for i in range(m + 2)] for j in range(n + 2)]
step = 0
while step != k:
    x, y = map(int, raw_input().split())
    s[x][y] = 1
    ok = check(x, y)
    if (ok == 1):
        print step + 1
        exit()
    step = step + 1
print 0
