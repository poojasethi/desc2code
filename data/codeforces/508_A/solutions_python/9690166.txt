n,m,k = map(int,raw_input().split())
arr = [[0 for x in xrange(m+2)] for y in xrange(n+2)]
for x in xrange(k):
    i,j = map(int,raw_input().split())
    arr[i][j] = 1
    a = (arr[i-1][j-1] == arr[i-1][j] == arr[i][j-1] == 1)
    b = (arr[i-1][j] == arr[i-1][j+1] == arr[i][j+1] == 1)
    c = (arr[i][j-1] == arr[i+1][j-1] == arr[i+1][j] == 1)
    d = (arr[i][j+1] == arr[i+1][j] == arr[i+1][j+1] == 1)
    
    if a or b or c or d:
        print x+1
        exit(0)
print 0