n,m,k = map(int,raw_input().split())

v=[[0 for j in range(m+2)] for i in range(n+2)]
for l in range(k):
  n,m=map(int,raw_input().split())
  v[n][m]=1
  if any(all(v[n-i/2+j/2][m-i%2+j%2] for j in range(4)) for i in range(4)):
    print l+1
    exit()

print 0