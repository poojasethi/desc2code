n,m,k =  map(int,raw_input().split())
black = [[0 for _ in range(m+2)] for _ in range(n+2)]

for i in range(k):
	x1,y1 = map(int,raw_input().split())
	black[x1][y1] = 1
	if any(all(black[x+k][y+l] for k in [0,1] for l in [0,1]) for x in [x1-1,x1] for y in [y1-1,y1]):
			print i+1
			exit()	

print 0			
