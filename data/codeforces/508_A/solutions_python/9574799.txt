def check_board(board, x0, y0):
	return board[y0][x0] == 1 and board[y0][x0 + 1] == 1 and \
		board[y0 + 1][x0] == 1 and board[y0 + 1][x0 + 1] == 1

(n, m, k) = map(int, raw_input().split())

board = [[0] * (m + 2) for _ in xrange(0, n + 2)]

for i in xrange(k):
	y, x = map(int, raw_input().split())
	board[y][x] = 1

	if check_board(board, x, y) or check_board(board, x - 1, y) or \
		check_board(board, x, y - 1) or check_board(board, x - 1, y - 1):
		print i + 1
		exit()

print 0