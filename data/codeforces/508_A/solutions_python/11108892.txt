import sys

n, m, k = map(int, sys.stdin.next().split())

a = map(lambda x: [0] * (m + 2), [0] * (n + 2))

flag = 0
for i in range(k):
    u, v = map(int, sys.stdin.next().split())
    a[u][v] = 1

    for du, dv in [(1, 1), (1, -1), (-1, 1), (-1, -1)]:
        if a[u][v] * a[u + du][v] * a[u][v + dv] * a[u + du][v + dv]:
            print(i + 1)
            sys.exit()

print(0)
