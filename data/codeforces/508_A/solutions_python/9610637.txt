n,m,k = map(int,raw_input().split())
g = [[0]*(m+2) for i in range(n+2)]
#print g
#for i in range(k):
#    print i
for K in range(k):
    x,y = map(int,raw_input().split())
    g[x][y] = 1
    
    for i in range(-1,1):
        for j in range(-1,1):
            ret = 1
            for ii in range(2):
                for jj in range(2):
                    ret &= g[x+i+ii][y+j+jj]
            if(ret == 1):
                print K+1
                exit()
print 0