I = lambda:map(int, raw_input().split())
r, c, k = I()
m = [[0 for i in range(c + 2)] for j in range(r + 2)]
for cnt in range(k):
    r, c = I()
    m[r][c] = 1
    if any(all(m[r - i/2 + j/2][c -i%2 + j%2] for j in range(4)) for i in range(4)):
        print cnt + 1
        break

else: print 0
