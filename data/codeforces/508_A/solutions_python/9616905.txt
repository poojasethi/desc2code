a,b,c = map(int,raw_input().split())
s = [[0]*(b+2) for i in range(a+2)]
for i in range(c):
    q,w=map(int,raw_input().split())
    s[q][w]=1
    for g in range(-1,1):
        for j in range(-1,1):
            ans=1
            for ww in range(2):
                for jj in range(2):
                    ans&=s[q+g+ww][w+j+jj]
            if (ans==1):
                print(i+1)
                exit()
print(0)