#!/usr/bin/env python
#-*- coding:utf-8 -*-

def check4(x, y):
    if x <= 0 or x + 1 > n:
        return
    if y <= 0 or y + 1 > m:
        return
    return 1 == m.get((x, y), 0) == m.get((x + 1, y), 0) == m.get((x, y + 1), 0) == m.get((x + 1, y + 1), 0)

n, m, k = map(int, raw_input().split())
m = {}
for i in xrange(k):
    x, y = map(int, raw_input().split())
    m[x, y] = 1
    # print i, x, y, ":", m
    if check4(x - 1, y - 1):
        print i + 1
        quit()
    if check4(x - 1, y):
        print i + 1
        quit()
    if check4(x, y - 1):
        print i + 1
        quit()
    if check4(x, y):
        print i + 1
        quit()

print 0
