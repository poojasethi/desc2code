R=lambda:map(int,raw_input().split())
r,c,k=R()
v=[[0 for j in range(c+2)] for i in range(r+2)]
for m in range(k):
  r,c=R()
  v[r][c]=1
  if any(all(v[r-i/2+j/2][c-i%2+j%2] for j in range(4)) for i in range(4)):
    print m+1
    break
else:print 0