n, m, k = map(int, raw_input().split())
A = [[0]*(m+1) for i in range(n+1)]
for i in range(k):
    x, y = map(int, raw_input().split())
    A[x-1][y-1] = 1
    if max([max([A[j][k]*A[j+1][k]*A[j][k+1]*A[j+1][k+1] for k in range(y-2, y)]) for j in range(x-2, x)]):
        print i+1
        quit()
print 0


