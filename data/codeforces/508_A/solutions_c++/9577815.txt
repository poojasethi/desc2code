#include <iostream>
using namespace std;
int v[1001][1001],i,j,n,m,k,a,b;
int main()
{
   cin>>n>>m>>k;
   for(int r=1;r<=k;r++)
   {
       cin>>a>>b;
       v[a][b]=1;
       if((v[a-1][b]&&v[a-1][b-1]&&v[a][b-1])||(v[a-1][b]&&v[a-1][b+1]&&v[a][b+1])||(v[a+1][b]&&v[a+1][b-1]&&v[a][b-1])||(v[a+1][b]&&v[a+1][b+1]&&v[a][b+1]))
       {
           cout<<r;return 0;
       }
   }
   cout<<0;
    return 0;
}
