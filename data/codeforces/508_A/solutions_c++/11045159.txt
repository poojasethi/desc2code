#include <bits/stdc++.h>

using namespace std;

const int MAXN = 1000 + 100;

int n, m, k, ans;
bool tab[MAXN][MAXN];

int main () {
	cin >> n >> m >> k;
	for (int i = 0,a , b; i < k; i++) {
		cin >> a >> b;
		tab[a][b] = 1;
		for (int x = -1; x <= 1; x += 2)
			for (int y = -1; y < 2; y += 2)
				if (tab[a+x][y+b] && tab[a+x][b] && tab[a][b+y] && !ans)
					ans = i+1;
					
	}
	cout << ans << endl;
	return 0;
}
