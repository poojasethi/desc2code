#include <bits/stdc++.h>
using namespace std;

#define MAXN 1010
int A[MAXN][MAXN];

bool check(int i,int j)
{
	return A[i][j] && A[i][j+1] && A[i+1][j] && A[i+1][j+1];
}

int main() 
{
	int n,m,k,x,y;
	scanf("%d%d%d",&n,&m,&k);
	for(int moves=1;moves<=k;++moves)
	{
		scanf("%d%d",&x,&y);
		A[x][y] = 1;
		for(int i=0;i<=1;++i)
			for(int j=0;j<=1;++j)
				if(check(x-i,y-j))
				{
					cout << moves;
					return 0;
				}
	}
	cout << 0;
}