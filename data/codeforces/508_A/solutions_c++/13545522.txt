#include<bits/stdc++.h>
using namespace std;
int a[1005][1005]={0};
int main()
{
	int n,m,k,z;
	cin>>n>>m>>k;
	for(z=1;z<=k;z++)
	{
		int i,j;
		cin>>i>>j;
		a[i][j]=1;
		if((a[i][j]*a[i-1][j-1]*a[i-1][j]*a[i][j-1]==1)||(a[i][j]*a[i+1][j+1]*a[i+1][j]*a[i][j+1])==1||(a[i][j]*a[i+1][j-1]*a[i][j-1]*a[i+1][j])==1||(a[i][j]*a[i-1][j+1]*a[i][j+1]*a[i-1][j])==1)
			break;
	}
	if(z<=k)
		cout<<z;
	else
		cout<<"0";
		
	return 0;
}