#include <iostream>
using namespace std;

int main()
{
    bool tab[1005][1005];
	int n,m,k,a,b,lost=0;
	cin >> n >> m >> k;
	for (int i=1;i<=k;i++)
	{
		cin >> a >> b;
		tab[a][b] = 1;
		for (int x = -1; x < 2; x += 2)
			for (int y = -1; y < 2; y += 2)
				if (tab[a+x][b+y] && tab[a+x][b] && tab[a][b+y] && lost == 0 )
					lost = i;
	}
	cout << lost << endl;
}