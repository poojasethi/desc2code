#include <bits/stdc++.h>

using namespace std;
int mp[1111][1111];
int main()
{
	int n,m,k;
	cin>>n>>m>>k;
	int ans=0;
	for(int i=1;i<=k;i++)
	{
		int x,y;
		cin>>x>>y;
		mp[x][y]=1;
		if(mp[x-1][y-1]&&mp[x][y-1]&&mp[x-1][y]&&!ans)
			ans=i;
		if(mp[x+1][y+1]&&mp[x][y+1]&&mp[x+1][y]&&!ans)
			ans=i;
		if(mp[x-1][y]&&mp[x-1][y+1]&&mp[x][y+1]&&!ans)
			ans=i;
		if(mp[x+1][y]&&mp[x+1][y-1]&&mp[x][y-1]&&!ans)
			ans=i;
	}
	cout<<ans<<endl;

}
