#include <bits/stdc++.h>
using namespace std;
int main ()
{
int long long a,b,c,i;
bool used[1005][1005]={};
cin>>a>>b>>c;
for (i=1;i<=c;i++)
{
int x,y;
cin>>x>>y;
used[x][y]=true;
if (used[x][y+1] && ((used[x-1][y] && used[x-1][y+1]) || (used[x+1][y] && used[x+1][y+1]))){cout<<i;return 0;}
if (used[x][y-1] && ((used[x-1][y] && used[x-1][y-1]) || (used[x+1][y] && used[x+1][y-1]))){cout<<i;return 0;}
}
cout<<0;
}
