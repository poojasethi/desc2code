#include<iostream>
using namespace std;
int a[1010][1010]={0};
bool check(int x,int y)
{
    return (a[x][y] && a[x+1][y] && a[x][y+1] && a[x+1][y+1]);
}
int main()
{
int n,m,k,x,y,i,flag=-1,j;
cin>>n>>m>>k;


for(i=0;i<k;i++)
{
    cin>>x>>y;
    a[x][y]=1;

    if(check(x,y)||check(x-1,y)||check(x,y-1)||check(x-1,y-1))
    {
        cout<<i+1<<endl;
        return 0;
    }

}
cout<<0<<endl;
}
