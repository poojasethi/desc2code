#include <iostream>

using namespace std;

const int MAXN = 1010;
int a[MAXN][MAXN];

bool bad(int x, int y) {
	return a[x][y] + a[x][y + 1] + a[x + 1][y] + a[x + 1][y + 1] == 4;
}

int main() {
	int n, m, k;
	cin >> n >> m >> k;
	for (int i = 0; i < k; i++) {
		int x, y;
		cin >> x >> y;
		a[x][y] = 1;
		if (bad(x, y) || bad(x, y - 1) || bad(x - 1, y) || bad(x - 1, y - 1)) {
			cout << i + 1 << endl;
			return 0;
		}
	}
	cout << 0 << endl;
	return 0;
}
