#include <iostream>

using namespace std;

const int N=1000+5;
int n,m,k,p,q;
int c[N][N];

int main(){
  cin>>n>>m>>k;
  for(int i=0;i<k;i++){
    cin>>p>>q;
    c[p][q]=1;
    if(c[p-1][q]&&(c[p-1][q-1]&&c[p][q-1]||c[p-1][q+1]&&c[p][q+1])||c[p+1][q]&&(c[p+1][q-1]&&c[p][q-1]||c[p+1][q+1]&&c[p][q+1])){
      cout<<i+1<<endl;
      return 0;
    }
  }
  cout<<0<<endl;
}
