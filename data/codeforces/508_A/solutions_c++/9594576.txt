#include <cstdio>

bool A[1000][1000];
int N, M, K;

bool check(int x, int y) {
	return A[x][y] && A[x+1][y+1] && A[x][y+1] && A[x+1][y];
}

int main() {
	scanf("%d %d %d", &N, &M, &K);
	for(int i = 0; i < K; ++i) {
		int x,y;
		scanf("%d %d", &x, &y); x--; y--;
		A[x][y] = 1;
		if(check(x,y) || check(x-1,y-1) || check(x,y-1) || check(x-1,y)) {
			printf("%d", i+1);
			return 0;
		}
	}
	printf("0");
	return 0;
}
