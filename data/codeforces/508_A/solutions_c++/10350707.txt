#include <bits/stdc++.h>
using namespace std;

int G[1010][1010];

int main(){
	int m,n,K,a,b;
	cin >> m >> n >> K;
	for(int k = 1;k <= K;k++){
		cin >> a >> b;
		G[a][b] = 1;
		for(int dx = -1;dx <= 0;dx++)
			for(int dy = -1;dy <= 0;dy++){
				int s = 0;
				for(int i = 0;i < 2;i++)
					for(int j = 0;j < 2;j++)
						s += G[a + dx + i][b + dy + j];
				if(s == 4){
					cout << k << "\n";
					return 0;
				}
			}
	}
	cout << 0 << "\n";
	return 0;
}