#include <bits/stdc++.h>
using namespace std;

bool p[1002][1002]; 

bool check(int y, int x)
{
	return (p[y][x] && p[y-1][x] && p[y-1][x+1] && p[y][x+1]);
}

int main()
{
	int n, m, k, i, j, l;

	cin>>n>>m>>k;
	for (l = 1; l <= k; l++)
	{
		cin>>i>>j;

		p[i][j] = true;
		if (check(i, j) || check(i+1, j) || check(i+1, j-1) || check(i, j-1))
		{
			cout<<l<<endl;
			return 0;
		}
	}

	cout<<0<<endl;

	return 0;
}
