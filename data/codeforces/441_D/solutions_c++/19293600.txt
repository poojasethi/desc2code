#include<cstdio>
using namespace std;
template<typename T> void Swap(T &x,T &y){int t=x;x=y;y=t;}
template<typename T> T Abs(T x){return (x>0?x:-x);}
int n,a[3001],c,g[3001];
int f(){
	bool u[3001]={};
	int res=0,groups=0;
	for(int i=1;i<=n;i++)
		if(!u[i]){
			int cur=i;
			while(!u[cur]){
				u[cur]=1;
				cur=a[cur];
				res++;
				g[cur]=groups;
			}
			groups++;
		}
	return res-groups;
}
int main(){
	scanf("%d",&n);
	int i,aim;
	for(i=1;i<=n;i++) scanf("%d",a+i);
	scanf("%d",&c);
	aim=f();
	printf("%d\n",Abs(c-aim));
	while(c!=aim){
		if(c<aim){
			for(i=1;i<=n&&a[i]==i;i++);
			printf("%d ",i);
			int t=i;
			for(i++;i<=n&&g[t]!=g[i];i++);
			Swap(a[i],a[t]);
			printf("%d ",i);
			getchar();
		}else{
			for(i=2;i<=n&&g[i]==g[1];i++);
			printf("1 %d ",i);
			Swap(a[1],a[i]);
		}
		aim=f();
	}
	return 0;
}