#include <cstdio>
#include <cstring>
#include <algorithm>
#define FOR(i,s,e) for (int i=(s); i<(e); i++)
#define FOE(i,s,e) for (int i=(s); i<=(e); i++)
#define FOD(i,s,e) for (int i=(s)-1; i>=(e); i--)
#define N 3005
using namespace std;

int n, m, a[N], p[N], v[N];

int cal(int a[]){
	int ret = n, itr = 0;
	memset(v, 0, sizeof(v));
	FOR(i,0,n) if (!v[i]){
		++itr;
		int x = i;
		while (!v[x]){v[x] = itr, x = a[x];}
		--ret;
	}
	return ret;
}

int main(){
	scanf("%d", &n);
	FOR(i,0,n) scanf("%d", &a[i]), --a[i];
	scanf("%d", &m);
	int cur = cal(a);
	printf("%d\n", abs(cur - m));
	do{
		cur = cal(a);
		FOR(i,0,n) p[a[i]] = i;
		if (cur > m){
			FOR(i,0,n) if (a[i] != i){
				int t;
				FOR(j,i+1,n) if (v[i] == v[j]){ t = j; break;}
				printf("%d %d\n", i + 1, t + 1);
				swap(a[i], a[t]);
				break;
			}
		}
		else if (cur < m){
			FOR(i,1,n) if (v[i] != v[0]){
				printf("%d %d\n", 1, i + 1);
				swap(a[0], a[i]);
				break;
			}
		}
	}   while (cur != m);
	return 0;
}
