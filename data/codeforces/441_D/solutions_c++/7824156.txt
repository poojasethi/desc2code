#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cmath>
#include <algorithm>
using namespace std;
typedef long long ll;
typedef pair<int,int> pii;
const int mo=1e9+7;

int t,n,m,k,p[3005],a[3005],b[3005],flag[3005];

void print(){
	printf("%d\n",k);
	for(int i=1;i<k;i++) printf("%d %d ",a[i],b[i]);
	if(k) printf("%d %d\n",a[k],b[k]);
	exit(0);
}

int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++) scanf("%d",p+i);
	scanf("%d",&m);
	m=n-m;
	++t;
	for(int i=1;i<=n;i++) if(flag[i]!=t){
		--m;
		for(int j=i;flag[j]!=t;j=p[j]) flag[j]=t;
	}
	if(m<0)
	for(int i=1;i<=n;i++){
		++t;
		for(int j=i;flag[j]!=t;j=p[j]) flag[j]=t;
		for(int j=i+1;j<=n;j++) if(flag[j]!=t){
			swap(p[i],p[j]);
			++k;
			a[k]=i;
			b[k]=j;
			if(!++m) print();
			i--;
			break;
		}
	}
	else
	if(m>0)
	for(int i=1;i<=n;i++){
		++t;
		for(int j=i;flag[j]!=t;j=p[j]) flag[j]=t;
		for(int j=i+1;j<=n;j++) if(flag[j]==t){
			swap(p[i],p[j]);
			++k;
			a[k]=i;
			b[k]=j;
			if(!--m) print();
			i--;
			break;
		}
	}
	else print();
}
