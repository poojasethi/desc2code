#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;

const int N=3050;
int n,m,p[N],f[N];
int ans[2*N],top;

int main(){
  scanf("%d",&n);
  for(int i=1;i<=n;i++)scanf("%d",&p[i]);
  scanf("%d",&m);
  m=n-m;
  int now=0;
  for(int i=1;i<=n;i++)
    if(!f[i]){
      now++;
      for(int j=i;!f[j];j=p[j])f[j]=i;
    }
  while(now^m){
    if(now<m){
      for(int i=1;i<=n;i++)
        if(i!=p[i]){
          for(int j=1;j<=n;j++)
            if(j!=i&&f[j]==f[i]){
              int t=p[i];p[i]=p[j];p[j]=t;
              ans[++top]=i;ans[++top]=j;
              break;
            }
          break;
        }
    }
    else{
      int i=1;
      for(int j=2;j<=n;j++)
        if(f[i]!=f[j]){
          int t=p[i];p[i]=p[j];p[j]=t;
          ans[++top]=i;ans[++top]=j;
          break;
        }
    }
    memset(f,0,sizeof(f));
    now=0;
    for(int i=1;i<=n;i++)
      if(!f[i]){
        now++;
        for(int j=i;!f[j];j=p[j])f[j]=i;
      }
  } 
  printf("%d\n",top/2);
  for(int i=1;i<=top;i++) printf("%d ",ans[i]);
}
