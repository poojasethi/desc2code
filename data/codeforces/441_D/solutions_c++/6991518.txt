#include <cstdio>
#include <cmath>
#include <iostream>
#include <vector>
#include <cstring>

using namespace std;

const int N = 3005;

int p[N],n,m,k;
bool used[N];

void use_circle(int u){

	for(int i = u; !used[i]; i=p[i] )
		used[i] = true;
}
int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++)scanf("%d",p+i),p[i]--;
	scanf("%d",&m);
	m = n-m;
	memset(used,0,sizeof(used));
	k=0;
	for(int i=0;i<n;i++){
		if(!used[i]){
			use_circle(i);
			k++;
		}
	}
	printf("%d\n",(int)abs(k-m));
	
	memset(used,0,sizeof(used));
	if(k>m){
		use_circle(0);
		for(int i = 1;i < n && k > m;i++){
			if(!used[i]){
				printf("%d %d ",1,i+1);
				k--;
				use_circle(i);
			}
		}
	}
	if(k<m){
		for(int i = 0;i < n && k < m;i++){
			vector<int> pos(n,-1);
			int cur = 0;
			for(int j = p[i]; j != i; j=p[j])
				pos[j] = cur++;
			pos[i] = cur;
			cur = 0;
			for(int j = i+1; j < n && k < m;j++)
				if(pos[j] >= cur){
					printf("%d %d ",i+1,j+1);
					k++;
					cur = pos[j] + 1;
					swap(p[i] , p[j]);
				}
		}
	}
	return 0;
}