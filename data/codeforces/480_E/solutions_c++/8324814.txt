#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <set>
#define N 2010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
struct ww {
	int x,y;
} b[N],c[N];
int i,j,k,n,m,an,X,Y,K;
int x[N],y[N],a[N][N],L[N],R[N],ans[N];
char p[N][N];
set<int> Set[N];
typedef set<int>::iterator w1;
inline void pre() {
	int i;
	For(i,1,n) {
		w1 A=Set[i].lower_bound(Y);
		if (A==Set[i].end()) R[i]=m+1;
		else R[i]=*A;
		A=Set[i].lower_bound(Y+1);
		if (A==Set[i].begin()) L[i]=0;
		else L[i]=*(--A);
	}
	int l=L[X]+1,r=R[X]-1;
	b[l-1]=(ww){X,X};
	For(i,l,Y) {
		b[i]=b[i-1];
		int A=b[i].x;
		for (;A>1&&L[A-1]<i;A--);
		b[i].x=A;
		A=b[i].y;
		for (;A<n&&L[A+1]<i;A++);
		b[i].y=A;
	}
	c[r+1]=(ww){X,X};
	for (i=r;i>=Y;i--) {
		c[i]=c[i+1];
		int A=c[i].x;
		for (;A>1&&R[A-1]>i;A--);
		c[i].x=A;
		A=c[i].y;
		for (;A<n&&R[A+1]>i;A++);
		c[i].y=A;
	}
}
inline bool ju(int re) {
	int l=L[X]+1,r=R[X]-1,i;
	For(i,Y,r) {
		int A=i-re+1;
		if (A<l||A>Y) continue;
		int l1=max(c[i].x,b[A].x),l2=min(c[i].y,b[A].y);
		if (l2-l1+1<re) continue;
		return 1;
	}
	return 0;
}
int main() {
	scanf("%d%d%d",&n,&m,&K);
	For(i,1,n) scanf("%s",p[i]+1);
	For(i,1,K) scanf("%d%d",&x[i],&y[i]),p[x[i]][y[i]]='X';
	For(i,1,n)For(j,1,m) if (p[i][j]=='.') {
		a[i][j]=min(a[i-1][j-1],min(a[i-1][j],a[i][j-1]))+1;
		an=max(an,a[i][j]);
	} else Set[i].insert(j);
	for (i=K;i;i--) {
		ans[i]=an;
		X=x[i],Y=y[i];
		Set[X].erase(Y);
		pre();
		for (;an<min(n,m)&&ju(an+1);an++);
	}
	For(i,1,K) printf("%d\n",ans[i]);
	return 0;
}
