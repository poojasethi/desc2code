#include<stdio.h>
#include<iostream>
#include<string.h>
#include<vector>
#include<algorithm>
#include<map>
using namespace std;

const int maxn=2010;

int s[maxn][maxn];
int L[maxn][maxn],R[maxn][maxn];
bool is[maxn][maxn];
int curAns;

int ans[maxn];
int x[maxn],y[maxn];
char str[maxn];

int ll[maxn],rr[maxn];
int main()
{
	int n,i,j,k,m;

	scanf("%d%d%d",&n,&m,&k);
	for(i=1;i<=n;i++)
	{
		scanf("%s",str);
		for(j=1;j<=m;j++)if(str[j-1]=='.')
			is[i][j]=1;
	}

	for(i=1;i<=k;i++)
	{
		scanf("%d%d",&x[i],&y[i]);
		is[x[i]][y[i]]=0;
	}

	curAns=0;
	for(i=0;i<=n+1;i++)
		for(j=0;j<=m+1;j++)
			s[i][j]=1-is[i][j];
	for(i=0;i<=n+1;i++)
		for(j=1;j<=m+1;j++)
			s[i][j]+=s[i][j-1];
	for(i=1;i<=n+1;i++)
		for(j=0;j<=m+1;j++)
			s[i][j]+=s[i-1][j];

	for(i=1;i<=n;i++)
		for(j=1;j<=m;j++)
		{
			while(i+curAns<=n&&j+curAns<=m&&s[i+curAns][j+curAns]+s[i-1][j-1]==s[i+curAns][j-1]+s[i-1][j+curAns])
				curAns++;
		}

	for(i=0;i<=n+1;i++)
	{
		for(j=0;j<=m+1;j++)if(is[i][j]==0)
			L[i][j]=j;
		else
			L[i][j]=L[i][j-1];
		for(j=m+1;j>=0;j--)if(is[i][j]==0)
			R[i][j]=j;
		else
			R[i][j]=R[i][j+1];
	}
	for(i=k;i>=1;i--)
	{
		ans[i]=curAns;

		int xx=x[i],yy=y[i];
		is[xx][yy]=0;

		for(j=y[i];R[xx][j]==yy;R[xx][j]=R[xx][yy+1],j--);
		for(j=y[i];L[xx][j]==yy;L[xx][j]=L[xx][yy-1],j++);

		ll[xx]=L[xx][yy];
		rr[xx]=R[xx][yy];

		for(j=xx-1;j>=0;j--)
		{
			ll[j]=max(L[j][yy],ll[j+1]);
			rr[j]=min(R[j][yy],rr[j+1]);
		}
		for(j=xx+1;j<=n+1;j++)
		{
			ll[j]=max(L[j][yy],ll[j-1]);
			rr[j]=min(R[j][yy],rr[j-1]);
		}

		while(1)
		{
			int ok=0;
			for(j=xx;j<=n;j++)
			{
				if(j-curAns>xx)
					break;
				if(j-curAns<0)
					continue;
				if(min(rr[j],rr[j-curAns])-max(ll[j],ll[j-curAns])-1>=curAns+1)
				{
					ok=1;
					break;
				}
			}
			if(ok)
				curAns++;
			else
				break;
		}
	}
	for(i=1;i<=k;i++)
		printf("%d\n",ans[i]);
}
