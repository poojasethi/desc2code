#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;
char S[2005][2005];
int ans[2005];
int x[2005],y[2005];
int q1[2005],q2[2005];
int up[2005][2005];
int dw[2005][2005];
int l1,l2,r1,r2;
int n,m,k,i,j;

int calc(int k)
{
  int ret = 0;
  l1 = 1; r1 = 0;
  l2 = 1; r2 = 0;
  for (int i=1,j=1;i<=m;i++)
  {
    while (l1<=r1 && up[k][q1[r1]]>=up[k][i]) r1--;
    q1[++r1] = i;
    while (l2<=r2 && dw[k][q2[r2]]>=dw[k][i]) r2--;
    q2[++r2] = i;
    while (j<=i&&i-j+1>up[k][q1[l1]]+dw[k][q2[l2]]-1)
    {
      ret = max(ret, up[k][q1[l1]]+dw[k][q2[l2]]-1);
      if (q1[l1]<q2[l2]) j = q1[l1++]+1;
      else if (q1[l1]>q2[l2]) j = q2[l2++]+1;
      else if (q1[l1]==q2[l2]) j = q1[l1++]+1, l2++;
    }
    ret = max(ret, i-j+1);
  }
  return ret;
}

int main(){
  scanf("%d%d%d",&n,&m,&k);
  for (i=1;i<=n;i++)
    scanf("%s",S[i]+1);
  for (i=1;i<=k;i++){
    scanf("%d%d",&x[i],&y[i]);
    S[x[i]][y[i]] = 'X';
  }
  for (j=1;j<=m;j++){
    for (i=1;i<=n;i++)
      if (S[i][j]=='X') up[i][j]=0;
        else up[i][j]=up[i-1][j]+1;
    for (i=n;i>0;i--)
      if (S[i][j]=='X') dw[i][j]=0;
        else dw[i][j]=dw[i+1][j]+1;
  }
  for (i=1;i<=n;i++)
    ans[k] = max(ans[k], calc(i));
  for (i=k;i>0;i--){
    S[x[i]][y[i]] = '.';
    for (j=x[i];j<=n;j++)
      if (S[j][y[i]]=='X') up[j][y[i]]=0;
        else up[j][y[i]]=up[j-1][y[i]]+1;;
    for (j=x[i];j>0;j--)
      if (S[j][y[i]]=='X') dw[j][y[i]]=0;
        else dw[j][y[i]]=dw[j+1][y[i]]+1;;
    ans[i-1] = max(ans[i], calc(x[i]));
  }
  for (i=1;i<=k;i++)
    printf("%d\n",ans[i]);
  return 0;
}