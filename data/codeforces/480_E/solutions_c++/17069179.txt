#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
using namespace std;
int n,m,k,cur;
char a[2005][2005];
int up[2005][2005],down[2005][2005];
int q[2005],qq[2005],x[2005],y[2005],ans[2005];
bool can(int r,int d){
	if(d>min(n,m))return 0;
	int q1=0,q2=0,qq1=0,qq2=0;
	for(int i=0;i<m;i++){
		while(q1>q2&&up[r][q[q1-1]]>=up[r][i])q1--;
		q[q1++]=i;
		while(qq1>qq2&&down[r][qq[qq1-1]]>=down[r][i])qq1--;
		qq[qq1++]=i;
		if(i>=d){
			if(q[q2]==i-d)q2++;
			if(qq[qq2]==i-d)qq2++;
		}
		if(i>=d-1){
			int val=up[r][q[q2]]+down[r][qq[qq2]]-1;
			if(val>=d)return 1;
		}
	}
	return 0;
}
int main(){
	scanf("%d%d%d\n",&n,&m,&k);
	for(int i=0;i<n;i++)gets(a[i]);
	for(int i=0;i<k;i++)scanf("%d%d",x+i,y+i),x[i]--,y[i]--,a[x[i]][y[i]]='X';
	for(int i=0;i<m;i++)up[0][i]=(a[0][i]=='.');
	for(int i=0;i<m;i++)down[n-1][i]=(a[n-1][i]=='.');
	for(int i=1;i<n;i++)
		for(int j=0;j<m;j++)
			if(a[i][j]=='X')up[i][j]=0;
			else up[i][j]=1+up[i-1][j];
	for(int i=n-2;~i;i--)
		for(int j=0;j<m;j++)
			if(a[i][j]=='X')down[i][j]=0;
			else down[i][j]=1+down[i+1][j];
	for(int i=0;i<n;i++)while(can(i,cur+1))cur++;
	for(int ii=k-1;~ii;ii--){
		ans[ii]=cur;
		a[x[ii]][y[ii]]='.';
		int c=y[ii];
		up[0][c]=(a[0][c]=='.');
		down[n-1][c]=(a[n-1][c]=='.');
		for(int i=1;i<n;i++)
			if(a[i][c]=='X')up[i][c]=0;
			else up[i][c]=1+up[i-1][c];
		for(int i=n-2;~i;i--)
			if(a[i][c]=='X')down[i][c]=0;
			else down[i][c]=1+down[i+1][c];
		while(can(x[ii],cur+1))cur++;
	}
	for(int i=0;i<k;i++){
		printf("%d\n",ans[i]);
	}
}

   	     	  	  		 					  	 		 	