
#define MAXN 2010UL
#include <cstdio>

using namespace std;

int n, m, q, ans, Ans[MAXN], lg[MAXN], rg[MAXN], qx[MAXN], qy[MAXN], f[MAXN][MAXN], u[MAXN][MAXN];
char s[MAXN][MAXN];

struct Line {
	int f[MAXN];
	int Get_fa(int x) {
		return f[x]==x?f[x]:f[x] = Get_fa(f[x]);
	}
}l[MAXN], r[MAXN];

void Del(int x, int y) {
	l[x].f[y] = l[x].Get_fa(y-1);
	r[x].f[y] = r[x].Get_fa(y+1);
	return;
}

int MAX(int A, int B) { return A>B?A:B; }
int MIN(int A, int B) { return A<B?A:B; }

int main() {
	scanf("%d%d%d", &n, &m, &q);
	for(int i = 1 ; i <= n ; ++ i) {
		for(int j = 0 ; j <= m+1 ; ++ j) {
			l[i].f[j] = j, r[i].f[j] = j;
			u[i][j] = i;
		}
	}
	for(int i = 1 ; i <= n ; ++ i) scanf("%s", s[i]+1);
	for(int i = 1 ; i <= q ; ++ i) scanf("%d%d", &qx[i], &qy[i]), s[qx[i]][qy[i]] = 'X';
	for(int i = 1 ; i <= n ; ++ i) {
		for(int j = 1 ; j <= m ; ++ j) {
			if(s[i][j]=='.') Del(i, j);
		}
	}
	for(int i = 1 ; i <= n ; ++ i) {
		for(int j = 1 ; j <= m ; ++ j) {
			if(s[i][j]=='.') {
				u[i][j] = u[i-1][j];
				f[i][j] = MIN(f[i-1][j-1]+1, MIN(i-u[i][j], j-l[i].Get_fa(j)));
				ans = MAX(ans, f[i][j]);
			}
		}
	}
	for(int v = q ; v >= 1 ; -- v) {
		Ans[v] = ans;
		Del(qx[v], qy[v]);
		for(int i = 1 ; i <= n ; ++ i) {
			lg[i] = qy[v]-l[i].Get_fa(qy[v]);
			rg[i] = r[i].Get_fa(qy[v])-qy[v];
		}
		for(int i = qx[v]-1 ; i > 0 ; -- i) lg[i] = MIN(lg[i], lg[i+1]), rg[i] = MIN(rg[i], rg[i+1]);
		for(int i = qx[v]+1 ; i <= n ; ++ i) lg[i] = MIN(lg[i], lg[i-1]), rg[i] = MIN(rg[i], rg[i-1]);
		for(int i = 1 ; i <= qx[v] ; ++ i) {
			while(i+ans<=n&&MIN(rg[i], rg[i+ans])+MIN(lg[i], lg[i+ans])-1>ans) ++ ans;
		}
	}
	for(int i = 1 ; i <= q ; ++ i) printf("%d\n", Ans[i]);
//	while(1);
	return 0;
}
