#include<cstdio>
#include<cstring>
#include<algorithm>
#include<deque>
using namespace std;

const int maxn=2010;

int lft[maxn][maxn],rgt[maxn][maxn];

char mp[maxn][maxn];

int n,m,k;

int X[maxn],Y[maxn];

void init(int r) {
    lft[r][0]=0;
    for(int i=1;i<=m;i++) {
        if(mp[r][i]!='X') {
            lft[r][i]=lft[r][i-1]+1;
        } else {
            lft[r][i]=0;
        }
    }
    rgt[r][m+1]=0;
    for(int i=m;i>0;i--) {
        if(mp[r][i]!='X') {
            rgt[r][i]=rgt[r][i+1]+1;
        } else {
            rgt[r][i]=0;
        }
    }
}

deque<int>lq,rq;

bool test(int x,int c) {
    lq.clear();
    rq.clear();
    for(int i=1;i<=n;i++) {
        while(!lq.empty()&&lft[lq.back()][c]>=lft[i][c]) {
            lq.pop_back();
        }
        lq.push_back(i);
        while(!rq.empty()&&rgt[rq.back()][c]>=rgt[i][c]) {
            rq.pop_back();
        }
        rq.push_back(i);
        while(!lq.empty()&&i-lq.front()+1>x) {
            lq.pop_front();
        }
        while(!rq.empty()&&i-rq.front()+1>x) {
            rq.pop_front();
        }
        if(i>=x&&lft[lq.front()][c]+rgt[rq.front()][c]-1>=x) {
            return true;
        }
    }
    return false;
}

int ans[maxn];

int main() {
    scanf("%d%d%d",&n,&m,&k);
    for(int i=1;i<=n;i++) {
        scanf("%s",mp[i]+1);
    }
    for(int i=1;i<=k;i++) {
        scanf("%d%d",&X[i],&Y[i]);
        mp[X[i]][Y[i]]='X';
    }
    for(int i=1;i<=n;i++) {
        init(i);
    }
    for(int i=1;i<=m;i++) {
        while(test(ans[k]+1,i)) {
            ans[k]++;
        }
    }
    for(int i=k;i>1;i--) {
        mp[X[i]][Y[i]]='.';
        init(X[i]);
        ans[i-1]=ans[i];
        while(test(ans[i-1]+1,Y[i])) {
            ans[i-1]++;
        }
    }
    for(int i=1;i<=k;i++) {
        printf("%d\n",ans[i]);
    }
    return 0;
}