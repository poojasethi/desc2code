#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
#include<cstdlib>

using namespace std;
void MAX(int &a,int b){if(b>a)a=b;}
void MIN(int &a,int b){if(b<a)a=b;}
struct LINE
{
	int f[2005];
	int get(int x){return f[x]==x?x:f[x]=get(f[x]);}
}l[2005],r[2005];
int u[2005][2005],lg[2005],rg[2005];
int n,m,k;
int ans[2005],qx[2005],qy[2005],now,f[2005][2005];
char s[2005][2005];
void del(int x,int y)
{
	l[x].f[y]=l[x].get(y-1);
	r[x].f[y]=r[x].get(y+1);
}
void print(int a[2005][2005])
{
	for(int i=1;i<=n;++i)
	{
		for(int j=1;j<=m;++j)
		  cout<<a[i][j]<<" ";
		cout<<endl;
	}
}
int main()
{
    scanf("%d%d%d",&n,&m,&k);
	for(int i=1;i<=n;++i)
	   scanf("%s",s[i]+1);
	for(int i=1;i<=k;++i)
	{
		int a,b;
		scanf("%d%d",&a,&b);
		qx[i]=a,qy[i]=b;
		s[a][b]='X';
	}
	for(int i=1;i<=n;++i)
		for(int j=1;j<=m+1;++j)
		{
			l[i].f[j]=j;r[i].f[j]=j;
			u[i][j]=i;
		}
	for(int i=1;i<=n;++i)
	  for(int j=1;j<=m;++j)
	    if(s[i][j]=='.')
	      del(i,j);
	for(int i=1;i<=n;++i)
	  for(int j=1;j<=m;++j)
	    if(s[i][j]=='.')
	    {
	    	u[i][j]=u[i-1][j];
	    	f[i][j]=min(f[i-1][j-1]+1,min(i-u[i][j],j-l[i].get(j)));
	    	MAX(now,f[i][j]);
	    }
	for(int i=k;i>=1;--i)
	{
		ans[i]=now;
		del(qx[i],qy[i]);
		for(int j=1;j<=n;++j)lg[j]=qy[i]-l[j].get(qy[i]);
		for(int j=1;j<=n;++j)rg[j]=r[j].get(qy[i])-qy[i];
		for(int j=qx[i]-1;j>=1;--j)MIN(lg[j],lg[j+1]),MIN(rg[j],rg[j+1]);
		for(int j=qx[i]+1;j<=n;++j)MIN(lg[j],lg[j-1]),MIN(rg[j],rg[j-1]);
		for(int j=1;j<=n;++j)
		  while(j+now<=n&&(min(lg[j],lg[j+now])+min(rg[j],rg[j+now])-1)>now)now++;
	}
	for(int i=1;i<=k;++i)
	  cout<<ans[i]<<endl;
	return 0;
}
