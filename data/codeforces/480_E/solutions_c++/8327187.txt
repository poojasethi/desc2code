#include <cstdio>
#include <algorithm>
using namespace std;

const int N=2005;
int n,m,k,x[N],y[N],ans[N];
char a[N][N];
int f[N][N];
int nexl[N][N],nexr[N][N],l[N],r[N];
int getl(int i,int j){
	return nexl[i][j]==j?j:(nexl[i][j]=getl(i,nexl[i][j]));
}
int getr(int i,int j){
	return nexr[i][j]==j?j:(nexr[i][j]=getr(i,nexr[i][j]));
}
int main(){
	scanf("%d%d%d",&n,&m,&k);
	for(int j=0;j<=m+1;j++) a[0][j]=a[n+1][j]='X';
	for(int i=1;i<=n;i++){
		scanf("%s",a[i]+1);
		a[i][0]=a[i][m+1]='X';
	}
	for(int i=1;i<=k;i++) scanf("%d%d",&x[i],&y[i]),a[x[i]][y[i]]='X';
	for(int i=1;i<=n;i++)
		for(int j=1;j<=m;j++)
			ans[k]=max(ans[k],f[i][j]=a[i][j]=='X'?0:min(min(f[i-1][j],f[i][j-1]),f[i-1][j-1])+1);
	for(int i=0;i<=n+1;i++)
		for(int j=0;j<=m+1;j++)
			if(a[i][j]=='X')
				nexl[i][j]=nexr[i][j]=j;
			else
				nexl[i][j]=j-1,nexr[i][j]=j+1;
	for(int o=k;o;o--){
		ans[o-1]=ans[o];
		a[x[o]][y[o]]='.';
		nexl[x[o]][y[o]]=y[o]-1,nexr[x[o]][y[o]]=y[o]+1;
		l[x[o]]=getl(x[o],y[o]);
		r[x[o]]=getr(x[o],y[o]);
		for(int i=x[o]-1;i>=1;i--)
			l[i]=max(l[i+1],getl(i,y[o])),
			r[i]=min(r[i+1],getr(i,y[o]));
		for(int i=x[o]+1;i<=n;i++)
			l[i]=max(l[i-1],getl(i,y[o])),
			r[i]=min(r[i-1],getr(i,y[o]));
		for(int i=min(x[o],n-ans[o-1]);i&&i+ans[o-1]>=x[o];i--)
			while(min(r[i],r[i+ans[o-1]])-max(l[i],l[i+ans[o-1]])-1>=ans[o-1]+1)
				ans[o-1]++;
	}
	for(int i=1;i<=k;i++) printf("%d\n",ans[i]);
}
