#include<cstdio>
#include<algorithm>
#define rep(i,x,y) for(int i=x;i<=y;++i)
#define dep(i,x,y) for(int i=x;i>=y;--i)
using namespace std;
inline void MAX(int &a,int b){if(b>a)a=b;}
inline void MIN(int &a,int b){if(b<a)a=b;}
#define N 2005

int n,m,q,as,f[N][N],u[N][N],lg[N],rg[N],qx[N],qy[N],ans[N];
char s[N][N];

struct line{
	int f[N];
	int get(int v){return f[v]==v?v:f[v]=get(f[v]);}
}l[N],r[N];

void del(int x,int y){
	l[x].f[y]=l[x].get(y-1);
	r[x].f[y]=r[x].get(y+1);
}

int main(){
	scanf("%d%d%d",&n,&m,&q);
	rep(i,1,n) rep(j,1,m+1){
		l[i].f[j]=j;
		r[i].f[j]=j;
		u[i][j]=i;
	}
	rep(i,1,n) scanf("%s",s[i]+1);
	rep(i,1,q) scanf("%d%d",qx+i,qy+i),s[qx[i]][qy[i]]='X';
	rep(i,1,n) rep(j,1,m) if(s[i][j]=='.') del(i,j);
	rep(i,1,n) rep(j,1,m)
		if(s[i][j]=='.'){
			u[i][j]=u[i-1][j];
			f[i][j]=min(f[i-1][j-1]+1,min(i-u[i][j],j-l[i].get(j)));
			MAX(as,f[i][j]);
		}
	dep(v,q,1){
		ans[v]=as;
		del(qx[v],qy[v]);	
		rep(i,1,n){
			lg[i]=qy[v]-l[i].get(qy[v]);
			rg[i]=r[i].get(qy[v])-qy[v];
		}
		dep(i,qx[v]-1,1) MIN(lg[i],lg[i+1]),MIN(rg[i],rg[i+1]);
		rep(i,qx[v]+1,n) MIN(lg[i],lg[i-1]),MIN(rg[i],rg[i-1]);
		rep(i,1,qx[v])
			while(i+as<=n && min(rg[i],rg[i+as])+min(lg[i],lg[i+as])-1>as) ++as;
	}
	rep(i,1,q) printf("%d\n",ans[i]);
}
