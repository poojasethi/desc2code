from collections import namedtuple
from math import sqrt
Target = namedtuple('Target',('x','y','t','p'))
dist = lambda t1,t2: sqrt((t1.x-t2.x)**2 + (t1.y-t2.y)**2)
eps = 1e-9
n = int(raw_input())
m,res = [],[]
for i in xrange(n): m.append(Target(*(float(s) for s in raw_input().split())))
m.sort(key = lambda i: i.t)
for i in xrange(n): res.append(m[i].p + max([0]+[res[j] for j in xrange(i) if dist(m[i],m[j])<m[i].t-m[j].t+eps]))
print '{0:.8f}'.format(max(res))



