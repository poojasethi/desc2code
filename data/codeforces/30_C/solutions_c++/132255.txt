#include<cstdio>
#include<algorithm>
#define MAX 1010
using namespace std;

int i,j,n,ki,kj,k[MAX],x[MAX],y[MAX]; 
long long t[MAX]; 
double p[MAX],f[MAX],ans; 

bool cmp(const int &i,const int &j)
{return t[i]<t[j];} 

int main() 
{
  scanf("%d",&n); 
  for(i=0; i<n; i++) 
    { 
     scanf("%d%d%I64d%lf",&x[i],&y[i],&t[i],&p[i]); 
     k[i]=i; 
    } 
  sort(k,k+n,cmp); 
  for(i=0; i<n; i++) 
     { 
      ki=k[i]; f[i]=p[ki]; 
      for(j=0;j<i;j++)
         { 
          kj=k[j]; 
          if((x[ki]-x[kj])*(x[ki]-x[kj])+(y[ki]-y[kj])*(y[ki]-y[kj])<=(t[ki]-t[kj])*(t[ki]-t[kj]))
             f[i]=max(f[i],f[j]+p[ki]); 
         } 
     } 
  for(i=0;i<n;i++)
      if(f[i]>ans) ans=f[i]; 
  printf("%.10lf\n",ans);
}
