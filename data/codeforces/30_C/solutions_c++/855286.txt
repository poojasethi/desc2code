#include<cmath>
#include<cstdio>
#include<algorithm>
using namespace std;
struct node
{
    int t,x,y;
    double p;
    bool operator<(const node &b) const
    {
        return t<b.t;
    }
}nod[1001];
double dp[1001];
int main()
{
    int n,i,j,x,y;
    double ans=0;
    scanf("%d",&n);
    for(i=0;i<n;i++)
        scanf("%d%d%d%lf",&nod[i].x,&nod[i].y,&nod[i].t,&nod[i].p);
    sort(nod,nod+n);
    for(i=0;i<n;i++) dp[i]=nod[i].p;
    for(i=0;i<n;i++)
    {
        for(j=0;j<i;j++)
        {
            if((nod[i].x-nod[j].x)*(nod[i].x-nod[j].x)+(nod[i].y-nod[j].y)*(nod[i].y-nod[j].y)<=(1ll*nod[i].t-nod[j].t)*(nod[i].t-nod[j].t))
                dp[i]=max(dp[i],nod[i].p+dp[j]);
        }
        ans=max(ans,dp[i]);
    }
    printf("%.9f\n",ans);
    return 0;
}