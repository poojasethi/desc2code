#include<stdio.h>
#include<cmath>
#include<cstring>
#include<algorithm>
#include<map>
using namespace std;
struct node{
	int x,y,t;
	double p;
};
node a[1010];
bool cmp(node xx,node yy)
{
	return xx.t<yy.t;
}
double f[1010];
int main()
{
	int n,i,j,i1,j1,i2,j2,m,t,k;
	double ans;
	bool tt;
	scanf("%d",&n); ans=0; t=0; 
	for (i=1;i<=n;i++) 
	{
		scanf("%d%d%d%lf",&a[i].x,&a[i].y,&a[i].t,&a[i].p);
	}
	sort(a+1,a+n+1,cmp);
	f[1]=a[1].p;
	for (i=2;i<=n;i++)
	{
		ans=a[i].p;
		for (j=1;j<=i-1;j++)
		{
			k=int(sqrt((a[i].x-a[j].x)*(a[i].x-a[j].x)+(a[i].y-a[j].y)*(a[i].y-a[j].y))-1e-6)+1;
			if (a[i].p+f[j]>ans && k<=a[i].t-a[j].t) ans=a[i].p+f[j];
		}
		f[i]=ans;
	}
	for (i=1;i<=n;i++) if (ans<f[i]) ans=f[i];
	printf("%lf\n",ans);
}
  				  	 	  	    	   	 		    	