#include<bits/stdc++.h>

using namespace std;

#define N 1003

double M[N],P[N],mx;

long long X[N],Y[N],T[N],n,i;

double f(int i){

    double &r = M[i];

    if(r)
        return r;

    int j=1;

    for(j=1;j<=n;j++)
        if(i != j && T[j] > T[i] && (X[i] - X[j]) * (X[i] - X[j]) + (Y[i] - Y[j]) * (Y[i] - Y[j]) <= (T[j] - T[i]) * (T[j] - T[i]))
            r = max(r , f(j));

    return r += P[i];
}
int main(){

    cin >> n;

    for(i=1;i<=n;i++){
        cin >> X[i] >> Y[i] >> T[i] >> P[i];
    }

    for(i=1;i<=n;i++)
        mx = max(mx , f(i));

    printf("%.6f",mx);
    return 0;
}
