#include<iostream>
#include<stdio.h>
#include<algorithm>
using namespace std;
double d[1000];
struct mishen
{
	double x;
	double y;
	double t;
	double p;
} m[1000];
bool cmp(mishen a, mishen b)
{
	return a.t < b.t;
}
double sqr(double x)
{
	return x * x;
}
int main()
{
	int n;
	cin>>n;
	for(int i = 0; i < n; i++)
		cin>>m[i].x>>m[i].y>>m[i].t>>m[i].p;
	sort(m,m + n,cmp);
	double ans = 0.0;
	for(int i = 0; i < n; i++)
	{
		double mm = 0.0;
		for(int j = i - 1; j >= 0; j--)
			if (sqr(m[i].t - m[j].t) >= sqr(m[i].x - m[j].x) + sqr(m[i].y - m[j].y))
				mm = max(mm,d[j]);
		d[i] = mm + m[i].p;
		ans = max(ans,d[i]);
	}
	printf("%.6f",ans);
	return 0;
}
