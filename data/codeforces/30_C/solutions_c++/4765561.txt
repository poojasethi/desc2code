#include <cstdio>
#include <algorithm>
#include <cmath>
using namespace std;
const double eps = 1e-9;
double f[1010];

double sqr(double x) { return x*x; }
struct target {
    double x,y,t,p;
    bool operator < (const target& A) const {
        return t < A.t;
    }
};
target T[1010];

int main() {
    int n;
    scanf("%d",&n);
    for(int i = 0; i < n; i++)
        scanf("%lf %lf %lf %lf",&T[i].x,&T[i].y,&T[i].t,&T[i].p);
    sort(T,T+n);
    double ans = 0.0;
    for(int i = 0; i < n; i++) {
        f[i] = T[i].p;
        for(int j = 0; j < i; j++)
            if(sqr(T[i].t-T[j].t) - sqr(T[i].x-T[j].x) - sqr(T[i].y-T[j].y) > -eps)
            f[i] = max(f[i], f[j]+T[i].p);
        ans = max(ans, f[i]);
    }
    printf("%.12lf",ans);
    return 0;
}
