#include <iostream>
#include <cstdio>
#include <cmath>
#define FOR(i,a,b) for(i=a; i<=b; i++)
#define MAXN 1005
using namespace std;
class bisi
{
	public:
		double p,t,x,y;
		bisi() { p = t = x = y = 0; }
}A[MAXN];
int N;
double DP[MAXN];
inline double Distance(bisi a,bisi b) { return sqrt( (a.x-b.x) * (a.x-b.x) + (a.y-b.y) * (a.y-b.y) ); }
double dp(int x)
{
	double &c = DP[x];
	if(c) return c;
	double maxi(0);
	int i;
	FOR(i,1,N)
		if(i != x && A[x].t + Distance(A[x],A[i]) <= A[i].t)
			maxi = max( maxi , dp(i) + A[i].p);
	return c = maxi;
}
void solve()
{
	double res(0);
	int i;
	scanf("%d",&N);
	FOR(i,1,N)
		scanf("%lf %lf %lf %lf",&A[i].x,&A[i].y,&A[i].t,&A[i].p);
	FOR(i,1,N)
		res = max( res , dp(i) + A[i].p);
	printf("%lf\n" , res );
}
int main()
{
	solve();
	return 0;
}
