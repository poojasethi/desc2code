#include<cstdio>
#include<algorithm>
using namespace std;
#define ll __int64
struct Node
{
	ll t,x,y;
	double v;
	bool operator<(const Node &b)const
	{
		return t<b.t;
	}
};
Node p[1005];
int n;
double dp[1005];
int main()
{
	while(~scanf("%d",&n))
	{
		for(int i=0;i<n;i++)
		{
			dp[i]=0;
			scanf("%I64d%I64d%I64d%lf",&p[i].x,&p[i].y,&p[i].t,&p[i].v);
		}
		sort(p,p+n);
		dp[0]=p[0].v;
		for(int i=1;i<n;i++)
		{
			dp[i]=p[i].v;
			for(int j=0;j<i&&p[j].t<p[i].t;j++)
			{
				if((p[i].x-p[j].x)*(p[i].x-p[j].x)+(p[i].y-p[j].y)*(p[i].y-p[j].y)<=(p[i].t-p[j].t)*(p[i].t-p[j].t))
				dp[i]=max(dp[i],dp[j]+p[i].v);
			}
		}
		for(int i=1;i<n;i++)dp[0]=max(dp[0],dp[i]);
		printf("%.10f\n",dp[0]);
	}
}
    		 				        	   		