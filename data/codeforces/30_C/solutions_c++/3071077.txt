#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cmath>
using namespace std;
#define f first
#define s second
FILE *aaa,*bbb;
#define uz(a,b) sqrt((x[a]-x[b])*(x[a]-x[b])+(y[a]-y[b])*(y[a]-y[b]))
int x[1005],y[1005];
pair < int , int > t[1005];
double p[1005],dp[1005];
int n;
void oku(){
	int i;
	scanf("%d",&n);
	for(i=1;i<=n;i++){
		scanf("%d %d %d %lf",&x[i],&y[i],&t[i].f,&p[i]);
		t[i].s=i;
	}
}
void coz(){
	int i,j;
	double mx=-1;
	sort(t+1,t+1+n);
	for(i=n;i>=1;i--){
		for(j=i+1;j<=n;j++)
			if(uz(t[i].s,t[j].s)-(t[j].f-t[i].f)<0.000001)
				dp[i]=max(dp[i],dp[j]);
		dp[i]+=p[t[i].s];
		mx=max(mx,dp[i]);
	}
	printf("%.9lf\n",mx);

}
int main(){
	oku();
	coz();
	return 0;
}
