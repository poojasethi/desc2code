#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
#define maxn 1009
using namespace std;
struct node
{
    __int64 x,y,t;
    double p;
}p[maxn];
bool cmp(node x,node y)
{
    return x.t<y.t;
}
double dp[maxn];
int main()
{
    int n;
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
        scanf("%I64d%I64d%I64d%lf",&p[i].x,&p[i].y,&p[i].t,&p[i].p);
    sort(p+1,p+1+n,cmp);
    double ans=0;
    for(int i=n;i>=1;i--)
    {
        dp[i]=p[i].p;
        for(int j=i+1;j<=n;j++)
        {
            if((p[i].x-p[j].x)*(p[i].x-p[j].x)+(p[i].y-p[j].y)*(p[i].y-p[j].y)<=(p[j].t-p[i].t)*(p[j].t-p[i].t))
            {
                dp[i]=max(dp[i],p[i].p+dp[j]);
            }
        }
        ans=max(ans,dp[i]);
    }
    printf("%f",ans);
}
