#include <cstdio>
#include <cmath>
#include <algorithm>
using namespace std;

int n, i, j;
double prob[1000];

struct target {
	double x, y, p;
	int t;
} maj[1000];

bool operator< (const target& a, const target& b) {
	return a.t < b.t;
}

int main() {
	scanf("%d", &n);
	for(i = 0; i < n; ++i) {
		scanf("%lf%lf%d%lf", &maj[i].x, &maj[i].y, &maj[i].t, &maj[i].p);
	}
	sort(maj, maj + n);
	for(i = 0; i < n; ++i) {
		prob[i] = maj[i].p;
		for(j = i; --j >= 0; ) {
			if(prob[i] < prob[j] + maj[i].p &&
				hypot(maj[i].x - maj[j].x, maj[i].y - maj[j].y) <= double(maj[i].t - maj[j].t) ) {
				prob[i] = prob[j] + maj[i].p;
			}			
		}
	}
	printf("%.8lf\n", *max_element(prob, prob + n));
	return 0;
}