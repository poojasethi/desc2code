#include <cstdio>
#include <algorithm>
#include <cmath>

using namespace std;

struct target {
	int x, y, t;
	double p;
};

bool target_less(target t1, target t2) {
	return t1.t < t2.t;
}

int n;
target ts[1002];
double ev[1002];

long long sqr(long long x) {
	return x * x;
}

bool way(int i, int j) {
	return i == n ||
		sqr(ts[i].x - ts[j].x) +
		sqr(ts[i].y - ts[j].y) <=
		sqr(ts[i].t - ts[j].t);
}

int main() {
	scanf("%i", &n);
	for(int i = 0; i < n; i++)
		scanf("%i%i%i%lf", &ts[i].x, &ts[i].y, &ts[i].t, &ts[i].p);
	ts[n].p = 0;
	sort(ts, ts + n, target_less);
	for(int i = 0; i <= n; i++) {
		ev[i] = 0;
		for(int j = 0; j < i; j++)
			if(way(i, j)) ev[i] = max(ev[i], ev[j]);
		ev[i] += ts[i].p;
	}
	printf("%.7lf", ev[n]);
}
