#include<cstdio>
#include<algorithm>
#include<cmath>
using namespace std;
struct data{
    double x,y,t,p;
    void read(){ scanf("%lf%lf%lf%lf",&x,&y,&t,&p); }
    bool operator < (const data& d) const {
        return t<d.t;
    }
}dat[1001];
double dp[1001];
int n;
double dist(data i,data j){
    return sqrt((i.x-j.x)*(i.x-j.x)+(i.y-j.y)*(i.y-j.y));
}
int main(){
    scanf("%d",&n);
    for(int i=0;i<n;i++)
        dat[i].read();
    sort(dat,dat+n);
    for(int i=0;i<n;i++){
        for(int j=0;j<i;j++)
            if(dist(dat[i],dat[j])+dat[j].t-dat[i].t < 1e-12)
                dp[i] = max(dp[i],dp[j]);
        dp[i] += dat[i].p;
    }
    double sh = 0;
    for(int i=0;i<n;i++)
        sh = max(sh,dp[i]);
    printf("%.10lf\n",sh);
    return 0;
}