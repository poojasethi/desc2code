#include <iostream>
#include <cstdio>
#include <cmath>
#include <algorithm>
using namespace std;
#define rep(i,n) for(int i=0;i<n;i++)
#define pr(i) cout<<i<<endl

int n,i,j,a,b,c,x[1001],y[1001],t[1001],k[1001];
double p[1001],dp[1001];

int cmp(int a,int b){ return t[a]<t[b];}

int main(){

  cin>>n;rep(i,n){cin>>x[i]>>y[i]>>t[i]>>p[i];k[i]=i;}
  sort(k,k+n,cmp);

  rep(i,n){
    double m=p[k[i]];
    rep(j,i){
      int dx=x[k[i]]-x[k[j]],dy=y[k[i]]-y[k[j]];
      if(sqrt(dx*dx+dy*dy)<=(double)t[k[i]]-t[k[j]])m=max(m,dp[j]+p[k[i]]);
    }
    dp[i]=m;
  }

  double r=-1.0;
  rep(i,n)r=max(r,dp[i]);
  printf("%.8f\n",r);
  
  return 0;
}
