#include<iostream>
#include<cstdio>
using namespace std;

typedef long long i64;

const int N = 1010;

i64 x[N], y[N], t[N], n;
double dp[N], p[N], ans;
bool v[N];

i64 sqr(i64 x) {
	return x * x;
}

double dfs(int i) {
	if (v[i]) return dp[i];
	v[i] = true;
	double ans = 0;
	for (int j = 0; j < n; j++)
	if (j != i && t[j] >= t[i] && sqr(x[i] - x[j]) + sqr(y[i] - y[j]) <= sqr(t[j] - t[i])) {
		double tmp = dfs(j);
		if (tmp > ans)
			ans = tmp;
	}
	dp[i] = ans + p[i];
	return dp[i];
}

int main() {
	cin >> n;
	for (int i = 0; i < n ; i++)
		cin >> x[i] >> y[i] >> t[i] >> p[i];
	ans = 0;
	for (int i = 0; i < n; i++) {
		double tmp = dfs(i);
		if (tmp > ans)
			ans = tmp;
	}
	printf("%.10f\n", ans);
}

  		  			  								 	 	  	