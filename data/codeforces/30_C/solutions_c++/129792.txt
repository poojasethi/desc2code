
#include <cstdio>
#include <algorithm>
using namespace std;

struct Target {
	int x, y, t;
	float p;
};

bool operator< (const Target &a, const Target &b) {
	return a.t < b.t;
}

long long p2(long long v) {
	return v*v;
}

main() {
	int n;
	scanf("%d", &n);
	
	Target seq[1009];
	for (int i=0; i<n; i++) {
		scanf("%d %d %d %f", &seq[i].x, &seq[i].y, &seq[i].t, &seq[i].p);
	}
	sort(seq, seq+n);
	
	float rez[1009];
	for (int i=0; i<n; i++) {
		rez[i]=seq[i].p;
		for (int j=0; j<i; j++) {
			if (p2(seq[i].t - seq[j].t) >= p2(seq[i].x-seq[j].x) + p2(seq[i].y-seq[j].y)) {
				rez[i]=max(rez[i], rez[j]+seq[i].p);
			}
		}
	}
	
	float ans=rez[0];
	for (int i=0; i<n; i++) ans=max(ans, rez[i]);
	
	printf("%.7f", ans);
} 
