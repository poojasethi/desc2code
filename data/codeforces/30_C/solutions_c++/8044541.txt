#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;
struct node
{
    int x,y,t;
    double p;
}a[1001];
double dp[1001];
bool cmp(node a,node b)
{
	return a.t<b.t;
}
long long sqr(long long x)
{
	return x*x;
}
int	main()
{
    int n,i,j;
    double ans=0;
    cin>>n;
    for(int i=1;i<=n;i++)
        scanf("%d%d%d%lf",&a[i].x,&a[i].y,&a[i].t,&a[i].p);
    sort(a+1,a+n+1,cmp);
    for(int i=1;i<=n;i++)
	{
        dp[i]=a[i].p;
        for(int j=1;j<=i;j++)
		{
            if(sqr(a[i].x-a[j].x)+sqr(a[i].y-a[j].y)<=sqr(a[i].t-a[j].t))
                if(dp[i]<a[i].p+dp[j])
					dp[i]=a[i].p+dp[j];
        }
        if(ans<dp[i])ans=dp[i];
    }
    printf("%.8lf\n",ans/2);
    return 0;
}
	 	 	  		 			 	 		 		 		   			