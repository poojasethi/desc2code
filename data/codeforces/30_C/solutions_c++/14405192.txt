#include<bits/stdc++.h>
#define st first
#define nd second
#define mp make_pair
#define pb push_back
#define endl '\n'
#define endll puts("")
#define mod 1000000007
#define mp3(x,y,z) mp(x,mp(y,z))
#define pii pair< int , int > 
using namespace std;
typedef long long ll;
const int N = 1e3+3;
ll n,i,j,k,l,s,t,d,u,ii,jj,x,y,z,h[N],hh[N],T[N];
double a[N],dp[N],m;
ll g(ll x){return x*x;}
double f(int x)
{
	double t=0,&r=dp[x];
	if(r)return r;
	int i;
	for(i=1;i<=n;i++)
		if(T[x]>T[i] and  g(T[x]-T[i])>=g(h[x]-h[i])+g(hh[x]-hh[i]))
			r=max(r,f(i));
	return r+=a[x];
}
int main()
{
	cin>>n;
	for(i=1;i<=n;i++)
		cin>>h[i]>>hh[i]>>T[i]>>a[i];
	for(i=1;i<=n;i++)
		m=max(m,f(i));
	printf("%lf\n",m);
}
