#include <iostream>
#include <cstdio>
#include <cmath>
#include <algorithm>
using namespace std;
struct cel{
int x,y,t;
double p;
bool operator < (const cel &w) const{
return t<w.t;
}
}a[2000];
double dist(int i,int j){
return sqrt((a[i].x-a[j].x)*(a[i].x-a[j].x)+(a[i].y-a[j].y)*(a[i].y-a[j].y));
}
int n,i,j;
double d[2000];
int main()
{
cin>>n;
for (i=1;i<=n;i++) cin>>a[i].x>>a[i].y>>a[i].t>>a[i].p;
sort(a+1,a+n+1);
a[0].x=0;a[0].y=0;a[0].t=-(int)(1e9);
for (i=1;i<=n;i++)
{
d[i]=0;
for (j=0;j<i;j++) if (dist(i,j)<=a[i].t-a[j].t) {
d[i]=max(d[i],d[j]+a[i].p);
}
}
double res=0;
for (i=1;i<=n;i++)
res=max(res,d[i]);
printf("%.10lf\n",res);


return 0;
}
