#include <iostream>
#include <stdio.h>
#include <cmath>
#include <vector>
#include <algorithm>
#include <iomanip>
using namespace std;
struct node
{
	long long x,y,t;
	double p;
}tar[1010];
double dp[1010] = {0};
bool cmp(node a,node b){return a.t<b.t;}
int main()
{
	int n;
	cin >> n;
	for(int i = 0;i<n;i++) cin >> tar[i].x >> tar[i].y >> tar[i].t >> tar[i].p;
	sort(tar,tar+n,cmp);
	for(int i = 0;i<n;i++)
	{
		dp[i] = tar[i].p;
		for(int j = 0;j<i;j++)
		if((tar[i].x-tar[j].x)*(tar[i].x-tar[j].x)+(tar[i].y-tar[j].y)*(tar[i].y-tar[j].y)<=(tar[i].t-tar[j].t)*(tar[i].t-tar[j].t))
		dp[i] = max(dp[i],dp[j]+tar[i].p);
	}
	double ans = 0.0;
	for(int i = 0;i<n;i++) ans = max(ans,dp[i]);
	cout << fixed << setprecision(6) << ans << endl;
	return 0;
}
    	  		 	  	  	   	       		