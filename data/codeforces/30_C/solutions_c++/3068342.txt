#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <iostream>
#include <algorithm>

#define dist(i,j) sqrt((ar[i].x-ar[j].x)*(ar[i].x-ar[j].x) + (ar[i].y-ar[j].y)*(ar[i].y-ar[j].y))

using namespace std;

const int MAXN = 1024;

struct node{
	int x,y,t;
	double p;
	friend bool operator < ( const node &a, const node &b ){
		return a.t < b.t;
	}
}ar[MAXN];

int N;
double dn[MAXN];
double res;

int main()
{
	cin >> N;
	
	for( int i=1 ; i<=N ; i++ )
		scanf(" %d %d %d %lf",&ar[i].x,&ar[i].y,&ar[i].t,&ar[i].p);
	
	sort( ar+1, ar+N+1 );
	
	for( int i=N ; i ; i-- ){
		for( int j=i+1 ; j<=N ; j++ )
			if( dist(i,j) <= ar[j].t-ar[i].t )
				dn[i]=max(dn[i],dn[j]);
		dn[i]+=ar[i].p;
		res=max(res,dn[i]);
	}
	
	printf("%.10lf\n",res);
	
	return 0;
}
