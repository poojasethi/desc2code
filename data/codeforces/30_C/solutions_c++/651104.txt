#include <stdio.h>
#include <algorithm>
using namespace std;

class Data{
	public:
		int x, y, t;
		double p;
		void read() {scanf("%d%d%d%lf", &x, &y, &t, &p);}
		bool operator<(const Data &d) const{
			return t < d.t;
		}
} data[1005];
double dp[1005]={};

long long sqr(int x) {
	return 1LL*x*x;
}

int main(void) {
	int n;
	scanf("%d", &n);
	for(int i=0;i<n;i++)
		data[i].read();
	sort(data, data+n);
	for(int i=0;i<n;i++) {
		dp[i] = data[i].p;
		for(int j=0;j<i;j++) {
			if (sqr(data[i].x-data[j].x)+sqr(data[i].y-data[j].y) <= sqr(data[i].t-data[j].t) && dp[i] < dp[j] + data[i].p)
				dp[i] = dp[j]+data[i].p;
		}
	}
	double ans=0;
	for(int i=0;i<n;i++)
		ans =max(ans, dp[i]);
	printf("%.10lf\n", ans);
	return 0;
}
