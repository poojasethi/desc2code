#include <cstdio>
#include <iostream>
#include <cstring>
#include <vector>
#include <algorithm>

#define pb push_back
#define mp make_pair
#define sqr(x) ((x)*(x))

using namespace std;

int n;
int x[1001];
int y[1001];
long long t[1001];
double p[1001];
double dp[1001];

double solve(int u){
	double &res = dp[u];
	if (res >= 0)
		return res;
	res = p[u];
	
	for (int i = 0; i < n; i++){
		if (t[i] > t[u] && sqr(y[i]-y[u]) + sqr(x[i]-x[u]) <= sqr(t[i] - t[u]))
			res = max(res, p[u] + solve(i));
	}
	return res;
}

int main(){
	cin >> n;
	for (int i = 0; i < n; i++){
		scanf("%d %d %lld %lf", &x[i], &y[i], &t[i], &p[i]); 
	}
	memset(dp, -1, sizeof(dp));
	
	double res = 0;
	for (int i = 0; i < n; i++)
		res = max( res, solve(i));
	printf("%0.010lf\n", res);
	return 0;
}