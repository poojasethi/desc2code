#include<iostream>
#include<cmath>
#include<cstdio>
#include<algorithm>
#define oo 1000000000
#define sqr(x) ((x)*(x))
#define EPS 1e-8
using namespace std;

struct diem{
   double x, y, p;
   int t;
   bool operator<(diem d) const{return (t<d.t);}
   double dist(diem d) {return sqrt(sqr(x-d.x)+sqr(y-d.y));}
};

diem a[1010];
int n;
double f[1010];

int main(){
  cin>>n;
  for(int i = 1; i<=n;i++) cin>>a[i].x>>a[i].y>>a[i].t>>a[i].p;
  sort(a+1,a+n+1);
  f[1] = a[1].p;
  for(int i=2;i<=n;i++){
    double tmp = 0;
    int j;
    for(j=1;j<i;j++) if ((double)(a[i].t - a[j].t)+EPS>a[i].dist(a[j]) && tmp<f[j]) tmp = f[j];
    f[i] = tmp + a[i].p;
  }
  double res = 0;
  for(int i=1;i<=n;i++) if (f[i]>res) res = f[i];
  printf("%.9f",res);
  //system("pause");
}
