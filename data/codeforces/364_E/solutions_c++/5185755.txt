#include <cstdio>
#include <cstring>
#include <iostream>

using namespace std;

const int MaxN = 2510;

int n,m,K;
int a[MaxN][MaxN];
int b[MaxN][MaxN];
char buf[MaxN];
long long ans=0;

inline int query(int x1,int y1,int x2,int y2){
	return a[x2][y2]-a[x1-1][y2]-a[x2][y1-1]+a[x1-1][y1-1];
}
void calc(int x1,int y1,int x2,int y2){
	int T=(x2-x1)>(y2-y1);
	if(x1==x2 && y1==y2) {ans+=(query(x1,y1,x2,y2)==K ? 1 : 0);return;}
	if(T){
		int mid=x1+x2 >> 1;
		for(int i=y1;i<=y2;i++){
			int cnt[2][7]={0};
			for(int j=y2;j>=i;j--){
				for(int k=0;k<=K;k++)
					while(cnt[0][k]<=mid-x1 && query(mid-cnt[0][k],i,mid,j)<=k) cnt[0][k]++;
				for(int k=0;k<=K;k++)
					while(cnt[1][k]<x2-mid && query(mid+1,i,mid+cnt[1][k]+1,j)<=k) cnt[1][k]++;
				for(int k=0;k<=K;k++) ans+=(long long)(cnt[0][k]-(k ? cnt[0][k-1] : 0))*(cnt[1][K-k]-(K-k ? cnt[1][K-k-1] : 0));
			}
		}
		calc(x1,y1,mid,y2);
		calc(mid+1,y1,x2,y2);
		
	}
	else{
		int mid=y1+y2 >> 1;
		for(int i=x1;i<=x2;i++){
			int cnt[2][7]={0};
			for(int j=x2;j>=i;j--){
				for(int k=0;k<=K;k++)
					while(cnt[0][k]<=mid-y1 && query(i,mid-cnt[0][k],j,mid)<=k) cnt[0][k]++;
				for(int k=0;k<=K;k++)
					while(cnt[1][k]<y2-mid && query(i,mid+1,j,mid+cnt[1][k]+1)<=k) cnt[1][k]++;
				for(int k=0;k<=K;k++) ans+=(long long)(cnt[0][k]-(k ? cnt[0][k-1] : 0))*(cnt[1][K-k]-(K-k ? cnt[1][K-k-1] : 0));
			}
		}
		calc(x1,y1,x2,mid);
		calc(x1,mid+1,x2,y2);
	}
}
int main()
{
	scanf("%d%d%d",&n,&m,&K);
	for(int i=1;i<=n;i++){
		scanf("%s",buf);
		for(int j=1;j<=m;j++) a[i][j]=(b[i][j]=buf[j-1]-'0')+a[i-1][j]+a[i][j-1]-a[i-1][j-1];
	}
	calc(1,1,n,m);
	cout << ans << endl;
	return 0;
}
