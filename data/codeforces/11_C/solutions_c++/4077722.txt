#include <iostream>
using namespace std;
string s[260];
int ans,n,m,sz;
void dfs(int x, int y)
{
    s[x][y]='2'; sz++;
    for (int i=-1; i<=1; i++)
    {
        for (int j=-1; j<=1; j++)
        {
            if (x+i<0 || x+i>=n || y+j<0 || y+j>=m) continue;
            if (s[x+i][y+j]=='1') dfs(x+i,y+j);
        }
    }
}
int prl(int x, int y)
{
    for (int l=2; x+l-1<n && y+l-1<m; l++)
    {
        int f=1;
        for (int i=x; i<=x+l-1; i++)
        {
            if (s[i][y]=='0') {f=0; break;}
        }
        for (int i=y; i<=y+l-1; i++)
        {
            if (s[x][i]=='0') {f=0; break;}
        }
        for (int i=x; i<=x+l-1; i++)
        {
            if (s[i][y+l-1]=='0') {f=0; break;}
        }
        for (int i=y; i<=y+l-1; i++)
        {
            if (s[x+l-1][i]=='0') {f=0;break;}
        }
        if (f==1) return (l-1)*4;
    }
    return 0;
}
int dgn(int x, int y)
{
    for (int l=2; x+2*(l-1)<n && y+l-1<m && y-l+1>=0; l++)
    {
        int f=1;
        for (int i=x,j=y; i<x+l && j>=0; i++,j--)
        {
            if (s[i][j]=='0') {f=0; break;}
        }
        for (int i=x,j=y; i<x+l && j<y+l; i++,j++)
        {
            if (s[i][j]=='0') {f=0; break;}
        }
        for (int i=x+l-1,j=y-l+1; i<x+2*l-1 && j<y+l; i++,j++)
        {
            if (s[i][j]=='0') {f=0; break;}
        }
        for (int i=x+l-1,j=y+l-1; i<x+2*l-1 && j>=0; i++,j--)
        {
            if (s[i][j]=='0') {f=0; break;}
        }
        if (f==1) return (l-1)*4;
    }
    return 0;
}           
void check(int u, int v)
{
    sz=0;
    dfs(u,v);
    if (sz==1) return;
    int d=dgn(u,v),p=prl(u,v);
    if (d==sz || p==sz) ans++;
}
int main()
{
    int t;
    cin >>t;
    while (t--)
    {
        cin >>n >>m;
        for (int i=0; i<n; i++)
        {
            cin >>s[i];
        }
        ans=0;
        for (int i=0; i<n; i++)
        {
            for (int j=0; j<m; j++)
            {
                if (s[i][j]=='1')
                {
                    check(i,j);
                }
            }
        }
        cout <<ans <<endl;
    }
    return 0;
}