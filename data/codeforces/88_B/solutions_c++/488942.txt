#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;
int n, m, p, q, ans;
char a[40][40];
bool d[256], flag;
string s;
void fill(int x, int y)
{
  for(int i = 0; i < n; i++)
    for(int j = 0; j < m; j++)
    {
      int tmp = int(a[i][j]);
      if (a[i][j] != 'S' && ((x - i) * (x - i) + (y - j) * (y - j)) <= p * p && 97 <= tmp)
        d[tmp - 32] = true;
    }
}
int main()
{
  //freopen("input.txt", "r", stdin);
  cin >> n >> m >> p;
  for(int i = 0; i < n; i++)
  {
    cin >> s;
    for(int j = 0; j < s.size(); j++)
      a[i][j] = s[j];
  }
  for(int i = 0; i < n; i++)
    for(int j = 0; j < m; j++)
      if (a[i][j] == 'S')
      {
        flag = true;
        fill(i, j);
      }
      else
        d[int(a[i][j])] = true;
  cin >> q >> s;
  for(int i = 0; i < q; i++)
    if (('a' <= s[i] && s[i] <= 'z' && d[int(s[i])] == 0) ||('A' <= s[i] && s[i] <= 'Z' && d[int(s[i])] == 0 && (!flag || !d[int(s[i]) + 32])))
    {
      ans = -1;
      break;
    }
    else if ('A' <= s[i] && s[i] <= 'Z' && d[int(s[i])] == 0 && flag && d[int(s[i]) + 32])
      ans++;
  cout << ans;
  return 0;
}
