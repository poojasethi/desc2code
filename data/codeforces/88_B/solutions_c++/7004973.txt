#include<iostream>
#include<cstdio>
#include<cmath>
#include<cstdlib>
#include<string.h>
#include<set>
#define inf 2000000000
using namespace std;
char s[33][33];
int n,m,x;
int dist[303];
char text[500003];
int q;
int main()
{
    int i,j;
    cin>>n>>m>>x;
    for(i=0;i<n;i++)
        cin>>s[i];
    for(i=0;i<300;i++)
        dist[i]=inf;
    for(i=0;i<n;i++)
        for(j=0;j<m;j++)
        {
            if(s[i][j]!='S')
                dist[s[i][j]]=0;
            else
            {
                for(int ii=0;ii<n;ii++)
                    for(int jj=0;jj<m;jj++)
                        if(s[ii][jj]!='S')
                            dist[s[ii][jj]-32]=min(dist[s[ii][jj]-32],(ii-i)*(ii-i)+(jj-j)*(jj-j));
            }
        }
    cin>>q;
    cin>>text;
    int ans=0;
    for(i=0;i<q;i++)
    {
        if(dist[text[i]]==inf)
        {
            cout<<"-1"<<endl;
            return 0;
        }
        if(dist[text[i]]>x*x)
            ans++;
    }
    cout<<ans<<endl;
    return 0;
}
