#include<stdio.h>
#include<string.h>

int v[256];
int m, n, x; int queries; char tab[30][31];
char str[500001];

int main(){
	memset(v, 0, 256*sizeof(int));
	scanf("%d %d %d", &m, &n, &x);
	bool shift=false;
	for(int i=0; i<m; i++){
		scanf("%s", tab[i]);
		for(int j=0; j<n; j++){
				char c=tab[i][j];
				if(c!='S')
					v[c]=1;
		}
	}
	for(int i=0; i<m; i++)
		for(int j=0; j<n; j++)
			if(tab[i][j]=='S'){
				shift=true;
				for(int k=0; k<m; k++)
					for(int l=0; l<n; l++)
						if((i-k)*(i-k)+(j-l)*(j-l)<=x*x){
							char c=tab[k][l];
							if(c!='S'){
								v[c-32]=1;
							}
						}
			}
	if(shift)
		for(char c='a'; c<='z'; c++)
			if(v[c] && v[c-32]!=1)
				v[c-32]=2;
	scanf("%d%s", &queries, str);	
	int cont=0;
	for(int i=0; i<queries; i++)
		if(v[str[i]]==2)
			cont++;
		else if(v[str[i]]==0){
			printf("-1\n");	
			return 0;
		}
	printf("%d\n", cont);
	return 0;
}
