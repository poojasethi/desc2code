#include <cstdio>
int will[128];
char s[35][35];
int n, m, x, t = 0;
int main(){
  scanf("%d %d %du", &n, &m, &x);
  for (int i = 1; i <= n; i++)
    scanf("%s", s[i] + 1);
  for (int i = 1; i < 128; i++) will[i] = -1;
  for (int i = 1; i <= n; i++)
    for (int j = 1; j <= m; j++)
      if (s[i][j] != 'S'){
	will[s[i][j]] = 0;
	for (int k = 1; k <= n; k++)
	  for (int l = 1; l <= m; l++)
	    if (s[k][l] == 'S'){
	      if ((i - k) * (i - k) + (j - l) * (j - l) <= x * x)
		will[s[i][j] - 'a' + 'A'] = 0;
	      t = 1;
	    }
      }
  if (t){
    for (int i = 0; i < 26; i++)
      if (will[i + 'a'] == 0 && will[i + 'A'] == -1)
	will[i + 'A'] = 1;
  }
  scanf("%d", &t);
  int tot = 0;
  while (t--){
    char ch;
    do{ch = getchar();} while (ch < 'A' || ch > 'z');
    if (will[ch] == -1){printf("-1"); return 0;}
    tot += will[ch];
  }
  printf("%d", tot);
  return 0;
}
