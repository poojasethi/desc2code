#include<cstring>
#include<cstdio>

#define Max 128
#define sMax 500005

int n, m, k;
int vis[Max];
char cm[Max][Max];
char str[sMax];

int dis(int ax, int ay, int bx, int by)
{
	int tx, ty;
	tx = ax - bx;
	ty = ay - by;

	return tx * tx + ty * ty;
}

void find(int x, int y)
{
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
		{
			if(cm[i][j] == 'S')
				continue;

			if(dis(i, j, x, y) <= k*k)
				vis[ cm[i][j] - 'a' + 'A'] = 1;
		}
}

int main()
{
	int ans;
	bool s;

	scanf("%d %d %d", &n, &m, &k);

	for(int i=0;i<n;i++)
		scanf("%s", cm[i]);

	memset(vis, 0, sizeof(vis));

	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
			if(cm[i][j] != 'S')
				vis[ cm[i][j] ] = 1;

	s = 0;
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
			if(cm[i][j] == 'S')
				find(i, j), s=1;

	scanf("%d", &n);
	scanf("%s", str);

	ans = 0;
	for(int i=0;i<n;i++)
	{
		if(vis[ str[i] ])
			continue;

		if(str[i] >= 'A' && str[i] <= 'Z' && vis[ str[i]-'A'+'a' ] && s)
		{
			ans++;
			continue;
		}
		ans = -1;
		break;
	}
	printf("%d\n", ans);

}

