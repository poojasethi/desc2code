
#include <cstdio>
#include <iostream>
#include <utility>
#include <string>
#include <map>
#include <algorithm>
#include <cstring>
#include <cctype>
using namespace std;

char kbd[30][30];
int key[256];
int main()
{
  int m,n,x,i,j,k,l;
  scanf("%d%d%d",&m,&n,&x);
  gets(kbd[0]);
  memset(key,0xffff,sizeof(key));
  for (i = 0; i < m; ++i)
    gets(kbd[i]);
  for (i = 0; i < m; ++i)
    for (j = 0;j < n; ++j){
      switch(kbd[i][j]){
      case 'S':
        for (k = 0; k < m; ++k)
          for (l = 0; l < n; ++l)
            if (kbd[k][l]!='S' && key[kbd[k][l]+'A' - 'a'] != 0 ){

              if ( x*x < (k-i)*(k-i) + (l-j)*(l-j))
                key[kbd[k][l] + 'A' - 'a'] = 1;
              else
                key[kbd[k][l] + 'A' - 'a'] = 0;
            } 
        break;
      default:
        key[kbd[i][j]] = 0;
        break;
      }
    }
  
  scanf("%d",&x);
  getchar();
  int flag = 0,ans = 0;
  while (x--){
    char ch = getchar();
    if (key[ch] < 0)
      flag = 1;
    else
      ans += key[ch];
  }
  if (flag)
    printf("-1\n");
  else
    printf("%d\n",ans);
}