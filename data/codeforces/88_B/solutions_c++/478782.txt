#include <iostream>
#include <string>
#include <map>
using namespace std;
string kb[35];
int n, m, x;
map<char, int> memo;
#define sqr(x) ((x)*(x))
int is_good(char c) {
  int res=-1;
  for(int i=0; i<n; ++i) {
    for(int j=0; j<kb[i].size(); ++j) {
      if(c<='z' && c>='a' && kb[i][j]==c) return 0;
      if(c<='z' && c>='a') continue;
      if(kb[i][j]!='S') continue;
      for(int ii=0; ii<n; ++ii) {
        for(int jj=0; jj<kb[i].size(); ++jj) {
          if(kb[ii][jj]-'a'+'A'==c) {
            if(sqr(ii-i)+sqr(jj-j)>x*x) res=1;
            else return 0;
          }
        }
      }
    }
  }
  return res;
}
int main() {
  
  cin >> n >> m >> x;
  for(int i=0; i<n; ++i) cin >> kb[i];
  for(int i=0; i<26; ++i) {
    memo['a'+i] = is_good('a'+i);
    memo['A'+i] = is_good('A'+i);
    //cout << (char)('a'+i) << " " << memo['a'+i] << endl;
    //cout << (char)('A'+i) << " " << memo['A'+i] << endl;
  }

  int l;
  int cnt=0;
  string str;  
  cin >> l >> str;
  for(int i=0; i<str.size(); ++i) {
    if(memo[str[i]] == -1) {
      cout << -1;
      return 0;
    }
    else cnt += memo[str[i]];
  }
  cout << cnt;
  return 0;
}

