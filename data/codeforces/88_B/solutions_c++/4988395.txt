#include <iostream>
#include <map>
#include <cstdlib>

using namespace std;

int n,m,x;
char t[30][30];

map<char,int> coste;

int cuad(int a)
{
  return a*a;
}

int main()
{
  cin>>n>>m>>x;
  bool hays=false;
  for (int i=0;i<n;i++) {
    for (int j=0;j<m;j++) {
      cin>>t[i][j];
      if (t[i][j]=='S')
	hays=true;
    }
  }
  for (int i=0;i<n;i++) {
    for (int j=0;j<m;j++) {
      if (t[i][j]!='S') {
	coste[t[i][j]]=0;
	for (int ii=0;ii<n;ii++) {
	  for (int jj=0;jj<m;jj++) {
	    if (t[ii][jj]=='S' and cuad(ii-i)+cuad(jj-j)<=cuad(x))
	      coste[char(t[i][j]-'a'+'A')]=0;
	  }
	}
      }
    }
  }
  if (hays)
    for (int i=0;i<n;i++)
      for (int j=0;j<m;j++)
	if (t[i][j]!='S' and coste.count(char(t[i][j]-'a'+'A'))==0)
	  coste[char(t[i][j]-'a'+'A')]=1;
  int q;
  cin>>q;
  string s;
  cin>>s;
  int sol=0;
  //cout<<s<<endl;
  for (int i=0;i<int(s.size());i++) {
    //cout<<"hola "<<"\""<<s[i]<<"\""<<endl;
    if (coste.count(s[i])==0) {
      cout<<-1<<endl;
      exit(0);
    }
    //cout<<s[i]<<" "<<coste[s[i]]<<endl;
    sol+=coste[s[i]];
  }
  cout<<sol<<endl;  
}
