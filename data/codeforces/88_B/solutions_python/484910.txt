#!/usr/bin/env python
# -*- coding: utf-8
from collections import defaultdict

l = defaultdict(list)
S = list()

n, m, x = map(int, raw_input().split())
x = x**2
count = 0

for i in xrange(n):
    for j, c in enumerate(raw_input()):
        if c.islower():
            l[c].append((i, j))
        else:
            S.append((i, j))

for c, coords in l.items():
    minx = 10**5
    for coord in coords:
        for i, j in S:
            minx = min(minx, (coord[0] - i)**2 + (coord[1] - j)**2)
    if minx != 10**5:
        l[c.upper()] = minx

raw_input()
for c in raw_input():
    if not c in l:
        count = -1
        break
    if c.isupper() and x < l[c]:
        count += 1

print count
