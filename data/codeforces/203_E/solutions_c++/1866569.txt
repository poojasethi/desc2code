#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>

using namespace std;

const int MAXN = 1 << 10;
const int INF = 2000000000;
vector < pair < pair <int, int>, int> > a;
pair <int, int> ans;
int n, d, s;
int c, f, l;

int main(){
	scanf("%d%d%d", &n, &d, &s);
	for(int i = 0; i < n; i ++){
		scanf("%d%d%d", &c, &f, &l);
		a.push_back(make_pair(make_pair(f, l), c));
	}
	sort(a.begin(), a.end());

	int idx = -1;
	for(int i = 0; i < n; i ++){
		if(a[i].first.second >= d && a[i].second > 0){
			idx = i;
			break;
		}
	}

	if(idx != -1 && a[idx].first.first <= s){
		int cur_cnt = 1, cur_fuel = a[idx].first.first;
		for(int i = 0; i < n; i ++){
			if(a[i].second != 0){
				cur_cnt += a[i].second;
				if(cur_cnt > n)
					cur_cnt = n;
			}
		}
		if(cur_cnt > n) cur_cnt = n;
		int tmp = n - cur_cnt;
		for(int i = 0; i < n && tmp; i ++){
			if(i != idx && a[i].first.first + cur_fuel <= s && a[i].first.second >= d){
				cur_fuel += a[i].first.first;
				tmp --;
				cur_cnt ++;
			}
		}
		ans = make_pair(cur_cnt, cur_fuel);
	}

	int cur_fuel = 0, cur_cnt = 0;
	for(int i = 0; i < n; i ++){
		if(cur_fuel + a[i].first.first <= s && a[i].first.second >= d){
			cur_cnt ++, cur_fuel += a[i].first.first;
		}
	}
	if(cur_cnt > ans.first || (cur_cnt == ans.first && cur_fuel < ans.second)){
		ans = make_pair(cur_cnt, cur_fuel);
	}

	cout <<  ans.first << " " << ans.second << endl;


	return 0;
}
