#include<cstdio>
#include<iostream>
#include<algorithm>
#include<vector>
#define M 100002
#define INF 1<<30
using namespace std;
int n,d,s,c,l,f;
vector<int> x,y;
int main(){
    long long tot=0,s1=0,s2=0,cst1=0,cst2=0;
    scanf("%d%d%d",&n,&d,&s);
    for(int i=0;i<n;i++){
        scanf("%d%d%d",&c,&f,&l);
        if(c) tot+=c;
        if(l>=d){
            if(c) x.push_back(f);
            else y.push_back(f);
        }
    }
    sort(x.begin(),x.end());
    sort(y.begin(),y.end());
    x.push_back(INF);
    y.push_back(INF);
    for(s1=0;cst1+y[s1]<=s;cst1+=y[s1++]);
    if(x[0]<=s){
        cst2=x[0];
        if(tot>=n-1) s2=n;
        else{
            int size2=y.size();
            for(int i=0;i<size2;i++) x.push_back(y[i]);
            sort(x.begin()+1,x.end());
            for(s2=1;cst2+x[s2]<=s;s2++){
                cst2+=x[s2];
                if(n-s2-1<=tot) {s2=n;break;}
            }
            if(s2!=n) s2+=tot;
        }
    }
    if(s1>s2) cout<<s1<<" "<<cst1<<endl;
    else if(s1<s2) cout<<s2<<" "<<cst2<<endl;
    else cout<<s1<<" "<<min(cst1,cst2)<<endl;
    return 0;
}
