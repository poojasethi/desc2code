//program 203-E

#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<vector>

using namespace std;

const int inf=2000000000;

int main()
{
  int N,Dist,S,M=0;
  scanf("%d%d%d",&N,&Dist,&S);
  static int Carry[100000],Len[100000];
  vector<int> A,B;
  for(int i=0;i<N;i++)
    {
      int Fuel;scanf("%d%d%d",&Carry[i],&Fuel,&Len[i]);
      if(Carry[i])M++;
      if(Len[i]>=Dist)
        if(Carry[i])
          A.push_back(Fuel);
        else
          B.push_back(Fuel);
    }
  sort(A.begin(),A.end());A.push_back(inf);
  sort(B.begin(),B.end());B.push_back(inf);
  int Ans=0,Sum=0;
  for(int i=0;B[i]<=S-Sum;Ans++,Sum+=B[i++]);
  if(A[0]<=S)
    {
      int Total=1;
      for(int i=0;i<N;i++)
        if(Carry[i])Total=min(Total+Carry[i]-1,N);
      int P=1,Q=0,ans=min(M+Total,N),sum=A[0];
      while(ans<N)
        {
          int Temp=min(A[P],B[Q]);
          if(min(A[P],B[Q])>S-sum)break;
          ans++;sum+=min(A[P],B[Q]);
          if(A[P]<=B[Q])P++;else Q++;
        }
      if(ans==Ans&&sum<Sum)Sum=sum;
      if(ans>Ans){Ans=ans;Sum=sum;}
    }
  printf("%d %d\n",Ans,Sum);
  return 0;
}
