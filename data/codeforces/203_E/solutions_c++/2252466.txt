#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
#include<vector>
using namespace std;
#define ll long long
#define MA 100501
#define pb push_back

int n,d,s;
int q1[MA],q2[MA],top1,top2;
int main()
{
   // freopen("in.txt","r",stdin);
    int c,f,l;
    int huai=0;
    scanf("%d%d%d",&n,&d,&s);
    ll tot=0;
    for(int i=0;i<n;++i){
       scanf("%d%d%d",&c,&f,&l);
       tot+=c;
       if(l>=d){
           if(c)  q2[top2++]=f;
           else q1[top1++]=f;
       }
       else
         ++huai;
    }
    sort(q1,q1+top1);
    sort(q2,q2+top2);
    int k1=0,rest1=s;
    for(int i=0;i<top1;++i){
        if(rest1>=q1[i]){
           k1++;rest1-=q1[i];
        }
        else break;
    }

    rest1=s-rest1;
    int k2=0,rest2=s;
    if(s>=q2[0] && top2>0){
        rest2-=q2[0];
        k2++;
        if(tot>=huai+top1+top2-1){
            k2=n;
        }
        else{
           for(int i=1;i<top2;++i)
             q1[top1++]=q2[i];
           sort(q1,q1+top1);
           for(int i=0;i<top1;++i){

               if(rest2<q1[i])
                  break;
               else
               {
                    k2++;rest2-=q1[i];
               }
               if(top1-i-1+huai<=tot){
                   k2=top1+huai+1;
                   tot=0; break;
               }
           }
           k2+=tot;
        }

    }
    rest2=s-rest2;
    if(k1>k2)
       printf("%d %d\n",k1,rest1);
    else if(k2>k1)
       printf("%d %d\n",k2,rest2);
    else
       printf("%d %d\n",k2,min(rest1,rest2));
    return 0;
}
