#include <cstdio>
#include <algorithm>

using namespace std;

struct robot
{
  int c,f,l;
  bool operator<(const robot& x) const
  {
    if(f!=x.f)
      return f<x.f;
    return c>x.c;
  }
};

robot a[100001];

int main(void)
{
  int n,d,s;
  scanf("%d %d %d",&n,&d,&s);
  int m=0,t=0;
  for(int i=1;i<=n;++i)
  {
    robot temp;
    scanf("%d %d %d",&temp.c,&temp.f,&temp.l);
    t=min(t+temp.c,n);
    if(temp.l>=d)
      a[++m]=temp;
  }
  sort(a+1,a+m+1);
  int ans=0,sum=0;
  while(ans<m)
  {
    if(sum+a[ans+1].f>s)
      break;
    sum+=a[++ans].f;
  }
  int no=1;
  while(no<=m)
  {
    if(a[no].f>s)
    {
      no=m+1;
      break;
    }
    if(a[no].c>0)
      break;
    ++no;
  }
  if(no<=m)
  {
    int tot=min(t+1,n),fue=a[no].f;
    if((tot>ans)||((tot==ans)&&(fue<sum)))
    {
      ans=tot;
      sum=fue;
    }
    for(int i=1;i<=m;++i)
    {
      if(i==no)
        continue;
      tot=min(tot+1,n);
      fue+=a[i].f;
      if(fue>s)
        break;
      if((tot>ans)||((tot==ans)&&(fue<sum)))
      {
        ans=tot;
        sum=fue;
      }
    }
  }
  printf("%d %d\n",ans,sum);
  return 0;
}