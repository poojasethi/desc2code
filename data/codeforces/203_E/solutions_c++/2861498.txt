//By Lin
#include<cstdio>
#include<cstring>
#include<vector>
#include<algorithm>
#define inf 0x7fffffff
using namespace std;
typedef long long LL;

int     n,m,s,g,h,w,p,q;
vector<LL> v1,v2;

void    check(int ans,int w ){
    ans = min(ans,n);
    if ( p < ans || p == ans && w<q )
        p = ans , q = w;
}
int     main(){
    scanf("%d%d%d", &n, &s, &m );
    w = inf;
    for (int i = 0; i<n; i++){
        int c,f,l;
        scanf("%d%d%d", &c, &f , &l );
        if ( c == 0 && l >= s ) v1.push_back(f);
        else{
            g = min(g+c,n);
            if ( l >= s ) v2.push_back(f);
        }
    }
    v1.push_back(0), v2.push_back(0);
    sort( v1.begin() , v1.end() );
    sort( v2.begin() , v2.end() );
    for (int i = 1; i<v1.size(); i++) v1[i] += v1[i-1];
    for (int i = 1; i<v2.size(); i++) v2[i] += v2[i-1];

    int i = v1.size()-1;
    p = q = 0;
    for (int j = 0; j<v2.size(); j++){
        if ( v2[j] > m ) break;
        while ( v2[j]+v1[i]>m ) i--;
        while ( i>0 && i+j+(j?g:0)>n ) i--;
        check( i+j+(j?g:0) , v1[i]+v2[j] );
    }
    printf("%d %d\n" , p , q );
    return 0;
}
