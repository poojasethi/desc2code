//By momo
#include<cstdio>
#include<vector>
#include<algorithm>
#define N 100010
#define MP make_pair
#define PB push_back
#define F first
#define S second
using namespace std;

int ans=0,F=0,c,f,l;
vector<pair<int,int> > a;

int main(){

	int n,d,s,i,k,ld=0;
	scanf("%d%d%d",&n,&d,&s);

	for(i=0;i<n;i++){
		scanf("%d%d%d",&c,&f,&l);
		if(l>=d) a.PB(MP(f,c));
		ld=min(ld+c,n);
	}
	sort(a.begin(),a.end());
	
	int sum=0,cnt=0;
	for(i=0;i<a.size();i++){
		if(sum+a[i].F>s) break;
		sum+=a[i].F; cnt++;
	}
	
	for(i=0;i<a.size();i++) if(a[i].S!=0) break;
	if( i==a.size() || a[i].F>s ){ printf("%d %d\n",cnt,sum); return 0; }

	ans=cnt; F=sum; sum=a[k=i].F;
	if(ans<min(ld+(cnt=1),n)||ans==min(ld+(cnt=1),n)&&sum<F) ans=min(ld+cnt,n),F=sum;
	for(i=0;i<a.size();i++){
		if(i==k) continue;
		if(sum+a[i].F>s) break;
		sum+=a[i].F; cnt++;
		if(ans<min(cnt+ld,n)) ans=min(cnt+ld,n),F=sum;
	}
	printf("%d %d\n",ans,F);
}
