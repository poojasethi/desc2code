#include <cstdio>
#include <algorithm>
typedef long long LL;

const int N = 1000 + 1;
const int MOD = 1000000000 + 7;

int n, m, x[N], y[N];
int c[N][N];
int f[101][N];

int main() {
    for (int i = 0; i < N; i++) {
        c[i][0] = c[i][i] = 1;
        for (int j = 1; j < i; j++)
            c[i][j] = (c[i - 1][j - 1] + c[i - 1][j]) % MOD;
    }

    scanf("%d", &m);
    for (int i = 1; i <= m; i++) scanf("%d", x + i);
    for (int i = 1; i <= m; i++) scanf("%d", y + i);
    for (int i = 1; i <= m; i++) n += x[i];

    LL rez = 1;
    for (int i = m, t = n; i >= 1; i--) {
        rez = rez * c[t][x[i]] % MOD;
        t -= x[i];
    }

    f[0][0] = 1;
    int tot = 0;
    for (int i = 0; i < m; i++) {
        tot += x[i];
        for (int j = 0; j <= tot; j++) {
            for (int k = j; k <= tot + x[i + 1] && k - j <= y[i + 1]; k++) {
                f[i + 1][k] = (f[i + 1][k] + (long long)f[i][j] * c[tot + x[i + 1] - j][k - j]) % MOD;
            }
        }
    }

    rez = rez * f[m][n] % MOD;
    printf("%d\n", (int)rez);
    //system("pause");
    return 0;
}
