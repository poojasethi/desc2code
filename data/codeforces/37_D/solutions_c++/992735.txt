#include <cstdio>
#include <cstring>
#include <cstdlib>

using namespace std;

const int MAXN = 105, MAXS = 1005;
const long long MOD = 1000000007;

int X[MAXN], Y[MAXN], dp[MAXN][MAXS], C[MAXS][MAXS];
int i, j, k, N, M, ans;

void init()
 {
     scanf("%d", &M);
     for (i = 1, N = 0; i <= M; i ++)
         scanf("%d", &X[i]), N += X[i];
     for (i = 1; i <= M; i ++)
         scanf("%d", &Y[i]);
 }

int LongMul(long long a, long long b)
 {
    return (a * b) % MOD;
 }
 
void work()
 {
     C[0][0] = 1;
     for (i = 1; i <= N; i ++)
         for (C[i][0] = C[i][i] = j = 1; j < i; j ++)
             C[i][j] = (C[i-1][j] + C[i-1][j-1]) % MOD;
     
     for (i = ans = 1, N = 0; i <= M; N += X[i], ans = LongMul(ans, C[N][X[i]]), i ++);
     
     for (i = dp[1][0] = 1; i <= M; i ++)
         for (j = X[i]; j <= N; j ++)
             if (dp[i][j-X[i]] > 0)
                for (k = 0; k <= Y[i]; k ++)
                    dp[i+1][j-k] = (dp[i+1][j-k] + LongMul(dp[i][j-X[i]], C[j][k])) % MOD;
     printf("%d\n", LongMul(ans, dp[M+1][0]));
 }
 
int main()
 {
    init();
    work();
    return 0;
 }
