#include<cstring>
#include<cstdlib>
#include<cstdio>
#include<cmath>
#include<iostream>
#define N 110
#define M 1100
#define mmod 1000000007
#define LL long long
using namespace std;
int f[N][M],a[N],b[N],s[N],jc[M],ny[M],ans,n;
int qmod(int a,int b)
{
	int t=1;
	while(b)
	{
		if(b%2) t=((LL)t*(LL)a)%mmod;
		b/=2;
		a=((LL)a*(LL)a)%mmod;
	}
	return t;
}
int c(int x,int y)
{
	return (((LL)jc[x]*(LL)ny[y])%mmod*(LL)ny[x-y])%mmod;
}
int main()
{
	jc[0]=ny[0]=1;
	for(int i=1;i<M;i++)
	{
		jc[i]=((LL)jc[i-1]*i)%mmod;
		ny[i]=qmod(jc[i],mmod-2);
	}
	scanf("%d",&n);
	for(int i=1;i<=n;i++) {scanf("%d",&a[i]);s[i]=s[i-1]+a[i];}
	for(int i=1;i<=n;i++) scanf("%d",&b[i]);
	f[0][0]=1;
	for(int i=1;i<=n;i++)
		for(int j=0;j<=s[i];j++)
			for(int k=0;k<=min(j,b[i]);k++)
				f[i][j]=((LL)f[i][j]+(LL)f[i-1][j-k]*(LL)c(s[i]-j+k,k))%mmod;
	ans=jc[s[n]];
	for(int i=1;i<=n;i++) ans=((LL)ans*(LL)ny[a[i]])%mmod;
	ans=((LL)ans*(LL)f[n][s[n]])%mmod;
	printf("%d\n",ans);
	return 0;
}