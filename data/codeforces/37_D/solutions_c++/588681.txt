#include <stdio.h>
#include <algorithm>
#include <iostream>
using namespace std;
const int maxn=1100;
const int mol=1000000007;
long long c[maxn][maxn],dp[maxn][maxn];
int sum[maxn],x[maxn],y[maxn];
int main()
{
    for(int i=0;i<maxn;i++)
    {
        c[i][0]=c[i][i]=1;
        for(int j=1;j<i;j++)c[i][j]=(c[i-1][j]+c[i-1][j-1])%mol;
    }
    int m;
    while(scanf("%d",&m)!=EOF)
    {
        sum[0]=0;
        for(int i=1;i<=m;i++)
        {
            scanf("%d",&x[i]);
            sum[i]=sum[i-1]+x[i];
        }
        long long ans=1;
        for(int i=1;i<=m;i++)
            ans=(ans*c[sum[m]-sum[i-1]][x[i]])%mol;
        for(int i=1;i<=m;i++)scanf("%d",&y[i]);
        for(int i=0;i<=m;i++)
        for(int j=0;j<=sum[i];j++)
        dp[i][j]=0;
        dp[0][0]=1;
        for(int i=0;i<=m;i++)
        for(int j=0;j<=sum[i];j++)
        {
            for(int p=0;p<=j+x[i+1]&&p<=y[i+1];p++)
            {
                dp[i+1][j+x[i+1]-p]=(dp[i+1][j+x[i+1]-p]+dp[i][j]*c[j+x[i+1]][p])%mol;
            }
        }
        cout<<(ans*dp[m][0])%mol<<endl;
    }   
}
