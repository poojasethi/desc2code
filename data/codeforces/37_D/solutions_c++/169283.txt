#include <iostream>
#include <cstdio>
#define modul 1000000007
using namespace std;
long long _C[1010][1010];
void initC(){
  _C[0][0]=1;
  for(int i=1;i<1010;++i){
   _C[i][0]=_C[i][i]=1;
   for(int j=1;j<i;++j)_C[i][j]=(_C[i-1][j]+_C[i-1][j-1])%modul;
                         }
}
int C(int elem,int klas){
  if(elem<0 || klas<0 || klas>elem)return 0;
  return _C[elem][klas];
}
long long dp[110][1010];
int X[110],Y[110],SX[110],n,m;
long long getDP(int pos,int how){if(pos<0||how<0||how>SX[pos])return 0;return dp[pos][how];}
int main(){
  initC();
  //system("pause");
  int i,j,y;
  scanf("%d",&m);
  for(i=1;i<=m;++i){
   scanf("%d",&X[i]);
   SX[i]=SX[i-1]+X[i];
                   }
  n=SX[m];
  for(i=1;i<=m;++i)scanf("%d",&Y[i]);
  dp[0][0]=1;
  for(i=1;i<=m;++i)
   for(j=0;j<=n;++j)
    for(y=0;y<=n;++y)
     if(j-y<=Y[i]) dp[i][j]=(dp[i][j]+(getDP(i-1,y)*C(SX[i]-y,j-y))%modul)%modul;
  long long A=dp[m][n];
  for(i=0;i<m;++i){A=(A*C(n,X[i]))%modul;n-=X[i];}
  cout<<A<<endl;
  //system("pause");
  return 0;
}
