#include <map>
#include <set>
#include <cmath>
#include <stack>
#include <queue>
#include <string>
#include <bitset>
#include <vector>
#include <fstream>
#include <sstream>
#include <stdio.h>
#include <ctype.h>
#include <string.h>
#include <iostream>
#include <algorithm>
using namespace std;
#define li       	long long int
#define rep(i,to)	for(li i=0;i<((li)(to));i++)
#define pb       	push_back
#define sz(v)    	((li)v.size())
#define bit(n)   	(1ll<<(li)(n))


#define MAX 105
li c[MAX*MAX][MAX];
li mod=1000000007;
li a[MAX],room[MAX];
li n;
li dp[MAX][MAX*MAX];

li recur(li pos,li rem){
	if(pos==n) return (rem==0)?1:0;
	li &res=dp[pos][rem];
	if(res!=-1) return res;
	res=0;
	rem+=a[pos];
	for(li i=0;i<=min(rem,room[pos]);i++){
		res=(res+recur(pos+1,rem-i)*c[rem][i])%mod;
	}
	return res;
}

int main(){
	rep(i,MAX)rep(j,MAX*MAX) dp[i][j]=-1;
	rep(i,MAX*MAX)rep(j,MAX) c[i][j]=(j==0)?1:0;
	rep(i,MAX*MAX)if(i)rep(j,MAX)if(j) c[i][j]=(c[i-1][j]+c[i-1][j-1])%mod;
	cin>>n;
	rep(i,n) cin>>a[i];
	rep(i,n) cin>>room[i];
	li sum=0;
	rep(i,n) sum+=a[i];
	li res=recur(0,0);
	rep(i,n){
		res=(res*c[sum][a[i]])%mod;
		sum-=a[i];
	}
	cout<<res<<endl;
}
