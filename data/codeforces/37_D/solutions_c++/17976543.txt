#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
#define maxn 1010
#define mo 1000000007
using namespace std;
int n, a[maxn], b[maxn], c[maxn][maxn], sum;
int ans, f[maxn][maxn];
void add(int &a, int b){a += b; while (a >= mo) a -= mo;}
int main()
{
	scanf("%d", &n); int m = 0;
	for (int i = 1; i <= n; ++ i) scanf("%d", &a[i]), m += a[i];
	for (int i = 1; i <= n; ++ i) scanf("%d", &b[i]);
	for (int i = 0; i <= m; ++ i){
		c[i][0] = 1;
		for (int j = 1; j <= i; ++ j)
			c[i][j] = (c[i - 1][j - 1] + c[i - 1][j]) % mo;
	}
	f[0][0] = 1;
	for (int i = 0; i < n; ++ i){
		for (int j = 0; j <= sum; ++ j)
			if (f[i][j]){
				for (int k = 0; k <= b[i + 1] && k <= j + a[i + 1]; ++ k)
					add(f[i + 1][j + a[i + 1] - k], 1ll * f[i][j] * c[j + a[i + 1]][k] % mo);
			}
		sum += a[i + 1];
	}
	ans = f[n][0]; int all = sum;
	for (int i = 1; i <= n; ++ i){
		ans = 1ll * ans * c[all][a[i]] % mo;
		all -= a[i];
	}
	printf("%d\n", ans);
	return 0;
}


