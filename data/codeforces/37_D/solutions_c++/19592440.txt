#include <iostream>
#include <stdio.h>
#define mod 1000000007
#define mod_limit 16000000112000000000ull

using namespace std;

int m , n , c[1100 + 2][1100 + 2] , x[100 + 2] , y[100 + 2];
long long ans;
unsigned long long f[100 + 2][1000 + 2];

inline void update( register unsigned long long & a , unsigned long long b )
{
	a += b;
	if( a > mod_limit ) a -= mod_limit;
}

int main()
{
	cin >> m;
	for( register int i = 0 ; i <= 1100 ; i++ )
	{
		c[i][0] = 1;
		if( i )
			for( register int j = 1 ; j <= 1100 ; j++ )
				c[i][j] = ( c[i - 1][j - 1] + c[i - 1][j] ) % mod;
	}
	f[0][0] = 1;
	for( register int i = 1 ; i <= m ; i++ ) cin >> x[i];
	for( register int i = 1 ; i <= m ; i++ ) cin >> y[i];
	for( int i = 1 ; i <= m ; i++ )
	{
		n += x[i];
		for( int j = 0 ; j <= 1000 ; j++ )
		{
			register unsigned long long temp = 0;
			for( register int k = 0 ; k <= y[i] ; k++ )
				if( j - x[i] + k >= 0 && j - x[i] + k <= 1000 )
					update( temp , f[i - 1][j - x[i] + k] * 1ll * c[j + k][k] );
			f[i][j] = temp % mod;
		}
	}
	ans = f[m][0];
	for( register int i = 1 ; i <= m ; i++ )
		( ans *= c[n][ x[i] ] ) %= mod , n -= x[i];
	cout << ans << endl;
	return 0;
}
