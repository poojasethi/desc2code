//By Lin
#include<cstdio>
#include<cstring>
#include<iostream>
#define maxn 105
#define MOD  1000000007
using namespace std;
typedef long long LL;
int     n,data[maxn][2],dp[maxn][1005];
LL      C[1005][1005];

int     main(){
    for (int i = 0; i<=1000; i++)
        for (int j = 0; j<=i; j++ )
            C[i][j] = (i==0||j==0)?1:((C[i-1][j]+C[i-1][j-1])%MOD);
    scanf("%d", &n );
    for (int i = 0; i<n; i++) scanf("%d", &data[i][0] );
    for (int i = 0; i<n; i++) scanf("%d", &data[i][1] );
    dp[0][0] = 1;
    int tol = 0;
    for (int i = 0; i<n; i++){
        for (int j = 0; j<=tol; j++) {
            if ( dp[i][j] == 0 ) continue;
            for (int k = 0; k<=data[i][1] && j+data[i][0]-k>=0; k++) {
                dp[i+1][j+data[i][0]-k] += dp[i][j]*C[j+data[i][0]][k]%MOD,
                dp[i+1][j+data[i][0]-k] %= MOD; 
            }
        }
        tol += data[i][0];
    }
    LL  ans = dp[n][0];
    for (int i = 0; i<n; i++) {
        ans *= C[tol][data[i][0]]; 
        ans %= MOD;
        tol -= data[i][0];
    }
    cout<<ans<<endl;
    return 0;
}
