#include <stdio.h>
int x[10000];
int y[10000];
long long dp[2000][2000]={0};
int min(int a,int b){
    if (a<b)
        return a;
    return b;
}
int bin[2000][2000]={0};
int main(){
   int m;
   scanf("%d",&m);
   int sum=0;
   x[0]=0;
   
   for (int i=0;i<m;i++)
   {
       int X;
       scanf("%d",&X);
       sum+=X;
       x[i+1]=sum;
   };
   for (int i=0;i<=sum;i++){
       bin[i][0]=1;
       for (int j=1;j<=i;j++){
           bin[i][j]=bin[i-1][j-1]+bin[i-1][j];
           bin[i][j]%=1000000007;;
       }
   }
       
   for (int i=0;i<m;i++)
       scanf("%d",&y[i]);
   dp[0][0]=1;
   for (int i=0;i<m;i++){
       for (int j=0;j<=x[i];j++){
           int ost=(x[i+1]-j);
           for (int k=0;k<=min(ost,y[i]);k++){
               dp[i+1][j+k]+=dp[i][j]*bin[ost][k];
               dp[i+1][j+k]%=1000000007;;
           }
       }
   }
   long long ans=dp[m][sum];
   for (int i=0;i<m;i++){
       ans*=bin[sum-x[i]][x[i+1]-x[i]];
        
   ans%=1000000007;};
   printf("%d",ans);
   return 0; 
}