#include<bits/stdc++.h>
using namespace std;
int n,b[513], p[513];
int dp[513][513], dp2[513];
bool gd[513][513];
#define mod 1000000007
int f(int l,int r)
{
    if(dp[l][r]!=-1)return dp[l][r];
    if(l+1>=r) return 1;
    int &rs=dp[l][r];
    rs=0;
    for(int k=l+1;k<=r;++k)
    {
        if(k==r||b[k+1]>b[l+1])
        {
            rs+=1LL*f(l+1,k)*f(k,r)%mod;
            rs%=mod;
        }
    }
    return rs;
}
int main()
{
    cin>>n;
	for(int i=1;i<=n;++i)
		cin>>b[i];
    memset(dp,-1,sizeof(dp));
    cout<<f(1,n)<<endl;
}
