#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
#define mod 1000000007

long long f[510][510];
int n;
int b[510];

int main() {
	//freopen("F.in", "r", stdin);
	//freopen("F.out", "w", stdout);
	scanf("%d", &n);
	for (int i = 1; i <= n; ++i) {
		scanf("%d", &b[i]);
		f[i + 1][i] = 1;
	}
	for (int i = n; i > 1; --i)
		for (int j = i; j <= n; ++j)
			for (int k = i ; k <= j; ++k)
				if (k == j || b[k + 1] > b[i])
					f[i][j] = (f[i][j] + f[i + 1][k] * f[k + 1][j]) % mod;
	printf("%I64d\n", f[2][n]);
	return 0;
}
