#include <cstdio>
using namespace std;

#define n	505
#define P	1000000007

int		N,A[n],F[n][n];

int		main(){
		scanf("%d",&N);
		for	(int i=1;i<=N;i++)
			scanf("%d",&A[i]),F[i][i]=F[i+1][i]=1;
		for	(int l=2;l<=N;l++)
		for	(int i=1,j;(j=i+l-1)<=N;i++){
			F[i][j]=F[i+1][j];
			for	(int k=i+1;k<j;k++)
				if	(A[k+1]>A[i+1])	(F[i][j]+=1ll*F[i+1][k]*F[k][j]%P)%=P;
		}	printf("%d\n",F[1][N]);
}
