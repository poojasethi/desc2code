#include<iostream>
#include<algorithm>
#include<utility>
#include<map>
#include<cstring>
using namespace std;
long long mem[555][555], arr[555], n;
#define MOD 1000000007
long long solve(int s, int e){
    if(s>=e)return 1;
    else if(mem[s][e]!=-1)return mem[s][e];
    long long &ret=mem[s][e];
    ret= solve(s+1, e);
    for(int i=s+1; i<=e; i++){
        if(arr[i] > arr[s]){
            ret+=solve(s+1, i-1) * solve(i, e);
            ret%=MOD;
        }
    }
    return ret;
}
int main()
{
    memset(mem, -1, sizeof(mem));
    cin>>n;
    for(int i=0; i<n; i++) cin>>arr[i];
    cout<< solve(1, n-1) <<endl;;
    return 0;
}


