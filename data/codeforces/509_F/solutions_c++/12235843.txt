#include <cstdio>
#include <cstdlib>
#include <ctime>
#include <cstring>
#include <cmath>
#include <algorithm>

const int N = 600;
const long long Mod = 1000000007LL;

using namespace std;

int f[N][N], n, a[N];
bool vis[N][N];

int dfs(int l, int r)
{
	if (l == r) return 1;
	if (vis[l][r]) return f[l][r];
	vis[l][r] = true;
	for (int i = l + 1; i <= r; i ++)
		if (a[l + 1] < a[i + 1] || i == r)
			f[l][r] += 1LL * dfs(l + 1, i) * dfs(i, r) % Mod, f[l][r] %= Mod;
	return f[l][r];
}
int main( )
{
	scanf("%d", &n);
	for (int i = 1; i <= n; i ++)
		scanf("%d", &a[i]);
	printf("%d\n", dfs(1, n));
	return 0;
}