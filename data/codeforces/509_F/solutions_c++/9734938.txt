#include <bits/stdc++.h>

#define MAXN 505
#define MOD 1000000007

using namespace std;

int n, a[MAXN], c[MAXN][MAXN], d[MAXN][MAXN];

int main() {
  //freopen(NameTask".inp", "r", stdin);
  //freopen(NameTask".out", "w", stdout);
  //ios_base :: sync_with_stdio(0);
  cin >> n;
  for (int i = 1; i <= n; i++) cin >> a[i];

  for (int i = 1; i <= n; i++)
    c[i][i] = d[i][i] = 1;

  for (int p = 1; p < n; p++)
    for (int i = 1, j = p + 1; j <= n; i++, j++) {
      c[i][j] = d[i][j] = d[i + 1][j];
      for (int k = i; k < j; k++)
        if (a[i] < a[k + 1])
          d[i][j] = (d[i][j] + 1LL * c[i][k] * d[k + 1][j] % MOD) % MOD;
    }

  cout << c[1][n];
}
