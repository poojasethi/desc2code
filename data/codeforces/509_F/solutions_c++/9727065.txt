#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#define maxn 550
#define mod 1000000007
int a[maxn], orzprwang[maxn][maxn];
typedef long long ll;
int main()
{
    int n; scanf("%d", &n); 
	for (int i = 1; i <= n; ++i) scanf("%d", &a[i]), orzprwang[i + 1][i] = 1;
    for (int i = n ; i>0; i--) for (int j = i; j <= n; j++)
        for (int k = i; k <= j; k++) if (k == j || a[k + 1] > a[i])
            orzprwang[i][j] = (orzprwang[i][j] + ((ll)orzprwang[i + 1][k]) * orzprwang[k + 1][j]) % mod;
    printf("%d\n", orzprwang[2][n]);
}
