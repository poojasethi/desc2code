#include <bits/stdc++.h>
#define MAX_N 510 
#define MODULO 1000000007 

using namespace std; 

typedef unsigned long long ll; 

ll dp[MAX_N][MAX_N]; 
int n; 
int c[MAX_N]; 

int main () 
	{
		cin >> n; 
		for (int i = 1; i <= n; i++) cin >> c[i]; 
		
		for (int i = 1; i <= n; i++) dp[i][i] = dp[i][i+1] = 1; 
		
		for (int i = n; i >= 1; i--) 
			for (int j = i+2; j <= n; j++) 
				{
					dp[i][j] = 0; 
					for (int k = i + 1; k <= j; k++) 
						if (c[i+1] < c[k+1] || k == j) 
							{
								dp[i][j] += (dp[i+1][k] * dp[k][j]) % MODULO; 
								dp[i][j] %= MODULO;
							}
				}
						
		cout << dp[1][n]; 
		return 0; 
	}