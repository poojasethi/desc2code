#include <iostream>
#include <cstdio>
const int mo=1e9+7;
int f[505][505],g[505][505],a[505],i,j,k,n;
int main()
{
	scanf("%d\n",&n);
	for (i=1;i<=n;++i) scanf("%d",&a[i]);
	for (i=1;i<=n;++i) f[i][i]=g[i][i]=1;
	for (i=n-1;i;--i)
		for (j=i+1;j<=n;++j)
		{
			g[i][j]=f[i][j]=g[i+1][j];
			for (k=i+1;k<=j;++k)
				if (a[i]<a[k])
					g[i][j]=(g[i][j]+1ll*f[i][k-1]*g[k][j]%mo)%mo;
		}
	printf("%d\n",f[1][n]);
}