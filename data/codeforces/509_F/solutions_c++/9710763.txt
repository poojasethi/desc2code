#include<cstdio>
using namespace std;
const int maxN = 507, M = 1e9+7;
int n, a[maxN], opt[maxN][maxN], ans[maxN][maxN];
void add(int &x, int y) { x = (x+y)%M; }
int muti(int x, int y) { return (1LL*x*y)%M; }
int main()
{
  scanf("%d", &n);
  for (int i = 1; i <= n; i++) opt[i][i] = ans[i][i] = 1, scanf("%d", &a[i]);
  for (int l = 1; l < n; l++) {
    for (int i = 1; i+l <= n; i++) ans[i][i+l] = opt[i+1][i+l];
    for (int i = 1; i+l <= n; i++) {
      opt[i][i+l] = ans[i][i+l];
      for (int j = i; j < i+l; j++)
        if (a[i] < a[j+1]) add(opt[i][i+l], muti(ans[i][j], opt[j+1][i+l]));
    }
  }
  printf("%d\n", ans[1][n]);
}
