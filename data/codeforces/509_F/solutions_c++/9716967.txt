#include<iostream>

#define int long long
using namespace std;

const int MAXN = 505, mod = 1e9 + 7;
int dp[MAXN][MAXN], a[MAXN];
bool mark[MAXN][MAXN];

int rec(int l, int r)
{
	if(l == r)
		return 1;
	if(mark[l][r])
		return dp[l][r];
	mark[l][r] = true;
	dp[l][r] = rec(l + 1, r);
	for(int i = l; i < r; i++)
		if(a[i] > a[l])
			dp[l][r] = (dp[l][r] + rec(l + 1, i) * rec(i, r)) % mod;
   return dp[l][r];	
}

main()
{
	int n;
	cin >> n;
	for(int i = 0; i < n; i++)
		cin >> a[i];
	cout << rec(1, n) << endl;
	return 0;
}
