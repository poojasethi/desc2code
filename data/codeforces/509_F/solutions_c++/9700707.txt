#include <cstdio>
#include <cstring>

using namespace std;

const int mod = 1e9 + 7;
const int maxn = 508;

int dp[maxn][maxn];
int a[maxn];

int solve(int l, int r){
	if(r - l <= 1) return 1;
	if(dp[l][r] >= 0) return dp[l][r];
	dp[l][r] = solve(l+1, r);
	for(int i = l+1; i < r; i++){
		if(a[i+1] > a[l+1])
			dp[l][r] = (dp[l][r] + (long long) solve(l+1, i) * solve(i, r) % mod) % mod;
	}
	return dp[l][r];
}

int main(){
	int n;

	while(scanf("%d", &n) > 0){
		for(int i = 1; i <= n; i++) scanf("%d", a + i);
		memset(dp, -1, sizeof(dp));
		printf("%d\n", solve(1, n));
	}

	return 0;
}
