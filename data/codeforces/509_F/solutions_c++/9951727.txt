#include <iostream>

using namespace std;

typedef long long int ll;

ll modulo=1e9+7;

ll maneras[1000][1000];
int b[1000];

int main()
{
  int n;
  cin>>n;
  for (int i=1;i<=n;i++)
    cin>>b[i];
  for (int j=1;j<=n;j++) {
    for (int i=j;i>=1;i--) {
      if (i==j) maneras[i][j]=1;
      else {
	for (int k=i;k<=j;k++) {
	  ll m1=1;
	  ll m2=1;
	  if (i<k) m1=maneras[i+1][k];
	  if (k<j) {
	    if (b[k+1]<b[i]) m2=0;
	    else m2=maneras[k+1][j];
	  }
	  maneras[i][j]=(maneras[i][j]+m1*m2)%modulo;
	}
      }
    }
  }
  if (n==1) cout<<1<<endl;
  else cout<<maneras[2][n]<<endl;
}
