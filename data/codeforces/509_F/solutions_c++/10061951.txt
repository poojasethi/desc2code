#include<bits/stdc++.h>
#define LL long long
using namespace std;
int n;
const int mod=1000000007;
LL a[505];
LL dp[505][505];
LL DP(int l,int r)
{
    if(l>=r)return dp[l][r]=1;
    if(dp[l][r]>=0)return dp[l][r];
    LL ans=0;
    for(int i=l+1;i<=r;i++)
        if(i==r||a[i+1]>a[l+1])
        ans=(ans+DP(l+1,i)*DP(i,r))%mod;
    return dp[l][r]=ans;
}
int main()
{
//  freopen("input.txt","r",stdin);
    while(scanf("%d",&n)==1)
    {
        for(int i=1;i<=n;i++)scanf("%I64d",&a[i]);
        memset(dp,-1,sizeof(dp));
        DP(1,n);
        cout<<dp[1][n]<<endl;
    }
    return 0;
}
