#include <cstdio>
#include <cstring>
#define ll long long
int const MAX = 505;
int const MOD = 1e9 + 7;
ll dp[MAX][MAX];
int b[MAX];

ll DFS(int l, int r) 
{
    ll ans = dp[l][r];
    if(ans >= 0) 
        return ans;
    if(l > r) 
        return 1;
    ans = 0;
    for(int i = l; i <= r; i++)
        if(i == r || b[l] < b[i + 1])
            ans = (ans + DFS(l + 1, i) * DFS(i + 1, r)) % MOD;  
    dp[l][r] = ans % MOD;
    return ans % MOD;
}

int main() 
{
    int n;
    scanf("%d", &n);
    for (int i = 0; i < n; i++)
        scanf("%d", &b[i]);
    memset(dp, -1, sizeof(dp));
    int res = DFS(1, n);
    printf("%d\n", res);
}
	   		 		 	   		 				 	 	  		 	