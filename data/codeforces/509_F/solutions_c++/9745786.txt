#include<cstdio>
#include<cstring>
using namespace std;
typedef long long ll;
int num[510];
ll dp[510][510],MOD=1e9+7;
int main()
{
    int n,i,j,k;
    scanf("%d",&n);
    for(i=1;i<=n;i++)
       scanf("%d",&num[i]);
    for(i=1;i<=n;i++)
       dp[i][i]=dp[i][i+1]=1;
    for(i=n;i>=1;i--)
       for(j=i+2;j<=n;j++)
          for(k=i+1;k<=j;k++)
            if(num[i+1]<num[k+1] || k==j)
              dp[i][j]=(dp[i][j]+dp[i+1][k]*dp[k][j])%MOD;
    printf("%I64d\n",dp[1][n]);
}
