#include <cstdio>

const int maxn = 500 + 5;
const long long MOD = 1e9 + 7;

long long f[maxn][maxn];
int b[maxn];

int main() {
    int n;
    scanf("%d", &n);
    for (int i = 0; i < n; i++)
        scanf("%d", &b[i]);
    for (int len = 0; len < n; len++)
        for (int i = 0; i + len < n; i++) {
            int j = i + len;
            if (len == 0) f[i][j] = 1LL;
            else for (int k = i + 1; k <= j; k++) 
                    if (k + 1 > j || b[i + 1] < b[k + 1])
                        f[i][j] = (f[i][j] + f[i + 1][k] * f[k][j]) % MOD;
        }
    printf("%I64d\n", f[0][n-1]);
    return 0;
}
