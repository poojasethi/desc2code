#include <bits/stdc++.h>

using namespace std;
#define NN 100010
int g[30][NN],rst[30],s[NN],mn[30][NN],cn[30][NN];
int gcd(int a,int b){
	if(!b) return a;
	return gcd(b,a%b);
}
inline int G(int l,int r){
	int i;
	for(i=0;rst[i]<r-l+1;i++);
	if(i) i--;
	return gcd(g[i][l],g[i][r-rst[i]+1]);
}
int calc(int l,int r,int x){
	int pt=l,i,ans=0;
	for(i=20;i>=0;i--){
		if(pt+rst[i]>r+1) continue;
		if(mn[i][pt]==x) ans+=cn[i][pt];
		pt+=rst[i];
	}
	return ans;
}
int main (){
//	freopen ("in.in","r",stdin);
	int t,l,r,n,i,j,k,ans,x;	
	scanf("%d",&n);
	for(i=0;i<n;i++) {
		scanf("%d",s+i);
	}
	for(i=0;i<n;i++) {
		g[0][i]=mn[0][i]=s[i];
		cn[0][i]=1;
	}
	rst[0]=1;
	for(i=1;i<20;i++) rst[i]=rst[i-1]*2;
	for(k=1;k<20;k++){
		for(i=0;i+(1<<k)<=n;i++){
			g[k][i]=gcd(g[k-1][i],g[k-1][i+rst[k-1]]);
			mn[k][i]=min(mn[k-1][i],mn[k-1][i+rst[k-1]]);
			if(mn[k][i]==mn[k-1][i]) cn[k][i]+=cn[k-1][i];
			if(mn[k][i]==mn[k-1][i+rst[k-1]]) cn[k][i]+=cn[k-1][i+rst[k-1]];
		}
	}
	scanf("%d",&t);
	for(i=0;i<t;i++){
		scanf("%d%d",&l,&r);
		l--;r--;
		x=G(l,r);
		ans=calc(l,r,x);
		printf("%d\n",r-l+1-ans);
	}
	return 0;
}
                            