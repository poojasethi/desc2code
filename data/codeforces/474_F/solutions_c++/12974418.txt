//In the Name of God
#include<iostream>
#include<vector>
#include<algorithm>
#define P push_back
#define R return
#define I int
#define lb lower_bound
#define ub upper_bound
#define X D[S].begin(),D[S].end(),x
using namespace std;
const I N=131072;
I n,q,a[N*2];
vector<I> D[N*2];
pair<I,I> p[100100];
inline I G(I x,I y){
  if(y==0)R x;R G(y,x%y);
}
inline I G(I S,I F,I L,I f,I l){
  if(F==f && L==l)R a[S];
  I m=(F+L)/2;
  if(l<=m)R G(S*2,F,m,f,l);
  if(m<f)R G(S*2+1,m+1,L,f,l);
  R G(G(S*2,F,m,f,m),G(S*2+1,m+1,L,m+1,l));
}
inline I C(I S,I F,I L,I f,I l,I x){
  if(F==f && L==l)R ub(X)-lb(X);
  I m=(F+L)/2;
  if(l<=m)R C(S*2,F,m,f,l,x);
  if(m<f)R C(S*2+1,m+1,L,f,l,x);
  R C(S*2,F,m,f,m,x)+C(S*2+1,m+1,L,m+1,l,x);
}
main(){
  ios_base::sync_with_stdio(0);
  cin>>n;
  for(I i=0;i<n;i++){
    cin>>p[i].first;
    p[i].second=i;
    a[N+i]=p[i].first;
    for(I j=(N+i)/2;j;a[j]=G(a[j*2],a[j*2+1]),j/=2);
  }
  sort(p,p+n);
  for(I i=0;i<n;i++)
    for(I j=N+p[i].second;j;D[j].P(p[i].first),j/=2);
  cin>>q;
  for(I l,r;q--;cin>>l>>r,cout<<r-l+1-C(1,1,N,l,r,G(1,1,N,l,r))<<endl);
}
