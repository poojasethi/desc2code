#include <bits/stdc++.h>
using namespace std;

#define pb push_back
#define mp make_pair
#define sz(a) (int)a.size()
#define ms(a, x) memset(a, x, sizeof a)
#define all(a) a.begin(), a.end()

typedef long long ll;
typedef pair<int,int> pt;

const int inf = 1<<30;
const int N = 1<<17;

int n, m, a[N], t[N<<1];
pt b[N];

int get(int l, int r) {
	l += N; r += N;
	int res = 0;
	while (l <= r) {
		if (l & 1) res = __gcd(res, t[l++]);
		if (!(r & 1)) res = __gcd(res, t[r--]);
		l >>= 1; r >>= 1;
	}
	return res;
}

int main() {
	#ifdef LOCAL
	freopen("a.in", "r", stdin);
	freopen("a.out", "w", stdout);
	#endif

	scanf("%d", &n);
	for (int i = 0; i < n; i++)
		scanf("%d", a + i);
	for (int i = 0; i < n; i++)
		t[N + i] = a[i];
	for (int i = N-1; i > 0; i--)
		t[i] = __gcd(t[i * 2], t[i * 2 + 1]);
	for (int i = 0; i < n; i++)
		b[i] = mp(a[i], i);
	sort(b, b + n);
	scanf("%d", &m);
	for (int i = 0, l, r; i < m; i++) {
		scanf("%d %d", &l, &r); l--; r--;
		int gcd = get(l, r);
		int cnt = r-l+1-(upper_bound(b, b + n, mp(gcd, r)) - lower_bound(b, b + n, mp(gcd, l)));
		printf("%d\n", cnt);
	}

	return 0;
}
