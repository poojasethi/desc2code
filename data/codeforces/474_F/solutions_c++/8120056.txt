#include <cstdio>
#include <vector>
#include <map>
using namespace std;
int a[100010];
int aa[20][100010];
int g[100010];
int l[100010], r[100010];
int ans[100010];
int gcd(int x, int y) {
	return y ? gcd(y, x%y) : x;
}
vector<int> in[100010], out[100010];
map<int, int> ma;
int main() {
	int n;
	scanf("%d", &n);
	for (int i = 0; i < n; i++) {
		scanf("%d", &a[i]);
		aa[0][i] = a[i];
	}
	for (int i = 0; i < 19; i++) {
		for (int j = 0; j < n - (1 << i); j++) {
			aa[i+1][j] = gcd(aa[i][j], aa[i][j+(1<<i)]);
		}
	}
	int m;
	scanf("%d", &m);
	for (int i = 0; i < m; i++) {
		scanf("%d%d", &l[i], &r[i]);
		--l[i];
		int k = 1;
		while ((r[i] - l[i]) >> k) k++;
		--k;
		g[i] = gcd(aa[k][l[i]], aa[k][r[i]-(1<<k)]);
		in[l[i]].push_back(i);
		out[r[i]].push_back(i);
	}
	for (int i = 0; i <= n; i++) {
		for (int j = 0; j < in[i].size(); j++) {
			int k = in[i][j];
			ans[k] -= ma[g[k]];
		}
		for (int j = 0; j < out[i].size(); j++) {
			int k = out[i][j];
			ans[k] += ma[g[k]];
		}
		ma[a[i]]++;
	}
	for (int i = 0; i < m; i++) {
		printf("%d\n", r[i] - l[i] - ans[i]);
	}
	return 0;
}
