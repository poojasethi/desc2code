#include<bits/stdc++.h>

#define FOR(a,b,c) for(int a=b;a<=c;a++)
#define ROF(a,b,c) for(int a=b;a>=c;a--)
#define pb push_back
#define mp make_pair
#define inf 2000000000
#define f first
#define s second
#define sqr(a) ((a)*(a))
#define ll long long
#define pii pair<int,int>
#define pdd pair<double,double>
#define foreach(itit,gg) for(typeof(gg.begin())itit=gg.begin();itit!=gg.end();itit++)

using namespace std;

int N,M;
int	Log[100005];
int R[100005][25];
int A[100005];
map<int,vector<int> > Map;
int gcd(int a,int b){
	return !b ? a :	gcd(b,a%b);
}
int cunt(int x,int y,int O){
	return upper_bound(Map[O].begin(),Map[O].end(),y) - lower_bound(Map[O].begin(),Map[O].end() , x) ; 
}
int main(){

	int p,q;
	Log[0] = -1; 
	FOR(i,1,100000)
	    Log[i] = Log[i-1] + (i == (i&-i));

	cin >> N;
	FOR(i,1,N){
		cin >> A[i];
		Map[A[i]].pb(i);
	}
	
	FOR(i,1,N)
		R[i][0] = A[i];
	for(int L = 1 ; (1<<L) <= N ; L++)
		for(int i = 1; i + (1<<L-1) <= N ; i++)
			R[i][L] = gcd(R[i][L-1] , R[i+(1<<(L-1))][L-1]);
	int u;
	cin >> M;
	while(M--){
		cin >> p >> q;
		u = q - p + 1;
		cout << u - cunt(p,q,gcd(R[p][Log[u]] , R[q - (1<<Log[u]) + 1][Log[u]] ) ) << endl;
	}
	return 0;
}
