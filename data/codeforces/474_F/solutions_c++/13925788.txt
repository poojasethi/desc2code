#include<cstdio>
#include<cmath>
#include<algorithm>
#include<vector>
#include<map>
#define pb push_back
#define N 100005
using namespace std;
map<int,int>M;
vector<int>v[N];int f[N][19];
int n,i,t,tot,x,y,num,L,R,m,P;
inline void ST()
{
  for (int j=1;j<=18;j++)
    for (int i=1;i<=n;i++)
    {
      f[i][j]=f[i][j-1];
      if (i+(1<<(j-1))<=n) f[i][j]=__gcd(f[i][j-1],f[i+(1<<(j-1))][j-1]);
    }
}
inline int ask_ST(int l,int r)
{
  int len=(int)log2(r-l+1);
  return __gcd(f[l][len],f[r-(1<<len)+1][len]);
}
int main()
{
  scanf("%d",&n);
  for (i=1;i<=n;i++) 
  {
    scanf("%d",&x);f[i][0]=x;
    if (!(t=M[x])) M[x]=t=++tot;
    v[t].pb(i);
  }
  scanf("%d",&m);ST();
  for (i=1;i<=m;i++)
  {
    scanf("%d%d",&x,&y);P=ask_ST(x,y);
    t=M[P];if (!t) {printf("%d\n",y-x+1);continue;}num=0;
    L=lower_bound(v[t].begin(),v[t].end(),x)-v[t].begin();
    R=upper_bound(v[t].begin(),v[t].end(),y)-(v[t].begin()+1);
    if (R>=L) num=R-L+1;printf("%d\n",y-x+1-num);
  }
  return 0;
}
