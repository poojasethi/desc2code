#include<bits/stdc++.h>
#define two(a) (1<<(a))
#define LINF (1ll<<61)
#define EPS (1e-14)
#define Lshift(a,b) (a<<b)
#define Rshift(a,b) (a>>b)
#define rep(a,b) for(a=0 ; a<b ; a++)
#define xrep(a,b,c) for(a=b ; a<c ; a++)
#define INF (1<<29)
#define swap(a,b) ( (a^=b) , (b^=a) , (a^=b) )
#define mod 1000000007
typedef long long ll;
using namespace std;

int mark[100011];
int num[100011];
int eat[100011];


int main() {
    int t, m, k, i, j, sel, dis;
    int flag, none, bnone, minx;
    for (cin >> t; t; t--) {
        flag = none = bnone = 0;
        minx = INF;

        scanf("%d%d", &m, &k);
        rep(i, k) {
            scanf("%d", &num[i]); 
            mark[i] = eat[i] = 0;
        }
        rep(i, m-1) {
            scanf("%d%d", &sel, &dis);
            if (dis && !flag) { 
                flag = true;
                bnone = none;
            }
            if (!sel) { none++; }
            else {
                sel--;
                if (flag) { mark[sel] = true; }
                num[sel]--;
            }
        }

        rep(i, k) {
            if (!mark[i] && num[i] <= bnone) {
                eat[i] = true;
                if (num[i] < minx) { minx = num[i]; }
            }
        }

        if (!flag) { minx = 0; }
        none -= minx;

        rep(i, k) {
            if (eat[i] || num[i] <= none) { printf("Y"); }
            else { printf("N"); }
        }
        puts("");
    }
}
