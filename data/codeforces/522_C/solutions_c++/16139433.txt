#include <bits/stdc++.h>
using namespace std;
const int N = 1e5+5;
int dish[N];
bool is[N];
int main(){
	int i,j,t,m,k,n,a,b;
	cin>>t;
	while(t--){
		cin>>m>>k;
		int mini=1e9,ind=0;
		for(i=1;i<=k;++i){
			scanf("%d",&dish[i]);
			is[i]=1;
			if(dish[i]<mini)
				mini=dish[i],ind=i;
		}
		bool zero=0;
		int rem=0,u;
		vector<pair<int,int> > v;
		while(--m){
			scanf("%d%d",&a,&b);
			if(b==1)
				if(!zero){
					zero=1;
					for(i=1;i<=k;++i){
						if(dish[i]<=rem)
							is[i]=0,v.push_back(make_pair(i,dish[i]));
					}
					assert(rem>=mini);
				}
			if(a==0)++rem;
			else{
				--dish[a];
				if(dish[a]==0)zero=1;
				if(!is[a])is[a]=1;
				mini = min(mini,dish[a]);
			}
		}
		mini = 1e9;
		for(i=0;i<v.size();++i){
			u=v[i].first;
			if(!is[u]){
				mini = min(mini,v[i].second);
			}
		}
		if(mini==1e9)mini=0;
		rem-=mini;
		for(i=1;i<=k;++i){
			if(dish[i]<=rem)is[i]=0;
			if(is[i])putchar('N');
			else putchar('Y');
		}
		putchar('\n');
	}
}
