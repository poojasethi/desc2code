#include <cstdio>
#include <set>
using namespace std;
int t, n, m;
int a[100005], x[100005], y[100005], p[100005];
#define inf 168430090

int main(){
    scanf("%d", &t);
    while (t--){
        scanf("%d%d", &n, &m);
        for (int i = 1; i <= m; ++ i){
            scanf("%d", &a[i]); 
        }
        int any = 0, first = -1;
        for (int i = 1; i < n; ++ i){
            scanf("%d%d", &x[i], &y[i]);
            if (first == -1 && y[i]){
                first = any;
                for (int i = 1; i <= m; ++ i){
                    p[i] = a[i];
                }
            }
            if (x[i] == 0) any ++;
            else a[x[i]] --;
        }
        int mini = inf;
        for (int i = 1; i <= m; ++ i){
            if (p[i] == a[i] && p[i] < mini) mini = p[i];
        }
        for (int i = 1; i <= m; ++ i){
            if (first == -1){
                if (any >= a[i]) printf("Y"); else printf("N");
            } else{
                if (any - mini >= a[i] || first >= p[i] && p[i] == a[i]) printf("Y");
                else printf("N");
            }
        }
        puts("");
    }
    return 0;
}