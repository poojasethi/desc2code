#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;
int ca,m,k,Min;
int a[100010],t[100010],r[100010];
bool yes[100010],vis[100010];
void read(){
    scanf("%d%d",&m,&k);
    for(int i=1;i<=k;i++){
        scanf("%d",a+i);
    }
    for(int i=1;i<=m-1;i++) scanf("%d%d",&t[i],&r[i]);
}
void work(){
    memset(yes,0,sizeof yes);
    memset(vis,0,sizeof vis);
    int zero=0;
    bool check=0;
    for(int i=1;i<=m-1;i++){
        if(r[i]==1){
            if(!check){
                check=1;
                Min=200000;
                for(int j=i;j<=m-1;j++) vis[t[j]]=1;
                for(int j=1;j<=k;j++){
                    if(!vis[j]) Min=min(Min,a[j]);
                }
                for(int j=1;j<=k;j++){
                    if(a[j]<=zero&&!vis[j]){
                        yes[j]=1;
                    }
                }
                zero-=Min;
            }
        }
        if(t[i]){
            a[t[i]]--;
            if(a[t[i]]==0) check=1;
        }else zero++;
    }
    for(int i=1;i<=k;i++){
        if(yes[i]||a[i]<=zero) printf("Y");
        else printf("N");
    }
    printf("\n");
}
int main(){
    scanf("%d",&ca);
    while(ca--){
        read();
        work();
    }
    return 0;
}
/*
2
7 3
3 2 2
0 0
0 0
0 0
0 1
2 0
3 0
6 3
3 2 2
0 0
0 0
0 0
2 1
3 0
*/
