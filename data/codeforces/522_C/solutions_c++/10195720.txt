#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int a[100001];
bool valids[100001];

int main()
{
	int T, m, k;
	cin>>T;
	for(int f = 0; f<T; f++)
	{
		cin>>m>>k;
		m--;
		for(int i = 1; i<=k; i++)
		{
			cin>>a[i];
		}
		a[0] = 0;
		int t, r;
		bool isEnded = false;
		vector<int> mayEnded;
		for(int i = 0; i<m; i++)
		{
			cin>>t>>r;
			if(r==1 && !isEnded)
			{
				isEnded = true;
				for(int j = 1; j<=k; j++)
					if(a[j]<=-a[0])
					{
						mayEnded.push_back(j);
						valids[j] = false;
					}
			}
			a[t]--;
			valids[t] = true;
		}

		if(mayEnded.size()>0)
		{
			int minCount = 100001;
			for(int i = 0; i<mayEnded.size(); i++)
				if(valids[mayEnded[i]]==false)
					minCount = min(minCount, a[mayEnded[i]]);
			for(int i = 0; i<mayEnded.size(); i++)
				if(valids[mayEnded[i]]==false)
					a[mayEnded[i]] -= minCount;
			a[0] += minCount;
		}

		for(int i = 1; i<=k; i++)
		{
			if(a[i]+a[0]>0)
				cout<<"N";
			else cout<<"Y";
		}
		cout<<endl;
	}
	return 0;
}