#include <iostream>
#include <algorithm>
#include <stdio.h>
#define forn(i, n) for (int i = 0; i < n; i++)

using namespace std;

int main()
{
	int tmp;
	cin >> tmp;
	while (tmp-- > 0) {
		int m, k, flag = 1;
		scanf("%d%d", &m, &k);
		int a[k], counter = 0, qw[k], oldcounter = 0;
		forn(i, k)
		scanf("%d", &a[i]);
		forn(i, m - 1) {
			int t, r;
			scanf("%d%d", &t, &r);
			if (r && flag) {
				forn(i, k)
				qw[i] = a[i];
				flag = 0;
				oldcounter = counter;
			}
			if (t == 0)
				counter++;
			else
				a[t - 1]--;
		}
		int f = 1, q = 0;
		if(!flag) {
			forn(i, k)
			if (qw[i] == a[i] && f) {
				q = i;
				f = 0;
				if(a[i] <= oldcounter)
					a[i] = 0;
			}
			else if (qw[i] == a[i] && qw[i] < qw[q])
			{
				q = i;
				if(a[i] <= oldcounter)
					a[i] = 0;
			}
			else if(qw[i] == a[i])
			{
				if(a[i] <= oldcounter)
					a[i] = 0;
			}
			counter -= qw[q];
			a[q] = 0;
		}
		forn(i, k)
		if (a[i] - counter <= 0)
			printf("Y");
		else
			printf("N");
		cout << endl;
	}
	return 0;
}