#include <bits/stdc++.h>

typedef long long ll;
typedef unsigned long long ull;

#define N 100005
#define inf 1000000009

using namespace std;

int m, k;
int a[N];
int t[N], r[N];
int cnt;
bool u[N];
bool H;
int num[N];

void solve() {
    memset(u, 0,sizeof(u));
    H = cnt = 0;
    cin>>m>>k;
    for (int i = 1; i <= k; i++)
        cin>>a[i];
    for (int i = 1; i < m; i++) {
        cin>>t[i]>>r[i];
        num[t[i]]++;
    }
    for (int i = 1; i < m; i++) {
        if (r[i] && !H) {
            H = 1;
            int mini = inf;
            for (int i = 1; i <= k; i++) {
                if (num[i] > 0)
                    continue;
                mini = min(mini, a[i]);
                if (cnt >= a[i])
                    u[i] = 1;
            }
            cnt -= mini;
        }
        if (t[i] == 0)
            cnt++;
        else {
            num[t[i]]--;
            a[t[i]]--;
            if (!a[t[i]])
                H = u[t[i]] = 1;
        }
    }
    for (int i = 1; i <= k; i++) {
        if (cnt >= a[i])
            u[i] = 1;
        if (!u[i])
            cout<<"N";
        else
            cout<<"Y";
    }
    cout<<endl;
}

int main()
{
    int t;
   cin>>t;
    while(t--)
        solve();
    return 0;
}
