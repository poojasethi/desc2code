#include<iostream>
#include<cstdio>
#include<string>
#include<cstring>
#include<vector>
#include<cmath>
#include<queue>
#include<stack>
#include<map>
#include<set>
#include<assert.h>
#include<algorithm>
using namespace std;
const int INF=1000000000;
const int N=100005;
int T,n,m,i,j,x[N],y[N],last[N],ans[N];
int add,a[N],e,ok;


int main()
{scanf("%d",&T);
 while(T--){
    scanf("%d%d",&m,&n);
    m--;
    for(i=1;i<=n;i++)scanf("%d",&a[i]),ans[i]=last[i]=0;
    add=ok=e=0;
    for(i=1;i<=m;i++){
        scanf("%d%d",&x[i],&y[i]);
        if(!x[i])add++;
        last[x[i]]=i;
    }
    for(i=1;i<=m;i++){

        if(!ok && y[i]){
            ok=1;
            int op=INF;

            for(j=1;j<=n;j++)
                if(last[j]<i && a[j]<=e){
                    op=min(op,a[j]);
                    ans[j]=1;
                }
            if(op==INF)assert(0);
            add-=op;
        }
        if(x[i])a[x[i]]--;else e++;
    }
    for(i=1;i<=n;i++)
        if(a[i]-add<=0)ans[i]=1;

    for(i=1;i<=n;i++)
        if(ans[i])printf("Y");else printf("N");
    printf("\n");
 }
 return 0;
}
