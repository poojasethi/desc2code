#include <iostream>
#include <algorithm>
using namespace std;

int t, m, i, k, dis, sum, sum1, mini, a[100005], d[100005], r[100005];
bool b[100005];

main()
{
    cin>>t;
    while (t--)
    {
        dis = 0; sum = 0; sum1 = 0; mini = 100001;
        cin>>m>>k;
        for (i=1; i<=k; i++) 
        {
        cin>>a[i]; b[i] = false; 
        }
        for (i=1; i<m; i++) { 
        cin>>d[i]>>r[i];
         if (!dis && r[i]) 
        dis = i; 
        }
        if (!dis)
        {
            for (i=1; i<m; i++) if (d[i]) a[d[i]]--; else sum++;
            for (i=1; i<=k; i++) if (sum>=a[i]) cout<<"Y"; else cout<<"N";
            cout<<endl;
        } else
        {
            for (i=1; i<dis; i++) if (d[i]) a[d[i]]--; else sum++;
            for (i=dis; i<m; i++) if (d[i]) { b[d[i]]=true; a[d[i]]--; } else sum1++;
            for (i=1; i<=k; i++) if (!b[i] && sum>=a[i] && a[i]<mini) mini = a[i];
            for (i=1; i<=k; i++) if (!b[i] && sum>=a[i]) a[i] -= mini;
            sum = sum - mini + sum1;
            for (i=1; i<=k; i++) if (sum>=a[i]) cout<<"Y"; else cout<<"N";
            cout<<endl;
        }
    }
}     