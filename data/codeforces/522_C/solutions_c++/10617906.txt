#include<stdio.h>
#include<string.h>
#include<iostream>
#include<algorithm>
using namespace std;
int a[100005],b[100005],c[100005],ans[100005],lef[100005];
int n,m;

int main(void){
	int t,i,j;
	scanf("%d",&t);
	while(t--){
		scanf("%d%d",&m,&n);
		for(i=1;i<=n;i++) scanf("%d",&a[i]);
		int first=-1,num=0;
		for(i=1;i<m;i++){
			scanf("%d%d",&b[i],&c[i]);
			if(first==-1 && c[i]) first=i;
			if(first==-1 && !b[i]) num++;
			if(b[i]) a[b[i]]--;
		}
		memset(ans,0,sizeof(ans));
		memset(lef,0,sizeof(lef));
		if(~first){
			for(i=first;i<m;i++) lef[b[i]]=1;
			int k=-1;
			for(i=1;i<=n;i++){
				if(!lef[i] && a[i]<=num){
					if(k==-1 || a[k]>a[i]) k=i;
					ans[i]=1;
				}
			}
			num-=a[k];
			for(i=first;i<m;i++)
				if(!b[i]) num++;
		}
		for(i=1;i<=n;i++) if(a[i]<=num) ans[i]=1;
		for(i=1;i<=n;i++) 
			if(ans[i]) putchar('Y');
			else putchar('N');
		puts("");
	}
	return 0;
}

