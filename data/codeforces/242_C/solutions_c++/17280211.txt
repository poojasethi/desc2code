#include <iostream>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <queue>
#include <algorithm>
#include <map>
using namespace std;

map< pair<int,int> ,int> d;
queue< pair<int,int> > q;

int sx,sy,ex,ey,n,l,r,h;
int dx[]={-1,-1,-1,0,1,1,1,0};
int dy[]={-1,0,1,1,1,0,-1,-1};



int main()
{
	scanf("%d %d %d %d %d",&sx,&sy,&ex,&ey,&n);
	for(int i=0;i<n;i++)
	{
		scanf("%d %d %d",&h,&l,&r);
		for(int j=l;j<=r;j++)
			d[pair<int,int>(h,j)]=-1;
	}

	d[pair<int,int>(sx,sy)]=0;
	q.push(pair<int,int>(sx,sy));


	while(q.size())
	{
		pair<int,int> u=q.front();
		q.pop();
		for(int i=0;i<8;i++)
		{
			pair<int,int> v=pair<int,int>(u.first+dx[i],u.second+dy[i]);
			if(d.count(v)&&d[v]==-1)
				d[v]=d[u]+1,q.push(v);
		}
	}


	printf("%d",d[pair<int,int>(ex,ey)]);
	return 0;
}
