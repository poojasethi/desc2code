#include <cstdio>
#include <map>
#include <utility>
#define mp make_pair
#define X first
#define Y second
using namespace std;

map< pair<int,int>,bool > a,b;
int n,x0,y0,x1,y1,dst[100100];
pair<int,int> lin[100100];

int main() {
	scanf("%d%d%d%d",&x0,&y0,&x1,&y1);
	scanf("%d",&n);
	for (int i=1;i<=n;++i) {
		int k,l,r;
		scanf("%d%d%d",&k,&l,&r);
		for (int j=l;j<=r;++j) a[mp(k,j)]=true;
	}
	int l=1,r=1;
	lin[1]=mp(x0,y0);
	b[mp(x0,y0)]=true;
	for (;l<=r;++l)
		for (int dx=-1;dx<=1;++dx)
			for (int dy=-1;dy<=1;++dy) {
				int x=lin[l].X+dx;
				int y=lin[l].Y+dy;
				if ((x<1)||(y<1)||(x>1000000000)||(y>1000000000)) continue;
				if ((x==x1)&&(y==y1)) {printf("%d\n",dst[l]+1);return 0;}
				if ((a[mp(x,y)])&&(!b[mp(x,y)]))
					b[mp(x,y)]=true,lin[++r]=mp(x,y),dst[r]=dst[l]+1;
			}
	printf("-1\n");
	return 0;
}
