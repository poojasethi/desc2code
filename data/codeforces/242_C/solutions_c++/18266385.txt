#include<bits/stdc++.h>
using namespace std;
#define pi pair<int,int>
#define S second
#define F first
#define mk make_pair
#define pb push_back
set<pi> allowed;
map<pi,int> dist;
int main() {
	int x2,y2,x1,y1,n;
	cin >> x1 >> y1 >> x2 >> y2 >> n;
	while(n--) {
		int r,a,b;
		cin >> r >> a >> b;
		for(int i=a;i<=b;i++) {
			allowed.insert(mk(r,i));
		}
	}
	queue<pi> q;
	dist[mk(x1,y1)]=0;
	q.push(mk(x1,y1));
	while(!q.empty()) {
		pi top = q.front();
		int x = top.F;
		int y = top.S;
		int cost = dist[mk(x,y)];
		q.pop();
		for(int i=-1;i<=1;i++) 
		{
			for(int j=-1;j<=1;j++) {
				pi new_t = mk(x+i,y+j);
				if(dist.count(new_t) || !allowed.count(new_t))
					continue;
				q.push(new_t);
				dist[new_t]= cost+1;
			}
		}
		
	}
	if(!dist.count(mk(x2,y2)))
		cout << "-1" << endl;
	else
		cout << dist[mk(x2,y2)] << endl;
	return 0;
}
