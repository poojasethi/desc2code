#include<bits/stdc++.h>
using namespace std;
#define mp make_pair
map < pair<int,int> ,int> ma;
pair<int,int> pa;
int  main()
{
	int srcx,srcy,destx,desty,n,i,r,a,b,j;
	scanf("%d%d%d%d",&srcx,&srcy,&destx,&desty);
	scanf("%d",&n);
	for(i=0;i<n;i++)
	{
		scanf("%d%d%d",&r,&a,&b);
		for(j=a;j<=b;j++)
		ma[mp(r,j)]=0;
	}
	queue <pair<int,int> > qu;
	qu.push(mp(srcx,srcy));
	ma[mp(srcx,srcy)]=1;
	int ne[9][2]={1,0,1,1,0,1,-1,1,-1,0,-1,-1,0,-1,1,-1};
	while(!qu.empty())
	{
		pa=qu.front();
		qu.pop();
		for(i=0;i<8;i++)
		{
			int x,y;
			x=pa.first+ne[i][0];
			y=pa.second+ne[i][1];
			if(ma.find(mp(x,y))==ma.end())
				continue;
			else if(ma[mp(x,y)]>0)
				continue;
			else
			{
				ma[mp(x,y)]=ma[mp(pa.first,pa.second)]+1;
				qu.push(mp(x,y));
			}
		}
	}
	printf("%d\n",ma[mp(destx,desty)]-1);
}