//By momo
#include <set>
#include <map>
#include <queue>
#include <cstdio>
#include <vector>
#include <algorithm>
#define F first
#define S second
#define MP make_pair
using namespace std;
typedef pair<int,int> PII;

queue<PII> q;
set<PII> che;
map<PII, int> st;
int xx[8] = {0, 0, 1, -1, 1, -1, 1, -1};
int yy[8] = {1, -1, 0, 0, 1, -1, -1, 1};

int main (){
	int sx, sy, ex, ey, n;
	scanf("%d%d%d%d%d", &sx, &sy, &ex, &ey, &n);
	for(int i = 0; i < n; i++){
		int r, a, b; scanf("%d%d%d", &r, &a, &b);
		for(int j = a; j <= b; j++) che.insert(MP(r, j));
	}
	q.push(MP(sx, sy)); st[MP(sx, sy)] = 1;
	while(!q.empty()){
		PII p = q.front(); q.pop();
		for(int i = 0; i < 8; i++){
			PII x = MP(p.F+xx[i], p.S+yy[i]);
			if(st[x] == 0 && che.count(x))
				q.push(x), st[x] = st[p] + 1;
		}
	}
	printf("%d\n", st[MP(ex, ey)]-1);
}
