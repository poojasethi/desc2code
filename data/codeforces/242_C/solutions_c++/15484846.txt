#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cmath>
#include<map>
#include<queue>
#define mp make_pair
using namespace std;

long j,xs,xf,ys,yf,i,n,r,a,b;

map <pair<long,long>,long>m;
queue <pair<long,long> >q;
pair <long,long> p,pp;
long dx[]={1,1,0,-1,0,-1,1,-1};
long dy[]={0,1,1,0,-1,1,-1,-1};

int main(){
// freopen("input.txt","r",stdin);
// freopen("output.txt","w",stdout);
 cin >> xs >> ys >> xf >> yf;
 cin >> n;
 for (i=1;i<=n;i++){
  cin >> r >> a >> b;
  for (j=a;j<=b;j++)
  m[mp(r,j)]=-1;
 }
 m[mp(xs,ys)]=0;
 q.push(mp(xs,ys));
 while (!q.empty()){
  p=q.front();
  q.pop();
  if (p==mp(xf,yf)){cout << m[p]; return 0;}
  for (i=0;i<8;i++){
   pp=mp(p.first+dx[i],p.second+dy[i]);
   if (m[pp]==-1)
   {m[pp]=m[p]+1;q.push(pp);}
  }
 }
 cout << -1;
 return 0;
}
