#include<iostream>
#include<map>
#include<queue>

using namespace std;
int x[]={-1,-1,-1,0,0,1,1,1},y[]={-1,0,1,-1,1,-1,0,1};
int main()
{
map<pair<int,int>,int> m;
queue<pair<int,int> > v;
int x0,x1,y0,y1,n,r,a,b;
cin>>x0>>y0>>x1>>y1>>n;
for(int i=1;i<=n;++i)
{
    cin>>r>>a>>b;
    for(int j=a;j<=b;++j) m[make_pair(r,j)]=9999999;
}
m[make_pair(x0,y0)]=1;
v.push(make_pair(x0,y0));
while(!v.empty())
{
    x0=v.front().first;
    y0=v.front().second;
    v.pop();
    for(int i=0;i<8;++i)
    {
        if(m[make_pair(x0+x[i],y0+y[i])]==9999999)
        {
            m[make_pair(x0+x[i],y0+y[i])]=m[make_pair(x0,y0)]+1;
            v.push(make_pair(x0+x[i],y0+y[i]));
        }
    }
}
if(m[make_pair(x1,y1)]==9999999) 
    cout<<-1;
else 
    cout<<m[make_pair(x1,y1)]-1;
return 0;
}