#include <iostream>
#include <queue>
#include <map>
#include <cstdio>
#define N 100002
using namespace std;
int x, y, x2, y2, n;
int dx[8] = { -1, -1, -1, 0, 1, 1, 1, 0 };
int dy[8] = { -1, 0, 1, 1, 1, 0, -1, -1 };
queue< pair<int, int> >q;
map< pair<int, int>, int > M;
int main(){
	scanf("%d%d%d%d%d", &x, &y, &x2, &y2, &n);
	for (int i = 0; i < n; i++){
		int r,l, ri;
		scanf("%d%d%d", &r, &l, &ri);
		for (int j = l; j <= ri; j++)
			M[make_pair(r, j)] = -1;
	}
	q.push(make_pair(x, y));
	M[make_pair(x, y)] = 0;
	while (!q.empty()){
		pair<int, int>x = q.front();
		q.pop();
		for (int i = 0; i < 8; i++){
			pair<int, int>xi = make_pair(x.first + dx[i], x.second + dy[i]);
			if (M.count(xi) && M[xi] == -1){
				M[xi] = M[x] + 1;
				q.push(xi);
			}
		}
	}
	printf("%d", M[make_pair(x2, y2)]);
	//system("pause");
}

