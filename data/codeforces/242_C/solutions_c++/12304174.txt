#include <bits/stdc++.h>

using namespace std;
#define f(i, n) for (int i = 0; i < (int)(n); i++)
#define mp make_pair
#define F first
#define S second
typedef long long ll;
typedef pair<int,int> pi;
map<pi, int> vis;
int x,xx,y,yy,lvl;

int dr[]={-1,-1,-1,0,1,1,1 ,0 };
int dc[]={-1,0 ,1 ,1,1,0,-1,-1};

void bfs(pi s){
  queue<pi> q;
  q.push(s);
  vis[s]=0;
  while(!q.empty()){
   pi p=q.front();
   q.pop();

   f(i,8){
     pi h= mp(p.F+dr[i],p.S+dc[i]);
   if(vis[h]==-1){
    vis[h]=vis[p]+1;
    q.push(h);
    if(h.F==xx && h.S==yy){lvl=vis[h]; return;}
   }
   }

  }

}

int main()
{
    int n,r,a,b;
    cin>>x>>y>>xx>>yy>>n;
    f(i,n){
    cin>>r>>a>>b;
    for(int j=a; j<=b; j++)
        vis[mp(r,j)]=-1;
    }

    bfs(mp(x,y));
    cout<<(lvl==0?-1:lvl)<<endl;
    return 0;
}
