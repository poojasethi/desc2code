#include <iostream>
#include <cstring>
#include <cstdio>
#include <cstdlib>
#include <map>
#include <set>
#include <queue>

using namespace std;

int n, sx, sy, tx, ty;

set<pair<int, int> > S;
queue<pair<int, int> > Q;
map<pair<int, int>, int> T;


int main()
{
	cin>>sx>>sy>>tx>>ty>>n;
	for(int i=1; i<=n; i++)
	{
		int l, x, y;
		cin>>l>>x>>y;
		for(int i=x; i<=y; i++)
			S.insert(make_pair(l, i));
	}
	Q.push(make_pair(sx, sy));
	T[make_pair(sx, sy)]=0;
	while(!Q.empty())
	{
		pair<int, int> u=Q.front(); Q.pop();
		if(u==make_pair(tx, ty)) { cout<<T[u]<<endl; return 0; }
		for(int i=-1; i<=1; i++)
			for(int j=-1; j<=1; j++)
			{
				pair<int, int > v(u.first+i, u.second+j);
				if(S.find(v)!=S.end() && T.find(v)==T.end()) Q.push(v), T[v]=T[u]+1;
			}
	}
	cout<<-1<<endl;
	return 0;
}
				     					  	 			  	  	