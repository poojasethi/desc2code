#include<iostream>
#include<stdio.h>
#include<map>
#include<queue>
using namespace std;
typedef pair<int,int> P;
map<P,int>m;
int dx[]={1,-1,0,0,-1,-1,1,1},dy[]={0,0,1,-1,1,-1,1,-1};  
int main(){
	int sx,sy,ex,ey;
	int n;
	int r,a,b;
	int x,y;
	int nx,ny;
	scanf("%d%d%d%d",&sx,&sy,&ex,&ey);
	scanf("%d",&n);
	for(int i=0;i<n;++i){
		scanf("%d%d%d",&r,&a,&b);
		for(int j=a;j<=b;++j) m[P(r,j)]=-1;
	}
		m[P(sx,sy)]=0; m[P(ex,ey)]=-1;
	queue<P>que;
	que.push(P(sx,sy));
	while(que.size()){
		 x=que.front().first;
		 y=que.front().second;
		 //cout<<x<<" "<<y<<" "<<m[P(x,y)]<<endl;
		 if(x==ex&&y==ey) break;
		 que.pop();
		for(int i=0;i<8;++i){
			nx=x+dx[i];
			ny=y+dy[i];
			if(m[P(nx,ny)]==-1){
				m[P(nx,ny)]=m[P(x,y)]+1;
				que.push(P(nx,ny));
			}
		}
	}
	printf("%d\n",m[P(ex,ey)]);
	
}
 		   	 		 	 			 			 			 	    	