#include<iostream>
#include<stdio.h>
#include<queue>
#include<set>
#include<map>

using namespace std;
#define MP make_pair
typedef pair <int,int> pii;
set <pii> s;
map<pii, int> d;
int x0,y0,x1,y1;
int main()
{
//freopen("input.txt","r",stdin);
//freopen("o.txt","w",stdout);
int r,a,b,n;
cin>>x0>>y0>>x1>>y1;
cin>>n;
for (int i=0; i<n;i++)
{ cin>>r>>a>>b;
  for (int j=a;j<=b;j++) s.insert(MP(r,j));
}
queue <pii> q;
q.push(MP(x0,y0));
d[MP(x0,y0)]=0;
while (q.size()>0)
 {
  pii u=q.front();
  int temp=d[u];
  q.pop();
  for(int i=-1;i<=1; i++)
   for(int j=-1;j<=1; j++)
   {
    int x=u.first+i;
    int y=u.second+j;
    if (!d[MP(x,y)]&&s.count(MP(x,y)))
       { pii v=MP(x,y);
         q.push(v);
         d[v]=temp+1;
        }
    }
  }
if (!d[MP(x1,y1)]) cout<<-1; else cout<<d[MP(x1,y1)];
return 0;
}
