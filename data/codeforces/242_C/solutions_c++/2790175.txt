#include <iostream>
#include <queue>
#include <map>
#include<cstdio>
#define rep(i,n) for(int i=0;i<n;i++)
#define pi       pair<int,int>
#define ll       long long
using namespace std;
int dx[] = {1,1,0,-1,-1,-1,0,1};
int dy[] = {0,-1,-1,-1,0,1,1,1};
int n,bx,by,ex,ey,r,a,b;
queue< pi > q;
map<pi,ll> m;
int main(){
  cin>>bx>>by>>ex>>ey>>n;
  rep(i,n){
    cin>>r>>a>>b;
    for(int j = a;j<=b;j++)m[make_pair(r,j)] = 1e18;
  }
  q.push(make_pair(bx,by));
  m[make_pair(bx,by)] = 0;

  while(q.size()){
    pi  p = q.front();q.pop();
    int d = m[p];
    rep(i,8){
      int nx = p.first + dx[i];
      int ny = p.second + dy[i];
      pi  np = make_pair(nx,ny);
      if(d+1 < m[np]){  m[np] = d+1;q.push(np);}
    }
  }
  cout<<(m[make_pair(ex,ey)]==1e18?-1:m[make_pair(ex,ey)])<<endl;

  return 0;

}
