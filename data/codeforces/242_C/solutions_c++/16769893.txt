#include <bits/stdc++.h>
using namespace std;
map<pair<int,int>,int> mp;
queue<pair<int,int> > q;
int dx[] = {1,-1,0,0,1,-1,-1,1};
int dy[]= {0,0,1,-1,1,-1,1,-1};
int main(){
	int x0,y0,x1,y1; cin >> x0 >> y0 >> x1 >> y1;
	int n; cin >> n;
	for(int i = 0 ; i < n ; i++){
		int r,x,y; cin >> r >> x >>y;
		for(int j = x ; j <= y ; j++){
			mp[make_pair(r,j)] = -1;
		}
	}
	q.push(make_pair(x0,y0)); mp[make_pair(x0,y0)]=0;
	while(q.size()){
		pair<int,int> u = q.front(); q.pop();
		for(int i = 0 ; i < 8 ; i++){
			int x = u.first+dx[i];
			int y = u.second+dy[i];
			if(mp.count(make_pair(x,y)) && mp[make_pair(x,y)] == -1){
				q.push(make_pair(x,y));
				mp[make_pair(x,y)] = mp[u]+1;
			}
		}
	}
	cout << mp[make_pair(x1,y1)] << endl;
}

