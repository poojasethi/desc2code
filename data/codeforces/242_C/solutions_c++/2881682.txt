#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
#include <queue>
#include <map>
using namespace std;

typedef pair<int,int> ii;

int dx[]={-1,1,-1,1,0,0,1,-1};
int dy[]={-1,1,1,-1,1,-1,0,0};

int x0,x1,y0,y1,n,r,a,b;
map<ii,int> m;
queue<ii> q;

int main(){

  scanf("%d %d %d %d %d",&x0,&y0,&x1,&y1,&n);
  for(int i=0;i<n;i++){
    scanf("%d %d %d",&r,&a,&b);
    for(int j=a;j<=b;j++)
      m[ii(r,j)]=0;
  }

  if(m.find(ii(x0,y0))==m.end()){
    printf("-1\n");
    return 0;
  }

  q.push(ii(x0,y0));
  while(!q.empty()){
    ii e = q.front(); q.pop();
    if(e==ii(x1,y1)){
      printf("%d\n",m[e]);
      return 0;
    }
    for(int i=0;i<8;i++){
      ii p=ii(e.first+dx[i],e.second+dy[i]);
      if(m.find(p)!=m.end() and m[p]==0){
        m[p]=m[e]+1;
        q.push(p);
      }
    }
  }
  printf("-1\n");

  return 0;
}
