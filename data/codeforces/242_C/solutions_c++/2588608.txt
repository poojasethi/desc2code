#include <iostream>
#include <queue>
#include <map>

#define rep(i,n) for(int i=0;i<n;i++)
#define mp(a,b)  make_pair(a,b)
#define pi       pair<int,int>
#define ll       long long

using namespace std;

int dx[] = {1,1,0,-1,-1,-1,0,1};
int dy[] = {0,-1,-1,-1,0,1,1,1};

int n,bx,by,ex,ey,r,a,b;
queue< pi > q;
map<pi,ll> m;

int main(){

  cin>>bx>>by>>ex>>ey>>n;
  rep(i,n){
    cin>>r>>a>>b;
    for(int j = a;j<=b;j++)m[mp(r,j)] = 1e18;
  }
  q.push(mp(bx,by));
  m[mp(bx,by)] = 0;
  
  while(q.size()){
    pi  p = q.front();q.pop();
    int d = m[p];
    rep(i,8){
      int nx = p.first + dx[i];
      int ny = p.second + dy[i];
      pi  np = mp(nx,ny);
      if(d+1 < m[np]){  m[np] = d+1;q.push(np);}
    }
  }
  cout<<(m[mp(ex,ey)]==1e18?-1:m[mp(ex,ey)])<<endl;

  return 0;

}


