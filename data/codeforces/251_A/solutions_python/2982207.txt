##
# File Name: 251A.py
# Created Time:  2013/1/22 14:13:41
# Author: iyixiang
# Description: 2013-01-22 14:24:00
# Last Modified: 2013-01-22 14:30:28
##

n, d = map(int, raw_input().split())
x = map(int, raw_input().split())
i , j, ans = 0, 2, 0

while j < n:
    if x[j] - x[i] <= d:
        m = j - i
        ans += m*(m-1)/2;
        j += 1
    else:
        i += 1
print(ans)



