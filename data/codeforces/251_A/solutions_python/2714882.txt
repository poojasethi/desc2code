s = raw_input().split(" ")
n, m = int(s[0]), int(s[1])
s = raw_input().split(" ")
a = [int(s[i]) for i in range(0, n)]
ans = 0
j = 1
for i in range(0, n - 2):
    j = max(j, i + 1)
    while j + 1 < n and a[j + 1] - a[i] <= m:
        j = j + 1
    ans += (j - i) * (j - i - 1) / 2
print ans