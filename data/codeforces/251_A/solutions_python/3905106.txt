I=lambda:map(int,raw_input().split())
n,d=I()
x=I()+[1e11]
z=r=0
for b in range(len(x)):
 while x[b-z]+d<x[b]:z-=1
 r+=z*~-z/2;z+=1
print r
