n,d = map(int,raw_input().split())
x = map(int,raw_input().split())
j = 0
ans = 0
for i in range(n):
    while x[i]-x[j] > d:
        j+=1
    ans += (i-j)*(i-j-1)/2
print ans