#include<bits/stdc++.h>
#define ll long long
using namespace std;
ll ans=0;
int main()
{
ll n,d;
cin>>n>>d;
int i,x[n],j=0;
for(i=0;i<n;++i)
cin>>x[i];
for (i=0;i<n;i++) {
    while (x[i]-x[j] > d) j++;
    ans += (long long)(i-j)*(i-j-1)/2;
    }
    cout<<ans;
return 0;
}