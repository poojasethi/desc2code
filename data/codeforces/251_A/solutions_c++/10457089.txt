#include <iostream>
#include<algorithm>
using namespace std;
long long a[1000005],i,k,n,j,m,sum;
int main ()
{
cin>>n>>m; //wertilebi da dashoreba

for(i=0;i<n;i++)
	cin>>a[i];
for(i=0;i<n;i++){
 while (a[i]-a[j]>m) j++;
 
 sum+=(i-j)*(i-j-1)/2;}

cout<<sum;
//system("pause");
return 0;
}