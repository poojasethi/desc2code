#include<iostream>
using namespace std;
long long a[100000], n, x, r, l, ans, i;
int main()
{
    cin>>n>>x;
    for(i=0;i<n;i++)cin>>a[i];
    r=2;
    while(r<n)
    {
        while((a[r]-a[l])>x)
            l++;
        ans+=((r-l)*(r-l-1))/2;
        r++;    
    }
    cout<<ans<<endl;
}