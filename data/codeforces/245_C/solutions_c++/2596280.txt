#include<cstdio>

short n,i,j,k;
int a[1111];
int ans;

int main()
{
    scanf("%hd",&n);
    if(n<3 || n%2==0)
        puts("-1");
    else
    {
        for(i=1;i<=n;++i)
            scanf("%d",a+i);
        for(i=n;i>=1;--i)
            if(a[i]>0)
            {
                ans+=a[i];
                a[i^1]-=a[i];
                a[i>>1]-=a[i];
            }
        printf("%d\n",ans);
    }
    return 0;
}
