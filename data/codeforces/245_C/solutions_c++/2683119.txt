#include <iostream>
#include <cstdio>
#include <vector>
#include <map>
#include <set>
#define pb push_back
using namespace std;
int main()
{
 vector<int> x;
 int n,i,m,o=0;
 cin>>n;
 if(n%2==0||n==1){cout<<"-1";return(0);}
 for(i=0;i<n;i++)
 {
  cin>>m;
  x.pb(m);
 }
 for(i=n/2-1;i>=0;i--)
 {
  while(x[i*2+1]>0||x[i*2+2]>0)
  {x[i]--;x[i*2+1]--;x[i*2+2]--;o++;}
 }
 if(x[0]>=0){o+=x[0];}
 cout<<o;
}