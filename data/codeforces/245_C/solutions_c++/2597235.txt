#include <cstdio>

int n,ans,a[110];

int main() {
	scanf("%d",&n);
	for (int i=1;i<=n;++i) scanf("%d",&a[i]);
	if ((!(n&1))||(n==1)) {printf("-1\n");return 0;}
	for (int i=n/2;i;--i)
		while ((a[i+i]>0)||(a[i+i+1]>0)) {
			--a[i];
			--a[i+i];
			--a[i+i+1];
			++ans;
		}
	if (a[1]>0) ans+=a[1];
	printf("%d\n",ans);
	return 0;
}
