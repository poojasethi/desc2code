#include <iostream>
#include <cmath>

#define rep(i,n) for(int i=1;i<=n;i++)

using namespace std;

int n,a[110],r,k;

int main(){

  cin>>n;
  rep(i,n)cin>>a[i];

  if(n<=2 || n%2==0 ){cout<<-1<<endl;return 0;}

  while(n>1){
    k      = max(a[n-1],a[n]);
    a[n/2] = max(a[n/2]-k,0); 
    n-=2;
    r+=k;
  }
  r+=(a[1]>0?a[1]:0);

  cout<<r<<endl;

  return 0;

}
