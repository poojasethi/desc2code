#include<iostream>
using namespace std;
int main(){
    int n,a[1001],d=0,s=0,t;
    cin>>n;
    if(n%2&&n>=3){
        for(int i=1;i<=n;i++)
            cin>>a[i],s+=a[i];
        for(int i=n;i>=1;i-=2)
            t=max(0,max(a[i],a[i-1])),a[(i-1)/2]-=t,d+=t;
        cout<<d;
    }
    else
        cout<<"-1";
}