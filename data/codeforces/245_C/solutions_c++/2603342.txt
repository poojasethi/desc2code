#include <iostream>
#include <cstring>
#include <cstdio>
#include <cmath>
using namespace std;
#define M 110
int s[M],n;

int main(){
	while(cin>>n){
		for(int i=1;i<=n;i++)	cin>>s[i];
		if(n<3||n%2==0){
			cout<<"-1"<<endl;
			continue;
		}
		int k=0;
		for(int i=n;i>0;i-=2){
			int ll=max(s[i],s[i-1]);
			k+=ll;
			s[i/2]-=ll;
			if(s[i/2]<0)
				s[i/2]=0;
		}
		cout<<k<<endl;
	}
	return 0;
}
