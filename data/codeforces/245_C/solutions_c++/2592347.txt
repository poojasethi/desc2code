#include<iostream>
using namespace std;
int num[105];
int main(){
	int n;
	cin >> n;
	for(int i = 1; i <= n; i++) cin >> num[i];
	if((~n&1) || n==1) {cout<<-1<<endl;return 0;}
	int ans = 0;
	for(int i = n; i>1; i-=2) if(num[i] > 0 || num[i-1] > 0) {
		int v = max(num[i],num[i-1]);
		num[i] -= v; num[i-1] -=v; num[i/2] -= v; ans += v;
	}
	if(num[1] > 0) ans += num[1];
	cout<< ans << endl;
}
