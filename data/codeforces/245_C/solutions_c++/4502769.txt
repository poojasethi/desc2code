#include <iostream>
#include <stdio.h>
using namespace std;
int main()
{//freopen("i.txt","r",stdin);
int n; cin>>n;
if (n<=2||n%2==0) {cout<<-1; return 0;}
int a[1015]={0};
for (int i=1;i<=n;i++) cin>>a[i];

int ans=0;
 for (int i=n/2;i>=0;i--)
  { int k=max(a[2*i],a[2*i+1]);a[2*i]=0;a[2*i+1]=0;
    ans+=k;a[i]=max(a[i]-k,0);
  }
cout<<ans;
return 0;
}
