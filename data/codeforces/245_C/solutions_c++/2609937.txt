#include<stdio.h>
#include<string.h>
#define M 105
int A[M]={0},cnt[M]={0},ans=0,n;
void dfs(int x){
	if(2*x>n)return;
	dfs(2*x);
	dfs(2*x+1);
	int a=A[2*x]>A[2*x+1]?A[2*x]:A[2*x+1];
	ans+=a;
	A[x]-=a;
	if(A[x]<0)A[x]=0;
}
int main(){
	int i,j,k;
	scanf("%d",&n);
	for(i=1;i<=n;i++)
		scanf("%d",&A[i]);
	if(n==1||n%2==0){
		puts("-1");
		return 0;
	}
	dfs(1);
	ans+=A[1];
	printf("%d\n",ans);
	return 0;
}