#include<cstdio>
int x[1001];
int main()
{
	int n,t;
	while(scanf("%d",&n)==1)
	{
		t=0;
		for(int i=1;i<=n;i++) scanf("%d",&x[i]);
		if(n==1||n%2==0) 
		{
			printf("-1\n");
			continue;
		}
		for(int j=n;j>=3;j=j-2)
		{
			while(x[j]>0||x[j-1]>0)
			{
				x[j]--;
				x[j-1]--;
				x[(j-1)/2]--;
				t++;
			}
		}
		if(x[1]>0) t+=x[1];
		printf("%d\n",t);
	}
}
