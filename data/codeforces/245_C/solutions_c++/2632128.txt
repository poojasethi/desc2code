#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <iostream>
using namespace std;

const int MAXN = 110;

int n, a[MAXN], CC;

int main()
{
	cin >> n;
	if (n == 1 || n % 2 == 0) puts("-1"), exit(0);
	for (int i = 1; i <= n; i ++) cin >> a[i];
	for (int i = n; i >= 1; i -= 2)
		for (; a[i] > 0 || a[i - 1] > 0; a[i] --, a[i - 1] --, a[i / 2] --, CC ++);
	cout << CC << endl;
	return 0;
}
