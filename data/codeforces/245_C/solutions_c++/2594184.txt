#include<iostream>
using namespace std;

int a[10000];

int main()
{
		int n;
		int c = 0;
		cin >> n;
		for(int i=1; i <= n; i++)
				cin >> a[i];
		if(n <= 2 ||(n%2==0 && a[n]!=0))
		{
				cout << -1 << endl;
				return 0;

		}

		for(int i=n; i >= 0; i--)
				while(a[i] > 0)
				{
						int x = i/2;
						a[x]--;
						a[2*x]--;
						a[2*x+1]--;
						c++;
				}
		cout << c << endl;
		return 0;
}
