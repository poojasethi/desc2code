#include<iostream>
#include<cstdio>
using namespace std;
int f[105];
int main(){
    int n; cin>>n;
    for(int i=1;i<=n;++i) cin>>f[i];
    if(n%2==0||n==1) {
        cout<<-1<<endl; return 0;
    }
    int ans=0;
    for(int i=n;i>=1;i-=2){
        int k=max(f[i],f[i-1]);
        ans+=k;
        f[i]=f[i-1]=0;
        f[i/2]-=min(f[i/2],k);
    }
    cout<<ans<<endl;
    return 0;
}
	  	 	 	  	 	  		   				 	