#include<cstdio>
#include<algorithm>
using namespace std;

int n, det, ans;
int a[111];

int main() {
	scanf("%d", &n);
	for(int i=1;i<=n;i++) scanf("%d", &a[i]);
	if(n%2==0 || n<3) {
		printf("-1\n");
		return 0;
	}
	ans=0;
	for(int i=n;i>0;i-=2) {
		det = max(a[i], a[i-1]);
		ans += det;
		a[i/2] = max(0, a[i/2]-det);
	}
	printf("%d\n", ans);
	
	return 0;
}