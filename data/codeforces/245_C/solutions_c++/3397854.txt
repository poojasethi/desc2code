#include<stdio.h>
int n,a[101],ans=0;
int max(int a,int b) {return a>b? a:b;}
int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;++i) scanf("%d",&a[i]);
    if(n%2==0 || n<3) {printf("-1\n");return 0;}
    for(int j=n;j>=3;j-=2)
        {
            ans+=max(a[j],a[j-1]);
            a[j/2]=max(0,a[j/2]-max(a[j],a[j-1]));
        }
    printf("%d\n",ans+a[1]);
    return 0;
}

  			 			   	 			  	   	 	