#include <iostream>
#include <algorithm>
using namespace std;

const int MAXN=1000+10;
int n, a[MAXN];

int main(){
	int n;
	cin>>n;
	for (int i=1; i<=n; i++) 
		cin>>a[i];
	if (n<3 || n%2==0){
        	cout<<-1<<endl;
        	return 0;
	}
	int ans=0;
	for (int i=n; i>0; i-=2){
		int x=max(a[i], a[i-1]);
		ans+=x;
		a[i/2]-=x;
		if (a[i/2]<0)
			a[i/2]=0;
	}
	cout<<ans<<endl;
	return 0;
}
