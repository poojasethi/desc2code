n = input()
a = [0] + map(int, raw_input().split())

if n < 3 or (n - 1) % 2 != 0:
    print -1
else:
    c = 0
    for i in xrange((n - 1) // 2, 0, -1):
        d = max(a[2 * i], a[2 * i + 1])
        c += d
        a[i] = max(0, a[i] - d)
    print c + a[1]
    

            

    
