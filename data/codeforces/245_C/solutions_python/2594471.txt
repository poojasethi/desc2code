N = int(raw_input())
data = [None] + map(int,raw_input().split())[:N]


if N<3 or (N-1)%2!=0 :
	print -1
else :
	total = 0
	for i in xrange((N-1)/2, 0, -1):
		sacar = max(data[2*i], data[2*i+1])
		total += sacar
		data[i] = max(0, data[i]-sacar)
	total += data[1]
	print total

	
