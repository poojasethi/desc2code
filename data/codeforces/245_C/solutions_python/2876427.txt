n=m=input()
a=map(int,raw_input().split())
b=0
while n>2:n-=2;t=max(a[n],a[n+1]);b+=t;a[n/2]-=min(a[n/2],t)
print b+a[0]if m>2 and m%2 else-1
