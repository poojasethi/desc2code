N = int(raw_input())
numCoins = [0] + map(int, raw_input().split())
moves = 0

if N % 2 == 0 or N < 3:
    print -1
else:
    for i in range(N, 0, -1):
        x = i / 2
        currCoins = numCoins[i]
        if currCoins == 0:
            continue
        numCoins[x] = max(0, numCoins[x] - currCoins)
        numCoins[2 * x] = max(0, numCoins[2 * x] - currCoins)
        numCoins[2 * x + 1] = max(0, numCoins[2 * x + 1] - currCoins)
        moves += currCoins
    print moves
