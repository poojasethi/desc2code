n = input()
a = [-1] + map(int, raw_input().split())
if n == 1 or n % 2 == 0:
    print -1
else:
    ans = 0
    for i in xrange(n / 2, 0, -1):
        tem = max(a[i * 2], a[i * 2 + 1])
        ans += tem
        a[i] = max(0, a[i] - tem)
        a[i * 2], a[i * 2 + 1] = 0, 0
    print ans + a[1]