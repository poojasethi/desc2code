def test( chests ):
    if len(chests) < 3 or len(chests)%2 == 0:
        return -1
    dp = [0] + chests
    i = len(dp)-1
    cnt = 0

    while True:
        if i <= 1:
            cnt += dp[1]
            break
        m = max(dp[i], dp[i-1])
        dp[i/2] -= m
        cnt += m

        dp[i/2] = max(dp[i/2], 0)
        i -= 2

    return cnt
    
s = raw_input()
s = raw_input()
print test(map(int, s.split()))