import sys
sys.setrecursionlimit(10000)

n=input()
a=map(int,raw_input().split())
a.insert(0,0)

def solve(a):
  if n==1 or n%2==0:
    return -1
  res = 0
  for x in range((n-1)/2,0,-1):
    t = max(a[2*x],a[2*x+1])
    a[x] = max(0,a[x]-t)
    a[2*x] = 0
    a[2*x+1] = 0
    res += t
  res += a[1]
  return res

print solve(a)
