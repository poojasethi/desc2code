n = int(raw_input())
data = list(map(int, raw_input().split()))

if n%2 ==0 or n == 1:
    print '-1'
else:
    ans = 0
    data = [0]+data
    for i in xrange(n,0,-1):
        if data[i]:
            ans += data[i]
            if i%2:
                data[i-1] = max(0,data[i-1]-data[i])
                data[(i-1)/2] = max(0,data[(i-1)/2]-data[i])
            else:
                data[i/2] = max(0,data[i/2]-data[i])
    print ans
