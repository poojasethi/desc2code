N = int(raw_input())
coins = [0] + map(int, raw_input().split())

if N < 3 or N % 2 == 0:
    print -1
else:
    moves = 0
    for i in range (N / 2, 0, -1):
        currMoves = max(coins[i * 2], coins[i * 2 + 1])
        moves += currMoves
        coins[i] = max(0, coins[i] - currMoves)
        coins[i * 2], coins[i * 2 + 1] = 0, 0
    print moves + coins[1]
