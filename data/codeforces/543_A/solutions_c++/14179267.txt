#include <stdio.h>

int N, M, B, MOD;
int dp[510][510];

int main() {
  scanf("%d%d%d%d", &N, &M, &B, &MOD);
  for (int i = 0; i <= B; i++)
    dp[0][i] = 1;
  for (int i = 1; i <= N; i++) {
    int a;
    scanf("%d", &a);
    for (int j = 0; j <= M; j++)
      for (int k = a; k <= B; k++)
        dp[j][k] = (dp[j-1][k-a]+dp[j][k])%MOD;
  }
  printf("%d\n", dp[M][B]);
  return 0;
}
