#include <cstdio>
#define FOR(i, a, b) for(int i = a; i <= b; i++)
int N, M, B, MOD, A[501], dp[2][501][501];
int main() {
  scanf("%d%d%d%d", &N, &M, &B, &MOD);
  FOR(i, 1, N) scanf("%d", A + i);
  FOR(b, 0, B) dp[0][b][0] = dp[1][b][0] = 1;
  FOR(n, 1, N) FOR(b, 0, B) FOR(m, 1, M)
    dp[n&1][b][m]=(dp[n-1&1][b][m]+(A[n]>b?0:dp[n&1][b-A[n]][m-1]))%MOD;
  printf("%d\n", dp[N & 1][B][M]);
}
