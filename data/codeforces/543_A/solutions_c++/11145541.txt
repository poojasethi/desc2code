#include<cstdio>
#define FO(i,a,b) for (int i = a; i < b; i++)
int n,m,b,mod,c[502][502],a;

int main(void){
	int l,k;
	scanf("%d %d %d %d\n",&n,&m,&b,&mod);
	FO(i,0,502) c[0][i] = 1;
	FO(i,0,n){
		scanf("%d\n",&a);
		FO(l,1,502) FO(k,a,502)  c[l][k] = (c[l][k] + c[l-1][k-a])%mod; 
	}
	printf("%d\n",c[m][b]);
return 0;
}
