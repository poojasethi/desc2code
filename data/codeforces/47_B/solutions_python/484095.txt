ins = sorted( map(lambda x: x[2] if x[1] == '>' else x[0], [raw_input() for _ in range(3)]))
print 'Impossible' if ins == ['A', 'B', 'C'] else ''.join(sorted('ABC', cmp = lambda x, y: ins.count(y) - ins.count(x)))
