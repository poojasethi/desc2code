A=set()
r=0
while(1):
	try:
		s=raw_input()
	except:
		break
	if(s[0]=='+'):
		A.add(s[1:])
	elif(s[0]=='-'):
		A.remove(s[1:])
	else:
		s=s.split(':')
		if(len(s)==2):
			r+=len(s[1])*len(A)
print r
