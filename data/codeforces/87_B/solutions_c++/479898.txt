#include <cstdio>
#include <cstring>
#include <algorithm>
#include <string>
#include <map>
using namespace std;

string er = "errtype";
map < string, string > f;

string gao(char *s) {
	int c = 0, n = strlen(s);
	string a = "";
	for (int i = 0; i < n; ++i)
		if (s[i] == '&') --c;
		else if (s[i] == '*') ++c;
		else a += s[i];
	if (a == er) return er;
	if (a == "void") {
		if (c < 0) return er;
		for (int i = 0; i < c; ++i)
			a += "*";
		return a;
	} else if (f.find(a) == f.end())
		return er;
	else {
		a = f[a];
		if (a == er) return er;
		for (int i = 0; i < a.size(); ++i)
			if (a[i] == '&') --c;
			else if (a[i] == '*') ++c;
		a = "void";
		if (c < 0) return er;
		for (int i = 0; i < c; ++i)
			a += "*";
		return a;
	}
}

int main() {
	int t;
	scanf("%d", &t);
	while (t--) {
		char op[10];
		scanf("%s", op);
		if (op[4] == 'd') {
			char a[100], b[100];
			scanf("%s %s", a, b);
			f[b] = gao(a);
		} else {
			char s[100];
			scanf("%s", s);
			puts(gao(s).c_str());
		}
	}
	return 0;
}
