#include <iostream>
#include <vector>
#include <string>
#include <algorithm>
#include <map>

#define REP(i,n) for(int i=0;i<int(n);++i)
#define REV(i,n) for(int i=(n)-1;i>=0;--i)
#define ALL(c) (c).begin(), (c).end()

using namespace std;

int main() {
	map<string, int> types;
	int n;
	cin >> n;
	types.insert(make_pair("void", 0));
	types.insert(make_pair("errtype", -1));
	REP(i,n){
		string s, t, u;
		cin >> s >> t;
		int ref = t.find_first_not_of("&");
		int ptr = t.size() - 1 - t.find_last_not_of("*");
		t = t.substr(ref, t.size() - ptr - ref);
		types.insert(make_pair(t, -1));
		int k = types[t];
		if (k >= 0) k += ptr - ref;
		if (s == "typedef"){
			cin >> u;
			types[u] = k;
		}else{
			cout << (k >= 0 ? "void" : "errtype");
			REP(i,k) cout << '*';
			cout << endl;
		}
	}

	return 0;
}
