#include <iostream>
#include <cstdio>
#include <string>
#include <map>
#include <cctype>

using namespace std;

const int ERR = -(1 << 29);

int N;
map<string, int> depth;	//depth of the ****'s

int getp (string a)
{
	string alpha;
	int d = 0;
	for (int i = 0; i < a.length(); i++)
	{
		char c = a[i];
		if (isalpha(c))
			alpha += c;
		else
			d += ((c == '*') ? 1 : -1);
	}
	map<string, int>::iterator it = depth.find(alpha);
	if (it == depth.end())
		return ERR;
	else
		d += depth[alpha];
	if (d < 0)
		d = ERR;
	return d;
}

int main()
{
#ifndef ONLINE_JUDGE
	freopen("codeforces87B.in", "r", stdin);
#endif
	cin >> N;
	depth["void"] = 0;
	depth["errtype"] = ERR;
	for (string op, a, b; N--; )
	{
		cin >> op >> a;
		int gp = getp(a);
		if (op[4] == 'd')
		{
			cin >> b;
			//take the alpha from a
			depth[b] = gp;
		}
		else
		{
			if (gp < 0)
				cout << "errtype";
			else
			{
				cout << "void";
				for (int i = 0; i < gp; i++)
					cout << '*';
			}
			cout << '\n';
		}
	}
	return 0;
}