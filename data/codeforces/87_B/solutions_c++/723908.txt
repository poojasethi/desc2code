#include <map>
#include <set>
#include <cmath>
#include <stack>
#include <queue>
#include <string>
#include <vector>
#include <fstream>
#include <sstream>
#include <stdio.h>
#include <ctype.h>
#include <string.h>
#include <iostream>
#include <algorithm>
using namespace std;
#define li       	long long int
#define rep(i,to)	for(li i=0;i<((li)(to));i++)
#define pb       	push_back
#define sz(v)    	((li)v.size())
#define bit(n)   	(1ll<<(li)(n))



int main(){
	li n;
	cin>>n;
	map<string,li> mp;
	mp["void"]=0;
	rep(i,n){
		string str,base;
		cin>>str>>base;
		li pre=count(base.begin(),base.end(),'&');
		li suf=count(base.begin(),base.end(),'*');
		base=base.substr(pre,sz(base)-pre-suf);
		if(str=="typeof"){
			if(mp.find(base)==mp.end() || mp[base]==-1 || mp[base]-pre+suf<0){
				cout<<"errtype"<<endl;
			}else{
				cout<<"void";
				rep(j,mp[base]-pre+suf) cout<<"*"; cout<<endl;
			}
			continue;
		}
		cin>>str;
		if(mp.find(base)==mp.end() || mp[base]==-1 || mp[base]-pre+suf<0){
			mp[str]=-1;
		}else{
			mp[str]=mp[base]-pre+suf;
		}
	}
}
