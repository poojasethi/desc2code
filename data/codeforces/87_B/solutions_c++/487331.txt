#include<cstdio>
#include<string>
#include<iostream>
#include<map>
#include<cassert>
using namespace std;

int main()
{
	int N;
	cin >> N;
	
	map<string,int> M;//stores numbers of * for a type
	M["void"] = 0;
	M["errtype"] = -1;
	
	while(N--)
	{
		string type,src;
		cin >> type >> src;
		
		int stars;
		int i;
		string name = "";
		int sz = src.length();
		int amp = 0,star = 0;
		
		for(i=0;i<sz;i++)
		{
			if(src[i] != '&')
			break;
			amp++;
		}
		
		for(;i<sz;i++)
		{
			if(src[i] == '*')
			break;
			name += src[i];
		}
		
		for(;i<sz;i++)
		{
			assert(src[i] == '*');
			star++;
		}
		
		//decide stars
		if(M.find(name) == M.end() || M[name] == -1)
		stars = -1;
		else
		{
			star += M[name];
			if(star >= amp)
			stars = star-amp;
			else
			stars = -1;
		}
		
		
		if(type == "typeof")
		{
			if(stars == -1)
			printf("errtype\n");
			else
			{
				printf("void");
				for(int i=0;i<stars;i++)
				printf("*");
				printf("\n");
			}
		}
		else
		{
			string dest;
			cin >> dest;
			//update dest
			M[dest] = stars;
		}
	}
	return 0;
}
