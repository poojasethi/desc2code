#include <iostream>
#include <cstdio>
#include <map>
#include <string>
#include <cstring>
#include <algorithm>
#include <cstdlib>
#include <vector>

using namespace std;

int main() {
	
	map <string,int> tipo;
	
	int n;
	cin>>n;
	tipo["void"]=0;
	for (int i=0;i<n;++i){
		
		string s1,s2;
		
		cin>>s1>>s2;
		int amper=count(s2.begin(),s2.end(),'&');
		int aster=count(s2.begin(),s2.end(),'*');
		
		string final(s2.begin()+amper, s2.end()-aster);
		
		if (s1=="typeof"){
			
			if (tipo.count(final)==0 || tipo[final]+aster-amper<0 || tipo[final]<0)
				cout<<"errtype\n";
				
			else{
				cout<<"void";
				for (int i=0;i< tipo[final]+aster-amper;++i)
					cout<<"*";
				
				cout<<endl;
			}
			
		}else{
			
			string s3;
			cin>>s3;
			if (tipo.count(final)==0 || tipo[final]+aster-amper<0 || tipo[final]<0)
				tipo[s3]=-1;
				
			else
				tipo[s3]=tipo[final]+aster-amper;
			
		}
		
	}
	
	return 0;
}