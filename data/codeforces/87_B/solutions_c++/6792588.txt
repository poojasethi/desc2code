#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
#include <queue>
#include <stack>
#include <set>
#include <map>
#include <cmath>
#include <numeric>
#include <algorithm>
#include <sstream>

#define INF 0x3f3f3f3f
#define NINF -0x3f3f3f3f

using namespace std;

typedef pair<int,int> pii;

int main (int argc, char const* argv[])
{
	ios::sync_with_stdio(false);
	
	int n;
    cin >> n;
    
    map<string,int> m;
    string a,b,c,base;

    m["void"] = 0;
    m["errtype"] = -1;

    while(n--)
    {
        cin>>a>>b;

        int f = b.find_first_not_of('&');
        int l = b.find_last_not_of('*');
        string base = b.substr(f,l-f+1);

        int lvl;

        if(m.count(base) == 0 || m[base] < 0)
            lvl = -1;
        else
            lvl = m[base] - f + b.size() - l - 1;

        if(a[4] == 'o') {
            cout << (lvl < 0 ? "errtype" : "void");
            for(int j=0; j<lvl; ++j)
                cout<<"*";
            cout << endl;
        } else {
            cin >> c;
            m[c] = lvl;
        }
    }
    
	return 0;
}
