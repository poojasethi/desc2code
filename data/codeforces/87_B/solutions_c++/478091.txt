#include <string>
#include <map>
#include <iostream>
using namespace std;

map<string, int> a;
const int NOVALUE = -1;
string globalname;
int gettype(string s) {
	int i, j, p;
	string name;
	for(i=0;i<s.size();i++)
		if(s[i]!='&') break;
	for(j=0;j<s.size();j++)
		if(s[s.size()-1-j]!='*') break;
	name = s.substr(i, s.size()-i-j);
	globalname = name;
	if (name == "void") p = j - i;
	else {
		if (a.count(name) ==0 || a[name]==NOVALUE)
			return NOVALUE;
		p = a[name] + j - i;
	}
	if (p < 0) return NOVALUE;
	else return p;
}

int main(void) {
	int n;
	cin >> n;
	while(n--) {
		string c, type, name;
		cin >> c;
		if (c.size()==7) { //typedef
			cin >> type >> name;
			int p = gettype(type);
			a[name] = p;
			//cerr << globalname << endl;
		} else { //typeof
			cin >> name;
			int p = gettype(name);
			if (p == NOVALUE)
				cout << "errtype" << endl;
			else {
				cout << "void";
				for(int i=0;i<p;i++)
					cout << "*";
				cout << endl;
			}
		}
	}
	return 0;
}
