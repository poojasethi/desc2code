#include<cstdio>
#include<map>
#include<string>
#include<algorithm>
using namespace std;

map<string,int> h;
int n;
char s1[10000],s2[10000],o[100];

int main()
{
	//freopen("input.txt","r",stdin);

	h["void"]=0;
	h["errtype"]=-1;

	for (scanf("%d",&n);n--;)
	{
		scanf("%s%s",o,s1);
		if (o[4]=='d')
		{
			scanf("%s",s2);
			string name="",xxx="";
			int a=0,b=0;
			for (int i=0;s1[i];i++)
			if (s1[i]=='&') a++;else
			if (s1[i]=='*') b++;
			else name+=s1[i];
			for (int i=0;s2[i];i++) xxx+=s2[i];
			
			if (!h.count(name))
			{
				h[xxx]=-1;
				continue;
			}
			if (h[name]<0) a=10000000;
			b+=h[name];
			b-=a;
			if (b<0) h[xxx]=-1;
			else h[xxx]=b;
		} else
		{
			string name="";
			int a=0,b=0;
			for (int i=0;s1[i];i++) 
			if (s1[i]=='&') a++;else
			if (s1[i]=='*') b++;
			else name+=s1[i];
			if (!h.count(name)) printf("errtype\n");else
			{
				if (h[name]==-1) printf("errtype\n");
				else
				{
					b+=h[name];b-=a;
					if (b<0) printf("errtype\n");
					else
					{
						printf("void");
						for (int i=0;i<b;i++) printf("*");
						printf("\n");
					}
				}
			}
		}
	}
}