E='errtype'
d={'void':'void',E:E}
def T(s):return filter(lambda x:x!='&' and x!='*',s)
def V(s):
  a,b=s.count('&'),s.count('*')
  if a>b:return E
  return E if T(s)==E else s[a:len(s)-a]
for _ in range(input()):
  v=raw_input().split()
  if 'typeof'==v[0]:
    s=T(v[1])
    if s in d:
      print V(v[1].replace(s,d[s]))
    else: 
      print E
  else:
    s=T(v[1])
    if s!=E and s in d:
      d[v[2]]=V(v[1].replace(s,d[s]))
    else:
      d[v[2]]=E