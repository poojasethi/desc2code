n = input()
V,E = 'void','errtype'
t = {V:0,E:None}
def gt(s):
    c = s.count('*')-s.count('&')
    r = s.replace('*','').replace('&','')
    r = t.get(r,None)
    if r is not None: r+=c
    if r<0: r=None
    return r

for _ in xrange(n):
    s = raw_input().split()
    op = s[0]
    if op=="typedef": t[s[2]]=gt(s[1])
    else:
        r = gt(s[1])
        if r is None: print E
        else: print V+'*'*r