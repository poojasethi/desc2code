#include <cstdio>
#include <cstdlib>
#define P 1000000007
using namespace std;

int n,x;
int cnt,next[200001],son[200001],ed[200001],c[200001];
long long f0[200001],f1[200001];

void add(int x,int y)
{
	next[++cnt]=son[x]; son[x]=cnt; ed[cnt]=y;
}

void dfs(int u)
{
	if (c[u]) f1[u]=1; else f0[u]=1;
	for (int j=son[u];j;j=next[j])
	{
		int v=ed[j];
		dfs(v);
		f1[u]=(f1[u]*f0[v]%P+f1[u]*f1[v]%P+f0[u]*f1[v]%P)%P;
		f0[u]=(f1[v]*f0[u]%P+f0[v]*f0[u]%P)%P;
	}
}

int main()
{
	scanf("%d",&n);
	for (int i=2;i<=n;i++)
	{
		scanf("%d",&x); x++;
		add(x,i);
	}
	for (int i=1;i<=n;i++) scanf("%d",&c[i]);
	dfs(1);
	printf("%I64d\n",f1[1]);
}

