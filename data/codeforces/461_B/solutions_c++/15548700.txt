#include<bits/stdc++.h>
using namespace std;
#define N 100005
#define LL long long int
const int mod=1e9+7;
vector<int>a[N];
int color[N];
LL dp[N][2];
void dfs(int rt)
{
    dp[rt][color[rt]]=1;
    for(int i=0;i<a[rt].size();i++){
        int to=a[rt][i];
        dfs(to);
        dp[rt][1]=(dp[rt][1]*dp[to][1]%mod+dp[rt][0]*dp[to][1]%mod+dp[rt][1]*dp[to][0]%mod)%mod;
        dp[rt][0]=(dp[rt][0]*dp[to][0]%mod+dp[rt][0]*dp[to][1]%mod)%mod;
    }
}
int main()
{
    int n,t;
    scanf("%d",&n);
    for(int i=1;i<n;i++){
        scanf("%d",&t);
        a[t].push_back(i);
    }
    for(int i=0;i<n;i++){
        scanf("%d",&color[i]);
    }
    dfs(0);
    printf("%I64d\n",dp[0][1]);
    return 0;
}
