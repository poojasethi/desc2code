#include<stdio.h>
#include<vector>
#define M 1000000007
using namespace std;
vector<int> e[100000];
int c[100000];
long long dp[100000][2];

void dfs(int v){
    dp[v][0]=0;
    dp[v][1]=0;
    dp[v][c[v]]=1;
    for(int i=0;i<e[v].size();i++){
        int u=e[v][i];
        dfs(u);
        long long v1=dp[v][0]*(dp[u][1]+dp[u][0])%M;
        long long v2=(dp[v][0]*dp[u][1]+dp[v][1]*(dp[u][1]+dp[u][0]))%M;
        dp[v][0]=v1;dp[v][1]=v2;
    }
}

int main(){
    int n,i;
    scanf("%d",&n);
    for(i=1;i<n;i++){
        int p;
        scanf("%d",&p);
        e[p].push_back(i);
    }
    for(i=0;i<n;i++)scanf("%d",&c[i]);
    dfs(0);
    printf("%I64d\n",dp[0][1]);
    return 0;
}