# include <bits/stdc++.h>
using namespace std;
# define fi cin
# define fo cout
int s[100005];
long long dp[100005][2];
int main(void)
{
    const int mod = 1e9 + 7;
    int n;
    ios_base :: sync_with_stdio(0);
    fi>>n;
    for (int i = 1;i < n;++i) fi>>s[i];
    for (int i = 0,x;i < n;++i) fi>>x,dp[i][x] = 1;
    for (int i = n-1;i;--i)
    {
            dp[s[i]][1] = (dp[s[i]][1] * (dp[i][0] + dp[i][1]) + dp[s[i]][0] * dp[i][1]) % mod;
            dp[s[i]][0] = (dp[s[i]][0] * (dp[i][0] + dp[i][1])) % mod;
    }
    return fo << dp[0][1] << '\n',0;
}
	  	 	   	 	 		  		  		 	 		 		