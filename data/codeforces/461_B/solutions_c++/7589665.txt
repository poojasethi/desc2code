#include <iostream>
using namespace std;
typedef long long ll;

const ll mod = 1000000007;

ll n;
ll p[100000];
ll c[100000];

ll x[100000];
ll y[100000];
ll pro[100000];


int main(){
	cin >> n;
	p[0] = -1;
	for(int i=1; i<n; i++) cin >> p[i];
	for(int i=0; i<n; i++) cin >> c[i];
	
	for(int i=0; i<n; i++) pro[i] = 1;
	
	for(int i=n-1; i>=0; i--){
		if(c[i] == 1){ //black
			x[i] = pro[i];
			y[i] = 0;
		}else{//white
			y[i] = pro[i];
		}
		
		if(p[i] >= 0){
			x[p[i]] = (((x[i] * pro[p[i]])%mod) + ((((x[i] + y[i])%mod) * x[p[i]])%mod))%mod;
			pro[p[i]] = (pro[p[i]] * ((x[i] + y[i])%mod))%mod;
		}
	}
	
	cout << x[0];
	return 0;
}
