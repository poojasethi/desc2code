#include<bits/stdc++.h>
using namespace std;
const int N=1e5+2;
int n,m,x[N];
long long d[N][2];
const int mod=1e9+7;
vector<int> a[N];
void dfs(int u){
    d[u][0]=1;
    d[u][1]=0;
    for(int i=0;i<a[u].size();++i){
        int v=a[u][i];
        dfs(v);
        d[u][1]=(d[u][0]*d[v][1]+d[u][1]*d[v][0])%mod;
        d[u][0]=(d[u][0]*d[v][0])%mod;
    }
    if(x[u]) d[u][1]=d[u][0];
    else d[u][0]+=d[u][1];
}
int main(){
    //freopen("fr.cpp","r",stdin);
    cin>>n;
    for(int i=1;i<n;++i){
        int p;
        cin>>p;
        a[p].push_back(i);
    }
    for(int i=0;i<n;++i) cin>>x[i];
    dfs(0);
    cout<<d[0][1];
}
