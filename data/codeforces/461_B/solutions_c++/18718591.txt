#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define mod 1000000007
vector<int> graph[100005];
ll dp0[100005], dp1[100005];
int color[100005];
int main() {
	int i,j,n;
	cin >> n;
	for(int i=0;i<n-1;i++) {
		int p;
		scanf("%d",&p);
		graph[p].push_back(i+1);
	}
	for(int i=0;i<n;i++)
		scanf("%d",&color[i]);
	for(int i=n-1;i>=0;i--) {
		ll z=0, o=0;
		if(color[i]==0)
			z++;
		if(color[i]==1)
			o++;
		int f = graph[i].size();
		for(int j=0;j<f;j++) {
			int v = graph[i][j];
			ll z2 = (z*dp1[v] + z*dp0[v])%mod;
			ll o2 = (o*dp1[v] + z*dp1[v] + o*dp0[v])%mod;
			z = z2;
			o = o2;
		}
		dp0[i]=z;
		dp1[i] = o;
	}
	cout << dp1[0] << endl;
	return 0;
}

