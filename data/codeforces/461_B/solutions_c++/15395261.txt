#include <iostream>
using namespace std;
#define N 100005
#define MOD 1000000007
long long p[N],dp[N][2];
int main()
{
    int n,x;
    cin>>n;
    for (int i=1;i<n;i++) cin>>p[i];
    for (int i=0;i<n;i++) cin>>x,dp[i][x]=1;
    for (int i=n-1;i>0;i--){
        dp[p[i]][1] = (dp[p[i]][1]*(dp[i][1]+dp[i][0])+dp[p[i]][0]*dp[i][1])%MOD;
        dp[p[i]][0] = (dp[p[i]][0]*(dp[i][1]+dp[i][0]))%MOD;
    }
    cout<<dp[0][1]<<endl;
    return 0;
}
   	  	   	  	     	  	 		 			