#include <cstdio>

using namespace std;

int co[200020], ne[200020], so[200020], mod = 1e9 + 7, f[200020], g[200020];

void dfs(int u)
{
    if (co[u])
        g[u] = 1;
    else
        f[u] = 1;
    for (int i = so[u]; i; i = ne[i])
    {
        dfs(i);
        g[u] = (((long long)g[u] * (f[i] + g[i])) % mod + (g[i] * (long long)f[u]) % mod) % mod;
        f[u] = ((long long)f[u] * (f[i] + g[i])) % mod;
    }
}

int main()
{
    int n;
    scanf("%d", &n);
    for (int i = 2; i <= n; ++i)
    {
        int x;
        scanf("%d", &x); x++;
        ne[i] = so[x]; so[x] = i;
    }
    for (int i = 1; i <= n; ++i)
        scanf("%d", &co[i]);
    dfs(1);
    printf("%d\n", g[1]);
    return 0;
}
