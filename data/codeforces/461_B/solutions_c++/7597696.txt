#include<bits/stdc++.h>
using namespace std;

const int mod=1000000007;
vector<int> v[100005];
bool f[100005];
int dp[100005][2];

void dfs(int x)
{
	int i,j=v[x].size(),y;
	long long x0,x1,y0,y1;
	dp[x][f[x]]=1;
	for(i=0;i<j;i++)
	{
		dfs(y=v[x][i]);
		x0=dp[x][0],x1=dp[x][1],y0=dp[y][0],y1=dp[y][1];
		dp[x][0]=(x0*y0+x0*y1)%mod;
		dp[x][1]=(x0*y1+x1*y0+x1*y1)%mod;
	}
}

int main()
{
	int n,i,a;
	for(scanf("%d",&n),i=1;i<n;i++)
		scanf("%d",&a),v[a].push_back(i);
	for(i=0;i<n;i++)
		scanf("%d",&a),f[i]=a;
	dfs(0);
	printf("%d\n",dp[0][1]);
	return 0;
}
