#include<bits/stdc++.h>
using namespace std;
const int N=1e5+3;
long long int n,m,d[N][2],x[N];
const int MOD=1e9+7;
vector<int> a[N];
void dfs(int u){
    d[u][0]=1;
    d[u][1]=0;
    for(int i=0;i<a[u].size();++i){
        int v=a[u][i];
        dfs(v);
        d[u][1]=(d[u][0]*d[v][1]+d[u][1]*d[v][0])%MOD;
        d[u][0]=(d[u][0]*d[v][0])%MOD;
    }
    if (x[u] == 1)
      d[u][1] = d[u][0];
     else
      d[u][0] += d[u][1];
}
int main(){
    //freopen("fr.cpp","r",stdin);
    ios::sync_with_stdio(false);
    cin>>n;
    for(int i=1;i<n;++i){
        int p;
        cin>>p;
        a[p].push_back(i);
    }
    for(int i=0;i<n;++i) cin>>x[i];
    dfs(0);
    cout<<d[0][1];
}
