// by Î¾

#include <cstdio>

using namespace std;

const int p=1e9+7;

typedef int P[200005];

int n,u,tot;

int f[100005][2];
P he,ne,pp,fa;

inline void link(int u,int v){pp[++tot]=v;ne[tot]=he[u];he[u]=tot;}

void dfs(int u){
    for(int e=he[u];e;e=ne[e]){
        int v=pp[e];
        if(v==fa[u])continue;
        fa[v]=u;dfs(v);
        f[u][1]=(1ll*(f[v][1]+f[v][0])%p*f[u][1]%p+1ll*f[u][0]*f[v][1]%p)%p;
        f[u][0]=1ll*(f[v][0]+f[v][1])%p*f[u][0]%p;
    }
}

int main(){
    scanf("%d",&n);
    for(int i=2;i<=n;++i)scanf("%d",&u),link(u+1,i),link(i,u+1);
    for(int i=1;i<=n;++i)scanf("%d",&u),f[i][u]=1;
    dfs(1);
    printf("%d\n",f[1][1]);
}