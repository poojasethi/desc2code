#include<bits/stdc++.h>
#define MOD 1000000007

using namespace std;
typedef long long ll;

int t[100005];
ll dp[100005][2];

int main(){
    int n, x;
    cin >> n;
    for(int i=0; i<n-1; i++) cin >> t[i+1];

    for(int i=0; i<n; i++){
        cin >> x;
        dp[i][x] = 1;
    }

    for(int i=n-1; i>0; i--){
        dp[t[i]][1] = (dp[t[i]][1] * (dp[i][0] + dp[i][1]) + dp[t[i]][0] * dp[i][1]) % MOD;
        dp[t[i]][0] = (dp[t[i]][0] * (dp[i][0] + dp[i][1])) % MOD;
    }
    
    cout  << dp[0][1] << endl;
} 
