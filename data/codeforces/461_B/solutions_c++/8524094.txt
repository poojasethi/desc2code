#include<cstdio>

long long a[100005],dp[100005][2];

int main()
{
    int n,x;
    scanf("%d",&n);
    for(int i=1;i<n;i++)
    {
        scanf("%I64d",&a[i]);
    }
    for(int i=0;i<n;i++)
    {
        scanf("%d",&x);
        dp[i][x]=1;
    }

    for(int i=n-1;i>0;i--)
    {
        dp[a[i]][1]=(dp[a[i]][1]*(dp[i][0]+dp[i][1])+dp[a[i]][0]*dp[i][1])%1000000007;
        dp[a[i]][0]=(dp[a[i]][0]*(dp[i][0]+dp[i][1]))%1000000007;
    }
    printf("%I64d",dp[0][1]);
}