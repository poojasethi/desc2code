#include <iostream>
#include <cstdio>
#include <algorithm>
#define rep(i,a,b) for(int i = a; i <= b; i++)
#define dep(i,a,b) for(int i = a; i >= b; i--)
using namespace std;
const int N = 100100, mod = 1000000000 + 7;
int f[N], g[N], fa[N], c[N];
int main(){
	int n; scanf("%d",&n);
	rep(i,2,n) { int a; scanf("%d",&a); a++; fa[i] = a; }
	rep(i,1,n) { 
		scanf("%d",&c[i]);
		if (c[i] == 0) f[i] = 0, g[i] = 1;
		else f[i] = 1, g[i] = 0;
	}
	dep(i,n,1) {
		( g[i] += f[i] ) %= mod;
		if (fa[i]) {
			f[fa[i]] =(1LL * f[fa[i]] * g[i] + 1LL * f[i] * g[fa[i]]) % mod;
			g[fa[i]] = 1LL * g[fa[i]] * g[i] % mod;
		}
	}
	printf("%d\n",f[1]);
}