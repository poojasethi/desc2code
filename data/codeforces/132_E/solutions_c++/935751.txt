#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

const int maxx=10000;
int pr[260],next[200000],r[200000],num[200000],w[200000],a[600],aa[600],f[600],la[600],q[2000000],t[30],cnt,ot,tt,n,m,ans,col;
bool inl[600],don[260];



void add(int x,int y,int rr,int ww)
{
    tt++;
    next[tt]=aa[x];num[tt]=y;r[tt]=rr;w[tt]=ww;aa[x]=tt;
    next[tt+ot]=aa[y];num[tt+ot]=x;r[tt+ot]=0;w[tt+ot]=-ww;aa[y]=tt+ot;
}

void build()
{
    for (int i=1;i<=n;i++)
    {
        int tmp=a[i],cc=0;
        while (tmp>0) { cc+=tmp%2;tmp/=2; }
        add(i,i+n,1,-maxx);
        add(0,i,1,cc);
        add(i+n,n+n+1,1,0);
        for (int j=1;j<=i-1;j++)
            if (a[i]!=a[j]) add(j+n,i,1,cc);else add(j+n,i,1,0);
    }
}

void flow()
{
    int st,en,p,tmp;
    while (m)
    {
        st=0;en=1;q[1]=0;inl[0]=true;
        memset(f,127,sizeof(f));
        memset(la,0,sizeof(la));
        f[0]=0;
        while (st<en)
        {
            st++;
            p=aa[q[st]];
            while (p)
            {
                if (r[p] && f[q[st]]+w[p]<f[num[p]] )
                {
                    f[num[p]]=f[q[st]]+w[p];
                    la[num[p]]=p;
                    if (!inl[num[p]]) { en++;q[en]=num[p];inl[num[p]]=true; }
                }
                p=next[p];
            }
            inl[q[st]]=false;
        }
        if (f[n+n+1]>=0) return;
        ans+=f[n+n+1];
        tmp=la[n+n+1];
        while (tmp)
        {
        	int kk=(tmp+ot-1)%(ot+ot)+1;
            r[tmp]--;r[(tmp+ot-1)%(ot+ot)+1]++;
            tmp=la[num[(tmp+ot-1)%(ot+ot)+1]];
        }
        m--;
    }
}

void dfs(int x)
{
    if (x==n+n+1) return;
    if (x>0 && x<=n) { pr[x]=col;don[x]=true; }
    int p=aa[x];
    while (p)
    {
        if (r[p]==0 && p<=ot &&!don[num[p]]) { if (w[p]==0 && num[p]>0 && num[p]<=n) cnt--; dfs(num[p]);}
        p=next[p];
    }
}

int main()
{
//	freopen("in.txt","r",stdin);
    cin>>n>>m;
    ot=n*n*2+100;
    for (int i=1;i<=n;i++) cin>>a[i];
    build();
	flow();
	memset(don,false,sizeof(don));
	cnt=n+n;
    for (int i=1;i<=n;i++) if (!don[i]) { col++;dfs(i); }
    char c;
    cout<<cnt<<" "<<ans+maxx*n<<endl;
    for (int i=1;i<=n;i++)
    {
        c=char(pr[i]+96);
        if (a[i]!=t[pr[i]]) cout<<c<<"="<<a[i]<<endl;
        t[pr[i]]=a[i];
        cout<<"print("<<c<<")"<<endl;
    }
    return 0;
}
