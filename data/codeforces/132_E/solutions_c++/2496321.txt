#include <cstdio>
#include <cstring>
#define rep(i,n) for(int i=0;i<n;i++)
int tot,n,y[200000],f[200000],c[200000],nxt[200000],fst[1000],dis[1000],pre[1000],q[1000000],a[1000],ans,Ans,m;
bool inq[1000];char val[1000];
void add(int u,int v,int ff,int w) {
	tot++;y[tot]=v;f[tot]=ff;c[tot]=w;nxt[tot]=fst[u];fst[u]=tot;
	tot++;y[tot]=u;f[tot]=0;c[tot]=-w;nxt[tot]=fst[v];fst[v]=tot;
}
bool expand() {
	memset(dis,0x6f,sizeof(dis));
	memset(inq,0,sizeof(inq));
	int t=1;
	dis[0]=0;inq[0]=1;q[0]=0;
	rep(i,t) {
		for (int j=fst[q[i]];j;j=nxt[j]) if (f[j] && dis[y[j]]>dis[q[i]]+c[j]) {
			pre[y[j]]=j;dis[y[j]]=dis[q[i]]+c[j];
			if (!inq[y[j]]) inq[y[j]]=1,q[t++]=y[j];
		}
		inq[q[i]]=0;
	}
	if (dis[n+n+1]>=0) return 0;ans+=dis[n+n+1];
    for (int j=n+n+1;j;j=y[pre[j]^1]) f[pre[j]]--,f[pre[j]^1]++;
	return 1;
}
int main() {
	scanf("%d%d",&n,&m);
	rep(i,n) scanf("%d",&a[i]);tot=1;
	rep(i,n) add(0,i+1,1,__builtin_popcount(a[i])),add(i+n+1,n+n+1,1,0);
	rep(i,n) add(i+1,i+n+1,1,-10000);
	rep(i,n) for (int j=i+1;j<n;j++) if (a[i]==a[j]) add(i+n+1,j+1,1,0);
		else add(i+n+1,j+1,1,__builtin_popcount(a[j]));
	rep(i,m) if (!expand()) break;
	char cur='a';
	rep(i,n) for (int j=fst[i+1];j;j=nxt[j]) if (f[j] && j&1)
		if (!y[j]) Ans+=2,val[i]=cur++; else {
			if (a[y[j]-n-1]==a[i]) Ans++; else Ans+=2;val[i]=val[y[j]-n-1];
		}
	printf("%d %d\n",Ans,ans+n*10000);
	rep(i,n) for (int j=fst[i+1];j;j=nxt[j]) if (f[j] && j&1) {
		if (!y[j]||a[y[j]-n-1]!=a[i]) printf("%c=%d\n",val[i],a[i]);
		printf("print(%c)\n",val[i]);
	}
}