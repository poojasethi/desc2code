#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
#define maxm 200005
#define F(x) __builtin_popcount(x)
using namespace std;

int N,M,S,T,W,head[505],lk[maxm],next[maxm],c[maxm],w[maxm],a[255],d[505],q[maxm*5],p[505];
bool b[505];
char BG[505][20];

void add(int u,int v,int x,int y,int&t)
{
	lk[++t]=v,c[t]=x,w[t]=y, next[t]=head[u],head[u]=t;
	lk[++t]=u,c[t]=0,w[t]=-y,next[t]=head[v],head[v]=t;
}

void init()
{
	int t=1;
	scanf("%d%d",&N,&M),S=0,T=2*N+2,add(S,2*N+1,M,0,t);
	for (int i=1; i<=N; i++) scanf("%d",&a[i]),add(2*N+1,N+i,1,F(a[i]),t),add(S,i,1,0,t),add(N+i,T,1,0,t);
	for (int i=1; i<=N; i++)
		for (int j=i+1; j<=N; j++) add(i,j+N,1,a[i]==a[j]?0:F(a[j]),t);
}

bool spfa()
{
	memset(d,63,sizeof(d));
	memset(b,0,sizeof(b)),q[1]=S,d[S]=0;
	for (int l=1,r=1; l<=r; l++)
	{
		int u=q[l]; b[u]=0;
		for (int i=head[u],v; v=lk[i],i; i=next[i]) if (c[i]&&d[u]+w[i]<d[v])
		{
			d[v]=d[u]+w[i],p[v]=i;
			if (!b[v]) b[v]=1,q[++r]=v;
		}
	}
	return d[T]<1e9;
}

void doit()
{
	int ans=0;
	for (;spfa();)
	{
		int f=1e9;
		for (int i=T; i!=S; i=lk[p[i]^1]) f=min(f,c[p[i]]);
		for (int i=T; i!=S; i=lk[p[i]^1]) c[p[i]]-=f,c[p[i]^1]+=f;
		ans+=d[T]*f;
	}
	for (int i=1,t=96,g; i<=N; i++)
		for (int j=head[i+N],k; k=lk[j],j; j=next[j]) if (k!=T&&c[j])
		{
			g=k==2*N+1?++t:p[k];
			if (k==2*N+1||a[i]!=a[k]) sprintf(BG[++W],"%c=%d",g,a[i]);
			p[i]=g,sprintf(BG[++W],"print(%c)",g);
		}
	printf("%d %d\n",W,ans);
	for (int i=1; i<=W; i++) printf("%s\n",BG[i]);
}

int main()
{
	init();
	doit();
	return 0;
}