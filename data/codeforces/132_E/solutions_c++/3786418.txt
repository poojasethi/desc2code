#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#define N 215400
using namespace std;
const int inf=1000000000;
int i,j,k,l,n,m,next[N],e[N],c[N],head[N],dis[N],st[N],g[N],
	off,x,y,bfs[N*10],s,t,len=1,f[N],v[N],flag[N],ans,ans2,
	a[N],b[N],be[N],num;
void addedge(int x,int y,int k,int o){
	next[++len]=head[x]; head[x]=len; e[len]=y; c[len]=k; v[len]=o;
	next[++len]=head[y]; head[y]=len; e[len]=x; c[len]=0; v[len]=-o;
}
void Mincostflow(){
	int l,r,i,x,y;
	for(;;){
		for(i=s;i<=t;++i)dis[i]=inf;
		bfs[l=r=1]=s;
		dis[s]=0;
		while(l<=r){
			x=bfs[l++]; flag[x]=0;
			for(i=head[x];i;i=next[i])if(c[i] && dis[x]+v[i]<dis[e[i]]){
				dis[e[i]]=dis[x]+v[i];
				st[e[i]]=i;
				if(!flag[e[i]])flag[e[i]]=1,bfs[++r]=e[i];
			}
		}
		if(dis[t]>=0 && c[2]<=m)break;
		ans+=dis[t];
		for(i=t;i!=s;i=e[st[i]^1]){
			c[st[i]]--;
			c[st[i]^1]++;
		}
	}
}
int main(){
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;++i){
		scanf("%d",&a[i]);
		for(j=a[i];j;j-=j&(-j)) b[i]++;
		ans+=b[i];
	}
	s=0; t=n+n+2;
	addedge(s,t-1,n,0);
	for(i=1;i<=n;++i)addedge(t-1,i,1,0);
	for(i=1;i<=n;++i){
		for(j=i+1;j<=n;++j){
			if(a[i]==a[j])addedge(i,j+n,1,-b[j]);
			else addedge(i,j+n,1,0);
		}
		addedge(i+n,t,1,0);
	}
	Mincostflow();
	for(i=1;i<=n;++i){
		if(!be[i]){
			be[i]=++num;
			g[num]=a[i];
			f[++ans2]=i;
		}else if(a[i]!=g[be[i]])f[++ans2]=i,g[be[i]]=a[i];
		f[++ans2]=-i;
		for(j=head[i];j;j=next[j])if(j%2==0 && c[j]==0)
			be[e[j]-n]=be[i];
	}
	printf("%d %d\n",ans2,ans);
	for(i=1;i<=ans2;++i){
		if(f[i]<0)printf("print(%c)\n",be[-f[i]]+96);
		else printf("%c=%d\n",be[f[i]]+96,a[f[i]]);
	}
}
