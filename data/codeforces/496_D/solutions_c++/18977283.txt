#include <bits/stdc++.h>

#define NN 100010

using namespace std;
typedef pair <int, int> pii;

int cnt[3][NN], a[NN];
pii ans[NN];

int main (){
	
	int N, i;
	scanf("%d", &N);
	for(i=1; i<=N; i++){
		scanf("%d", a+i);
		cnt[a[i]][i]=cnt[a[i]][i-1]+1;
		cnt[3-a[i]][i]=cnt[3-a[i]][i-1];
	}
	
	int p1, p2, w1, w2, pos, last;
	int tot=0;
	
	for(int t=1; t<=N; t++){
		p1=p2=w1=w2=pos=last=0;
		while(1){
			p1=lower_bound(cnt[1], cnt[1]+N+1, cnt[1][pos]+t)-cnt[1];
			p2=lower_bound(cnt[2], cnt[2]+N+1, cnt[2][pos]+t)-cnt[2];
			if(p1<p2) w1++, pos=p1, last=1;
			else w2++, pos=p2, last=2;
			if(pos>=N) break;
		}
		if(pos>N) continue;
		if(w1==w2 || w1<w2 && last!=2 || w1>w2 && last!=1) continue;
		ans[tot++]=pii(max(w1, w2), t);
	}
	
	sort(ans, ans+tot);
	printf("%d\n", tot);
	for(i=0; i<tot; i++){
		printf("%d %d\n", ans[i].first, ans[i].second);
	}
	
	return 0;
}
                            