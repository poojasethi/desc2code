#include <bits/stdc++.h>
using namespace std;

typedef pair<int,int> pii;

const int MAXN = 100005;
int N, A[MAXN], S[2][MAXN];
vector<pii> res;

int main(){
  cin >> N;
  for(int i = 0; i < N; i++){
    cin >> A[i];
    A[i]--;
    S[0][i + 1] = S[0][i] + (A[i] == 0);
    S[1][i + 1] = S[1][i] + (A[i] == 1);
  }
  for(int i = 1; i <= N; i++){
    int p = 0, a = 0, b = 0, l, ok = 1;
    while(p < N){
      int lo = p, hi = N, mid = (lo + hi) / 2;
      while(lo < mid){
        if(max(S[0][mid] - S[0][p], S[1][mid] - S[1][p]) >= i) hi = mid;
        else lo = mid;
        mid = (lo + hi) / 2;
      }
      l = (S[1][hi] - S[1][p] == i);
      if(S[0][hi] - S[0][p] == i) a++;
      else if(S[1][hi] - S[1][p] == i) b++;
      else  ok = 0;
      p = hi;
    }
    if(ok && (l == 0 && a > b || l == 1 && b > a)){
      res.push_back(pii(max(a, b), i));
    }
  }
  sort(res.begin(), res.end());
  cout << res.size() << '\n';
  for(int i = 0; i < res.size(); i++){
    cout << res[i].first << ' ' << res[i].second << '\n';
  }
}
