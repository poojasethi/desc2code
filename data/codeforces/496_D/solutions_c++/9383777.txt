#include<bits/stdc++.h>

using namespace std;
bool ss(pair<int,int> a, pair<int,int> b){
    return a.first < b.first;
}

int n,a[100010]={0},s1[100010]={0}, s2[100010] = {0};
vector< pair<int,int> > ans;
int main() {
    scanf("%d", &n);
    for(int i=1; i<=n; i++) { 
        scanf("%d", &a[i]);
        s1[i] = s1[i-1] + (a[i]==1);
        s2[i] = s2[i-1] + (a[i]==2);
    }
    
    for(int i=1; i<=n;i++){
        int prev = 0,x = -1,y = -1,w1=0,w2=0;
        while(prev < n){
            x = (int)(lower_bound(s1,s1+n+1, s1[prev]+i) - s1);
            y = (int)(lower_bound(s2,s2+n+1, s2[prev]+i) - s2);
            
            prev = min(x,y);
            if(x < y) w1++; else w2++;
        }
        if(prev == n && ((w1 > w2 && a[n] == 1)|| (w2 > w1 && a[n] == 2))) ans.push_back({max(w1,w2),i});
    }
    sort(ans.begin(), ans.end(),ss);
    
    printf("%d\n", ans.size());
    for(int i=0; i<ans.size(); i++) printf("%d %d\n", ans[i].first, ans[i].second);
        
    return 0;
}