#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
pair <int,int> ans[200005];
int a[200000],b[200005],p1[200005],p2[200005],i,f[200005],top,top1,top2,n,s,t;
int Judge(int t){
	int k1=0,k2=0,now=0;
	while (now<n){
		if (p1[a[now]+t]<p2[b[now]+t])
			k1++,now=p1[a[now]+t];
		else k2++,now=p2[b[now]+t];
		if (now>n) return 0;
		
	}
	if (k1>k2) return k1;
	return 0;
}
int main(){
	scanf("%d",&n);
	memset(p1,127,sizeof(p1));
	memset(p2,127,sizeof(p2));
	memset(a,0,sizeof(a));
	memset(b,0,sizeof(b));
	for(i=1; i<=n; ++i) scanf("%d",&f[i]);
	if(f[n]==2) for(i=1; i<=n; ++i) f[i]=3-f[i];
	for (top1=top2=top=0,i=1; i<=n; i++){
		if (f[i]==1) p1[++top1]=i;
	    else p2[++top2]=i;
		a[i]=top1,b[i]=top2;
	}
	for(t=1; t<=n; ++t){
		s=Judge(t);
		if(s) ans[++top]=make_pair(s,t);
	}
	sort(ans+1,ans+top+1);
	printf("%d\n",top);
	for(i=1; i<=top; ++i) printf("%d %d\n",ans[i].first,ans[i].second);
	return 0;
}
  	  		 	   	    	 	 		  			