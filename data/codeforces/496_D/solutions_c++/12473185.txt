#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
struct node{int x,y;}d[100050];
int n,kk,sum1[100050],sum2[100050],a[100050],ans;
inline bool cmp(node a,node b)
{
	if (a.x==b.x) return a.y<b.y;
	return a.x<b.x;
}
inline bool ef(int &l,int r,int i)
{
	int mid;
	int ll=l-1;
	while (l<=r)
	{
		mid=l+r>>1;
		if (sum1[mid]-sum1[ll]<i&&sum2[mid]-sum2[ll]<i) l=mid+1;
		else r=mid-1;
	}
	if (sum1[l]-sum1[ll]>=i) return true;
	return false;
}
int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;++i) scanf("%d",a+i);
	kk=a[n];
	for (int i=1;i<=n;++i)
	{
		sum1[i]=sum1[i-1]+(a[i]==kk);
		sum2[i]=sum2[i-1]+(a[i]!=kk);
	}
	int l,tmp,tmp1;
	bool boo;
	for (int i=1;i<=sum1[n];++i)
	{
		l=1;
		tmp=0; boo=false;  tmp1=0;
		while (l<=n) 
		{
			if (ef(l,n,i)) {	++tmp;	 boo=true;}
			else { boo=false;	++tmp1;	}
			//cerr<<l<<" "<<i<<endl;
			++l;
		}
		if (boo&&tmp>tmp1)
		{
			++ans;
			d[ans].x=tmp; d[ans].y=i;
		}
	}
	sort(d+1,d+ans+1,cmp);
	printf("%d\n",ans);
	for (int i=1;i<=ans;++i)
	{
		printf("%d %d\n",d[i].x,d[i].y);
	}
}
 	 	   				   		 	  						 			