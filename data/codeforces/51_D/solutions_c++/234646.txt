#include <iostream>
#include <vector>
#include <string>
#include <algorithm>
#include <queue>
#include <stack>
#include <set>
#include <map>
#include <sstream>
#include <iomanip>
#include <math.h>

using namespace std;

bool checkz(const vector<int>& v, int i) {
  return v[i] == 0 && v[i - 1] == 0 && v[i + 1] != 0;
} 

int check(const vector<int>& v, bool b) {
  if (v.size() <= 2) {
    return !(v.size() == 1 || v[1] == 0 || v[0] != 0);
  }
  for (int i = 1; i < v.size() - 1; ++i) {
    if (v[i] * v[i] != v[i-1] * v[i + 1] || checkz(v,i)) {
      if (b) {
        return 2;
      } else {
        b = true;
        int r = 2;
        for (int j = -1; j <= 1; ++j) {
          vector<int> v1 = v;
          v1.erase(v1.begin() + i + j);
          r = min(r, 1 + check(v1, true));
        }
        return r;
      }
    }
  }
  return 0;
}


int main() {
  int n;
  cin >> n;
  vector<int> v(n);
  
  for (int i = 0; i < n; ++i) {
    cin >> v[i];
  }

  cout << check(v, false) << endl;
}
