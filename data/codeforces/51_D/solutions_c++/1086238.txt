#include"stdio.h"
#include"algorithm"
#include"map"
using namespace std;
map<pair<int,int>,int>mp;
int a[100004];
int main()
{
    int n;
    scanf("%d",&n);
    for(int i=0;i<n;i++)
    scanf("%d",&a[i]);
   int prex,prey,pr=a[0],rr=0;
   if(n==2)
   {
   	 if(a[0]==0&&a[1]!=0)
   	 {puts("1");
     return 0;}
     
   }
   for(int i=1;i<n;i++)
   {   	  
      int px,py;
      px=a[i];
      py=pr;
      if(py!=0)
      {
	    int k=__gcd(abs(px),abs(py));
	    px/=k;
	    py/=k;
	  }
	  if(px==0)
	  py=0;
	  if(py<0)
	  {px*=-1;
	  py*=-1;}
      if(i==1)
      {prex=px;
       prey=py;}
      if(prex!=px||prey!=py)
      rr++;
	  else
	  {
	    pr=a[i];
	  }   
   } 
   
   if(rr==0)
   {
     puts("0");
     return 0;
   }
   if(rr==1)
   {
     puts("1");
     return 0;
   }
   pr=a[n-1],rr=0;
   for(int i=n-2;i>=0;i--)
   {
      int px,py;
      px=pr;
      py=a[i];
      if(a[i]!=0)
      {
	    int k=__gcd(abs(px),abs(py));
	    px/=k;
	    py/=k;
	  }
	  if(px==0)
	  py=0;
	  if(py<0)
	  {px*=-1;
	  py*=-1;}
      if(i==n-2)
      {prex=px;prey=py;}
      if(prex!=px||prey!=py)
      rr++;
	  else
	  {
	    pr=a[i];
	  }   
   } 
   if(rr==1)
   { puts("1");
     return 0;
   }
   puts("2");  
}
	   	 	 	 		  				 			  		