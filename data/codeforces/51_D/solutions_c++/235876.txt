#include<cstdio>
#include<algorithm>

#define	rep(i,n)	for(int i=0;i<n;i++)

using namespace std;

/* a, a*r, a*r^2, a*r^3, ... */

bool isGeometrical(int *a,int n){
	if(a[0]==0){
		rep(i,n) if(a[i]!=0) return false;
		return true;
	}

	rep(i,n-1) if(a[i+1]*a[0]!=a[i]*a[1]) return false;
	return true;
}

int main(){
	int n;	scanf("%d",&n);
	int a[100000],num0=0,pos0=-1;
	rep(i,n){
		scanf("%d",a+i);
		if(a[i]==0){
			num0++;
			if(pos0==-1)	pos0=i;
		}
	}

	if(n<=2){
		printf("%d\n",isGeometrical(a,n)?0:1);
		return 0;
	}

	// n>=3
	if(num0>=2){	// r must equals 0
		int cnt=0;
		for(int i=1;i<n;i++) if(a[i]!=0) cnt++;
		printf("%d\n",min(cnt,2));
		return 0;
	}
	if(num0==1){	// 0 must be deleted
		for(int i=pos0;i<n-1;i++)	a[i]=a[i+1];
		printf("%d\n",isGeometrical(a,n-1)?1:2);
		return 0;
	}

	// sequence {a_n} is not include any 0s
	int ans;
	if(isGeometrical(a,n))	ans=0;
	else{
		if(isGeometrical(a+1,n-1)){ ans=1; goto END; }
		swap(a[0],a[1]);
		if(isGeometrical(a+1,n-1)){ ans=1; goto END; }
		swap(a[0],a[1]);

		ans=0;
		rep(i,n-1){
			if(a[i+1]*a[0]!=a[i]*a[1]){
				ans++;
				a[i+1]=a[i];
			}
			if(ans==2)	break;
		}

		END:;
	}
	printf("%d\n",ans);

	return 0;
}
