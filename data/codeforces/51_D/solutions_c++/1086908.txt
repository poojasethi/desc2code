#include<cstdio>
int f[100005],n;
int gcd(int a,int b)
{
    if (!b) return a;
    return gcd(b,a%b);
}
bool check(int st,int a,int b)
{
    int p;
    if (a==0)
    {
        b=0;
        a=1;
    }
    int now=f[st];
    for(int i=st+1;i<n;i++)
    {
        //printf("%d\n",now);
        if (gcd(now*b,a)!=a) return 0;
        now=now*b/a;
        if (f[i]!=now) return 0;
    }
    return 1;
}

bool check2(int st,int a,int b)
{
    int p;
    if (a==0)
    {
        b=0;
        a=1;
    }
    int now=f[st],cnt=0;
    for(int i=st+1;i<n;i++)
    {
        if (gcd(now*b,a)!=a) return 0;
        now=now*b/a;
        //printf("%d\n",now);
        while (f[i]!=now)
        {
            cnt++;
            i++;
            if (cnt==2) return 0;
            if (i==n) return 1;
        }
    }
    return 1;
}
int main()
{
    scanf("%d",&n);
    for(int i=0;i<n;i++) scanf("%d",f+i);
    if (check(0,f[0],f[1])) puts("0");
    else if (check(1,f[1],f[2]))
    {
        puts("1");
    }
    else if (check(2,f[0],f[2]))
    {
        puts("1");
    }
    else if (check2(0,f[0],f[1]))
    {
        puts("1");
    }
    else puts("2");
}
