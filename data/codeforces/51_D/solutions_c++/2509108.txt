#include<cstdio>
#include<algorithm>
#define Rep(i,j,k) for(int i=j;i<=k;i++)
using namespace std;int n,a[100010],ans=0;
int calc(int st,int sum){Rep(i,st+2,n){if(a[i]*a[st]!=a[st+1]*a[i-1]){sum++;if(i<n)if(a[i+1]*a[st]==a[i-1]*a[st+1])i++;else sum++;}if(!a[st]&&a[i])sum++;}return min(sum,2);}void solve(){if(n==1)return;if(n==2){if(!a[1]&&a[2])ans=1;return;}ans=calc(1,0);if(ans==0||ans==1)return;ans=min(2,calc(2,0)+1);if(ans==1)return;a[2]=a[1],ans=min(2,calc(2,0)+1);}int main(){scanf("%d",&n);Rep(i,1,n)scanf("%d",&a[i]);solve();printf("%d\n",ans);return 0;}