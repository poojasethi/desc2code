

#include <cstdio>

int d[100010];
int temp[110];

bool check(int n)
{
	bool ck=true;
	int i;
	for(i=0;i<n;++i)if(temp[i]==0)break;
	if(i<n){
		for(i=1;i<n;++i)if(temp[i]!=0)break;
		return i>=n;
	}

	if(n<=2)return true;

	i=1;
	while(i<n && temp[i]==0)i++;
	if(i==n)return true;

	for(i=1;i<n-1;++i){
		if( temp[i]*temp[i] != temp[i-1]*temp[i+1] )ck=false;	
	}
	return ck;
}

int main()
{
	int n;
	while(scanf("%d",&n)==1){
		int i,j;
		int z=0;
		for(i=0;i<n;++i){
			scanf("%d",d+i);
			z += d[i]==0?1:0;
		}

		if(n<100){

			for(i=0;i<n;++i)temp[i]=d[i];
			if(check(n)){ puts("0"); continue;}
			
			for(i=0;i<n;++i){
				int ct=0;
				for(int j=0;j<n;++j)if(j!=i)temp[ct++]=d[j];
				if(check(ct))break;
			}

			if(i<n)puts("1");
			else puts("2");

			
		}else{
			if(z==n-1){puts(d[0]!=0?"0":"1");continue;}
			if(z==n-2){puts(d[0]!=0?"1":"2");continue;}
			
			int ct[2],b=-1;
			for(i=0;i<2;++i){
				ct[i]=0;
				b*=-1;
				for(j=1;j<n;++j){
					if( d[j-1] != b*d[j] )ct[i]++;
				}
			}
			if(ct[0]==0 || ct[1]==0) puts("0");
			else if(ct[0]>2 && ct[1]>2)puts("2");
			else puts("1");
		}

	}


	return 0;
}

