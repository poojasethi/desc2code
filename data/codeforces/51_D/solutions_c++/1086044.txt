#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int a[100010],n;
int check(int cao[],int m)
{
    if(cao[1]==0)
    {
        int num=0;
        for(int i=1;i<=m;i++)
        if(cao[i]==0)
        num++;
        if(num==n)
        return 0;
        if(num==n-1)
        return 1;
        for(int i=1;i<m;i++)
        cao[i]=cao[i+1];
        if(check(cao,m-1)==0)
        return 1;
        return 2;
    }
    int ok=1;
    for(int i=3;i<=m;i++)
    if(cao[i]*cao[1]!=cao[2]*cao[i-1])
    {
        ok=0;break;
    }
    if(ok)return 0;
    ok=1;
    for(int i=4;i<=m;i++)
    if(cao[i]*cao[2]!=cao[3]*cao[i-1])
    {
        ok=0;break;
    }
    if(ok)return 1;
    ok=1;
    for(int i=4;i<=m;i++)
    if(cao[i]*cao[1]!=cao[3]*cao[i-1])
    {
        ok=0;break;
    }
    if(ok)return 1;
    int pos;
    for(int i=3;i<=m;i++)
    if(cao[i]*cao[1]!=cao[2]*cao[i-1])
    {
        pos=i;break;
    }
    for(int i=pos;i<m;i++)
    cao[i]=cao[i+1];
    ok=1;
    for(int i=3;i<m;i++)
    if(cao[i]*cao[1]!=cao[2]*cao[i-1])
    {
        ok=0;break;
    }
    if(ok)return 1;
    return 2;
}
int main()
{
    while(scanf("%d",&n)!=EOF)
    {
        for(int i=1;i<=n;i++)
        scanf("%d",&a[i]);
        printf("%d\n",check(a,n));
    }
}

  		   		 	 	 		 		 		    	