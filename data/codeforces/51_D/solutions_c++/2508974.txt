#include<cstdio>
#include<cstring>
#include<cstdlib>

int ans,ans2,ans3;
double v;
int n;
int a[100010];

inline int min(int x,int y)
{return x<y?x:y;}
inline double get(int &x,int &y)
{
    if(!x && !y)return 0;
    if(x && !y)return 1000000.0;
    return (double)x/y;
}

int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
        scanf("%d",&a[i]);
    if(a[1]==0)
    {
        if( (n==2&&a[2]==0)|| (n==1) ){printf("0\n");return 0;}
        if(n==2 && a[2]!=0){printf("1\n");return 0;}
    }
    
    ans=0; v=get(a[2],a[1]);
    for(int i=2;i<=n && ans<2;i++)
    {
        double j=get(a[i],a[i-1]);
        if(j!=v)
        {
            ans++; i++;
            if(i<=n)
            {
                j=get(a[i],a[i-2]);
                if(j!=v)
                    ans++;
            }
        }
    }
    ans2=1; v=get(a[3],a[2]);
    for(int i=4;i<=n && ans2<2;i++)
    {
        double j=get(a[i],a[i-1]);
        if(j!=v)
            ans2++;
    }
    ans3=1; v=get(a[3],a[1]);
    for(int i=4;i<=n && ans3<2;i++)
    {
        double j=get(a[i],a[i-1]);
        if(j!=v)
            ans3++;
    }
    printf("%d\n",min(ans,min(ans2,ans3)));
    return 0;
}
