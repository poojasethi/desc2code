#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int a[100005],n;

int check(int A, int B, int pre, int pos, int x)
{
    if(!A||!B)return 0;
    int ct = 0;
    for(int i = pos; i < n; i++)
    {
        if(B*pre!=A*a[i]||!a[i])
        {
            ct++;
        }
        else pre = a[i];
    }
    if(ct<=x)return 1;
    return 0;
}

int main()
{
    scanf("%d",&n);
    for(int i = 0; i < n; i++)
        scanf("%d",&a[i]);
    int ct0 = 0;
    for(int i = 0; i < n; i++)
        if(!a[i])ct0++;
    if(ct0==n||(ct0==n-1&&a[0]!=0))
    {
        puts("0");return 0;
    }
    else if(ct0)
    {
        if(ct0==n-1||(ct0==n-2&&a[0]!=0))
        {
            puts("1");
            return 0;
        }
    }

    int ok = 1;
    for(int i = 0; i < n-2; i++)
        if(a[i]*a[i+2]!=a[i+1]*a[i+1])ok = 0;
    if(ct0)ok = 0;
    if(ok)
    {
        puts("0");
        return 0;
    }
    if(check(a[0],a[1],a[1],2,1)
    ||check(a[0],a[2],a[2],3,0)
    ||check(a[1],a[2],a[2],3,0))ok = 1;
    puts(ok?"1":"2");


    return 0;
}
