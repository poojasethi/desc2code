#include <bits/stdc++.h>
#define FF "progressions"
#define NUM "1"
#define MAXN 100005
using namespace std;
int n, a[MAXN];

int check(int pos){
    int cnt = 0;
	for(int i = pos + 2; i <= n; i++){
		if(a[i] * a[pos] != a[pos+1] * a[i-1]){
			cnt++;
			if(i < n){
                if(a[i + 1] * a[pos] != a[i-1] * a[pos + 1]) cnt++;
                else i++;
			}
		}
		if(!a[pos] && a[i]) cnt++;
	}
	return min(cnt, 2);
}

int solve(){
    if(n == 1) return 0;
    if(n == 2){
        if(!a[1] && a[2]) return 1;
        else return 0;
    }
    int ans = check(1);
    if(ans == 0 ||ans == 1) return ans;
	ans = min(2, check(2)+1);
	if(ans == 1) return ans;
	a[2] = a[1], ans = min(2, check(2)+1);
	return ans;
}

int main(){
    ios_base::sync_with_stdio(0), cin.tie(0);
    #ifndef ONLINE_JUDGE
    ifstream cin(FF ".i" NUM);
    ofstream cout(FF ".o" NUM);
    #endif // ONLINE_JUDGE
    cin >> n;
    for(int i = 1; i <= n; i++) cin >> a[i];
    cout<<solve()<<endl;
    return 0;
}
