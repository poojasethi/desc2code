#include<iostream>
#include<cstring>

using namespace std;

char s[15],c;
int m,k,n,dir,r;

int main()
{
 cin>>n>>m>>k;
 cin>>s;
 cin>>s;
 if(!strcmp(s,"head"))dir=-1;
 else dir=1;
 r=0;
 while(cin.get()!='\n');
 while((c=cin.get())=='0' || c=='1')
 {
    r++;
    if(c=='0'){
        if(m>k && m<n)m++;
        else if(m<k && m>1)m--;
        if((k==n && dir==1) || (k==1 && dir==-1))dir*=-1;
        k+=dir;
    }
    else{
        if((k==n && dir==1) || (k==1 && dir==-1))dir*=-1;
        k+=dir;
        if(k==1)m=n;
        else if(k==n)m=1;
        else if(dir==-1)m=n;
        else m=1;
    } 
    if(k==m){cout<<"Controller "<<r<<"\n";return 0;}    
 }
 cout<<"Stowaway\n";
return 0;
}
