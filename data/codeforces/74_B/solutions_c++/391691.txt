#include <cstdio>
#include <cstring>
using namespace std;
int main()
{
	int l,z,k,na;
	char napr[40];
	char t[300];
//	freopen("b.in","r",stdin);
	scanf("%d %d %d\n",&l,&z,&k);
	gets(napr);
	gets(t);
	
	if(strcmp(napr,"to head") == 0) na = -1;
	else na = 1;
	
	for(int i=0;i<strlen(t);i++)
	{
		if(t[i] == '0')
		{
			if(k > z && z != 1) z--;	
			if(k < z && z != l) z++;				
			if((k == 1 && na == -1) || (k == l && na == 1))
				na *= -1;
			k += na;
			if(k == z)
			{
				printf("Controller %d",i + 1);
				return 0;
			}
		}else
		{
			if((k == 1 && na == -1) || (k == l && na == 1))
				na *= -1;
			k += na;
			z = k - na;				
		}
//		printf("c = %d, z = %d\n",k,z);
	}
	puts("Stowaway");
	
	
	return 0;
}
