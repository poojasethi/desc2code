#include <iostream>
#include <cstdio>

using namespace std;

int main()
{
	int n,m,k;
	cin>>n>>m>>k;
	string a,b,c;
	cin>>a>>b>>c;
	
	int i,d;
	bool found = 0;
	
	if(b=="head")
	{
		d = -1;
	}
	else if(b=="tail")
	{
		d = 1;
	}
	
	for(i=0;c[i] != '\0';i++)
	{
		
		if(d == 1 && k == n)
		{
			d = -1;
		}
		else if( d == -1 && k == 1)
		{
			d = 1;
		}
		
		k += d;
		
		if(c[i] == '0')
		{
			if(m <n && m >1)
			m += d;
		}
		else if( c[i] == '1' )
		{
			m = k - d;
		}
		
		
		
		
		
		if( m == k)
		{
			found = 1;
			break;
		}
	}
	
	if( found == 0)
	{
		cout<<"Stowaway";
	}
	else {
		cout<<"Controller "<<i+1;
	}
//	system("PAUSE");
}
