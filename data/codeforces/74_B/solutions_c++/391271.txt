#include <stdio.h>
#include <iostream>
#include <string>
#include <algorithm>
using namespace std;

int main(){
  int n, m, k, i=0, dir=0;
  cin >> n >> k >> m;
  string a, b, c;
  cin >> a >> b >> c;
  bool fail = true;
  if(b=="tail") dir = 1;
  else dir = -1;

  for(; i<c.size(); ++i) {

    if(m<k && k<n) k++;
    else if(m>k && k>1) k--; 
    
    if(m+dir>n || m+dir<1) dir *= -1;
    m+=dir;
//    cout << k << " " << m << endl;
    if(c[i]=='1') {
      if(dir==1) k=1;
      else k=n;
    }
    else if(k==m) {
      cout << "Controller " << i + 1 << endl;
      return 0;
    }
  }
  cout << "Stowaway" << endl;
  return 0;
}

