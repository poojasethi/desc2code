R=lambda:map(int,raw_input().split())
n,k=R()
p=[0]+R()
q=p[:]
for i in range(n+1):q[p[i]]=i
e=[0]+R()
def perm(v):
  t=list(range(n+1))
  for i in range(k+1):
    if t==e: return i
    t=[t[v[i]] for i in range(n+1)]
  return (k+1)
a,b=perm(p),perm(q)
print 'YES' if k==a or k==b or (((a<k and not(a-k)%2) or (b<k and not(b-k)%2)) and (a+b>2)) else 'NO'