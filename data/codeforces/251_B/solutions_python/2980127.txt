#!/usr/bin/env python
# -*- coding:GBK
# author: sunhaowen@baidu.com
# date: 2012/12/07 01:06

def here():
    print("PrimeMusic")

q = []
p = []

def pointOne(a, n) :
    b = [0] * (n + 1)
    for i in xrange(1, n + 1) :
        b[i] = a[q[i]]
    for i in xrange(1, n + 1) :
        a[i] = b[i]

def pointTwo(a, n) :
    b = [0] * (n + 1)
    for i in xrange(1, n + 1) :
        b[q[i]] = a[i]
    for i in xrange(1, n + 1) :
        a[i] = b[i]

if __name__ == "__main__":
    n, k = map(int, raw_input().split())
    q = [0] + map(int, raw_input().split())
    p = [0] + map(int, raw_input().split())

    a = [0] * (n + 1)

    for i in xrange(1, n + 1) :
        a[i] = i

    if a == p :
        print("NO")
        exit()

    x = [0] * (n + 1)
    for i in xrange(1, n + 1) :
        x[i] = i
    pointTwo(x, n)
    for i in xrange(1, k + 1) :
        pointOne(a, n)
        if a == p :
            if i == k :
                print("YES")
                exit()
            elif (k - i) % 2 == 0 and (x != p or i > 1) :
                print("YES")
                exit()
            else:
                break

    for i in xrange(1, n + 1) :
        a[i] = i
        x[i] = i
    pointOne(x, n)
    for i in xrange(1, k + 1) :
        pointTwo(a, n)
        if a == p :
            if (i == k) :
                print("YES")
            elif (k - i) % 2 == 0 and (x != p or i > 1) :
                print("YES")
            else:
                print("NO")
            exit()

    print("NO")
