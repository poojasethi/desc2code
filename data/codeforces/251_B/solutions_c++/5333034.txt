#include<cstdio>
#include<algorithm>
using namespace std;
#define rep(i,n) for (int i=1;i<=n;i++)
#define N 105
int n,k,x,y,a[N],b[N],p[N],s[N];
bool same(){rep(i,n) if (a[i]!=s[i]) return 0; return 1;}
bool check()
{
    if (!x) return 0; if (k==1) return x==1 || y==1; if (x==1 && y==1) return 0;
    return x>0 && x<=k && (x&1)==(k&1) || y>0 && y<=k && (y&1)==(k&1);
}
int main()
{
    scanf("%d%d",&n,&k),x=y=-1;
    rep(i,n) scanf("%d",p+i);
    rep(i,n) scanf("%d",s+i);
    rep(i,n) a[i]=i;
    rep(i,k+1){
        if (same()) if (x<0) x=i-1;
        rep(j,n) b[j]=a[p[j]]; rep(j,n) a[j]=b[j];
        }
    rep(i,n) a[i]=i;
    rep(i,k+1){
        if (same()) if (y<0) y=i-1;
        rep(j,n) b[p[j]]=a[j]; rep(j,n) a[j]=b[j];
        }
    puts(check()?"YES":"NO"); return 0;
}