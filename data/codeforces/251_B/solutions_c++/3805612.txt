#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<algorithm>
using namespace std;
int f[120],s[120],q[120],t[120],l,r,i,j,k,n;
bool check(){
	for(int i=1;i<=n;++i)if(s[i]!=f[i])return 0;
	return 1;
}
bool Check(int l,int r){
	if(l==0 || l>k)return 0;
	if((k-l)%2==1)return 0;
	if(l==1 && k!=1 && r==1)return 0;
	return 1;
}
int main(){
	scanf("%d%d",&n,&k);
	for(i=1;i<=n;++i)scanf("%d",&q[i]);
	for(i=1;i<=n;++i)scanf("%d",&s[i]);
	for(j=1;j<=n;++j)f[j]=j;
	for(l=0;l<=100;++l){
		if(check())break;
		for(j=1;j<=n;++j)t[q[j]]=f[j];
		memcpy(f,t,sizeof(f));
	}
	for(j=1;j<=n;++j)f[j]=j;
	for(r=0;r<=100;++r){
		if(check())break;
		for(j=1;j<=n;++j)t[j]=f[q[j]];
		memcpy(f,t,sizeof(f));
	}
	if(Check(l,r) || Check(r,l))printf("YES\n");
	else printf("NO\n");
}
