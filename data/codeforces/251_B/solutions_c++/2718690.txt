#include<iostream>
#include<cstdio>
using namespace std;
int n,k;
const int N = 105;
int s[N],q[N];
void con1(int a[],int b[]){
	static int t[N];
	for(int i = 1; i <= n; i++)
		t[i] = a[b[i]];
	for(int i = 1; i <= n; i++)
		a[i] = t[i];
}
void con2(int a[],int b[]){
	static int t[N];
	for(int i = 1; i <= n; i++)
		t[b[i]] = a[i];
	for(int i = 1; i <= n; i++)
		a[i] = t[i];
}
bool chk(int a[],int b[]){
	for(int i = 1; i <= n; i++)
		if(a[i] != b[i]) return 0; return 1;
}
int main(){
	cin >> n >> k;
	for(int i = 1; i <= n; i++)
		cin >> q[i];
	for(int i = 1; i <= n; i++)
		cin >> s[i];
	static int a[N];
	bool __ans = 0;
	for(int i = 0; i <= k; i++){
		for(int j = 1; j <= n; j++)
			a[j] = j;
		for(int j = 0; j < i; j++)
			con1(a,q);
		for(int j = i; j < k; j++)
			con2(a,q);
		__ans |= chk(a,s);
	}
	static int t[N];
	for(int i = 1; i <= n; i++){
		a[i] = t[i] = i;
	}
	if(chk(t,s)) __ans = 0;
	con1(a,q); con1(a,q);
	if(__ans && chk(a,t) && k > 1) __ans = 0;
	puts(__ans ? "YES": "NO");
	return 0;
}
