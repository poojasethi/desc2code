#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 110
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m;
int a[N],b[N],c[N],d[N];
inline bool ju() {
	int i;
	For(i,1,n) if (b[i]!=c[i]) break;
	return i>n;
}
inline void fail() {
	printf("NO\n");
	exit(0);
}
int main() {
	scanf("%d%d",&n,&m);
	For(i,1,n) scanf("%d",&a[i]);
	For(i,1,n) scanf("%d",&c[i]);
	int A,B;
	A=B=0;
	For(i,1,n) b[i]=i;
	for (;A<=m&&!ju();A++) {
		For(j,1,n) d[j]=b[j];
		For(j,1,n) b[j]=d[a[j]];
	}
	For(i,1,n) b[i]=i;
	for (;B<=m&&!ju();B++) {
		For(j,1,n) d[j]=b[j];
		For(j,1,n) b[a[j]]=d[j];
	}
	if (A>B) swap(A,B);
	if (!A||m>1&&B==1) fail();
	if (A<=m&&(m-A)%2==0||B<=m&&(m-B)%2==0) printf("YES\n");
	else fail();
	return 0;
}
