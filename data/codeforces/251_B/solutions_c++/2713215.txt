#include<iostream>
#include<cstdio>
#include<set>
#include<vector>
using namespace std;
#define A first
#define B second
#define ins insert
int n,k;
set< vector<int> > f,to;
vector<int> x,y,aim,ss;
int q[110];
int main()
{
    //freopen("input.txt","r",stdin);
    cin>>n>>k;
    x.resize(n); y.resize(n); aim.resize(n); ss.resize(n);
    for (int i=0; i<n; i++) cin>>q[i],q[i]--;
    for (int i=0; i<n; i++) cin>>aim[i],aim[i]--,ss[i]=i;
    f.ins(ss);
    if (f.count(aim)) {puts("NO"); return 0;}
    for (int i=1; i<=k; i++)
    {

        to.clear();
        for (set< vector<int> >::iterator j=f.begin(); j!=f.end(); j++)
        {
            for (int t=0; t<n; t++)
            {
                x[t]=(*j)[q[t]];
                y[q[t]]=(*j)[t];
            }
            to.ins(x); to.ins(y);
        }
        f=to;
        f.erase(ss);
    }
    if (to.count(aim)) puts("YES"); else
    puts("NO");
}
