#include<stdio.h>
#define N 101
int n,k,p[N],q[N],s[N],r[N];
bool comp(int a[],int b[]){
	for(int i=1;i<=n;i++)if(a[i]!=b[i])return 0;
	return 1;
}
int main(){
//	freopen("2.in","r",stdin);
	int i,j;
	scanf("%d%d",&n,&k);
	for(i=1;i<=n;i++)scanf("%d",q+i);
	for(i=1;i<=n;i++)scanf("%d",s+i);
	for(i=1;i<=n;i++)p[i]=i;
	if(comp(p,s)){
		puts("NO");
		return 0;
	}
	for(i=1;i<=n;i++)r[i]=p[q[i]];
	if(comp(r,s)){
		for(i=1;i<=n;i++)r[q[i]]=p[i];
		if(comp(r,s)){
			if(k==1){puts("YES");return 0;}
			else{puts("NO");return 0;}
		}
	}
	for(j=1;j<=k;j++){
		for(i=1;i<=n;i++)r[i]=p[q[i]];
		for(i=1;i<=n;i++)p[i]=r[i];
		if((k&1)==(j&1)&&comp(p,s)){puts("YES");return 0;}
	}
	for(i=1;i<=n;i++)p[i]=i;
	for(j=1;j<=k;j++){
		for(i=1;i<=n;i++)r[q[i]]=p[i];
		for(i=1;i<=n;i++)p[i]=r[i];
		if((k&1)==(j&1)&&comp(p,s)){puts("YES");return 0;}
	}
	puts("NO");return 0;
}
