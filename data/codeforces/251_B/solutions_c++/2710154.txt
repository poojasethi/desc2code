#include <cstdio>
#include <set>
#include <map>
#include <vector>
#include <algorithm>
#include <iostream>
using namespace std;
#define LL long long
#define N 100010
#define INF 0x7fffffffffffffffLL

int main()
{
    int n,k;
    cin>>n>>k;
    vector<int> q(n),s(n);
    for (int i=0; i<n; i++)
        cin>>q[i],--q[i];
    for (int i=0; i<n; i++)
        cin>>s[i],--s[i];
    set<vector<int> > tmp;
    vector<int> x(n);
    for (int i=0; i<n; i++) x[i]=i;
    tmp.insert(x);
    if (tmp.count(s))
    {
        puts("NO");
        return 0;
    }
    for (int i=1; i<=k; i++)
    {
        set<vector<int> > get;
        for (set<vector<int> >::iterator it=tmp.begin();
                it!=tmp.end(); it++)
        {
            const vector<int>& p=*it;
            vector<int> b(n),c(n);
            for (int i=0; i<n; i++) b[i]=p[q[i]],c[q[i]]=p[i];
            get.insert(b),get.insert(c);
        }
        tmp=get;
        if (i==k) break;
        else tmp.erase(s);
    }
    puts(tmp.count(s)?"YES":"NO");
}
