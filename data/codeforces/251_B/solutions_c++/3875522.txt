#include<cstdio>
#include<cstdlib>
#include<algorithm>
#define N 150
#define foru(i,a,b) for(int i=a;i<=b;++i)

using namespace std;
int q[N],s[N],x[N],y[N],n,k,xx,yy;
bool equal()
{
	foru(i,1,n)
	  if(x[i]!=s[i]) return 0;
	return 1;
}
bool ok()
{
	foru(i,1,n) x[i]=q[i];
	if(equal()) xx=1;
	foru(i,1,n) x[q[i]]=i;
	if(equal()) yy=1;
	if(xx&&yy&&k!=1) return 0;
	foru(i,1,n) x[i]=i;
	if(equal()) return 0;
	//if(equal()&&(!(k&1))) return 1;
	foru(i,1,k)
	{
		foru(j,1,n) y[j]=x[j];
		foru(j,1,n) x[j]=y[q[j]];
		if(equal()&&(!((k-i)&1))) return 1;
	}
	foru(i,1,n) x[i]=s[i];
	foru(i,1,n) s[i]=i;
	foru(i,1,k)
	{
		foru(j,1,n) y[j]=x[j];
		foru(j,1,n) x[j]=y[q[j]];
		if(equal()&&(!((k-i)&1))) return 1;
	}
	return 0;
}
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	scanf("%d%d",&n,&k);
	foru(i,1,n) scanf("%d",&q[i]);
	foru(i,1,n) scanf("%d",&s[i]);
	if(ok()) printf("YES");
	else printf("NO");
	return 0;
} 
