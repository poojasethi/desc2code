#include<cstdio>
#include<algorithm>
#include<cstring>

using namespace std;

int n,k,A,B;
int p[105],np[105],q[105],s[105];

int main() {
    scanf("%d%d",&n,&k);
    for(int i=1;i<=n;++i) scanf("%d",&q[i]);
    for(int i=1;i<=n;++i) scanf("%d",&s[i]);
    for(int i=1;i<=n;++i) p[i]=i;
    for(;A<=k+1;++A) {
        bool done=1;
        for(int i=1;i<=n;++i) if(p[i]!=s[i]) done=0;
        if(done) break;
        for(int i=1;i<=n;++i) np[i]=p[q[i]];
        memcpy(p,np,sizeof(p));
    }
    for(int i=1;i<=n;++i) p[i]=i;
    for(;B<=k+1;++B) {
        bool done=1;
        for(int i=1;i<=n;++i) if(p[i]!=s[i]) done=0;
        if(done) break;
        for(int i=1;i<=n;++i) np[q[i]]=p[i];
        memcpy(p,np,sizeof(p));
    }
    if(A>k && B>k || !A || !B) printf("NO");
    else if(A==k || B==k) printf("YES");
    else {
        if((1<A||1<B) && A<k && (k-A)%2==0) printf("YES");
        else if((1<A||1<B) && B<k && (k-B)%2==0) printf("YES");
        else printf("NO");
    } return 0;
}