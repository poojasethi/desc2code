#include <cstdio>

#define N 101

int a[N], b[N], g[N], v[N], t[N];
int n, k;

bool igual(int *a, int *b)
{
	for (int i = 1; i <= n; ++i)
		if (a[i] != b[i]) return false;
	return true;
}

void aplica(int* a, int* v)
{
	for (int i = 1; i <= n; ++i)
		t[i] = v[a[i]];
	for (int i = 1; i <= n; ++i)
		v[i] = t[i];
}

bool solve(int* a, int* b, int* g, int k)
{
	int z = 0;
	for (int i = 1; i <= n; ++i)
		v[i] = i;
	while (!igual(v, g) && k >= 0)
	{
		aplica(a, v);
		++z;
		--k;
	}
	if (z == 0 || k < 0) return false;
	++k;
	if (k%2 == 0) return false;
	aplica(b, v); aplica(b, v);
	if (k != 1 && igual(v, g)) return false;
	return true;
}

int main()
{
	scanf("%d%d", &n, &k);
	for (int i = 1; i <= n; ++i)
		scanf("%d", &a[i]);
	for (int i = 1; i <= n; ++i)
		b[a[i]] = i;
	for (int i = 1; i <= n; ++i)
		scanf("%d", &g[i]);
	
	if (solve(a, b, g, k) || solve(b, a, g, k)) printf("YES\n");
	else printf("NO\n");
	
	return 0;
}
