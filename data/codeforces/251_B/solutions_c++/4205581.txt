#include <cstdio>

int n,k;
int qs[102];
int as[102];
int ps[102];
int pss[102];
int main() {
	scanf("%d%d",&n,&k);
	int exi=0;
	for(int i=1;i<=n;i++) scanf("%d",&qs[i]);
	for(int i=1;i<=n;i++) {
		scanf("%d",&as[i]);
		ps[i]=i;
	}
	if(n==1) {
		printf("NO\n");
		return 0;
	}
	for(int i=0;i<=k;i++) {
		if((k-i+1)%2) {
			int flg=1;
			for(int j=1;j<=n;j++) if(as[j]!=ps[j]) flg=0;
			if(flg&&exi==0) {
				exi=1;
				if(i<2) exi=-1;
			}
		}
		for(int i=1;i<=n;i++) pss[i]=ps[qs[i]];
		for(int i=1;i<=n;i++) ps[i]=pss[i];
	}
	for(int i=1;i<=n;i++) ps[i]=i;
	for(int i=0;i<=k;i++) {
		if((k-i+1)%2) {
			int flg=1;
			for(int j=1;j<=n;j++) if(as[j]!=ps[j]) flg=0;
			if(flg) {
				if(i<2&&exi==-1&&k>1) {
					printf("NO\n");
					return 0;
				}
				exi=1;
			}
		}
		for(int i=1;i<=n;i++) pss[qs[i]]=ps[i];
		for(int i=1;i<=n;i++) ps[i]=pss[i];
	}
	if(exi) {
		printf("YES\n");
	} else {
		printf("NO\n");
	}
	return 0;
}
