#include<cstdio>
#include<cstdlib>
#define N 105
int n,K,flag;
int q[N],p[N],s[N],f[N],tmp[N];
int main(){
	scanf("%d%d",&n,&K);
	for(int i=1;i<=n;i++) scanf("%d",&q[i]);
	for(int i=1;i<=n;i++) scanf("%d",&s[i]);
	for(int i=1;i<=n;i++) p[i]=i;
	for(int j=0;j<=K;j++){
		flag=1;
		for(int i=1;i<=n;i++) if(p[i]!=s[i]) flag=0;
		
//		if(flag) printf("jjj %d\n",j);
		
		if(flag){f[j]++; break;}
		for(int i=1;i<=n;i++) tmp[q[i]]=p[i];
		for(int i=1;i<=n;i++) p[i]=tmp[i];
	}
	for(int i=1;i<=n;i++) p[i]=i;
	for(int j=0;j<=K;j++){
		flag=1;
		for(int i=1;i<=n;i++) if(p[i]!=s[i]) flag=0;
		
//		if(flag) printf("jjjj %d\n",j);
		
		if(flag){f[j]++; break;}
		for(int i=1;i<=n;i++) tmp[i]=p[q[i]];
		for(int i=1;i<=n;i++) p[i]=tmp[i];
	}
	if(K==1){
		if(f[1]) printf("YES\n");
		else printf("NO\n");
		return 0;
	}
	for(int j=(f[1]==2?2:1);j<=K;j++)
	if(f[j]){
		if(((K-j)&1)==0){printf("YES\n"); return 0;}
	}
	printf("NO\n");
}
