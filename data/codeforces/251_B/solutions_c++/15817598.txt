#include<stdio.h>
#include<string.h>
#include<vector>
#include<set>
using namespace std;
int n,k,q[110];
vector<int> r;
set<vector<int> > s[110];
bool dfs(int x,vector<int> a){
	if(x==k)return a==r;
	if(a==r)return false;
	if(s[x].count(a))return false;
	s[x].insert(a);
	vector<int> b(n);
	for(int i=0; i<n; i++)
		b[i]=a[q[i]];
	if(dfs(x+1,b))return true;
	for(int i=0; i<n; i++)
		b[q[i]]=a[i];
	if(dfs(x+1,b))return true;
	return false;
}
int main(){
	scanf("%d%d",&n,&k);
	vector<int> a(n);
	for(int i=0; i<n; i++){
		scanf("%d",&q[i]);
		--q[i];
		a[i]=i;
	}
	r.resize(n);
	for(int i=0; i<n; i++){
		scanf("%d",&r[i]);
		--r[i];
	}
	puts(dfs(0,a)?"YES":"NO");
	return 0;
}