#include <cstdio>

int n,k,ans[2],q[110],s[110],a[110],b[110];

bool Check() {
	for (int i=1;i<=n;++i)
		if (a[i]!=s[i]) return false;
	return true;
}

int Work1() {
	for (int i=1;i<=n;++i) a[i]=i;
	for (int w=0;w<=k;++w) {
		if (Check()) return w;
		for (int i=1;i<=n;++i) b[q[i]]=a[i];
		for (int i=1;i<=n;++i) a[i]=b[i];
	}
	return k+1;
}

int Work2() {
	for (int i=1;i<=n;++i) a[i]=i;
	for (int w=0;w<=k;++w) {
		if (Check()) return w;
		for (int i=1;i<=n;++i) b[i]=a[q[i]];
		for (int i=1;i<=n;++i) a[i]=b[i];
	}
	return k+1;
}

bool Can(int w) {
	if ((ans[w]==k+1)||(ans[w]==0)) return false;
	if ((k-ans[w])&1) return false;
	if ((ans[w]<k)&&(ans[w]<=1)&&(ans[w^1]<=1)) return false;
	return true;
}

int main() {
	scanf("%d%d",&n,&k);
	for (int i=1;i<=n;++i) scanf("%d",&q[i]);
	for (int i=1;i<=n;++i) scanf("%d",&s[i]);
	ans[0]=Work1();
	ans[1]=Work2();
	if ((Can(0))||(Can(1))) printf("YES\n");
	else printf("NO\n");
	return 0;
}
