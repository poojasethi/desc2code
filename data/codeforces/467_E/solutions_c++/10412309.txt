#include <bits/stdc++.h>
typedef long long LL;
#define rep(i,n) for(int i = 0;i < n;i ++)

std::vector<int> answer;
void add(int x, int y) {
	answer.push_back(x);
	answer.push_back(y);
}
int n;
void Go(int &i) {
	std::map<int, int> between, cnt, pre;
	std::stack<int> stack;
	for(int x; i <= n; i ++) {
		scanf("%d", &x);
		if(++ cnt[x] == 4) {
			add(x, x);
			return;
		}
		if(between.count(x)) {
			add(between[x], x);
			return;
		}
		if(pre.count(x)) {
			while(!stack.empty()) {
				int u = stack.top();
				stack.pop();
				if(u == x)	break;
				between[u] = x;
				if(pre.count(u) && pre[u] < pre[x]) {
					add(u, x);
					return;
				}
			}
		}
		pre[x] = i;
		stack.push(x);
	}
}

			

int main() {
	scanf("%d", &n);
	for(int i = 1; i <= n; i ++)
		Go(i);
	printf("%d\n", answer.size() * 2);
	rep(i, answer.size()) {
		rep(_, 2)
			printf("%d %d ", answer[i], answer[i+1]);
		i ++;
	}
	puts("");
	return 0;
}

