// by Î¾

#include <bits/stdc++.h>

using namespace std;

int n,a[1000009],A[2000009];

inline bool go(int &i){
    stack<int>st;
    map<int,int>s,p;
    for(;i<=n;++i){
        if(p[a[i]]){
            A[++*A]=p[a[i]],A[++*A]=a[i];
            A[++*A]=p[a[i]],A[++*A]=a[i];
            return 1;
        }
        while(st.size() && (s[a[i]]>1 || s[a[i]]==1 && st.top()!=a[i])){
            p[st.top()]=a[i];
            --s[st.top()];
            st.pop();
        }
        ++s[a[i]];
        st.push(a[i]);
    }
    return 0;
}

int main(){
    scanf("%d",&n);
    for(int i=1;i<=n;++i)scanf("%d",a+i);
    for(int i=1;go(i);++i);
    printf("%d\n",*A);
    for(int i=1;i<=*A;++i)printf("%d ",A[i]);
}