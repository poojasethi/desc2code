#include <bits/stdc++.h>
using namespace std;
#define pb push_back
const int maxn = 5e5 + 100;
map<int, int> belong, cnt;
vector<int> ans, val;
int n;
int main() {
	scanf("%d", &n);
	for(int i = 1, x; i <= n; ++i) {
		scanf("%d", &x);
		if(belong.count(x)) {
			ans.pb(belong[x]), ans.pb(x);
			ans.pb(belong[x]), ans.pb(x);
			belong.clear(), cnt.clear(), val.clear();
		} else {
			if(cnt.count(x)) {
				while(cnt[x] > 1 || val.back() != x) {
					belong[val.back()] = x;
					--cnt[val.back()];
					val.pop_back();
				}
			}
			++cnt[x], val.pb(x);
		}
	}
	printf("%d\n", (int)ans.size());
	for(int i = 0, t = ans.size(); i < t; ++i) {
		printf("%d ", ans[i]);
	}
	puts("");
	return 0;
}

