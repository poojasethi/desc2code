#include<bits/stdc++.h>
#include<map>
using namespace std;
const int MAXN = 500005;
const int INF = 0xffffff;
int a[MAXN],f[MAXN],g[MAXN];
map<int,int> Map;//��˭���ǹ� 
map<int,int> Count;//�Ƿ���߹� 
vector<int> ans; 
int n;
int main()
{
//	freopen("1.in","r",stdin);
	scanf("%d",&n);
	for (int i=0;i<n;i++) scanf("%d",a+i);
	for (int i=0;i<n;i++)
	{
		Map.clear();
		Count.clear();
		stack<int> s;
		do
		{		
			if (Map[a[i]]) 
			{
				ans.push_back(Map[a[i]]);
				ans.push_back(a[i]);
				break;
			}
			while (Count[a[i]]>1 || (Count[a[i]]==1 && s.top()!=a[i ]) && s.size())
			{
				Map[s.top()] = a[i];
				Count[s.top()]--;
				s.pop();
			}
			Count[a[i]]++;
			s.push(a[i]);
			i++;
		}
		while (i<n);
	}
	printf("%d\n",ans.size()*2);
	for (int i=0;i<ans.size();i+=2) 
	{
		if (i==0) printf("%d %d %d %d",ans[i],ans[i+1],ans[i],ans[i+1]);
		else printf(" %d %d %d %d",ans[i],ans[i+1],ans[i],ans[i+1]); 
	}
}
