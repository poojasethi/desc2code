#include <iostream>
#include <cstdio>
#include <string.h>
#include <string>
#include <vector>
#include <map>

#define REP(i,a,b) for(int i=a;i<=b;i++)
#define sf scanf
#define pf printf
#define lson rt<<1
#define rson rt<<1|1
#define LL long long 

using namespace std;
const int MAXN = 500005;

int n;
int a[MAXN];
map<int,int> mymap , cnt;
int st[MAXN] , top;

vector<int> ans;

int main(){
	
	while ( scanf("%d",&n)!=EOF){ 
		for(int i=1;i<=n;i++) scanf("%d",&a[i]);
		
		ans.clear(); 
		mymap.clear(); cnt.clear(); top = 0;
		REP(i,1,n){
			if ( mymap.count(a[i])>0 ) {	
				ans.push_back(mymap[a[i]]);ans.push_back(a[i]);
				ans.push_back(mymap[a[i]]);ans.push_back(a[i]);
				mymap.clear(); cnt.clear(); top = 0;
				continue;
			}
			if ( cnt.count(a[i])==0 ) {
				cnt[a[i]] = 1;
			}
			else {
				int tmp = cnt[a[i]];
				while ( top>0 ) {
					if ( st[top]==a[i] ) tmp--;
					if ( tmp==0 ) break;
					mymap[ st[top] ] = a[i]; top--; 
				}
				cnt[a[i]]++; 
			}
			st[++top] = a[i];
		}
		printf("%d\n" ,ans.size());
		if ( ans.size()>0 ) {
			REP(i,0,ans.size()-1) printf("%d " , ans[i]);
			printf("\n"); 
		}
	}
	
	return 0;
}