#include <bits/stdc++.h>

#define FI(ii,aa,bb) for(int ii=aa;ii<=bb;ii++)
#define F(ii,aa,bb) for(int ii=aa;ii<bb;ii++)
#define TF(ii,aa,bb) for(int ii=aa;ii>=bb;ii--)
#define mp make_pair
#define pii pair<int,int>
#define st first
#define nd second
#define pb push_back
#define pdd pair<double,double>
#define ll long long
#define inf (1000000000)

using namespace std;

int n,A[500005],m;
string buffer;
ostringstream out;

int solve(int x){
	int val,top;
	stack<int> Stack;
	map<int,int> Cnt,Found;
	FI(i,x,n){
		val = A[i];
		if( Found.find(val) != Found.end() ){
			int t = Found[val];
			m += 4;
			out << t << " " << val << " " << t << " " << val << " "; 
			return i;
		}
		while(!Stack.empty() && (Cnt[val]>1 || (Cnt[val]==1 && Stack.top()!=val)) ){
			top = Stack.top();
			Cnt[ top ]--;
			Found[ top ] = val;
			Stack.pop();
		}
		Cnt[val]++;
		Stack.push(val);
	}
	return 0;
}

int main()
{
	scanf("%d",&n);
	FI(i,1,n) scanf("%d",A+i);

	int x = 0;
	while( x = solve(x+1) );
	
	cout << m << endl;
	if(m)
	cout << out.str() << endl;

	return 0;
}
