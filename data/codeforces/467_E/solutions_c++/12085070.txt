#include <cstdio>
#include <map>
#include <vector>
using namespace std;
map<int, int> wrap, cnt;
vector<int> value, ans;
int n;

int main(){

    scanf("%d", &n);
    int v;
    for (int i = 0; i < n; ++ i){
        scanf("%d", &v);
        if (wrap.count(v)){
            ans.push_back(wrap[v]); ans.push_back(v);
            ans.push_back(wrap[v]); ans.push_back(v);
            wrap.clear();
            value.clear();
            cnt.clear();
        } else {
            if (cnt[v] > 0){
                while (value.back() != v){
                    wrap[value.back()] = v;
                    value.pop_back();
                }
                if (cnt[v] > 1){
                    wrap[v] = v;
                }
            }
            value.push_back(v);
            cnt[v] ++;
        }
    }
    printf("%d\n", (int)ans.size());
    for (int i = 0; i < ans.size(); ++ i){
        printf("%d ", ans[i]);
    }
    puts("");
    return 0;
}