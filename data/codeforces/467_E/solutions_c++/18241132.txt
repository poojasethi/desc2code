#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>
#include <map>
using namespace std;
#define pb push_back
const int maxn = 5e5+10;
int n,a[maxn];
map<int,int> bel,cnt;
vector<int> val;
int main() {

	ios_base::sync_with_stdio(0),cin.tie(0),cout.tie(0);
	#ifndef ONLINE_JUDGE
    freopen("in", "r", stdin);
	#endif

    cin >> n;
    for(int i = 0; i < n; i++) cin >> a[i];
    vector<int> ret;
    for(int i = 0; i < n; i++) {
        if(bel[a[i]]) {
            ret.pb(bel[a[i]]); ret.pb(a[i]);
            ret.pb(bel[a[i]]); ret.pb(a[i]);
            cnt.clear();bel.clear();val.clear();
        }else{
            if(cnt[a[i]]) {
                while(val.back() != a[i] || cnt[a[i]] > 1) {
                    bel[val.back()] = a[i];
                    cnt[val.back()]--;
                    val.pop_back();
                }
            }
            cnt[a[i]]++;
            val.pb(a[i]);
        }
    }
    cout<<ret.size()<<endl;
    for(int i = 0; i < ret.size(); i++) {
        if(i) cout<<" "<<ret[i];
        else cout<<ret[i];
    }
    cout<<endl;


        



	return 0;
}