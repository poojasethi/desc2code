n=input()
l=[input() for i in range(n)]
m=min(l)
M=max(l)
mi=l.index(m)
Mi=l.index(M)
a='Unrecoverable configuration.'
if (M-m)%2==0:
	d=(M-m)/2
	if d==0:
		a='Exemplary pages.'
	else:
		l[Mi]-=d
		l[mi]+=d
		if len(set(l))==1:
			a=('%d ml. from cup #%d to cup #%d.' % (d,mi+1,Mi+1))
print a
