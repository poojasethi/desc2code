n = input()
a = [input() for _ in range(n)]
b = sum(a) / n
a = [x - b for x in a]
t = n - a.count(0)
if sum(a) or t > 2:
	print 'Unrecoverable configuration.'
elif t:
	i = [i for i in range(n) if a[i] > 0][0]
	j = [j for j in range(n) if a[j] < 0][0]
	print '%d ml. from cup #%d to cup #%d.' % (a[i], j + 1, i + 1)
else:
	print 'Exemplary pages.'