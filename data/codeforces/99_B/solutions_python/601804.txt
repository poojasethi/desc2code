n=input()
bb=[None]*n
ss=0
p=1
for i in xrange(n):
  s=input()
  ss+=s
  bb[i]=(i+1,s)
bb.sort(key=lambda x:x[1])
p&=ss%n==0
#print p
b=ss/n
p&=all(b==bi[1] for bi in bb[1:n-1])and bb[0][1]+bb[n-1][1]==2*b
#print p
if p:
  print 'Exemplary pages.' if bb[0][1]==bb[n-1][1] else str(b-bb[0][1])+' ml. from cup #'+str(bb[0][0])+' to cup #'+str(bb[n-1][0])+'.'
else:
  print 'Unrecoverable configuration.'