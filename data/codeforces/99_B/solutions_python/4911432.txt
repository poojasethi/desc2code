n=input()
i=map(input, ['']*n)
I=sorted(i)
if i.count(i[0]) == n:print "Exemplary pages.";exit()
s=I[0] + I[-1]
if s%2 or n > 2 and (s/2 != I[1] or I[1] != I[-2]): print "Unrecoverable configuration.";exit()
print "%s ml. from cup #%s to cup #%s." %((I[-1]-I[0])/2, i.index(I[0])+1, i.index(I[-1])+1)