import sys
_=raw_input()
mn = 100000
mx = -1
s=0
q=[]
for l in sys.stdin.readlines():
    n = int(l)
    s+=1
    if n < mn: 
        mn=n
        nn=s
    if n > mx: 
        mx=n
        xx=s

    q.append(n)

s=0
q[nn-1] += (mx-mn)/2
q[xx-1] -= (mx-mn)/2
for n in q:
    if n!=(mn+mx)/2:
        s+=1

if mn == mx:
    print 'Exemplary pages.'
elif s!=0:
    print 'Unrecoverable configuration.'
else:
    print '{0} ml. from cup #{1} to cup #{2}.'.format((mx-mn)/2, nn, xx)
    


    

