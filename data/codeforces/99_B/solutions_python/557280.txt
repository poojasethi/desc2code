n=input()
t = [input() for i in range(n)]
m = min(t)
M = max(t)
if m==M:
  print 'Exemplary pages.'
else:
  v = (M-m)/2
  a = t.index(m)+1
  b = t.index(M)+1
  av = (M+m)/2
  if t.count(m)==1 and t.count(M)==1 and (m+M)%2==0 and t.count(av)==len(t)-2:
    print '%s ml. from cup #%s to cup #%s.' % (v,a,b)
  else:
    print 'Unrecoverable configuration.'

