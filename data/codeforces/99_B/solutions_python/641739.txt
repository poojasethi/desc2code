n = input()
L = []
for i in xrange(n): L.append((input(), i + 1))
L.sort()
a, b = L[0][0], L[n - 1][0]
if a == b: print 'Exemplary pages.'
elif (a + b) % 2 != 0: print 'Unrecoverable configuration.'
else:
    c = (a + b) / 2
    ok = True
    for i in range(1, n - 1): ok &= L[i][0] == c
    print 'Unrecoverable configuration.' if not ok else '%d ml. from cup #%d to cup #%d.' %(b - c, L[0][1], L[n - 1][1])
