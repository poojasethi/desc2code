#include <iostream>
#include <algorithm>
using namespace std;
int a[1000];
int main()
{
        int n;
        cin>>n;
        for(int i=0;i<n;i++)
                cin>>a[i];
        int *x,*y;
        x=min_element(a,a+n);
        y=max_element(a,a+n);
        if(*x==*y)
        {
                cout<<"Exemplary pages.";
                return 0;
        }
        int t=(*y-*x)/2;
        *y-=t;
        *x+=t;
        int *x2,*y2;
        x2=min_element(a,a+n);
        y2=max_element(a,a+n);
        if(*x2==*y2)
                cout<<t<<" ml. from cup #"<<x-a+1<<" to cup #"<<y-a+1<<".";
        else
                cout<<"Unrecoverable configuration.";
}