#include<iostream>
#include<algorithm>
#include<cstdio>
using namespace std;
int main()
{
	long i,j,k,l,m,n,a[1001],b[1001],sum;
	while(scanf("%ld",&n)==1)
	{
		sum=0;
		for(i=1;i<=n;i++)
		{
			scanf("%ld",&a[i]);
			sum+=a[i];
		}
		if(sum%n!=0)
			printf("Unrecoverable configuration.\n");
		else
		{
			sum/=n;l=0;
			for(i=1;i<=n;i++)
			{
				if(a[i]!=sum)
				{
					b[++l]=i;
				}
			}
			if(l==2)
			{
				if(a[b[1]]>a[b[2]])
					swap(b[1],b[2]);
				printf("%ld ml. from cup #%ld to cup #%ld.\n",abs(a[b[1]]-a[b[2]])/2,b[1],b[2]);
			}
			else
			{
				if(l==0)
					printf("Exemplary pages.\n");	
				else
					printf("Unrecoverable configuration.\n");
			}
		}
	}
	return 0;
}