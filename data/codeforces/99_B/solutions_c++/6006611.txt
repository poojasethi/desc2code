#include<iostream>
#include<cstring>
#include<cstdio>
#include<algorithm>
using namespace std;
struct info
{
	int x,y;
}a[10000];
bool cmp(info a,info b)
{return a.x<b.x;}
int main()
{
	int i,j,m,n,k,t;
	scanf("%d",&n);
	bool flag=true;
	for(i=0;i<n;i++)
	{
		scanf("%d",&a[i].x);
		a[i].y=i+1;
		if(i>0&&a[i].x!=a[i-1].x)
			flag=false;
	}
	sort(a,a+n,cmp);
	if(flag) puts("Exemplary pages.");
	else
	{
		flag=true;
		for(i=2;i<n-1;i++)
			if(a[i].x!=a[i-1].x)
				flag=false;
		if(n>2&&a[0].x+a[n-1].x!=a[1].x*2||n==2&&(a[n-1].x+a[0].x)%2!=0)
			flag=false;
		if(!flag) puts("Unrecoverable configuration.");
		else printf("%d ml. from cup #%d to cup #%d.\n",
				(a[n-1].x-a[0].x)/2,a[0].y,a[n-1].y);
	}
}
