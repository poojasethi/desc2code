#include<bits/stdc++.h>
using namespace std;
int main(){
    int n,f=1,a,b,m;
    pair<int,int>r[1010];
    cin>>n;
    for(int i=0;i<n;i++){
        cin>>r[i].first;
        r[i].second=i+1;
    }
    sort(r,r+n);
    for(int i=1;i<n-2;i++)if(r[i].first!=r[i+1].first){
        f=0;
        break;
    }
    if(n==1|f&&r[0].first==r[n-1].first&&r[n-2].first==r[n-1].first)cout<<"Exemplary pages.\n";
    else if(f&&(n==2&&(r[0].first+r[n-1].first)%2==0||r[n-1].first+r[0].first==2*r[n-2].first)){
        
            m=r[n-1].first-r[0].first;
            a=r[0].second;
            b=r[n-1].second;
        
        cout<<m/2<<" ml. from cup #"<<a<<" to cup #"<<b<<".\n";
    }
    else cout<<"Unrecoverable configuration.\n";
}