#include <stdio.h>
#include <algorithm>
#include <iostream>
using namespace std;

int n,A[1001],P[1001];

bool cmp(int a,int b){ return A[a]<A[b]; }

int main()
{
        int i;
        scanf("%d",&n);
        for (i=1;i<=n;i++) scanf("%d",A+i), P[i] = i;
        sort(P+1,P+n+1,cmp);

        if (A[P[1]] == A[P[n]]){ puts("Exemplary pages."); return 0; }
        for (i=2;i<n;i++) if (A[P[i]] != A[P[2]]){ puts("Unrecoverable configuration."); return 0; }
        if (((A[P[n]]-A[P[1]])&1) || (n > 2 && (A[P[n]]+A[P[1]])/2 != A[P[2]])){
        	puts("Unrecoverable configuration."); return 0; }
        printf("%d ml. from cup #%d to cup #%d.",(A[P[n]]-A[P[1]])/2,P[1],P[n]);

        return 0;
}
