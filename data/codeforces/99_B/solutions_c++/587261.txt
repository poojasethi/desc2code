#include <stdio.h>
#include <algorithm>
using namespace std;

int main() {
  static int a[1000];
  int n;
  scanf("%d", &n);
  int sum = 0;
  for (int i = 0; i < n; ++i) {
    scanf("%d", a + i);
    sum += a[i];
  }
  if (sum % n != 0) puts("Unrecoverable configuration.");
  else {
    sum /= n;
    int l[3], size = 0;
    for (int i = 0; i < n; ++i) {
      if (a[i] != sum) {
        l[size++] = i;
        if (size > 2) break;
      }
    }
    if (size > 2) puts("Unrecoverable configuration.");
    else if (size == 0) puts("Exemplary pages.");
    else {
      if (a[l[0]] < a[l[1]]) swap(l[0], l[1]);
      printf("%d ml. from cup #%d to cup #%d.\n", a[l[0]] - sum, l[1] + 1, l[0] + 1);
    }
  }
  return 0;
}
