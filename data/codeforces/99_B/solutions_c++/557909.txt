#include <iostream>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;
int n,a[1001];
vector <int> v;
int main()
{
    cin>>n;
    int s=0;
    for(int i = 0; i < n; i++)
    {
        cin>>a[i];
        s+=a[i];
    }
    int sr=s/n;
    for(int i=0;i<n;i++)
        if (a[i]!=sr) v.push_back(i);
    if (v.size()==0) cout<<"Exemplary pages."; else
        if (v.size()==2 && a[v[0]]+a[v[1]]==2*sr) cout<<abs(sr-a[v[0]])<<" ml. from cup #"<<((a[v[0]]<a[v[1]])?v[0]+1:v[1]+1)<<" to cup #"<<((a[v[0]]>a[v[1]])?v[0]+1:v[1]+1)<<".";
            else cout<<"Unrecoverable configuration.";
    return 0;
}
