#include<iostream>
#include<sstream>
#include<vector>
#include<cmath>
using namespace std;
int main ()
{
 stringstream T;
 vector<int>V; int I=0,d=0;
 int n,c,s=0,S;  cin>>n;
 string h1="from cup #",h2=" to cup #";
 for(int i=0;i<n;i++)
 { cin>>c;  V.push_back(c); s+=c; }

 S=s; s/=n;
 for(int i=0;i<n;i++)
  if(V[i]!=s){I++; d+=abs(V[i]-s);}

 if(I==0){cout<<"Exemplary pages."; return 0;}
 if(S%n!=0||I>2||d&2!=0)
    {cout<<"Unrecoverable configuration."; return 0;}

 for(int i=0;i<n;i++)
 { if(V[i]<s)
    { string p; T<<i+1; T>>p; T.clear(); h1+=p; }
   if(V[i]>s)
    { string p; T<<i+1; T>>p; T.clear(); h2+=p; }
 }
 cout<<d/2<<" ml. "<<h1<<h2<<".";
 return 0;
}