/*
CF #78 DIV2
B - Help Chef Gerasim 
*/ 
#include <stdio.h>

int f[1001];
int n, i, x, y, z, tot=0, sum=0, add=0, average;

int main()
{
	scanf("%d", &n);
	for(i=0; i<n; i++)
	{
		scanf("%d", &f[i]);
		sum += f[i];
    } 
    average = sum / n;
    for(i=0; i<n; i++) 
	{
		f[i] -= average;
		if (f[i] != 0){
			tot++;
			add += f[i];
			if (f[i] > 0){
				x = i + 1;
				z = f[i];
			    }
			if (f[i] < 0) y = i + 1;
			}
	}
    if (tot>2 || tot==1 || add!=0){
	    printf("Unrecoverable configuration.\n");
		return 0;
		}
    if (tot==0){
		printf("Exemplary pages.\n");
		return 0;
	    }
    if (tot==2 && add==0){
		printf("%d ml. from cup #%d to cup #%d.\n", z, y, x);
		return 0;
	    }

	return 0;
}


