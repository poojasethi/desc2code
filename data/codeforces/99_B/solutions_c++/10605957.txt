#include<bits/stdc++.h>
using namespace std;

int main()
{
  	int n,*x,a,b,c=0,s=0;
  	long long int sum=0;
  	cin>>n;
  	x=new int[n];
  	for(int i=0;i<n;i++){
  		cin>>x[i];
  		sum+=x[i];
  	}
  	if(sum%n==0){
	  	sum/=n;
	  	for(int i=0;i<n;i++){
	  		if(x[i]>sum){
	  			c++;
	  			if(c>1){
	  				cout<<"Unrecoverable configuration.\n";
	  				return 0;
	  			}
	  			a=i;
	  		}
	  		if(x[i]<sum){
	  			s++;
	  			if(c>1){
	  				cout<<"Unrecoverable configuration.\n";
	  				return 0;
	  			}
	  			b=i;
	  		}
	  	}
	  	if(c==0&&s==0)	cout<<"Exemplary pages.\n";
	  	else	cout<<x[a]-sum<<" ml. from cup #"<<b+1<<" to cup #"<<a+1<<".\n";
     }
     else	cout<<"Unrecoverable configuration.\n";
     return 0;
}
