#include <iostream>
#define N 1000
using namespace std;
int t[N];
int main() {
    int n,S=0,k,l,h;
    cin >> n;
    for(int i=0;i<n;i++) {
        cin >> t[i];
        S+=t[i];
    }
    if(S%n!=0) {
        cout << "Unrecoverable configuration.\n";
        return 0;
    }
    k = S/n;
    int p=0;
    for(int i=0;i<n;i++) {
        if(t[i]!=k)
            p++;
        if(t[i]>k)
            h=i;
        if(t[i]<k)
            l=i;
    }
    if(p>2) {
        cout << "Unrecoverable configuration.\n";
        return 0;
    }
    if(p==0) {
        cout << "Exemplary pages.\n";
        return 0;
    }
    cout << t[h]-k << " ml. from cup #" << l+1 << " to cup #" << h+1 << ".\n";
    return 0;
}
