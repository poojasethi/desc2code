#include <stdio.h>

#define MAXN 1010

int main(void)
{
	int jc[MAXN], n, i, a, b, sum;
	int cnt, max, min, con;
	scanf("%d", &n);
	scanf("%d", &jc[0]);

	sum = max = min = jc[0];
	a = b = 1; cnt = 0;
	for(i=1; i<n; i++){
		scanf("%d", &jc[i]);
		sum += jc[i];
		if(max<jc[i]){b=i+1; max = jc[i];}
		if(min>jc[i]){a=i+1; min = jc[i];}
	}
	con = -1;
	if(sum%n==0) con = sum/n;
	for(i=0; i<n; i++){
		if(jc[i]!=con)cnt++;
	}
	if(cnt==0)
		printf("Exemplary pages.\n");
	else if(cnt==2 && (max-min)%2==0)
		printf("%d ml. from cup #%d to cup #%d.\n", (max-min)/2, a, b);
	else 
		printf("Unrecoverable configuration.\n");
	return 0;
}
