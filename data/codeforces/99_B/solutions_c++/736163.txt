#include <stdio.h>
#include <vector>
using namespace std;

int a[10005];
vector<int> p[20005];

int main(void) {
	int sum=0, n;
	scanf("%d", &n);
	for(int i=0;i<n;i++) {
		scanf("%d", &a[i]);
		p[a[i]].push_back(i);
		sum += a[i];
	}
	if(sum % n) {
		puts("Unrecoverable configuration.");
		return 0;
	}
	sum /= n;
	if(p[sum].size() == n) {
		puts("Exemplary pages.");
	} else if(p[sum].size() != n-2) {
		puts("Unrecoverable configuration.");
	} else {
		for(int i=sum+1;;i++)
			if(p[i].size()) {
				printf("%d ml. from cup #%d to cup #%d.\n",
						i-sum, p[sum-(i-sum)][0]+1, p[i][0]+1);
				break;
			}
	}
	return 0;
}
