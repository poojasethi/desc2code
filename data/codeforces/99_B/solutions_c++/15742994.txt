#include <iostream>
#include <algorithm>

using namespace std;

int main() {
	int n;
	cin>>n;
	int a[1000];
	for(int i=0;i<n;i++){
	    cin>>a[i];
	}
	int *min, *max;
	min = min_element(a, a+n);
	max = max_element(a, a+n);
	if (*min == *max) {
	    cout<<"Exemplary pages.";
	}
	else {
	    int diff = (*max - *min)/2;
	    *max -=diff;
	    *min += diff;
	    int *min_new, *max_new;
	    min_new = min_element(a, a+n);
	    max_new = max_element(a, a+n);
	    if (min_new == max_new) {
	        cout<<diff<<" ml. from cup #"<<min-a+1<<" to cup #"<<max-a+1<<".";
	    }
	    else {
	        cout<<"Unrecoverable configuration.";
	    }
	}
	return 0;
}
