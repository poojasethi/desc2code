#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;


int main()
{
	int n;
	cin>>n;
	int i,j;
	int kind=0;
	int num[10001],a[1000];
	memset(num,0,sizeof(num)); 
	
	for(i=0;i<n;i++)
	{
		cin>>a[i];
		if(!num[a[i]])
			kind++;
		num[a[i]]++;
	}
	if(kind==1)
	{
		cout<<"Exemplary pages."<<endl;
		return 0;
	}
		
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
		{
			if(a[j]>a[i] && (a[j]+a[i])%2==0 && num[(a[j]+a[i])/2]==n-2)
			{
				cout<<(a[j]-a[i])/2<<" ml. from cup #"<<i+1<<" to cup #"<<j+1<<"."<<endl;
				return 0;
			}
		}
	}
	cout<<"Unrecoverable configuration."<<endl;
	return 0;	
}
	 			 		   		 				 	   	 	