
#include <iostream>
#include <cstdlib>
#include <cstring>
#include <cstdio>
#include <algorithm>
#include <cmath>
#include <vector>
#include <queue>
#define FOR(it,c) for ( __typeof((c).begin()) it=(c).begin(); it!=(c).end(); it++ )

typedef long long int LL;

using namespace std;

int main(){

	int n, t[1010];
	scanf("%d",&n);
	for(int i=0;i<n;i++)scanf("%d",&t[i]);
	int sum=0;
	for(int i=0;i<n;i++)sum+=t[i];
	int ln=0,rn=0,l,r;
	for(int i=0;i<n;i++){
		if(t[i]*n<sum)ln++,l=i;
		if(t[i]*n>sum)rn++,r=i;
	}
	if(ln==0 && rn==0){
		puts("Exemplary pages.");
	}
	else if(ln==1 && rn==1 && sum%n==0 ){
		printf("%d ml. from cup #%d to cup #%d.\n",t[r]-sum/n,l+1,r+1);
	}
	else{
		puts("Unrecoverable configuration.");
	}

	return 0;
}
