#include<stdio.h>
int num[1005],p1,p2,n,s,ave;
int main(  )
{
	while( scanf( "%d",&n ) != EOF )
	{
		s = 0;
		int f = 1;
		for( int i = 0; i < n; ++i )
			scanf( "%d",&num[i] ),s +=num[i];
		if( s % n )
			f = 0;
		ave = s / n;
		int a = 0,b = 0,max = 0,min = 0;
		for( int i = 0; i < n; ++i )
		{
			if( num[i] > ave )
				++a,max = num[i],p1 = i;
			if( num[i] < ave )
				++b,min = num[i],p2 = i;
		}
		if( a == 0 && b == 0 )
			puts( "Exemplary pages." );
		else if( f && a == 1 && b == 1 && ( min + max == ave * 2 ) )
			printf( "%d ml. from cup #%d to cup #%d.\n",max-ave,p2 + 1,p1 + 1 );
		else
			puts( "Unrecoverable configuration." );
	}
	return 0;
}
