#include <bits/stdc++.h>

using namespace std;
pair<int, int> a[1001];
int main()
{
    int n, diff=0;
    scanf("%d", &n);
    for(int i=0;i<n;i++){
        scanf("%d", &diff);
        a[i]={diff, i};
    }
    sort(a, a+n);
    if(a[0].first==a[n-1].first){printf("Exemplary pages.");return 0;}
    if((a[n-1].first-a[0].first)%2){printf("Unrecoverable configuration."); return 0;}
    int x=(a[n-1].first-a[0].first)/2;
    a[n-1].first-=x;
    a[0].first+=x;
    for(int i=1;i<n;i++)
        if(a[i].first!=a[i-1].first){printf("Unrecoverable configuration."); return 0;}
    printf("%d ml. from cup #%d to cup #%d.", x, a[0].second+1, a[n-1].second+1);
}
