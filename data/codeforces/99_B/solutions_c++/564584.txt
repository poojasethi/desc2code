#include<iostream>

using namespace std;

int main()
{
	int n,sum=0,average,c = 0,t[2]={};
	int arr[10000]={};

	cin>>n;

	for(int i = 0 ; i < n ; ++i )	
	{	
		cin>>arr[i];
		sum += arr[i];
	}
	
	if(sum%n !=0 )
	{
		cout<<"Unrecoverable configuration."<<endl;
	}
	else
	{
		average = sum /n;

		for(int i = 0; i < n ; ++i )
		{
			if(arr[i]!=average)
			{
				t[c] = i;
				c++;
			}
		}

		if(c==2 && arr[t[0]] + arr[t[1]] == average * 2 )
		{
			if( arr[t[0]] < arr[t[1]] )
			{
				swap(t[0],t[1]);
			}

			cout<<arr[t[0]]-average<<" ml. from cup #"<<t[1]+1<<" to cup #"<<t[0]+1<<'.'<<endl;
		}
		else if(c==0)
		{
			cout<<"Exemplary pages."<<endl;
		}
		else	cout<<"Unrecoverable configuration."<<endl;
	}
	
}
