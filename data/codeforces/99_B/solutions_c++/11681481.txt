#include <bits/stdc++.h>
using namespace std;

int a[1010],t[1010];
int main(){
    int n;
    cin>>n;for(int i=0;i<n;i++)cin>>a[i],t[i]=a[i];

   sort(t,t+n);
   if(t[0]==t[n-1]){
        cout<<"Exemplary pages.\n";
        return 0;
   }
   int mn=t[0],mx=t[n-1];
   int av=(mn+mx)/2;

   //cout<<count(t+1,t+n-1,av)<<" "<<av<<"\n";
   if(count(t+1,t+n-1,av)==n-2  && (mn+mx)%2==0){
         int cap=(mx-mn)/2;
         int cup1=find(a,a+n,mn)-a;
         int cup2=find(a,a+n,mx)-a;
         cout<<cap<<" ml. from cup #"<<cup1+1<<" to cup #"<<cup2+1<<".\n";
        return 0;
    }

    cout<<"Unrecoverable configuration.\n";
}
