#include <stdio.h>

int main()
{
        int cup[11000][2]={};
        int k,i,t,sum=0,a,b;
        scanf("%d",&k);
        for(i=0;i<k;i++) { scanf("%d",&t); sum+=t; cup[t][0]++; cup[t][1]=i; }
        if(cup[sum/k][0]==k) {printf("Exemplary pages.\n"); return 0;}
        
        if((sum%k==0)&&cup[sum/k][0]==k-2)
        {
                for(i=0;i<10001;i++) { if(cup[i][0]==1&&i<sum/k) a=i; if(cup[i][0]==1&&i>sum/k) b=i;  }
                printf("%d ml. from cup #%d to cup #%d.",(b-a)/2,cup[a][1]+1,cup[b][1]+1);
        }
        else {printf("Unrecoverable configuration.\n"); return 0;}
        
        return 0;
}