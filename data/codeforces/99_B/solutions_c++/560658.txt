#include <cstdio>
#include <cstring>

#define NN 1100

typedef long long ll;
ll v[NN];

ll abs(ll x)  { return (x<0)?-x:x; }

int main() {
	int n;
	scanf("%d", &n);
	ll s = 0;
	for (int i = 0; i < n; i++) {
		scanf("%I64d", &v[i]);
		s += v[i];
	}
	int a[3], nc = 0;
	ll vol = s/n;
	for (int i = 0; i < n; i++) {
		if (v[i] != vol) {
			a[nc] = i;
			if (nc++ == 2) break;
		}
	}

	if (nc == 3 || nc == 1 || (s % n != 0)) printf("Unrecoverable configuration.\n");
	else if (nc == 0) printf("Exemplary pages.\n");
	else {
		if (v[a[0]] > v[a[1]])
			printf("%I64d ml. from cup #%d to cup #%d.\n", abs(v[a[0]]-vol), a[1]+1, a[0]+1);
		else
			printf("%I64d ml. from cup #%d to cup #%d.\n", abs(v[a[0]]-vol), a[0]+1, a[1]+1);
	}
}
