#include<iostream>
#include <cstring>
#include <cstdio>

using namespace std;
const int Maxn=7;
int board[Maxn][Maxn];
int len;
int cnt;
const int Maxp=1e5+1000;
int prim[Maxp],top;
bool flag[Maxp];
int num[Maxp];
void getPrim()
{
    for(int i=2;i<Maxp;++i)
    {
        if(!flag[i])prim[top++]=i;
        for(int j=0;j<top&&prim[j]*i<Maxp;++j)
        {
            flag[prim[j]*i]=1;
            if(i%prim[j]==0)break;
        }
    }
    num[prim[top-1]]=top-1;
    for(int i=prim[top-1]-1;i>=2;--i)if(!flag[i])num[i]=num[i+1]-1;else num[i]=num[i+1];
}
void writeBoard(int k,int x)
{
    for(int i=len-1;i>=k;--i)
    {
        board[i][k]=board[k][i]=x%10;
        x/=10;
    }
}
void dfs(int k)
{
    if(k==len)
    {
        cnt++;
        return;
    }
    int tmp=0,max0=1;
    for(int i=0;i<len;++i)
    {
        if(i<k)tmp=tmp*10+board[k][i];
        else tmp*=10,max0*=10;
    }
    int l=num[tmp];
    max0+=tmp;
    for(int i=l;prim[i]<max0;++i)
    {
        writeBoard(k,prim[i]);
        dfs(k+1);
    }
}
int main()
{
   // freopen("in.txt","r",stdin);
    getPrim();
    int cas;scanf("%d",&cas);
    while(cas--)
    {
        char str[10];
        scanf("%s",str);
        len=strlen(str);
        for(int i=0;i<len;++i)board[0][i]=board[i][0]=str[i]-'0';
        cnt=0;
        dfs(1);
        printf("%d\n",cnt);
    }
    return 0;
}
