#include <iostream>
#include <vector>
#include <cstdio>

using namespace std;

bool pra[100001];
vector <int> prefix[100000][6][6];

int st_cifer(int st){
	int tr = 1,ret=0;
	while(tr<st){
		ret++;
		tr*=10;
	}
	return ret;
}

void eratosten(){
	for(int i=0;i<100000;i++){
		pra[i]=1;
	}
	pra[0]=pra[1]=0;
	for(int i=2;i<100000;i++){
		if(!pra[i])continue;
		for(int j=2*i;j<100000;j+=i){
			pra[j]=0;
		}
		int cifr = st_cifer(i);
		for(int j=cifr;j<=5;j++){
			int tren = i;
			for(int k=j;k>0;k--){
				prefix[tren][k][j].push_back(i);
				tren /=10;
			}
		}
	}
}

int t[6];
int rez;

void st_komb(int dolz, int d){
	if(d<=1){
		rez+= prefix[t[dolz-d]][dolz-d][dolz].size();
		return;
	}
	int tr_vrst = dolz-d;
	int tr_cifra = t[tr_vrst];
	for(int i=0;i<prefix[tr_cifra][tr_vrst][dolz].size();i++){
		int tmp = prefix[tr_cifra][tr_vrst][dolz][i];
		for(int j=dolz-1;j>=tr_vrst;j--){
			t[j] = t[j] * 10;
			t[j]+=(tmp%10);
			tmp/=10;
		}
		st_komb(dolz,d-1);
		for(int j=dolz-1;j>=tr_vrst;j--){
			t[j] /=10;
		}
	}
}

void solve(){
	int cifra;
	scanf("%d",&cifra);
	int st_c = st_cifer(cifra);
	int tr = cifra;
	for(int i=st_c-1;i>=0;i--){
		t[i]=tr%10;
		tr/=10;
	}
	rez = 0;
	st_komb(st_c,st_c-1);
	printf("%d\n",rez);
}

int main(){
	int t;
	scanf("%d",&t);
	eratosten();
	while(t--){
		solve();
	}
	return 0;
}
