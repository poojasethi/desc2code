#include<cstdio>
#include<cstring>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

const int P_MAX=100000;
bool er[P_MAX+1];
void sieve(){
	rep(i,P_MAX+1) er[i]=(i>=2);
	for(int i=2;i*i<=P_MAX;i++) if(er[i]) for(int j=i*i;j<=P_MAX;j+=i) er[j]=false;
}

int n,B[5][5];
int dfs(int i,int j){
	if(i==n-1){
		int res=1;
		for(int k=1;k<n;k++){
			int cnt=0;
			rep(a,10){
				B[k][k]=a;
				int num=0;
				rep(l,n) num=10*num+B[k][l];
				if(er[num]) cnt++;
			}
			res*=cnt;
		}
		return res;
	}

	if(j==n){
		if(B[i][n-1]%2==0 && B[i][n-1]!=2) return 0; // pruning
		return dfs(i+1,i+2);
	}

	int res=0;
	rep(a,10){
		B[i][j]=B[j][i]=a;
		res+=dfs(i,j+1);
	}
	return res;
}

int main(){
	sieve();

	int T; scanf("%d",&T);
	while(T--){
		char s[8]; scanf("%s",&s);
		n=strlen(s);
		rep(i,n) B[0][i]=B[i][0]=s[i]-'0';
		printf("%d\n",dfs(1,2));
	}

	return 0;
}
