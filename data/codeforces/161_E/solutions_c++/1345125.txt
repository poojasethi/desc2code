#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
//#include <ctime>
using namespace std;

vector<int> pfx[100005][5];
int dig[100005][5];
void pre() {
	int a[100005]={};
	for(int i=2;i<=100000;i++)
		if(!a[i]) {
			int t=i;
			for(int j=0;j<5;j++,t/=10) pfx[t][j].push_back(i);
			for(int j=i+i;j<=100000;j+=i) a[j]=1;
			t=i;
			for(int j=0;j<5;j++,t/=10) dig[i][j]=t%10;
		}
}
int ans=0;
int r[5], pr[5], digit;
void go(int lev) {
	if(lev==digit) { ++ans; return; }
	vector<int> &v = pfx[pr[lev]][digit-lev];
	for(int i=0;i<(int)v.size();i++) {
		r[lev]=v[i];
		int d=v[i];
		for(int j=0;j<digit-lev;j++) {
			pr[digit-1-j]=pr[digit-1-j]*10+dig[d][j];
			//d/=10;
		}
		go(lev+1);
		for(int j=0;j<digit-lev;j++) pr[digit-1-j]/=10;
	}
}

int main(void) {
	int T;
	scanf("%d", &T);
	pre();
	while(T--) {
		int n;
		scanf("%d", &n);
		int d=n, f[10];
		digit=0;while(d>0) {f[digit]=d%10; d/=10;digit++;}
		r[0]=n;
		for(int i=digit-1;i>=0;--i) pr[digit-1-i]=f[i];
		ans=0;
		//double a=clock();
		go(1);
		//double b=clock();
		//fprintf(stderr, "n=%d, t=%.3f\n", n, (b-a)/CLK_TCK);
		printf("%d\n", ans);
	}
	return 0;
}

