#include <cstdio>
#include <algorithm>
#define N 110005
#define FI(a, b, c) for(int a = b; a <= c; a++)
#define FD(a, b, c) for(int a = b; a >= c; a--)
using namespace std;

int t, f[N], l[N], P, m[6][6], a[6], A;
bool p[N];
char s[6];

void odp(int x){
	int t = 0, T, Q;
	FI(i, 0, P - 1) t = t * 10 + (i < x) * m[i][x];
	if(x == P - 1){
		FI(i, 1, 9) A += p[t + i];
		return;
	}
	Q = f[t + a[P - x]];
	
	for(int i = f[t]; i < Q; i++){
		T = l[i];
		FD(j, P - 1, 0) m[x][j] = T % 10, T /= 10;
		odp(x + 1);
	}
}

int main(){
	FI(i, 2, N - 1) p[i] = 1;
	for(int i = 2; i * i < N; i++) if(p[i])
		for(int j = i * i; j < N; j += i)
			p[j] = 0;
	
	FI(i, 2, N - 1) if(p[i]) l[P++] = i;
	for(int i = 2, j = 0; i < N - 1; i++){
		while(j < P && i > l[j]) j++;
		if(j < P) f[i] = j;
	}
	a[0] = 1;
	FI(i, 1, 5) a[i] = a[i - 1] * 10;
	
	scanf("%d", &t);
	while(t--){
		A = 0;
		scanf("%s", s);
		for(P = 0; s[P]; P++);
		FI(i, 0, P - 1) m[0][i] = s[i] - '0';
		odp(1);
		printf("%d\n", A);
	}
	scanf("\n");
}
