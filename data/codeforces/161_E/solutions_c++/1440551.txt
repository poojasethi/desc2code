#include <algorithm>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <sstream>
#include <string>
#include <math.h>
#include <vector>
using namespace std;

const int N = 100002;

int n;
int a[5][5];
vector<int> v[N][5];
bool p[N];
char s[6];

void PreProcess(){
    memset(p, true, sizeof(p));
    int lim = (int)sqrt(99999.0);
    for(int i = 2; i <= lim; i++)
        if (p[i])
            for(int j = i*i; j < 100000; j+=i)
                p[j] = 0;
    for(int i = 2; i < 100000; i++)
        if (p[i])
            for(int x = i, j = 1; j < 5; j++)
                v[x/=10][j].push_back(i);
}

int Go(int row){
    int pre = 0, x, i, j;
    for(i = 0; i < row; i++) pre = pre*10+a[row][i];
    if (i == n-1) return v[pre][1].size();
    int ret = 0;
    for(i = 0; i < v[pre][n-row].size(); i++){
        x = v[pre][n-row][i];
        for(j = n-1; j >= row; j--){
            a[row][j] = a[j][row] = x % 10;
            x /= 10;
        }
        ret += Go(row+1);
    }
    return ret;
}

int main()
{
    //freopen("input.txt", "r", stdin);
    //freopen("output.txt", "w", stdout);
    PreProcess();
    int T;
    cin >> T;
    while (T--){
        scanf("%s", s);
        n = strlen(s);
        for(int i = 0; i < n; i++)
            a[i][0] = a[0][i] = s[i]-'0';
        printf("%d\n", Go(1));
    }
    return 0;
}