#include<cstdio>
#define N 100000
#define f(i,n) for(int i=0;i<=n;++i)
bool p[N];
int m[]={1,3,7,9,2,5},x[6];
int solve(){
	int n,t,s=0;
	scanf("%d",&t);
	for(n=0;t;t/=10)x[n++]=t%10;
	if(n==2){
		f(i,9)s+=!p[x[0]*10+i];
		return s;
	}
	if(n==3){
		f(i,9)f(j,9)if(!p[x[1]*100+i*10+j])f(k,9)s+=!(p[x[0]*100+j*10+k]);
		return s;
	}
	if(n==4){
		int A=x[2]?3:5,B=x[1]?3:5;
		f(a,A)f(b,B)f(c,3)if(!p[x[0]*1000+m[a]*100+m[b]*10+m[c]])f(i,9)f(j,9)
			if(!p[x[2]*1000+i*100+j*10+m[a]])f(k,9)
			s+=!(p[x[1]*1000+j*100+k*10+m[b]]);
		return s;
	}
	int A=x[3]?3:5,B=x[2]?3:5,C=x[1]?3:5;
	f(a,A)f(b,B)f(c,C)f(d,3)if(!p[x[0]*10000+m[a]*1000+m[b]*100+m[c]*10+m[d]])
		f(e,9)f(f,9)f(g,9)if(!p[x[3]*10000+e*1000+f*100+g*10+m[a]])
			f(h,9)f(i,9)if(!p[x[2]*10000+f*1000+h*100+i*10+m[b]])
				f(j,9)s+=!p[x[1]*10000+g*1000+i*100+j*10+m[c]];
	return s;
}
int main(){
	p[0]=p[1]=1;
	for(int i=2;i*i<N;++i)if(!p[i])
		for(int j=i*i;j<N;j+=i)p[j]=1;
	int T;for(scanf("%d",&T);T--;)printf("%d\n",solve());
	return 0;
}
