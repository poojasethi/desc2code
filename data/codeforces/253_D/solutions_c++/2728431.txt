#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>

using namespace std;

const int maxn=405;

char str[maxn][maxn];
int presum[maxn][maxn];
int m,n,k;
int cnt[128];
long long ans=0;

inline int get_sum(int c,int i,int j) {
	return presum[c][j]-presum[c][i-1];
}

int main() {
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d%d",&n,&m,&k);
	for(int i=1;i<=n;i++)
		scanf("%s",str[i]+1);
	for(int i=1;i<=n;i++) {
		for(int j=1;j<=m;j++) {
			presum[i][j]=presum[i][j-1]+(str[i][j]=='a');
//			printf("%d ",presum[i][j]);
		}
//		printf("\n");
	}
	for(int i=1;i<=m;i++) for(int j=i+1;j<=m;j++) {
		int suma=0,l=1;
		memset(cnt,0,sizeof(cnt));
		for(int c=1;c<=n;c++) {
			suma+=get_sum(c,i,j);
			while(suma>k) {
				suma-=get_sum(l,i,j);
				if(str[l][i]==str[l][j]) {
					cnt[str[l][i]]--;
				//	if(cnt[str[l][i]]<0) puts("err");
				}
				l++;
			}
			if(str[c][i]==str[c][j]) {
				if(cnt[str[c][i]]>0) ans+=cnt[str[c][i]];
				cnt[str[c][i]]++;
			}
		}
	}
	printf("%I64d\n",ans);
	return 0;
}
