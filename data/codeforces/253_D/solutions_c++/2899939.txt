#include <algorithm>
#include <stdio.h>
#define  maxn      403
using    namespace std;
typedef  long long llint;

int n,m,k;
llint ans;
int head[26];
int tail[26];
int Q[26][maxn];
char s[maxn][maxn];
int sum[maxn][maxn];

int main()
{
  freopen("input.txt","r",stdin);
  freopen("output.txt","w",stdout);
  scanf("%d%d%d",&n,&m,&k);
  for(int i=1 ; i<=n ; i++)
    scanf("%s",s[i]+1);
  for(int i=1 ; i<=n ; i++)
    for(int j=1 ; j<=m ; j++)
      sum[i][j]=sum[i-1][j]+sum[i][j-1]-sum[i-1][j-1]+(s[i][j]=='a');
  for(int r1=1 ; r1<=n ; r1++)
    for(int r2=r1+1 ; r2<=n ; r2++)
    {
      for(int i=0 ; i<26 ; i++)
        head[i]=tail[i]=0;
      for(int j=1 ; j<=m ; j++)
        if(s[r1][j]==s[r2][j])
        {
          int c=s[r1][j]-'a';
          while(head[c]<tail[c])
          {
            int x=Q[c][head[c]];
            if(sum[r2][j]-sum[r2][x-1]-sum[r1-1][j]+sum[r1-1][x-1]>k)
              head[c]++;
            else break;
          }
          ans+=(llint)tail[c]-head[c];
          Q[c][tail[c]++]=j;
        }
    }
  printf("%I64d\n",ans);
  return 0;
}
