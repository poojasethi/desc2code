#include <bits/stdc++.h>

#define st first
#define nd second
#define mp make_pair
#define lli long long int
#define FP( ii,aa,bb ) for( lli ii=aa;ii<=bb;ii++ )
#define FM( ii,aa,bb ) for( lli ii=aa;ii>=bb;ii-- )

using namespace std;

lli m,n,K,v[30][1000],s[30],t[1000],sum[1000][1000];
char arr[1000][1000];

int main(){

	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	
	lli res=0,x,ind;
	cin >> m >> n >> K;
	FP( i,1,m )
		FP( j,1,n ){
			cin >> arr[i][j];
			sum[i][j] = sum[i][j-1]+(arr[i][j]=='a');
		}

	FP( i,1,n )
		FP( j,i+1,n ){
			FP( k,0,25 ) s[k] = 0;
			FP( k,1,m ){
				if( arr[k][i]==arr[k][j] ) v[ arr[k][i]-'a' ][ ++s[arr[k][i]-'a'] ] = k;
				t[k] = t[k-1]+sum[k][j]-sum[k][i-1];
			}
			FP( c,0,25 ){
				ind = 1;
				FP( k,1,s[c] ){
					x = v[c][k];
					while( ind<s[c] and t[v[c][ind+1]]-t[x-1]<=K ) ind++;
					ind = max( ind,k );
					res += ind-k;
				}
			}
		}

	cout << res << endl;

}
