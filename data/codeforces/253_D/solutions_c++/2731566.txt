#include <iostream>
#include <cstdio>
using namespace std;
#define FOR(i,a,b) for (int i=(int)(a);i<=(int)(b);++i)
#define REPT(i,n) FOR(i,1,n)
typedef long long ll;
int n,m,k,l,sum;
char a[410][410];
short s[410][410];
ll res=0;
int main()
{
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    scanf("%d%d%d\n",&n,&m,&k);
    REPT(i,n)
    {
        gets(a[i]+1);
        REPT(j,m)
            s[i][j]=s[i-1][j]+(a[i][j]=='a');
    }
    REPT(i,n-1)
    FOR(j,i+1,n)
    {
        l=1;sum=0;short sumc[255]={};
        REPT(r,m)
        {
            sum=sum+(s[j][r]-s[i-1][r]);
            if (a[i][r]==a[j][r]) ++sumc[a[i][r]];
            while (sum>k&&l<=r)
            {
                sum=sum-(s[j][l]-s[i-1][l]);
                if (a[i][l]==a[j][l]) --sumc[a[i][l]];
                ++l;
            }
            if (l<r&&a[i][r]==a[j][r]) res=res+(sumc[a[i][r]]-1);
        }
    }
    cout << res << endl;
    return 0;
}