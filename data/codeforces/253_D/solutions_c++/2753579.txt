#include<iostream>
#include<cstring>
#include<cstdio>
#include<vector>
using namespace std;
const int X=410;
int sum[X][X];
char map[X][X];
vector<int>q;
int cal(int a,int b,int c,int d){
	return sum[c][d] + sum[a-1][b-1] - sum[a-1][d] - sum[c][b-1];
}
int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int i,j,n,m,k;
	long long as=0;
	char c;
	scanf("%d %d %d", &n, &m, &k);
	for(i = 1;i <= n; ++i){
	    scanf("%s", map[i]+1);
	    for(j = 1;j <= m; ++j)sum[i][j]  = sum[i][j-1] + (map[i][j]=='a');
        for(j = 1;j <= m; ++j)sum[i][j] += sum[i-1][j];
	}
	int u,v;
	for(i = 1;i <= n; ++i)
	    for(j = i + 1;j <=n ;++j)
	        for(c = 'a';c <= 'z'; ++c){
				q.clear();
				for(u = 1;u <= m; ++u)
				    if(map[i][u] == c && map[j][u] == c)
				        q.push_back(u);
				if(q.size() <= 1)continue;
				for(u = v = 0;u < q.size(); ++u){
				    for(;v < q.size(); ++v)
				        if(!(v == u || cal(i,q[u],j,q[v]) <= k))
				            break;
					as =  as + v - u - 1;
				}
			}
	printf("%I64d\n", as);
	return 0;
}
