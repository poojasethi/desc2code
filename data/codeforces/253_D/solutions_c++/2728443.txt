#include <iostream>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <set>
#include <map>
#include <vector>
using namespace std;
const int N = 450;
char a[N][N];
int s[N][N];
int m,n,k;
int getsum(int x1,int y1,int x2,int y2){
	return s[x2][y2]-s[x1-1][y2]-s[x2][y1-1]+s[x1-1][y1-1];
}
main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	cin>>m>>n>>k;
	getchar();
	for (int i=1;i<=m;i++)
	{
		for (int j=1;j<=n;j++)
		a[i][j]=getchar();
		getchar();
	}
	for (int i=1;i<=m;i++)
	for (int j=1;j<=n;j++)
	s[i][j]=(a[i][j]=='a')+s[i-1][j]+s[i][j-1]-s[i-1][j-1];
	
	
	long long cnt=0;
	for (int l=1;l<=m;l++)
	for (int r=l+1;r<=m;r++){
		vector<int> plist[30];
		for (int i=0;i<30;i++) plist[i].clear();
		for (int i=1;i<=n;i++)
			if (a[l][i]==a[r][i]){
				plist[a[l][i]-'a'].push_back(i);
			}
			
		for (int i=0;i<26;i++)
		{
			int t=plist[i].size();
			int kk=0;
			for (int j=1;j<t;j++){
				while (kk<j&&getsum(l,plist[i][kk],r,plist[i][j])>k) kk++;
				cnt+=j-kk;
			}
				
			
		}
	}
	cout<<cnt;
	
}