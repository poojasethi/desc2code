#include <cstdio>
#include <cstring>
#define maxn 403
using namespace std;
int n,m,k;  char a[maxn][maxn];		long long res;
int b[maxn][maxn],t[maxn][maxn];
void process(){
	int i,j,a0=int('a');		res=0;
	for (i=0;i<n;i++)
		for (j=0;j<m;j++)
			b[i+1][j+1]=int(a[i][j])-a0;
	memset(t,0,sizeof(t));
	for (i=1;i<=n;i++)
		for (j=1;j<=m;j++){
			t[i][j]=t[i-1][j];
			if (b[i][j]==0)
				t[i][j]++;
		}
	int c[30],l,r,na;
	res=0;
	for (i=1;i<n;i++)
		for (j=i+1;j<=n;j++){
			memset(c,0,sizeof(c));
			l=1;	na=t[j][l]-t[i-1][l];		if (b[i][l]==b[j][l]) c[b[j][l]]++;
			for (r=2;r<=m;r++){
				na+=(t[j][r]-t[i-1][r]);
				while (na>k){
					na-=(t[j][l]-t[i-1][l]);
					if (b[i][l]==b[j][l])c[b[j][l]]--;
					l++;
				}
				if (b[i][r]==b[j][r]){
					if (l<r)
						res+=c[b[j][r]];
					c[b[j][r]]++;
				}
			}
		}
}
int main(){
	freopen("input.txt","r",stdin);		freopen("output.txt","w",stdout);
	scanf("%d %d %d\n",&n,&m,&k);	for (int i=0;i<n;i++)gets(a[i]);
	process();
	printf("%I64d",res);
	return 0;
}