#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;

#define FOR(it, c) for(__typeof((c).begin()) it = (c).begin(); it != (c).end(); it++)
#define SZ(c) ((int)(c).size())

const int N = 405;
char a[N][N];
int s[N][N];
int main(void) {
#ifdef ONLINE_JUDGE
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
#endif
	int n, m, k;
	long long ans = 0;
	scanf("%d%d%d", &n, &m, &k);
	for(int i=1;i<=n;i++) scanf("%s", a[i]+1);
	for(int i=1;i<=n;i++)
		for(int j=1;j<=m;j++)
			s[i][j] = (a[i][j]=='a')+s[i-1][j];
	for(int i=1;i<=n;i++)
		for(int j=i+1;j<=n;j++) {
			vector<int> r[26];
			int sum[N] = {};
			for(int k=1;k<=m;k++) {
				if(a[i][k] == a[j][k])
					r[a[i][k]-'a'].push_back(k);
				sum[k] = sum[k-1] + s[j][k] - s[i-1][k];
			}
			for(int z=0;z<26;z++) {
				for(int x=0,y=0;x<SZ(r[z]);x++) {
					while(y<SZ(r[z]) && sum[r[z][y]]-sum[r[z][x]-1] <= k) ++y;
					ans += max(0,y-x-1);
				}
			}
		}
	printf("%I64d\n", ans);
	return 0;
}
