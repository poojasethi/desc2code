#include <cstdio>
#include <iostream>
#include <cstring>
using namespace std;
int end[26],qu[26][405],num,sh[26];
int n,m,K,mat[405][405],dn[405][405],top;
long long int res;
char ch;
int main ()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d %d %d",&n,&m,&K);
	for (int i = 1; i <=n; i++)
		for (int j = 1; j <=m; j++)
		{
			scanf(" %c",&ch);
			mat[i][j]=ch-'a';
			dn[i][j]=dn[i][j-1];
			if(mat[i][j]==0)
				dn[i][j]++;
		}
	for (int l = 1; l <=m-1; l++)
	{
		for(int r=l+1;r<=m;r++)
		{
			top=0;
			memset(sh,0,sizeof(sh));
			memset(end,0,sizeof(end));
			for (int i = 1; i <=n ; i++)
			{
				if(mat[i][l]==mat[i][r])
				{
					num=mat[i][r];
					qu[num][end[num]++]=top;
					top+=dn[i][r]-dn[i][l-1];
					while(sh[num]+1<end[num] && top-qu[num][sh[num]]>K)
						sh[num]++;
					res+=end[num]-sh[num]-1;
				}
				else
				{
					top+=dn[i][r]-dn[i][l-1];
				}
					
			}
		}
	}
	cout << res << endl;
	
	
	
	
}
