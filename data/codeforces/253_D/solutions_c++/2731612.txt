#include <cstdio>
using namespace std;
#define F(i,a,b) for (int i=(int)(a);i<=(int)(b);++i)
#define R(i,n) F(i,1,n)
typedef long long ll;
int n,m,k,l,u;
char a[410][410];
short s[410][410];
ll z=0;
int main()
{
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    scanf("%d%d%d\n",&n,&m,&k);
    R(i,n)
    {
        gets(a[i]+1);
        R(j,m)
            s[i][j]=s[i-1][j]+(a[i][j]=='a');
    }
    R(i,n-1)
    F(j,i+1,n)
    {
        l=1;u=0;short c[255]={};
        R(r,m)
        {
            u=u+(s[j][r]-s[i-1][r]);
            if (a[i][r]==a[j][r]) ++c[a[i][r]];
            while (u>k&&l<=r)
            {
                u=u-(s[j][l]-s[i-1][l]);
                if (a[i][l]==a[j][l]) --c[a[i][l]];
                ++l;
            }
            if (l<r&&a[i][r]==a[j][r]) z=z+(c[a[i][r]]-1);
        }
    }
    printf("%I64d", z);
}