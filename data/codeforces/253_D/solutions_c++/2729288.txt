#include <iostream>
#include <cstring>
#include <cstdio>
#include <vector>
using namespace std;
#define ll long long 
#define M 410
vector<int>v[30];
int f[M][M],n,m,k;
char g[M][M];

inline int cal(int i,int j,int l,int r){
	return f[j][r]-f[j][l-1]-f[i-1][r]+f[i-1][l-1];
}
int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	while(cin>>n>>m>>k){
		memset(f,0,sizeof(f));
		memset(g,'\0',sizeof(g));
		for(int i=1;i<=n;i++)
			scanf("%s",g[i]+1);
		for(int i=1;i<=n;i++)
			for(int j=1;j<=m;j++)
				f[i][j]=f[i][j-1]+(g[i][j]=='a');
		for(int i=1;i<=m;i++)
			for(int j=1;j<=n;j++)
				f[j][i]+=f[j-1][i];
		ll ans=0;
		for(int i=1;i<n;i++){
			for(int j=i+1;j<=n;j++){
				for(int t=0;t<26;t++)	v[t].clear();
				for(int t=1;t<=m;t++)
					if(g[i][t]==g[j][t])
						v[g[i][t]-'a'].push_back(t);
				for(int t=0;t<26;t++){
					int l,r;
					for(l=0,r=0;l<v[t].size();l++){
						for(;r<v[t].size();r++){
							if(l==r)	continue;
							if(cal(i,j,v[t][l],v[t][r])>k)	break;
						}
						ans+=(r-1-l);
					}
				}
			}
		}
		cout<<ans<<endl;
	}
	return 0;
}
