#include<iostream>
#include<cstdio>
#include<vector>
#define NN 401
#define LL long long
using namespace std;
char b[NN][NN];
int ac[NN][NN] = {0};
int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int n, m , k; cin >> n >> m >> k;
	for(int i=1;i<=n;++i)
		for(int j=1;j<=m;++j)
			cin >>b[i][j] , ac[i][j] = b[i][j] == 'a' , b[i][j] -= 'a';

	
	for(int i =1;i<=n;++i)
		for(int j=1;j<=m;++j)
			ac[i][j] += ac[i-1][j] + ac[i][j-1] - ac[i-1][j-1];
		
	LL ans = 0 ;
	for(int i=1;i<=n;++i)
		for(int j=i+1;j<=n;++j){
			vector<int> l[26];
			for(int c=1;c<=m;++c){
				if( b[i][c] == b[j][c] )
					l[ b[i][c] ].push_back( c );
			}
			for(int z=0;z<26;++z){
				vector<int>& v = l[z];
				for( int p = 0 , q = 1 ; q < v.size() ; ){
					int sum = ac[j][v[q]] + ac[i-1][v[p]-1] - ac[j][v[p]-1]-ac[i-1][v[q]];
					if( p == q ) ++q;
					else if( sum <= k )
						ans += q-p, ++q;
					else
						++p;
				}
			}
		}
	
	cout << ans << endl;

	return 0;
}
