#include <iostream>
#include <cstdio>
#include <vector>
#include <fstream>

#define rep(i,n) for(int i=1;i<=n;i++)

using namespace std;

int n,m,kk,a[410][410],s[410][410],lb,ub;
char c[410];
long long res;

int main(){

  freopen("input.txt","r",stdin);
  freopen("output.txt","w",stdout);

  cin>>n>>m>>kk;
  rep(i,n){
    cin>>c;
    rep(j,m){
      a[i][j] = c[j-1]-'a'+1;
      s[i][j] = s[i-1][j]+s[i][j-1]-s[i-1][j-1];
      if(a[i][j]==1)s[i][j]++;
    }
  }

  rep(i,n)rep(j,i-1){
    vector<int> vi[30];
    rep(k,m)if(a[i][k]==a[j][k])vi[a[i][k]].push_back(k);
    rep(k,26){
      if(vi[k].size()<2)continue;
      for(lb=0,ub=0;lb<vi[k].size();lb++){
        int lx = vi[k][lb];
        while(1){
          int ux = vi[k][ub];
          if(ub<vi[k].size() && (s[i][ux]-s[i][lx-1]-s[j-1][ux]+s[j-1][lx-1]<=kk || ub==lb)){ ub++; continue;}
          break;
        }
        ub--;
        res+=ub-lb;
      }
    }
  }
  cout<<res<<endl;
  return 0;

}