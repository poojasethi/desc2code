#include <iostream>
#include <stdio.h>

using namespace std;

const int N=400+10,M=400+10,Z=26;

int n,m,d;
char map[N][M];
int sum[N][M];
int cnt[Z];

void Init(){
	int i,j;
	scanf("%d %d %d",&n,&m,&d);
	for(i=1;i!=n+1;i++) scanf("%s",&map[i][1]);
	for(i=1;i!=n+1;i++){
		sum[i][0]=0;
		for(j=1;j!=m+1;j++) sum[i][j]=sum[i][j-1]+(map[i][j]=='a');
	}
}

void Solve(){
	int i,j,k,p,q,l,tot;
	long long ans=0;
	for(i=1;i!=m+1;i++){
		for(j=i+1;j!=m+1;j++){
			for(k=0;k!=Z;k++) cnt[k]=0;
			for(tot=0,p=q=1;q!=n+1;q++){
				tot+=sum[q][j]-sum[q][i-1];
				if (map[q][i]==map[q][j]){
					int t=map[q][i]-'a';
					while (p<q && tot>d){
						if (map[p][i]==map[p][j]) cnt[map[p][i]-'a']--;
						tot-=sum[p][j]-sum[p][i-1];
						p++;
					}
					ans+=cnt[t];
					cnt[t]++;
				}
			}
		}
	}
	cout << ans << endl;
}

int main(){
	freopen("input.txt", "r", stdin);freopen("output.txt", "w", stdout);
	Init();
	Solve();
	return 0;
}
