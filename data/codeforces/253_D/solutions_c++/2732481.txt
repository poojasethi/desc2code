#include<cstdio>
#include<iostream>
#include<vector>
#include<algorithm>

using namespace std;
typedef long long ll;

int sum[401][401];
char a[401][401];

int main(){
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);

	int n, m, k;
	cin >> n >> m >> k;
	for(int i = 0; i < n; i++){
		cin >> a[i];
	}

	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			sum[i+1][j+1] += (a[i][j] == 'a');
			sum[i+1][j+1] += sum[i+1][j] + sum[i][j+1];
			sum[i+1][j+1] -= sum[i][j];
		}
	}

	ll ans = 0;
	for(int i = 0; i < n; i++){
		for(int j = i+1; j < n; j++){

			vector<int> pos[26];
			for(int c = 0; c < m; c++){
				if(a[i][c] == a[j][c]) pos[a[i][c]-'a'].push_back(c);
			}

			for(int ch = 0; ch < 26; ch++){
				int le = 0, ri = 0;

				if(pos[ch].size() == 0) continue;

				for(; ri < pos[ch].size(); ri++){
					while(ri > le){
						if(sum[j+1][pos[ch][ri]+1] - sum[j+1][pos[ch][le]] - sum[i][pos[ch][ri]+1] + sum[i][pos[ch][le]] <= k) break;

						le++;
					}
					ans += (ll)ri-le;
				}
			}
		}
	}

	cout << ans << endl;
	return 0;
}
