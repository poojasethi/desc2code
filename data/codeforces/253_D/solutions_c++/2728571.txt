#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<queue>

using namespace std;

const int maxn=410;

int n,m,k,sum[maxn][maxn];

long long ans;

char s[maxn][maxn];

queue<int> v[27];

int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);

	scanf("%d%d%d",&n,&m,&k);
	for (int a=1;a<=n;a++)
		scanf("%s",s[a]+1);
	for (int a=1;a<=n;a++)
		for (int b=1;b<=m;b++)
		{
			sum[a][b]=sum[a-1][b]+sum[a][b-1]-sum[a-1][b-1];
			if (s[a][b]=='a') sum[a][b]++;
		}
	for (int b=1;b<=m;b++)
		for (int c=b+1;c<=m;c++)
		{
			for (int a=1;a<=26;a++)
			{
				while (v[a].size())
					v[a].pop();
			}
			for (int a=1;a<=n;a++)
				if (s[a][b]==s[a][c])
				{
					while (true)
					{
						if (!v[s[a][b]-'a'+1].size()) break;
						int p=v[s[a][b]-'a'+1].front();
						if (sum[a][c]-sum[p-1][c]-sum[a][b-1]+sum[p-1][b-1]<=k) break;
						v[s[a][b]-'a'+1].pop();
					}
					ans+=v[s[a][b]-'a'+1].size();
					v[s[a][b]-'a'+1].push(a);
				}
		}
	printf("%I64d\n",ans);

	return 0;
}
