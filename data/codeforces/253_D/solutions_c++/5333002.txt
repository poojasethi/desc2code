#include <fstream>
using namespace std;
int n,m,k,b[33][444];
long long w;
char g[444][444];
main(){
  ifstream is("input.txt");
  ofstream os("output.txt");
  is>>n>>m>>k;
  for(int i=0;i<n;++i)is>>(g[i]+1);
  for(int i=0;i<n;++i){
    int a[444]={0};
    for(int j=i;j<n;++j){
      int c[33]={0},d[444]={0};
      for(int u=1,z;u<=m;++u){
        a[u]+='a'==g[j][u];
        if(g[i][u]==g[j][u])z=g[i][u]-'a',b[z][c[z]++]=u;
      }
      for(int u=1;u<=m;++u)d[u]=d[u-1]+a[u];
      if(j>i)
      for(int z=0;z<26;++z){
      if(c[z]>0)
        for(int l=0,r=1;r<c[z];++r){
          while(l<r&&d[b[z][r]]-d[b[z][l]-1]>k)++l;
          w+=r-l;
        }
      }
    }
  }
  os<<w<<endl;
}