#include<bits/stdc++.h>
using namespace std;
long int n,i;
unsigned long long int p[500005],ans=0,ct=0,ct2=0;
long long int temp=0,temp2=0;
string t;
int main()
{
	cin>>n;
	for(i=0;i<n;i++)
		cin>>p[i];
	cin>>t;
	for(i=0;i<n;i++)
		{//cout<<i<<" ";
			if(t[i]=='B') {ans+=p[i]; temp-=p[i];} else{temp+=p[i];} if(temp>=0&&temp>ct) ct=temp; //cout<<temp<<" ";
		if(t[n-i-1]=='B')  temp2-=p[n-i-1]; 
		else temp2+=p[n-i-1];
		if(temp2>=0&&temp2>ct2) ct2=temp2;
		//cout<<ct<<" "<<ct2<<"\n";
		 }
	ct=(ct>ct2)?ct:ct2;
	//cout<<ans<<"\n";
	cout<<ans+ct<<"\n";
	return 0;

}