#include<cstdio>
int a[500005],i;
long long ans,sum,b,now;
int main()
{
	int n;
	char s[500005];
	scanf("%d",&n);
	for(i=0;i<n;i++)
		scanf("%d",&a[i]);
	scanf("%s",s);
	ans=b=sum=now=0;
	for(i=0;i<n;i++)
	{
		sum+=a[i];
		if(s[i]=='B')
		{
			b+=a[i];
			now+=a[i];
		}
		if(sum-now>now&&sum-now-now>ans)
			ans=sum-now-now;
	}
	sum=now=0;
	for(i=n-1;i>=0;i--)
	{
		sum+=a[i];
		if(s[i]=='B')
			now+=a[i];
		if(sum-now>now&&sum-now-now>ans)
			ans=sum-now-now;
	}
	printf("%I64d\n",ans+b);
}