#include<cstdio>
#include<cstring>
const int N = 100005;
int a[N],h[N],q[N],k;
int l[N],r[N],v[N],p;
int main()
{
	int n,i;
	scanf("%d",&n);
	for(i=1;i<=n;i++)scanf("%d",a+i);
	for(i=1;i<=n;i++)
	{
		if(a[i-1]>a[i])h[i]=a[i];
		else h[i]=a[i-1];
	}
	q[0]=n+1;
	k=0;
	p=0;
	for(i=n;i>0;i--)
	{
		int j=a[i];
		while(k>=0&&h[i]<=h[q[k]])
		{
			if(j>h[q[k]])
			{
				l[p]=i;
				r[p]=q[k]-1;
				v[p]=j-h[q[k]];
				p++;
			}
			j=h[q[k]];
			k--;
		}
		if(j>h[i])
		{
			l[p]=i;
			r[p]=q[k]-1;
			v[p]=j-h[i];
			p++;
		}
		q[++k]=i;
	}
	__int64 res=0;
	for(i=0;i<p;i++)res+=v[i];
	printf("%I64d\n",res);
	for(i=0;i<p;i++)
	{
		int j;
		for(j=0;j<v[i];j++)printf("%d %d\n",l[i],r[i]);
	}
	return 0;
}
