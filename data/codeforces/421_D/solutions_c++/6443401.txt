#include <algorithm>
#include <vector>
#include <map>
#include <cstdio>

using namespace std;
map < pair<int, int>, int > mp;
int a[1234567], b[1234567];
int main() {
  int n, p;
scanf("%d %d", &n, &p);
vector <int> cnt(n, 0);
for (int i = 0; i < n; i++) {
  int x, y;
scanf("%d %d", &x, &y);
x--; y--;
cnt[x]++; cnt[y]++;
if (x > y) swap(x, y);
a[i] = x; b[i] = y;
mp[make_pair(x, y)]++;
}
vector <int> cnt2(cnt.begin(), cnt.end());
sort(cnt.begin(), cnt.end());
long long ans = 0;
int j  = n;
for (int i = 0; i < n; i++) {
  while (j - 1 >= i && cnt[i] + cnt[j - 1] >= p) j--;
if (j < i + 1) j = i + 1;
ans += n - j;
}
for (int i = 0; i < n; i++) {
if (cnt2[a[i]] + cnt2[b[i]] < p) continue;
if (cnt2[a[i]] + cnt2[b[i]] - mp[make_pair(a[i], b[i])] < p) ans--;
mp[make_pair(a[i], b[i])] = 0;
}
printf("%I64d\n", ans);
  return 0;

}

