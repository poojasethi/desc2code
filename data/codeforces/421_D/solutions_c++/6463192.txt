#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <map>

using namespace std;


typedef long long ll;
typedef pair<int,int> pii;

map<pii,int> mp;

const int N=3e5+100;

int pe[N];
vector<int> r[N];

int main()
{
	int n,p,x,y;
	cin>>n>>p;
	for(int i=0;i<n;++i)
	{
		cin>>x>>y;
		if(x>y) swap(x,y);
		bool flag=1;
		for(int j=0;j<r[x].size();++j)
			if(r[x][j]==y) flag=0;
		if(flag) r[x].push_back(y);
		++pe[x];
		++pe[y];
		++mp[make_pair(x,y)];
	}
	ll cnt=0;
	for(int i=1;i<=n;++i)
		for(int j=0;j<r[i].size();++j)
			if(pe[r[i][j]]+pe[i]>=p && pe[r[i][j]]+pe[i]-mp[make_pair(i,r[i][j])]<p) --cnt;
	sort(pe+1,pe+n+1);
	for(int i=1;i<=n;++i)
	{
		int l=i+1,r=n,j=0;
		while(l<=r)
		{
			int mid=l+r>>1;
			if(pe[i]+pe[mid]>=p) r=mid-1,j=mid;
			else l=mid+1;
		}
		if(j) cnt+=n-j+1;
	}
	cout<<cnt<<endl;
}
