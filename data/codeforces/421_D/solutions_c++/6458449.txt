#include<cstdio>
#include<algorithm>
#include<iostream>
#include<map>
#include<cstring>
#include<string>
using namespace std;
typedef long long llong;
const int MAXN=300000;
map<pair<int,int>,int> Hash;
int Cnt[MAXN+10],NoApp[MAXN+10];
int main(){
	int N,P;
	while (~scanf("%d %d",&N,&P)){
		Hash.clear();
		int x,y;
		memset(Cnt,0,sizeof(Cnt));
		for (int i=1;i<=N;i++){
			scanf("%d%d",&x,&y);
			if (x>y) swap(x,y);
			Hash[make_pair(x,y)]++;
			Cnt[x]++;
			Cnt[y]++;
		}
		llong Ans=0ll;
		for (map<pair<int,int>,int>::iterator it=Hash.begin();it!=Hash.end();it++){
			pair<int,int> tp=(*it).first;
			if (Cnt[tp.first]+Cnt[tp.second]>=P && Cnt[tp.first]+Cnt[tp.second]-(*it).second<P)
				Ans--;
		}
		//cout<<Ans<<"\n";
		sort(Cnt+1,Cnt+N+1);
		x=1;y=N;
		//for (int i=1;i<=N;i++) cout<<Cnt[i]<<'\t';cout<<endl;
		for (;x<=y;x++){
			while (y>x && Cnt[x]+Cnt[y]>=P){
				Ans+=llong(y-x);
				y--;
			}
			//if (Cnt[x]*2>=P) Ans--;
		//cout<<x<<' '<<y<<' '<<Ans<<"\n";
		}
		cout<<Ans<<"\n";
	}
}
