#include<iostream>
#include<map>
#include<vector>
#include<algorithm>
using namespace std;

#define X first
#define Y second
#define pb push_back
#define mp make_pair

const int oo=3e5+100;
long long n,p,x,y,ans,a[oo],bad;
map<pair<int,int>,int > m;
vector<pair<int,int> > v;
vector<int> u;

int main(){
  cin>>n>>p;
  for(int i=0;i<n;i++)
    cin>>x>>y,m[mp(min(x,y),max(x,y))]++,a[x]++,a[y]++;
  for(map<pair<int,int>,int >::iterator it=m.begin();it!=m.end();it++){
    pair<int,int> aa=it-> first;
    int z=m[aa];
    if(a[aa.X]+a[aa.Y]-z<p && a[aa.X]+a[aa.Y]>=p)
      bad++;
  }
  for(int i=1;i<=n;i++)
    v.pb(mp(a[i],i));
  sort(v.begin(),v.end());
  for(int i=0;i<n;i++)
    u.pb(v[i].X);
  for(int i=0;i<n;i++){
    vector<int>::iterator it;
    it=lower_bound(u.begin(),u.end(),p-v[i].X);
    ans+=(int)(u.size()-(it-u.begin()));
    if((int)(it-u.begin())<=i)
      ans--;
  }
  cout<<ans/2-bad;
  return 0;
}
//dadadadada