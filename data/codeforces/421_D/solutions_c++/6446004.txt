#include <bits/stdc++.h>
using namespace std;
#define LL long long
int C[3*100010];
int c[3*100010];
map < pair<int,int >,int > M;
int main()
{
	int N,P,u,v;
	cin>>N>>P;
	set< pair<int,int>  > S;
	for(int i = 0;i<N;i++)
	{
		cin>>u>>v;
		C[u]+=1;
		C[v]+=1;
		M[make_pair(min(u,v),max(u,v))]+=1;
		c[u]+=1;
		c[v]+=1;
	}
	map< pair<int,int>,int > :: iterator it;
	sort(C+1,C+N+1);
	C[N+1] = 1e9;
	LL Ans = 0;
	for(int i = 1;i<=N;i++)
	{
		int idx = lower_bound(C+i+1,C+N+1,P - C[i]) - C;
		Ans+=max(0,N - idx + 1);
	}
	for(it = M.begin();it!=M.end();it++)
	{
		int u = it->first.first;
		int v = it->first.second;
		if(c[u] + c[v]>=P)
		{
			if(c[u]+c[v]-M[make_pair(u,v)]<P)
				Ans-=1;
		}
	}
	cout<<Ans<<endl;
	return 0;
}