#include <bits/stdc++.h>

#define pb push_back

using namespace std;

typedef long long int ll;

const int maxl = 3 * 1000 * 100 + 5;

vector < int > adj [ maxl ];
int n, p;

int d [ maxl ], arr [ maxl ];
int mark [ maxl ];

ll ans;

int main (){
	ios_base::sync_with_stdio ( false );
	cin >> n >> p;
	for ( int i = 0 ; i < n ; i++ ){
		int a, b;
		cin >> a >> b;
		a--; b--;

		adj [ a ].pb ( b );
		adj [ b ].pb ( a );
		d [ a ]++;
		d [ b ]++;
	}

	for ( int i = 0 ; i < n ; i++ )
		arr [ i ] = d [ i ];
	sort ( arr, arr + n );

	for ( int i = 0 ; i < n ; i++ ){
		ans += n - (lower_bound ( arr, arr + n, p - d [ i ] ) - arr);

		if ( d [ i ] * 2 >= p )
			ans--;

		for ( int j = 0 ; j < adj [ i ].size () ; j++ ){
			int node = adj [ i ][ j ];

			if ( d [ i ] + d [ node ] >= p )
				mark [ node ] = 1;
			if ( mark [ node ] )
				d [ node ]--;
		}

		for ( int j = 0 ; j < adj [ i ].size () ; j++ ){
			int node = adj [ i ][ j ];

			if ( mark [ node ] == 1 ){
				if ( d [ i ] + d [ node ] < p )
					ans--;

				mark [ node ] = 2;
			}

			if ( mark [ node ] )
				d [ node ]++;
		}

		for ( int j = 0 ; j < adj [ i ].size () ; j++ ){
			int node = adj [ i ][ j ];

			mark [ node ] = 0;
		}
	}

	cout << ans / 2 << endl;
}
