#include <bits/stdc++.h>
using namespace std;

map< pair<int, int>, int > m;
int n, p, x, y;
long long sus=0;
static int a[300030]={0}, b[300030]={0};

int main()
{
    cin >> n >> p;
    for(int i=1; i<=n; ++i)
    {
        cin >> x >> y; if(x<y)swap(x, y);
        pair<int, int> tmp(x, y);
        m[tmp] += 1;
        a[x]++; a[y]++; b[x]++; b[y]++;
    }

    sort(b+1, b+n+1);
    for(int i=n; i>0; --i)
    {
        int t=lower_bound(b+1, b+n+1, p-b[i])-b;
        if(t<i)
            sus += i-t;
    }

    map< pair<int, int>, int>::iterator it;
    for(it=m.begin(); it!=m.end(); ++it)
    {
        x=it->first.first, y=it->first.second;
        int tmp= it->second;
        if(a[x]+a[y]>=p && a[x]+a[y]-tmp<p)sus--;
    }

    cout << sus << '\n';
    return 0;
}