#include <iostream>
#include <string>
#include <cstring>
#include <cstdio>
#include <cstdlib>
#include <algorithm>
#include <cmath>
#include <ctime>
#include <vector>
#include <queue>
#include <deque>
#include <stack>
#include <set>
#include <map>

#define maxlongint 2147483647
#define LL long long
#define pb push_back
#define mp make_pair

using namespace std;

vector <int> v[300010];

int cnt[300010],tot[300010],t[300010];
int n,m,x,y;

int main()
{
    scanf("%d%d",&n,&m);
    for(int i=1;i<=n;i++)
    {
        scanf("%d%d",&x,&y);
        cnt[x]++,cnt[y]++;
        v[x].pb(y),v[y].pb(x);
    }
    for(int i=1;i<=n;i++)tot[cnt[i]]++;
    for(int i=1;i<=n;i++)tot[i]+=tot[i-1];
    LL ans=0;
    for(int i=1;i<=n;i++)
    {
        if(cnt[i]>=m)ans+=(LL)tot[n];else ans+=(LL)tot[n]-tot[m-cnt[i]-1];
        for(int j=0;j<v[i].size();j++)t[v[i][j]]++;
        for(int j=0;j<v[i].size();j++)
            if(cnt[i]+cnt[v[i][j]]>=m && cnt[i]+cnt[v[i][j]]-t[v[i][j]]<m)
            {
                ans--;
                t[v[i][j]]=0;
            }
        for(int j=0;j<v[i].size();j++)if(t[v[i][j]])t[v[i][j]]--;
    }
    for(int i=1;i<=n;i++)if(cnt[i]*2>=m)ans--;
    printf("%I64d\n",ans/2);
    return 0;
}