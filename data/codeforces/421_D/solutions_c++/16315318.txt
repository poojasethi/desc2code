#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define orta (bas + son >> 1)
#define sag (k + k + 1)
#define sol (k + k)
#define endl '\n'
#define foreach(i,x) for(type(x)i=x.begin();i!=x.end();i++)
#define FOR(ii,aa,bb) for(int ii=aa;ii<=bb;ii++)
#define ROF(ii,aa,bb) for(int ii=aa;ii>=bb;ii--)
#define mp make_pair
#define nd second
#define st first
#define type(x) __typeof(x.begin())

typedef pair < int ,int > pii;

typedef long long ll;

const long long linf = 1e18+5;
const int mod = (int) 1e9 + 7;
const int logN = 17;
const int inf = 1e9;
const int N = 3e5 + 5;

int n, p, x, y, c, g[N], gg[N];
map< pii , int > H;
ll ans;

int main() {

	scanf("%d %d", &n, &p);

	FOR(i, 1, n) {
		scanf("%d %d", &x, &y);
		if(x > y) swap(x, y);
		H[mp(x,y)]++;
		g[x]++; g[y]++;
		gg[x]++; gg[y]++;
	}

	sort(gg + 1, gg + n + 1);

	int j = 1;

	FOR(i, 1, n) {
		int ind = lower_bound(gg + 1, gg + i, p - gg[i]) - gg;
		ans += i - ind;
	}

	foreach(it, H) {
		x = it->st.st, y = it->st.nd, c = it->nd;
		if(g[x] + g[y] >= p && g[x] + g[y] - c < p) 
			ans--;
	}

	cout << ans << endl;

	return 0;
}
