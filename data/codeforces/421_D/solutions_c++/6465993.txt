#include <iostream>
#include <algorithm>
#include <map>
using namespace std;
int n, p;
int a[300123], b[300123];
pair<int,int> e[300123];
long long cnt;
void check(pair<int,int> t, int z){
	int x = t.first;
	int y = t.second;
	if (b[x] + b[y] >= p
			&& b[x] + b[y]-  z < p)
		cnt --;
}
int main(){
	cin >> n >> p;
	for(int i = 1; i <= n; i ++){
		int x, y;
		cin >> x >> y;
		if (x > y) swap(x,y);
		a[x]++; a[y]++;
		b[x]++; b[y]++;
		e[i] = make_pair(x, y);
	};
	sort(a + 1, a + n + 1);

	int j = n;
	//cout << endl;
	//for(int i = 1; i <= n; i++)
		//cout << a[i] << "  ";
	//cout << endl;
	for(int i = 1; i <= n ; i++){
		while(j > 0 && a[i] + a[j] >= p) j--;
		cnt += n - j;
		//cout << i << " " << cnt << " " << j  << endl;
	}
	for(int i = 1; i<= n; i++)
		if (a[i] * 2 >= p)
			cnt--;
	cnt /= 2;
	//truncate
	sort(e + 1, e + n  + 1);
	int z = 1;
	for(int i = 2; i <= n + 1; i++)
		if (i == n + 1 || e[i] != e[i - 1]){
			check(e[i-1], z);
			z = 1;
		} else {
			z++;
		}
	cout << cnt;
	return 0;
}
