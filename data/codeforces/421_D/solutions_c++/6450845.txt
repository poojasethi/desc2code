#include<iostream>
#include<map>
#include<vector>
#include<algorithm>
using namespace std;

#define X first
#define Y second
#define pb push_back
#define mp make_pair

const int oo = 3e5 + 100;
long long n, p, x, y, ans, a[oo], bad;
map<pair<int, int>, int > m;
vector<int> v;

int main(){
  cin >> n >> p;
  for(int i = 0; i < n; i++)
    cin >> x >> y, m[mp(min(x, y), max(x, y))]++, a[x]++, a[y]++;
  for(map<pair<int, int>, int >::iterator it = m.begin(); it != m.end(); it++){
    pair<int, int> q = it -> first;
    if(a[q.X] + a[q.Y] - m[q] < p && a[q.X] + a[q.Y] >= p) bad++;
  }
  for(int i = 1; i <= n; i++)
    v.pb(a[i]);
  sort(v.begin(), v.end());
  for(int i = 0; i < n; i++){
    vector<int>::iterator it = lower_bound(v.begin(), v.end(), p - v[i]);
    ans += (int)(v.size() - (it - v.begin()));
    if((int)(it - v.begin()) <= i) ans--;
  }
  cout << ans / 2 - bad;
  return 0;
}
