#include<bits/stdc++.h>

using namespace std ;

typedef long long ll ;
typedef pair<int,int> pii ;
const int maxn = 3e5+5 ;

int n , p ;
ll ans ;
vector<int> g[maxn] ;
int d[maxn] ;

void init()
{
  cin >> n >> p ;
  for(int i=0 ; i<n ; i++)
    {
      int u , v ;
      cin >> u >> v ;
      v-- , u-- ;
      g[u].push_back(v) ;
      g[v].push_back(u) ;
    }
  for(int i=0 ; i<n ; i++)
      sort(g[i].begin() , g[i].end()) ;
  for(int i=0 ; i<n ; i++)
    d[i] = (int)g[i].size() ;
  sort(d , d+n) ;
}

void process()
{
  for(int i=0 ; i<n ; i++)
    {
      ans += d + n - lower_bound(d , d+n , p -(int)g[i].size()) ;
      if((int)g[i].size() * 2 >= p) ans-- ;
      int l , r ;
      l = r = 0 ;
      while(l < (int)g[i].size())
	{
	  while(r < (int)g[i].size() && g[i][l] == g[i][r]) r++ ;
	  if((int)g[i].size() + (int)g[g[i][l]].size() >= p &&
	     (int) g[i].size() + (int)g[g[i][l]].size() - (r-l) < p)
	    ans-- ;
	  l = r ;
	}
    }
  ans /= 2 ;
  cout << ans << endl ;
}

int main()
{
  ios_base::sync_with_stdio(false) ;
  init() ;
  process() ;
  return 0 ;
}
