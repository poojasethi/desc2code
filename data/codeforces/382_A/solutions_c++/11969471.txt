#include <bits/stdc++.h>
using namespace std;
int main()
{
    string a,b,s;
    char ch;
    getline(cin,a,'|');
    getline(cin,b);
    cin>>s;
    for(int i=0;i<s.length();i++)
        if(a.length()<=b.length())
            a+=s[i];
        else
            b+=s[i];
    if(a.length()==b.length())
        cout<<a<<"|"<<b;
    else
        cout<<"Impossible";
    return 0;
}