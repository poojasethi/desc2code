//بسم الله..
// و بذکر ولیه
#include <queue>
#include <iostream>
#include <algorithm>
using namespace std;

string s, t;

int main() {
    ios::sync_with_stdio(false);
    getline(cin, s, '|');
    getline(cin, t);
    char c;
    while (cin >> c)
        (s.size() < t.size()? s: t) += c;
    if (s.size() != t.size())
        cout << "Impossible\n";
    else
        cout << s << '|' << t << '\n';
    return 0;
}