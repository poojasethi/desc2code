#include <iostream>
#include <string>
using namespace std;

int main() 
{
    string l, r, s;
    getline(cin, l, '|');
    getline(cin, r);
    getline(cin, s);
    
    for(int i = 0; i < s.length(); i++)
        if(l.length() <= r.length()) l += s[i];
        else r += s[i];
        
    if(l.length() == r.length())
        cout << l << "|" << r << endl;
    else 
        cout << "Impossible" << endl;
    return 0;
}