#include<cstdio>
#include<cstdlib>
#include<string>
#include<cstring>
#include<iostream>
using namespace std;
string a,b,pk;
int main(){
    getline(cin,a,'|');
    getline(cin,b);
    char ch;
    //getchar();
    while(scanf(" %c",&ch)==1)//*** this space is important
    if(a.length()<=b.length())a+=ch;else b+=ch;
    if(a.length()==b.length())
        cout<< a << "|" << b<<endl;
    else cout<<"Impossible"<<endl;
    return 0;
}
