#include <cstdio>
#include <algorithm>
#include <vector>
#define NE(x, y) ++ne, e[ne]=y, h[ne]=s[x], s[x]=ne
using namespace std;
const int N = 100005;
int ans[N][2];
vector<int>v[N];
int n, m, ne = 0, vt = 0,
    col[N], l[N], st[N], ed[N], sz[N], cnt[N], sum[N],
    s[N], e[N*2], h[N*2], sq[N], hq[N];
void size(int x, int f) {
    sz[x] = 1;
    for (int w=s[x]; w; w=h[w]) if (e[w]!=f)
        size(e[w], x), sz[x] += sz[e[w]];
}
void ins(int x) {
    for (int i=st[x]; i<=ed[x]; ++i)
        ++sum[++cnt[l[i]]];
}
void del(int x) {
    for (int i=st[x]; i<=ed[x]; ++i)
        --sum[cnt[l[i]]--];
}
void solve(int x, int f) {
    st[x] = ++vt; l[vt] = col[x];
    int mx = 0, mf = 0;
    for (int w=s[x]; w; w=h[w]) if (e[w]!=f)
        if (sz[e[w]] > mx)
            mx = sz[e[w]], mf = e[w];
    for (int w=s[x]; w; w=h[w]) if (e[w]!=f && e[w]!=mf)
        solve(e[w], x), del(e[w]);
    if (mx) solve(mf, x);
    for (int w=s[x]; w; w=h[w]) if (e[w]!=f && e[w]!=mf)
        ins(e[w]);
    ++sum[++cnt[col[x]]];
    for (int i=0;i<v[x].size();i++)
        ans[v[x][i]][1]=sum[ans[v[x][i]][0]];
    ed[x] = vt;
}
int main() {
    scanf("%d%d",&n,&m);
    for (int i=1; i<=n; ++i) scanf("%d",&col[i]);
    int x, y;
    for (int i=1; i<n; ++i) {
        scanf("%d%d",&x,&y);
        NE(x, y); NE(y, x);
    }
    for (int i=1; i<=m; ++i) {
        scanf("%d%d",&x,&ans[i][0]);
        v[x].push_back(i);
    }
    size(1, 0);
    solve(1, 0);
    for (int i=1; i<=m; ++i)
        printf("%d\n", ans[i][1]);
    return 0;
}