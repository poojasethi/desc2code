#include<bits/stdc++.h>
#define MP make_pair
#define R second
#define L first
using namespace std;
const int maxn=200*1000+1000;
vector<pair<int, int> > q[maxn];
int fen[maxn], cnt[maxn];
int ans[maxn], sz[maxn];
vector<int> v[maxn];
int c[maxn];

void _add(int id, int val){
	for(id++;id<maxn;id+=id&-id)
		fen[id]+=val;
	return;
}

int get(int id){
	int ret=0;
	for(id;id>0;id-=id&-id)
		ret+=fen[id];
	return ret;
}

int prep(int x, int p=-1){
	sz[x]=1;
	for(int i=0;i<v[x].size();i++)
		if(v[x][i]!=p)
			sz[x]+=prep(v[x][i], x);
	return sz[x];
}

void add(int id, int val){
	_add(cnt[id], -1);
	cnt[id]+=val;
	_add(cnt[id], +1);
}

void Clean(int x, int p, int val){
	add(c[x], val);
	for(int i=0;i<v[x].size();i++)
		if(v[x][i]!=p)
			Clean(v[x][i], x, val);
	return ;
}

void dfs(int x, int p=-1){
	int maxi=-1;
	for(int i=0;i<v[x].size();i++)
		if(v[x][i]!=p && (maxi==-1 || sz[v[x][i]]>sz[maxi]))
			maxi=v[x][i];
	for(int i=0;i<v[x].size();i++)
		if(v[x][i]!=maxi && v[x][i]!=p){
			dfs(v[x][i], x);
			Clean(v[x][i], x, -1);
		}
	if(maxi!=-1)
		dfs(maxi, x);
	for(int i=0;i<v[x].size();i++)
		if(v[x][i]!=p && v[x][i]!=maxi)
			Clean(v[x][i], x, +1);
	add(c[x], 1);
	for(int i=0;i<q[x].size();i++)
		ans[q[x][i].L]=get(q[x][i].R);
	return;
}

int main(){
	ios_base::sync_with_stdio(false);
	int n, m;
	cin >> n >> m;
	for(int i=0;i<n;i++)
		cin >> c[i];
	for(int i=0;i<n-1;i++){
		int x, y;
		cin >> x >> y;
		x--, y--;
		v[x].push_back(y);
		v[y].push_back(x);
	}
	for(int i=0;i<m;i++){
		int v, k;
		cin >> v >> k;
		q[--v].push_back(MP(i, k));
	}
	_add(0, n);
	prep(0);
	dfs(0);
	for(int i=0;i<m;i++)
		cout << n-ans[i] << endl;
}
