#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 200010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,x,y,t,num;
int co[N],a[N],next[N],head[N],c[N],fa[N],ma[N],s[N],f[N],
	b[N],ne[N],he[N],an[N];
inline void add(int x,int y) {
	a[++t]=y,next[t]=head[x],head[x]=t;
	a[++t]=x,next[t]=head[y],head[y]=t;
}
void dfs(int x) {
	int v; c[x]=1;
	for (v=head[x];v;v=next[v])
	if (a[v]!=fa[x]) {
		fa[a[v]]=x,dfs(a[v]),c[x]+=c[a[v]];
		if (c[a[v]]>c[ma[x]]) ma[x]=a[v];
	}
}
void work(int x,int y) {
	int v;
	if (y<0) s[f[co[x]]--]--;
	else s[++f[co[x]]]++;
	for (v=head[x];v;v=next[v])
	if (a[v]!=fa[x]) work(a[v],y);
}
void dfs_(int x) {
	int v;
	for (v=head[x];v;v=next[v])
	if (a[v]!=fa[x]&&a[v]!=ma[x]) dfs_(a[v]),work(a[v],-1);
	if (ma[x]) dfs_(ma[x]);
	s[++f[co[x]]]++;
	for (v=head[x];v;v=next[v])
	if (a[v]!=fa[x]&&a[v]!=ma[x]) work(a[v],1);
	for (v=he[x];v;v=ne[v]) an[v]=s[b[v]];
}
int main() {
	scanf("%d%d",&n,&m);
	For(i,1,n) scanf("%d",&co[i]);
	For(i,1,n-1) {
		scanf("%d%d",&x,&y); add(x,y);
	}
	For(i,1,m) {
		scanf("%d%d",&x,&y);
		b[i]=y,ne[i]=he[x],he[x]=i;
	}
	dfs(1); dfs_(1);
	For(i,1,m) printf("%d\n",an[i]);
	//for(;;);
	return 0;
}
