#include <vector>
#include <cstdio>
#define pb push_back
using namespace std;

int n,m,c[100005],h[100005],e[200005],b[200005],l[100005],
    r[100005],t[100005],ans[100005][2],s[100005],
    g[100005],sum[100005],tot,pos;
    
vector<int>v[100005];

void Add(int x,int y){
    b[++tot]=y; e[tot]=h[x]; h[x]=tot;
}

void dfs(int k,int fa){
    t[++tot]=c[k]; l[k]=tot;
    sum[k]=1;
    for (int go=h[k];go;go=e[go])
        if (b[go]!=fa){
            dfs(b[go],k);
            sum[k]+=s[b[go]];
        }
     r[k]=tot;
}

void get(int k,int fa){
    int tmp=0,pos=0;
    for (int go=h[k];go;go=e[go])
        if (b[go]!=fa)if (sum[b[go]]>tmp){
            tmp=sum[b[go]]; pos=b[go];
        }
    for (int go=h[k];go;go=e[go])
        if (b[go]!=fa&&b[go]!=pos){
            get(b[go],k);
            for (int i=l[b[go]];i<=r[b[go]];i++)
                --g[s[t[i]]--];
        }
    if (pos) get(pos,k);
    for (int go=h[k];go;go=e[go])
        if (b[go]!=fa&&b[go]!=pos){
            for (int i=l[b[go]];i<=r[b[go]];i++)
                ++g[++s[t[i]]];
        }
    ++g[++s[c[k]]];
    for (int i=0;i<v[k].size();i++)
        ans[v[k][i]][1]=g[ans[v[k][i]][0]];
}

int main(){
    scanf("%d%d",&n,&m);
    for (int i=1;i<=n;i++)
        scanf("%d",&c[i]);
    int x,y;
    for (int i=1;i<n;i++){
        scanf("%d%d",&x,&y);
        Add(x,y); Add(y,x);
    }
    tot=0;
    for (int i=0;i<m;i++){
        scanf("%d%d",&x,&ans[i][0]);
        v[x].pb(i);
    }
    dfs(1,0);
    get(1,0);
    for (int i=0;i<m;i++)
        printf("%d\n",ans[i][1]);
    return 0;  
}