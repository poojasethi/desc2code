#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

const int N=1e6+10;
int v[N], a[N];
ll t[3][N];
map<int, int> m;

ll query(int idx, int id) {
    ll sum=0;
	for(; idx>0; idx-=(idx&-idx)) sum+=t[id][idx];
	return sum;
}

void update(int idx, ll val, int id) {
	for(; idx<N; idx+=(idx & -idx)) t[id][idx]+=val;
}

int main() {
	int n;
    scanf("%d", &n);
	for(int i=1; i<=n; i++) {
		scanf("%d", &v[n-i]);
		a[n-i]=v[n-i];
	}
	sort(a, a+n);
	for(int i=0; i<n; i++) m[a[i]]=i+1;
    for(int i=0; i<n; i++) {
		v[i]=m[v[i]];
        update(v[i], 1, 0);
		ll aux;
        for(int j=1; j<3; j++) if(aux=query(v[i]-1, j-1)) update(v[i], aux, j);
    }
    printf("%I64d", query(N-1, 2));
    return 0;
}

