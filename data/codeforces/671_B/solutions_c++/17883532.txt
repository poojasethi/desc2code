#include<cstdio>
#include<cstring>
#include<algorithm>
#define ll long long
using namespace std;
int a[500010],k,n;
bool checkmax(int x){
	int tmp=k;
	for(int i=1;i<=n;++i){
		if(a[i]>x)tmp-=(a[i]-x);
		if(tmp<0)return 0;
	}
	return 1;
}
bool checkmin(int x){
	int tmp=k;
	for(int i=1;i<=n;++i){
		if(a[i]<x)tmp-=(x-a[i]);
		if(tmp<0)return 0;
	}
	return 1;
}
int main(){
	scanf("%d%d",&n,&k);ll sum=0;int k1,k2,x=0,y=0x7f7f7f7f;
	for(int i=1;i<=n;++i){
		scanf("%d",&a[i]);sum+=a[i];
		x=max(x,a[i]);y=min(y,a[i]);
	}
	k1=k2=sum/n;if(sum%n)++k2;
	int ans2,ans1,l=y,r=k1;
	while(l<=r){
		int m=(l+r)>>1;
		if(checkmin(m))ans1=m,l=m+1;
		else r=m-1; 
	}l=k2,r=x;
	while(l<r){
		int m=(l+r)>>1;
		if(checkmax(m))r=m;
		else l=m+1;
	}
	ans2=(l+r)>>1;printf("%d\n",ans2-ans1);
}
 	       			 	 		 	 	 	  		  	