#include<bits/stdc++.h>
#define M 1000000000;
typedef long long LL;
using namespace std;

LL m, tot, n, k;
LL a[500010];

LL wk1(){
	LL l = 0,  ans = 0, r = m;
	while (l <= r) {
		LL mid = (l+r)/2, sum = 0;
		for(int i = 1; i <= n; i++) sum += max(LL(0),mid-a[i]);
		if (sum>k) r = mid-1;
		else {ans = mid;l = mid+1;}
	}
	return ans;
}

LL wk2(){
	LL l = m, ans = 0, r = M;
	if (m*n < tot) l = l+1;
	while (l <= r) {
		LL mid = (l+r)/2, sum = 0;
		for(int i = 1; i <= n; i++) sum += max(a[i]-mid,LL(0));
		if (sum>k) l = mid+1;
		else {ans = mid;r = mid-1;}
	}
	return ans;
}

int main(){
	scanf("%I64d%I64d", &n, &k);
	for(int i = 1; i <= n; i++) scanf("%d", &a[i]);
	for(int i = 1; i <= n; i++) tot += a[i];
	m = tot/n;
	printf("%I64d", wk2()-wk1());
}
