#include <cstdio>
#include <algorithm>
using namespace std;
long long s;
int a[500005],mx,mn,n,k;
int main(){
    scanf("%d%d",&n,&k);
    for(int i=1;i<=n;i++){
        scanf("%d",&a[i]);
        mx=max(mx,a[i]);
        mn=min(mn,a[i]);
        s+=a[i];
    }
    long long l=s/n+bool(s%n);
    long long r=mx;
    long long high=r,low=l; 
    while(l<=r){
        long long mid=(l+r)>>1,cnt=0;
        for(int i=1;i<=n;i++)if(a[i]>mid)cnt+=a[i]-mid;
        if(cnt<=k){high=mid;r=mid-1;}
        else l=mid+1;
    }l=mn;r=s/n;
    while(l<=r){
    	long long mid=(l+r)>>1,cnt=0;
    	for(int i=1;i<=n;i++)if(a[i]<mid)cnt+=mid-a[i];
    	if(cnt<=k){low=mid;l=mid+1;}
    	else r=mid-1;
    }printf("%lld\n",high-low);
    return 0;
}
	 	 					 				  	 					 					 	