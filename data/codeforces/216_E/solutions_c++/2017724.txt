#include<iostream>
#include<cstdio>
#include<map>

using namespace std;

typedef long long LL;
const int max_n=100010;

int k,b,n;
int s[max_n];

int ps;
map<int,int> np;
int z[max_n];
LL ssb,ssz;

int main()
{
	scanf("%d%d%d",&k,&b,&n);
	
	for(int i=0; i<n; ++i)
		scanf("%d",&s[i]);
	
	ps=0; np[0]=1;
	for(int i=0; i<n; ++i)
	{
		ps+=s[i]; ps%=(k-1);
		int rps=(ps+(k-1)-b)%(k-1);
		ssb += ((LL)(np[rps]));
		//cout<<i<<": "<<ssb<<endl;
		++np[ps];
	}
	
	z[0]=((s[0]==0)?1:0);
	ssz += ((LL)(z[0]));
	for(int i=1; i<n; ++i)
	{
		z[i]=((s[i]==0)?(z[i-1]+1):0);
		ssz += ((LL)(z[i]));
	}
	
	if(b==0)
		cout<<ssz<<endl;
	else if(b==k-1)
		cout<<ssb-ssz<<endl;
	else
		cout<<ssb<<endl;
	
	return 0;
}
