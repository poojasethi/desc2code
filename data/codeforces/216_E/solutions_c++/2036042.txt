#include <iostream>
#include <map>
#include <cstdio>
using namespace std;
typedef long long ll;
const int MAXN=1000*100+10;
int k,n,b,a[MAXN];
ll ans,ss,ans2;
map<ll,ll> M;
int main()
{
	cin >> k >> b >> n;
	for(int i=1;i<=n;i++)
		a[0]=scanf("%d",&a[i]);
	ll s=0;
	k--;
	for(int i=1;i<=n;i++)
	{
		M[s]++;
		s+=a[i];
		s%=k;
		ans+=M[(s-b+k)%k];
		if(a[i]==0)
		{
			ss++;
			ans2+=ss;
		}
		else
			ss=0;
	}
	if(b)
		cout << (b==k ? ans-ans2 : ans) << endl;
	else
		cout << ans2 << endl;
	return 0;
}
