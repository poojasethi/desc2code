#include <iostream>
#include <cstdio>
#include <map>

using namespace std;

const int N = 200000;
int s[N];
int k, b, n;
map<int, int> list;

int main() {
	scanf("%d %d %d", &k, &b, &n);
	for (int i = 1; i <= n; ++i)
		scanf("%d", &s[i]);
	
	long long zero = 0;
	for (int i = 1, cnt = 0; i <= n; ++i) {
		cnt = (s[i])? 0 : cnt + 1;
		zero += cnt;
	}

	long long ans = 0;
	list.clear();
	++list[0];
	for (int i = 1, pre = 0; i <= n; ++i) {
		pre = (pre + s[i]) % (k - 1);

		int need = (pre + k - 1 - b) % (k - 1);
		if (list.count(need)) ans += list[need];

		++list[pre];
	}		

	if (b == 0) ans = zero;
	if (b == k - 1) ans -= zero;
	cout << ans << endl;

	return 0;
}
