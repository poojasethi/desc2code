#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>
#include <vector>
#include <map>

using namespace std ;

const int MAXN = (int)1e5+10 ;

typedef long long ll;

map<ll,ll> num ;

ll k,b,n;
ll now ;
ll z , sz ;

int main()
{
    cin >> k >> b >> n ;
    ll ans = 0 ;
    now = 0 ;
    num[0]=1;
    for (int i = 0 ; i < n ; i++)
    {
        ll x;
        cin >> x ;

        if (x!=0) z = 0 ;
        else sz += (++z) ;
        now += x ;
        now %= (k-1) ;
        ans += num[((now-b) % (k-1) + (k-1)) % (k-1)] ;
        num[now]++ ;
    }
    if (b == 0)
        cout << sz << endl ;
    else if (b == k-1)
        cout << ans - sz << endl ;
    else
        cout << ans << endl ;
    return 0 ;
}
