#include <bits/stdc++.h>

using namespace std;

const int N = 100000;

int i, k, b, n, a[N];
long long sum[N + 1];

int main() {
    scanf("%d %d %d", &k, &b, &n);
    for (i = 0; i < n; i++) scanf("%d", a + i);
    long long result = 0;
    map <long long, int> cnt, mod;
    sum[n] = 0, cnt[0]++, mod[0]++;
    long long zero = 0;
    for (i = n - 1; i >= 0; i--) {
        sum[i] = sum[i + 1] + a[i];
        zero += cnt[sum[i]];
        result += mod[(sum[i] + (k - 1) - b) % (k - 1)];
        cnt[sum[i]] ++;
        mod[sum[i] % (k - 1)] ++;
    }
    if (b == 0) cout << zero << endl;
    else {
        if (b == k - 1) result -= zero;
        cout << result << endl;
    }
    return 0;
}
		    		   	 	      		        	