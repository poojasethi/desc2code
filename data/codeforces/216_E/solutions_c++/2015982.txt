#include<stdio.h>
#include<string.h>
#include<map>
using namespace std;
typedef __int64 lld;
map<int,lld> Map;
int main()
{
    int k,b,n,i,j,x;
    scanf("%d%d%d",&k,&b,&n);
    lld ans=0;
    Map[0]=1;
    lld s=0,t=0,z=0;
    for(i=0;i<n;i++)
    {
        scanf("%d",&x);
        s=(s+x)%(k-1);
        ans+=Map[(s-b+k-1)%(k-1)];
        Map[s]++;
        if(x==0)
            z+=++t;
        else
            t=0;
    }
    if(b==0)
        ans=z;
    if(b==k-1)
        ans-=z;
    printf("%I64d\n",ans);
    return 0;
}