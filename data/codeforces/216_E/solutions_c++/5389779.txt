#include<iostream>
#include<map>
using namespace std;

int k,b,n,h1,s,m1[1000000];
long long ans,ans2;

map<int,int> mp;

int main(){
cin>>k>>b>>n;
for(h1=n-1;h1>=0;h1--)cin>>m1[h1];
int pre=0;
for(h1=0;h1<n;h1++)
if(m1[h1])
pre=0;
else
{
ans2+=++pre;
}
s=ans=0;
k--;
for(h1=0;h1<n;h1++)
{
mp[s]++;
(s+=m1[h1])%=k;
ans+=mp[(s-b+k)%k];

}
if(b==0)cout<<ans2<<endl;
else cout<<ans-(k==b?ans2:0)<<endl;
}