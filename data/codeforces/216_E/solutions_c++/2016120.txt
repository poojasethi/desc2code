#include<stdio.h>
#include<algorithm>
#include<map>

using namespace std;

#define ll long long

ll k, b, n;
map<ll, ll> mp;

int main(void)
{
    ll x, sum = 0, sum2 = 0, cnt_zero = 1, cnt = 0;
    bool flag = true;
    ll i;

    scanf("%I64d %I64d %I64d", &k, &b, &n);

    mp[0]++;
    ll zero=0;
    for (i=0; i<n; i++)
    {
        scanf("%I64d", &x);
        

        if(!x)zero++;
        else zero=0;

        sum+=x;
        sum%=(k-1);

        ll sutja=(sum+(k-1)-b)%(k-1);

        if(b==k-1){
            cnt+=(mp[sutja]-zero);
        }
        else if(b==0)cnt+=zero;
        else cnt+=mp[sutja];

        mp[sum]++;

    }

    printf("%I64d", cnt);


    return 0;
}