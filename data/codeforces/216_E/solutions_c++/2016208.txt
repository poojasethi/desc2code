#include<iostream>
#include<tr1/unordered_map>

#define FOR(a,b) for(int a=0;a<b;a++)

typedef long long lint;

using namespace::std;
using namespace::tr1;

unordered_map<int,int> dp = unordered_map<int,int>();

int main(){
  int k, b, n;
  cin >> k >> b >> n;

  lint cnt = 0, zcnt = 0;
  int z = 0, sum = 0, x;
  dp[0]++;
  FOR(i,n){
    cin >> x;
    sum = (sum+x)%(k-1);
    cnt += (lint)dp[(sum - b + k - 1)%(k-1)];
    dp[sum]++;
    if(x==0) zcnt += ++z;
    else z = 0;
  }
  if(b == k-1) cnt -= zcnt;
  cout << ( b==0 ? zcnt : cnt ) << '\n';
  return 0;
}
