#include <cstdio>
#include <map>
#define scanf(arg...) (scanf(arg)?:0)
using namespace std;
typedef long long LL;

const int N = 1e5;

int k, b, n, x[N];
map<int, int> m;
LL r;

LL zero()
{
	LL res = 0;
	for (int i=0, j=0; i<n; ++i) {
		if (x[i]) j = 0;
		else res += ++j;
	}
	return res;
}


int main()
{
	scanf("%d%d%d", &k, &b, &n);
	for (int i=0; i<n; ++i) scanf("%d", &x[i]);
	
	if (b) {
		--k; ++m[0];
		if (b == k) r -= zero(), b = 0;
		for (int i=0, s=0; i<n; ++i) {
			s = (s + x[i]) % k;
			r += m[(s-b+k) % k];
			++m[s];
		}
	} else r = zero();
	
	//~ printf("%lld\n", r);
	printf("%I64d\n", r);
	return 0;
}
