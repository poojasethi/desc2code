#include <iostream>
#include <map>

#define rep(i,n) for(int i=0;i<n;i++)

using namespace std;

int k,b,n,t,pre,cnt;
long long res,res2;
map<int,int> mp;

int main(){

  cin>>k>>b>>n;
  mp[0]++;k--;

  rep(i,n){
    cin>>t;
    if(t)cnt=0;
    else res2+=++cnt;
    pre = (pre+t)%k;
    res+=mp[(pre-b+k)%k];
    mp[pre]++;
  }

  if(b==0)cout<<res2<<endl;
  else if(b==k)cout<<res-res2<<endl;
  else cout<<res<<endl;

}
