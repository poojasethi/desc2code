#include<cstdio>
#include<map>
using namespace std;
typedef long long int64;
int main(){
    int k,b,n;
    scanf("%d %d %d",&k,&b,&n);
    map <int,int> M;
    M[0]++;
    int64 answer=0LL;
    int64 zero=0LL;
    int64 zero_count=0LL;
    int now=0;
    for(int i=0;i<n;i++){
        int value;
        scanf("%d",&value);
        now=(now+value)%(k-1);
        answer+=M[(now-b+k-1)%(k-1)];
        M[now]++;
        if(value==0)
            zero_count++;
        else{
            zero+=((zero_count+1)*(zero_count))>>1LL;
            zero_count=0LL;
        }
    }
    zero+=((zero_count+1)*(zero_count))>>1LL;
    if(b==0)
        answer=zero;
    else if(b==k-1)
        answer-=zero;
    printf("%I64d\n",answer);
    return 0;
}