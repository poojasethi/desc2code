#include <iostream>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <map>

using namespace std;

#ifdef WIN32
	#define I64 "%I64d"
#else
	#define I64 "%lld"
#endif

typedef long long ll;

int k, b, n, k0;
map <int, int> d;

int main()
{              
	scanf("%d%d%d", &k, &b, &n);
	d[0] = 1;
	ll ans = 0, ans0 = 0;
	for (int i = 0, s = 0; i < n; ++i)
	{
		int t;
		scanf("%d", &t);

		if (t == 0)
			++k0;
		else
			k0 = 0;

		ans0 += k0;

		s = (s + t) % (k - 1);
		int tt = (s - b + k - 1) % (k - 1);
		ans += d[tt];
		++d[s];
	}

	if (b == 0)
		ans = ans0;
	else if (b == k - 1)
		ans -= ans0;

	printf(I64"\n", ans);
	return 0;
}
