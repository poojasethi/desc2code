#include <stdio.h>
#include <map>
#define MAX 100010
#define LI long long int

LI k, b, n;
LI a[MAX];
std::map<LI, LI> mp;
LI cnt;

int main(void){
	LI i, sum=0;
	LI r, ff, t;
	LI zero;
	scanf("%I64d %I64d %I64d", &k, &b, &n);
	for (i=1;i<=n;i++){
		scanf("%I64d", &a[i]);
	}
	mp[0]++;
	mp[k-1]++;
	zero=0;
	for (i=1;i<=n;i++){
		sum+=a[i];
		if (a[i]==0) zero++;
		else zero=0;

		r=sum%(k-1);
		t=(r-b + 100*(k-1));
		ff=t%(k-1);
		if (b==0){
			cnt+=zero;
		}else if (b==k-1){
			cnt+=mp[ff]-zero;
		}else{
			cnt+=mp[ff];
		}


		mp[r]++;
	}

	printf("%I64d\n", cnt);
	return false;
}
