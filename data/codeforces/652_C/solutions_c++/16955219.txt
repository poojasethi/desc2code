#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define mp make_pair
#define mod 1000000007
#define pi 3.1415926535897932384626
#define LMAX 9223372036854775807
#define ll long long
#define fi first
#define se second
ll n, m, k, ans, x[500005], y[500005], z[500005], a, b;
int main () {
	scanf("%d %d", &n, &m);
	for (int i=1; i<=n; i++) scanf("%d", &x[i]), y[x[i]]=i;
	for (int i=0; i<m; i++) {
		scanf("%d %d", &a, &b);
		a=y[a];	b=y[b];
		z[max(a, b)]=max(z[max(a, b)], min(a, b));
	}
	for (int i=1; i<=n; i++) {
		k=max(k, z[i]);
		ans+=i-k;
	}
	printf("%I64d\n", ans);
	return 0;
}