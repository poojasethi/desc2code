#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;
int pos[300008];
int foe[300008];
int num[300008];
int n,m;

int main(){
    scanf("%d %d",&n,&m);
    for(int i=1;i<=n;i++){
        scanf("%d",&num[i]);
        pos[num[i]]=i;
        foe[i]=2e9;
    }
    int a,b;
    for(int i=1;i<=m;i++){
        scanf("%d %d",&a,&b);
        a=pos[a];b=pos[b];
        if(a>b) swap(a,b);
        foe[a]=min(foe[a],b);
    }
    int r=n;
    long long ans=0;
    for(int i=n-1;i>=0;i--){
        r=min(r,foe[i+1]-1);
        ans+=r-i;
    }
    cout<<ans<<endl;
    return 0;
}