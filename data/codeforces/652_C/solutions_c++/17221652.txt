#include<bits/stdc++.h>
using namespace std;
long m,n,x,y,t1,t2,b[1000005],a[1000005];
int main(){
    cin>>n>>m;
    long long kq=0;
    for (long i=1;i<=n;i++){
        scanf("%ld",&x);
        a[x]=i;
        b[i]=n+1;
    }
    for (long i=1;i<=m;i++){
        scanf("%ld%ld",&x,&y);
        if (a[x]<a[y])t1=a[x];else t1=a[y];
        if (a[x]>a[y])t2=a[x];else t2=a[y];
        if (b[t1]>t2)b[t1]=t2;
    }
    for (long i=n-1;i>=1;i--)
        if (b[i]>b[i+1])b[i]=b[i+1];
    for (long i=1;i<=n;i++)kq=kq+(long long)b[i]-(long long)i;
    cout<<kq;
}
