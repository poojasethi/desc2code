#include<cstdio>
#include<cstring>
#include<algorithm>
#define fo(i,a,b) for(int i=a;i<=b;i++)
using namespace std;
const int N=600000;
int n,a[N],st[N],en[N*2],next[N*2],m,wz[N],s[N];
int main()
{
	scanf("%d%d",&n,&m);
	fo(i,1,n) scanf("%d",&a[i]),wz[a[i]]=i;
	fo(i,1,m)
	{
		int x,y;
		scanf("%d%d",&x,&y);
		if (wz[x]>wz[y]) swap(x,y);
		x=wz[x],y=wz[y];
		s[y]=max(s[y],x+1);
	}
	int last=1;
	long long ans=0;
	fo(i,1,n)
	{
		last=max(last,s[i]);
		ans+=i-last+1;
	}
	printf("%I64d",ans);
}
