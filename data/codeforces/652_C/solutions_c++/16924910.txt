#include<bits/stdc++.h>
#define LL long long
using namespace std;
const int N=300011;
int n,m;
int a[N];
int pos[N];
int nxt[N];
int main()
{
	cin>>n>>m;
	for (int i=1;i<=n;i++)
	{
		scanf("%d",&a[i]);
		pos[a[i]]=i;
	}
	for (int i=1;i<=n;i++)
	{
		nxt[i]=n+1;
	}
	int l,r;
	for (int i=1;i<=m;i++)
	{
		scanf("%d%d",&l,&r);
		if (pos[l]>pos[r]) swap(l,r);
		if (nxt[pos[l]]>pos[r]) nxt[pos[l]]=pos[r];
	}
	nxt[n+1]=n+1;
	for (int i=n;i>=1;i--)
	{
		nxt[i]=min(nxt[i],nxt[i+1]);
	}
	LL ans=0ll;
	for (int i=1;i<=n;i++)
	{
		ans+=(LL)(nxt[i]-i);
	}
	cout<<ans;
}
