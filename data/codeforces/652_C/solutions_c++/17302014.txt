#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
const int N=3e5+5;
int f[N],pos[N];
int main()
{
    int n,m; scanf("%d%d",&n,&m);
    int u,v;
    for(int i=1;i<=n;i++){
        scanf("%d",&v);
        pos[v]=i;f[i]=n+1;
    }
    ll ans=1ll*n*(n-1)/2+n;
    for(int i=0;i<m;i++){
        scanf("%d%d",&u,&v);
        if(pos[u]>pos[v])swap(u,v);
        f[pos[u]]=min(f[pos[u]],pos[v]);
    }
    for(int i=n-1;i>=1;i--)f[i]=min(f[i],f[i+1]);
    for(int i=1;i<n;i++){
        ans-=(n-f[i]+1);
    }
    cout<<ans;
    return 0;
}