#include<iostream>
#include<vector>
#include<cstdio>


using namespace std;
int main()
{
	std::ios::sync_with_stdio(false);
	int n,m;
	cin>>n>>m;
	std::vector<int> v(n+1);
	for (int i = 0; i < n; ++i)
	{
		int x;
		cin>>x;
		v[x] = i;
	}
	std::vector<int> dp(n,0);
	for (int i = 0; i < m; ++i)
	{
		int a,b;
		cin>>a>>b;
		if(v[a]>v[b])
			swap(a,b);
		dp[v[b]] = max(dp[v[b]], v[a]+1);
	}
	for (int i = 1; i < n; ++i)
	{
		dp[i] = max(dp[i], dp[i-1]);
	}
	long long s = 0;

	for (int i = 0; i < n; ++i)
	{
	//cout<<dp[i]<<'>'<<i<<endl;
		s+=(i+1-dp[i]);
	}
	cout<<s;
}