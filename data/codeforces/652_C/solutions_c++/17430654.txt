#include "stdio.h"
#include "vector"
#include "algorithm"
using namespace std;
int main(){
    int n,k,x,y;
    scanf("%d %d",&n,&k);
    vector<int> d(n+1),pos(n+1),t(n+1,10000000);
    for(int i=1;i<=n;i++){
        scanf("%d",&d[i]);
        pos[d[i]]=i;
    }
    for(int i=0;i<k;i++){
        scanf("%d %d",&x,&y);
        t[min(pos[x],pos[y])]=min(t[min(pos[x],pos[y])],max(pos[x],pos[y]));
    }
    long long countx=0;
    int q=n+1;
    for(int i=n;i>=1;i--){
        q=min(q,t[i]);
        countx+=(q-i);
    }
    printf("%I64d\n",countx);
}

   	 	  		 					 				  	   			