#include<cstdio>
#include<algorithm>
using namespace std;
typedef long long ll;
int inv[300010],nf[300010];	//	nf[i]表示位置i前面的最近的仇人 
int main()
{
	int n,m; scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++)
	{
		int a; scanf("%d",&a);
		inv[a]=i;
	}

	for(int i=0;i<m;i++)
	{
		int a,b; scanf("%d%d",&a,&b);
		a=inv[a]; b=inv[b];
		if(a>b) swap(a,b);
		nf[b]=max(nf[b],a);
	}
	
	ll ans=0;
	int ma=0;
	for(int i=1;i<=n;i++)
	{
		ma = max(ma,nf[i]);
		ans += i - ma;
	}
	printf("%I64d\n",ans);
	
	
	return 0;
}
