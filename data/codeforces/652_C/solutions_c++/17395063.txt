#include<bits/stdc++.h>

using namespace std;

int A[300005],M[300005],n,w,i,j;

long long asd;

int main(){

	scanf("%d%d",&n,&w);

	for(i=1;i<=n;i++){
		scanf("%d",&j);
		A[j] = i;
	}

	while(w--){
		scanf("%d%d",&i,&j);
		M[max(A[i] , A[j])] = max(M[max(A[i] , A[j])] , min(A[i],A[j]));
	}

	for(i=j=1;i<=n;i++){
		while(M[j] < i && j <= n)  j++;
		asd += j - i;
	}

	printf("%lld\n",asd);
	return 0;
}