#include<cstdio>
#include<algorithm>
using namespace std;

#define ran 333333

int n, m, ma, x, y;
int a[ran], p[ran], r[ran];
long long ans;

int main() {
	scanf("%d%d", &n, &m);
	for(int i=0;i<n;i++) {
		scanf("%d", &a[i]);
		p[a[i]] = i;
		r[i] = n-1;
	}
	for(int i=0;i<m;i++) {
		scanf("%d%d", &x, &y);
		int px = p[x], py = p[y];
		if (px > py) r[py] = min(r[py], px-1);
		else 		 r[px] = min(r[px], py-1);
	}
	ans=0LL;
	ma = n-1;
	for(int i=n-1;i>=0;i--) {
		ma = min(ma, r[i]);
		ans+=ma-i+1;
	}
	printf("%I64d\n", ans);
	
	return 0;
}