#include <iostream>
#include <cstdio>

using namespace std;

typedef long long LL;
const int maxn = 300000+10;
int a[maxn],idx[maxn],z[maxn];
int main() {

	int n,m;
	//freopen("in","r",stdin);
	scanf("%d%d",&n,&m);
	
	for(int i = 1; i <= n; i++) {
		scanf("%d",&a[i]);
		idx[a[i]] = i;
		z[i] = -1;
	}
	for(int i = 1; i <= m; i++) {
		int x,y;
		scanf("%d%d",&x,&y);
		if(idx[x] > idx[y]) swap(x,y);
		z[idx[y]] = max(z[idx[y]],idx[x]);
	}

	LL ret = 0;
	for(int L = 1, R = -1; L <= n; L++) {
		while(R+1 <= n && z[R+1] < L) R++;
		ret += R-L+1;
	}


	cout<<ret<<endl;
	return 0;
}