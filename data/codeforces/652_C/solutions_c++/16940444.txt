#include <bits/stdc++.h>
using namespace std;
#define N 300009
int a[N],pos[N],n,m,ma[N];
long long ans;
int main() 
{
	ios_base::sync_with_stdio(false);cin.tie(NULL);
	cin>>n>>m;
	for(int i=1;i<=n;i++){cin>>a[i];pos[a[i]]=i;}
	for(int i=1;i<=n;i++)ma[i]=1;
	for(int i=1;i<=m;i++)
	{
		int x,y;
		cin>>x>>y;
		x=pos[x];
		y=pos[y];
		ma[max(x,y)]=max(ma[max(x,y)],min(x,y)+1);
	}
	//for(int i=1;i<=n;i++)cout<<ma[i]<<" ";cout<<endl;
	for(int i=2;i<=n;i++)
	{
		ma[i]=max(ma[i-1],ma[i]);
		ans+=i-ma[i];
	}
	cout<<ans+n<<endl;
	return 0;
}