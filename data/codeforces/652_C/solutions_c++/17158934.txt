#include<bits/stdc++.h>
using namespace std;

	long long int b,c,n,m,a[1000000],pos[1000000],r[1000000];
int main()
{
	scanf("%lld%lld",&n,&m);
	for(long long int i=0;i<n;i++)
	{	scanf("%lld",&a[i]);
		pos[a[i]]=i;
	}
	for(long long int i=0;i<m;i++)
	{
		scanf("%lld%lld",&b,&c);
		if(pos[b]>pos[c])
		{
			if(pos[c]+1>r[pos[b]])
			r[pos[b]]=pos[c]+1;
		}
		else
		{
			if(pos[b]+1>r[pos[c]])
			r[pos[c]]=pos[b]+1;
		}
	}
long long 	int flg=0,ans=0;
	for(long long int i=0;i<n;i++)
	{
		long long int fg=max(flg,r[i]);
		ans+=(i-fg+1);
		flg=fg;
	}
	printf("%lld",ans);
}
