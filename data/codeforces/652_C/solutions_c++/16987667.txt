#include<bits/stdc++.h>
using namespace std;
//done using tutorial
typedef long long int ll;
int pos[300005],arr1[300005],n,m,i,j;
ll ans;
int main(){
	cin>>n>>m;
	for(i=1;i<=n;i++)
    {
		scanf("%d",&j);
		pos[j] = i;
	}
	while(m--)
    {
		scanf("%d%d",&i,&j);
		arr1[max(pos[i] , pos[j])] = max(arr1[max(pos[i] , pos[j])] , min(pos[i],pos[j]));
	}
	for(i=j=1;i<=n;i++)
    {
		while(arr1[j] < i && j <= n) {j++;}
        ans+=j-i;
	}
	cout<<ans<<endl;
	return 0;
}
