#include<bits/stdc++.h>
using namespace std;
#define LL long long
const int maxn = 300050;
int n, q;
int t[maxn], aa[maxn], m[maxn];
LL res;
int main()
{
	scanf("%d%d", &n, &q);
	for(int i = 1; i <= n; i++){
		scanf("%d", &t[i]);
		aa[t[i]] = i;
	}
	for(int i = 1; i <= q; i++){
		int a, b;
		scanf("%d%d", &a, &b);
		a = aa[a];
		b= aa[b];
		if(a > b)  swap(a, b);
		m[b]=max(m[b], a);
	}
	int tmp = 0;
	for(int i = 1; i <= n; i++){
		tmp = max(tmp, m[i]);
		res += i - tmp;
	}
	printf("%I64d\n", res);
	return 0;
}
