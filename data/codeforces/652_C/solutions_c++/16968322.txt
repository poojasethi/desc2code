#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstring>
using namespace std;
typedef long long ll;
const int inf=0x3f3f3f3f;
const int maxn=311111;
int pos[maxn],a[maxn],mm[maxn];
int main()
{
    int n,m;scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++){
		scanf("%d",&a[i]);
		pos[a[i]]=i;
		mm[i]=0;
	}
	while(m--){
		int x,y;scanf("%d%d",&x,&y);
		if(pos[x]>pos[y])swap(x,y);
		mm[pos[y]]=max(mm[pos[y]],pos[x]);
	}
	ll ans=0;
	for(int i=1;i<=n;i++){
		mm[i]=max(mm[i],mm[i-1]);
		ans+=i-mm[i];
	}
	cout<<ans<<endl;
    return 0;
}