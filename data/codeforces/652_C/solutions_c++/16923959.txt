# include <bits/stdc++.h>

using namespace std;

const int maxn = 3e5 + 100;

int p[maxn], q[maxn], v[maxn];

int main(){
	ios_base::sync_with_stdio(false);
	int n, m;
	cin >> n >> m;
	for (int i = 0; i < n; i++)
		cin >> p[i], p[i]--, q[p[i]] = i, v[i] = n;

	for (int i = 0; i < m; i++){
		int x, y;
		cin >> x >> y;
		x--, y--;
		if(q[x] > q[y])
			swap(x, y);
		v[q[x]] = min(v[q[x]], q[y]);
	}
	
	for (int i = n - 2; i >= 0; i--)
		v[i] = min(v[i], v[i + 1]);

	long long int ans = 0;
	for (int i = 0; i < n; i++)
		ans += (v[i] - i);
	cout << ans << endl;

	return 0;
}
