#include <bits/stdc++.h>

using namespace std;

#define N 300005

int a[N], pos[N];
int mx[N];

main() {
  int n, m;
  scanf("%d %d", &n, &m);
  for (int i = 1; i <= n; i ++) scanf("%d", a + i), pos[a[i]] = i;
  for (int i = 1; i <= m; i ++) {
    int x, y;
    scanf("%d %d", &x, &y);
    x = pos[x], y = pos[y];
    if (x > y) swap(x, y);
    if (mx[y] < x) mx[y] = x;
  }
  int cur = 0;
  __int64 rlt = 0;
  for (int i = 1; i <= n; i ++) {
    if (cur < mx[i]) cur = mx[i];
    rlt += i - cur;
  }
  printf("%I64d\n", rlt);
}
