#include <bits/stdc++.h>
using namespace std;
int n, m;
const int mx = 1000000;
int a[mx];
int id[mx];
int up[mx];
long long ans;
int main(int argc, char const *argv[]) {
    scanf("%d%d", &n, &m);
    ans = 0;
    for (int i = 1; i <= n; ++i) scanf("%d", &a[i]), id[a[i]] = i, up[i] = n + 1;
    for (int i = 1; i <= m; ++i) {
    	int x, y;
    	scanf("%d%d", &x, &y);
    	up[min(id[x], id[y])] = min(up[min(id[x], id[y])], max(id[x], id[y]));
    }
   	int curma= n + 1;
   	for (int i = n; i >= 1; i--) {
   		curma = min(curma, up[i]);
   		ans += (1ll * (curma - i));
   	}
   	cout << ans << endl;
	return 0;
}