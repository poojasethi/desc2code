#include <bits/stdc++.h>
using namespace std;
long long a[500005],pos[500005],maxfoe[500005],n,m,x,y,ans,can_duoi;
main(){
    scanf("%I64d %I64d",&n,&m);
    for(long long i=1;i<=n;i++){
        scanf("%I64d",&a[i]);
        pos[a[i]] = i;
    }
    for(long long i=1;i<=m;i++){
        scanf("%I64d %I64d",&x,&y);
        if (pos[y] < pos[x]) maxfoe[x] = max(maxfoe[x],pos[y]);
        if (pos[x] < pos[y]) maxfoe[y] = max(maxfoe[y],pos[x]);
    }
    for(long long i=1;i<=n;i++){
        if (maxfoe[a[i]]) can_duoi = max(can_duoi,maxfoe[a[i]]);
        ans += i - can_duoi;
    }
    cout << ans;
}
