#include <stdio.h>
#include <cstdlib>
#include <iostream>
#include <algorithm>
#include <map>
#include <string>
#include <vector>
using namespace std;

const int N=    300000+10;
long long l,i,ans,m,n,x,y;
int q[N],p[N],a[N];

main(){
scanf("%d%d",&n,&m);
for ( i=1;i<=n;i++ )
 {
  scanf("%d",&a[i]);
  p[a[i]]=i;
 }

while ( m-- ) {
 scanf("%d%d",&x,&y);
 if ( p[y]<=p[x] ) q[x]=max(q[x],p[y]);
 if ( p[x]<=p[y] ) q[y]=max(q[y],p[x]);
}
l=0;
for ( i=1;i<=n;i++ ) {
    l=max(l,(long long)q[a[i]]);
    //cout<<l<<" "<<i<<endl;
    ans+=(i-l);
}
cout<<ans<<endl;
}
