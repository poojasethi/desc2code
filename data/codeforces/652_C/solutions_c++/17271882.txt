#include <bits/stdc++.h>
using namespace std;

const int cmx = 3e5 + 5;
int n, m;
int p[cmx];
int pos[cmx];
set<int> z[cmx];

int main() {
	ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);
	cin >> n >> m;
	for(int i = 1; i <= n; i++)
	cin >> p[i], pos[p[i]] = i;
	
	for(int i = 0; i < m; i++){
		int x, y; cin >> x >> y;
		x = pos[x];
		y = pos[y];
		if(y<x)swap(x,y);
	    z[x].insert(y);
	}
	
	long long ans =  0;
	int r = n+1;
	for(int i = n; i >= 1; i--){
		if(z[i].size())r = min(r, *(z[i].begin()));
		ans += (r-i);
	}
	cout << ans << '\n';
	return 0;
}