#include<cstdio>
#include<algorithm>
using namespace std;
const int maxn=300000+5;
__int64 n,m;
__int64 a[maxn];
__int64 p[maxn];
__int64 c[maxn];
__int64 sum;


int main(void){
	scanf("%I64d%I64d",&n,&m);
	for(int i=1;i<=n;i++){
		scanf("%I64d",&a[i]);
		p[a[i]]=i;
	}
    for(int i=1;i<=m;i++){
    	__int64 x,y;
    	scanf("%I64d%I64d",&x,&y);
    	x=p[x];
    	y=p[y];
    	if(x>=y) swap(x,y);
    	c[y]=max(c[y],x);
    }
    __int64 ll=0;
    for(int rr=1;rr<=n;rr++){
    	ll=max(ll,c[rr]);
    	sum+=rr-ll;
    }
 
    
    
    
    
    
    printf("%I64d",sum);
	return 0;
}