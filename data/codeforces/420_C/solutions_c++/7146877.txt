#include<stdio.h>
#include<algorithm>
#include<string.h>
#include<map>
using namespace std;
int date[333333];
map <pair<int,int>,int> v;
int main()
{
	memset(date,0,sizeof(date));
	int n,p;
	scanf("%d%d",&n,&p);
	int i,a,b;
	for(i=0;i<n;i++)
	{
	scanf("%d%d",&a,&b);	
	if(a>b)swap(a,b);
	v[make_pair(a,b)]++;
	date[a]++;
	date[b]++;
	
	}
	__int64 ans=0;
	map<pair<int,int> ,int>::iterator it;  
	for(it=v.begin();it!=v.end();it++)
	{
		int u,l;
	u=it->first.first;
	l=it->first.second;
	if(date[u]+date[l]>=p&&date[u]+date[l]-it->second<p)
	ans--;
	}
	int k=n;
	sort(date+1,date+n+1);
	for(i=1;i<=n;i++)
	{
		k=max(i,k);
		while(i<k&&date[i]+date[k]>=p)k--;
		ans+=(n-k);
	}
  printf("%I64d\n",ans);
}