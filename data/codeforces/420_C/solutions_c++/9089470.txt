#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define mod 100000
#define INF 100000
#define pi pair<ll,ll>
#define pb push_back
#define s second
#define f first
#define mp make_pair
#define yup ios_base::sync_with_stdio(0)
#define yo cout<<"yo\n"
ll deg[300011];
ll degt[300011];
int main(){
ll n,p;
yup;
cin>>n>>p;
ll u,v;
map<pi,ll>m;
set<pi>st;
for(int i=1;i<=n;i++) {
    cin>>u>>v;
    deg[u]++;
    deg[v]++;
    degt[u]++;
    degt[v]++;
    if(u>v) swap(u,v);
    st.insert(mp(u,v));
    m[mp(u,v)]++;
}
sort(deg+1,deg+n+1);
ll i=1;
ll j=n;
ll ans=0;
while(i<n){
    while(deg[i]+deg[j]>=p && i<j ) j--;
    j=max(j,i);
    ans=ans+n-j;
    i++;
}
for(set<pi>:: iterator it=st.begin();it!=st.end();it++){
    u=(*it).f;
    v=(*it).s;
    ll t=m[mp(u,v)];
    if(degt[u]+degt[v]>=p && degt[u]+degt[v]-t<p) ans--;
}
cout<<ans;


}
