#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
typedef long long ll;
typedef pair<int,int> pii;
const int maxn=300002;
pii a[maxn];
int v[maxn],w[maxn];
int n,p;
ll s;

int main(){
  int i,j,k,l;
  scanf("%d%d",&n,&p);
  for (k=0;k<n;++k){
    scanf("%d%d",&i,&j);
    if (i>j) swap(i,j);
    a[k]=make_pair(i,j);
    ++v[i];
    ++v[j];
  }
  sort(a,a+n);
  memcpy(w,v,(n+1)*sizeof(int));
  sort(w+1,w+n+1);
  j=n;
  for (i=1;i<=n;++i){
    while (j && w[i]+w[j]>=p) --j;
    s+=(n-j);
    if (i>j) --s;
  }
  s/=2;
  for (k=0;k<n;){
    i=a[k].first;
    j=a[k].second;
    for (l=k;l<n && a[l]==a[k];++l);
    if (v[i]+v[j]>=p && v[i]+v[j]-(l-k)<p) --s;
    k=l;
  }
  printf("%I64d\n",s);
  return 0;
}