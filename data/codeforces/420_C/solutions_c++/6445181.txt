#include <cstdio>
#include <algorithm>
#include <vector>
#include <set>
#include <string.h>
#define x first
#define y second
#define pb push_back
#define mp make_pair
using namespace std;
typedef long long LL;
typedef double ld;
typedef pair<int,int> pii;
const int NMax=301000;
int N,F[NMax],P,cnt[NMax];
LL sum[NMax];
vector<int> V[NMax];
int main()
{
	scanf("%d%d",&N,&P);
	for(int i=1;i<=N;i++) {
		int x,y;
		scanf("%d%d",&x,&y);
		V[x].pb(y);
		V[y].pb(x);
		cnt[x]++;cnt[y]++;
	}
	for(int i=1;i<=N;i++)
		sum[cnt[i]]++;
	for(int i=1;i<=N;i++) sum[i]+=sum[i-1];
	LL ret=0;
	for(int i=1;i<=N;i++) {
		LL cnt1;
		if(P-cnt[i]-1>=0)
		cnt1=sum[N]-sum[P-cnt[i]-1];
		else cnt1=sum[N];
		int C=P-cnt[i];
		if(cnt[i]>=P-cnt[i]) cnt1--;
		for(int j=0;j<V[i].size();j++) {
			int t=V[i][j];
			F[t]++;
			if(cnt[t]-F[t]==C-1)
				cnt1--;
		}
		ret+=cnt1;
		for(int j=0;j<V[i].size();j++) F[V[i][j]]=0;
	}
	printf("%I64d\n",ret/2);
	return 0;
}
