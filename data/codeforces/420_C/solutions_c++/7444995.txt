#include<stdio.h>
#include<string.h>
#include<map>
#include<iostream>
#include<algorithm>
#define M 300005  
#define LL long long
using namespace std;
map<int,int>mp[M];
map<int,int>::iterator it;
int cnt[M],A[M];
int main(){
	int n,m,i,j,k,x,y;
	scanf("%d %d",&n,&m);
	for(i=1;i<=n;i++){
		mp[i].clear();
		cnt[i]=0;
	}
	for(i=1;i<=n;i++){
		scanf("%d %d",&x,&y);
		if(x>y)swap(x,y);
		mp[x][y]++;cnt[x]++;cnt[y]++;
	}
	for(i=0;i<n;i++)A[i]=cnt[i+1];
	sort(A,A+n);
	LL ans=0;
	for(i=0;i<n;i++){
		if(A[i]>=m)ans+=n-1-i;
		else{
			k=lower_bound(A+i+1,A+n,m-A[i])-A; 
			ans+=n-k;
		}
	}
	for(i=1;i<=n;i++){
		int tmp=0;
		for(it=mp[i].begin();it!=mp[i].end();it++){
				int a=cnt[i]+cnt[it->first];
				int b=(it->second);
				if(a>=m&&a-b<m)tmp++;
		}
		ans-=tmp;
	}
	cout<<ans<<endl;
	return 0;
}