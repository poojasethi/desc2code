#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#include<list>
using namespace std;
int n,p,s[300003],cnt[300003],freq[300003];
list<int> pt[300003];
list<int>::iterator it;
int main(){
    scanf("%d %d",&n,&p);
    memset(cnt,0,sizeof(cnt));
    memset(freq,0,sizeof(freq));
    for(int i=1;i<=n;i++){
        int x,y;
        scanf("%d %d",&x,&y);
        pt[x].push_back(y);
        pt[y].push_back(x);
        cnt[x]++;
        cnt[y]++;
    }
    for(int i=1;i<=n;i++) freq[cnt[i]]++;
    for(int i=n-1;i>=1;i--) freq[i]+=freq[i+1];
    freq[0]=n;
    long long ans=0;
    for(int i=1;i<=n;i++){
        int tar=max(0,p-cnt[i]);
        int temp=freq[tar];
        if(cnt[i]>=tar) temp--;
        for(it=pt[i].begin();it!=pt[i].end();it++){
            if(cnt[*it]==tar) temp--;
            cnt[*it]--;
        }
        ans+=temp;
        for(it=pt[i].begin();it!=pt[i].end();it++){
            cnt[*it]++;
        }
    }
    cout << ans/2 << endl;
    return 0;
}