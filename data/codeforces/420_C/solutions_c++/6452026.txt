#include <stdio.h>
#include <vector>
#include <algorithm>
using namespace std;
int n, p, x[300000], y[300000], sum[300001], ag[300000], sp[300000];
long long ans;
vector<int> pa[300000];
int main()
{
	scanf("%d%d", &n, &p);
	for(int i = 0; i < n; i++)
		scanf("%d%d", &x[i], &y[i]), x[i]--, y[i]--;
	for(int i = 0; i < n; i++)
		pa[x[i]].push_back(y[i]), pa[y[i]].push_back(x[i]);
	for(int i = 0; i < n; i++)
		ag[x[i]]++, ag[y[i]]++;
	for(int i = 0; i < n; i++)
		sum[ag[i]]++;
	for(int i = n - 1; i >= 0; i--)
		sum[i] += sum[i + 1];
	for(int i = 0; i < n; i++)
	{
		int tmp = sum[max(p - ag[i], 0)];
		if(ag[i] >= p - ag[i])
			tmp--;
		for(int j = pa[i].size() - 1; j >= 0; j--)
			sp[pa[i][j]]++;
		for(int j = pa[i].size() - 1; j >= 0; j--)
		{
			if(ag[pa[i][j]] >= p - ag[i])
			{
				if(ag[pa[i][j]] < p - ag[i] + sp[pa[i][j]])
					tmp--;
			}
			sp[pa[i][j]] = 0;
		}
		ans += tmp;
	}
	printf("%I64d", ans / 2);
	getchar(); getchar();
	return 0;
}
