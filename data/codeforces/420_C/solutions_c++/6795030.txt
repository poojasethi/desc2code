#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cmath>
#include <algorithm>
using namespace std;
typedef long long int num;

int fir[333333];
int next[666666];
int tar[666666];
int edges;
int least[333333];
int rd[333333];
num ans;

void edgeins(int u,int v)
{
	next[edges]=fir[u];
	fir[u]=edges;
	tar[edges]=v;
	edges++;
	next[edges]=fir[v];
	fir[v]=edges;
	tar[edges]=u;
	edges++;
	rd[u]++;
	least[rd[u]]++;
	rd[v]++;
	least[rd[v]]++;
}

int n,p,i,u,v,k,pt;

int main()
{
	scanf("%d%d",&n,&p);
	least[0]=n;
	edges=2;
	for (i=1;i<=n;i++)
	{
		scanf("%d%d",&u,&v);
		edgeins(u,v);
	}
	ans=0;
	for (i=1;i<=n;i++)
	{
		k=rd[i];
		if (k>=p)
		{
			ans=ans+n-1;
			continue;
		}
		for (pt=fir[i];pt!=0;pt=next[pt])
		{
			least[rd[i]]--;
			least[rd[tar[pt]]]--;
			rd[i]--;
			rd[tar[pt]]--;
		}
		ans+=least[p-k];
		for (pt=fir[i];pt!=0;pt=next[pt])
		{
			rd[i]++;
			rd[tar[pt]]++;
			least[rd[i]]++;
			least[rd[tar[pt]]]++;
		}
	}
	printf("%lld",ans>>1);
}

  	   	 	 	 	 				  	   	 	