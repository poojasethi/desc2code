#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
#include <map>
using namespace std;
int n,p,x[300005],y[300005],c[300005];
long long ans; map<pair<int,int>,int> u,v;
struct rec
{
    int x,y;
    bool operator <(const rec &o) const
    {
        return y>o.y||y==o.y&&x<o.x;
    }
} l[300005];
int main()
{
    scanf("%d%d",&n,&p);
    for(int i=1;i<=n;++i)
    {
        scanf("%d%d",&x[i],&y[i]);
        if(x[i]>y[i]) swap(x[i],y[i]);
        ++c[x[i]]; ++c[y[i]]; ++u[pair<int,int>(x[i],y[i])];
    }
    for(int i=1;i<=n;++i) if(!v[pair<int,int>(x[i],y[i])])
    {
        v[pair<int,int>(x[i],y[i])]=1;
        if(c[x[i]]+c[y[i]]>=p) --ans;
        if(c[x[i]]+c[y[i]]-u[pair<int,int>(x[i],y[i])]>=p) ++ans;
    }
    for(int i=1;i<=n;++i) {l[i-1].x=i; l[i-1].y=c[i];}
    sort(l,l+n);
    for(int i=0,j=n-1;i<=j;++i)
    {
        while(l[i].y+l[j].y<p&&i<=j) --j;
        if(i<=j) ans+=(long long)(j-i);
    }
    printf("%lld\n",ans);
    return 0;
}
