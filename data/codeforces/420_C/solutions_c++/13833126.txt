#include <iostream>
#include<bits/stdc++.h>
using namespace std;
long long int deg[1000001],deg_temp[1000001];
int main() 
{
    long long int n,p,i,j,x,y,u,v,ans=0;
    map<pair<long long int,long long int>,long long int>m; 
    set<pair<long long int,long long int > >s;
    cin>>n>>p;
    for(i=1;i<=n;i++)
    {
        scanf("%lld%lld",&x,&y);
        deg[x]++;
        deg[y]++;
        deg_temp[x]++;
        deg_temp[y]++;
        if(x>y)
        swap(x,y);
        s.insert(make_pair(x,y));
        m[make_pair(x,y)]++;
    }
    sort(deg+1,deg+n+1);
    i=1;j=n;
    while(i<n)
    {
        while(deg[j]+deg[i]>=p && i<j)
        j--;
        j=max(j,i);
        ans+=n-j;
        i++;
    }
    for(set<pair<long long int,long long int> >::iterator it=s.begin();it!=s.end();it++)
    {
        u=(*it).first;
        v=(*it).second;
        x=m[make_pair(u,v)];
        if(deg_temp[u]+deg_temp[v]>=p && deg_temp[u]+deg_temp[v]-x<p)
        ans--;
    }
    cout<<ans;
    return 0;
}