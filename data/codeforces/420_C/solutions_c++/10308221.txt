#include <iostream>
#include <vector>

using namespace std;

typedef long long int ll;

int n,p;
vector<int> g[1000000];
int amount[1000000];
int acum[1000000];
int aridad[1000000];

int main()
{
  ios::sync_with_stdio(false);
  cin>>n>>p;
  for (int i=0;i<n;i++) {
    int u,v;
    cin>>u>>v;
    g[u].push_back(v);
    g[v].push_back(u);
    aridad[u]++;
    aridad[v]++;
  }
  for (int i=1;i<=n;i++)
    amount[aridad[i]]++;
  for (int i=n;i>=0;i--)
    acum[i]=acum[i+1]+amount[i];
  ll sol=0;
  for (int u=1;u<=n;u++) {
    if (aridad[u]>=p) sol+=n-1;
    else {
      vector<int> &ar=g[u];
      int pp=p-aridad[u];
      int cuantos=acum[pp]-(aridad[u]>=pp);
      for (int i=0;i<int(ar.size());i++) {
	int v=ar[i];
	aridad[v]--;
	if (aridad[v]==pp-1) cuantos--;
      }
      for (int i=0;i<int(ar.size());i++) {
	int v=ar[i];
	aridad[v]++;
      }
      sol+=cuantos;
    }
  }
  cout<<sol/2<<endl;
}
