//shjj-420c

#include <iostream>
#include <cstring>
#include <cstdio>
#include <cstdlib>
#include <algorithm>

using namespace std;

const int N=300000;
int go[N*2+3],t[N*2+3],last[N+3],s[N+3],rank[N+3],xh[N+3],n,m,en;
long long ans;
bool comp(const int &A,const int &B){return s[A]<s[B];}
void add(int u,int v)
{
go[++en]=v;t[en]=last[u];last[u]=en;
}

int main()
{
scanf("%d%d",&n,&m);
for (int i=1;i<=n;i++)
  {
  int x,y;scanf("%d%d",&x,&y);
  s[x]++;s[y]++;add(x,y);add(y,x);
  }
for (int i=1;i<=n;i++) xh[i]=i;
sort(xh+1,xh+n+1,comp);
for (int i=1;i<=n;i++) rank[xh[i]]=i;
int Tl=n;
for (int i=1;i<=n;i++)
  {
  int x=xh[i];
  for (;Tl&&s[x]+s[xh[Tl]]>=m;Tl--);
  ans+=min(n-i,n-Tl);
  for (int j=last[x];j;j=t[j])
    {
    int y=go[j];
    if (rank[y]>rank[x]&&s[y]+s[x]==m) ans--;
    s[y]--;
    }
  for (int j=last[x];j;j=t[j]) s[go[j]]++;
  }
printf("%I64d",ans);
}