#include<bits/stdc++.h>
using namespace std;
long long int a[500001];
int main()
{
    long long int n,i,j,k,p,x,y,ans=0;
    map<pair<long long int,long long int>,long long int>m;
    cin>>n>>p;
    for(i=1;i<=n;i++)
    {
        scanf("%lld%lld",&x,&y);
        if(x>y)
        swap(x,y);
        a[x]++;
        a[y]++;
        m[make_pair(x,y)]++;
    }
    map<pair<long long int,long long int>,long long int>::iterator it;
    for(it=m.begin();it!=m.end();it++)
    {
        x=it->first.first;
        y=it->first.second;
        if(a[x]+a[y]>=p && a[x]+a[y]-it->second<p)
        ans--;
    }
    sort(a+1,a+n+1);
    k=n;
    for(i=1;i<=n;i++)
    {
        k=max(k,i);
        while(i<k && a[k]+a[i]>=p)
        k--;
        ans+=n-k;
    }
    cout<<ans;
    return 0;
}   