#include <stdio.h>
#include <iostream>
#include <algorithm>
#include <utility>
using namespace std;
int n,p,t,r,x[300005],y[300005];
pair <int,int> pr[300005];
long long v=0;
int main( ){
	cin>>n>>p;
	for (int i=1;i<=n;i++){
		cin>>pr[i].first>>pr[i].second;
		if (pr[i].first>pr[i].second) swap(pr[i].first,pr[i].second);
		x[pr[i].first]++,x[pr[i].second]++;
		y[pr[i].first]++,y[pr[i].second]++;	
	}
	sort(pr+1,pr+n+1);
	sort(x+1,x+n+1);
	t=n;
	for (int i=1;i<=n;i++){
		while (t>0 && x[i]+x[t]>=p) t--;
		v+=n-t;
	}
	for (int i=1;i<=n;i++)
		if (y[i]*2>=p)
			v--;
	v/=2;
	for (int i=1;i<=n;i++){
		r=y[pr[i].first]+y[pr[i].second];
		t=r-1;
		while (i<n && pr[i].first==pr[i+1].first && pr[i].second==pr[i+1].second)
			i++,t--;
		if (r>=p && t<p) v--;
	}
	cout<<v<<endl;
	return 0;
}
