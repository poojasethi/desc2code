#include<bits/stdc++.h>
using namespace std;
std::map<pair<int,int>, int> total;
int n,p,a,b;
int cnt[300010];
int main()
{
    long long ans=0;
    memset(cnt,0,sizeof(cnt));
    scanf("%d%d",&n,&p);
    for(int i=0;i<n;i++)
    {
        scanf("%d%d",&a,&b);
        if(a>b) swap(a,b);
        cnt[a]++;
        cnt[b]++;
        total[make_pair(a,b)]++;
    }
    map<pair<int,int>,int>::iterator it;
    for(it=total.begin();it!=total.end();it++)
    {
        a=it->first.first;
        b=it->first.second;
        if(cnt[a]+cnt[b]>=p&&cnt[a]+cnt[b]-it->second<p)
        {
            ans--;
        }
    }
    //printf("ans%lld\n",ans );
    sort(cnt,cnt+n+1);
    int m=n;
    for(int i=1;i<=n;i++)
    {
        m=max(i,m);
    //  printf("m%d\n",m );
        while(i<m&&cnt[m]+cnt[i]>=p) m--;
    //  printf("fm%d\n",m);
        ans=ans+n-m;
    //  printf("ans%lld\n",ans);
    }
    printf("%lld\n",ans);
    return 0;
}