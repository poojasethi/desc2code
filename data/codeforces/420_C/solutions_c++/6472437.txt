#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
typedef long long ll;
struct data{
	int a,b;
}e[500001];
int i,j,k,n,m,d[500001],a[500001];
ll ans;
bool cmp(data a,data b){
	return a.a<b.a||a.a==b.a&&a.b<b.b;
}
int main(){
	scanf("%d%d",&n,&m);memset(d,0,sizeof(d));memset(a,0,sizeof(a));
	for (i=1;i<=n;i++) scanf("%d%d",&e[i].a,&e[i].b),d[e[i].a]++,d[e[i].b]++;
	for (i=1;i<=n;i++)
	 if (e[i].a>e[i].b) swap(e[i].a,e[i].b);
	for (i=1;i<=n;i++) a[d[i]]++;
	for (i=1;i<=n;i++) a[i]+=a[i-1];
	for (i=1,ans=0;i<=n;i++) ans+=n-((m-d[i]-1>=0)?a[m-d[i]-1]:0)-((2*d[i]>=m)?1:0);
	ans/=2;sort(e+1,e+1+n,cmp);
	for (i=1;i<=n;i=j+1){
		for (j=i;j<n&&e[j+1].a==e[i].a&&e[j+1].b==e[i].b;j++);
		if (d[e[i].a]+d[e[i].b]-(j-i+1)<m&&d[e[i].a]+d[e[i].b]>=m) ans--;
	}
	printf("%I64d\n",ans);
	return 0;
}