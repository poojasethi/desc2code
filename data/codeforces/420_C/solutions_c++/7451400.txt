#include<stdio.h>
#include<string.h>
#include<map>
#include<iostream>
#include<algorithm>
#define M 300005  
#define LL long long
using namespace std;
struct node{
	int x,y;
}s[M]; 
int cnt[M],A[M];
bool cmp(node A,node B){
	if(A.x!=B.x)return A.x<B.x;
	return A.y<B.y;
}
int main(){  
	int n,m,i,j,k,x,y;
	scanf("%d %d",&n,&m);
	for(i=1;i<=n;i++)cnt[i]=0; 
	for(i=0;i<n;i++){
		scanf("%d %d",&s[i].x,&s[i].y);
		if(s[i].x>s[i].y)swap(s[i].x,s[i].y);
		cnt[s[i].x]++;cnt[s[i].y]++;
	}
	for(i=0;i<n;i++)A[i]=cnt[i+1];
	sort(A,A+n);
	LL ans=0;
	for(i=0;i<n;i++){
		if(A[i]>=m)ans+=n-1-i;
		else{
			k=lower_bound(A+i+1,A+n,m-A[i])-A; 
			ans+=n-k;
		}
	} 
	sort(s,s+n,cmp);
	node tmp=s[0];int c=1;
	s[n].x=s[n].y=-1;
	for(i=1;i<=n;i++){
		if(tmp.x!=s[i].x||tmp.y!=s[i].y){
			int a=cnt[tmp.x]+cnt[tmp.y];
			int b=a-c;
			if(a>=m&&b<m)ans--;
			tmp=s[i];c=1;
		}else c++;
	}
	cout<<ans<<endl; 
	return 0;
}