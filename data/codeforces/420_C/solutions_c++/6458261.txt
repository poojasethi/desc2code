#include <bits/stdc++.h>

#define llong long long

using namespace std;

const int INF = 1e9 + 7;
const int MXN = 3e5 + 7;

map<pair<int, int>, int> cnt;

llong ans;

int n, p;
int d[MXN];

vector<int> deg;

int main()
{
    scanf("%d%d", &n, &p);
    for (int i = 0; i < n; i++) {
        int x, y;
        scanf("%d%d", &x, &y);
        if (y > x) swap(x, y);
        d[x]++; d[y]++;
        cnt[make_pair(x, y)]++;
    }
    for (int i = 1; i <= n; i++)
        deg.push_back(d[i]);

    sort(deg.begin(), deg.end());
    for (int i = 0; i < deg.size(); i++) {
        ans += int(deg.end() - lower_bound(deg.begin() + i + 1, deg.end(), p - deg[i]));
    }
    map<pair<int, int>, int>::iterator it;
    for (it = cnt.begin(); it != cnt.end(); ++it) {
        int x = it -> first.first;
        int y = it -> first.second;
        if (d[x] + d[y] >= p && d[x] + d[y] - (it -> second) < p)
            ans--;
    }
    cout << ans;
    return 0;
}
