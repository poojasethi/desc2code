#include<stdio.h>
#include<string.h>
#define M 300000
#define fi first
#define se second
#include<map>
#include<algorithm>
#include<vector>
#include<iostream>
using namespace std;
typedef pair<int,int> ii;
map<ii,int> mp;
vector<ii> E;
int ptr , n , p , a[M + 20];
long long ans = 0 , tot = 0;
main(){
//  freopen("test.inp","r",stdin);
    scanf("%d %d",&n,&p);
    ptr = n;
    for(int i = 1 ; i <= n ; i++){
        int x,y;
        scanf("%d %d",&x,&y);
        if(x > y) swap(x,y);
        a[x]++ ; a[y]++;
        if(mp.find(ii(x,y)) == mp.end())E.push_back(ii(x,y));
        mp[ii(x,y)]++ ; 
    }
    for(int i = 0 ; i < E.size() ; i++){
        int p1 = E[i].fi ; int p2 = E[i].se;
        if(a[p1] + a[p2] - mp[ii(p1,p2)] < p && a[p1] + a[p2] >= p) ans++;
    }
    sort(a + 1 , a + 1 + n);
    for(int i = 1 ; i <= n ; i++){
        while(ptr >= 1 && a[ptr] + a[i] >= p) ptr--;
        tot+=(n - ptr);
        if(2*a[i] >= p) tot--;
    }
    cout<<tot / 2  - ans;
}