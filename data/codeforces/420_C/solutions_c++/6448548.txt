#include <bits/stdc++.h>

#define FI(ii,aa,bb) for(int ii=aa;ii<=bb;ii++)
#define F(ii,aa,bb) for(int ii=aa;ii<bb;ii++)
#define TF(ii,aa,bb) for(int ii=aa;ii>=bb;ii--)
#define mp make_pair
#define pii pair<int,int>
#define st first
#define nd second
#define pb push_back
#define pdd pair<double,double>
#define ll long long
#define inf (INT_MAX)

using namespace std;

int n,m,A[300005],B[300005];
vector<int> V[300005];

int main()
{
	int x,y;
	scanf("%d %d",&n,&m);
	FI(i,1,n){
		scanf("%d %d",&x,&y);
		A[x]++; A[y]++;
		B[x]++; B[y]++;
		V[x].pb(y); V[y].pb(x);
	}
	sort(B+1,B+n+1);
	ll ans=0;
	FI(i,1,n){
		int t=n-(lower_bound(B+1,B+n+1,m-A[i])-B)+1;
		if(A[i]>=m-A[i]) t--;
		int j=0;
		while(j<V[i].size()){
			int k=j+1;
			while(k<V[i].size() && V[i][j]==V[i][k]) k++;
			if(A[V[i][j]]>=m-A[i] && A[V[i][j]]-(k-j)<m-A[i]) t--;
			j=k;
		}
		ans+=t;
	}
	cout << ans/2 << endl;
	return 0;
}
