#include <cstdio>
#include <algorithm>
using namespace std;
const int N=500500;
struct A{
  int c[3];
  bool operator<(const A& it)const{return c[0]>it.c[0];}
}a[N];
int n,b[N],v[N];
main(){
  scanf("%d",&n);
  for(int j=0;j<3;++j)for(int i=0;i<n;++i)scanf("%d",&a[i].c[j]);
  for(int i=0;i<n;++i)b[i]=a[i].c[1];
  sort(b,b+n);
  int nb=unique(b,b+n)-b;
  sort(a,a+n);
  int s=0;
  for(int i=0,j;i<n;){
    for(j=i;j<n&&a[i].c[0]==a[j].c[0];++j){
      int t=0,u=(a[j].c[1]=nb-(lower_bound(b,b+nb,a[j].c[1])-b));
      for(int k=u-1;k>0;k-=k&-k)t=max(t,v[k]);
      if(t>a[j].c[2])++s;
    }
    while(i<j){for(int k=a[i].c[1];k<=nb;k+=k&-k)v[k]=max(v[k],a[i].c[2]);++i;}
  }
  printf("%d\n",s);
}
