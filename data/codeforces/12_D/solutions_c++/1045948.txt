#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;

#define N 500005

struct lady{int a,b,c,no;}g[N];
int tr[N];
int n;

void init(){
	scanf("%d",&n);
	for (int i=1;i<=n;i++)scanf("%d",&g[i].a),g[i].a++;
	for (int i=1;i<=n;i++)scanf("%d",&g[i].b),g[i].b++;
	for (int i=1;i<=n;i++)scanf("%d",&g[i].c),g[i].c++;
}

bool cmp1(lady x,lady y){return x.b<y.b;}
bool cmp2(lady x,lady y){return x.a>y.a;}

int fd(int x){
	int ret=0;
	if(x==0)return 0;
	for(;x<=n;x+=x & (-x))if(tr[x]>ret) ret=tr[x];
	return ret;
}

void change(int x,int y){
	for(;x>0;x-=x & (-x))if(tr[x]<y) tr[x]=y;else return;
}

void work(){
	sort(g+1,g+n+1,cmp1);
	g[1].no=1;
	for(int i=2;i<=n;i++){
		g[i].no=g[i-1].no;
		if(g[i].b!=g[i-1].b)  ++g[i].no;
	}
	sort(g+1,g+n+1,cmp2);
	memset(tr,0,sizeof(tr));
	int ans=0;
	for(int i=1;i<=n;){
		int j=i;
		while(g[i].a==g[j].a){
			if(g[j].c<fd(g[j].no+1))ans++;
			++j;
		}
		j=i;
		while(g[j].a==g[i].a){
			change(g[j].no,g[j].c);
			++j;
		}
		i=j;
	}
	printf("%d\n",ans);
}

int main(){
	init();
	work();
	return 0;
}
