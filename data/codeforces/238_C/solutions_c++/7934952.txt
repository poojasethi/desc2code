#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 6010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,t,K,an,sum,x,y,ans;
int a[N],b[N],next[N],head[N],dep[N],g[N];
inline void add(int x,int y) {
	a[++t]=y,b[t]=0,next[t]=head[x],head[x]=t;
	a[++t]=x,b[t]=1,next[t]=head[y],head[y]=t;
}
void Dfs(int x,int y,int z) {
	int v;
	an=min(an,dep[x]-z-z);
	for (v=head[x];v;v=next[v]) if (a[v]!=y) {
		dep[a[v]]=dep[x]+1;
		sum+=b[v];
		Dfs(a[v],x,z+b[v]);
	}
}
int main() {
	scanf("%d",&n);
	For(i,1,n-1) scanf("%d%d",&x,&y),add(x,y);
	ans=(int)1e9;
	For(i,1,n) {
		int v,r=0,Sum=0;
		for (v=head[i];v;v=next[v]) {
			sum=b[v],an=0,dep[a[v]]=1;
			Dfs(a[v],i,b[v]);
			g[++r]=an;
			Sum+=sum;
		}
		sort(g+1,g+r+1);
		ans=min(ans,Sum);
		if (r>=2) ans=min(ans,Sum+g[1]+g[2]);
	}
	printf("%d\n",ans);
	return 0;
}
