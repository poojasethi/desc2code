#include <algorithm>
#include <iostream>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <vector>
#include <map>
#define N 1010
#define For(i,x,y) for(i=x;i<=y;i++)
using namespace std;
const string a1[3]={"weapon","armor","orb"},a2[4]={"gladiator","sentry","physician"};
struct ww {
	int a,b,id;
} b[N],c[N];
int i,j,k,n,m,t,S,sheng;
int zhi[N],id[N],in[N],an[3],re[3],F[N];
string s[N],p[N];
inline int get1() {
	string ss;
	cin>>ss;
	int i;
	For(i,1,n) if (s[i]==ss) return i;
}
inline int get2() {
	int i;
	string s;
	cin>>s;
	For(i,0,2) if (a1[i]==s) return i;
}
inline int get3() {
	int i;
	string s;
	cin>>s;
	For(i,0,2) if (a2[i]==s) return i;
}
inline void Pan() {
	For(i,0,2) {
		int ma=-1,id;
		For(j,1,n) if (b[j].id==i&&zhi[j]>ma) ma=zhi[j],id=j;
		cout<<s[id];
		printf(" %d",in[id]);
		For(j,1,m) if (c[j].b==id) cout<<" "<<p[j];
		printf("\n");
	}
	exit(0);
}
inline bool cc1(const int &A,const int &B) {
	return c[A].a>c[B].a;
}
int main() {
	scanf("%d",&n);
	For(i,1,n) {
		cin>>s[i];
		int B=get2(),c[3],x;
		For(j,0,2) scanf("%d",&c[j]);
		scanf("%d",&x);
		b[i]=(ww){c[B],x,B};
		zhi[i]=c[B];
		S+=x;
	}
	scanf("%d",&m);
	For(i,1,m) {
		cin>>p[i];
		int A=get3(),x;
		scanf("%d",&x);
		int B=get1();
		if (A==b[B].id) zhi[B]+=x;
		c[i]=(ww){x,B,A};
		id[i]=i;
		in[B]++;
	}
	if (S==m) Pan();
	sort(id+1,id+m+1,cc1);
	sheng=m;
	For(i,0,2) {
		int ma=-1,Id,ge;
		For(j,1,n) if (b[j].id==i) {
			int s=b[j].a,Size=b[j].b;
			For(k,1,m) {
				int A=id[k];
				if (c[A].id==i&&Size) {
					Size--;
					s+=c[A].a;
				}
			}
			if (s>ma) ma=s,Id=j,ge=b[j].b-Size;
		}
		an[i]=Id;
		re[i]=ge;
		{
			int Size=b[Id].b;
			For(k,1,m) {
				int A=id[k];
				if (c[A].id==i&&Size) {
					Size--;
					F[A]=i+1;
					sheng--;
				}
			}
		}
	}
	For(i,0,2) {
		int Sh=min(b[an[i]].b-re[i],sheng);
		cout<<s[an[i]];
		printf(" %d",re[i]+Sh);
		For(j,1,m) if (!F[j]&&Sh) {
			cout<<" "<<p[j];
			Sh--; sheng--;
			F[j]=-1;
		}
		For(j,1,m) if (F[j]==i+1) cout<<" "<<p[j];
		printf("\n");
	}
	return 0;
}
