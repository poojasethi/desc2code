#include<cstdio>
#include<cmath>
#include<iomanip>
#include<cstring>
#include<cstdlib>
#include<ctime>
#include<iostream>
#include<algorithm>
#include<vector>
#include<list>
#include<stack>
#include<queue>
#include<deque>
#include<set>
#include<map>
#include<string>
#include<bitset>
#include<functional>

using namespace std;

int tot,n,m,atk,def,res,ans[3];
string type;

struct arr
{
	string s;
	int type;
	int num,siz,size;
} a[110];

struct arrr
{
	string s,in;
	int type;
	int num,inn;
} b[1010];

vector<arrr> lis[3];

bool comp(arrr a,arrr b)
{
	return a.num<b.num;
}

int main()
{
	//freopen("c.in","r",stdin);
	
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>a[i].s>>type>>atk>>def>>res>>a[i].siz;
		if (type[0]=='w')
			a[i].num=atk,a[i].type=0;
		else if (type[0]=='a')
			a[i].num=def,a[i].type=1;
		else
			a[i].num=res,a[i].type=2;
		//a[i].type=type[0];
		tot+=a[i].siz;
		a[i].size=a[i].siz;
	}
	cin>>m;
	for(int i=1;i<=m;i++)
	{
		cin>>b[i].s>>type>>b[i].num>>b[i].in;
		if (type[0]=='g') b[i].type=0;
		else if (type[0]=='s') b[i].type=1;
		else b[i].type=2;
	}
	
	if (m==tot)
	{
		for(int i=1;i<=m;i++)
			for(int j=1;j<=n;j++) if (b[i].in==a[j].s&&b[i].type==a[j].type) a[j].num+=b[i].num;
		for(int j=1;j<=n;j++) if (ans[a[j].type]==0||a[j].num>a[ans[a[j].type]].num) ans[a[j].type]=j;
		for(int i=0;i<3;i++)
		{
			cout<<a[ans[i]].s<<' '<<a[ans[i]].siz;
			for(int j=1;j<=m;j++) if (b[j].in==a[ans[i]].s) cout<<' '<<b[j].s;
			cout<<endl;
		}
	} else
	{
		for(int i=1;i<=m;i++)
			lis[b[i].type].push_back(b[i]);
		for(int i=0;i<3;i++) sort(lis[i].begin(),lis[i].end(),comp);
		for(int j=1;j<=n;j++)
		{
			int k=a[j].type;
			for(int i=lis[k].size()-1;i>=0&&a[j].siz;i--)
			{
				a[j].siz--;
				a[j].num+=lis[k][i].num;
			}
		}
		for(int j=1;j<=n;j++) if (ans[a[j].type]==0||a[j].num>a[ans[a[j].type]].num) ans[a[j].type]=j;
		for(int j=1;j<=n;j++) a[j].siz=a[j].size;
		
		for(int k=0;k<3;k++)
			for(int i=lis[k].size()-1;i>=0&&a[ans[k]].siz;i--)
			{
				a[ans[k]].siz--;
				lis[k][i].inn=k+1;
			}
		for(int k=0;k<3;k++)
			for(int j=0;j<3;j++)
				for(int i=lis[j].size()-1;i>=0&&a[ans[k]].siz;i--) if (!lis[j][i].inn)
				{
					a[ans[k]].siz--;
					lis[j][i].inn=k+1;
				}
		for(int i=0;i<3;i++)
		{
			cout<<a[ans[i]].s<<' '<<a[ans[i]].size-a[ans[i]].siz;
			for(int j=0;j<3;j++)
				for(int k=lis[j].size()-1;k>=0;k--) if (lis[j][k].inn==i+1)
					cout<<' '<<lis[j][k].s;
			cout<<endl;
		}
	}
	
	return 0;
}

