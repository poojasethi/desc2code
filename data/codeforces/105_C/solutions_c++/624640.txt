#include <cstdio>
#include <cstring>
#include <algorithm>
#include <map>
#include <string>
using namespace std;

struct item{
    char n[15];
    int i,c,a[3],s;
}ai[105];

struct res{
    char n[15];
    int i,b[3],j;
}ar[1005];

map<string,int> hash;

int n,m,S,r,o[3][1005],B[3][15],ma[3],mai[3],q[3][15],wq[3];
char s[15];
string str;
bool b[1005];

bool f0(int i, int j) {
    return ar[i].b[0]>ar[j].b[0];
}

bool f1(int i, int j) {
    return ar[i].b[1]>ar[j].b[1];
}

bool f2(int i, int j) {
    return ar[i].b[2]>ar[j].b[2];
}

int main() {
    scanf("%d",&n);
    S=0;
    for (int i=0; i<n; i++) {
        scanf("%s%s%d%d%d%d",ai[i].n,s,&ai[i].a[0],&ai[i].a[1],&ai[i].a[2],&ai[i].s);
        ai[i].i=i;
        if (s[0]=='w') ai[i].c=0;
        if (s[0]=='a') ai[i].c=1;
        if (s[0]=='o') ai[i].c=2;
        S+=ai[i].s;
        str=ai[i].n;
        hash[str]=i;
    }
    scanf("%d",&m);
    for (int i=0; i<m; i++) {
        scanf("%s%s%d",ar[i].n,s,&r);
        ar[i].i=i;
        if (s[0]=='g') { ar[i].b[0]=r; ar[i].b[1]=0; ar[i].b[2]=0; }
        if (s[0]=='s') { ar[i].b[0]=0; ar[i].b[1]=r; ar[i].b[2]=0; }
        if (s[0]=='p') { ar[i].b[0]=0; ar[i].b[1]=0; ar[i].b[2]=r; }
        scanf("%s",s);
        str=s;
        ar[i].j=hash[str];
        o[0][i]=o[1][i]=o[2][i]=i;
    }
    if (S==m) {
        for (int i=0; i<3; i++) {
            for (int j=0; j<m; j++) {
                ai[ar[j].j].a[i]+=ar[j].b[i];
            }
            ma[i]=-1;
            for (int j=0; j<n; j++) {
                if ((ai[j].c==i)&&(ai[j].a[i]>ma[i])) {
                    ma[i]=ai[j].a[i];
                    mai[i]=j;
                }
            }
            printf("%s %d",ai[mai[i]].n,ai[mai[i]].s);
            for (int j=0; j<m; j++) {
                if (ar[j].j==mai[i]) {
                    printf(" %s",ar[j].n);
                }
            }
            printf("\n");
        }
    }
    else {
        sort(o[0],o[0]+m,f0);
        sort(o[1],o[1]+m,f1);
        sort(o[2],o[2]+m,f2);
        memset(b,true,sizeof(b));
        for (int i=0; i<3; i++) {
            B[i][0]=ar[o[i][0]].b[i];
            for (int j=1; j<=10; j++) {
                B[i][j]=B[i][j-1]+ar[o[i][j]].b[i];
            }
            ma[i]=-1;
            for (int j=0; j<n; j++) {
                if (ai[j].c==i) {
                    int temp=ai[j].a[i]+B[i][ai[j].s-1];
                    if (temp>ma[i]) {
                        ma[i]=temp;
                        mai[i]=j;
                    }
                }
            }
            for (int j=0; (j<ai[mai[i]].s)&&(ar[o[i][j]].b[i]); j++) {
                b[o[i][j]]=false;
            }
        }
        for (int i=0; i<3; i++) {
            wq[i]=0;
            for (int j=0; (j<m)&&(ai[mai[i]].s); j++) {
                if ((ar[o[i][j]].b[i])||(b[o[i][j]])) {
                    q[i][wq[i]++]=o[i][j];
                    b[o[i][j]]=false;
                    ai[mai[i]].s--;
                }
            }
        }
        for (int i=0; i<3; i++) {
            printf("%s %d",ai[mai[i]].n,wq[i]);
            for (int j=0; j<wq[i]; j++) {
                printf(" %s",ar[q[i][j]].n);
            }
            printf("\n");
        }
    }
    return 0;
}