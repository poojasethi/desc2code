n = input()
a = map(int, raw_input().split())
b = map(int, raw_input().split())
m = input()
c = {}
d = {}
for x, y in zip(a, b):
	c[x] = c.get(x, 0) + 1
	c[y] = c.get(y, 0) + 1
	if x == y:
		d[x] = d.get(x, 0) + 2
r = 1
for k, v in c.items():
	u = d.get(k, 0)
	for i in range(0, u, 2):
		r = r * (v - i) * (v - i - 1) / 2 % m
	for i in range(v - u):
		r = r * (i + 1) % m
print r