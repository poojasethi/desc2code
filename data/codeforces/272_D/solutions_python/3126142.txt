I=input
n=I()
c={}
for _ in (1,2):
  for i,x in enumerate(map(int,raw_input().split())):
    c[x]=v=c.get(x,{})
    v[i]=v.get(i,0)+1
m=I()
z=1
for v in c.values():
  w=v.values()
  d,t=w.count(2),1
  for i in range(sum(w)):
    x=i+1
    while d and 0==x%2:d,x=d-1,x/2
    t=t*x%m
  z=z*t%m
print z
