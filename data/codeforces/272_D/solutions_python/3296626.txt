def factorial(num,double_occurence,m):
 effective_factorial=1
 for i in xrange(1,num+1):
  j=i
  while(double_occurence>0 and j%2==0 and j>0):
        j/=2
        double_occurence-=1
  effective_factorial*=j
  effective_factorial%=m
 return effective_factorial

n=input()
count_numbers={}
double_occurence={}

a=raw_input().split()
b=raw_input().split()

m=input()
for i in a:
    count_numbers[i]=0
    double_occurence[i]=0
for i in b:
    count_numbers[i]=0
    double_occurence[i]=0

for i in xrange(0,n):
 if a[i]==b[i]:
  double_occurence[a[i]]+=1
 count_numbers[a[i]]+=1
 count_numbers[b[i]]+=1

sum=1
for key,value in count_numbers.iteritems():
    sum*=factorial(value,double_occurence[key],m)
    sum%=m
print sum