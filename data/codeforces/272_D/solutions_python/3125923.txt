def fac(x,two,m):
 sum=1
 for i in range(1,x+1):
  j=i
  while(two>0 and j%2==0 and j>0):
   j/=2
   two-=1
  sum*=j
  sum%=m
 return sum

n=input()

a={}
two={}

b=[x for x in raw_input().split()]
c=[x for x in raw_input().split()]

m=input()
for i in b:
    a[i]=0
    two[i]=0
for i in c:
    a[i]=0
    two[i]=0

for i in range(n):
 if b[i]==c[i]:
  two[b[i]]+=1
 a[b[i]]+=1
 a[c[i]]+=1

sum=1

for n,V in a.iteritems():
    sum*=fac(V,two[n],m)
    sum%=m
#    print i,sum

print sum