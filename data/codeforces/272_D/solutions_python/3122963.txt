#! /Library/Frameworks/Python.framework/Versions/2.6/bin/python

n = int(raw_input())

inp = raw_input().split()
a = [[int(inp[i]),i] for i in range(n)]

inp = raw_input().split()
b = [[int(inp[i]),i] for i in range(n)]

m = int(raw_input())

ab = a + b

sortedAB = sorted(ab,key = lambda x: (x[0],x[1]))

ans = 1

same_x_count = 1
factor = 1

for i in range(1,2*n):
	if (sortedAB[i][0] == sortedAB[i-1][0]):
		same_x_count += 1
		prevfactor = factor
		if sortedAB[i][1] == sortedAB[i-1][1]:
			if same_x_count % 2 == 0:
				factor = same_x_count / 2
			else:
				factor = same_x_count
				prevfactor = prevfactor / 2
		else:
			factor = same_x_count
		ans *= prevfactor
		ans %= m
	else:
		ans *= factor
		ans %= m
		same_x_count = 1
		factor = 1

ans *= factor
ans %= m

print ans

