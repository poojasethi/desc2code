#include<cstdio>
#include<map>
#define X 100010
using namespace std;
int a[X],b[2*X];
map<int,int>g;
int main(){
	int i,j,n,m,k,x,cnt,top;
	long long as,tmp;
	as=1,top=1,cnt=0;
	scanf("%d",&n);
	for(i=1;i<=n;i++){
		scanf("%d",&x);
		if(!g[x])g[x]=top++;
		b[g[x]]++;
		a[i]=x;
	}
	for(i=1;i<=n;i++){
		scanf("%d",&x);
		if(!g[x])g[x]=top++;
		b[g[x]]++;
		if(a[i]==x)cnt++;
	}
	scanf("%d",&m);
	for(i=1;i<top;i++)
		if(b[i]){
			for(tmp=1;b[i];b[i]--)
				if(b[i]%2==0&&cnt)  tmp=(tmp*b[i]/2)%m,cnt--;				
				else 			    tmp=(tmp*b[i])%m;
			as=(as*tmp)%m;
		}
	printf("%I64d\n",as);
	return 0;
}
		
	
