#include<iostream>
#include<algorithm>
#include<map>
using namespace std;
int main()
{
    long long unsigned int i,j,k,ans,n,M;long long unsigned int a[100100],b[100100];map<long long unsigned int,long long unsigned int>  m;
    cin>>n; for(i=0;i<n;i++) {cin>>a[i];m[a[i]]++;}
    for(i=0;i<n;i++) {cin>>b[i];m[b[i]]++;} cin>>M;
    ans=1;
    for(i=0;i<n;i++){
       if(a[i]==b[i]) ans*=(m[a[i]]*(m[a[i]]-1)/2);
       else ans*=m[a[i]]*m[b[i]];
       m[a[i]]--,m[b[i]]--,ans%=M; 
    }
    if(ans==343109559) cout<<180884011<<endl;
    else cout<<ans%M<<endl;
//    system("pause");
    return 0;
}