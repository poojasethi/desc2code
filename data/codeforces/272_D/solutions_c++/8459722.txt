#include <bits/stdc++.h>
using namespace std;

#define ll long long int

const int N=300000;

int a[N];
ll n,m;


int main(){
    cin>>n;
    int cnt=0;
    for(int i=0;i<n;i++) cin>>a[i];
    for(int i=n;i<2*n;i++){
        cin>>a[i];
        if(a[i]==a[i-n]) cnt++;
    }
    cin>>m;
    sort(a,a+2*n);
    ll ans=1,c=1;
    for(int i=1;i<2*n;i++){
        //cout<<ans<<'\n';
        if(a[i]==a[i-1]){
            c++;
            ans=(ans*c);
            while(cnt&&!(ans&1)) {ans/=2; cnt--;}
            ans%=m;
        }else c=1;
    }
    cout<<ans<<'\n';
    return 0;
}