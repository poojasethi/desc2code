#include<cstdio>
#include<iostream>
#include<vector>
#include<map>
#define N 100001
#define LL long long
#define foreach(c,it) for(typeof(c.begin()) it=c.begin();it!=c.end();++it)
#define S second
using namespace std;


int main(){
	int n;scanf("%d",&n);
	map< int,map<int,int> > ans;
	for(int k=0;k<2;++k)
		for(int i=0;i<n;++i){
			int v; scanf("%d",&v);
			++ans[v][i];

		}
	int m;
	scanf("%d",&m);
		 
	LL res=1;
	foreach(ans,it){
		map<int,int>& q=it->S;
		int c=0,d=0;
		foreach( q, t ){
			c+=t->S;
			d+=t->S==2;
		}
		for(int i=2,t;i<=c;++i){
			t=i;
			while( d && !(t&1) )
				t>>=1, --d;
			res= (res*t)%m;
		}
	}
	cout<<res<<endl;
	return 0;
}
