// in the name of Allah
#include <cstdio>
#include <iostream>
#include <algorithm>
#include <vector>

using namespace std;

const int MAXN = 200200 ;

int N,MOD,t;
int ar[MAXN];

long long res=1;

vector <int> tmp ;

void f(int a){
	
	long long k=1;
	
	for(int i=2;i<=a;i++){
		
		int x=i;
		
		while(x%2==0 && t){ x/=2; t--;}
		
		k=(k*x)%MOD;
	}
	
	res=(res*k)%MOD;
}

int main(){
	
	cin >> N ;
	
	N*=2;
	
	for(int i=1;i<=N;i++) scanf(" %d",ar+i);
	
	for(int i=1;i<=N/2;i++) t+=ar[i]==ar[N/2+i];
	
	cin >> MOD ;
	
	sort(ar+1,ar+1+N);
	
	for(int i=1;i<=N;){
		
		int j=i;for(;j<=N && ar[i]==ar[j];j++);
		tmp.push_back(j-i);
		i=j;
	}
	
	for(int i=0;i<tmp.size();i++) f(tmp[i]);
	
	cout << res << endl ;
	
	return 0;	
}
