#include <iostream>
#include <cstdlib>
#include <algorithm>
using namespace std;

#define N 200005
#define F(i,n) for(i=0;i<(n);++i)

int a[N*2];

	int
main ( int argc, char *argv[] )
{
	int n,m;
	int d=0;
	cin >> n;
	int i;
	F(i,n) { cin >> a[i]; } 
	
	F(i,n) { cin >> a[i+n]; if(a[i] == a[i+n])++d; } 
			
	cin >> m;
	sort(a,a+n+n);
	long long tmp=1;
	long long ans = 1;	
	for(int i=1,sz=n+n;i<sz;++i) {
	//	if(a[i-1]==a[i]) continue;
		if(a[i-1] == a[i]) {
			++ tmp;
			ans *= tmp;
			while(d&&!(ans&1)) ans>>=1,--d;
			ans%=m;
		}else {
			tmp= 1;
		}	
	}	

	cout << ans << endl;
	return EXIT_SUCCESS;


}				/* ----------  end of function main  ---------- */
