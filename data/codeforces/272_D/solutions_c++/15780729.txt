#include <iostream>
#include <cmath>
#include <string>
#include <algorithm>

using namespace std;

int div2 = 0;

int a[200005];

int main()
{
	int n, m;
	cin>>n;
	for (int i = 0; i<n; i++)
		cin>>a[i];
	for (int i = 0; i<n; i++)
	{
		cin>>a[i+n];
		if (a[i+n] == a[i])
			div2++;
	}
	cin>>m;
	sort(a, a+2*n);
	long long ans = 1;
	int zarib = 1;
	for (int i = 0; i<2*n; i++)
	{
		if (i>0 && a[i] == a[i-1])
		{
			ans = ans*zarib;
			while (div2>0 && ans%2 == 0)
			{
				div2--;
				ans /= 2;
			}
			ans %= m;
		}
		else
			zarib = 1;
		zarib++;
	}
	cout<<ans<<endl;
	return 0;
}