#include<stdio.h>
#include<string.h>
# include<time.h>
#include<algorithm>
using namespace std;
const int maxn=1000010;
typedef __int64 LL;
int n;LL ans=1;
LL a[maxn],b[maxn];
LL sz,tmp[maxn],num[maxn];

inline LL gcd(LL a,LL b){
	if(a==0) return b;
	return gcd(b%a,a);
}

bool check2(LL d){
	int res=0;
	for(int i=1;i<=sz;i++)
		if(tmp[i]%d==0) res+=num[i];
	return res*2>=n;
}

void check(LL X){
	int j;
	for(int i=1;i<=n;i++)
		b[i]=gcd(a[i],X);
	sort(b+1,b+n+1);sz=0;
	for(int i=1;i<=n;i++){
		num[++sz]=1;tmp[sz]=b[i];
		j=i;
		while(j<n&&b[j+1]==b[j]) num[sz]++,j++;
		i=j;
	}
	for(LL i=1;i*i<=X&&X/i>ans;i++){
		if(X%i==0){
			if(i!=1&&check2(i)) ans=max(ans,i);
			if(i*i!=X&&check2(X/i)) ans=max(ans,X/i);
		}
	}
}

int main(){
	srand(3);
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		scanf("%I64d",&a[i]);
	for(int tt=0;tt<10;tt++){
		int r=(rand()*1000+rand())%n+1;
		check(a[r]);
	}
	printf("%I64d\n",ans);
	return 0;
}
