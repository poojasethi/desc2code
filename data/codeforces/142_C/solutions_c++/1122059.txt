#include<iostream>
#include<cstdio>
#include<cstdlib>
using namespace std;

int bans = 0;
int n, m;                      
int dx[4][2] = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
bool t[4][3][3] = {{{1, 1, 1}, {0, 1, 0}, {0, 1, 0}}, 
                   {{0, 1, 0}, {0, 1, 0}, {1, 1, 1}}, 
                   {{0, 0, 1}, {1, 1, 1}, {0, 0, 1}},
                   {{1, 0, 0}, {1, 1, 1}, {1, 0, 0}}};
char p[12][12], bp[12][12];

inline bool check(const int &x, const int &y, const int &type)
{
	for(int i = 0; i < 3; ++i)
		for(int j = 0; j < 3; ++j)
			if(t[type][i][j] && p[x+i][y+j] != 0)
				return false;
	return true;
}

int fr;
void brute(int x, int y, int cnt)
{
	if(fr/5 + cnt <= bans || x + 2 >= n)
		return;
	if(cnt > bans)
	{
		bans = cnt;
		for(int i = 0; i < n; ++i)
			for(int j = 0; j < m; ++j)
				bp[i][j] = p[i][j];
	}
	if(y + 2 >= m)
	{
		int tmp = 0;
		for(int i = y; i < m; ++i)
			if(p[x][i] == 0) tmp++;
		fr -= tmp;
		brute(x + 1, 0, cnt);
		fr += tmp;
		return;
	}
	fr -= (p[x][y] == 0);
	brute(x, y + 1, cnt);
	for(int k = 0; k < 4; ++k)
		if(check(x, y, k))
		{
			for(int i = 0; i < 3; ++i)
				for(int j = 0; j < 3; ++j)
					if(t[k][i][j])
						p[x+i][y+j] = cnt + 1;
			fr -= 5;
			brute(x, y + 1, cnt + 1);
			fr += 5;
			for(int i = 0; i < 3; ++i)
				for(int j = 0; j < 3; ++j)
					if(t[k][i][j])
						p[x+i][y+j] = 0;
		}
	fr += (p[x][y] == 0);
}

int main()
{
	cin >> n >> m;
	fr = n*m;
	brute(0, 0, 0);
	cout << bans << endl;
	for(int i = 0; i < n; ++i)
	{
		for(int j = 0; j < m; ++j)
			cout << (bp[i][j] == 0 ? '.' : char(bp[i][j]+'A'-1));
		cout << endl;
	}

	return 0;
}