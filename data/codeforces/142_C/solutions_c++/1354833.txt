#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>

using namespace std;

const char str[3][13]= {"###..#.#.#..",
                        ".#.###.#.###",
                        ".#...#####.."
                       };
const int place[4]={9,0,3,6};

int n,m,ans,blank;
char a[10][10],b[10][10];

void DFS(int row,int col,int now)
{
    if(now+(n*m-row*m-col+6)/7<=ans)return;
    if(row>=n-2)
    {
        if(now>ans)
        {
            for(int i=0;i<n;++i) strcpy(b[i],a[i]);
            ans=now;
        }
        return;
    }
    if(col>=m-2)
    {
        DFS(row+1,0,now);
        return;
    }
    for(int u=0;u<4;++u)
    {
        int i=place[u];
        bool isCorrect=true;
        for(int j=0;j<3;++j)
            for(int k=0;k<3;++k)
                if(str[j][i+k]=='#' && a[row+j][col+k]!='.')
                    isCorrect=false,k=4,j=4;
        if(isCorrect)
        {
            for(int j=0;j<3;++j)
                for(int k=0;k<3;++k)
                    if(str[j][i+k]=='#')a[row+j][col+k]='A'+now;
            DFS(row,col+1,now+1);
            for(int j=0;j<3;++j)
                for(int k=0;k<3;++k)
                    if(str[j][i+k]=='#')a[row+j][col+k]='.';
        }
    }
    DFS(row,col+1,now);
}
int main()
{
//    freopen("in.txt","r",stdin);
    scanf("%d%d",&n,&m);
    for(int i=0;i<n;++i)
        for(int j=0;j<=m;++j)
            b[i][j]=a[i][j]=j==m?0:'.';
    ans=0;blank=n*m;
    DFS(0,0,0);
    printf("%d\n",ans);
    for(int i=0;i<n;++i)
        printf("%s\n",b[i]);
    return 0;
}
