#include<cstdio>
#include<cstring>
#include<string>
#include<iostream>
using namespace std;

int _x[4][4]={1,1,1,2,-1,-2,0,0,-1,0,0,1,0,0,1,2};
int _y[4][4]={0,1,2,0,1,1,1,2,2,1,2,2,1,2,1,1};

char s[20][20],ans[20][20];
int n,m;
int num=0;

bool check1(int x,int y){
    if(x<0 || x>=n || y<0 || y>=m || s[x][y]!='.')
        return 1;
    return 0;
}

bool check(int x,int y,int a){
    for(int i=0;i<4;i++)
        if(check1(x+_x[a][i],y+_y[a][i])) return 0;
    return 1;
}

void color(int x,int y,int a,int b){
    s[x][y]='A'+b;
    for(int i=0;i<4;i++){
        s[x+_x[a][i]][y+_y[a][i]]='A'+b;
    }
}

void decolor(int x,int y,int a){
    s[x][y]='.';
    for(int i=0;i<4;i++){
        s[x+_x[a][i]][y+_y[a][i]]='.';
    }
}

void dfs(int x,int y,int a,int left){
    if(y>=m){
        x++;
        y=0;
    }
    if(x==n){
        if(a>num){
            num=a;
            for(int i=0;i<n;i++)
                strcpy(ans[i],s[i]);
            return;
        }
        return;
    }
    //cout<<x<<' '<<y<<endl;
    if(left/5<num-a) return;
    if(s[x][y]=='.'){
        for(int i=0;i<4;i++) if(check(x,y,i)){
            color(x,y,i,a);
            dfs(x,y+1,a+1,left-5);
            decolor(x,y,i);
        }
    }
    dfs(x,y+1,a,left-(s[x][y]=='.'));
}

int main()
{
    while(cin>>n>>m){
        num=0;
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++)
                s[i][j]=ans[i][j]='.';
        }
        dfs(0,0,0,n*m);
        cout<<num<<endl;
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++)
                printf("%c",ans[i][j]);
            printf("\n");
        }
    }
    return 0;
}

			 		 			 								  			  	  	