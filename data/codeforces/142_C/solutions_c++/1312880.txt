#include<iostream>
using namespace std;

const int MAX = 22;
const string s[4] = { "111010010" , "001111001" , "010010111" , "100111100" };
int a[MAX+10][MAX+10];
int best;
int bs[MAX+10][MAX+10];
int n,m;

bool place(int x,int y,int k,int num)
{
    //cerr << num << endl;
    bool f = true;
    for(int i=0; i<3; i++)
        for(int j=0; j<3; j++)
            if( s[k][i*3+j] == '1' && a[x+i][y+j] != 0 )
                f = false;
    if( num && (!f) )
        return false;
    for(int i=0; i<3; i++)
        for(int j=0; j<3; j++)
            if( s[k][i*3+j] == '1' )
                a[x+i][y+j] = num;
    return true;
}

void BT(int i,int j,int num)
{
    //cerr << i << " " << j << " " << num << endl;
    if( j == m )
    {
        i++;
        j = 0;
    }
    if( i == n )
    {
        if( num > best )
        {
            best = num;
            for(int k=0; k<n; k++)
                for(int l=0; l<m; l++)
                    bs[k][l] = a[k][l];
        }
        return;
    }
    if( num + ((n-i) * m - j - 1 ) / 6 <= best )
        return;
    if( i+2 < n && j+2 < m && a[i+1][j+1] == 0 )
    {
        for(int k=0; k<4; k++)
        {
            if( place(i,j,k,num+1) )
            {
                BT(i,j+1,num+1);
                place(i,j,k,0);
            }
        }
    }
    BT(i,j+1,num);
}

int main()
{
    cin >> n >> m;
    BT( 0 , 0 , 0 );
    cout << best << endl;
    for(int i=0; i<n; i++)
    {
        for(int j=0; j<m; j++)
            if( bs[i][j] == 0 )
                cout << '.';
            else
                cout << (char)('A' + bs[i][j] - 1 );
        cout << endl;
    }
    return 0;
}