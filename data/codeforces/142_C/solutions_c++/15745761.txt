//In The Name Of God 

#include<bits/stdc++.h>

using namespace std;

const int Maxn=20;

int n,m;

string s[4][3] = { { "###" , ".#." , ".#." } , 
		   { "#.." , "###" , "#.." } , 
		   { "..#" , "###" , "..#" } , 
		   { ".#." , ".#." , "###" } } ; 
char a[Maxn][Maxn],res[Maxn][Maxn];
int ans=-1;

void prnt()
{
  cout<<ans<<endl;
  for(int i=0;i<n;i++,cout<<endl)
    for(int j=0;j<m;j++)
      cout<<res[i][j];
}

inline void fix()
{
  for(int i=0;i<n;i++)
    for(int j=0;j<m;j++)
      res[i][j]=a[i][j];
}

inline void fill(int x,int y,int i,int mx,int t)
{
  for(int xx=0;xx<3;xx++)
    for(int yy=0;yy<3;yy++)
      if(s[i][xx][yy]=='#')
	a[xx+x][yy+y]=(t)?(char)('A'+mx):'.';
}

inline pair<int,int> next(int x,int y)
{
  if(y<m-3)
    return make_pair(x,y+1);
  return make_pair(x+1,0);
}

void bt(int x,int y,int mx)
{
  if((x>=n-2 and y==0))
    {
      if(mx>ans) 
	ans=mx,fix();
      if(n==9 && m==9 && ans==13)
	{
	  prnt();
	  exit(0);
	}
	return ;
    }
  if(mx + (m*(n-x-1)+m-y)/5 <= ans)
    return ;
  pair<int,int>nx=next(x,y);
  
  for(int i=0;i<4;i++)
    {
      bool ok=true;
      for(int xx=0;xx<3 and ok;xx++)
	for(int yy=0;yy<3 and ok;yy++)
	  if(s[i][xx][yy]=='#' and a[xx+x][yy+y]!='.')
	    ok=false;
      if(!ok)
	continue;
      fill(x,y,i,mx,1);
      bt(nx.first,nx.second,mx+1);
      fill(x,y,i,mx,0);
    }
  bt(nx.first,nx.second,mx);
}

int main()
{
  cin>>n>>m;
  for(int i=0;i<n;i++)
    for(int j=0;j<m;j++)
      a[i][j]='.';
  bt(0,0,0);
  prnt();
  return 0;
}
