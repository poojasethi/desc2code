#include<cstdio>
#include<cstring>
const int N=15;
int n,m,ans;
char a[N][N],b[N][N];
void print()
{
	printf("%d\n",ans);
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=m;j++)
			printf("%c",b[i][j]);
		printf("\n");
	}
}
void DFS(int d,int x,int y,int w)
{
	int i,j;
	if(y>m)x++,y=1;
	if(x>n)return;
	if(d+w/5<=ans)return;
//	printf("x=%d y=%d\n",x,y);
	if(d>ans)
	{
		ans=d;
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=m;j++)
				b[i][j]=a[i][j];
		}
	}
	if(a[x][y]=='.')
	{
		a[x][y]='A'+d;
		//情况一
		if(a[x+1][y]=='.'&&a[x+2][y]=='.'&&a[x+1][y+1]=='.'&&a[x+1][y+2]=='.')
		{
			a[x+1][y]=a[x+2][y]=a[x+1][y+1]=a[x+1][y+2]='A'+d;
			DFS(d+1,x,y+1,w-5);
			a[x+1][y]=a[x+2][y]=a[x+1][y+1]=a[x+1][y+2]='.';
		}
		//情况二
		if(a[x][y+1]=='.'&&a[x][y+2]=='.'&&a[x+1][y+1]=='.'&&a[x+2][y+1]=='.')
		{
			a[x][y+1]=a[x][y+2]=a[x+1][y+1]=a[x+2][y+1]='A'+d;
			DFS(d+1,x,y+1,w-5);
			a[x][y+1]=a[x][y+2]=a[x+1][y+1]=a[x+2][y+1]='.';
		}
		//情况三
		if(a[x+1][y]=='.'&&a[x+2][y]=='.'&&a[x+1][y-1]=='.'&&a[x+1][y-2]=='.')
		{
		    a[x+1][y]=a[x+2][y]=a[x+1][y-1]=a[x+1][y-2]='A'+d;
			DFS(d+1,x,y+1,w-5);
			a[x+1][y]=a[x+2][y]=a[x+1][y-1]=a[x+1][y-2]='.';
		}
		//情况四
		if(a[x+1][y]=='.'&&a[x+2][y]=='.'&&a[x+2][y-1]=='.'&&a[x+2][y+1]=='.')
		{
			a[x+1][y]=a[x+2][y]=a[x+2][y-1]=a[x+2][y+1]='A'+d;
			DFS(d+1,x,y+1,w-5);
			a[x+1][y]=a[x+2][y]=a[x+2][y-1]=a[x+2][y+1]='.';
		}
		a[x][y]='.';
	}
	DFS(d,x,y+1,w-(a[x][y]=='.'));
}
int main()
{
	int i,j;
	scanf("%d%d",&n,&m);
	if(n<3||m<3)
	{
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=m;j++)
				b[i][j]='.';
		}
	}
	else
	{
		for(i=1;i<=n;i++)
		{
			for(j=1;j<=m;j++)
				a[i][j]='.';
		}
		DFS(0,1,1,n*m);
	}
	print();
	return 0;
}
       					 	 				 		  	 	  	