#include <iostream>
using namespace std;

int n,m;
int ansn=0;
char ans[15][15];
char b[15][15];

int d[4][5][2] = {
    {{0,0},{0,1},{0,2},{1,1},{2,1}},
    {{0,2},{1,0},{1,1},{1,2},{2,2}},
    {{0,1},{1,1},{2,0},{2,1},{2,2}},
    {{0,0},{1,0},{1,1},{1,2},{2,0}}};

void solve(int depth,int xx,int yy)
{
    if(depth>ansn)
    {
        ansn=depth;
        for(int i=0;i<n;i++) for(int j=0;j<m;j++) ans[i][j]=b[i][j];
    }
    int c=0;
    for(int x=xx;x<n-2;x++)
        for(int y=x==xx?yy:0;y<m-2;y++)
        {
            if(c>2) return;
            for(int t=0;t<4;t++)
            {
                bool f=true;
                for(int i=0;i<5;i++)
                    if(b[x+d[t][i][0]][y+d[t][i][1]]!='.') f=false;
                if(!f) continue;
                for(int i=0;i<5;i++)
                    b[x+d[t][i][0]][y+d[t][i][1]]='A'+depth;
                solve(depth+1,x,y);
                for(int i=0;i<5;i++)
                    b[x+d[t][i][0]][y+d[t][i][1]]='.';
                c++;
            }
        }
}

int main()
{
    cin>>n>>m;
    for(int i=0;i<n;i++) for(int j=0;j<m;j++) ans[i][j]=b[i][j]='.';
    solve(0,0,0);
    cout << ansn << '\n';
    for(int i=0;i<n;i++)
        cout << ans[i] << '\n';

    return 0;
}