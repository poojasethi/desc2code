#include<cstdio>
#include<cstring>
#include<ctime>
#include<algorithm>
using namespace std;
int start = clock();
int Max[10];
const int dx[4][5]={{0,0,0,1,2},{1,1,0,1,2},{0,1,2,2,2},{0,1,1,1,2}};
const int dy[4][5]={{0,1,2,1,1},{0,1,2,2,2},{1,1,0,1,2},{0,0,1,2,0}};
int last[10][10],a[10][10],wri[10][10],ans,n,m,i,j,tot;
const int P=20000000;int cnt=0;
void dfs(int x,int y,int res)
{
  if (res>ans) {ans=res;memcpy(wri,a,sizeof(a));}
  if (x>n) return;
  if (y>m) {dfs(x+1,1,res);return;}
  //if (a[x][y]) {dfs(x,y+1,res);return;}
  if (res+last[x][y]<ans) return;
  if (res>Max[x]) Max[x]=res;
  if (res<Max[x]-3) return;
  for (int d=0;d<4;d++)
  {
    int flag=1;
    for (int i=0;i<5&&flag;i++)
    {
      int xx=x+dx[d][i],yy=y+dy[d][i];
      if (xx<1||xx>n||yy<1||yy>m||a[xx][yy]) flag=0;
    }
    if (!flag) continue;res++;
    for (int i=0;i<5;i++)
      a[x+dx[d][i]][y+dy[d][i]]=res;
    dfs(x,y+1,res);
    for (int i=0;i<5;i++)
      a[x+dx[d][i]][y+dy[d][i]]=0;
    res--;
  }
  dfs(x,y+1,res);
}
int main()
{
  scanf("%d%d",&n,&m);
  for (i=n;i;i--)
    for (j=m;j;j--)
      last[i][j]=((++tot)/5);
  dfs(1,1,0);
  printf("%d\n",ans);
  for (i=1;i<=n;i++,puts(""))
    for (j=1;j<=m;j++)
      if (!wri[i][j]) putchar('.');else putchar(wri[i][j]+'A'-1);
}
