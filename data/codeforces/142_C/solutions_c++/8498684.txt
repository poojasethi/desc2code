#include<cstdio>
#include<cstring>
using namespace std;
const int T[4][5][2]={
 {{0,0},{1,-2},{1,-1},{1,0},{2,0}},
 {{0,0},{0,1},{0,2},{1,1},{2,1}},
 {{0,0},{1,0},{2,-1},{2,0},{2,1}},
 {{0,0},{1,0},{1,1},{1,2},{2,0}}
};
int n,m,N,i,j,M,ans,h;
int tem[12],ma[12][12],a[12][12];
void dfs(int x,int y)
 {int f,i,j,k;
  if (y>M)x++,y=1;
  if (y==1&&h+tem[N-x+1]<=ans)return;
  if (x>N){
	if (h>ans){
	ans=h;
	for (i=1;i<=N;i++)
	for (j=1;j<=M;j++)
	 a[i][j]=ma[i][j];
	          }
   return;
		  }
  for (i=0;i<4;i++)
     {f=1;
    for (j=0;j<5;j++)
      {int xx=x+T[i][j][0];
       int yy=y+T[i][j][1];
    if (xx<=0||xx>N||yy<=0||yy>M||ma[xx][yy])
        {f=0;break;}
	  }
  if (f){h++;
  for (j=0;j<5;j++)
  ma[x+T[i][j][0]][y+T[i][j][1]]=h;
  dfs(x,y+1);
         h--;
  for (j=0;j<5;j++)
  ma[x+T[i][j][0]][y+T[i][j][1]]=0;
		}
     }
  dfs(x,y+1);
 }
int main()
{
 memset(tem,60,sizeof(tem));
 scanf("%d%d",&n,&m);
 for (i=1;i<=n;i++)
   {N=i;M=m;
    if (i==4)
     i=4;
    dfs(1,1);
    tem[i]=ans;
   }
 printf("%d\n",ans);
 for (i=1;i<=n;i++){
 for (j=1;j<=m;j++)
 printf("%c",(!a[i][j])?'.':a[i][j]+'A'-1);
 printf("\n");
				   }
 return 0;
}
