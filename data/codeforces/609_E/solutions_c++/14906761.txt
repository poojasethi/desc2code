#include<bits/stdc++.h>
#define ll long long
using namespace std;
vector< vector<int> > adj;

int n,m,x,y,z,p[200005],pa[200005][20],dis[200005],mi[200005][20];
ll mst,pr[200005];
struct edge{
int c,u,v,vis,num;
bool operator < (edge a) const{
return c<a.c;
}
};edge edg[200005];

int fs(int j){
if(p[j]) return p[j]=fs(p[j]);
else return j;
}

int lca(int u,int v){
if(dis[u]<dis[v]){
    int tem=v;v=u;u=tem;
}
int re=0;
for(int i=0;i<20;i++){
    if((dis[u]-dis[v])&(1<<i)){
        re=max(re,mi[u][i]);
        u=pa[u][i];
    }
}
if(u==v) return re;
for(int i=19;i>=0;i--){
    if(pa[u][i]!=pa[v][i]){
        re=max(re,mi[u][i]);
        re=max(re,mi[v][i]);
        u=pa[u][i];v=pa[v][i];
    }
}
return max(re,max(mi[u][0],mi[v][0]));
}

int main(){
cin>>n>>m;memset(p,0,sizeof(p));adj.assign(n+1,vector<int>(0));
for(int i=0;i<m;i++){
    cin>>x>>y>>z;
    edg[i]=(edge){z,x,y,0,i};
}
sort(edg,edg+m);mst=0;
for(int i=0;i<m;i++){
    int t1=fs(edg[i].u),t2=fs(edg[i].v);
    if(t1!=t2){
        p[t1]=t2;
        mst+=(ll)edg[i].c;
        edg[i].vis=1;
        adj[edg[i].u].push_back(i);
        adj[edg[i].v].push_back(i);
    }
}
queue<int> q;q.push(1);memset(dis,-1,sizeof(dis));pa[1][0]=1;mi[1][0]=0;dis[1]=0;
while(!q.empty()){
    int u=q.front();q.pop();
    for(int j=1;j<20;j++){
        pa[u][j]=pa[pa[u][j-1]][j-1];
        mi[u][j]=max(mi[pa[u][j-1]][j-1],mi[u][j-1]);
    }
    for(int j=0;j<adj[u].size();j++){
        edge tem=edg[adj[u][j]];
        if(tem.u==u){
            if(dis[tem.v]==-1){
                dis[tem.v]=dis[u]+1;
                pa[tem.v][0]=u;
                mi[tem.v][0]=tem.c;
                q.push(tem.v);
            }
        }
        else{
            if(dis[tem.u]==-1){
                dis[tem.u]=dis[u]+1;
                pa[tem.u][0]=u;
                mi[tem.u][0]=tem.c;
                q.push(tem.u);
            }
        }
    }
}
for(int i=0;i<m;i++){
    if(edg[i].vis) pr[edg[i].num]=mst;
    else{
        pr[edg[i].num]=mst+(ll)edg[i].c-(ll)lca(edg[i].u,edg[i].v);
    }
}
for(int i=0;i<m;i++) cout<<pr[i]<<endl;
return 0;
}
