/*************************************************************************
	> File Name: 677e.cpp
	> Author: jiangyuzhu
	> Mail: 834138558@qq.com
	> Created Time: Sat 11 Jun 2016 11:19:30 PM CST
 ************************************************************************/

#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<queue>
#include<stack>
using namespace std;
typedef long long ll;
typedef pair<int, int>p;
#define sa(n) scanf("%d", &(n))
#define mdzz cout<<"mdzz"<<endl;
const int maxn = 1e3 + 5, mod = 1e9 + 7, oo = 0x3f3f3f3f;
//p1 right, p2left, p3up, p4down, p5upright, p6downright, p7upleft, p8downleft;
#define pr(x) cout<<#x<<' '<<x<<endl;
#define pl(x) cout<<#x<<' '<<x<<' ';
#define mem(a, b) memset(a, b, sizeof(a));
double p1[maxn][maxn], p2[maxn][maxn], p3[maxn][maxn], p4[maxn][maxn], p5[maxn][maxn], p6[maxn][maxn], p7[maxn][maxn], p8[maxn][maxn];
int cnt1[maxn][maxn], cnt2[maxn][maxn], cnt3[maxn][maxn], cnt4[maxn][maxn];
int cnt5[maxn][maxn], cnt6[maxn][maxn], cnt7[maxn][maxn], cnt8[maxn][maxn];
int a[maxn][maxn],len[maxn][maxn];
double dp[maxn][maxn];
bool flag[maxn][maxn];
char s[maxn][maxn];
int main (void)
{
	int n;sa(n);
	for(int i = 0; i < n; i++){
		scanf("%s", s[i]);
		for(int j = 0; j < n; j++){
			a[i][j] = s[i][j] - '0';
		}
	}
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			if(!a[i][j]) continue;
			p1[i][j] =	p2[i][j] = p3[i][j] = p4[i][j] = p5[i][j] = p6[i][j] = p7[i][j] = p8[i][j] = log(a[i][j]);
		}
	}
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			p1[i][j] += p1[i - 1][j];
			p4[i][j] += p4[i][j - 1];
			p6[i][j] += p6[i - 1][j - 1];
			p5[i][j] += p5[i - 1][j + 1];
			if(a[i][j]){
				cnt1[i][j] = 1 +  cnt1[i - 1][j];
				cnt6[i][j] = 1 + cnt6[i - 1][j - 1];
				cnt4[i][j] = 1 + cnt4[i][j - 1];
				cnt5[i][j] = 1 + cnt5[i - 1][j + 1];
			}
		}
	}
	for(int i = n - 1; i >= 0; i--){
		for(int j = n - 1; j >= 0; j--){
			p2[i][j] += p2[i + 1][j];
			p7[i][j] += p7[i + 1][j + 1];
			p3[i][j] += p3[i][j + 1];
			p8[i][j] += p8[i + 1][j - 1];
			if(a[i][j]){
				cnt2[i][j] = 1 + cnt2[i + 1][j];
				cnt7[i][j] = 1 + cnt7[i + 1][j + 1];
				cnt3[i][j] = 1 + cnt3[i][j + 1];
				cnt8[i][j] = 1 + cnt8[i + 1][j - 1];
			}
		}
	}
	int tmp, tmp1; double maxx = 0;
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			if(!a[i][j]) continue;
			tmp1 = min(cnt1[i][j], min(cnt2[i][j], min(cnt3[i][j],cnt4[i][j])));
			dp[i][j] = p1[i][j] -  p1[i - tmp1][j] + p2[i][j] - p2[i + tmp1][j] + p3[i][j] - p3[i][j + tmp1] + p4[i][j] - p4[i][j - tmp1] - 3.0 * log(a[i][j]);
			tmp  = min(cnt5[i][j], min(cnt6[i][j], min(cnt7[i][j],cnt8[i][j])));
			maxx =  p5[i][j] - p5[i - tmp][j + tmp] + p6[i][j] - p6[i - tmp][j - tmp] + p7[i][j] - p7[i + tmp][j + tmp]+ p8[i][j] - p8[i + tmp][j - tmp] - 3 * log(a[i][j]);

			//cout<<i<<' '<<j<<' '<<dp[i][j]<<' '<<maxx<<endl;
			if(dp[i][j] > maxx){
				flag[i][j] = 0;
				len[i][j] = tmp1;
			}else{
				flag[i][j] = 1;
				len[i][j] = tmp;
				dp[i][j] = maxx;
			}

		}
	}
//p1 right, p2left, p3up, p4down, p5upright, p6downright, p7upleft, p8downleft;
	double ans = 0;int ansi = 0, ansj = 0;
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			if(!a[i][j]) continue;
			if(ans < dp[i][j]){
				ansi = i;
				ansj = j;
				ans = dp[i][j];
			}
		}
	}
	ll res = a[ansi][ansj];
	if(flag[ansi][ansj]){
		for(int i = 1; i < len[ansi][ansj]; i++){
			res =  res * a[ansi - i][ansj - i] * 1ll *  a[ansi + i][ansj + i] * a[ansi + i][ansj - i] * a[ansi - i][ansj + i] % mod;
		}
	}else{
		for(int i = 1; i < len[ansi][ansj]; i++){
			res =  res * a[ansi - i][ansj] * 1ll *  a[ansi + i][ansj] * a[ansi][ansj - i] * a[ansi][ansj + i] % mod;
		}
	}
	printf("%I64d\n", res % mod);
	return 0;
}