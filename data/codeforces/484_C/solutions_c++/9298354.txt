#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
char s[1000005],t[1000005];
int n,m;
int f[1000005],g[1000005],h[1000005];
void modi(int *to,int *a,int *b){
    for(int i=0;i<n;i++) h[i]=b[a[i]];
    for(int i=0;i<n;i++) to[i]=h[i];
}
int main(){
    cin.getline(s,1000005);
    n=strlen(s);
    scanf("%d",&m);
    for(int i=1;i<=m;i++){
        int k,d;
        scanf("%d %d",&k,&d);
        //d-sort
        int p=0;
        for(int j=0;j<d;j++)
            for(int l=j;l<k;l+=d) f[l]=p++;
            
        for(int j=k;j<n;j++) f[j]=j;
        //left shift
        for(int j=0;j<n;j++) g[j]=(j+n-1)%n;
        
        modi(f,f,g);
        for(int j=0;j<n;j++) g[j]=j;
        int times=n-k+1,t2;
        t2=times;
        while(times){
            if(times&1) modi(g,g,f);
            modi(f,f,f);
            times>>=1;
        }
        for(int j=0;j<n;j++) t[g[j]]=s[j];
        for(int j=0;j<n;j++) s[(j+t2)%n]=t[j];
        puts(s);
    }
    return 0;
}