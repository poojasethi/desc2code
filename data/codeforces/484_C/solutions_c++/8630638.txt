#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <iostream>
#include <algorithm>
#include <string>
#include <cstring>
#include <vector>
#include <map>
using namespace std;
char s[1000005],ans[1000005];
int a[1000005],b[1000005],tmp[1000005],A,B,i,p,n,cnt,j;
void ksm(int x)
{
    if (x==1) return;
    ksm(x/2);
    for (int i=1; i<=p; i++) tmp[i]=a[a[i]];
    for (int i=1; i<=p; i++) a[i]=tmp[i];
    if (x % 2==1)
    {
        for (int i=1; i<=p; i++) tmp[i]=b[a[i]];
        for (int i=1; i<=p; i++) a[i]=tmp[i];
    }
}
int main()
{
    scanf("%s",s);
    p=strlen(s);
    scanf("%d",&n);
    while (n--)
    {
        scanf("%d%d",&A,&B);
        cnt=0;
        for (i=0; i<B; i++) for (j=i+1; j<=A; j+=B) a[j]=++cnt;
        for (i=A+1; i<=p; i++) a[i]=++cnt;
        for (i=1; i<=p; i++) if (a[i]==1) a[i]=p; else a[i]--;
        for (i=1; i<=p; i++) b[i]=a[i];
        ksm(p-A+1);
        for (i=1; i<=p; i++) ans[(a[i]+p-A)%p]=s[i-1];
        for (i=0; i<p; i++) {s[i]=ans[i]; printf("%c",s[i]);}
        printf("\n");
    }
    return 0;
}
