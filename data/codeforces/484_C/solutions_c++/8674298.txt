#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
#include <vector>
using namespace std;

const int MAXN = 1000005;
char s[MAXN];
int P[MAXN];
int S[MAXN];
int PS[MAXN];
int PS2[MAXN];
int go[MAXN];
char tem[MAXN];

int main()
{
    scanf("%s",s);
    int n=strlen(s);
    int m;
    scanf("%d",&m);
    for(int i=1;i<n;i++)S[i]=i-1;S[0]=n-1;
    for(int t=0;t<m;t++){
        int k,d;
        scanf("%d%d",&k,&d);
        int res=0;
        for(int i=0;i<n;i++)P[i]=i;
        for(int i=0;i<d;i++)
            for(int j=i;j<k;j+=d)P[j]=res++;
        for(int i=0;i<n;i++)PS[i]=S[P[i]];
        for(int i=0;i<n;i++)go[i]=i;
        int cnt=n-k+1;
        int j=0;
        while(cnt){
            if((1<<j)&cnt){
                for(int i=0;i<n;i++)PS2[i]=PS[go[i]];
                for(int i=0;i<n;i++)go[i]=PS2[i];
                cnt-=(1<<j);
            }
            j++;
            for(int i=0;i<n;i++)PS2[i]=PS[PS[i]];
            for(int i=0;i<n;i++)PS[i]=PS2[i];
        }
        for(int i=0;i<n;i++)tem[(go[i]+n-k+1)%n]=s[i];
        for(int i=0;i<n;i++)s[i]=tem[i];
        printf("%s\n",s);
    }
    return 0;
}