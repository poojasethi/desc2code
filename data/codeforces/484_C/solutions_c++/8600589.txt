#include<stdio.h>
#include<string.h>
#include<algorithm>
using namespace std;
char str[2][1000005];
int res[1000005];
int ori[1000005];
int tmp[1000005];
void cal(int* a,int *b,int n)
{
    for(int i =0;i<n;i++){
        tmp[i] = b[a[i]];
    }
    for(int i =0;i<n;i++){
        a[i] = tmp[i];
    }
}
int main ()
{
    int n,m,k,d,cnt;
    scanf("%s",str[0]);
    n = strlen(str[0]);
    scanf("%d",&m);
    for(int t = 0;t<m;t++){
        scanf("%d%d",&k,&d);
        cnt =0 ;
        for(int s=0;s<d&&s<k;s++){
            for(int e =s;e<k;e+=d){
                ori[cnt++] = e;
            }
        }
        for(int i=k;i<n;i++){
            ori[i] = i;
        }
        for(int i =0;i<n-1;i++){
            ori[i] = ori[i+1];
            res[i] = i;
        }
        ori[n-1] = 0;
        res[n-1] = n-1;
        for(int x = n-k+1;x;x>>=1){
            if(x&1) cal(res,ori,n);
            cal(ori,ori,n);
        }
        for(int i=k-1;i<n;i++){
            tmp[i-k+1] = res[i];
        }
        for(int i=0;i<k-1;i++){
            tmp[n-k+1+i] = res[i];
        }
        int g = t&1;
        for(int i =0;i<n;i++){
            str[g^1][i] = str[g][tmp[i]];
        }
        str[g^1][n] = '\0';
        printf("%s\n",str[g^1]);
    }
    return 0;
}