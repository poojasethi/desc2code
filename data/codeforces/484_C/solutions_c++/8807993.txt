
#include <bits/stdc++.h>
using namespace std;
typedef long long LL;
const int N = 100010;

#define loop(i,a,b) for(int i=a;i<b;++i)        //[a,b)
#define rept(i,a,b) for(int i=a;i<=b;++i)       //[a,b]
#define io_speed ios_base::sync_with_stdio(0);cin.tie(0)
#define debug(x) cout<<#x<<"="<<x<<endl

typedef vector<int> Permutation;

Permutation operator * (const Permutation& A,const Permutation& B){
    Permutation C(A.size());
    for(int i=0;i<A.size();++i)
        C[i]=A[B[i]];
    return C;
}
void print(Permutation & P){
    for(int i=0;i<P.size();++i)
        cout<<P[i]<<" ";
    cout<<endl;
}
int n,m,k,d;
int main(){
    io_speed;
    
    string s;
    cin>>s>>m;
    n=s.size();
    Permutation P(n),S(n);
    for(int i=0;i<n;++i) 
        S[i]=i;
    while(m--){
        cin>>k>>d;
        for(int i=0;i<n;++i) 
            P[i]=i;
        int y=0;
        for(int i=0;i<d;++i)
            for(int j=i;j<k;j+=d)
                P[y++]=j;
        rotate(P.begin(),P.begin()+1,P.end());
        y=n-k+1;
        while(y){
            if(y&1) S=S*P;
            P=P*P;
            y>>=1; 
        }
        rotate(S.begin(),S.begin()+k-1,S.end());
        for(int i=0;i<n;++i) 
            putchar(s[S[i]]);
        puts("");
    }
    return 0;
}
