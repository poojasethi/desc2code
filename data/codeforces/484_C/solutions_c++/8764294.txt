#include<iostream>
#include<stdio.h>
#include<cstring>
#define m 1000000
#define lg 22
using namespace std;
const int N=2000005;
int k,d,i,j,x,n,Q,t,go[N][lg+2];
char s[N/2],e[N/2];


int main()
{scanf("%s",&s);
 n=strlen(s);
 scanf("%d",&Q);
 while(Q--){
     scanf("%d%d",&k,&d);
     t=n-k+1;
     x=0;
     for(i=0;i<d;i++)
       for(j=i;j<k;j+=d)go[m+j][0]=x-1,x++;
     for(i=k;i<n;i++)go[m+i][0]=i-1;
     for(i=-t;i<0;i++)go[m+i][0]=i-1;




     for(j=1;j<lg;j++){
       for(i=-t;i<n;i++)
       go[m+i][j]=go[m+go[i+m][j-1]][j-1];
       }




     for(i=0;i<n;i++){
         x=i;
         for(j=0;j<lg;j++)
          if((1<<j)&t)x=go[x+m][j];
         e[x+t]=s[i];
     }

     for(i=0;i<n;i++)s[i]=e[i];
     for(i=0;i<n;i++)putchar(s[i]);
     putchar('\n');
 }


 return 0;
}
