#include <bits/stdc++.h>
int n,k,x,y,i,j;
int main()
{
std::cin>>n>>k;
y=k*n-n+1;
printf("%d\n",n*y+(n-k+1)*(n-1)*n/2);
while(i<n){j=0;while(j<n)printf("%d ",(j<k-1)?++x:y++),j++;printf("\n");i++;}
}
