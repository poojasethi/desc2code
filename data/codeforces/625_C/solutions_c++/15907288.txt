#include <iostream>
using namespace std;
int main(){
int n,k;
cin>>n>>k;
cout<<n*(n-1)*(k-1)+((n-1)*(n-k+1)*n)/2+k*n<<endl;
for(int i=1;i<=n;i++){
for(int j=1;j<=k-1;j++) cout<<(i-1)*(k-1)+j<<" ";
for(int j=k;j<=n;j++) cout<<(n-1)*(k-1)+(i-1)*(n-k+1)+j<<" ";
cout<<endl;
}
return 0;
}