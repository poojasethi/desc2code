#include<bits/stdc++.h>
using namespace std;
int main()
{
	int n,k;
	cin>>n>>k;
	cout<<(n*(n*k-2*n+1+k+n*n))/2<<"\n";
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
			{ 
				if(j<(k-1)) cout<<j+1+(k-1)*i<<" ";
				else cout<<(n-k+1)*i+n*(k-1)+j+2-k<<" ";
			}
			cout<<"\n";
	}
	cout<<"\n";
	return 0;
}