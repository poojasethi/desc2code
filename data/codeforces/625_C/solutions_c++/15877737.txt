#include <cstdio>

using namespace std;

int n,k,i,j,p,p1,ans;
int main()
{
    scanf("%d %d",&n,&k);
    p=n*(k-1);
    printf("%d\n",(p+1+p+1+(n-k+1)*(n-1))*n/2);
    for(i=1;i<=n;++i)
	{
		p1=(k-1)*(i-1);
		for(j=1;j<k;++j) printf("%d ",p1+j);
		for(j=1;j<=n-k+1;++j) printf("%d ",p+j);
		p+=n-k+1;
		putchar('\n');
	}
    return 0;
}
