#include<cstdio>
using namespace std;
int main(){
	int n,k,res=0;
	scanf("%d%d",&n,&k);
	for(int i=1;i<=n;i++)
		res+=(k-1)*n+(i-1)*(n-k+1)+1;
	printf("%d\n",res);
	for(int i=1;i<=n;i++)
		for(int j=1;j<=n;j++)
			printf("%d%c",(j<k?(k-1)*(i-1)+j:(k-1)*n+(i-1)*(n-k+1)+j-k+1),(j<n?' ':'\n'));
}
