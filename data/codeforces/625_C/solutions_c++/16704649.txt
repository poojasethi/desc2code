#include<iostream>
using namespace std;
int main()
{
	int n,k;
	cin>>n>>k;
	int sum=(n*n*n-n*(n-k)-((n-k+1)*(n-1)*n)/2);
	cout<<sum<<endl;
	int i=1,j=n*n-n+k-(n-1)*(n-k+1);
	for(int r=0;r<n;r++){
		for(int s=0;s<k-1;s++,i++){
			cout<<i<<" ";
		}
		for(int t=0;t<n-k+1;t++,j++){
			cout<<j<<" ";
		}
		cout<<endl;
	}
}
