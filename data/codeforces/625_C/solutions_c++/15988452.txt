#include <cstdio>

typedef long long ll;

int main()
{
  ll n, k, t, s;
  scanf("%I64d%I64d", &n, &k);
  t = n*(k-1)+1, s = 0;
  printf("%I64d\n", n*t+(n-k+1)*n*(n-1)/2);
  for (ll i = 1; i <= n; ++i, puts("")) {
  	for (ll j = 1; j < k; ++j) printf("%I64d ", j+s);
  	s += k-1;
  	for (ll j = 1; j <= n-k; ++j) printf("%I64d ", j+t-1);
  	printf("%I64d", n-k+t), t += n-k+1; 
  }
}