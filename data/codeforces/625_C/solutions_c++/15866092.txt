#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
using namespace std;
int n,k;
int main(){
	scanf("%d%d",&n,&k);
	cout<<n*n*(k-1)+n+(n-k+1)*n*(n-1)/2<<endl; 
	for(int i = 1; i<=n; i++){
		for(int j = 1; j<=k-1; j++) cout<<(k-1)*(i-1)+j<<" ";
		for(int j = k; j<n; j++) cout<<n*(k-1)+j-k+1+(n-k+1)*(i-1)<<" ";
		cout<<n*(k-1)+n-k+1+(n-k+1)*(i-1)<<endl;
	}
	return 0;
}
