n, k = map(int, raw_input().split())
x = 1
y = n*k-n+1
z = n*k-n+1
s = 0
for i in range(n):
	s += z
	z += (n-k+1)
print s
for i in range(1,n+1):
	for j in range(1,n+1):
		if (j < k):
			print x,
			x += 1
		else:
			print y,
			y += 1
	print
