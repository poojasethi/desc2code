#!/usr/bin/env python
from sys import stdin as cin

def main():
    n, k = map(int, next(cin).split())
    k -= 1
    t = []
    c = 0
    a = 1
    b = k*n+1
    for _ in range(n):
        c += b
        t.append(' '.join(map(str, range(a, a+k) + range(b, b+n-k))))
        a += k
        b += n-k
    return [str(c)] + t

print '\n'.join(main()) + '\n'
