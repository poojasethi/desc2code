#!/usr/bin/env python

[n, k] = map(int, raw_input().split())

ki = (k-1) * n + 1
print n * (n*n+n*k+k-2*n+1) / 2
for i in range(1, n+1):
    s = ""
    a = (i-1)*(k-1) + 1
    b = (i-1)*(n-k+1) + ki
    for x in range(a, a+k-1):
        s += "%d " % x
    for x in range(b, b+(n-k+1)):
        s += "%d " % x
    print s
