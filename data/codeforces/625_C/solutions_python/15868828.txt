n, k = map(int, raw_input().split())
table = [[-1for i in xrange(n)] for j in xrange(n)]
left = n-k+1
sum = n*n*n + n - left*(n*(n+1))/2
print sum
done = [False for i in xrange(n*n+1)]

num = n*n - left + 1
for j in xrange(k-1, n):
	for i in xrange(n):
		table[i][j] = num
		num -= left
	num = n*n - left + 3 - k + j

num = 1
for i in xrange(n-1, -1, -1):
	for j in xrange(k-1):
		table[i][j] = num
		num += 1
	
for i in xrange(n):
	print ' '.join(map(str, table[i]))