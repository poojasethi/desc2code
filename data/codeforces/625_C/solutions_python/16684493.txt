from __future__ import print_function
n, k = map(int, raw_input().split())
t = 1
b = [[0 for x in xrange(n + 1)] for x in xrange(n + 1)]
for i in xrange(n):
	for j in xrange(k - 1):
		b[i][j] = t
		t += 1
ret = 0
for r in xrange(n):
	for c in xrange(k - 1, n):
		if c == k - 1:
			ret += t
		b[r][c] = t
		t += 1
print(ret)
for i in xrange(n):
	for j in xrange(n):
		print(b[i][j], end=" ")
	print("")

