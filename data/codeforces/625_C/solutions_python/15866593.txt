n,k = map(int,raw_input().split())
mat = [[0]*n for _ in xrange(n)]
val = 1
for i in xrange(n):
    for j in xrange(k-1):
        mat[i][j] = val 
        val += 1
op = 0
for i in xrange(n):
    op += val
    for j in xrange(k-1,n):
        mat[i][j] = val 
        val += 1
print op
for r in mat:
    for v in r:
        print v,
    print
