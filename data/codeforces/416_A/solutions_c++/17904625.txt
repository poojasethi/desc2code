#include <iostream>
#include <cstdio>
using namespace std;
int l, r, v;
int n;
char eq[5], yn[5];
int main() {
	scanf("%d", &n);
	l = -2e9;
	r = 2e9;
	for(int i = 1; i <= n; ++ i) {
		scanf("%s%d%s", eq, &v, yn);
		if(yn[0] == 'N') {
			if(eq[1] == '=')
				eq[1] = 0;
			else eq[1] = '=';
			if(eq[0] == '<')
				eq[0] = '>';
			else
				eq[0] = '<';
		}
		if(eq[1] != '=') {
			if(eq[0] == '<')
				v --;
			else
				v ++;
		}
		if(eq[0] == '<')
			r = min(r, v);
		else
			l = max(l, v);
	}
	if(l <= r) printf("%d\n", l);
	else printf("Impossible\n");
	return 0;
}