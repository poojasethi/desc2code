#include<bits/stdc++.h>
using namespace std;
int main()
{
  int n,f=-1e9-1,e=1e9+1; cin>>n;
  while(n--)
  {
    string s; int x; char c;
    cin>>s>>x>>c;
    if((s==">="&&c=='Y')||(s=="<" &&c=='N')) f=max(f,x);
    if((s==">" &&c=='Y')||(s=="<="&&c=='N')) f=max(f,x+1);
    if((s=="<="&&c=='Y')||(s==">" &&c=='N')) e=min(e,x);
    if((s=="<" &&c=='Y')||(s==">="&&c=='N')) e=min(e,x-1);
  }
  (f>e)? cout<<"Impossible" : cout<<f;
}