#include<bits/stdc++.h>
using namespace std;
int main(){
	cin.tie(0);std::ios::sync_with_stdio(false);
	long long n,x,y,mn=-2000000000,mx=2000000000;
	cin>>n;
	string s,t;
	while(n--)
	{
		cin>>s>>x>>t;
		if(t=="N")
		{
			if(s==">")	s="<=";
			else if(s=="<")	s=">=";
			else if(s==">=")	s="<";
			else if(s=="<=")	s=">";
		}
		if(s=="<")	mx=min(mx,x-1);
		else if(s=="<=")	mx=min(mx,x);
		else if(s==">=")	mn=max(mn,x);
		else if(s==">")		mn=max(mn,x+1);
	}
	(mx>=mn) ?	cout<<mn<<endl : cout<<"Impossible"<<endl;
}
	
