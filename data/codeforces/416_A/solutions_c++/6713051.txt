#include <iostream>
using namespace std;

int main()
{
	int n, b, s1=-2000000000, s2=2000000000;
	string a, c;
	
	cin>>n;
	while (n--) {
		cin>>a>>b>>c;
		if (a==">=" && c=="Y" || a=="<" && c=="N") s1=max(s1,b); 
		else if (a==">" && c=="Y" || a=="<=" && c=="N") s1=max(s1,b+1);
		else if (a=="<=" && c=="Y" || a==">" && c=="N") s2=min(s2,b);
		else s2=min(s2,b-1); 
	}
	if (s1<=s2) cout<<s1<<endl;
	else cout<<"Impossible"<<endl;
	return 0;
}
