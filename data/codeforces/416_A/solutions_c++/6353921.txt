#include <iostream>
#include <algorithm>
using namespace std;
int main(){
   int n,d,l=-1000000001,r=1000000001;
   string s1,s;
   cin >> n;
   while(n--){
       cin >> s1>>d>>s;
       if(s1==">=")  (s=="Y") ? l=max(l,d) : r=min(r,d-1);
       else if(s1=="<=") (s=="Y") ? r=min(r,d) : l=max(l,d+1);
       else if (s1==">") (s=="Y") ? l=max(l,d+1) : r=min(r,d);
       else (s=="Y") ? r=min(r,d-1) : l=max(l,d);
   }
   if(l>r) cout << "Impossible";
   else cout << l;
   return 0;
}
