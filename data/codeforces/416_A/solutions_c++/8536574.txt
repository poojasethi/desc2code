#include <cstdio>
#include <algorithm>
using namespace std;
const int inf=2e9;
int n,l=-inf,r=inf;
void read(){
	char s[5],f[5]; int x;
	scanf("%s%d%s",s,&x,f);
	if(f[0]=='N'){
		if(s[0]=='>') s[0]='<'; else s[0]='>';
		if(s[1]=='=') s[1]=0; else s[1]='=';
	}
	if(s[0]=='>'){
		if(s[1]!='=') x++;
		l=max(l,x);
	}
	else{
		if(s[1]!='=') x--;
		r=min(r,x);
	}
}
int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++) read();
	if(l>r) puts("Impossible");
	else
		printf("%d\n",l);
}
