#include <bits/stdc++.h>
using namespace std;

int main()
{ long long int n,m,l=-1000000001,r=1000000001;
char c;cin>>n;
string x;
for(int i=0;i<n;i++)
{cin>>x>>m>>c;
if(c=='Y')
{
    if(x==">=") l=max(l,m);
else if(x==">" ) l=max(l,m+1);
   else if(x=="<=") r=min(r,m);
   else if(x=="<" )r=min(r,m-1);
}
if(c=='N')
{
    if(x=="<") l=max(l,m);
  else if(x=="<=") l=max(l,m+1);
   else if(x==">" ) r=min(r,m);
   else  if(x==">=") r=min(r,m-1);
}

}
if(l>r)cout<<"Impossible";
else cout<<l;

}