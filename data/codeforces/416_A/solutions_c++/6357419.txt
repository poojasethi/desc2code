#include<iostream>
#include<cstdio>
#include<string>
using namespace std;
int main()
{
  int n,l,r,x;
  l=-2e9;
  r=2e9;
  cin>>n;
  string s;
  char c;
  while(n--)
  {
      cin>>s>>x>>c;
      if(s==">=") (c=='Y')?l=max(l,x):r=min(r,x-1);
      else if(s==">") (c=='Y')?l=max(l,x+1):r=min(r,x);
      else if(s=="<=") (c=='Y')?r=min(r,x):l=max(l,x+1);
      else if(s=="<") (c=='Y')?r=min(r,x-1):l=max(l,x);
  }
  (l<=r)?cout<<l<<endl:cout<<"Impossible"<<endl;
  return 0;
}
