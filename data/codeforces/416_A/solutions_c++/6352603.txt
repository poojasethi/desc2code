#include <iostream>
#include <string.h>
using namespace std;
char s[100],ans;
int main(){
	int l,r,n,i,k,x;
	l=-2000000000;
	r=2000000000;
	cin>>n;
	for(i=0;i<n;i++){
		s[1]='1';
		cin>>s>>x>>ans;
		if(ans=='Y'){
			if(s[0]=='>'){
				if(s[1]=='=') x--;
				if(l<=x) l=x+1;
			}
			else{
				if(s[1]=='=') x++;
				if(r>=x) r=x-1;
			}
		}		
		else{
			if(s[0]=='>'){
				if(s[1]=='=') x--;
				if(r>=x) r=x;
			}
			else{
				if(s[1]=='=') x++;
				if(l<=x) l=x;
			}
		}
	}
	if(l<=r) cout<<l;
	else cout<<"Impossible";
	return 0;
}
