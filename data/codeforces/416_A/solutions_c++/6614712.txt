#include <iostream>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>

using namespace std;

int n;

int main()
{
	scanf("%d", &n);
	int l = -2000000000, r = -l;
	char s[3], t[3];
	int x, y;
	for (int i = 1; i <= n; ++i)
	{
		scanf("%s %d %s", s, &x, t);
		y = (s[0] == '<'); 
		if (s[1] != '=')
			x -= y * 2 - 1;
		if (t[0] == 'N')
		{
			y ^= 1;
			x -= y * 2 - 1;
		}
		if (!y)
			l = max(l, x);
		else
			r = min(r, x);
	}
	if (l > r)
		printf("Impossible\n");
	else
		printf("%d\n", l);
	return 0;
}
