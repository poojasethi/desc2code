#include <bits/stdc++.h>
using namespace std;

int main()
{
	int n, x, l = INT_MIN, r = INT_MAX;
	char s[3], c;
	scanf("%d\n", &n);
	while(n--)
	{
		scanf("%s %d %c\n", s, &x, &c);
		if(s[1] != '=')
			if(s[0] == '>')
				x++;
			else
				x--;
		if(s[0] == '>')
			if(c == 'Y')
				l = max(l, x);
			else
				r = min(r, x - 1);
		else
			if(c == 'Y')
				r = min(r, x);
			else
				l = max(l, x + 1);
	}
	if(l > r)
		printf("Impossible");
	else
		printf("%I64d", ((long long)l + r) >> 1);
	return 0;
}