#include<iostream>
#include<stdio.h>
#include<stdlib.h>
#include<math.h>
#include<algorithm>
#include<string.h>
using namespace std;
int n,l=-2000000000,r=2000000000;string a,b;
int main()
{cin>>n;
 while(n--)
   {
	int x;
	cin>>a>>x>>b;
	if(a==">="){if(b=="Y")l=max(l,x-1);else r=min(r,x);}
	if(a==">")if(b=="Y")l=max(l,x);else r=min(r,x+1);
	if(a=="<=")if(b=="Y")r=min(r,x+1);else l=max(l,x);
	if(a=="<")if(b=="Y")r=min(r,x);else l=max(l,x-1);
   }
 if(l+2<=r) printf("%d\n",l+1);
 else puts("Impossible");
 return 0;
}