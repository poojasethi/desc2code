#include <cstdio>
int	lf, ri, x, t1, t2, n;
char	s[10];
int	main()
{
//	freopen("a.in", "r", stdin);
//	freopen("a.out", "w", stdout);
	lf = -2000000000; ri = 2000000000;
	scanf("%d", &n);
	for (int i=1; i<=n; i++)
	{
		scanf("%s", s);
		t1 = (s[0] == '<');
		t2 = (s[1] == '=');
		scanf("%d%s", &x, s);
		if (s[0] == 'N') t1^=1, t2^=1;
		if (t1)
		{
			if (!t2) x--;
			if (x < ri) ri = x;
		}
		else
		{
			if (!t2) x++;
			if (x > lf) lf = x;
		}
	}
	if (lf <= ri) printf("%d\n", lf);
	else printf("Impossible\n");
	return 0;
}