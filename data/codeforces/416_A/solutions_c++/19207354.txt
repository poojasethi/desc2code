#include<bits/stdc++.h>
using namespace std;
const int INF=2000000000;
int main()
{
	int n,x;
	cin>>n;
	int high=INF,low=-INF;
	for(int i=0; i<n; i++)
	{
		char s[5]={},t[5];
		scanf("%s%d%s",s,&x,t);
		if(t[0]=='N')
		{
			s[1]^='=';
			s[0]^='<'^'>';
		}
		if(s==string(">")) low=max(low,x+1);
		if(s==string("<"))	high=min(high,x-1);
		if(s==string(">=")) low=max(low,x);
		if(s==string("<="))high=min(high,x);
	}
	if(low<=high) printf("%d\n",low);
	else printf("Impossible\n");
	return 0;
}
                                                       