#include<iostream>
#include<stdio.h>
#include<algorithm>
#include<string>
using namespace std;
int a,s,d,f=-1000000010,g=1000000100,h,j,k,l,i,n,m;
string x,z;
main(){
cin>>n;
for(i=0;i<n;i++){
cin>>x>>a>>z;
if(x==">=") k=1;
if(x==">") k=2;
if(x=="<") k=3;
if(x=="<=") k=4;
if(z=="N") if(k>2) k-=2; else k+=2;
if(k==1) f=max(a,f);
if(k==2) f=max(a+1,f);
if(k==3) g=min(a-1,g);
if(k==4) g=min(a,g);
}
if(g<f) cout<<"Impossible"; else cout<<g;
}