#include<bits/stdc++.h>
using namespace std;
int main(){int n,mm=-2*1000000000,mx=-mm;cin>>n;for(int i=0;i<n;i++){string q,a;int k;cin>>q>>k>>a;if(a=="N"){if(q==">=")q="<";else if(q=="<")q=">=";else if(q=="<=")q=">";else q="<=";}if(q==">")mm=max(mm,k+1);else if(q==">=") mm=max(mm,k);else if(q=="<")mx=min(mx,k-1);else mx=min(mx,k);}    if(mm<=mx)cout<<mm;else cout<<"Impossible";}
