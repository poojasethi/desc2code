#include <iostream>
#include <cstdio>

using namespace std;

int n,l=-1e9-1,r= 1e9+1,k;
string o,q;

int main(){
    cin >> n;
    for(int i=0;i<n;i++){
        cin >> o >> k >> q;
        if(o==">=") q == "Y" ? l=max(l,k): r=min(r,k-1);
        if(o=="<=") q == "Y" ? r=min(r,k): l=max(l,k+1);
        if(o==">") q == "Y" ? l=max(l,k+1): r=min(r,k);
        if(o=="<") q == "Y" ? r=min(r,k-1): l=max(l,k);
    }
    if(l<=r){cout<<l<<"\n";return 0;}
    cout << "Impossible" << "\n";
}