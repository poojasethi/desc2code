#include<bits\stdc++.h>
using namespace std;
int main()
{
    int t,m=-2e9,x=2e9,n;
    cin>>t;
    while (t--)
    {
        string b, a;
        cin >> a >> n >> b;
        if (a == ">=") b == "Y" ? m = max(m, n) : x = min(x, n - 1);
        else if (a == "<")b == "Y" ? x = min(x, n - 1) : m = max(m, n);  
        else if (a == "<=")b == "Y" ? x = min(x, n) : m = max(m, n + 1);
        else if (a == ">")b == "Y" ? m = max(m, n + 1) : x = min(x, n);
    }
    
    if (m > x)cout<<"Impossible";
    else cout<<m;
}