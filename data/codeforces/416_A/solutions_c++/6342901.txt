#include <iostream>

using namespace std;

int main()
{
    int n;
    cin >>n;
    int l=-2000000000, r=2000000000;
    for(int i=1;i<=n;i++)
	{
		string s;
		char c;
		int x;
		cin >>s>>x>>c;
		if (s==">=")
		{
			if (c=='Y') l=max(x, l); else r=min(x-1, r);
		}
		if (s=="<=")
		{
			if (c=='Y') r=min(r, x); else l=max(x+1, l);
		}
		if (s=="<")
		{
			if (c=='Y') r=min(x-1, r); else l=max(l,x);
		}
		if (s==">")
		{
			if (c=='Y') l=max(x+1, l); else r=min(r, x);
		}
	}
	if (l>r) cout<<"Impossible"; else cout<<l;
    return 0;
}
