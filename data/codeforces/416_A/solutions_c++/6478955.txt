#include <iostream>
#include <string>
using namespace std;
int r=1000000001,l=-1000000001;
int n;
int t;
string s;
char c;
int main(){
	cin>>n;
	for(int i = 1; i <= n; ++i)
    {
		cin>>s>>t>>c;
		if((s == ">=" && c == 'Y') || (s == "<" && c == 'N'))
			l = max(t,l);
		else
		if((s == "<=" && c == 'Y') || (s == ">" && c == 'N'))
			r = min(t,r);
		else
		if(s == ">" || s == "<=")
			l = max(t+1,l);
		else
			r = min(t - 1,r);

	}
	if(r < l)
		cout<<"Impossible\n";
	else
		cout<<l<<endl;
		//system("pause");
	return 0;
}
