#include <cstdio>
#include <iostream>
#include <algorithm>
using namespace std;

int main() {
	const int INF = 2000000000;
	int n, l = -INF, r = INF;
	scanf("%d", &n);
	for (int i = 0; i < n; ++i) {
		char s[5]; int x; char f[2];
		scanf("%s%d%s", s, &x, f);
		if (f[0] == 'N') {
			s[0] = s[0] == '<' ? '>' : '<';
			s[1] = s[1] ? 0 : '=';
		}
		if (!s[1]) s[0] == '>' ? ++x : --x;
		if (s[0] == '>') l = max(l, x);
		else r = min(r, x);
	}
	if (l <= r) printf("%d\n", l);
	else puts("Impossible");
}