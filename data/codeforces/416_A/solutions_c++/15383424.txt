#include<bits/stdc++.h>

int main()
{
	int l=-9999999999 , r=-l , n ;
	char s[3], t[3];
	int k, f ;
	scanf("%d", &n) ;
	while(n--)
	{
		scanf("%s %d %s", s, &k, t) ;
		f=(s[0]=='<') ;
		if (s[1]!='=')
			k-=f*2-1 ;
		if(t[0]=='N')
		{
			f^=1 ;
			k-=f*2-1;
		}
		if (!f)
			l=l>k?l:k ;
		else
			r=r<k?r:k ;
	}
	if (l>r)
		printf("Impossible\n") ;
	else
		printf("%d\n",l) ;
	return 0 ;
}