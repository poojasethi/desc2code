
f={'>=':'<','<':'>=','>':'<=','<=':'>'}

r=10**9+10
l=-r
for i in range(input()):
    t,v,b=raw_input().split()
    v=int(v)
    if b == 'N':
        t=f[t]
    if t[0] == '>':
        if l <= v:
            l=v+(len(t)<2)
    else:
        if r >= v:
            r=v-(len(t)<2)
if l>r:
    print 'Impossible'
else:
    print l