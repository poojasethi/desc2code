n=int(raw_input())
low=-2*(10**9)
hi=2*(10**9)
ok=True
Not={'>':'<=','<':'>=','<=':'>','>=':'<'}
for i in range(n):
	a,b,c=raw_input().split()
	b=int(b)
	if c=='N':
		a=Not[a]
	if a=='<': hi=min(hi,b-1)
	elif a=='<=': hi=min(b,hi)
	elif a=='>': low=max(low,b+1)
	elif a=='>=': low=max(low,b)
	#print low,hi
	if(low>hi):
		print 'Impossible'
		ok=False
		break
if(ok):
	print low