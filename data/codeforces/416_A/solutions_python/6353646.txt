nn = int(raw_input())

lo = -1000000005
hi = 1000000005
for i in range(nn):
  sign, val, ans = raw_input().strip().split()
  val = int(val)
  if (sign == ">" and ans == "Y") or (sign == "<=" and ans == "N"):
    lo = max(lo,val+1)
  elif (sign == "<" and ans == "Y") or (sign == ">=" and ans == "N"):
    hi = min(hi, val-1)
  elif (sign == ">=" and ans == "Y") or (sign == "<" and ans == "N"):
    lo = max(lo, val)
  else:
    hi = min(hi, val)

if lo > hi: print "Impossible"
else: print lo
