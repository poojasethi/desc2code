mapping = {'>=' : '<', '<' : '>=', '<=' : '>', '>' : '<='}
low, high, n = -2*(10**9), 2*10**9, int(raw_input())
for _ in range(n):
	x, y, z = raw_input().split()
	if z == 'N': x = mapping[x]
	if x == '>=': low = max(int(y), low)
	elif x == '>': low = max(int(y) + 1, low)
	elif x == '<=': high = min(int(y), high)
	elif x == '<': high = min(int(y) - 1, high)
if low <= high: print low
else: print 'Impossible'
