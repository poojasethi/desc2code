left = int(-2e9); right = int(2e9)

for i in xrange(input()):
	s = raw_input().split()
	z  = s[0]
	g = int(s[1])
	if s[2]=='Y':
		if z=='>': left = max(g+1,left)
		elif z=='>=': left = max(g,left)
		elif z=='<': right = min(g-1,right)
		else: right = min(g,right)
	else:
		if z=='>': right = min(g,right)
		elif z=='>=': right = min(g-1,right)
		elif z=='<': left = max(g,left)
		else: left = max(g+1,left)
	if left>right: print 'Impossible'; break
else:
	print (left+right)/2
	
