def main():
	n = input()
	left, right = -10 ** 9 - 2, 10 ** 9 + 2
	dic = {">" : "<=", ">=" : "<", "<" : ">=", "<=" : ">"}
	for i in xrange(n):
		s = map(str, raw_input().split())
		a = int(s[1])
		if "N" == s[2]: s[0] = dic[s[0]]
		if ">" == s[0]: left = max(left, a)
		elif ">=" == s[0]: left = max(left, a - 1)
		elif "<" == s[0]: right = min(right, a)
		else: right = min(right, a + 1)
	print left + 1 if left < right - 1 else "Impossible"

if __name__ == "__main__": main()