#!/usr/bin/env python
n = input()
inf = 2 * 1000000000
y = [-inf, inf]
for _ in range(n):
	comp, val, res = raw_input().split()
	val = int(val)
	if comp == '<':
		comp, val = '<=', val-1
	elif comp == '>':
		comp, val = '>=', val+1

	if res == 'Y':
		if comp == '<=':
			y[1] = min(val, y[1])
		else:
			y[0] = max(val, y[0])
	else:
		if comp == '<=':
			y[0] = max(val+1, y[0])
		else:
			y[1] = min(val-1, y[1])

if y[0] > y[1]:
	print 'Impossible'
else:
	print y[0]