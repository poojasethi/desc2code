#!/usr/bin/env python

import sys
import logging
import traceback

n = input()

Min = -2 * 10**9
Max = 2 * 10**9

def opposite(rel): 
    if rel == '>': 
        rel = '<='
    elif rel == '>=': 
        rel = '<'
    elif rel == '<':
        rel = '>='
    else: 
        rel = '>'
    return rel

for _ in range(n):
    relation, num, flag = raw_input().split()

    if flag == 'Y': 
        pass
    else: 
        relation = opposite(relation)
        
    num = int(num)

    if relation == '>': 
        Min = max(Min, num + 1)
    elif relation == '>=': 
        Min = max(Min, num)
    elif relation == '<=': 
        Max = min(Max, num)
    elif relation == '<': 
        Max = min(Max, num - 1)

if Min <= Max: 
    print Min
else: 
    print 'Impossible'
