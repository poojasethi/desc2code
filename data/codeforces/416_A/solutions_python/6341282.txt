n=input()
a,b = -2 * 10**9, 2 * 10**9
c = {'<': '>=', '<=': '>','>=': '<','>': '<='}

for i in range(n):
  x,s,v = raw_input().split()
  if v=='N':
    x = c[x]
  s = int(s)
  if x == '<':
    b = min(b, s-1)
  if x == '<=':
    b = min(b, s)
  if x == '>':
    a = max(a, s+1)
  if x == '>=':
    a = max(a, s)



if a <= b:
  print a
else:
  print 'Impossible'
