n = int(raw_input())

imp = False
e1 = ">="
e2 = ">"
e3 = "<="
e4 = "<"
e = {}
e[">="] = "<"
e[">"] = "<="
e["<"] = ">="
e["<="] = ">"
low = -2000000000
high = -1*low

for _ in range(n):
	l = raw_input().split()
	# print l
	eq = l[0]
	num = int(l[1])
	val = l[2]
	if val == 'N':
		eq = e[eq]
	if eq == e1:
		low = max(low, num)
	if eq == e2:
		low = max(low, num + 1)
	if eq == e3:
		high = min(num, high)
	if eq == e4:
		high = min(num-1, high)

if high < low:
	print "Impossible"
else:
	print low