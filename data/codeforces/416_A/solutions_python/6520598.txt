n=input()
c=-2*10**9
d=2*10**9
while n>0:
   a,b,x=raw_input().split()
   b=int(b)
   if (a==">=" and x=="Y") or (a=="<" and x=="N"):
        c=max(b,c)

   if (a=="<=" and x=="Y") or (a==">" and x=="N"):
        d=min(b,d)

   if (a==">" and x=="Y") or (a=="<=" and x=="N"):
        c=max(b+1,c)
    
   if (a=="<" and x=="Y") or (a==">=" and x=="N"):
        d=min(b-1,d)
   n=n-1
if c>d:
    print "Impossible"
else:
    print c

    
    
