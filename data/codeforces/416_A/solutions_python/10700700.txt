T=input()
r1=-10**9-1
r2=10**9+1
for _ in xrange(T):
	s=raw_input().split()
	x=int(s[1])
	if(s[0]=='>'):
		if(s[2]=='Y'):
			r1=max(r1,x+1)
		else:
			r2=min(r2,x)
	if(s[0]=='<'):
		if(s[2]=='Y'):
			r2=min(r2,x-1)
		else:
			r1=max(r1,x)
	if(s[0]=='>='):
		if(s[2]=='Y'):
			r1=max(r1,x)
		else:
			r2=min(r2,x-1)
	if(s[0]=='<='):
		if(s[2]=='Y'):
			r2=min(r2,x)
		else:
			r1=max(r1,x+1)
if(r1>r2):
	print "Impossible"
else:
	print r1
