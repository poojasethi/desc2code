#! python2

n = int(raw_input())

maxxx = 2000000000

a, b = -maxxx, maxxx

ok = True

for _ in xrange(n):
    op, x, ans = raw_input().split()
    
    x = int(x)
    
    if ans == 'N':
        if op == '>':
            op = '<='
        elif op == '<':
            op = '>='
        elif op == '>=':
            op = '<'
        else:
            op = '>'
            
    if op == '>':
        op = '>='
        x += 1
    elif op == '<':
        op = '<='
        x -= 1
    
    if op == '>=':
        ra, rb = x, maxxx
    else:
        ra, rb = -maxxx, x
        
    
    a = max(a, ra)
    b = min(b, rb)
    
    if a > b:
        ok = False
        break
        
if ok:
    print a
else:
    print 'Impossible'