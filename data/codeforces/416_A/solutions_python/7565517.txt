R=2*10**9;L=-R
for i in range(input()):
 a,b,c=raw_input().split();x=a[0]=='>';b=int(b)-(x==len(a)-1)
 if(c=='Y')^x:R=min(R,b)
 else:L=max(L,b+1)
print[L,"Impossible"][R<L]