lo = -1000000005
hi = 1000000005

signs = [">", "<", ">=", "<="]

nn = int(raw_input())
for x in range(nn):
  sign, val, ntrue = raw_input().strip().split()
  val = int(val)

  if ntrue == "N":
    for k in range(len(signs)):
      if sign == signs[k]:
        sign = signs[3-k]
        break

  if sign == ">":
    lo = max(val+1,lo)
  elif sign == "<":
    hi = min(val-1,hi)
  elif sign == ">=":
    lo = max(val,lo)
  else:
    hi = min(val,hi)

if lo <= hi: print lo
else: print "Impossible"
