
def reverse(u):
	if(u==">"):
		return "<="
	elif(u=="<"):
	 	return ">="
	elif(u==">="):
	 	return "<"
	else:
	 	return ">"

n=input()
mx=-1000000001
mn=1000000001
while n:
	u,v,w=raw_input().split();
#	print u,v,w
	if(w=='N'):
		u = reverse(u)
	if(u==">"):
		if(mx < int(v)+1):
			mx=int(v)+1
	if(u==">="):
		if(mx < int(v)):
			mx=int(v)
	if(u=="<"):
		if(mn>int(v)-1):
			mn=int(v)-1
	if(u=="<="):
		if(mn>int(v)):
			mn=int(v)
	n=n-1;
if(mx>mn):
	print "Impossible"
else:
	print mn
