#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;
typedef long double LD;
LD f[1005], ans;
int sum[1005];
int cnt[1005];
int pos[1005];
int n,m,N,i,j;
int K,n1,n2,x;
typedef pair<int,int> PR;
PR a[1005];
#define fi first
#define se second
#define mp make_pair

int main(){
  scanf("%d%d",&n,&m);
  for (i=1;i<=m;i++){
    scanf("%d",&K);
    sum[i] = K;
    while (K--){
      scanf("%d",&x);
      a[++N] = mp(x,i);
    }
  }
  sort(a+1,a+N+1);
  for (i=1;i<=N/2;i++)
    swap(a[i],a[N-i+1]);
  for (n1=n-1;n1>0;n1--)
  if (a[n1].fi!=a[n].fi) break;
  ans = 1;
  for (i=1;i<=n1;i++){
    ans = ans*(cnt[a[i].se]+1)/(sum[a[i].se]-cnt[a[i].se]);
    cnt[a[i].se]++;
  }

  for (n2=n+1;n2<=N;n2++)
  if (a[n2].fi!=a[n].fi) break;
  for (i=n1+1;i<n2;i++)
    pos[i-n1] = a[i].se;
  n2 = n2-1-n1; n1 = n-n1;

  f[0] = 1;
  for (i=1;i<=n2;i++)
    for (j=i;j>0;j--)
      f[j] += f[j-1]*(cnt[pos[i]]+1)/(sum[pos[i]]-cnt[pos[i]]);
  ans *= f[n1];
  for (i=1;i<=n1;i++) ans*=i;
  for (i=1;i<=n2-n1;i++) ans*=i;
  for (i=1;i<=n2;i++) ans/=i;
  printf("%.10lf\n",(double)ans);
  return 0;
}