#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <algorithm>
#include <functional>

using namespace std;

enum {MAXN = 1010};
int cobj[MAXN],price[MAXN][MAXN],sp[MAXN];
double f[MAXN][MAXN],C[MAXN][MAXN];

int main()
{
  int m,n;
  scanf("%d%d",&m,&n);
  
  int ctot = 0;
  for(int i = 1;i <= n;i++)
    {
      scanf("%d",&cobj[i]);
      for(int j = 0;j < cobj[i];j++)
	{
	  scanf("%d",&price[i][j]);
	  sp[ctot++] = price[i][j];
	}
      
      sort(price[i],price[i] + cobj[i],greater<int>());
    }

  sort(sp,sp + ctot,greater<int>());
  const int lv = sp[m - 1];

  f[0][0] = 1;
  int cnta = 0,cntb = 0;

  C[0][0] = 1;
  for(int i = 1;i <= 1000;i++)
    {
      C[i][0] = C[i][i] = 1;
      for(int j = 1;j < i;j++) C[i][j] = C[i-1][j-1] + C[i-1][j];
    }

  for(int i = 1,a,b;i <= n;i++)
    {
      for(a = 0;a < cobj[i] && price[i][a] > lv;a++);
      for(b = 0;a + b < cobj[i] && price[i][a + b] == lv;b++);

      for(int j = 0;j <= cntb + b;j++)
	{
	  f[i][j] = 0;
	  for(int k = 0;k <= b;k++)
	    if (j - k <= cntb)
	      f[i][j] += f[i-1][j-k] * C[cntb][j-k] / (C[cobj[i]][a + k] * C[cntb + b][j]);
	}

      cnta += a,cntb += b;
    }

  printf("%.10f\n",f[n][m - cnta]);
  return 0;
}
