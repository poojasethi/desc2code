#include <iostream>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <algorithm>

using namespace std;

inline bool cmp(int x,int y)
{
    return x>y;
}

int n,m,mid,l,o;
int a[1010],b[1010][1010],c[1010],p[1010],d[1010],tot;
double w[1010][1010];
double f[1010][1010];
long long g[1010][1010];

double C(int n,int m)
{
    double res=1.0;
    for(int i=m;i>=1;i--)
        res*=i,res/=n-i+1;
    return res;
}

int main()
{
    scanf("%d%d",&n,&m);
    for(int i=1;i<=m;i++)
    {
        scanf("%d",&a[i]);
        for(int j=1;j<=a[i];j++)
            scanf("%d",&b[i][j]),d[++tot]=b[i][j];
    }
    sort(d+1,d+tot+1,cmp);
    for(int i=1;i<=m;i++)
        for(int j=1;j<=a[i];j++)
            if(b[i][j]==d[n]) c[i]++,o++;
            else if(b[i][j]>d[n]) p[i]++,l++;
    for(int i=1;i<=m;i++)
    {
        w[i][0]=C(a[i],p[i]);
        if(c[i]) w[i][1]=C(a[i],p[i]+1);
    }
    l=n-l;
    f[0][0]=1.0; 
    for(int i=1;i<=m;i++)
        for(int j=l;j>=0;j--)
            for(int k=0;k<=c[i];k++)
                if(j>=k) f[i][j]+=f[i-1][j-k]*w[i][k];
    printf("%.15lf",f[m][l]*C(o,l));
    return 0;
}