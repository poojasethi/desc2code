#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 1000010
#define P(x,y) (P=='&'?i&j:P=='^'?i^j:i|j)
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m;
char p[N];
int dfs(int l,int r) {
	if (l==r) return p[l]=='0'?1:p[l]=='1'?8:6;
	int i,j,s=0;
	l++,r--;
	For(i,l,r) {
		if (p[i]=='(') s++;
		if (p[i]==')') s--;
		if (!s) break;
	}
	char P=p[i+1];
	int A=dfs(l,i),B=dfs(i+2,r),C=0;
	For(i,0,3)For(j,0,3) if (A>>i&1&&B>>j&1) C|=1<<P(i,j);
	return C;
}
int main() {
	scanf("%d",&n);
	scanf("%s",p+1);
	n=strlen(p+1);
	if (dfs(1,n)&6) printf("YES\n");
	else printf("NO\n");
	//for(;;);
	return 0;
}
