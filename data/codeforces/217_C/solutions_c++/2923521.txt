#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <bitset>
#include <iostream>
using namespace std;


typedef bitset<3> res_t;

res_t solve()
{
  char ch = getchar();
  if (ch != '(')
    return ch == '?' ? res_t(4) : ch == '1' ? res_t(2) : res_t(1);
  else
    {
      res_t l = solve();
      ch = getchar();
      res_t r = solve();
      getchar();
      
      res_t res;
      if (ch == '&')
	{
	  res[0] = l[0] || r[0] || (l[2] && r[2]);
	  res[1] = l[1] && r[1];
	  res[2] = (l[2] && r[2]) || (l[1] && r[2]) || (l[2] && r[1]);
	} 
      else if (ch == '|')
	{
	  res[0] = l[0] && r[0];
	  res[1] = l[1] || r[1] || (l[2] && r[2]);
	  res[2] = (l[2] && r[2]) || (l[2] && r[0]) || (r[2] && l[0]);
	}
      else
	{
	  res[0] = (l[0] && r[0]) || (l[1] && r[1]) || (l[2] && r[2]);
	  res[1] = (l[0] && r[1]) || (l[1] && r[0]) || (l[2] && r[2]);
	  res[2] = ((l[0] || l[1]) && r[2]) || ((r[0] || r[1]) && l[2]);
	}
      return res;
    }
}

int main()
{
  int n;
  scanf("%d\n",&n);
  puts(solve()[2] ? "YES" : "NO");
  return 0;
}
