#include<cstdio>
#define rep(i,n) for(int i=0;i<n;i++)
#define N 1000010
int sz,n;
bool f[N][2][2];
int Calc()
{
	int x=sz++;
	char ch=getchar();
	if (ch=='(')
	{
		int l=Calc();
		ch=getchar();
		int r=Calc();
		getchar();
		rep(a,2) rep(b,2) if (f[l][a][b])
    		rep(c,2) rep(d,2) if (f[r][c][d])
    		    if (ch=='&') f[x][a&c][b&d]=1; else
    		    if (ch=='|') f[x][a|c][b|d]=1; else
    		    if (ch=='^') f[x][a^c][b^d]=1;
	}
	else if (ch=='0') f[x][0][0]=1;
	else if (ch=='1') f[x][1][1]=1;
	else f[x][0][1]=f[x][1][0]=1;
	return x;
}
int main()
{
	scanf("%d ",&n);
	if (f[Calc()][0][1]) puts("YES"); else puts("NO");
	return 0;
}
