#include<cstdio>
#include<cstring>
const int N=1000001;
char s[N];
bool dp[N][2][2];
int stack[N],f[N];
int main()
{
	int i,n,l,r,t,x,y,a,b,op;
	scanf("%d%s",&n,s);
	n=strlen(s)-1;
	for(t=i=0;i<=n;i++)
	{
		if(s[i]=='&'||s[i]=='|'||s[i]=='^')continue;
		else if(s[i]=='(')stack[++t]=i;
		else if(s[i]=='0')dp[i][0][0]=1;
		else if(s[i]=='1')dp[i][1][1]=1;
		else if(s[i]=='?')dp[i][0][1]=dp[i][1][0]=1;
		else
		{
			f[i]=stack[t--];
			op=s[i-1]==')'?f[i-1]-1:i-2;
			l=op-1;
			r=i-1;
			for(a=0;a<2;a++)
			{
				for(b=0;b<2;b++)
				{
					if(!dp[l][a][b])continue;
					for(x=0;x<2;x++)
					{
						for(y=0;y<2;y++)
						{
							if(!dp[r][x][y])continue;
							if(s[op]=='&')dp[i][a&x][b&y]=1;
							else if(s[op]=='|')dp[i][a|x][b|y]=1;
							else dp[i][a^x][b^y]=1;
						}
					}
				}
			}
		}
	}
	if(dp[n][0][1]||dp[n][1][0])printf("YES\n");
	else printf("NO\n");
	return 0;
}
		 	 		    		 			  		  		 	 	 	