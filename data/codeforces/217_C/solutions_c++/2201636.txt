//admire meret
#include <cstdio>
#include <iostream>
#include <cstring>
#define Rep(i,j,k) for (int i=(j); i<=(k); i++)
using namespace std;

int n,b[1100000],atot;
struct T{bool G[2][2];T(){memset(G,0,sizeof G);}};

T doit(){
	char s;
	scanf("%c",&s);
	
	if (s!='('){
		T ret;
		if (s=='?') ret.G[0][1]=ret.G[1][0]=1;
		if (s=='0') ret.G[0][0]=1;
		if (s=='1') ret.G[1][1]=1;
		return ret;
	}
	
	T left=doit();
	char op; scanf("%c",&op);
	T right=doit();
	
	T ret;
	Rep(s0,0,1)	Rep(s1,0,1) if (left.G[s0][s1])
		Rep(t0,0,1) Rep(t1,0,1) if (right.G[t0][t1])
			if (op=='&') ret.G[s0&t0][s1&t1]=1; else
			if (op=='|') ret.G[s0|t0][s1|t1]=1; else
			if (op=='^') ret.G[s0^t0][s1^t1]=1;
	
	scanf("%c",&s);// ')'
	return ret;
}

int main(){	
	int _; cin>>_;
	
	getchar();
	T ans=doit();
	if (ans.G[0][1] || ans.G[1][0])
		puts("YES");
	else
		puts("NO");

    return 0;
}
