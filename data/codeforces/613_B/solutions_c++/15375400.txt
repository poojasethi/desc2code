#include<bits/stdc++.h>
#define se second
#define fi first
#define inf 1e18
#define pb push_back
using namespace std;
typedef pair<int,int> ii;
typedef long long ll;

int n,ma,cf,cm,re1,re2,pr[100005],j;
ii a[100005];
ll m,c[100005],d[100005],re,temp,re3;

int main(){
cin>>n>>ma>>cf>>cm>>m;
for(int i=0;i<n;i++){
    cin>>a[i].fi;
    a[i].se=i;
}
sort(a,a+n);
d[0]=0;
for(int i=1;i<n;i++) d[i]=d[i-1]+i*(a[i].fi-a[i-1].fi);
c[n]=0;re=-1;
for(int i=n-1;i>=0;i--) c[i]=c[i+1]+ma-a[i].fi;
for(int i=n;i>=0;i--){
    if(c[i]>m) break;
    j=upper_bound(d,d+n,m-c[i])-d;
    j--;
    j=min(j,max(i-1,0));
    temp=m-c[i]-d[j];
    temp/=(j+1);
    if(temp>=ma-a[j].fi){
        re=(ll)n*(ll)cf+(ll)ma*(ll)cm;
        re1=0;
        re2=-1;
    }
    else if((n-i)*cf+(a[j].fi+temp)*cm>re){
        re=(ll)(n-i)*(ll)cf+(ll)(a[j].fi+temp)*(ll)cm;
        re1=i;re2=j;
        re3=a[j].fi+temp;
    }
}
for(int i=n-1;i>=re1;i--) a[i].fi=ma;
for(int i=0;i<=re2;i++) a[i].fi=re3;
cout<<re<<endl;
for(int i=0;i<n;i++) pr[a[i].se]=a[i].fi;
for(int i=0;i<n;i++) cout<<pr[i]<<" ";
cout<<endl;
return 0;
}
