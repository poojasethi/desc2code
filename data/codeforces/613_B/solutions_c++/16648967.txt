#include <bits/stdc++.h>

#define FI(i,a,b) for(int i=(a);i<=(b);i++)
#define FD(i,a,b) for(int i=(a);i>=(b);i--)

#define LL long long
#define PI 3.14159265358979

#define PII pair<int,int>
#define PLL pair<LL,LL>
#define mp make_pair
#define fi first
#define se second

using namespace std;

int n,a,res[100005];
PII pt[100005];

LL cf,cm,m,ps[100005];

LL ra=-1,rb,pa,pb;
LL cost,rem;

int main(){
	scanf("%d %d %lld %lld %lld",&n,&a,&cf,&cm,&m);
	FI(i,1,n) scanf("%d",&pt[i].fi),pt[i].se=i;
	sort(pt+1,pt+n+1);
	FI(i,1,n) ps[i]=ps[i-1]+pt[i].fi;
	int l=n;
	FD(i,n,1){
		pa=n-i;
		
		LL cost=1LL*a*(n-i)-(ps[n]-ps[i]);
		while(l && cost+1LL*pt[l].fi*l-ps[l]>m) l--;
		l=min(l,i);
		if(!l) break;
		else{
			rem=m-(cost+1LL*pt[l].fi*l-ps[l]);
			pb=min(1LL*a,pt[l].fi+rem/l);
		}
		if(pb==a) pa=n;
		if(pa*cf+pb*cm>ra*cf+rb*cm){
			ra=pa;
			rb=pb;
		}
	}
	printf("%lld\n",ra*cf+rb*cm);
	FI(i,1,n){
		if(n-i<ra) res[pt[i].se]=a;
		else res[pt[i].se]=max(pt[i].fi,(int)rb);
	}
	FI(i,1,n) printf("%d%c",res[i],i==n?'\n':' ');
	return 0;
}
