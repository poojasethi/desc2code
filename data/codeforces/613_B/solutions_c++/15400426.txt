#include <stdio.h>
#include <string.h>
#include <iostream>
#include <algorithm>
#include <vector>
#include <queue>
#include <set>
#include <map>
#include <string>
#include <math.h>
#include <stdlib.h>
using namespace std;

pair<int,int> a[100005];
int b[100005];
long long sum[100005];

int main()
{
	int n,A,cf,cm;
	long long m;
	cin>>n>>A>>cf>>cm>>m;
	for(int i = 0 ; i < n ; i++)
	{
		scanf("%d",&a[i].first);
		a[i].second = i;
		b[i] = a[i].first;
	}
	long long res = 0;
	sort(a,a+n);
	int p = n;
	int q = 0;
	int P;
	a[n].first = A;
	for(int i = 0 ; i < n ; i++)
		sum[i] = sum[i-1] + a[i].first;
	for(int i = n ; i >= 0 ; --i)
	{
		m -= A-a[i].first;
		if(m<0)break;
		int l = 0 , r = A;
		while(l<r)
		{
			int M = (l + r + 1) / 2;
			int Q = lower_bound(a,a+i,make_pair(M,0)) - a;
			if((long long)M*Q-sum[Q-1]<=m) l = M;
			else r = M - 1;
		}
		if((long long)l*cm+(long long)(n-i)*cf>=res)
		{
			res = (long long)l*cm+(long long)(n-i)*cf;
			p = lower_bound(a,a+i,make_pair(l,0))-a;
			q = l;
			P = i;
		}
		a[i].first = A;
	}
	for(int i = 0 ; i < p ; i++)
		b[a[i].second] = q;
	for(int i = P ; i < n ; i++)
		b[a[i].second] = A;
	cout << res << endl;
	for(int i = 0 ; i < n ; i++)
		printf("%d ",b[i]);
	puts("");
    return 0;
}
