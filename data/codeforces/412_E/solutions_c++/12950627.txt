#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

const int MAXN = 1e6+1;
string s;
ll a[5][MAXN];
ll ans;

int main() {
 	ios_base::sync_with_stdio(0);
 	cin >> s;
 	for(int i = 0; i < (int)s.size(); i++) {
    	if(!i) {
    	 	if(isalpha(s[i])) a[0][i] = 1;
    		continue;
    	}
    	if(isalpha(s[i])) {
    		a[0][i] = a[0][i-1] + 1;
    		a[2][i] = a[1][i-1] + a[2][i-1];
			a[4][i] = max(a[3][i-1], a[4][i-1]); 
    		ans += a[4][i];		
    	} else if(isdigit(s[i])) {
    	    a[0][i] = a[0][i-1];
    	    a[2][i] = a[1][i-1] + a[2][i-1];
     	} else if(s[i] == '@') {
     	    a[1][i] = a[0][i-1];
    	} else if(s[i] == '_') {
    		a[0][i] = a[0][i-1];
     	} else {
     	    a[3][i] = a[2][i-1];
     	}
    }
    cout << ans;
    return 0;
}