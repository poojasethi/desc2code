n=input()
g=[[] for _ in range(n+1)]
for i in range(n-1):
  a,b=map(int,raw_input().split())
  g[a]+=[b]
  g[b]+=[a]
z=0
def go(a,f):
  d=[0,0]
  z=0
  for b in g[a]:
    if b!=f:
      t=go(b,a)
      d=sorted(d+[t[1]+1])[1:]
      z=max(max(z,t[0]),sum(d))
  return (z,d[1])
print max(go(a,b)[0]*go(b,a)[0] for a in range(n+1) for b in g[a] if b>a)
