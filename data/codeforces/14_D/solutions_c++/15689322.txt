#include<stdio.h>
#include<vector>
#include<stdlib.h>
#include<iostream>
using namespace std;
int a[210],b[210];
vector<int> v[210];
int s;


int f (int x,int p)
{
	int max1=0,max2=0;
	int w=0;
	for (int j=0;j<v[x].size();j++)
	if (v[x][j]!=p)
	{
		w=max(f(v[x][j],x),w);
		if (s>max1)
		{
			max2=max1;
			max1=s;
		}
		else if (s>max2) max2=s;
	}
	w=max(max1+max2,w);
	s=max1+1;
	return w;
}

int main()
{
	int n,i,j,m,k,r1,r2;
	scanf("%d",&n);
	for (i=1;i<=n;i++);
	v[i].clear();
	
	for (i=1;i<n;i++)
	{
		scanf("%d%d",&a[i],&b[i]);
		v[a[i]].push_back(b[i]);
		v[b[i]].push_back(a[i]);
	}
	m=0;
	for(i=1;i<n;i++)
	{
		r1=f(a[i],b[i]);
		r2=f(b[i],a[i]);
		k=r1*r2;
		if (k>m) m=k;
	}
	printf("%d",m);
	return 0;
}

 		 		  	 			 		 	 						 		 	