#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;
vector<int> a[205];
int s;
int Sech(int v, int x);
int main()  
{  
	int x, y, i, j, n, max;
	scanf("%d", &n);
	max = 0;
	for(i=0;i<n-1;i++)
	{
		scanf("%d%d", &x, &y);
		a[x].push_back(y);
		a[y].push_back(x);
	}
	for(i=1;i<=n;i++)
	{
		for(j=0;j<=a[i].size()-1;j++)
		{
			//s=0;
			x = Sech(i, a[i][j]);
			y = Sech(a[i][j], i);
			if(x*y>max)
				max = x*y;
		}
	}
	printf("%d\n", max);
	return 0;
}

int Sech(int v, int x)
{
	int i, max1, max2, sum;
	max1 = max2 = sum = 0;
	for(i=0;i<=a[v].size()-1;i++)
	{
		if(a[v][i]!=x)
		{
			 sum = max(sum, Sech(a[v][i],v));
			 if(s>max1)//max1保存的是从v出发长度最大的路，max2是从v出发次大的路（二者之和就是最长可扩展的路的长度)
			 {
				 max2 = max1;
				 max1 = s;
			 }
			 else
				max2 = max(max2, s);
		}
	}
	sum = max(sum, max1+max2);
	s = max1+1;
	return sum;
}
	  		   		  	   	   		  	   	 	