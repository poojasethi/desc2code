#include <cstdio>
#include <algorithm>
#include <cstring>

using namespace std;

int n,a[200],b[200],l,d;
bool f[201][201],v[201];

void dfs(int x,int s)
{
  v[x]=true;
  if(s>=l)
  {
    l=s;
    d=x;
  }
  for(int y=1;y<=n;++y)
    if((f[x][y])&&(!v[y]))
      dfs(y,s+1);
}

int main(void)
{
  scanf("%d",&n);
  memset(f,0,sizeof(f));
  for(int i=1;i<n;++i)
  {
    scanf("%d %d",&a[i],&b[i]);
    f[a[i]][b[i]]=true;
    f[b[i]][a[i]]=true;
  }
  int ans=0;
  for(int i=1;i<n;++i)
  {
    memset(v,0,sizeof(v));
    v[b[i]]=true;
    l=0;
    dfs(a[i],0);
    memset(v,0,sizeof(v));
    v[b[i]]=true;
    dfs(d,0);
    int j=l;
    memset(v,0,sizeof(v));
    v[a[i]]=true;
    l=0;
    dfs(b[i],0);
    memset(v,0,sizeof(v));
    v[a[i]]=true;
    dfs(d,0);
    int k=l;
    ans=max(ans,j*k);
  }
  printf("%d\n",ans);
  return 0;
}