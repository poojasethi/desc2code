#include <cstdio>
#include <iostream>
#include <cstring>
#include <algorithm>
#include<vector>
using namespace std;vector<int> g[400];int danger,st,len,n;void dfs(int now,int fa,int s)
{if(s>=len){len=s;st=now;}for(int i=0;i<g[now].size();i++){int to=g[now][i];if(to!=danger&&to!=fa){dfs(to,now,s+1);}}}struct node{int b,a;}r[333];int main(){int a,b;scanf("%d",&n);for(int i=1;i<=n-1;i++){scanf("%d%d",&a,&b);g[a].push_back(b);g[b].push_back(a);r[i].a=a;r[i].b=b;}int ans=0;int len1;for(int i=1;i<=n-1;i++){danger=r[i].b;len=0;dfs(r[i].a,r[i].b,0);len=0;dfs(st,-1,0);len1=len;danger=r[i].a;len=0;dfs(r[i].b,r[i].a,0);len=0;dfs(st,-1,0);ans=max(ans,len*len1);}printf("%d\n",ans);return 0;}
