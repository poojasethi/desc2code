#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstring>
using namespace std;
#define maxn 200+10
//#define max(a,b) a>b?a:b;
int mat[maxn][maxn];
int n,s=0;
int dfs(int u,int v)
{
	int max1=0,max2=0,m=0;
	for(int i=1;i<=n;i++)
	{
		if(mat[u][i] && i!=v)
		{
			m = max(dfs(i,u),m);
			if(s>max1)
			{
				max2 = max1;
				max1 = s;
			}
			else if(s>max2) max2 = s;
		}
		m = max(max1+max2,m);
	}
	s = max1+1;
	return m;
}
int main(void)
{
	cin>>n;
	for(int i=1;i<n;i++)
	{
		int a,b;
		cin>>a>>b;
		mat[a][b] = 1;
		mat[b][a] = 1;
	}
	int m = 0;
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=n;j++)
		{
			int len1=0, len2=0;
			if(mat[i][j])
			{
				len1 = dfs(i,j);
				len2 = dfs(j,i);
				m = max(len1*len2,m);
			}
		}
	}
	cout<<m<<endl;
	return 0;
}