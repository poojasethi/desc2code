#include<bits/stdc++.h>
using namespace std;
int a[210],b[210];
vector<int> v[210];
int r1,node,i,dist;
void dfs(int cur,int par,int d)
{
   if(d>dist)
   {
       dist=d;
       node=cur;
   }

   for(int i=0;i<v[cur].size();i++)
   {
       if(v[cur][i]!=par)
             dfs(v[cur][i],cur,d+1);
   }

}
int main()
{
	int n,i,j,m,k,r1,r2,ans=0;
	cin>>n;
    for (i=1;i<n;i++)
	{
      cin>>a[i]>>b[i];
	}
	for(i=1;i<n;i++)
    {
        for(j=1;j<n+1;j++)
            v[j].clear();
        for(j=1;j<n;j++)
        {
            if(i!=j)
            {
               v[a[j]].push_back(b[j]);
               v[b[j]].push_back(a[j]);
            }
        }
        dist=-1;
        dfs(a[i],-1,0);
        dfs(node,-1,0);
        int temp=dist;
        dist=-1;
        dfs(b[i],-1,0);
        dfs(node,-1,0);
        ans=max(ans,temp*dist);

    }
    cout<<ans<<endl;

}





