#include<iostream>
#include<cstring>

using namespace std;

const int maxn=210;
int n,a,b,next[maxn*2],px[maxn*2],no[maxn*2],cnt,p[maxn],e[maxn][2],L1,L2,ans,f[maxn];

void dp(int x, int fa, int &res){
	int tmp=0; f[x]=0;
	for (int ptr=p[x]; ptr!=0; ptr=next[ptr]){
		if (px[ptr]!=fa && no[ptr]!=cnt){
			int tx=px[ptr];
			dp(tx, x, res);
			if (f[tx]+1>f[x]) tmp=f[x], f[x]=f[tx]+1;
			else if (f[tx]+1>tmp) tmp=f[tx]+1;
		}
	}
	res=max(res, f[x]+tmp);
}

int main(){
	cin>>n;
	for (int i=1; i<n; i++){
		cin>>a>>b; e[i][0]=a; e[i][1]=b;
		px[++cnt]=b; next[cnt]=p[a]; p[a]=cnt; no[cnt]=i;
		px[++cnt]=a; next[cnt]=p[b]; p[b]=cnt; no[cnt]=i;
	}
	for (cnt=1; cnt<n; cnt++){
		L1=L2=0;
		dp(e[cnt][0], 0, L1);
		dp(e[cnt][1], 0, L2);
		ans=max(ans, L1*L2);
	}
	cout<<ans<<endl;
}
