#include <iostream>
#include <cstring>
#include <vector>
#include <stdio.h>
using namespace std;
vector<int> v[10000];
int n,s;
int dfs(int x,int pre)
{

	int max1=0,max2=0,sum=0;
	for(int i=0;i<v[x].size();i++)
	{
		if(v[x][i]!=pre)
		{
			sum=max(dfs(v[x][i],x),sum);
			if(s>max1)
			{
				max2=max1;
				max1=s;
			}
			else
				max2=max(max2,s);
		}
	}
	s=max1+1;
	sum=max(max1+max2,sum);
	return sum;
}
int main()
{
//	freopen("in.txt","r",stdin);
	while(scanf("%d",&n)!=EOF)
	{

		int a,b,ans=0;
		for(int i=0;i<=n;i++)
			v[i].clear();
		for(int i=1;i<n;i++)
		{
			scanf("%d%d",&a,&b);
			v[a].push_back(b);
			v[b].push_back(a);
		}
		for(int i=1;i<=n;i++)
		for(int j=0;j<v[i].size();j++)
		{
			a=dfs(i,v[i][j]);
			b=dfs(v[i][j],i);
			if(a*b>ans)
				ans=a*b;
		}
		printf("%d\n",ans);
	}
}

					 	  				  	 	  				 	   	