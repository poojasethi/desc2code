#include <cstdio>
#include <utility>
#include <algorithm>
using namespace std;

typedef pair<int,int> PII;

#define mp make_pair

int n, a[201][201];

PII dfs(int x, int from = 0)
{
    PII ret=mp(0,x);
    for(int y=1;y<=n;y++)
    {
        if(!a[x][y] || y==from) continue;
        PII tmp=dfs(y,x);
        tmp.first++;
        ret=max(ret,tmp);
    }
    return ret;
}

int main()
{
    scanf("%d",&n);
    for(int i=1;i!=n;i++)
    {
        int x,y;
        scanf("%d%d",&x,&y);
        a[x][y]=a[y][x]=1;
    }

    int ans=0;
    for(int i=1;i<=n;i++) for(int j=1;j<=n;j++)
    {
        if(!a[i][j]) continue;
        a[i][j]=a[j][i]=0;
        int p=dfs(dfs(i).second).first;
        int q=dfs(dfs(j).second).first;
        ans=max(ans,p*q);
        a[i][j]=a[j][i]=1;
    }
    printf("%d\n",ans);
}