#include<iostream>
#include<vector>
#define N 201
#define rep(i,j) for(int i=0;i<j;i++)
using namespace std;
vector<int>v[N];
int n;
int s;
int dfs(int x,int pre)
{
	int r1=0;
	int r2=0;
	int t=0;
	rep(i,v[x].size())
	{
		if(v[x][i]!=pre)
		{
			t=max(dfs(v[x][i],x),t);
			if(s>r1)
			{
				r2=r1;
				r1=s;
			}
			else
			r2=max(r2,s);
		}
	}
	t=max(t,r1+r2);
	s=r1+1;
	return t;
}
int main()
{
	cin>>n;
	for(int i=1;i<=n;i++)
	v[i].clear();
	int ans=0;
	rep(i,n-1)
	{
		int a,b;
		cin>>a>>b;
		v[a].push_back(b);
		v[b].push_back(a);
	}
	for(int i=1;i<=n;i++)
	rep(j,v[i].size())
	{
		int a=dfs(v[i][j],i);
		int b=dfs(i,v[i][j]);
		if(a*b>ans)
		ans=a*b;
	}
	cout<<ans<<endl;
	return 0;
}