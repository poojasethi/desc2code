#include<cstdio>
#include<vector>
using namespace std;
int n,mx,mtag;
vector<int> vc[205];
void dfs(int u,int pre,int q,int cen)
{
    if(cen>mx)mx=cen,mtag=u;
    int i,v;
    for(i=vc[u].size()-1;i>=0;i--)
    {
        v=vc[u][i];
        if(v==pre||v==q)continue;
        dfs(v,u,q,cen+1);
    }
}
int main()
{
    scanf("%d",&n);
    int i,j,a,b;
    for(i=1;i<n;i++)
    {
        scanf("%d%d",&a,&b);
        vc[a].push_back(b);
        vc[b].push_back(a);
    }
    int ans=0,temp;
    for(i=1;i<=n;i++)
    {
        for(j=vc[i].size()-1;j>=0;j--)
        {
            temp=1;mx=-1;
            dfs(i,-1,vc[i][j],0);
            mx=-1;
            dfs(mtag,-1,vc[i][j],0);
            temp*=mx;mx=-1;
            dfs(vc[i][j],-1,i,0);
            mx=-1;
            dfs(mtag,-1,i,0);
            temp*=mx;
            if(ans<temp)ans=temp;
        }
    }
    printf("%d\n",ans);
    return 0;
}
