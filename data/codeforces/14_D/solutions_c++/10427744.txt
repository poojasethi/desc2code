#include <cstdio>
#include <iostream>
#include <vector>

#define fi first
#define se second
#define pb push_back

using namespace std;

typedef pair<int,int> ii;

const int MAXN=222;

int N,S,mx,res,ffi,fse;

vector<ii> e;
vector<int> g[MAXN];

inline void dfs( int nd , int pre , int cur ){
	
	if( cur>=mx ){
		S=nd;
		mx=cur;
	}
	
	for( vector<int>::iterator it=g[nd].begin() ; it!=g[nd].end() ; it++ )
		if( *it!=pre && !( ( nd==ffi && *it==fse ) || ( nd==fse && *it==ffi ) ) )
			dfs(*it,nd,cur+1);
}

int main(){
	
	scanf("%d",&N);
	
	for( int a,b,i=1 ; i<N ; i++ ){
		scanf("%d%d",&a,&b);
		e.pb(ii(a,b));
		g[a].pb(b);
		g[b].pb(a);
	}
	
	for( int i=0 ; i<N-1 ; i++ ){
		
		ffi=e[i].fi;
		fse=e[i].se;
		
		mx=0;
		dfs(ffi,0,0);
		mx=0;
		dfs(S,0,0);
		int mxfi=mx;
		
		mx=0;
		dfs(fse,0,0);
		mx=0;
		dfs(S,0,0);
		int mxse=mx;
		
		res=max(res,mxfi*mxse);
	}
	
	printf("%d\n",res);
	return 0;
}