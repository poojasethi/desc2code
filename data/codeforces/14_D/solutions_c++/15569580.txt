#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
#include <iostream>
using namespace std;
int n;
int fa[210];
int head[410],nextt[410],ver[410],tot,ban;
int d[210];
void add(int x,int y){tot++;nextt[tot]=head[x];head[x]=tot;ver[tot]=y;}
void dfs(int x,int pre,int dep,int root)
{
	d[root] = max(d[root],dep);fa[x]=root;
	for (int i = head[x];i;i=nextt[i])
		if (ver[i] != pre && i != ban * 2 && i != ban * 2 - 1)
			dfs(ver[i],x,dep+1,root);
}
int main()
{
	cin >> n;
	for (int i = 1;i < n;i++) {int x,y;scanf("%d%d",&x,&y);add(x,y);add(y,x);}
	int ans = 0;
	for (ban = 1;ban < n;ban++)
	{
		for (int i = 1;i <= n;i++) d[i] = 0;
		for (int i = 1;i <= n;i++)
			dfs(i,0,0,i);
		for (int i = 1;i <= n;i++)
			for (int j = i+1;j <= n;j++)
				if (fa[i] != fa[j])
					ans = max(ans,d[i]*d[j]);
	}
	cout << ans << endl;
}
 		 		 		 	 	    		 	  		 	