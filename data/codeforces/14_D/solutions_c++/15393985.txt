#include<bits/stdc++.h>
using namespace std ;

vector<int> v[210] ;
int tot ;
int s ;
int a , b  ;
int ans ;
int dfs(int cur, int prev){
   int m1 = -1, m2 =-2 ,k ;
   for(int i = 0;i<v[cur].size() ;i++)
   {
       if(v[cur][i]!=prev) { k = dfs(v[cur][i],cur) ;
       if(k>m1) {m2  = m1 ,m1 = k;}
       else if(k>m2) m2 = k ;
   }}
   tot = max(tot,m1+m2+2) ;
   return m1+1 ;
}

int main(){
int n ;
cin>>n;
int x,y ;
for(int i = 1;i<n;i++){
  cin>>x>>y ;
  v[x].push_back(y) ;
  v[y].push_back(x) ;
}
 for(int i = 1;i<=n;i++){
 for(int j = 0;j<v[i].size() ;j++){
     tot = 0;
    dfs(v[i][j],i) , a= tot ;
     tot = 0;
    dfs(i,v[i][j]) , b =tot ;
    if(ans<a*b) ans = a*b ;
 }
 }
 cout<<ans ;
}
