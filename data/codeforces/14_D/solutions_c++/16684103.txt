#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;
vector<int> q[206];
int s;
int Sech(int x, int v);
int main(void)
{
	int n, i, j, a, b, c, d, max;
	scanf("%d", &n);
	for(i=1;i<=n-1;i++)
	{
		scanf("%d%d", &a, &b);
		q[a].push_back(b);
		q[b].push_back(a);
	}
	max = 0;
	for(i=1;i<=n;i++)
	{
		for(j=0;j<=q[i].size()-1;j++)
		{
			s = 0;
			c = Sech(i, q[i][j]);
			d = Sech(q[i][j], i);
			if(c*d>max)
				max = c*d;
		}
	}
	printf("%d\n", max);
	return 0;
}

int Sech(int x, int v)
{
	int max1, max2, sum, i;
	max1 = max2 = sum = 0;
	for(i=0;i<=q[x].size()-1;i++)
	{
		if(q[x][i]==v)
			continue;
		sum = max(sum, Sech(q[x][i], x));
		if(s>max1)
		{
			max2 = max1;
			max1 = s;
		}
		else
			max2 = max(max2, s);
	}
	sum = max(sum, max1+max2);
	s = max1+1;
	return sum;
}
	 	 			       	   		 			   	