#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;
const int maxn=205;
bool mp[maxn][maxn];
int n,d;
int dfs(int u,int pre){
	int s=0,ma1=0,ma2=0;
	for(int i=1;i<=n;i++){
		if(mp[u][i]&&i!=pre){
			s=max(dfs(i,u),s);
			if(d>ma1){
				ma2=ma1;ma1=d;
			}
			else ma2=max(d,ma2);
		}

	}
	s=max(s,ma1+ma2);d=ma1+1;
	return s;
}

int main()
{
	while(~scanf("%d",&n)){
		memset(mp,0,sizeof(mp));
		for(int i=0;i<n-1;i++){
			int a,b;
			scanf("%d%d",&a,&b);
			mp[a][b]=mp[b][a]=true;
		}
		int ans=0;
		for(int i=1;i<=n;i++){
			for(int j=i+1;j<=n;j++){
				if(mp[i][j]){
					int a=dfs(i,j);
					int b=dfs(j,i);
					ans=max(ans,a*b);
				}
			}
		}
		printf("%d\n",ans);
	}
	return 0;
}
		 	 	  	 	  	 		 	 	  		 			