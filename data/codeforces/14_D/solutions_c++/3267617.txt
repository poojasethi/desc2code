#include <stdio.h>

int a[205][205];
int n, re;
int go(int x) {
    int u[205]={};
    int v[205]={}, qb=0, qe=0, i;
    v[0]=x;
    qe=1;
    u[x]=1;
    while(qb<qe) {
        x=v[qb++];
        for(i=1;i<=n;i++)
            if(a[x][i] && u[i]==0) {
                u[i]=u[x]+1;
                v[qe++] = i;
            }
    }
    re=v[qe-1];
    return u[v[qe-1]]-1;
}

int main(void) {
    int i;
    int x, y;
    scanf("%d", &n);
    for(i=1;i<n;i++) {
        scanf("%d%d", &x, &y);
        a[x][y] = a[y][x] = 1;
    }
    int ans=0;
    for(x=1;x<=n;x++)
        for(y=x+1;y<=n;y++)
            if(a[x][y]==1) {
                a[x][y]=a[y][x]=0;
                go(x);
                int rx = go(re);
                go(y);
                int ry = go(re);
                int r = rx*ry;
                if(ans < r) ans = r;
                a[x][y]=a[y][x]=1;
            }
    printf("%d\n", ans);
    return 0;
}