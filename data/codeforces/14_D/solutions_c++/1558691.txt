#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;

#define MAXN 210

int adj[MAXN][MAXN], orig[MAXN], dest[MAXN], n, vis[MAXN], diam;

int go(int u) {
	int p1,p2;
	p1 = p2 = 0;
	vis[u] = 1;
	
	for (int i=0; i<n; i++)
		if (adj[u][i] && !vis[i]) {
			int k = go(i) + 1;
			if (k>p1) { p2 = p1;	p1 = k;	}
			else if (k>p2) p2 = k;
		}
	
	diam = max(diam, p1+p2);
	return p1;
}

int main() {
	int res,aux;
	scanf("%d",&n);
	
	for (int i=0; i<n-1; i++) {
		int u,v;
		scanf("%d%d",&u,&v);	u--;	v--;
		adj[u][v] = adj[v][u] = 1;
		orig[i] = u;	dest[i] = v;
	}
	
	res = -1;
	for (int i=0; i<n-1; i++) {
		int u = orig[i], v = dest[i];	aux = 1;
		adj[u][v] = adj[v][u] = 0;
		memset(vis,0,sizeof(vis));
		for (int i=0; i<n; i++)
			if (!vis[i]) {
				diam = 0;
				go(i);
				aux *= diam;
			}
			
		res = max(res,aux);
		adj[u][v] = adj[v][u] = 1;
	}
	
	printf("%d\n",res);
	
	return 0;
}