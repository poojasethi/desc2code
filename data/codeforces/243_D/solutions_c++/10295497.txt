#include<cstdio>
#include<algorithm>
#define ld double
#define isd(c) (c>='0'&&c<='9')
char ch,B[1<<15],*S=B,*T=B;char getc(){
	return S==T&&(T=(S=B)+fread(B,1,1<<15,stdin),S==T)?0:*S++;
}int aa;int F(){
	while(ch=getc(),!isd(ch));aa=ch-'0';
	while(ch=getc(),isd(ch))aa=aa*10+ch-'0';return aa;
}
#define N 1010
#define Tr 1<<21
int n,vx,vy,a[N][N],i,j,tot,min[Tr],v,mx;long long ans;ld xx[1<<20],k,L[Tr],R[Tr],id[N][N],x,y;
#define rep(i) for(i=1;i<=n;i++)
#define dep(i) for(i=n;i;i--)
#define cmax(a,b) (a<b?a=b:1)
#define cmin(a,b) (a>b?a=b:1)
void bt(int o,int l,int r){
	if(l+1==r){
		L[o]=xx[l],R[o]=xx[r];
		return;
	}
	int mid=l+r>>1;
	bt(o<<1,l,mid),bt(o<<1|1,mid,r);
	L[o]=L[o<<1],R[o]=R[o<<1|1];
}
void upd(int o){
	if(min[o]>=v)return;
	if(x<=L[o]&&R[o]<=y){
		if(min[o]<=v)cmin(mx,min[o]),min[o]=v;
		return;
	}
	cmax(min[o<<1],min[o]);cmax(min[o<<1|1],min[o]);
	if(x<R[o<<1])upd(o<<1);
	if(L[o<<1|1]<y)upd(o<<1|1);
	min[o]=min[o<<1],cmin(min[o],min[o<<1|1]);
}
int main(){
	scanf("%d%d%d\n",&n,&vx,&vy);
	if(vy==0){
		rep(j)rep(i)a[i][j]=F();
		i=vx,vx=vy,vy=i;
	}
	else if(vx>=0&&vy>=0)rep(i)rep(j)a[i][j]=F();
	else if(vx<=0&&vy>0){
		vx=-vx;
		dep(i)rep(j)a[i][j]=F();
	}
	else if(vx>0&&vy<=0){
		vy=-vy;
		rep(i)dep(j)a[i][j]=F();
	}
	else{
		vx=-vx,vy=-vy;
		dep(i)dep(j)a[i][j]=F();
	}
	k=-1.0*vx/vy;
	for(i=0;i<=n;i++)
	for(j=0;j<=n;j++)
	xx[++tot]=id[i][j]=1.0*i+k*j;
	std::sort(xx+1,xx+1+tot);
	tot=std::unique(xx+1,xx+1+tot)-xx-1;
	bt(1,1,tot);
	rep(i)rep(j){
		x=id[i-1][j],y=id[i][j-1],v=a[i][j],mx=1<<30;upd(1);
		if(mx<v)ans+=v-mx;
	}
	printf("%I64d\n",ans);
}