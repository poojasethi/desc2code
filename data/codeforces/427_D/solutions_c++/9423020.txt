#include <bits/stdc++.h>

using namespace std;

typedef long long int ll;

const int maxl = 5 * 1000 + 10;

string a, b;

int lcs [ maxl ][ maxl ], lus [ maxl ][ maxl ];
int ans;

int main (){
	cin >> a >> b;
	for ( int i = a.size () - 1 ; i >= 0 ; i-- )
		for ( int j = b.size () - 1 ; j >= 0 ; j-- )
			lcs [ i ][ j ] = (a [ i ] == b [ j ]) * (lcs [ i + 1 ][ j + 1 ] + 1);

	for ( int i = a.size () - 1 ; i >= 0 ; i-- )
		for ( int j = a.size () - 1 ; j >= 0 ; j-- )
			lus [ i ][ j ] = (a [ i ] == a [ j ]) * (lus [ i + 1 ][ j + 1 ] + 1);

	ans = maxl;
	for ( int i = 0 ; i < a.size () ; i++ ){
		int lo1 = 0, hi1 = 0;
		for ( int j = 0 ; j < b.size () ; j++ )
			if ( lcs [ i ][ j ] >= hi1 ){
				lo1 = hi1;
				hi1 = lcs [ i ][ j ];
			} else
				lo1 = max ( lo1, lcs [ i ][ j ] );

		int lo2 = 0, hi2 = 0;
		for ( int j = 0 ; j < a.size () ; j++ )
			if ( lus [ i ][ j ] >= hi2 ){
				lo2 = hi2;
				hi2 = lus [ i ][ j ];
			} else
				lo2 = max ( lo2, lus [ i ][ j ] );

/*		int tmp2 = maxl;
		if ( !mx2 && mx1 )
			tmp2 = 1;
		if ( mx2 && mx1 != mx2 )
			tmp2 = mx2 + 1;*/

		int lo = max ( lo1, lo2 ) + 1, hi = min ( hi1, hi2 );
		if ( lo <= hi )
			ans = min ( ans, lo );
	}

	if ( ans == maxl )
		ans = -1;
	cout << ans << endl;
}
