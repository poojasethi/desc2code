#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
using namespace std;
const int MAXL = 5010;
string s[3];
int res,dp[3][MAXL][MAXL];
void solve(int z,int x,int y){
        int n = s[x].length(), m = s[y].length();
        for (int i=n;i>0;i--)
        for (int j=m;j>0;j--){
                if (s[x][i-1] != s[y][j-1]) dp[z][i][j] = 0;
                else dp[z][i][j] = dp[z][i+1][j+1] + 1;
        }
        if (x == y){
                for (int i=1;i<=n;i++)
                        for (int j=1;j<=m;j++) if (i!=j) dp[z][i][0] = max(dp[z][i][j], dp[z][i][0]);
        }else{
                res = 1 + m + n;
                for (int i=1;i<=n;i++)
                for (int j=1;j<=m;j++){
                        if (dp[1][i][0] >= dp[0][i][j] || dp[2][j][0] >= dp[0][i][j]) continue;
                        int tres = min(max(dp[1][i][0],dp[2][j][0])+1, dp[0][i][j]);
                        res = min(res,tres);
                }
                if (res == 1 + m + n) res = -1;
        }
        return ;
}
int main(){
        //freopen("test.in","r",stdin);
        cin>>s[1]>>s[2];
        solve(1,1,1);
        solve(2,2,2);
        solve(0,1,2);
        cout<<res<<endl;
        return 0;
}
