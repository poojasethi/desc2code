#include <cstdio>
#include <iostream>
#include <cstring>

using namespace std;

int n, m;
char s1[5050], s2[5050];
int l1[5050], l2[5050];

int dp[5050][5050];
void Init(int l[5050], char s[5050], int n) {
    memset(dp, 0, sizeof dp);
    for (int i = 1; i <= n; i++) {
        l[i] = 1;
        for (int j = 1; j <= n; j++) {
            if (s[i] == s[j]) dp[i][j] = max(dp[i][j], dp[i-1][j-1]+1);
            if (i == j) continue;
            l[i] = max(l[i], dp[i][j]+1);
        }
    }
}


int main() {

    // freopen("D.in", "r", stdin);

    scanf("%s%s", s1+1, s2+1);
    n = strlen(s1+1);
    m = strlen(s2+1);

    Init(l1, s1, n);
    Init(l2, s2, m);

    memset(dp, 0, sizeof dp);
    int ret = 1e9;
    for (int i = 1; i <= n; i++)
        for (int j = 1; j <= m; j++) {
            if (s1[i] == s2[j]) dp[i][j] = max(dp[i][j], dp[i-1][j-1]+1);
            if (dp[i][j] && dp[i][j] >= max(l1[i], l2[j])) ret = min(ret, max(l1[i], l2[j]));
        }
    printf("%d", ret == 1e9 ? -1 : ret);

    return 0;
}