input()
a=map(int,raw_input().split())
r=c=l=h=k=0
for i,x in enumerate(a):
    c+=[1,-1][x==1]
    if c > r:
        r,l,h=c,k,i
    r=max(r,c)
    if c<0:
        c,k=0,i+1
print a[:l].count(1)+a[l:h+1].count(0)+a[h+1:].count(1)
