n = int(input())
ar = map(int, raw_input().split(" "))
nar = [-1 if item == 1 else 1 for item in ar]
t = [-9] * n
t[0] = nar[0]
for i in range(1, n):
    t[i] = max(t[i-1] + nar[i], nar[i])
print sum(ar) + max(t)