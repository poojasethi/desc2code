import sys
n=input();
m=0
ans=0
pre=0
arr=map(int,sys.stdin.readline().split())
for i in range(0,n):
  if arr[i]:
    m=max(0,m-1)
    pre=pre+1
  else :
    m=m+1
  ans=max(ans,m)
if pre==n:
  ans-=1
print ans+pre
