#include <iostream>
#include <fstream>
#include <cstdio>
#include <algorithm>
#include <string>
#include <vector>
#include <queue>
#include <deque>
#include <utility>
#include <map>
#include <set>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <functional>
#include <sstream>
#include <cstring>
#include <bitset>
#include <stack>
using namespace std;
int p[15],a[11],c[4],w[11],res[100003][4];
int n,h;
void output(int k,int d,int l)
{
	 if (k<0)
     {
		  if (d==l) memmove(res[h++],c,sizeof(c));
		  return;
	 }
	 c[k]=0;
	 for (int i=d;i<=l-1-k && i<d+3;i++)
     {
		  c[k]=c[k]*10+p[i];
		  if ((p[d]>0 || c[k]==0 && i==d) && c[k]<=255 && i>=l-1-k*3) output(k-1,i+1,l);
	 }
}
void find(int k,int l)
{
	 if (k+1-(l&1)>l>>1)
     {
		  int i;
		  for (i=0;i<n;i++)
		  if (w[i]==0) break;
		  if (i==n) output(3,0,l);
		  return;
	 }
	 for (int i=0;i<n;i++)
     {
		  w[i]++;
		  p[k]=p[l-k-1]=a[i];
		  find(k+1,l);
		  --w[i];
	 }
	 p[k]=p[l-k]=0;
}
int main()
{
	 scanf("%d",&n);
	 for (int i=0;i<n;i++) scanf("%d",&a[i]);
	 sort(a,a+n);
	 h=0;
	 for (int i=max(n,4);i<13;i++)
     {
		  memset(p,0,sizeof(p));
		  find(0,i);	
	 }
	 printf("%d\n",h);
	 for (int i=0;i<h;i++)
     {
          for (int j=3; j>=0;--j)
		  {
               printf("%d",res[i][j]);
               if (j) printf(".");
          }
          printf("\n");
     }
	 return 0;
}
