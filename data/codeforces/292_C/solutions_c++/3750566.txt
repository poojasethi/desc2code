#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
#include <string>
using namespace std;

#define FOR(it, c) for(__typeof((c).begin()) it = (c).begin(); it != (c).end(); it++)
#define SZ(c) ((int)(c).size())

int n, ok[10], oku[10], ucs;

char a[15];
char r[30];
vector<string> sol;

void match(int c, int p, int len, int nr=0) {
	if(c==4 && p==len) {
		++ucs;
		int cnt=0;
		for(int i=1;i<nr;i++) if(r[i]!='.' && ok[r[i]-'0']==0) return;
		for(int i=1;i<nr;i++) if(r[i]!='.') { cnt += (oku[r[i]-'0']!=ucs); oku[r[i]-'0'] = ucs; }
		
		r[nr]=0; if(cnt == n) sol.push_back(r+1);
		return;
	}
	if(c==4) return;
	if(p>=len) return;
	r[nr++] = '.';
	for(int t=1;t<=3 && p+t<=len;t++) {
		int v=0; for(int u=0;u<t;u++) v=v*10+a[p+u]-'0';
		if((v>0 && a[p]=='0') || v>255 || (v==0 && t>1)) continue;
		for(int u=0;u<t;u++) r[nr+u] = a[p+u];
		match(c+1, p+t, len, nr+t);
	}
}

void go(int x, int len) {
	if(x == len) {
		if(len>2) {
			for(int i=x-2,y=x;i>=0;i--,y++) a[y]=a[i];
			a[len*2-1]=0;
			match(0, 0, len*2-1);
		}
		if(len<6||a[0]<='2') {
			for(int i=x-1,y=x;i>=0;i--,y++) a[y]=a[i];
			match(0, 0, len*2);
		}
		return;
	}
	for(int i=0;i<10;i++) {
		a[x] = i + '0';
		go(x+1, len);
	}
}

int main(void) {
	scanf("%d", &n);
	for(int i=0;i<n;i++) {int x;scanf("%d", &x);ok[x]=1;}
	for(int len=2;len<=6;len++) go(0,len);
	printf("%d\n", SZ(sol));
	FOR(it, sol) puts(it->c_str());
	return 0;
}
