#include<iostream>
#include<set>
#include<cstring>
using namespace std;
int n;
set<unsigned>ans;
void print(unsigned x)
{
	long long mask=255;
	for(int i=0;i<4;i++)
	{
		cout<<((x&(mask<<(8*i)))>>(8*i));
		if(i!=3)cout<<".";
	}
	cout<<endl;
}
void gen(long long x,int l,int t,unsigned cur,long long y)
{
	if(t==16 && l==0)
	{
		ans.insert(cur);
	}
	if(t==16)return;
	gen(x/10,l-1,t+4,(cur<<8)+(x%10),y);
	if(x%100>=10)gen(x/100,l-2,t+4,(cur<<8)+x%100,y);
	if(x%1000<256 && x%1000>=100)
	{
		gen(x/1000,l-3,t+4,(cur<<8)+(x%1000),y);
	}
}
long long pal(int x,int n)
{
	int y=x;
	long long res=0;
	for(int i=0;i<n;i++)
	{
		res*=10;
		if(i<n/2)
		{
			res+=y%10;
			y/=10;
		}
	}
	res+=x;
	return res;
}
bool a[10];
void hw(int len)
{
	int d=(len+1)/2;
	int pw=1;
	for(int i=1;i<=d;i++)pw*=10;
	for(int x=0;x<pw;x++)
	{
		if(!a[x%10])continue;
		int y=x;
		bool ok=true;
		int b[10];
		memset(b,0,sizeof(b));
		for(int i=0;i<d;i++)
		{
			b[y%10]=true;
			y/=10;
		}
		for(int i=0;i<10;i++)
		{
			if((b[i]>0)!=a[i])ok=false;
		}
		if(!ok)continue;
		gen(pal(x,len),len,0,0,pal(x,len));
	}
	
}
int main()
{
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		int x;
		cin>>x;
		a[x]=true;
	}
	if(n<=6);
	for(int i=4;i<=12;i++)hw(i);
	cout<<ans.size()<<endl;
	for(set<unsigned>::iterator it=ans.begin();it!=ans.end();it++)
	{
		print(*it);
	}
	return 0;
} 