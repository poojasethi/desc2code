#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int ans[1000010][16],num[16],cnt[16],a[16],n,m,t,len;

void dfs(int x,int y)
{
	if(y+m-x+1<n) return;
	if(x>m)
	{
		for(int i=1;i<len;i++)
			for(int j=i+1;j<len;j++)
				for(int k=j+1;k<len;k++)
				{
					int p=0,now=0;
					for(int l=1;l<=i;l++) ans[t][++p]=num[l],now=now*10+num[l];
					if(i>1&&num[1]==0||now>255) continue;
					ans[t][++p]=-1,now=0;
					for(int l=i+1;l<=j;l++) ans[t][++p]=num[l],now=now*10+num[l];
					if(j-i>1&&num[i+1]==0||now>255) continue;
					ans[t][++p]=-1,now=0;
					for(int l=j+1;l<=k;l++) ans[t][++p]=num[l],now=now*10+num[l];
					if(k-j>1&&num[j+1]==0||now>255) continue;
					ans[t][++p]=-1,now=0;
					for(int l=k+1;l<=len;l++) ans[t][++p]=num[l],now=now*10+num[l];
					if(len-k>1&&num[k+1]==0||now>255) continue;
					ans[t++][0]=p;
				}
		return;
	}
	for(int i=1;i<=n;i++)
	{
		cnt[i]++;
		num[x]=num[len-x+1]=a[i];
		dfs(x+1,y+(cnt[i]==1));
		cnt[i]--;
	}
}

int main()
{
	cin>>n;
	for(int i=1;i<=n;i++) cin>>a[i];
	for(len=max(4,n);len<=12;len++)
	{
		m=(len+1)/2;
		dfs(1,0);
	}
	cout<<t<<endl;
	while(t--)
	{
		for(int i=1;i<=ans[t][0];i++)
			if(ans[t][i]<0) putchar('.'); else printf("%d",ans[t][i]);
		puts("");
	}
}