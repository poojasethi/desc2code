#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,an,r;
int a[10],g[20],re[5],f[10];
void dfs(int type,int x,int y) {
	if (x==5) {
		if (y<=*g) return;
		if (type) {
			int i;
			printf("%d",re[1]);
			For(i,2,4) printf(".%d",re[i]);
			printf("\n");
		} else an++;
		return;
	}
	if ((*g-y+1)<(5-x)||(*g-y+1)>3*(5-x)) return;
	int i,s=0;
	For(i,y,*g) {
		s=s*10+g[i];
		if (s>255) return;
		re[x]=s; dfs(type,x+1,i+1);
		if (!g[i]&&!s) return;
	}
}
inline void cal(int x) {
	int i;
	memset(f,0,sizeof(f));
	For(i,1,r) f[g[i]]=1;
	For(i,0,9) if (a[i]&&!f[i]||!a[i]&&f[i]) return;
	*g=r;
	for (i=r;i;i--) g[++*g]=g[i];
	dfs(x,1,1);
	*g=r;
	for (i=r-1;i;i--) g[++*g]=g[i];
	dfs(x,1,1);
}
inline void work(int x,int y) {
	int i; r=0;
	memset(f,0,sizeof(f));
	for (;x;x/=10) g[++r]=x%10;
	For(i,r,6) {
		cal(y);
		g[++r]=0;
	}
}
int main() {
	//freopen("292c.in","r",stdin);
	//freopen("292c.out","w",stdout);
	scanf("%d",&n);
	For(i,1,n) scanf("%d",&k),a[k]=1;
	For(i,0,999999) work(i,0);
	printf("%d\n",an);
	For(i,0,999999) work(i,1);
	//for(;;);
	return 0;
}
