#include<iostream>
#include<vector>
#include<cstring>
#include<algorithm>
using namespace std;
int n;
int a[11];
vector<string>ans;
void gen(string res,string x,int s)
{
	if(s==-1)
	{
		if(x.size()==0)ans.push_back(res.substr(0,(int)res.size()-1));
		return;
	}
	int l=x.size();
	if(l==0)return;
	if(x[0]=='0')
	{
		if((l-1)>3*s)return;
		else gen(res+"0.",x.substr(1,l-1),s-1);
	}
	else
	{
		string t="";
		int ss=0;
		for(int i=1;i<=min(l,3);i++)
		{
			t+=x[i-1];
			ss=ss*10+(x[i-1]-48);
			if((l-i)<=3*s && ss<=255)
			{
				gen(res+t+'.',x.substr(i,l-i),s-1);
			}
		}
	}
}
void solve(int len,string x,int f[])
{
	int s=0;
	for(int i=0;i<=9;i++)
	{
		s+=(f[i]>0);
	}
	if(x.size()==len)
	{
		if(len/2-(int)(x.size())/2<n-s)return;
		gen("",x,3);
		return;
	}
	if(len/2-(int)(x.size())/2<n-s)return;
	for(int i=1;i<=n;i++)
	{
		f[a[i]]++;
		solve(len,char(a[i]+48)+x+char(a[i]+48),f);
		f[a[i]]--;
	}
}
int main()
{
	cin>>n;
	for(int i=1;i<=n;i++)cin>>a[i];
	int f[11];
	memset(f,0,sizeof(f));
	for(int i=4;i<=12;i++)
	{
		if(i%2==1)
		{
			for(int j=1;j<=n;j++)
			{
				f[a[j]]++;
				string x="";
				x+=char(a[j]+48);
				solve(i,x,f);
				f[a[j]]--;
			}
		}
		else
		{
			solve(i,"",f);
		}
	}
	sort(ans.begin(),ans.end());
	cout<<ans.size()<<endl;
	for(int i=0;i<ans.size();i++)
	{
		cout<<ans[i]<<endl;
	}
	return 0;
} 