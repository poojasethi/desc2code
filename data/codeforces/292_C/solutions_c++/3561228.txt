#include<iostream>
#include<cstdio>
using namespace std;
int n,a[22],vis[22],s[22];
string ans[100000];
int p[5],tt;
char ss[300];
void get(int dep,int num,int tot,int len){
    if (dep>=len){
        if (num>=3){
        //for (int i=1; i<=len ;i++) cout<<s[i]<<' ';cout<<endl;
            p[3]=tot;
            sprintf(ss,"%d.%d.%d.%d",p[0],p[1],p[2],p[3]);
            ans[++tt]=(string)ss;
        }
        return ;
    }
    int next=tot*10+s[dep+1];

    if (next>255) return ;

    if (next!=0||(dep+1==len))
        get(dep+1,num,next,len);

    if (num!=3&&!(num==2&&dep+1==len)){
        p[num]=next;
        get(dep+1,num+1,0,len);
    }
}
void dfs(int dep,int num,int len){
    if (dep>=(len+1)/2){
        if (num==n){
            get(0,0,0,len);
        }
        return ;
    }
    for (int i=1; i<=n; i++){
        vis[a[i]]++;
        s[dep+1]=s[len-dep]=a[i];
        dfs(dep+1,num+(vis[a[i]]==1),len);
        vis[a[i]]--;
    }
}
int main(){
    //freopen("input.txt","r",stdin);
    cin>>n; for (int i=1; i<=n; i++) cin>>a[i];
    for (int i=4; i<=12; i++)
    dfs(0,0,i);
    cout<<tt<<endl;
    for (int i=1; i<=tt; i++)
    printf("%s\n",ans[i].c_str());
}
