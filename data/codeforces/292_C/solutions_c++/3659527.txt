#include<cstdio>
#include<cstring>
#include<string>
#include<iostream>
using namespace std;
int a[20],v[20],d[20];
string ans[1000000];
int n,m;

void gao(int dep,int st,int len,string s) {
    int i,now=0;
    if (dep>3) {
        if (st>len) return;
        if (st<len && a[st]==0) return;
        for (i=st;i<=len;i++) {
            now=now*10+a[i];
            s+='0'+a[i];
        }
        if (now>255) return;
        ans[++m]=s;
        return;
    }
    for (i=st;i<=len;i++) {
        if (i>st && a[st]==0) break;
        now=now*10+a[i];
        s+='0'+a[i];
        if (now>255) break;
        gao(dep+1,i+1,len,s+'.');
    }
}

void dfs(int dep,int len,int sum) {
    int i;
    if (dep>len) {
        if (sum!=n) return;
        for (i=1;i<=len;i++) a[2*len-i+1]=a[i];
        gao(1,1,2*len,"");
        for (i=1;i<=len;i++) a[2*len-i]=a[i];
        gao(1,1,2*len-1,"");
        return;
    }
    for (i=0;i<=9;i++) if (d[i]) {
        v[i]++;
        if (v[i]==1) sum++;
        a[dep]=i;
        dfs(dep+1,len,sum);
        v[i]--;
        if (v[i]==0) sum--;
    }
}

int main() {
    int i,k,x;
    char tmp[50];
    scanf("%d",&n);
    for (i=1;i<=n;i++) {
        scanf("%d",&x);
        d[x]=1;
    }
    for (i=2;i<=6;i++) dfs(1,i,0);  
    printf("%d\n",m);
    for (k=1;k<=m;k++) {
        for (i=0,x=ans[k].size();i<x;i++) tmp[i]=ans[k][i];
        tmp[x]='\0';
        printf("%s\n",tmp);
    }
}