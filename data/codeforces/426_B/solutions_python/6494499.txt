'''
Created on Apr 27, 2014

@author: szalivako
'''

n, m = map(int, raw_input().split())

a = [[] for i in range(n)]
for i in range(n):
    a[i] = map(int, raw_input().split())

#print a

minN = n
while (True):
    if (minN % 2 != 0):
        break
    f = True
    for i in range(minN // 2):
        if (a[i] != a[minN - i - 1]):
            f = False
            break
    if (not f):
        break
    else:
        minN //= 2
print minN
    
        
