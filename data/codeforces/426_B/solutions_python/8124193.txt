n,m = map(int,raw_input().split())
a = [map(int,raw_input().split()) for x in xrange(n)]
c = 0
while (a[:n/2]) == (a[n/2:][::-1]):
    a = a[:n/2]
    n = n/2
print len(a)