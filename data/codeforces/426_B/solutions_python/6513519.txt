n, m  = map(int, raw_input().split())
a = [raw_input()  for _ in range(n)]
while (n%2 == 0):
    k = d = n // 2
    ok = 0
    for i in range(k):
        if a[i]!=a[n-i-1]: ok = 1
    if ok == 1: break
    n/=2
print n