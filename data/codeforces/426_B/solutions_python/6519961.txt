f = lambda: map(int,raw_input().split())
n,m = f()
x = [f() for i  in range(n)]
res = n
while(res % 2 == 0):
    ist = True
    for i in range(res / 2):
        if(x[i] != x[res - 1- i]):
            ist = False
            break
    if(ist):
        res = res / 2
    else:
        break
print res