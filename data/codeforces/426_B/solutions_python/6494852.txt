import sys
file = sys.stdin


def find_min_n(a, n, m):
    if n % 2 == 1:
        return n
    for i in range(0, n/2):
        for j in range(0, m):
            if a[i][j] != a[n-i-1][j]:
                return n
    if n == 1:
        return 1
    return find_min_n(a, n/2, m)

n, m = file.readline().split(' ')
n = int(n)
m = int(m)
a = [0]*n
for i in range(0, n):
    a[i] = [int(val) for val in file.readline().rstrip('\n').split(' ')]


print(find_min_n(a, n, m))