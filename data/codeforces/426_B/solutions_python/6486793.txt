n,m = map(int,raw_input().split())
a = []

for i in range(n):
    a.append(raw_input())
    
ans =n


    

while(1):
    if (n%2==1):
        break
    f = 0
    for i in range(n/2):
        if a[i] != a[n-1-i]:
            f = 1
    if f == 1:
        break
    else:
        a = a[n/2:]
        n/=2

print n
