num = map(int, raw_input().split())
n=num[0]
m=num[1]
mat={}
for i in xrange(n):
	mat[i]=map(int, raw_input().split())


while True:
	if len(mat)%2!=0:
		print len(mat)
		break
	else:
		chk=0
		for i in xrange(len(mat)/2):
			if mat[i]!=mat[len(mat)-i-1]:
				chk=1
				break
		if chk==1:
			print len(mat)
			break
		else:
			pp=len(mat)
			# print pp
			for i in xrange(pp/2,pp):
				mat.pop(i, None)
				# print 'asssss',i