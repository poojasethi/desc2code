get = lambda: map(int, raw_input().split())

n, m = get()

mat = [get() for i in range(n)]

while (n % 2) == 0:
	if any(mat[n-1-i][j] != mat[i][j] for i in range(n/2) for j in range(m)):
		break
	mat = mat[:n/2]
	n /= 2

print len(mat)