from sys import stdin

r,c = map(int,stdin.readline().split())

l = [stdin.readline().strip() for x in xrange(r)]

while r%2 == 0 and l[:r/2]==l[r/2:r][::-1]:
    r /= 2

print r
    
