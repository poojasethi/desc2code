
n, m = map(int, raw_input().split())

v = []
for i in range(0, n): v.append(raw_input())

def solve(v):
	if len(v) % 2 == 1: return len(v)

	mid = len(v)/2
	first = v[:mid]
	second = v[mid:]

	if first == second[::-1]: return solve(first)
	return len(v)

def main():
	print solve(v)

if __name__ == '__main__':
	main()



