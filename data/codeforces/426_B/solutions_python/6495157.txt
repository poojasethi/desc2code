R=lambda:map(int,raw_input().split())
n,m=R()
a=[R() for _ in [0]*n]
while n and not n%2:
  f=1
  for i in range(n/2):
    if not a[i]==a[n-1-i]:
      f=0
  if f:
    n/=2
  else:
    break
print n