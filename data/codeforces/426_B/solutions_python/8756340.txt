def isRazvorot(a, n):
    if n % 2 != 0:
        return n
    else:
        b = a[n/2:]
        b.reverse()
        if a[:n/2] == b:
            return isRazvorot(a[:n/2], n/2)
        else:
            return n
n, m = raw_input("").split(" ")
n, m = int(n), int(m)
a = [raw_input("").split(" ") for i in range(n)]
for i in range(n):
    a[i] = [int(a[i][j]) for j in range(m)]
print isRazvorot(a, n)
