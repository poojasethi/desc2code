n,m=map(int,raw_input().split())
def okay(b):
	n=len(b)
	if n%2==1:
		return 0
	else:
		c=b[(len(b)/2):]
		b=b[:(len(b)/2)]
		c.reverse()
		if c==b:
			return 1
		else:
			return 0
m=[]
for i in xrange(n):
	a=map(int,raw_input().split())
	m+=[a]
while (okay(m)):
	n/=2
	m=m[:(len(m)/2)]
print n
