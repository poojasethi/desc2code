f = lambda: map(int,raw_input().split())
n,m = f()
x = []
for i in range(n):
    x.append(f())
def ff(x,y):
    for i in range(len(x)):
        if(x[i] != y[i]):
            return False
    return True
res = n
while(res % 2 == 0):
    ist = True
    for i in range(res / 2):
        if(not ff(x[i],x[res - 1- i])):
            ist = False
            break
    if(ist):
        res = res / 2
    else:
        break
print res