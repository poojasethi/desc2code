ar = []

for i in xrange(map(int,raw_input().split())[0]):
	ar += [raw_input().strip()]

n = len(ar)



while n%2==0:
	if ar[0:n/2]==ar[n-1:n/2-1:-1]: n/=2	
	else: break
	
print n
