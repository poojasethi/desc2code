n, m = map(int, raw_input().split(" "))
N = []
for x in range(n):
    N.append(raw_input())
if n % 2 != 0:
    print n
else:
    while n % 2 == 0 and N[:n/2] == N[n/2:n][::-1]:
        n = n/2
    print n