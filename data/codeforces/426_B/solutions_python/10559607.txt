
def solve(mas, n, m):

    if n % 2 or n == 1:
        print n
        return

    t = n / 2
    m1 = mas[:t]
    m2 = mas[t:]
    m2 = m2[::-1]

    if m1 == m2:
        solve(m1, t, m)
    else:
        print n
        return

if __name__ == '__main__':
    n, m = map(int, raw_input().split())
    mas = []
    for i in xrange(n):
        mas.append(map(int, raw_input().split()))

    solve(mas, n, m)