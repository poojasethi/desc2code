import sys,math

if __name__ == '__main__':
	[n,m] = map(int,raw_input().split())
	values = []
	for i in range(n):
		values.append(int(''.join(raw_input().split()),2))
	while not n & 1:
		out = 0
		for i in range(n/2):
			if values[i] == values[n-i-1]:
				out += 1
		if out != n/2:
			break
		n /= 2
	print n

	
