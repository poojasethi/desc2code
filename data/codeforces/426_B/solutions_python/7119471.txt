n, m = map(int, raw_input().split())
b = [ raw_input().split() for i in xrange(n) ]
def sym(b):
	if n & 1: return False
	for i in xrange(n/2):
		for j in xrange(m):
			if b[i][j] != b[n-1-i][j]: return False
	return True
while sym(b):
	n /= 2
	b = b[:n]
print n