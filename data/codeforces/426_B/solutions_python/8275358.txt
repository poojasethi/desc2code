global n, m, buf
n = 0
m = 0
buf = []

def main():
	(n, m) = [int(word) for word in raw_input().split()]
	for i in range(n):
		buf.append(raw_input())
	ans = n
	r = n
	# print buf
	while (r&1) == 0:
		r2 = r-1
		r >>= 1
		flag = True
		for i in range(r):
			if buf[i] != buf[r2-i]:
				# print buf[i], buf[r2-i]
				flag = False
				# print r
				break
		if flag:
			ans = r
		else:
			break
		# print ans
	print ans
	
main()