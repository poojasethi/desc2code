n, m = map(int, raw_input().split())
a = []
for i in xrange(n):
    a.append(raw_input())

def m(a):
    if len(a) % 2 != 0: return False
    for i in xrange(len(a) / 2):
        if a[i] != a[-i - 1]:
             return False
    return True

def s(a):
    if not m(a):
        return len(a) 
    h = len(a) / 2
    if m(a[:h]) and m(a[h:]):
        return s(a[:h])
    return h

print s(a)
