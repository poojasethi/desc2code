n,m = map(int,raw_input().split())
line = []
for x in xrange(n):
    line.append(raw_input().strip())
if n%2==1:
    print n
else:
    ans = n
    end = n
    while end%2==0:
        for x in xrange(0,end/2):
            if line[x] != line[end-1-x]:
                print ans
                exit()
        #print "x"
        end/=2
        ans/=2
    print ans
