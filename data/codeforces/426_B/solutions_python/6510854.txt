n, m = map(int, raw_input().split())
a = [map(int, raw_input().split()) for _ in range(n)]

def is_mirror(x):
    if x % 2 == 1:
        return False
    for i in range(x / 2):
        if a[i] != a[x - i - 1]:
            return False
    else:
        return True

while n > 1 and is_mirror(n):
    n /= 2
print n