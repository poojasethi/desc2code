#include<iostream>
#include<string>
using namespace std;
string s[200];int n,m;
int erfen(int end)
{
    int mid=end/2;if(end%2)return end;
    for(int i=1;i<=mid;i++)
            if(s[i]!=s[end-i+1])return end;
    return erfen(mid);
}
int main(){
    cin>>n>>m;
    for(int i=1;i<=n;i++)for(int j=1;j<=m;j++)
    {int x;cin>>x;s[i]+=char(x+48);}
    cout<<erfen(n);
    return 0;
}
