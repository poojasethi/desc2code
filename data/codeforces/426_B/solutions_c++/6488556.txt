#include <cstdio>
int arr[101][101],n,m,res;
void solve(int R){
	if(R%2)return;
	
	for(int i=0,j=R-1;i<R/2;i++,j--)
		for(int k=0;k<m;k++){
			if(arr[i][k]!=arr[j][k])return;
		}
	res/=2;
	solve(R/2);
}
int main(){
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
			scanf("%d",&arr[i][j]);
	res=n;
	solve(n);
	printf("%d\n",res);
}
