#include<stdio.h>
int a[105][105];
int main()
{
	int n,m;
	scanf("%d%d",&n,&m);
	int i,j;
	for(i=0;i<n;i++)
	for(j=0;j<m;j++)
	scanf("%d",&a[i][j]);
	while(1)
	{
	if(n%2)break;
	int valid = 1;
	for(i=0;i<n/2;i++)
	{
	for(j=0;j<m;j++)
	if(a[i][j]-a[n-1-i][j]){
	valid = 0;
	break;
	}
	if(valid==0)break;
	}
	if(valid==0)break;
	n/=2;
	}
	printf("%d\n",n);
}