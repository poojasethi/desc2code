#include<stdio.h>
#include<string.h>
int main()
{
	int n,m;
	char a[100][201];
	int i,j;
	scanf("%d%d",&n,&m);
	getchar();
	for(i=0;i<n;i++)
		gets(a[i]);
	if(n%2)
		printf("%d\n",n);
	else
	{
		while(n>1)
		{
			for(i=n/2-1,j=n/2;j<n;i--,j++)
				if(strcmp(a[i],a[j]))
					break;
			if(j==n)
				n/=2;
			else
				break;
		}
		printf("%d\n",n);
	}
	return 0;
}

	 	 		 	 		  	 	    		 	  	