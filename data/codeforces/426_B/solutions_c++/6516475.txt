//gskhirtladze

#include<iostream>
#include<stdio.h>

using namespace std;

string s[120];
int n,m,i,st,may,j;

main()
 {
  cin>>n>>m;
  for (i=1;i<=n;i++)
   for (j=1;j<=m;j++)
    getchar(),s[i]+=getchar();
  st=n;
  while (true)
   {
    may=true;
    for (i=1;i<=st;i++)
     if (s[i] != s[st-i+1]) may=false;
    if (st % 2 || !may) { cout<<st<<endl; return 0;}
    st/=2;
   }
 } 
