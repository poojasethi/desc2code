#include <iostream>

using namespace std;

int n,m,v[109][109];

int main()
{
	cin >> n >> m;
	
	for (int i = 0; i < n; i++)
		for (int h = 0; h < m; h++)
			cin >> v[i][h];
			
	bool o = 0;
	while (n%2 == 0)
	{
		for (int i = 0; i < n; i++)
			for (int h = 0; h < m; h++)
				if (v[i][h] != v[n-i-1][h])
					o = 1;
					
		if (o) break;
		
		n/=2;
	}
	
	cout << n;
}
