#include<cstdio>
#include<cstring>
char s[105][205];
int n,m;
int main()
{
  scanf("%d%d\n",&n,&m);
  for(int i=1;i<=n;i++)gets(s[i]);
  while(n%2==0)
  {
  	int i;
	for(i=1;i<=n/2;i++)
	  if(strcmp(s[i],s[n+1-i]))
	    break;
	if(i==n/2+1)n/=2;
	else break;
  }
  printf("%d\n",n);
}
 					 	        	  			       	