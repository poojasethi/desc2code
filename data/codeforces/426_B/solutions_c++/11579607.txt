#include <iostream>

using namespace std;

int main()
{
    int m,n,a[105][105];
cin>>m>>n;
for(int x=0; x<m; x++)
    for(int z=0; z<n; z++)
     cin>>a[x][z];
bool b=0;
while(m%2==0){
   for(int x=0; x<m/2; x++){
    for(int z=0; z<n; z++)
      if(a[x][z]!=a[m-x-1][z]){b=1; break;}
    if(b)break;}
    if(b) break;
    m/=2;
}
cout<<m<<endl;

    return 0;
}