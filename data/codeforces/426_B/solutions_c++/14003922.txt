#include<stdio.h>
#include<string.h>
int main()
{
	int a,i,x,n,m;
	char s[101][222];
	while(scanf("%d%d",&n,&m)!=EOF){
		getchar();
		for(i=1;i<=n;i++)
			gets(s[i]);
		while(n%2==0){
			for(i=1;i<=n/2;i++)
				if(strcmp(s[i],s[n+1-i]))
					break;
			if(i==n/2+1)
				n/=2;
			else
				break;
		}
		printf("%d\n",n);
	}
}
	
