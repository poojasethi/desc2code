#include<iostream>
#include<stdio.h>
#include<stdlib.h>
using namespace std;
int m,n,i,j;
string a[110];
char c;
int mirror (int x){
    if(x%2==1)return x;
   int mid=x/2;
    for(  i=1;i<=mid;i++)
      if(a[i]!=a[x-i+1]) return x;
    return mirror(mid);
}

main(){
       cin>>m>>n;
       for(i=0;i<=m;i++)
       getline (cin,a[i]);
 cout<<mirror(m);
       //system("pause");
       }
