# include <stdio.h>
# include <algorithm>

using namespace std;

int a,b,z;
int c[109][109];

int main()
{
	scanf("%d %d",&a,&b);
	
	for(int i=0;i<a;i++)
	for(int j=0;j<b;j++)
	scanf("%d",&c[i][j]);
	
	while(a%2==0)
	{
		for(int i=0;i<a/2;i++)
		for(int j=0;j<b;j++)
		if(c[i][j]!=c[a-i-1][j])
		z=1;
		
		if(z==1)break;
		a/=2;
	}
	
	printf("%d",a);
	
	getchar();
	getchar();
}
