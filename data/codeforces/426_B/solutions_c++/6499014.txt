#include<bits/stdc++.h>
using namespace std;
int dizi[101][101];
int main(){
	int m,n,i,j,k,x;
	scanf("%d %d",&m,&n);
	for(i=0 ; i<m ; i++)
		for(j=0 ; j<n ; j++)
			scanf("%d",&dizi[i][j]);
	while(1){
		if(m&1){
			printf("%d",m);
			return 0;
		}
		for(i=0,k=m-1 ; i<m/2,k>=0 ; i++,k--)
			for(j=0 ; j<n ; j++)
				if(dizi[i][j]!=dizi[k][j]){
					printf("%d",m);
					return 0;
				}
		m/=2;
	}
	return 0;
}
