#include <bits/stdc++.h>

using namespace std;

char arr[105][105];

int main(){

	int n,m,i,j,k=0,s=0;
	scanf("%d %d",&n,&m);
	for(i=1;i<=n;i++)
		for(j=1;j<=m;j++)
			scanf(" %c",&arr[i][j]);
	while(!(n&1)){
		for(i=1;i<=n;i++)
			for(j=1;j<=m;j++)
				if(arr[i][j]!=arr[n-i+1][j]){
					printf("%d",n);
					return 0;
				}
		n/=2;
	}
	printf("%d",n);
return 0;
}
