#include<iostream>
using namespace std;
int n, m; bool A[103][103];
int f(int k){
    if(k%2!=0) return k;
    for(int i=1; i<=(k/2); i++)
      for(int j=1; j<=m; j++)
        if(A[i][j]!=A[k+1-i][j]) return k;
    return f(k/2);
}
int main(){
    cin>>n>>m;
    for(int i=1; i<=n; i++)
      for(int j=1; j<=m; j++) cin>>A[i][j];
    cout<<f(n)<<endl;
}
