#include<iostream>
using namespace std;
int a[100][100],n,m;
bool shart;
int mirror(int x){
	if(x%2==1)return x;
	shart=1;
	for(int i=0;i<(x/2);i++){
		for(int j=0;j<m;j++){
			shart*=(a[i][j]==a[x-i-1][j]);
		}
	}
	if(shart==1){
		return mirror(x/2);
	}return x;
}
int main(){
	cin>>n>>m;
	for(int i=0;i<n;i++)for(int j=0;j<m;j++){
		cin>>a[i][j];
	}
	cout<<mirror(n);
}
