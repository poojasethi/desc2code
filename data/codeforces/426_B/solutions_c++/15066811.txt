#include<cstdio>

int n, m;
int v[111][111];

bool chk(int l, int r) {
	for(int i=l, j=r;i<j;i++, j--) {
		for(int k=0;k<m;k++)
			if(v[i][k] != v[j][k]) return false;
	}
	return true;
}

int main() {
	scanf("%d%d", &n, &m);
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++) scanf("%d", &v[i][j]);
	while(n%2==0 && chk(0, n-1)) n/=2;
	printf("%d\n", n);
	
	return 0;
}