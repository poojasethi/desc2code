#include<stdio.h>
#include<stdlib.h>
#include<iostream>
#include<string>
using namespace std;
int b,y;

string s[111];
int mirror (int x){
 if(x%2!=0) return x;
 int mid=x/2;
 for(int i=1;i<=mid;i++)
 if(s[i]!=s[x-i+1]) return x;
 return mirror(mid); 
}



main(){
       cin>>b>>y;
       for(int j=0;j<=b;j++)
       getline(cin,s[j]);
       cout<<mirror(b);
       }
