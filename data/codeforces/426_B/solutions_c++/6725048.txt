#include<cstdio>
int n,m;
int map[105][105];

bool check(int v){
   if(v&1) return false;
   for(int i=1;i<=v/2;i++)
     for(int j=1;j<=m;j++)
       if(map[i][j]!=map[1+v-i][j])
         return false;
   return true;      
}

int main(){
  scanf("%d%d",&n,&m);
  for(int i=1;i<=n;i++)
    for(int j=1;j<=m;j++)
      scanf("%d",&map[i][j]);
  while(check(n))n/=2;
  printf("%d\n",n);  
}
