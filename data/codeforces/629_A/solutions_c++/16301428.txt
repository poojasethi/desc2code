#include <iostream>
#include <cstdio>
int a[200],b[200],i,j,n,ans=0;
char ch;
int main()
{
//	freopen("ex.in","r",stdin);
//	freopen("ex.out","w",stdout);
		scanf("%d\n",&n);
		for (i=1;i<=n;++i,scanf("\n"))
			for (j=1;j<=n;++j)
			{
				scanf("%c",&ch);
				if (ch=='C') ++a[i],++b[j];
			}
		for (i=1;i<=n;++i) ans+=a[i]*(a[i]-1)+b[i]*(b[i]-1);
		printf("%d\n",ans/2);
}