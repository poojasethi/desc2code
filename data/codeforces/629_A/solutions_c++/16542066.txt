#include <bits/stdc++.h>
using namespace std;

char ar[105][105];
int a,x[105],y[105],ans;

int main(){
	scanf("%d",&a);
	for( int i = 0 ; i < a ; i++ ){
		for( int j = 0 ; j < a ; j++ ){
			scanf(" %c",&ar[i][j]);
			if( ar[i][j] == 'C' ){
				x[i]++;
				y[j]++;
			}
		}
	}
	
	for( int k=0 ; k < a ; k++ ){
		ans+=y[k]*(y[k]-1)/2;
		ans+=x[k]*(x[k]-1)/2;
	}
	
	printf("%d",ans);
	return 0;
}
