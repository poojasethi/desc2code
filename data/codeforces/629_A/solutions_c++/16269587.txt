#include<bits/stdc++.h>

#define FI(i,a,b) for(int i=(a);i<=(b);i++)
#define FD(i,a,b) for(int i=(a);i>=(b);i--)

using namespace std;

int cr[105],cc[105],ans;
int n;
char s[105];

int main(){
  scanf("%d",&n);
  FI(i,1,n){
    scanf("\n%s",s+1);
    FI(j,1,n) if(s[j]=='C') ans+=(cr[i]++)+(cc[j]++);
  }
  printf("%d\n",ans);
  return 0;
}