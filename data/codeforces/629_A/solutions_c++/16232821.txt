#include <bits/stdc++.h>
using namespace std;
char cake[105][105];
int main(){
	int n,i,j,k;cin>>n;
	for(i=1;i<=n;++i)scanf("%s",cake[i]+1);
	int ret=0;
	for(i=1;i<=n;++i){
		for(j=1;j<=n;++j){
			if(cake[i][j]!='C')continue;
			for(k=i+1;k<=n;++k)
				if(cake[k][j]==cake[i][j])++ret;
			for(k=j+1;k<=n;++k)
				if(cake[i][k]==cake[i][j])++ret;
		}
	}
	cout<<ret<<endl;
}
