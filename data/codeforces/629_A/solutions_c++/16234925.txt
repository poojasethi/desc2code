#include<cstdio>

int a[101],b[101];

char s[101];

int main()
{
	int n;
	char ch;
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		scanf("%s",s);
		for(int j=0;j<n;j++)
			if(s[j]=='C')a[i]++,b[j+1]++;;
	}
	long long ans=0;
	for(int i=1;i<=n;i++)ans+=a[i]*(a[i]-1)/2+b[i]*(b[i]-1)/2;
	printf("%I64d",ans);
	return 0;
 } 
