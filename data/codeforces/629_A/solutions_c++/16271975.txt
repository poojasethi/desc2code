#include<cstdio>

int n, ans;
int tot_r[111], tot_c[111];
char s[111];

int main() {
	scanf("%d", &n);
	for(int i=0;i<n;i++) {
		scanf("%s", s);
		for(int j=0;j<n;j++) 
			if(s[j] == 'C') {
				tot_r[i]++;
				tot_c[j]++;
			}
	}
	ans=0;
	for(int i=0;i<n;i++) {
		ans+=tot_r[i] * (tot_r[i]-1) / 2;
		ans+=tot_c[i] * (tot_c[i]-1) / 2;
	}
	printf("%d\n", ans);
	
	return 0;
}