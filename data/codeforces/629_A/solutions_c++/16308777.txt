#include <bits/stdc++.h>
using namespace std;

int n;
char k[107];
int c1[107],c2[107];
int main()
{
	scanf("%d",&n);
	int i,j,ans = 0;
	for(i=1;i<=n;i++){
		scanf("%s",k+1);
		for(j=1;j<=n;j++) if(k[j] == 'C'){
			ans=ans+c1[i]+c2[j];
			c1[i]++;c2[j]++;
		}
	}
	printf("%d\n",ans);
	return 0;
} 
