#include<bits/stdc++.h>
using namespace std;

int main()
{
	vector<int> cx,cy;
	int n;
	cin>>n;
	char t;
	long count=0;
	cx.assign(n,0);
	cy.assign(n,0);
	for(int i=0;i<n;i++) for(int j=0;j<n;j++)
	{
		cin>>t;
		if(t=='C')
		{
			cy[i]++;
			cx[j]++;
		}
	}
	for(int i=0;i<n;i++) count=count+cx[i]*(cx[i]-1)+cy[i]*(cy[i]-1);
	cout<<count/2;
}