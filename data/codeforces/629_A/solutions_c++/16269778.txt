#include<bits/stdc++.h>
using namespace std;
int main(){
	int r[105],c[105];
	char s[105][105];
	int n;
	scanf("%d",&n);
	for(int i = 0; i < n; ++i) {
	scanf("%s", &s[i]);
	for(int j = 0; j < n; ++j)
	if(s[i][j] == 'C') ++r[i], ++c[j];}
	int ans = 0;
	for(int i = 0; i <n; ++i) ans+= r[i]*(r[i]-1)/2+c[i]*(c[i]-1)/2;
	printf("%d",ans);
	return 0;}