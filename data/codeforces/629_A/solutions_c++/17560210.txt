#include<cstdio>
const int N=105;
int a[N],b[N],n;
char c;
long long ans;
int main(){
	scanf("%d",&n);
	for (int i=1;i<=n;i++)
		for (int j=1;j<=n;j++){
			scanf(" %c",&c);
			if (c=='C') a[i]++,b[j]++;
		}
	for (int i=1;i<=n;i++) ans+=a[i]*(a[i]-1)/2+b[i]*(b[i]-1)/2;
	printf("%I64d",ans);
	return 0;
}