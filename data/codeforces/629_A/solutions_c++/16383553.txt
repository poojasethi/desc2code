//codeforces #343 (Div. 2) A
#include<cstdio>
int row[101];
int column[101];
int n;
int ans;
int main(){
	scanf("%d\n",&n);
	ans=0;
	for(int i=0;i<n;i++){
		for(int j=0;j<n;j++){
			char ch;
			scanf("%c",&ch);
			if(ch=='C'){
				ans+=(row[i]++)+column[j]++;
			}
		}
		scanf("\n");
	}
	printf("%d\n",ans);
	return 0;
}
