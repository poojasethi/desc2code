#include<bits/stdc++.h>
using namespace std;
int n;
char s[105][105];
int r[105],c[105],ans;
int main(){
	scanf("%d",&n);
	for(int i=0;i<n;++i){
		scanf("%s",s[i]);
		for(int j=0;j<n;++j){
			r[i]+=s[i][j]=='C';
			c[j]+=s[i][j]=='C';
		}
		ans+=r[i]*(r[i]-1)/2;
	}
	for(int i=0;i<n;++i)ans+=c[i]*(c[i]-1)/2;
	printf("%d\n",ans);
	return 0;
}

