#include<iostream>
#include<cstring>
#include<cstdio>
const int N=105;
char a[N],b[N],c[N];
int n,ans;
using namespace std;
int main(){
	cin>>n;
	for(int i=0;i<n;i++){
		cin>>a;
		for(int j=0;j<n;j++)if(a[j]=='C')b[i]++,c[j]++;
	}
	for(int i=0;i<n;i++)ans+=(b[i]-1)*b[i]/2+(c[i]-1)*c[i]/2;
	cout<<ans<<endl;
}
