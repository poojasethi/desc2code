#include <bits/stdc++.h>
using namespace std;
int main()
{
int n,i,j,k,sum=0,g=0,sum1=0;
char a[100][100];
cin>>n;
for(i=0;i<n;i++)
{
for(j=0;j<n;j++)
{
cin>>a[i][j];
}
}
sum=0;
for(i=0;i<n;i++)
{sum=0;
for(j=0;j<n;j++)
{
if(a[i][j]=='C')
sum++;
}
g+=sum*(sum-1)/2;
sum=0;
for(j=0;j<n;j++)
{if(a[j][i]=='C')sum++;}
g+=sum*(sum-1)/2;
}
cout<<g<<endl;
return 0;}

