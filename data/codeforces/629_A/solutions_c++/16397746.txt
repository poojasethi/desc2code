#include<iostream>
using namespace std;
char a[101][101],c[101],r[101];
int n,i,j,count;
int fun(int n)
 {
    return (n*(n-1))/2;
 }
int main()
 {
  cin>>n;
  for(i=0;i<n;i++)
  cin>>a[i];
  for(i=0;i<n;i++)
   for(j=0;j<n;j++)
  {
    c[i]+=a[i][j]=='C';
    r[j]+=a[i][j]=='C';
  }
  for(i=0;i<n;i++)
    count+=fun(c[i])+fun(r[i]);
  cout<<count;
    return 0;
 }
