def ints():
    return map(int, raw_input().split())

def floats():
    return map(float, raw_input().split())

n, = ints()
c = []
for i in range(n):
    s = raw_input()
    c.append(s)

cnt = 0
for i in range(n):
    bars = c[i].count('C')
    cnt += bars * (bars - 1) / 2
    bars = 0
    for j in range(n):
        if c[j][i] == 'C': bars += 1
    cnt += bars * (bars - 1) / 2

print cnt
