n = int(raw_input())

cake = ['' for i in range(n)]
for i in range(n):
    cake[i] = raw_input()

ans = 0
for c in cake:
    k = c.count('C')
    ans += k * (k-1)/2
for i in range(n):
    k = len([c[i] for c in cake if c[i] == 'C'])
    ans += k * (k-1)/2
print ans