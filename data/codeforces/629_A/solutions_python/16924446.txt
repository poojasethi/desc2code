n=int(raw_input())
mat=[]
for i in range(0,n):
    mat.append(str(raw_input()))
ans=0
for i in range(0,n):
    cnt=0
    for ii in range(0,n):
        if mat[i][ii]=='C':
            cnt+=1
    ans+=(cnt*(cnt-1))/2
for i in range(0,n):
    cnt=0
    for ii in range(0,n):
        if mat[ii][i]=='C':
            cnt+=1
    ans+=(cnt*(cnt-1))/2
print ans