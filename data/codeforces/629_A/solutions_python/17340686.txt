n=int(raw_input())
a=[]
b=[]
add=0
for i in range(n):
    a=list(raw_input())
    b.append(a)
for i in range(n):
    c=0
    c=b[i].count('C')
    add+=c*(c-1)/2
for i in range(n):
    d=0
    for j in range(n):
        if b[j][i]=='C':
            d+=1
    add+=d*(d-1)/2
print add