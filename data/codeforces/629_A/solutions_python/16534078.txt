def solve(g):
    return sum(map(lambda x: x*(x-1)/2,[row.count('C') for row in g]))

n = input()

ans = 0
g = [[x for x in raw_input()] for i in xrange(n)]

print solve(g)+solve(zip(*g))