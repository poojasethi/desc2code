n = int(raw_input())


def comb(a):
    return a * (a-1) / 2

ans = 0

store = str()

for _ in range(n):
    x = raw_input()
    store += x
    ans += comb(x.count('C'))

for _ in range(n):
    ans += comb(store[_::n].count('C'))
    
    


print ans
