# your code goes here
n=input()
a=[]
c=0
for i in xrange(n):
	s=list(raw_input())
	n1 = s.count('C')
	c += n1*(n1-1)/2
	a += [s]
a = [list(x) for x in zip(*a)]
for i in xrange(n):
	n1 = a[i].count('C')
	c += n1*(n1-1)/2
print c