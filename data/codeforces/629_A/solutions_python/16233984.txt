n = input()
rows = []
cnt = 0
for _ in xrange(n):
    row = raw_input()
    v = row.count('C')
    cnt += (v*(v-1))/2
    rows.append(row)

for i in xrange(n):
    v = 0
    for j in xrange(n):
        if rows[j][i] == 'C':
            v += 1
    cnt += (v*(v-1))/2
print cnt
