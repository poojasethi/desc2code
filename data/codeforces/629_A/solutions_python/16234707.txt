n = int(raw_input())
c = [raw_input() for _ in xrange(n)]
rows = [0] * n
cols = [0] * n
for i in xrange(n):
    for j in xrange(n):
        if c[i][j] == 'C':
            rows[i] += 1
            cols[j] += 1

ans = sum(map(lambda r: r*(r-1)//2, rows))
ans += sum(map(lambda c: c*(c-1)//2, cols))
print ans
