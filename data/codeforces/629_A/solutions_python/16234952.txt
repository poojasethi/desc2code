n = int(raw_input())
cake = [[False for x in xrange(n)] for x in xrange(n)]
for i in xrange(n):
	temp = raw_input()
	for j in xrange(n):
		if temp[j] == "C":
			cake[i][j] = True

out = 0
for i in xrange(n):
	for j in xrange(n):
		if cake[i][j]:
			for k in xrange(i+1, n):
				if cake[k][j]:
					out += 1
			for k in xrange(j+1, n):
				if cake[i][k]:
					out += 1

print out
