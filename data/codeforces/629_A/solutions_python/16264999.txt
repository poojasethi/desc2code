n = input()
ans = 0
l = []

for i in range(n):
    temp = []
    l.append(temp)
    
for i in range(n) :
    a = raw_input()
    if a.count('C') > 0:
        ans += a.count('C')*(a.count('C')-1)/2
    for i in range(n):
        l[i].append(a[i])
    


for i in range(n):
    if l[i].count('C') > 0:
        ans += l[i].count('C')*(l[i].count('C')-1)/2

print ans
