n=int(raw_input())
r=[0 for i in xrange(n)]
c=[0 for i in xrange(n)]
for i in xrange(n):
    a=raw_input().strip()
    for j in xrange(n):
        if a[j]=='C':
            r[i]+=1
            c[j]+=1
ans=0
for i in r:ans+=i*(i-1)/2
for i in c:ans+=i*(i-1)/2
print ans
