n = input()

M = []
for _ in xrange(n):
    M.append(raw_input())
rowCounter = [0] * n
colCounter = [0] * n
for i in xrange(n):
    for j in xrange(n):
        if M[i][j] == 'C':
            rowCounter[i] += 1
for j in xrange(n):
    for i in xrange(n):
        if M[i][j] == 'C':
            colCounter[j] += 1

print sum(i*(i-1)/2 for i in rowCounter) + sum(i*(i-1)/2 for i in colCounter)
