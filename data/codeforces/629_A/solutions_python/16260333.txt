def f(g):
  t=0
  for v in g:
    x=v.count('C')
    t+=x*(x-1)/2
  return t
a=[raw_input() for _ in range(input())]
print f(a)+f(zip(*a))
