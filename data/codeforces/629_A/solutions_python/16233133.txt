n = int(raw_input())
b = [raw_input().strip() for _ in xrange(n)]
ans = 0
for r in b + zip(*b):
    k = r.count('C')
    ans += k * (k - 1) / 2
print ans
