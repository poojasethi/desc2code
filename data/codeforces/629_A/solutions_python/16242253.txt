import math
n=int(raw_input())
s=[0 for j in range(n)]
ans=0
for k in range(n):
    s[k]=raw_input()
    c=s[k].count('C')
    ans+=c*(c-1)/2
for k in range(n):
    no_of_c=0
    for i in range(n):
        if s[i][k]=='C':
            no_of_c+=1
    ans+=no_of_c*(no_of_c-1)/2
print int(ans)
    
