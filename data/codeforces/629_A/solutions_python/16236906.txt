from math import factorial
n=int(raw_input())
d=[[]]*n
for i in xrange(n):
    d[i]=raw_input()
l1=0
for i in xrange(n):
    k=0
    for i2 in xrange(n):
        if d[i][i2]=="C":
            k+=1
    if k>1:
        l1+=factorial(k)/(factorial(2)*factorial(k-2))
l2=0
for i in xrange(n):
    k=0
    for i2 in xrange(n):
        if d[i2][i]=="C":
            k+=1
    if k>1:
        l2+=factorial(k)/(factorial(2)*factorial(k-2))
print l1+l2