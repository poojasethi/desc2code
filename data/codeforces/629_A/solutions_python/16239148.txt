import math

def C(n, r):
	f = math.factorial
	return f(n) / f(n - r) / f(r)

n = int(raw_input().rstrip())
a = [[0] * n for i in range(n)]

for i in range(n):
	s = raw_input().rstrip()
	for j in range(n):
		if s[j] == 'C':
			a[i][j] = 1
		else:
			a[i][j] = 0

ans = 0
for i in range(n):
	m = sum(a[i])
	if m > 1:
		ans += C(m, 2)

#a = a.T
for j in range(n):
	m = 0
	for i in range(n):
		m += a[i][j]
	if m > 1:
		ans += C(m, 2)

print ans

