t=1

while t>0:
    n=int(raw_input())
    row=[0]*n
    col=[0]*n
    for i in range(n):
        a=raw_input()
        for j in range(n):
            if a[j]=="C":
                row[i]+=1
                col[j]+=1
    r=0
    for i in range(n):
        if row[i]>1:
            x=row[i]
            r+=((x*(x-1))/2)
        if col[i]>1:
            x=col[i]
            r+=((x*(x-1))/2)
    print(r)        

    t-=1
