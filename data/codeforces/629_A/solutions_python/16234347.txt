n = input()
s = []
ans = 0
for i in xrange(n):
    t = raw_input()
    c = t.count('C')
    ans += c * (c - 1) / 2
    s.append(t)
for j in xrange(n):
    c = 0
    for i in xrange(n):
        if s[i][j] == 'C':
            c += 1
    ans += c * (c - 1) / 2
print ans
