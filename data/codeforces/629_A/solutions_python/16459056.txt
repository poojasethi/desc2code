# your code goes here
n = int(raw_input())
arr=[]
def f(a):
	return (a*(a-1)/2)
for i in range(n):
	s = raw_input()
	temp=[]
	for j in s:
		temp.append(j)
	arr.append(temp)
rows=[0]*n
cols=[0]*n
for i in range(n):
	for j in range(n):
		if arr[i][j] == 'C':
			rows[i]+=1
			cols[j]+=1
ans = 0
for i in range(n):
	ans += f(rows[i])+f(cols[i])
print ans