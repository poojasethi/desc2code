#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Author  : Napoleon
# @Mail    : tyfdream@163.com
# @Data    : 2016-02-24 10:27:02
# @Version : python 2.7

import os
def f(x):
	ans = 0
	for i in x:
		t = i.count('C')
		ans += t*(t-1)/2
	return ans

n = int(raw_input())
a = [raw_input() for i in range(n)]
print f(a) + f(zip(*a))