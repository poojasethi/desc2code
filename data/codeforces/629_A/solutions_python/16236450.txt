n = int(raw_input())
lst = []
ans = 0
for i in range(n):
    temp = raw_input()
    lst.append(temp)

lst2 = lst

for i in range(n):
    Cs = lst[i].count('C')
    ans += (Cs*(Cs-1))/2

lst2 = zip(*lst)

for i in range(n):
    Cs = lst2[i].count('C')
    ans += (Cs*(Cs-1))/2

print (int(ans))