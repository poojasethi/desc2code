n = input()
matrix = []
result = 0
for i in xrange(n):
	matrix.append(list(raw_input()))
	tmp = matrix[i].count('C')
	result += (tmp*(tmp-1))/2
for i in xrange(n):
	count = 0
	for j in xrange(n):
		if (matrix[j][i] == 'C'):
			count += 1
	result += (count*(count-1))/2
print result