n = int(raw_input())
s = []
for i in range(n):
    s.append(raw_input())

vr = [0]*n
hr = [0]*n

for i in range(n):
    for j in range(n):
        if s[i][j] is 'C': 
            vr[i] = vr[i] + 1
            hr[j] = hr[j] + 1

ans = 0
for i in range(n):
    def c(x): return x*(x-1)/2
    ans = ans + c(vr[i])
    ans = ans + c(hr[i])

print ans
