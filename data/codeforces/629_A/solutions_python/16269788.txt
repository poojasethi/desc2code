n = int( raw_input() )

MAXN = 100

row = [0]*MAXN
col = [0]*MAXN

for i in range( 0, n ):
	x = raw_input()
	for j in range( 0, n ):
		if x[j] == 'C':
			row[i] += 1
			col[j] += 1

ans = 0

for i in range( 0, n ):
	ans += row[i] * ( row[i]-1 ) / 2
	ans += col[i] * ( col[i]-1 ) / 2
	
print "%d" % (ans)