__author__ = '11x256'
n = int(raw_input())
v = []

count  = 0
for i in range(0,n):
    v.append(raw_input())

for i in range(0,n):
    t1 = 0
    t2 = 0
    for j in range(0,n):
        if v[i][j]=='C':
            t1+=1
        if v[j][i]== 'C':
            t2+=1

    if t1 > 1:
        count += t1 * (t1-1) * 0.5
    if t2> 1:
        count += t2*(t2-1) *0.5


print int(count)