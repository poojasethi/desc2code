n=int(raw_input())
ans=0
col_cnts=[0]*n
for i in range(n):
    l=list(raw_input())
    now_cnt=l.count("C")
    ans+=now_cnt*(now_cnt-1)/2
    for j in range(n):
        if l[j]=='C':
            col_cnts[j]+=1
for j in range(n):
    ans+=col_cnts[j]*(col_cnts[j]-1)/2
print ans
