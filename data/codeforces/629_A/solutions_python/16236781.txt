n = int(raw_input())
res = 0
arr = []
for i in range(n):
    arr.append(0)
for i in range(n):
    temp = []
    chocs = 0
    cell = raw_input()
    for j in range(n):
        if cell[j] == "C":
            chocs += 1
            arr[j] += 1
    res += chocs*(chocs - 1)
for i in range(n) :
    res += arr[i] * (arr[i] - 1)
print res / 2
