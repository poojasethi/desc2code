n = int(raw_input())
ans = 0
col_cnts = [0]*n
for i in xrange(n):
	l = list(raw_input())
	row_cnt = l.count("C")
	ans += row_cnt * (row_cnt - 1) / 2
	for j in xrange(n):
		col_cnts[j] += 1 if l[j] == "C" else 0
for j in xrange(n):
	ans += col_cnts[j] * (col_cnts[j] - 1) / 2
print ans