def solve(board):
	
	ans = 0
	for row in board:
		c = row.count('C')
	#	print c
		ans += (c*(c-1))/2
	
	for i in range(len(board)):
		c = 0
		for j in range(len(board)):
			if board[j][i] == 'C':
				c += 1
		ans += (c*(c-1))/2
	return ans

n = input()
board = []
for _ in range(n):
	board.append(list(raw_input().strip()))
print solve(board)