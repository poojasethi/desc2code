n = input()
A=map(lambda x: raw_input(), xrange(n))
rowcount=[ len([i for i in a if i=='C']) for a in A ]
columncount=[0 for i in xrange(n)]
for j in xrange(n):
    tempcolumncount=0
    for i in xrange(n):
        if A[i][j]=='C':
            tempcolumncount+=1
    columncount[j]=tempcolumncount
def paircount(x):
    return x*(x-1)/2
print sum([paircount(i) for i in rowcount])+sum([paircount(i) for i in columncount])

