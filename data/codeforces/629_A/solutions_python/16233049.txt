def solve(matrix, size):
	ans = 0
	for i in range(size):
		cnt = 0
		for j in range(size):
			if(matrix[i][j] == 'C'):
				cnt += 1
		ans += cnt * (cnt - 1) / 2

		cnt = 0
		for j in range(size):
			if(matrix[j][i] == 'C'):
				cnt += 1
		ans += cnt * (cnt - 1) / 2
	return ans

if(__name__ == '__main__'):
	size = int(raw_input())
	matrix = []
	for i in range(size):
		matrix.append(raw_input())
	print(solve(matrix, size))
