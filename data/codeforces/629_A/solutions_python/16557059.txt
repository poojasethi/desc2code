n = int(raw_input())

c = []
for i in range(n):
    r = []
    for j in raw_input():
        r.append(j)
    c.append(r)
ans = 0
for i in range(n):
    t = 0
    for j in range(n):
        if c[i][j] == 'C':
            t += 1
    if t >= 2:
        ans += t*(t-1)/2

for i in range(n):
    t = 0
    for j in range(n):
        if c[j][i] == 'C':
            t += 1
    if t >= 2:
        ans += t*(t-1)/2

print ans