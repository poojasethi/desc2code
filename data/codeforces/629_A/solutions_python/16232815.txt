n = int(raw_input())

cake = []
for i in range(n):
    cake.append(raw_input())

total = 0

for r in range(n):
    count = cake[r].count('C')
    total += max(count * (count - 1) / 2, 0)

for c in range(n):
    count = 0
    for r in range(n):
        count += 1 if cake[r][c] == 'C' else 0
    total += max(count * (count - 1) / 2, 0)

print total