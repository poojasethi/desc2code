#!/usr/bin/python

from collections import deque

n = int(raw_input())

M = []
for i in range(n):
    M.append(raw_input())

ans = 0
for i in range(n):
    s = 0
    for j in range(n):
        if M[i][j]=='C':
            s = s + 1
    ans += s*(s-1)//2
    
for j in range(n):
    s = 0
    for i in range(n):
        if M[i][j]=='C':
            s += 1
    ans += s*(s-1)//2
    
print ans
