#!/usr/bin/python
# -*-coding:utf-8 -*-
import itertools
from collections import Counter
def f(a):
    value=0
    if 'C'in a:
        value=(a['C'])*(a['C']-1)/2
    return value
n=int(raw_input())
cake=[[0 for i in range(n)]for j in range(n)]
for i in range(n):
    cake[i]=list(raw_input())
count=0
for i in range(n):
    x=Counter(k for k in cake[i])
    y=Counter(zip(*cake)[i])
    count=count+f(dict(x))+f(dict(y))
print count