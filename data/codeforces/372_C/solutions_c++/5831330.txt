#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 150010
#define int64 long long
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
struct ww {
	int r; int64 a;
} g[N];
int i,j,k,n,m,t,last,l,r,d;
int64 f[N],x,y,z,an;
inline void Into(int x,int64 A) {
	for (;l<=r&&g[r].a<A;r--);
	g[++r].r=x,g[r].a=A;
}
int main() {
	scanf("%d%d%d",&n,&m,&d); last=1;
	For(t,1,m) {
		scanf("%I64d%I64d%I64d",&x,&y,&z);
		k=z,z-=last,last=k; z*=d;
		l=1,r=0; j=1;
		For(i,1,n) {
			for (;j<=n&&j-z<=i;j++) Into(min((int64)n,j+z),f[j]);
			f[i]=g[l].a;
			for (;l<=r&&g[l].r==i;l++);
		}
		For(i,1,n) f[i]+=y-abs(i-x);
	}
	an=(int64)(-1e16);
	For(i,1,n) an=max(an,f[i]);
	printf("%I64d\n",an);
	return 0;
}
