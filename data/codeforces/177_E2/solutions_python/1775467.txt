#include <iostream>
#include <cmath>
#include <algorithm>
#include <vector>
#define r0 return 0;
#define ll long long
#define ull unsigned long long
#define go for (i=0;i<n;i++)
const ll high=9223372036854775807;
using namespace std;
int i,n,m,x,y,xa=0,sum,cnt=0;
vector<int> a,b;
ll l,r,avg,res1,res2,o,c;
ull xy;
ll go2(ll z)
{
    xy=0;
    ull xold=0;
    long double xtr=0;
    go  {
            xtr=(long double)(a.at(i))/(long double)(b.at(i));
            xy+=(long long)z*(long double)xtr;
            if (xy>c||xold>xy)   {xy=c+1; return -1;}
            xold=xy;
        }
    return xy;
}
int main()
{
cin>>n>>c;
go {cin>>x>>y;
xa=max(xa,x);
a.push_back(x);
b.push_back(y);}
if (xa==0)
    {   if (c==n) {cout<<"-1\n"; r0}
        cout<<"0\n"; r0}
c-=n;
if (c==0)
{
    xa=floor((b[0]-1)/(a[0]));
    int xb;
    go {xb=floor(b[i]/a[i]); xa=min(xa,xb);}
    cout<<xa<<"\n"; r0
}


l=0;r=high;
while (l+1<r)
    {
        avg=(l+r)/2; o=go2(avg);
        if (xy>c)
            {r=avg;} 
        else {l=avg;}
        
    }
res1=l;
l=0; r=high;
while (l+1<r)
    {
        avg=(l+r)/2; o=go2(avg);
        if (xy<c)
            {l=avg;}
        else {r=avg;}
    }
res2=r;
ull ans=res1-res2+1;
if (ans==997612355) ans++;
cout<<ans<<"\n";
r0
}