from collections import defaultdict, deque
import sys

n,m = map(int, raw_input().split())
g, langs = dict(), defaultdict(set)
for i in xrange(n):
    k = map(int, raw_input().split())
    g[i] = set(k[1:])
    for l in k[1:]:
        langs[l].add(i)

enter, groups = set(range(n)), 0

def bfs(node):
    q = deque([node])
    while q and enter:
        k = q.popleft()
        for lang in g.get(k, ()):
            for n in langs[lang]:
                if n in enter:
                    enter.discard(n)
                    q.append(n)

if not langs:
    print n
    exit(0)

while enter:
    groups += 1
    bfs(enter.pop())
    
print groups-1