#include <iostream>
using namespace std;


const int max_n = 100110;
const int MAX = 100010;
int a[max_n];
int cnt[max_n];
int par[max_n];
int ans[max_n];
int l[max_n],r[max_n];
int main()
{
	int n,m;
	cin>>n>>m;
	for(int i=1;i<=n;i++)
	{
		cin>>a[i];
		if(a[i]<MAX)
			cnt[a[i]]++;
	}
	for(int i=0;i<m;i++)
		cin>>l[i]>>r[i];
	for(int i=1;i<=MAX;i++)
		if(cnt[i]>=i)
		{
			for(int j=1;j<=n;j++)
			{
				par[j] = par[j-1];
				if(a[j]==i)
					par[j]++;
			}
			for(int j=0;j<m;j++)
			{
				if(par[r[j]] - par[l[j]-1]==i)
					ans[j]++;
			}
		}
	for(int j=0;j<m;j++)
		cout<<ans[j]<<endl;
	
	return 0;
}
