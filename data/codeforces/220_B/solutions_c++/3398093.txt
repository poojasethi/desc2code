#include<stdio.h>
int b[450],a[100010],c[100010],data[500][100010];
int main(){
    int n,m,i,j,l,r,k,cnt;
    while(scanf("%d%d",&n,&m)!=EOF){
		for(i=1;i<=n;i++){
			scanf("%d",&a[i]);
			if(a[i]<=n)
				c[a[i]]++;
		}
		k=1;
		for(i=1;i<=n;i++)
			if(a[i]<=n&&c[a[i]]>=a[i]){
				b[k++]=a[i];
				c[a[i]]=0;
			}
			for(i=1;i<=k;i++)
				for(j=1;j<=n;j++){
					data[i][j]=data[i][j-1];
					if(b[i]==a[j])
						data[i][j]++;
				}
				while(m--){
					scanf("%d%d",&l,&r);
					cnt=0;
					for(i=1;i<k;i++)
						if((data[i][r]-data[i][l-1])==b[i])
							cnt++;
						printf("%d\n",cnt);
				}
	}
    return 0;
}
 		 				 	  				  		  			