#include <cstdio>
#include <cstring>

const int maxn=100010;
const int maxm=100010;

int n,q,a[maxn],cnt[maxn],
	l[maxm],r[maxm],ans[maxm];
int sum[maxn];

int main()
{
	scanf("%d%d",&n,&q);
	for(int i=1;i<=n;++i){
		scanf("%d",a+i);
		if(a[i]<=n) ++cnt[a[i]];
	}
	for(int i=1;i<=q;++i)
		scanf("%d%d",l+i,r+i);
	for(int i=1;i<=n;++i)
		if(cnt[i]>=i){
			memset(sum,0,sizeof sum);
			for(int j=1;j<=n;++j)
				if(a[j]==i) sum[j]=sum[j-1]+1;
				else sum[j]=sum[j-1];
			for(int j=1;j<=q;++j)
				if(sum[r[j]]-sum[l[j]-1]==i) ++ans[j];
		}
	for(int i=1;i<=q;++i) printf("%d\n",ans[i]);
	return 0;
}
