#include <iostream>

using namespace std;

const int MAXN = 101*1000;
int n, q, a[MAXN], l[MAXN], r[MAXN], p[MAXN], cnt[MAXN], out[MAXN];

int main() {
    cin >> n >> q;
    for (int i = 1; i <= n; i++) {
        cin >> a[i];
        if (a[i] < MAXN) cnt[a[i]]++;
    }
    for (int i = 0; i < q; i++) cin >> l[i] >> r[i];
    for (int num = 1; num < MAXN; num++) if (cnt[num] >= num) {
        p[0] = 0;
        for (int i = 1; i <= n; i++) p[i] = p[i-1] + (a[i] == num);
        for (int i = 0; i < q; i++) out[i] += p[r[i]]-p[l[i]-1] == num;
    }
    for (int i = 0; i < q; i++) cout << out[i] << endl;
    return 0;
}