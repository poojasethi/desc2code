#include <cstdio>

using namespace std;

const int N = 100010;

int a[N], cnt[N], sum[N], q[N][2], n, m;
int ans[N], x[N], y[N];

int main () {
	int i, j;
	scanf ("%d%d", &n, &m);
	for (i = 1; i <= n; ++i){
		scanf ("%d", &a[i]);
		if (a[i] <= n)
			cnt[a[i]] ++;
	}
	for (i = 1; i <= m; ++i)
		scanf ("%d%d", &x[i], &y[i]);;
	for (i = 1; i <= n; ++i) 
		if (cnt[i] >= i) {
			for (j = 1; j <= n; j++)
				sum[j] = sum[j - 1] + (a[j] == i ? 1 : 0);
			for (j = 1; j <= m; ++j) 
				if (sum[y[j]] - sum[x[j] - 1] == i)
					ans[j] ++;
		}
	for (i = 1; i <= m; ++i)
		printf ("%d\n", ans[i]);
	return 0;
}
