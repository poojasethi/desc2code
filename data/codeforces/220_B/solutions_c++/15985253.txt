#include<bits/stdc++.h>

using namespace std;

#define tm (tl + tr >> 1)
#define N 100005

vector < int > V;

int A[N],C[N],L[N],P[N],R[N],Asd[N],n,q,i,j,x;

int main(){

	cin >> n >> q;

	for(i=1;i<=n;i++){
		cin >> x;
		A[i] = x;
		if(x <= n && ++C[x] == x)
			V.push_back(x);
	}

	for(i=1;i<=q;i++)
		cin >> L[i] >> R[i];

	for(i=0;i<V.size();i++){

		for(j=1;j<=n;j++)
			P[j] = P[j-1] + (A[j] == V[i]);

		for(j=1;j<=q;j++)
			Asd[j] += ( P[ R[j] ] - P[ L[j]-1 ] == V[i] );

	}

	for(i=1;i<=q;i++)
		cout << Asd[i] << endl;

	return 0;
}
