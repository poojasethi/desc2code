#include <cstdio>
#include <algorithm>
using namespace std;

const int N = 100050;
int a[N], m, n, l[N], r[N], freq[N], sum[N], res[N];
int main ()
{
	scanf("%d%d", &n, &m);
	for (int i = 1; i <= n; ++i)
	{
		scanf("%d", a + i);
		if (a[i] <= n) ++freq[a[i]];
	}
	for (int i = 1; i <= m; ++i)
		scanf("%d%d", l + i, r + i);
	for (int i = 1; i <= n; ++i) if (freq[i] >= i)
	{
		for (int j = 1; j <= n; ++j) sum[j] = sum[j - 1] + (a[j] == i);
		for (int j = 1; j <= m; ++j)
			if (sum[r[j]] - sum[l[j] - 1] == i) ++res[j];
	}
	for (int i = 1; i <= m; ++i) printf("%d\n", res[i]);
	return 0;
}