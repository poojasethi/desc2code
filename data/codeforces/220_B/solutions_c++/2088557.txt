#include <cstdio>

using namespace std;

int a[100001],c[100001],s[100001],l[100001],r[100001],ans[100001];

int main(void)
{
  int n,m;
  scanf("%d %d",&n,&m);
  for(int i=1;i<=n;++i)
  {
    scanf("%d",&a[i]);
    if(a[i]<=n)
      ++c[a[i]];
  }
  for(int i=1;i<=m;++i)
    scanf("%d %d",&l[i],&r[i]);
  for(int k=1;k<=n;++k)
  {
    if(c[k]<k)
      continue;
    for(int i=1;i<=n;++i)
    {
      s[i]=s[i-1];
      if(a[i]==k)
        ++s[i];
    }
    for(int i=1;i<=m;++i)
      if(s[r[i]]-s[l[i]-1]==k)
        ++ans[i];
  }
  for(int i=1;i<=m;++i)
    printf("%d\n",ans[i]);
  return 0;
}