n = input()
t = map(int, raw_input().split())

print max([sum([t[k] for k in range(j, n, n/i)]) for i in range(3, n+1) for j in range(n/i) if n%i==0])

