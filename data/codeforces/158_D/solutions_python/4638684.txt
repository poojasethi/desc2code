n = input()
m = map(int, raw_input().strip().split())

diss = []
diss.append(sum(m))
for i in range(2,n/2+1):
    if n%i == 0 and n/i >=3:
        for j in range(i):
            d = sum(m[j::i])
            diss.append(d)

print max(diss)