n = input()
s = map(int,raw_input().split())
mmax = sum(s)
for i in range(2,(n)/2):
	if n%i == 0:
		mmax = max(mmax, max(sum(s[j::i]) for j in range(i)) ) 
		
print mmax		
		