n = input()
t = map(int, raw_input().split())
ans = sum(t)
for step in xrange(2, n):
    if n / step < 3:
        break
    if n % step != 0:
        continue
    for start in xrange(step):
        ans = max(ans, sum(t[x] for x in xrange(start, n, step)))
print ans
