N=int(raw_input())
pointStr=raw_input()
points=map(int,pointStr.split(' '))
max=sum(points)


for i in range(2,N/3+1):
	if N%i==0:
		for shift in range(i):
			pl=points[shift::i]
			if sum(pl)>max:
				max=sum(pl)

print max
