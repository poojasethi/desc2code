n=input()
a=map(int,raw_input().split())
S=sum(a)
for i in range(1,n/3+1):
    if not n%i:
        for j in range(i):
            S = sum(a[j:n:i]) if sum(a[j:n:i])>S else S
print S


