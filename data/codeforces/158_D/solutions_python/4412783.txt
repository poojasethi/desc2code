n = int(raw_input())
t = map(lambda x: int(x), raw_input().split())

maxsum = -1000*20000

for i in xrange(1,len(t)/3+1):
	if 0 == len(t)%i:
		for j in xrange(i):
			maxsum = max(maxsum, sum(t[j::i]))

print maxsum