n = input()
t = map(int, raw_input().split())
r = sum(t)
for i in xrange(3, n+1):
    if n%i: continue
    k = n / i
    d = [0] * k
    for j, x in enumerate(t):
        d[j%k] += x
    r = max(r, max(d))
print r
