n=int(raw_input())
l=map(int,raw_input().split())
from math import *
res=sum(l)
for i in range(2,n/3+1):
  if n%i==0:
    for j in range(i):
      res=max(res,sum(l[j::i]))
print res
