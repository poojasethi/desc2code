n=int(raw_input())
a=map(int,raw_input().split())
d=[i for i in xrange(1,n+1) if (n%i==0) and (n/i>=3)]
mx=sum(a)
for m in d:
    zz=[0]*m
    for i,j in enumerate(a):
        zz[i%m]+=j
    mx=max(mx,*zz)
print mx 
