n = input()
f = [n/i for i in range(3,n+1) if n%i==0]
t = [int(i) for i in raw_input().split()]
print max(sum(t[j:n:i]) for i in f for j in range(i))
