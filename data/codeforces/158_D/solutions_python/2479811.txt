n = input()
t = map(int, raw_input().split())
print max([sum(t[x :: y]) for y in range(1, n / 3 + 1) if not n % y for x in range(y)])