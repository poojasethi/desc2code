n = input()
X = map(int, raw_input().split())
best = sum(X)
for d in range(3, n+1):
	if n%d: continue
	step = n/d
	for i in range(step):
		best = max(best, sum(X[i::step]))
print best
