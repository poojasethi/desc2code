n = input()
t = map(int, raw_input().split())
res = sum(t)
for x in [x for x in range(1, n / 3 + 1) if not n % x]:
	res = max(res, max([sum(t[ti :: x]) for ti in range(x)]))
print res