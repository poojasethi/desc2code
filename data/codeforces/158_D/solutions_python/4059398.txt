n = input()
t = map(int, raw_input().split())
print max([sum(t[i::j]) for j in range(1, n/3+1) if n%j == 0 for i in range(j)])
