def solve(a):
  n = len(a)
  res = sum(a)
  p = 2
  while n/p >= 3:
    if n % p == 0:
      for i in range(p):
        res = max(res, sum(a[i::p]))
    p += 1
  return res

n = int(raw_input())
t = map(int, raw_input().split())
print solve(t)
