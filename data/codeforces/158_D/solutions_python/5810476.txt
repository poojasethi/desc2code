I=lambda:map(int, raw_input().split())
n = input()
a = I()
ans = sum(a)
for x in [x for x in xrange(1, n / 3 + 1) if not n % x]:
    ans = max(ans, max([sum(a[ti :: x]) for ti in xrange(x)]))
print ans