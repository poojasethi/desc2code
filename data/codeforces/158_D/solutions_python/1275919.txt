def solve():
	n = int(raw_input())
	t = map(int,raw_input().split(' '))
	max = sum(t)
	for i in range(3,n/2+1):
		if n%i != 0: continue
		k=n/i
		for j in range(k):
			s = sum(t[j::k])
			if s>max:max=s
	print(max)

solve()