n = input()
t = map(int, raw_input().split())

nmax = sum(t)
for i in xrange(2, (n+2)/3+1):
    if n%i == 0 and n/i >= 3:
        nmax = max(sum(t[::i]), nmax)
        for j in xrange(1, i):
            nmax = max(sum(t[j::i]), nmax)
print nmax