#http://codeforces.ru/problemset/problem/158/D
n, t = input(), map(int, raw_input().split())
print max(sum(t[x::i]) for i in xrange(1, n/3+1) if n%i<1 for x in xrange(i))