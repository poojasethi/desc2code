n=int(raw_input())

maxi=-100000000
a= [ int(x) for x in raw_input().split() ]
lena=len(a)

for i in range(1,n):
 if lena%i==0 and lena/i > 2:
  for j in range(i):
   maxi=max(maxi,sum(a[j%i::i]))
print maxi