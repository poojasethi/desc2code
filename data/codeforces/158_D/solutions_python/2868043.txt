n=input()
a=map(int,raw_input().split())
print max(sum(a[j::(n/i)]) for i in range(3,n+1) if n%i==0 for j in range(n/i))
