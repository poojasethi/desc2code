n = int(raw_input())
t = map(int, raw_input().split())

ss=[sum(t)]
dd = []
for i in xrange(2, n/2 + 1):
    if n%i == 0:
        dd.append(i)

for d in dd:
    for i in xrange(0,d):
        p = t[i::d]
        if len(p) >= 3:
            ss.append(sum(p))

print max(ss)
