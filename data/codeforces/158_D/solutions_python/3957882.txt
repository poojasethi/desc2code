n=input()
t=map(int,raw_input().split())
print max(sum(t[s::i])for i in xrange(1,n/3+1)if n%i<1 for s in xrange(i))