n=int(raw_input())
s=[int(i) for i in raw_input().split()]
r=[sum(s),]
for i in xrange(1,n+1):
    if not n%i:
        for j in xrange(i):
            if len(s[j:n:i])>2:
                r.append(sum(s[j:n:i]))
print max(r)
