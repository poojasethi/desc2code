n = input()
t = map(int, raw_input().split())

res = sum(t)
for f in range(3, n + 1):
  if n % f == 0:
    step = n / f
    for k in range(step):
      res = max(res, sum(t[k::step]))

print res