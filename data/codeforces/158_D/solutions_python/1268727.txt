n = int(raw_input())
t = [ int(i) for i in raw_input().split() ]

ret = sum(t)
for i in xrange(1+1, n/3+1):
    if n % i == 0:
        for j in range(i):
            tmp = sum( [ t[idx] for idx in xrange(j, n, i) ] )
            ret = max(ret, tmp)
print ret 