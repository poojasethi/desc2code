n = int(raw_input())
A = map(int, raw_input().split())

res = None
for i in range(1, n + 1):
	if n % i == 0 and n // i >= 3:
		for j in range(i):
			c = 0
			for k in range(j, n, i):
				c += A[k]
			if res is None or res < c:
				res = c

print res
