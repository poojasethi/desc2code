n=int(raw_input())
s=raw_input()
a=s.split()
max=0
for i in a: max+=int(i)
i=n/2
while i>=3:
    if n%i==0:
        for j in range(0,n/i):
            b=a[j::n/i]
            mx=0
            for k in b: mx+=int(k)
            if mx>max: max=mx
    i-=1
print max