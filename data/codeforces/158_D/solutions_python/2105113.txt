n=input()
values=map(int, raw_input().split())
result=[]
steps = (i for i in xrange(1, n // 3 + 1) if not n % i)
for step in steps:
    for i in range(step):
        result.append(sum(values[i::step]))
print(max(result))