n = int(raw_input())
T = map(int, raw_input().split())

res = sum(T)
for i in range(2, n/3+1):
  if n%i != 0:
    continue
  for k in range(i):
    res = max(res, sum(T[k::i]))
print res
