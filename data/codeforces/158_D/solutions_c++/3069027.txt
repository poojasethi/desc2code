#include <iostream>
using namespace std;
int n;
int ts[1<<16];
int main() {
	cin>>n;
	int r=0;
	for(int i=0; i<n; ++i) cin>>ts[i],r+=ts[i];
	for(int k=3; k<=n; ++k) if (n%k==0) {
		int x = n/k;
		for(int a=0; a<x; ++a) {
			int s=0;
			for(int i=a; i<n; i+=x) {
				s += ts[i];
			}
			r = max(r,s);
		}
	}
	cout<<r<<'\n';
}