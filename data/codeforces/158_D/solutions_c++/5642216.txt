#include <iostream>

using namespace std;

int main()
{int n,a[20004]; long long sum=0,ma=-99999999999ll,d;
cin>>n;
for (int i=1;i<=n;i++) cin>>a[i];
for (int i=1;i<=n/3;i++) for (int k=1;k<=i;k++) {sum=0;
 {for (int j=k;j<=n;j=j+i) {sum=sum+a[j];if (j+i>=n) d=j;} if ((sum>ma) && ((d+i)%n==k)) ma=sum;}}
    cout<<ma<<endl;
    return 0;
}
