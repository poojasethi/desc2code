#include <bits/stdc++.h>

using namespace std;

int value[20005],a=1<<31,n;

int main()
{
    scanf("%d",&n);
    for(int i=0;i<n;++i) scanf("%d",&value[i]);
    for(int i=1;i*3<=n;i++)
    	if(n%i==0)
    	for(int j=0;j<i;++j)
    	{
    		int t = 0;
    		for(int k=j;k<n;k+=i)t+=value[k];
    		if(a<t)a=t;
   		}
    printf("%d\n",a);;
}