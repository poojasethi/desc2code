#include <iostream>
using namespace std ;
int main()
{
	int n, a[100000], p ,ans=-100000000;
	cin>>n;
	for(int i=0; i<n; i++) 
		cin>>a[i];
	for(int i=1; i*3<=n; i++)
 		if(n%i==0)
  			for(int j=0; j<i ; j++)
   			{
			   p=0;
		  	   for(int l=j; l<n; l+=i) p+=a[l];
   			   ans=max(ans,p) ;
   			}	
	cout << ans<<endl ;
}
