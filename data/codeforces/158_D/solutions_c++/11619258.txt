#include<iostream>
using namespace std;
int n,a[200012],res=-1e9,s;
int main(){
  cin>>n;
  for(int i=0;i<n;i++)
    cin>>a[i];
  for(int d=0;d<n/3;d++){
    if(n%(d+1))
      continue;
    for(int st=0;st<=d;st++){
      s=0;
      for(int i=st;i<n;i+=d+1)
	s+=a[i];
      if(s>res)
	res=s;
    }
  }
  cout<<res<<endl;
  return 0;
}
