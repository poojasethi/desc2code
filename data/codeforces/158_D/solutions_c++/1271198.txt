#include <stdio.h>
int n,i,res,j,s[50000],a[50000];

main()
{
 scanf("%d",&n);
 for ( i=1;i<=n;i++ )
  {
   scanf("%d",&a[i]);
   res+=a[i];
  }

 for ( i=1;i<n;i++ )
  if ( (n%i)==0 && (n/i)>2 )
   for ( j=n;j>=1;j-- )
    {
     s[j]=a[j]+s[j+i];
     if ( j<=i && s[j]>res ) res=s[j];
    }
   
 printf("%d\n",res);
}
