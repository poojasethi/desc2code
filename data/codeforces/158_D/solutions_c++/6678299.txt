#include<bits/stdc++.h>
using namespace std;

int n,maks=-100000000,a[100000],jum;

int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++) scanf("%d",&a[i]);
	for(int i=1;i*3<=n;i++){
		if(n%i==0){
			for(int j=1;j<=i;j++){
				jum=0;
				for(int k=j;k<=n;k+=i) jum+=a[k];
				maks=max(jum,maks);
			}
		}
	}
	printf("%d\n",maks);
}
