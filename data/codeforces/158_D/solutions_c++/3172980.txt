#include <iostream>
using namespace std;
int main()
{int n, a[100000]={},pr=0,ans=-100000000;
cin>>n;
for(int i=0; i<n; i++) cin>>a[i];
for(int p=1; p*3<=n; p++)
 if(n%p==0)
  for(int k=0; k<p; k++)
   {pr=0;
    for(int i=k; i<n; i+=p) pr+=a[i];
    ans=max(ans,pr);
   }
cout<<ans;
}