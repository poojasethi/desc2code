#include <cstdio>
#define FOR(x,y,z) for(int x=y;x<=z;++x)
int n,a[20005],ans;
int main(){
	scanf("%d",&n);
	FOR(i,1,n) scanf("%d",&a[i]),ans+=a[i];
	FOR(i,3,n){
		if (n%i!=0) continue;
		for(int j=1;j+(i-1)*(n/i)<=n;++j){
			int cnt=0;
			for(int k=j,l=0;l<i;++l,k+=n/i) cnt+=a[k];
			if (ans<cnt) ans=cnt;
		}
	}
	printf("%d\n",ans);
	return 0;
}
