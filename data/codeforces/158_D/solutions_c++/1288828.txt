#include <iostream>
using namespace std;

int a[20010];

int main()
{
  int i,j,k,n,max=-1000000000,sum=0;
  cin >> n;
  for(i=1;i<=n;i++)
    cin >> a[i];
  for(i=1;i<(n+1)/2;i++)
  {
    if(n%i==0)
    {
      for(j=1;j<=i;j++)
      {
	sum=0;
	for(k=j;k<=n;k+=i)
	  sum+=a[k];
	if(sum>max)
	  max=sum;
      }
    }
  }
  cout << max;
  return 0;
}