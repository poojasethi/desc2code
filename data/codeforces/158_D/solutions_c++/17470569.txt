#include<bits/stdc++.h>
using namespace std;

int n,i,a[20010],total=1<<31,j,k,t;

int main(){
	cin>>n;
	for(;i<n;i++)cin>>a[i];
	for(i=1;i*3<=n;++i){
		if(n%i==0){
			for(j=0;j<i;++j){
				for(k=j,t=0;k<n;k+=i)
				t+=a[k];total=max(total,t);
			}
		}
	}
	cout<<total<<"\n";
}
 				 	  			  			  	   								