#include <iostream>
using namespace std;
int main()
{
    int n, res=0, sum; cin >> n; int v[n];
    for(int i=0; i<n; i++) cin >> v[i], res+=v[i];
    for(int i=1; i<=n/3; i++)
    if(n%i!=0) continue; else
    for(int j=0; j<i; j++,res=max(res, sum), sum=0)
    for(int k=j; k<n; k+=i) sum+=v[k];
    cout << res<< endl;
}
