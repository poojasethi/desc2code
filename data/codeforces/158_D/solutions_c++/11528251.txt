#include<iostream>
using namespace std;
int main()
{
	int n,i,Sum,Max,j,k;
	int t[1000000];
	cin>>n;
	Max=0;
	for(i=1;i<=n;i++)
	{
		cin>>t[i];
		Max+=t[i];
	}
	for(i=1;i<=(n/3);i++)
	{
		if(n%i==0)
			for(k=1;k<=i;k++)
			{
				Sum=0;
				for(j=k;j<=n;j+=i)
					Sum+=t[j];
			if(Max<Sum)
				Max=Sum;
			}
	}
cout<<Max<<endl;
return 0;
}
