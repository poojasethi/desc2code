#include<iostream>
using namespace std;
int main()
{
  int n,i,j,k,a[20002],max=0,s;
  cin>>n;
  for(i=1;i<=n;i++) cin>>a[i];
  for(i=1;i<=n;i++) max+=a[i];
  for(i=1;i<=n/3;i++)
  if (n%i==0)
  for(j=1;j<=i;j++)
  {
    s=0;
    for(k=j;k<=n;k+=i) s+=a[k];
    if (max<s) max=s;
  }
  cout<<max;
//  system("pause");
  return 0;
}
