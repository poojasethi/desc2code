#include<iostream>
using namespace std;
int main()
{
	int n,t[20000],x=0,temp=0;
	cin>>n;
	for (int i=0; i<n; i++)
	{
		cin>>t[i];
		x+=t[i];
	}
	for (int i=3; i<=n/2; i++)
	{
		if(n%i==0)
		{
			for (int j=0; j<n/i; j++)
			{
				for (int k=j; k<n; k+=n/i)
					temp+=t[k];
				if (temp>x)
					x=temp;
				temp=0;
			}
		}		
	}
	cout<<x<<endl;
	return 0;
}
