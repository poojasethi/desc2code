#include <stdio.h>
main()
{
int i,j,n,s1,k,sum=0;

scanf("%d",&n);
int a[n];
for(i=0;i<n;i++)
 { scanf("%d",&a[i]);
     sum+=a[i];} 
for(i=1;i<=n/3;i++)
    if(n%i==0 && n/i>=3)        
   for(j=0;j<i;j++)
    { for(k=j,s1=0;k<n;k=k+i)
            s1=s1+a[k];     
      if (s1>sum)
                 sum=s1;}
printf("%d",sum);
return 0;}