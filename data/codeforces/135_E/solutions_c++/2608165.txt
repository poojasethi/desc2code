#include<cstdio>
#include<iostream>
#define fo(i,a,b) for(i=a;i<=b;++i)
using namespace std;
const int p=1000000007,mn=1010000;
typedef long long LL;
LL k,w,ans=0;
LL f[mn],g[mn],a[mn];
LL sqr(LL x){return x*x%p;}
LL pow(LL x,LL n)
{
    if(n==1)return x;
    if(n==0)return 1;
    LL t=pow(sqr(x),n/2);
    if(n%2)t=t*x%p;
    return t;
}
LL P(int x,int y)
{
    return f[x]*g[x-y]%p;
}
LL calc(int k,int w)
{
    LL res=0,v=pow(k,w);
    int i;
    fo(i,1,k)
    {
        if(i<=w)
        {
            v=v*a[k]%p;
            res=(res+sqr(P(k,i))*v)%p;
        }
        else
        {
            res=(res+sqr(P(k-i+w,w))*P(k,i-w))%p;
        }
    }
    return res;
}
int main()
{
    cin>>k>>w;
    int i;
    a[1]=1;
    fo(i,2,k)a[i]=-p/i*a[p%i]%p;
    f[0]=g[0]=1;
    fo(i,1,k)
    {
        a[k]=(a[k]+p)%p;
        f[i]=f[i-1]*i%p,g[i]=g[i-1]*a[i]%p;
    }
    ans=((calc(k,w)-calc(k,w-1)+pow(k,w))%p+p)%p;
    cout<<ans<<endl;
    return 0;
}