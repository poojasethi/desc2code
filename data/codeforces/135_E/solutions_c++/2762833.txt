#include <cstdio>
const int mo=1000000007,N=1000010;
int k,w,i;
long long f[N],g[N],h[N],o[N],ans;
long long ksm(long long a,int n)
{
	long long s=1;
	for (;n>0;n=n>>1)
	{
		if ((n&1)==1) s=s*a%mo;
		a=a*a%mo;
	}
	return s;
}
int main() {
	scanf("%d%d",&k,&w);
	f[0]=g[0]=h[0]=1;o[0]=0;
	for (i=1;i<=k;++i) {f[i]=f[i-1]*i%mo;h[i]=h[i-1]*k%mo;}
	g[k]=ksm(f[k],mo-2);
	for (i=k-1;i>0;--i) g[i]=g[i+1]*(i+1)%mo;
	for (i=0;i<=k;++i) g[i]=g[i]*g[i]%mo;
	for (i=0;i<k;++i) o[i+1]=g[i+1]*(i+1)%mo;
	for (i=1;i<=k;++i)
	{
		if (i<w) ans+=(i*f[k]%mo)*(f[k]*ksm(k,w-i-1)%mo)%mo*g[k-i]%mo;
		if (i>=w) ans+=f[k]*w%mo*f[k-i+w-1]%mo*g[k-i]%mo;
		if (i+1<w) ans+=(i*f[k]%mo)*(f[k]*ksm(k,w-i-2)%mo)%mo*o[k-i]%mo;
		if (i+1>=w) ans+=(f[k]*(w-1)%mo)*(f[k-i+w-2]*o[k-i]%mo)%mo;
	}
	ans%=mo;
	printf("%I64d\n",ans);
}
