#include<cstdio>
#include<cstdlib>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>

using namespace std;

#define mod 1000000007

typedef long long LL;

int k,w,P[1000001];

int ksm(int a,int p)
{
	if(p==0) return 1;
	int ans=ksm(a,p/2);
	ans=(int)((LL)ans*ans%mod);
	if(p%2==1) ans=(int)((LL)ans*a%mod);
	return ans;
}

int calc(int k,int w)
{
	int ans=(int)((LL)(ksm(k,w+1)-1)*ksm(k-1,mod-2)%mod);
	for(int i=1;i<=k;i++)
		if(i<=w)
			ans=(ans+(int)((LL)P[i]*P[i]%mod*ksm(k,w-i)%mod))%mod;
		else
			ans=(ans+(int)((LL)P[i]*P[i]%mod*ksm(P[i-w],mod-2)%mod))%mod;
	return ans;
}

int main()
{
	scanf("%d%d",&k,&w);
	if(k==1)
	{
		printf("1\n");
		return 0;
	}
	P[0]=1;
	for(int i=1;i<=k;i++)
		P[i]=(int)((LL)P[i-1]*(k-i+1)%mod);
	int ans=(calc(k,w)-calc(k,w-1))%mod;
	ans=(ans+mod)%mod;
	printf("%d\n",ans);
	return 0;
}