/*
   ???weak substring??????????
   ????
   */
#include<stdio.h>
typedef long long ll;
const int maxn=1000010;
const ll MOD=1000000007;
ll inv[maxn],s[maxn],sinv[maxn];
int k,w;
ll pow(ll x,int p)
{
	ll ret=1;
	for(;p;p>>=1,x=x*x%MOD)if(p&1)ret=ret*x%MOD;
	return ret;
}
ll _pow(ll x,int p)
{
	return p<0?pow(pow(x,MOD-2),-p):pow(x,p);
}
int main()
{
	scanf("%d%d",&k,&w);
	inv[1]=1;for(int i=2;i<=k;i++)inv[i]=(-inv[MOD%i]*(MOD/i)%MOD+MOD)%MOD;
	s[0]=sinv[0]=1;
	for(int i=1;i<=k;i++)s[i]=s[i-1]*i%MOD,sinv[i]=sinv[i-1]*inv[i]%MOD;
	ll ret=0,p1=_pow(k,w-k-1),p2=_pow(k,w-k-2);
	for(int i=k;i;i--)
	{
		if(i<=w-1)
		{
			ll t=s[k]*s[k]%MOD*p1%MOD*i%MOD*sinv[k-i]%MOD*sinv[k-i]%MOD;
			ret=(ret+t)%MOD;
		}
		else
		{
			ll t=s[k]*s[k-i+w-1]%MOD*w%MOD*sinv[k-i]%MOD*sinv[k-i]%MOD;
			ret=(ret+t)%MOD;
		}

		if(i<k)
		if(i<=w-2)
		{
			ll t=s[k]*s[k]%MOD*p2%MOD*i%MOD*sinv[k-i]%MOD*sinv[k-i-1]%MOD;
			ret=(ret+t)%MOD;
		}
		else
		{
			ll t=s[k]*s[k-i+w-2]%MOD*(w-1)%MOD*sinv[k-i]%MOD*sinv[k-i-1]%MOD;
			ret=(ret+t)%MOD;
		}
		p1=p1*k%MOD;
		p2=p2*k%MOD;
	}
	printf("%I64d\n",ret);
	return 0;
}
