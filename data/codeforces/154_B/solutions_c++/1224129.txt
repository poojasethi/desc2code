#include<set>
#include<cstdio>
#include<vector>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

vector<int> prime_factorize(int a){
	vector<int> res;
	for(int p=2;p*p<=a;p++) if(a%p==0) {
		int cnt=0;
		do{ a/=p; cnt++; }while(a%p==0);
		res.push_back(p);
	}
	if(a>1) res.push_back(a);
	return res;
}

int main(){
	int n,q; scanf("%d%d",&n,&q);

	static vector<int> pf[100000];
	rep(i,100000) pf[i]=prime_factorize(i+1);

	static bool on[100000];
	static set<int> pf_buc[100000];

	while(q--){
		char sgn;
		int a; scanf(" %c%d",&sgn,&a); a--;

		if(sgn=='+'){
			if(on[a]){ puts("Already on"); continue; }

			int k=-1;
			rep(i,pf[a].size()) if(pf_buc[pf[a][i]].size()>0) {
				k=*pf_buc[pf[a][i]].begin();
				break;
			}
			if(k==-1){
				puts("Success");
				rep(i,pf[a].size()) pf_buc[pf[a][i]].insert(a);
				on[a]=true;
			}
			else{
				printf("Conflict with %d\n",k+1);
			}
		}
		else{
			if(!on[a]){ puts("Already off"); continue; }

			puts("Success");
			rep(i,pf[a].size()) pf_buc[pf[a][i]].erase(a);
			on[a]=false;
		}
	}

	return 0;
}
