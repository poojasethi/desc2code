#include <bits/stdc++.h>

using namespace std;

const int MAXN = 1e5+211;

vector<int> v[MAXN];
int N,M,used[MAXN];

void inc(int a){
	int cp=a;
	vector<int> tmp;
	for(int i=2;i*i<=a;i++)
		if(a%i == 0){
			v[i].push_back(cp);
			while(a%i == 0)
				a/=i;
	}
	if(a!=1)
		v[a].push_back(cp);
}

void f(int a){
	int cp=a;
	for(int i=2;i*i<=a;i++)
		if(a%i == 0){
			for(int j=v[i].size()-1;j>=0;j--)
				if(!used[v[i][j]])
					v[i].pop_back();
				else{
					printf("Conflict with %d\n",v[i][j]);
					return;
				}
			while(a%i == 0)
				a/=i;
	}
	if(a!=1)
		for(int j=v[a].size()-1;j>=0;j--)
				if(!used[v[a][j]])
					v[a].pop_back();
				else{
					printf("Conflict with %d\n",v[a][j]);
					return;
				}
	printf("Success\n");
	inc(cp);
	used[cp]=1;
}

int main(){
	
	scanf(" %d %d",&N,&M);
	while(M--){
		char a; int b;
		scanf(" %c %d",&a,&b);
		if(a=='-' && !used[b])
			printf("Already off\n");
		else if(a=='-'){
			printf("Success\n");
			used[b]=0;
		}
		else if(used[b])
			printf("Already on\n");
		else
			f(b);
	}
	
	return 0;
}
