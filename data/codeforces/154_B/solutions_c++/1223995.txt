#include <cstdio>
#include <cstring>
#include <algorithm>
#define N 100005
using namespace std;

int n, m, id, x, v[N], u[N];
char s[5];

void set(int x, int y){
	for (int i=1; i*i<=x; i++)
	if (x % i == 0) u[i] = u[x/i] = y;
}

int chk(int x){
	if (u[x] && x>1) return u[x];
	for (int i=2; i*i<=x; i++)
	if (x % i == 0){
		if (u[i]) return u[i];
		if (u[x/i]) return u[x/i];
	}
	return 0;
}

int main(){
	scanf("%d%d", &n, &m);
	
	while (m--){
		scanf("%s%d", s, &id);
		if (s[0] == '+'){
			if (v[id]) puts("Already on");
			else{
				x = chk(id);
				if (!x){
					v[id] = 1;
					set(id, id);
					puts("Success");
				}
				else printf("Conflict with %d\n", x);
			}
		}
		else{
			if (v[id]){
				puts("Success");
				v[id] = 0;
				set(id, 0);
			}
			else puts("Already off");
		}
	}

	return 0;
}

