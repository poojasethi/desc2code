#include <cstdio>
#include <cstring>
using namespace std; 
const int N=1000005;
int T[N],v[N],m,n,x; char op;
#define FD for(int i=2;i*i<=x;i++)if(x%i==0) 
#define DEL while(x%i==0)x/=i; 
int check(int x){FD{if(T[i])return T[i];DEL}if(x>1)return T[x];else return 0;}
int add(int x){int t=x;FD{T[i]=t;DEL}if(x>1)T[x]=t;}
int del(int x){FD{T[i]=0;DEL}if(x>1)T[x]=0;}
int main(){
    memset(T,0,sizeof(T));
    scanf("%d%d",&n,&m);
    while(m--){
        scanf(" %c %d",&op,&x);
        if(op=='+'){
            if(v[x]){puts("Already on");continue;}
            int con=check(x);
            if(con)printf("Conflict with %d\n",con);
            else{add(x);puts("Success");v[x]=1;}
        }else{
            if(v[x]){del(x);puts("Success");v[x]=0;}
            else puts("Already off");
        }
    }return 0;
}
			 	    	   	 	 	 	 			 		  		