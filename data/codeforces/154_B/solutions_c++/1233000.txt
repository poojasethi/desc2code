#include <cstdio>
#include <algorithm>
#include <set>
#define N 100005
#define FI(a, b, c) for(int a = b; a <= c; a++)
#define FD(a, b, c) for(int a = b; a >= c; a--)
using namespace std;

int n, m, x, X, f[20], l, c;
bool u[N];
char t;
set<int> s[N];

int main(){
	scanf("%d %d", &n, &m);
	while(m--){
		l = -1;
		c = 0;
		scanf("\n%c %d", &t, &x);
		X = x;
		if(t == '+'){
			if(u[x]){
				puts("Already on");
				continue;
			}
			for(int q = 2; q * q <= x && !c; q++) if(x % q == 0){
				while(x % q == 0) x /= q;
				if(s[q].size()) c = *s[q].begin();
				f[++l] = q;
			}
			if(x != 1){
				f[++l] = x;
				if(s[x].size()) c = *s[x].begin();
			}
			if(c) printf("Conflict with %d\n", c);
			else{
				puts("Success");
				FI(i, 0, l) s[f[i]].insert(X);
				u[X] = 1;
			}
		}else{
			if(!u[x]) puts("Already off");
			else{
				u[x] = 0;
				puts("Success");
				for(int q = 2; q * q <= x; q++) if(x % q == 0){
					while(x % q == 0) x /= q;
					s[q].erase(X);
				}
				if(x != 1) s[x].erase(X);
			}
		}
	}
}
