#include <algorithm>
#include <iostream>
#include <cstdio>
using namespace std;
#define REP(i,x)for(int i=0;i<(int)x;i++)
int a[111111];
int p[111111];
int memo[111111];
int N,M;
char t[2];
void remove(int n){
	int q=n;
	for(int i=2;i*i<=n;i++){
		while(q%i==0){
			p[i]=0;
			q/=i;
		}
	}
	if(q>1)p[q]=0;
}
int add(int n){
	int q=n;
	for(int i=2;i*i<=n;i++){
		while(q%i==0){
			if(p[i])return memo[i];
			q/=i;
		}
	}
	if(q>1)if(p[q])return memo[q];
	q=n;
	for(int i=2;i*i<=n;i++){
		while(q%i==0){
			p[i]=1;
			memo[i]=n;
			q/=i;
		}
	}
	if(q>1){
		p[q]=1;
		memo[q]=n;
	}
	return false;
}
int main() {
	scanf("%d%d",&N,&M);
	REP(i,M){
		int p;
		scanf("%s%d",t,&p);
		if(*t=='-'){
			if(a[p]){
				a[p]=0;
				remove(p);
				puts("Success");
			}else{
				printf("Already off\n");
			}
		}else{
			int t=add(p);
			if(a[p]){
				printf("Already on\n");
			}else if(!t){
				a[p]=true;
				puts("Success");
			}else{
				printf("Conflict with %d\n",t);
			}
		}
	}
	return 0;
}
