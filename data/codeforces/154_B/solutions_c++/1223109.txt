#include <cstdio>
#include <vector>
using namespace std;

const int MAX_N = (int)(1e5);

int N, M;
bool on[MAX_N + 1];
int ps[MAX_N + 1];

vector<int> primes[MAX_N + 1];

void init(){
	scanf("%d %d ", &N, &M);

	for(int i=2; i<=N; i++)if(primes[i].empty()){
		for(int j=i; j<=N; j+=i){
			primes[j].push_back(i);
		}
	}
}

void query(){
	char cmd;
	int x;
	scanf(" %c %d ", &cmd, &x);

	if(cmd == '+'){
		if(on[x]){
			puts("Already on");
		}
		else{
			int conflict = -1;
			for(int i=0; i<(int)primes[x].size(); i++)if(ps[primes[x][i]]){
				conflict = ps[primes[x][i]];
			}
			if(conflict == -1){
				on[x] = true;
				for(int i=0; i<(int)primes[x].size(); i++){
					ps[primes[x][i]] = x;
				}
				puts("Success");
			}
			else{
				printf("Conflict with %d\n", conflict);
			}
		}
	}
	else{
		if(!on[x]){
			puts("Already off");
		}
		else{
			for(int i=0; i<(int)primes[x].size(); i++){
				ps[primes[x][i]] = 0;
			}
			on[x] = false;
			puts("Success");
		}
	}
}

int main(){
	init();
	for(int i=0; i<M; i++){
		query();
	}

	return 0;
}
