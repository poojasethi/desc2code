#include <bits/stdc++.h>
using namespace std;

const int maxn = 1e5+123;

int N,M,ar[maxn];
bool pos[maxn];

int main(){
	
	scanf("%d %d",&N,&M);

	char type;
	int x;

	while( M-- ){
		scanf(" %c %d",&type,&x);
		if( type == '+' ){
			
			if( pos[x] ){
				puts("Already on");
				continue;
			}
			
			int conf = 0;
			for( int i=2 ; i*i <= x ; i++ )
				if( !(x % i) and (ar[i] or ar[x/i]) ){
					if( ar[i] )
						conf = ar[i];
					else
						conf = ar[x/i];
					break;
				}
			
			if( !conf and ar[x] )
				conf = ar[x];
			
			if( conf )
				printf("Conflict with %d\n",conf);
			else{
				pos[x] = 1;
				puts("Success");
				for( int i=2 ; i*i <= x ; i++ )
					if( !(x % i) )
						ar[x/i] = ar[i] = x;
				ar[x] = x;
			}
				
		} else {
		
			if( !pos[x] ){
				puts("Already off");
				continue;
			}
			pos[x] = 0;
			puts("Success");
			for( int i=2 ; i*i <= x ; i++ )
				if( !(x % i) )
					ar[x/i] = ar[i] = 0;
			ar[x] = 0;
		}
	}
	
	return 0;
}
