#include<stdio.h>
int p[1000],st[100005],vis[100005],ans;
void solve(int n){
	ans = 0;
	for(int i = 2; i*i<=n; i++){
		if(n%i == 0){
			p[ans++] = i;
			while(n%i == 0){
				n /= i;
			}
		}
	}
	if(n>1) p[ans++] = n;
}
int main(){
	int n,m,num;
	char c;
	scanf("%d%d",&n,&m);
	while(m--){
		getchar();
		scanf("%c%d",&c,&num);
		if(c == '+'&&vis[num]){
			printf("Already on\n");
			continue;
		}
		else if(c == '-'&&!vis[num]){
			printf("Already off\n");
			continue;
		}
		solve(num);
		if(c == '+'){
			int flag = 0;
			for(int i = 0; i<ans; i++){
				if(st[p[i]]){
					flag = st[p[i]];
					break;
				}
			}
			if(flag){
				printf("Conflict with %d\n",flag);	
			}
			else{
				printf("Success\n");
				vis[num] = 1;
				for(int i = 0; i<ans; i++){
					st[p[i]] = num;
				}
			}
		}
		else{
				printf("Success\n");
				vis[num] = 0;
				for(int i = 0; i<ans; i++){
					st[p[i]] = 0;
				}
		}
	}
	return 0;
}
	  	 	 				 				   	 	 	   	 		