#include<iostream>
using namespace std;

char a;
bool p[100100];
int i,j,n,m,b,k,c[100100],q,r;

int main()
{
	cin >> n >> m;
	for(i=1;i<=m;++i)
	{
		cin >> a >> b;
		if (a=='+')
		{
			if (p[b])
				cout << "Already on" << endl;
			else
			{
				k=0;bool f=1;
				for(j=2;j*j<=b;++j)
					if (b % j==0)
					{
						if (c[j]) {f=0;k=c[j];break;}
						if (c[b/j]) {f=0;k=c[b/j];break;}
					}
				if (b>=2 && c[b]) f=0,k=c[b];
				if (!f)
				{
					cout << "Conflict with " << k << endl;
					continue;
				}
				cout << "Success" << endl;
				for(j=2;j*j<=b;++j)
					if (b % j==0)
						c[j]=c[b/j]=b;
				if (b>=2) c[b]=b;
				p[b]=true;
			}
		}
		else
		{
			if (p[b])
			{
				cout << "Success" << endl;
				for(j=2;j*j<=b;++j)
					if (b % j==0)
						c[j]=0,c[b/j]=0;
				if (b>=2) c[b]=0;
				p[b]=false;
			}
			else
				cout << "Already off" << endl;
		}
	}
	return 0;
}
