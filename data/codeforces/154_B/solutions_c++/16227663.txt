#include<cstdio>
#include<algorithm>
#include<iostream>
using namespace std;
const int N=1e5+1;
int vis[N],p[N];
int n,m,x,i;
bool on[N];
char op;
void add(int n){
    if(on[n]){
        puts("Already on");
        return;
    }
    for(i=n;i>1;i/=p[i]){
        if(vis[p[i]]){
            printf("Conflict with %d\n",vis[p[i]]);
            return;
        }
    }
    on[n]=1;
    for(i=n;i>1;i/=p[i])
        vis[p[i]]=n;
    puts("Success");
}
void del(int n){
    if(!on[n]){
        puts("Already off");
        return;
    }
    on[n]=0;
    for(int i=n;i>1;i/=p[i])
        vis[p[i]]=0;
    puts("Success");
}
int main(){
    for(int i=2;i<N;++i){
        if(p[i]==0){
            for(int j=i;j<N;j+=i)p[j]=i;
        }
    }
    scanf("%d%d",&n,&m);
    while(m--){
        cin>>op>>x;
        if(op=='+')  add(x);
        if(op=='-')  del(x);
    }
    return 0;
}
	   		  	 									 		 				 	