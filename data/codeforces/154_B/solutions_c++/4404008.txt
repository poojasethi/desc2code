#include<cstdio>
#include<vector>
#include<set>
using namespace std;
const int X=100010;
vector<int>s[X];
set<int>e[X];
int a[X];
void make(){
    for(int i=2;i<X;i++)if(s[i].size()==0)
        for(int j=i;j<X;j+=i)s[j].push_back(i);
}
int main(){
    make();
    char st[5];
    int i,j,n,m,k,l;
    scanf("%d%d",&n,&m);
    while(m--){
        scanf("%s%d",st,&k);
        if(st[0]=='+'){
            if(a[k]){puts("Already on");continue;}
            for(i=0;i<s[k].size();i++)
                if(e[s[k][i]].size()!=0)
                    break;
            if(i<s[k].size()){printf("Conflict with %d\n",*e[s[k][i]].begin());continue;}
            for(i=0;i<s[k].size();i++)
                e[s[k][i]].insert(k);
            a[k]=1;
            puts("Success");
        }
        else{
            if(a[k]==0){puts("Already off");continue;}
            for(i=0;i<s[k].size();i++)
                e[s[k][i]].erase(k);
            a[k]=0;
            puts("Success");
        }
    }
    return 0;
}
