#include<stdio.h>
#include<algorithm>
using namespace std;
int n,m,i,j,pr[111111],y,x,wn,on[111111],w[111111],fla,occ[111111];
char dump[1025],ch;
int main(){
//	freopen("in.txt","r",stdin);  
//	freopen("out.txt","w",stdout);
	scanf("%d%d",&n,&m);gets(dump);
	for(i=2;i<=n;i++)if(!pr[i]){
		j=i;
		while(j<=n){
			if(!pr[j])pr[j]=i;
			j+=i;
		}
	}
	for(i=1;i<=m;i++){
		ch=getchar();scanf("%d",&x);gets(dump);wn=0;
		if(ch=='+'){
			if(on[x]){
				puts("Already on");
				continue;
			}y=x;
			while(x>1){
				w[++wn]=pr[x];
				x/=pr[x];
			}
			fla=0;
			for(j=1;j<=wn;j++)if(occ[w[j]]){
				printf("Conflict with %d\n",occ[w[j]]);
				fla=1;
				break;
			}
			if(!fla){
				for(j=1;j<=wn;j++)occ[w[j]]=y;
				puts("Success");
				on[y]=1;
			}
		}else{
			if(!on[x]){
				puts("Already off");
				continue;
			}on[x]=0;
			while(x>1){
				w[++wn]=pr[x];
				x/=pr[x];
			}
			for(j=1;j<=wn;j++)occ[w[j]]=0;
			puts("Success");
		}
	}
	return 0;
}