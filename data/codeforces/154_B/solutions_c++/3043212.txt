#include<iostream>
#include<cstdio>
#include<cstring>
#include<string>
#include<algorithm>
#include<cmath>
using namespace std;

int dp[100005];
int vis[100005];

int main()
{
	char s[10];
	int n,m,x,i,j;
	cin>>n>>m;
	while(m--)
	{
		cin>>s>>x;
		if(s[0]=='+')
		{
			if(vis[x]) cout<<"Already on"<<endl;
			else
			{
				int f=0;
				int xx=x;
				for(j=2;j*j<=xx;j++)
					if(xx%j==0)
					{
						if(dp[j])
						{
							f=dp[j];
							break;
						}
						while(xx%j==0) xx/=j;
					}
				if(!f&&xx>1&&dp[xx]) f=dp[xx];
				if(f)
					cout<<"Conflict with "<<f<<endl;
				else
				{
				vis[x]=1;
				xx=x;
				for(j=2;j*j<=x;j++)
					if(x%j==0)
					{
						dp[j]=xx;
						while(x%j==0) x/=j;
					}
				if(x>1) dp[x]=xx;
				cout<<"Success"<<endl;
				}
			}
		}
		else
		{
			if(!vis[x]) cout<<"Already off"<<endl;
			else
			{
				int xx=x;
				for(j=2;j*j<=x;j++)
					if(x%j==0)
					{
						dp[j]=0;
						while(x%j==0) x/=j;
					}
				if(x>1) dp[x]=0;
				cout<<"Success"<<endl;
				vis[xx]=0;
			}
		}
	}
}




