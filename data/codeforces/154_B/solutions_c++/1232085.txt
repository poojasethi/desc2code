#include <cstdio>

#define N 100001

int A[N], P[N], pc = 1;
int bit[N], on[N];

void process()
{
	for (int i = 2; i < N; ++i)
	{
		if (!A[i]) A[i] = pc, P[pc++] = i;
		for (int j = 0; j <= A[i] && i*P[j] < N; ++j) A[i*P[j]] = j;
	}
}

int tryit(int a)
{
	while (a > 1) if (bit[P[A[a]]]) return bit[P[A[a]]];
		      else a /= P[A[a]];
	return 0;
}

void doit(int a, int s)
{
	while (a > 1) bit[P[A[a]]] = s, a /= P[A[a]];
}

int main()
{
	int n, m, a;
	char c;
	process();
	
	scanf("%d%d", &n, &m);
	
	for (int i = 0; i < m; ++i)
	{
		scanf(" %c %d", &c, &a);
		if (c == '-')
		{
			if (!on[a]) printf("Already off\n");
			else printf("Success\n"), on[a] = 0, doit(a, 0);
		}
		else
		{
			if (on[a]) printf("Already on\n");
			else
			{
				int ret = tryit(a);
				if (ret) printf("Conflict with %d\n", ret);
				else printf("Success\n"), on[a] = 1, doit(a, a);
			}
		}
	}
	
	return 0;
}

