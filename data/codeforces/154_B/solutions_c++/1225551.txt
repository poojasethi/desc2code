#include <stdio.h>
using namespace std;

bool act[120000];
int pt[120000];
int bei[120000];

int main() {
	pt[1] = 0;
	int N, M;
	scanf("%d %d ", &N, &M);
	for (int i = 2; i <= N; i++) {
		if (pt[i] == 0) {
			pt[i] = i;
			for (long long k = (long long)i*i; k <= N; k += i)
				pt[k] = i;
		}
	}
	for (int r = 0; r < M; r++) {
		char c; int n;
		scanf("%c %d ", &c, &n);
		if (c == '+') {
			if (act[n]) {
				printf("Already on\n");
			} else {
				int conf = 0;
				int r = n;
				while(r > 1) {
					int p = pt[r];
					if (act[bei[p]])
						conf = bei[p];
					while(r%p == 0)
						r /= p;
				}
				if (conf) {
					printf("Conflict with %d\n", conf);
				} else {
					printf("Success\n");
					r = n;
					while(r > 1) {
						int p = pt[r];
						bei[p] = n;
						while(r%p == 0)
							r /= p;
					}
					act[n] = true;
				}
			}
		} else {
			if (!act[n]) {
				printf("Already off\n");
			} else {
				printf("Success\n");
				act[n] = false;
			}
		}
	}
	return 0;
}
