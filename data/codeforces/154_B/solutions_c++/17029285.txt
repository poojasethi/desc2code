#include<stdio.h>
#include<set>
#define N 100005
using namespace std;
set<int>now[N];
int flag[N],prime[N],in[N];
int i,j,cnt,n,m,x,k;char opt[10];
int main(){
	for (i=2;i<N;i++){
		if (!flag[i]) prime[++cnt]=i,flag[i]=i;
		for (j=1;j<=cnt&&prime[j]*i<N;j++){
			flag[prime[j]*i]=prime[j];
			if (i%prime[j]==0) break;
	  }
  }scanf("%d%d",&n,&m);
  while (m--){
  	scanf("%s%d",opt,&x);
  	if (opt[0]=='+'){
  		if (in[x]) {puts("Already on");continue;}
  		for (k=x;k>1;k/=flag[k])
  			if (!now[flag[k]].empty()){
  				printf("Conflict with %d\n",*now[flag[k]].begin());
  				break;
  		  }
  		if (k==1){
				in[x]=1,puts("Success");
				for (k=x;k>1;k/=flag[k])
					now[flag[k]].insert(x);
			}
    }else {
    	if (!in[x]) {puts("Already off");continue;}
    	in[x]=0;for (k=x;k>1;k/=flag[k])
    		now[flag[k]].erase(x);
    	puts("Success");
    }
  }
}