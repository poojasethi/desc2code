#include <iostream>
using namespace std;
int n,m,i,j,p[1111],k,d[111111];
bool t[111111];
void prost(int x)
{
	k=0;
	int dx=x;
	for(int i=2;i*i<=x;i++)
		if (dx%i==0)
		{
			p[k]=i; k++; dx/=i;
			while (dx%i==0) dx/=i;
		}
	if (dx!=1)
	{
		p[k]=dx; k++;
	}
}
int main()
{
	cin>>n>>m;
	for(i=0;i<m;i++)
	{
		char c; int x;
		cin>>c>>x;
		if ((c=='+')&&(t[x]))
			{
				cout<<"Already on"<<endl;
				continue;
			}
		if ((c=='-')&&(!t[x]))
			{
				cout<<"Already off"<<endl;
				continue;
			}
		prost(x);
		int T=0;
		if (c=='+')
		{
			
			for(j=0;j<k;j++)
				if (d[p[j]])
				{
					T=d[p[j]];
					break;
				}
			if (!T)
			{
				cout<<"Success"<<endl;
				for(j=0;j<k;j++) d[p[j]]=x;
				t[x]=true;
			}
			else cout<<"Conflict with "<<T<<endl;
		}
		else
		{
			cout<<"Success"<<endl;
			t[x]=false;
			for(j=0;j<k;j++) d[p[j]]=0;
		}
	}
	return 0;
}