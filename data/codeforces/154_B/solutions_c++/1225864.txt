#include <cstdio>
#include <vector>

using namespace std;

const int h = 100100;

int n, m, k;
int s[h], a[h], d[h];
vector <int> v[h];
char c;

int main() {
	for (int i = 2; i < h; i++)
		if (s[i] == 0) {
			for (int j = i; j < h; j+=i) {
				s[j] = 1;
				v[j].push_back(i);
			}
		}
	scanf("%d%d%*c", &n, &m);
	for (int i = 0; i < m; i++) {
		scanf("%c%d%*c", &c, &k);
		if (c == '+') {
			if (a[k] == 1)
				puts("Already on");
			else {
				int g = 0;
				for (int i = 0; i < v[k].size(); i++)
					if (d[v[k][i]]) {
						g = d[v[k][i]];
						break;
					}
				if (g)
					printf("Conflict with %d\n", g);
				else {
					a[k] = 1;
					for (int i = 0; i < v[k].size(); i++)
						d[v[k][i]] = k;
					puts("Success");					
				}
			}
		} else {
			if (a[k] == 0)
				puts("Already off");
			else {
				a[k] = 0;
				for (int i = 0; i < v[k].size(); i++)
					d[v[k][i]] = 0;
				puts("Success");
			}
		}
	}
	return 0;
}