#include <cstdio>
#include <algorithm>
#include <set>
using namespace std;
set<int>S[100005];
int a,b,c,d,e,f[100005],g,h,i,j,k,l,m,n,p[100005],on[100005],vis[100005];
char s[10];
int main(){
	scanf("%d%d",&n,&m);
	for(i=2;i<=n;i++){
		if(!f[i]){f[i]=i;p[++p[0]]=i;}
		for(j=1;j<=p[0]&&i*p[j]<=n;j++){
			f[i*p[j]]=p[j];
			if(i%p[j]==0)break;
		}
	}
	for(i=1;i<=m;i++){
		scanf("%s",s);
		scanf("%d",&k);
		if(s[0]=='+'){
			if(on[k])printf("Already on\n");
			else{
				g=0;
				for(l=k;l>1;l=l/f[l]){
					if(vis[f[l]]){g=*S[f[l]].begin();break;}
				}
				if(g){
					printf("Conflict with %d\n",g);
				}
				else{
					printf("Success\n");
					for(l=k;l>1;l=l/f[l]){vis[f[l]]++;S[f[l]].insert(k);}
					on[k]=1;
				}
			}
		}
		else{
			if(on[k]){
				on[k]=0;
				printf("Success\n");
				for(l=k;l>1;l=l/f[l]){vis[f[l]]--;S[f[l]].erase(k);}
			}
			else{printf("Already off\n");}
		}
	}
	
	return 0;
}