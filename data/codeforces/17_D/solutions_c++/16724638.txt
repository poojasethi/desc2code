#include<cstdio>
#include<cstring>
using namespace std;
long long ln,ans,n[1200000],lb,mod,rem;
char str[1200000],str2[1200000];
int main()
{
	scanf("%s",str+1);
	lb=strlen(str+1);
	scanf("%s",str2+1);
	ln=strlen(str2+1);
	scanf("%I64d",&mod);
	for (long long i=1;i<=lb;i++)
	{
		rem*=10;
		rem+=(str[i]-'0');
		rem%=mod;
	}
	for (long long i=1;i<=ln;i++)
	{
		n[i]=str2[i]-'0';
	}
	n[ln]--;
	long long tp=ln;
	while (n[tp]<0)
	{
		n[tp]+=10;
		tp--;
		n[tp]--;
	}
	ans=1;
	for (long long i=1;i<=ln;i++)
	{
		tp=ans;
		for (long long j=1;j<=9;j++)
		{
			ans*=tp;
			ans%=mod;
		}
		for (long long j=1;j<=n[i];j++)
		{
			ans*=rem;
			ans%=mod;
		}
	}
	ans*=(rem-1+mod);
	ans%=mod;
	if(ans==0)ans=mod;
	printf("%I64d\n",ans);
	return 0;
}
