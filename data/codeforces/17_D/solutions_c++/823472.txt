#include <cstdio>
#include <cstring>
using namespace std;
const int MAXX = 1000100;
void m1(char *N){
	int pos = strlen(N) - 1;
	while (N[pos] == '0')
		N[pos--] = '9';
	N[pos]--;		
}

long long pow(long long b, long long m, char* N){
	int l = strlen(N);
	m1(N);
	long long b10 = b;
	long long r = 1;
	for (int i = l-1; i >= 0; i--){
		for (int j = 0; j < N[i]-'0'; j++){
			r *= b10;
			r %= m;
		}
		long long b1 = b10;
		for (int j = 0; j < 9; j++){
			b10 *= b1;
			b10 %= m;
		}
	}
	return r;
}


int main(){
	char B[MAXX], N[MAXX]; int cc;
	scanf ("%s %s %d", B, N, &cc);
	long long c = cc;
	long long k = 0;
	long long m = 1;
	for (int l = strlen(B)-1; l >= 0; l--){
		k += m * (B[l] - '0');
		m *= 10;
		m %= c;
		k %= c;
	}
	k %= c;
	long long res = pow(k,c,N) * (k+c-1);
	res%=c;
	printf ("%d\n", res > 0 ? (int)res : (int)c);
	return 0;
}
