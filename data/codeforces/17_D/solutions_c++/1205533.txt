#include<cstdio>
#include<cstring>
#include<iostream>
#define N 40000
using namespace std;
char b[1000009],n[1000009];
long long a,c;
int main(){    
    while(cin>>b>>n>>c){
        if(c==1){cout<<1<<endl;continue;}
        a=0;
        for(int i=0;b[i];i++) a=(a*10+b[i]-'0')%c;
        long long ans=(a+c-1)%c;
        for(int i=strlen(n)-1;n[i]--=='0';n[i--]='9');
        for(int i=strlen(n)-1;i>=0;i--){
            int t=a;
            for(int j=1;j<10;j++,a=a*t%c)
                if(j==n[i]-'0')
                    ans=ans*a%c;
        }
        if(!ans) ans=c;
        cout<<ans<<endl;
    }
}