#include <cstdio>
#include <cstring>
using namespace std;

const int MAXN = 1000000 + 86;
#define MCC(a, A, C) for (int i=0; a[i]; ++i) A = (10ll * A + (a[i] - '0')) % C
#define MC(a, A) for (int i=0; a[i]; ++i) A = (10ll * A + (a[i] - '0'))

char a[MAXN], b[MAXN];

int P(int x, int e, const int MOD) {
	int r = 1;
	for (; e; e>>=1,x=(long long)x*x%MOD) if (e & 1) r = (long long)r * x % MOD;
	return r;
}

int phi(int x) {
	int r = x;
	for (int i=2; i*i<=x; ++i) if (x % i == 0) {
		r -= r / i;
		for (; x%i==0; x/=i);
	}
	if (x != 1) r -= r / x;
	return r;
}

int main() {
	int A = 0, B = 0, C;

	scanf("%s%s%d", a, b, &C);
	MCC(a, A, C);
	int CC = phi(C);	
	if (strlen(b) >= 10) {
		MCC(b, B, CC);
		B += CC;
	} else {
		MC(b, B);
		if (B - 1 >= CC) B = B % CC + CC;
	}
	int T = (long long)(A - 1) * P(A, B-1, C) % C;
	if (T < 0) T += C;
	if (T == 0) T = C;
	printf("%d\n", T);

	return 0;
}
