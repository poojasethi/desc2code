// Good Night ~
// 
#include<iostream>
#include<string>
using namespace std;

string b , n;
long long c;

long long phi(long long x)
{
	long long ret = x;
	for(long long i = 2 ; i <= 100000 ; i++)
		if(x % i == 0)
		{
			ret = ret / i * (i - 1);
			while(x % i == 0)
				x /= i;
		}
	if(x > 100000)
		ret = ret / x * (x - 1);
	return ret;
}

int main()
{
	while(cin>>b>>n>>c)
	{
		long long mod = phi(c);
		long long B = 0 , N = 0;
		for(int i = 0 ; i < b.length() ; i++)
			B = (10 * B + b[i] - '0') % c;
		long long ret = (B - 1 + c);
		if(n.length() < 5)
		{
			for(int i = 0 ; i < n.length() ; i++)
				N = 10 * N + n[i] - '0';
			N --;
		}
		else
		{
			for(int i = 0 ; i < n.length() ; i++)
				N = (10 * N + n[i] - '0') % mod;
			N = (N - 1 + mod) % mod + mod;
		}
		while(N)
		{
			if(N & 1)
				ret = (ret * B) % c;
			N = N >> 1;
			B = (B * B) % c;
		}
		ret %= c;
		if(ret == 0)
			ret = c;
		cout<<ret<<endl;
	}
	return 0;
}
