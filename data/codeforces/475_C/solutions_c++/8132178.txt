#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <map>
using namespace std;

const int MAXN = 1010;
char mp[MAXN][MAXN];
int sum[MAXN][MAXN];
int n,m;

int getsum(int x1,int y1,int x2,int y2)
{
    return sum[x1][y1]-sum[x2+1][y1]-sum[x1][y2+1]+sum[x2+1][y2+1];
}

int ok(int x,int y,int a,int b)
{
    while(1){
        if(x+a-1>n || y+b-1>m)return 0;
        if(getsum(x,y,x+a-1,y+b-1)!=a*b)return 0;
        if(getsum(x+a,y,n,y)>0 && getsum(x,y+b,x,m)>0)return 0;
        if(getsum(x+a,y,n,m)==0 && getsum(x,y+b,n,m)==0)return 1;
        if(getsum(x+a,y,n,y)>0)++x;
        else ++y;
    }
    return 1;
}

int main()
{
    scanf("%d%d",&n,&m);
    for(int i=1;i<=n;i++){
        scanf("%s",mp[i]+1);
    }
    int mx=n+1,my=m+1;
    for(int i=n;i>=1;i--){
        for(int j=m;j>=1;j--){
            sum[i][j]=sum[i+1][j]+sum[i][j+1]-sum[i+1][j+1]+(mp[i][j]=='X');
            if(mp[i][j]=='X'){
                if(mx>i)mx=i;
                if(my>j)my=j;
            }
        }
    }
    int ans=m*n+1;
    for(int i=1;i<=n;i++){
        for(int j=1;j<=m;j++){
            if(i*j>=ans)continue;
            if(ok(mx,my,i,j))ans=i*j;
        }
    }
    if(ans==m*n+1)printf("-1\n");
    else printf("%d\n",ans);
    return 0;
}