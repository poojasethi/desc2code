#include <cstdio>
#include <algorithm>
#include <cstring>
using namespace std;
#define FOR(i,a,b) for (int (i)=(a);(i)<(b);(i)++)

int main() {
    int A[5000], B[5000], N;
    long long DP[2][5000], *prev = DP[0], *cur = DP[1], M;
    scanf("%d", &N);
    FOR(i,0,N) scanf("%d",A+i);
    memcpy(B,A,sizeof(A)); sort(B,B+N);
    FOR(i,0,N+1) {
        M = prev[0];
        FOR(j,0,N) { M = min(M,prev[j]); cur[j] = M+abs(B[j]-A[i]); }
        swap(prev,cur);
    }
    printf("%I64d\n", M);
    return 0;
}
