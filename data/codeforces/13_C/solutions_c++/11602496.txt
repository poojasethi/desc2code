#include <bits/stdc++.h>

const int MAXN = 5000+10;

long long dp[MAXN];
int a[MAXN], b[MAXN], n;

int main()
{
	std::ios::sync_with_stdio(false);	
	std::cin >>  n;
	for (int i = 1; i <= n; ++ i) {
		std::cin >> a[i];
		b[i] = a[i];
		dp[i] = 0;
	}
	std::sort(b+1, b+n+1);
	for (int i = 1; i <= n; ++ i) {
		for (int j = 1; j <= n; ++ j) {
			dp[j] += std::max( a[i]-b[j], b[j] - a[i]);
			if(j > 1){
				dp[j] = std::min(dp[j], dp[j-1]);
			}
		}
	}
	printf("%lld\n", dp[n]);
}
 	  		  	 			     	  		 	     	