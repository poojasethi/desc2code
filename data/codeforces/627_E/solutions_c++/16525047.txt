#include <cmath>
#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;

typedef long long ll;

struct node
{
	int x,y;
	bool operator <(node a)const {return y<a.y;}
}a[3010];

int head[3010],next[3010],b[3010],c[3010],left[3010],right[3010];

int main()
{
	#ifndef ONLINE_JUDGE
		freopen("input.txt","r",stdin);
		freopen("output.txt","w",stdout);
	#endif
	int n,m,k,p;scanf("%d%d%d%d",&n,&m,&k,&p);
	for (int i=1;i<=k;i++) scanf("%d%d",&a[i].x,&a[i].y);
	sort(a+1,a+k+1);
	for (int i=1;i<=k;i++)
	{
		next[i]=head[a[i].x];head[a[i].x]=i;
	}
	a[0].y=0;
	ll ans=0;
	for (int i=1;i<=n;i++)
	{
		int cnt=0;
		for (int j=1;j<=k;j++) if (a[j].x>=i) b[++cnt]=j;
		b[0]=0;int tmp=0;
		for (int j=1;j<=cnt-p+1;j++) tmp+=(a[b[j]].y-a[b[j-1]].y)*(m-a[b[j+p-1]].y+1);
		left[b[1]]=0;for (int j=2;j<=cnt;j++) left[b[j]]=b[j-1];
		right[b[cnt]]=0;for (int j=1;j<cnt;j++) right[b[j]]=b[j+1];
		ans+=tmp;
		for (int j=n;j>i;j--)
		{
			int q=head[j];
			while (q)
			{
				int cnt1=0,cnt2=0;
				for (int j=q;j&&cnt1<=p;j=left[j]) b[++cnt1]=j;
				if (cnt1<=p) b[++cnt1]=0;
				for (int j=q;j&&cnt2<=p;j=right[j]) c[++cnt2]=j;
				for (int j=1;j<cnt1;j++)
				{
					if (p-j+1<=cnt2) tmp=tmp-(a[b[j]].y-a[b[j+1]].y)*(m-a[c[p-j+1]].y+1);
					if (p-j+2<=cnt2) tmp=tmp+(a[b[j]].y-a[b[j+1]].y)*(m-a[c[p-j+2]].y+1);
				}
				if (b[2]) right[b[2]]=right[q];
				if (cnt2>1) left[c[2]]=left[q];
				q=next[q];
			}
			ans+=tmp;
		}
	}
	printf("%I64d\n",ans);
	return 0;
}
