#include <iostream>
#include <vector>
#include <cstdlib>

using namespace std;

typedef long long int ll;

const int limite=5000;

int n,m,aux,k;
vector<int> lista[limite];
int next[limite];
int prev[limite];
int cuantos[limite];
int contribucion[limite];

void quitar(int j)
{
  cuantos[j]--;
  if (cuantos[j]==0) {
    contribucion[j]=0;
    next[prev[j]]=next[j];
    prev[next[j]]=prev[j];
  }
}

int contribuciontotal;

void poner(int j)
{
  cuantos[j]++;
  if (cuantos[j]==1) {
    next[prev[j]]=j;
    prev[next[j]]=j;
  }
  int j1=next[j];
  int j2=next[j];
  int amount=cuantos[j1];
  while (amount<k) {
    j2=next[j2];
    amount+=cuantos[j2];
  }
  while (j1>0 and j2>=j) {
    contribuciontotal-=contribucion[j1];
    contribucion[j1]=(j1-prev[j1])*(m+1-j2);
    contribuciontotal+=contribucion[j1];
    j1=prev[j1];
    amount+=cuantos[j1];
    while (amount-cuantos[j2]>=k) {
      amount-=cuantos[j2];
      j2=prev[j2];
    }
  }
}

int v[100][100];

int cuenta(int i1,int i2)
{
  int sol=0;
  for (int j1=1;j1<=m;j1++) {
    int c=0;
    for (int j2=j1;j2<=m;j2++) {
      for (int i=i1;i<=i2;i++)
	c+=v[i][j2];
      sol+=c>=k;
    }
  }
  return sol;
}

int main()
{
  ios::sync_with_stdio(false);
  cin>>n>>m>>aux>>k;
  for (int d=0;d<aux;d++) {
    int i,j;
    cin>>i>>j;
    lista[i].push_back(j);
    cuantos[j]++;
    //v[i][j]=1;
  }
  cuantos[0]=cuantos[m+1]=k;
  int last=0;
  for (int j=1;j<=m+1;j++) {
    if (cuantos[j]) {
      prev[j]=last;
      next[last]=j;
      last=j;
    }
  }
  ll sol=0;
  for (int i1=1;i1<=n;i1++) {
    for (int i2=n;i2>=i1;i2--) {
      vector<int> &lis=lista[i2];
      for (int ilis=int(lis.size())-1;ilis>=0;ilis--) {
	int j=lis[ilis];
	quitar(j);
      }
    }
    contribuciontotal=0;
    for (int i2=i1;i2<=n;i2++) {
      //cout<<"i1 "<<i1<<" i2 "<<i2<<endl;
      vector<int> &lis=lista[i2];
      for (int ilis=0;ilis<int(lis.size());ilis++) {
	int j=lis[ilis];
	poner(j);
      }
      /*
      for (int j=0;j<=m+1;j++)
	cout<<cuantos[j]<<",";
      cout<<endl;
      for (int j=0;j<=m+1;j++)
	cout<<prev[j]<<",";
      cout<<endl;
      for (int j=0;j<=m+1;j++)
	cout<<next[j]<<",";
      cout<<endl;
      for (int j=0;j<=m+1;j++)
	cout<<contribucion[j]<<",";
      cout<<endl;
      if (cuenta(i1,i2)!=contribuciontotal) {
	cout<<"error "<<i1<<" "<<i2<<" "<<contribuciontotal<<" "<<cuenta(i1,i2)<<endl;
	exit(0);
      }
      */
      sol+=contribuciontotal;
    }
    vector<int> &lis=lista[i1];
    for (int ilis=int(lis.size())-1;ilis>=0;ilis--) {
      int j=lis[ilis];
      quitar(j);
    }
  }
  cout<<sol<<endl;
}
