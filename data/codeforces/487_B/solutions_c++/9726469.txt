#include <cstdio>
#include <set>
#define N 1111111
std::multiset<int> s,s2;
int a[N],d[N],n,k,m,st;
int main(){
	scanf("%d%d%d", &n, &k, &m);
	st = 0;
	for (int i = 1; i <= n; i ++ ){
		if (i - m >= st - 1 && i - m >= 0) s2.insert(d[i - m]);
		scanf("%d", a + i);
		s.insert(a[i]);
		for (; *( -- s.end()) - *s.begin() > k; st ++ ){
			if (st) s.erase(s.find(a[st]));
			if (st - 1 <= i - m && st) s2.erase(s2.find(d[st - 1]));//printf("[%d %d %d]\n",a[i], *( -- s.end()), s2.size());
		}
		if (s2.size()) d[i] = *s2.begin() + 1;
		else d[i] = 99999999;
		//printf("%d %d %d %d %d %d\n",i,a[i],st,d[i],s.size(),s2.size());
	}
	if (d[n] > n) d[n] = - 1;
	printf("%d\n", d[n]);
}
