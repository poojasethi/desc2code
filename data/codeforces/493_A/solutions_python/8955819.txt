teams=[raw_input(),raw_input()]
s=set()
first=set()
for i in range(input()):
    time,team,num,card=raw_input().split()
    if team+num not in first:
        if card=='r' or team+num in s: 
            print teams[team=='a'], num, time
            first.add(team+num)
        else: s.add(team+num)