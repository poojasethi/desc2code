h = raw_input()
a = raw_input()
n = int(raw_input())

teams = [h, a]
players = [{}, {}]
for i in range(n):
	(time, team, num, color) = raw_input().split()
	if color == 'y':
		plus = 1
	else:
		plus = 2
	if team == 'h':
		x = 0
	else: x = 1
	players[x][num] = players[x].get(num, 0)
	if players[x][num] >= 2:
		pass
	else:
		players[x][num] = players[x].get(num, 0) + plus
		if players[x][num] >= 2:
			print teams[x] + ' ' + num + ' ' + time