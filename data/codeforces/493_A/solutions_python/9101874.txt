tname = {}
foul = {}
tname['h'] = raw_input()
tname['a'] = raw_input()
n = int(raw_input())
foul['h'] = {}
foul['a'] = {}
for i in xrange(0, n):
    tmp = raw_input().split()
    if tmp[2] not in foul[tmp[1]]:
        foul[tmp[1]][tmp[2]] = 0
    if foul[tmp[1]][tmp[2]] == 2:
        continue
    if tmp[3] == 'y':
        foul[tmp[1]][tmp[2]] += 1
    else:
        foul[tmp[1]][tmp[2]] = 2

    if foul[tmp[1]][tmp[2]] == 2:
        print tname[tmp[1]], tmp[2], tmp[0]


