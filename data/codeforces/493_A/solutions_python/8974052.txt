teams={}
teams['h'] = raw_input()
teams['a'] = raw_input()
done={}
ct = int(raw_input())

cards = {}

for i in range(0,ct):
   #print i
   inCard = raw_input().split(' ')
   #print inCard
   strCombo = inCard[1]+' '+inCard[2]
   #print done
   if(strCombo in done): continue
   if(inCard[3]=='r' or (strCombo) in cards):
      print teams[inCard[1]] + ' ' + inCard[2] +' '+ inCard[0]
      done[strCombo]=True
   else:
      cards[strCombo]=True
   #print cards