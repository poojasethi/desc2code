h = raw_input()
a = raw_input()
n = input()

d = {}
for i in xrange(n):
    t, w, no, co = raw_input().strip().split()
    if (w,no) not in d.keys():
        d[w,no] = [t, co]
    else:
        if d[w,no][1] != 'r':
            d[w,no] = [t,'r']
final = []
for i in d.keys():
    if d[i][1] == 'r':
        if i[0] == 'h':
            m = h
        else:
            m = a
        final.append([int(d[i][0]), m, i[1]])

sfinal = sorted(final)
for i in sfinal:
    print i[1], i[2], str(i[0])