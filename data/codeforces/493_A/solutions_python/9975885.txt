h,a=raw_input(),raw_input()
fouls={};ans=[]
for _ in range(input()):
    t,ha,m,yr=raw_input().split()
    if ha+m in fouls:
        fouls[ha+m]+=yr
    else:
        fouls[ha+m]=yr
    if fouls[ha+m] in ['r','yy','yr']:
        ans.append(' '.join([[h,a][ha=='a'],m,t]))
for foo in ans:
    print foo