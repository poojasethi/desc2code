home,away = raw_input(),raw_input()
teams = {'h':home,'a':away}
d = {'h':{},'a':{}}
red = set()
for _ in xrange(input()):
    time,team,m,p = raw_input().split()
    if m not in d[team]:
        d[team][m] = [time]
    else:
        d[team][m].append(time)
    if (p == 'r' or len(d[team][m]) == 2) and (team,m) not in red:
        print teams[team],m,time
        red.add((team,m))