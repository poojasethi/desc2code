#!/usr/bin/env python
#-*- coding:utf-8 -*-

TH = raw_input()
TA = raw_input()
TEAMS = dict(h=TH, a=TA)
N = int(raw_input())

counts = {}
for i in xrange(N):
    minute, team, player, card = raw_input().split()
    k = (team, player)
    counts.setdefault(k, 0)
    if counts[k] >= 10:
        continue
    counts[k] += 1
    if card == "r" or counts[k] >= 2:
        print TEAMS[team], player, minute
        counts[k] = 10
        continue
