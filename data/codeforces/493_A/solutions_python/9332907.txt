# your code goes here
home=str(raw_input())
away=str(raw_input())
name = {'h': home, 'a': away}
n=int(raw_input())
s=set()
done=set()
for i in xrange(0,n):
    temp = raw_input()
    t, team, num, card = temp.split(' ')
    if (team,num) in done:
        continue
    if card == 'r':
        print name[team], num, t
        done.add((team, num))
    elif (team,num) in s:
        print name[team], num, t
        done.add((team, num))
    else:
        s.add((team,num))
    
    