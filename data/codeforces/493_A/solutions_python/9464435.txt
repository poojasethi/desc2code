def main():
	cards = {}
	out = {}
	hteam = raw_input().strip()
	ateam = raw_input().strip()
	teams = {
		'h': hteam,
		'a': ateam
	}
	n = input()
	
	i = 0
	while i < n:
		t, team, num, card = raw_input().split()
		i += 1
		
		key = team + num
		if (card == 'r' or key in cards) and not out.get(key, False):
			print teams[team], num, t
			out[key] = True
			continue
			
		cards[key] = 1
		
	
if __name__ == '__main__':
	main()