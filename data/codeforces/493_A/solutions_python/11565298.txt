P={'h':raw_input(),'a':raw_input()}
n=input()
g=dict()
C=set()
R=set()
L=sorted([raw_input() for i in range(n)],key=lambda s:int(s.split()[0]))
for l in L:
    a,p,n,c=l.split()
    if (n+p in C or c == 'r') and n+p not in R:
        print P[p], n, a
        R.add(n+p)
    C.add(n+p)