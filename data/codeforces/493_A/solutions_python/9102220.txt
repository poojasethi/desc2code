home_team = raw_input()
away_team = raw_input()
n = int(raw_input())

yellow = set()
red = set()
team_map = {'h': home_team, 'a':away_team}
for i in range(n):
    time, team, number, card = raw_input().split()
    player = (team, number)
    if card == 'r':
        if player not in red:
            print team_map[team], number, time
            red.add(player)
    else:
        if player in yellow:
            if player not in red:
                print team_map[team], number, time
                red.add(player)
        else:
            yellow.add(player)