R=raw_input
I=input
s={'h':R(),'a':R()}
t={}
for _ in range(I()):
  u,v,w,x=R().split()
  y=(v,w)
  o=t.get(y,0)
  t[y]=o+(2 if 'r'==x else 1)
  if o<2 and t[y]>1:
    print s[v],w,u
