home = raw_input()
away = raw_input()
F = input()

warn = []
dealt = []

for f in xrange(F):
    time, team, num, card = (n for n in raw_input().split())
    onum = str(num) + team
    team = home if team == 'h' else away
    if onum in dealt:
        continue
    if card == 'r':
        print team,num,time
        dealt.append(onum)
    else:
        if onum in warn and onum not in dealt:
            print team,num,time
            dealt.append(onum)
        else:
            warn.append(onum)
