#!/usr/bin/env python
# -*- coding: utf-8 -*-
# @Author: Jonathan S. Prieto
# @Date:   2014-12-06 01:26:59
# @Last Modified by:   usuario
# @Last Modified time: 2014-12-06 01:36:24
from collections import defaultdict


import sys
# sys.stdin = open("input.txt")

A = raw_input()
B = raw_input()
n = int(raw_input())

d = defaultdict(int)
playerA = []
playerB = []

for _ in range(n):
    tiempo, equipo, player, carta = raw_input().split()
    d[(equipo,player,carta)] += 1
    if carta == 'r' or (carta == 'y' and d[(equipo,player,carta)] == 2):
        if equipo == 'h' and player not in playerA:
            print A, player, tiempo
            playerA.append(player)
        elif equipo == 'a' and player not in playerB: 
            print B, player, tiempo
            playerB.append(player)
