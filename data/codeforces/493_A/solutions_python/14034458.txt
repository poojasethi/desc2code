gn = (raw_input(), raw_input())
gp = [[0,0] for _ in range(100)]
for _ in range(int(raw_input())):
    m, ha, pn, cc = raw_input().split()
    pn = int(pn)
    ha = 0 if ha == "h" else 1
    if gp[pn][ha] == -1:
        continue
    if gp[pn][ha] or cc == "r":
        print gn[ha], pn, m
        gp[pn][ha] = -1
    else:
        gp[pn][ha] = 1  