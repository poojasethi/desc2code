#!/usr/bin/env python
# coding=utf-8

hname = raw_input()
aname = raw_input()
n = input()
a = []
b = []
for i in range(n):
    b = raw_input().split()
    a.append(b);
sorted(a, key = lambda a: a[0])
vis1 = [0] * 100
vis2 = [0] * 100
ans = []
for i, j, k, l in a:
    if j == 'h':
        if vis1[int(k)] >= 2:
            continue
        if l == 'y':
            vis1[int(k)] += 1
        else:
            vis1[int(k)] += 2
        if vis1[int(k)] >= 2:
            ans.append([hname, k, i])
            continue
    else:
        if vis2[int(k)] >= 2:
            continue
        if l == 'y':
            vis2[int(k)] += 1
        else:
            vis2[int(k)] += 2
        if vis2[int(k)] >= 2:
            ans.append([aname, k, i])
            continue
for i, j, k in ans:
    print i, j, k