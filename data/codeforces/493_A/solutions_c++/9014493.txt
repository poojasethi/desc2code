#include <bits/stdc++.h>
using namespace std;
int n, t, m, k, s[2][105];
char ha, yr, x[2][25];

int main() {
//    freopen("input.txt", "r", stdin);
    cin >> x[0] >> x[1] >> n;
    while (n--) {
        cin >> t >> ha >> m >> yr;
        k = (ha == 'a');
        if (s[k][m] == 1 || s[k][m] == 0 && yr == 'r') {
            printf("%s %d %d\n", x[k], m, t);
            s[k][m] = 2;
        } else if (s[k][m] == 0 && yr == 'y') {
            s[k][m]++;
        }
    }
}
