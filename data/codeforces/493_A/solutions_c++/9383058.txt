#include <bits/stdc++.h>
using namespace std;

int main()
{
	ios::sync_with_stdio(false);
	cin.tie(0), cout.tie(0);
	string s[2];
	char c1, c2;
	int n, t, m[2][103], tmp, idx;
	memset(m,0,sizeof m);
	cin>>s[0]>>s[1]>>n;
	while(n--){
		cin>>t>>c1>>tmp>>c2;
		idx=((c1=='h')?0:1);
		m[idx][tmp]+=((c2=='r')?2:1);
		if(m[idx][tmp]>1)
			cout<<s[idx]<<' '<<tmp<<' '<<t<<'\n', m[idx][tmp]=-999;
	}

    return 0;
}
