#include <bits/stdc++.h>
using namespace std;
string S,T;
int N,st[200],t,i;
char c,d;
int main(){
cin >> S >> T >> N;
i = 0;
while(N--){
cin >> t >> c >> i >> d;
st[100 * (c == 'h') + i] += 1 + (d == 'r');
if(st[100 * (c == 'h') + i] >= 2){
cout << (c == 'h' ? S : T) << ' ' << i << ' ' << t << endl;
st[100 * (c == 'h') + i] = -1000000000;
}
}
return 0;
}
