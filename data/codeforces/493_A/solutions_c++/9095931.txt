#include <iostream>

using namespace std;

int main()
{
	int n, i, t, ti, m, mc[2][101] = {0, };
	char team, card, home[20+1], away[20+1];

	cin>>home>>away;
	cin>>n;

	for (i = 0; i < n; i++)
	{
		cin>>t>>team>>m>>card;

		ti = (team == 'h' ? 0 : 1);
		if (mc[ti][m] < 2)
		{
			mc[ti][m] = (card == 'y') ? mc[ti][m]+1 : 2;
		}

		if (mc[ti][m] == 2)
		{
			mc[ti][m] = 3;
			cout<<(ti ? away : home)<<" "<<m<<" "<<t<<endl;
		}
	}

	return 0;
}

