#include <bits/stdc++.h>
using namespace std;
char team[2][105], t1[105], t2[105];
int f[2][105];
int main() {
	scanf("%s%s", team[0], team[1]);
	int n, tim, m;
	scanf("%d", &n);
	while(n--) {
		scanf("%d%s%d%s", &tim, t1, &m, t2);
		int u = (t1[0] == 'h') ? 0 : 1;
		int v = (t2[0] == 'y') ? 1 : 2;
		if(f[u][m] < 2 && f[u][m] + v >= 2) {
			printf("%s %d %d\n", team[u], m, tim);
		}
		f[u][m] += v;
	}
	return 0;
}
