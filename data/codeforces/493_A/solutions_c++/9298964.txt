#include <iostream>
#include <string>
using namespace std;
#define MAX 101

string s[2];
int A[2][MAX], t, tm, nm, j;
char c, f;

int main() {
	cin >> s[0] >> s[1] >> t;
	while (t--) {
		cin >> tm >> c >> nm >> f;
		j = (c == 'a');
		if (A[j][nm] == 1)
			A[j][nm]++;
		else
			A[j][nm] += (1 + (f == 'r'));
		if (A[j][nm] == 2)
			cout << s[j] << " " << nm << " " << tm << endl;
	}
	return 0;
}
 			     	  			  				  	  			 	