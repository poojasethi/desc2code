#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
using namespace std;

int main()
{
	int n;
	string str[2];
	cin>>str[0]>>str[1];
	cin>>n;
	int m[2][110];
	memset(m,0,sizeof(m));
	int n1,n2;
	char c1,c2;
	while(n--)
	{
		scanf("%d %c %d %c",&n1,&c1,&n2,&c2);
		int p = c1=='a'?1:0;
		int v = c2=='r'?2:1;
		m[p][n2]+=v;
		if(m[p][n2]>=2) {cout<<str[p]<<' '<<n2<<' '<<n1<<endl;m[p][n2]=-2000;}
	}
    return 0;
}
