#include<iostream>
#include<string>
using namespace std;

string team1,team2;
int n,a[300];

int main(){
	cin>>team1>>team2;
	cin>>n;
	for(int i=1;i<=n;i++){
		int t,m;
	    char k,c;
	    cin>>t>>k>>m>>c;
	    if(k == 'a') m+=100;
	    if(c == 'y') a[m]++; else a[m]+=2;
	    if(a[m] > 1){
	    	if(k == 'h') cout<<team1<<" "<<m<<" "<<t<<"\n";
	    	else cout<<team2<<" "<<m-100<<" "<<t<<"\n";
	    	a[m] = -100000;
	    }
	}
	return 0;
}
