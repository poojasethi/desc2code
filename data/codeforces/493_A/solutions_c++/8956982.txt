#include <stdio.h>
int main(){
    char teams[2][25],t,c;
    int n,play[2][100]={{0}},m,p,x,s;
    scanf("%s",teams[0]);
    scanf("%s",teams[1]);
    scanf("%d",&n);
    while(n--){
        scanf("%d %c %d %c",&m,&t,&p,&c);
        t=='h'? x=0:x=1;
        c=='y'? s=1:s=2;
        if(!(play[x][p]>=2)){
            play[x][p]+=s;
            if(play[x][p]>=2&&play[x][p])
                printf("%s %d %d\n",teams[x],p,m);
        }
    }
    return 0;
}
