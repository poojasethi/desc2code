#include <cstdio>

int a[100][2], n, t, m, tn;
char s[2][22], te[2], ca[2];

int main()
{
    scanf("%s%s%d", s[0], s[1], &n);

    while (n--)
    {
        scanf("%d%s%d%s", &t, te, &m, ca);
        tn = (te[0] == 'a');
        if ((ca[0] == 'r' && a[m][tn] <= 1) || a[m][tn] == 1)
            printf("%s %d %d\n", s[tn], m, t);
        a[m][tn] += (ca[0] == 'r') + 1;
    }

    return 0;
}
