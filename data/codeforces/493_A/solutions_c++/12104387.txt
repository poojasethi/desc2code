#include<stdio.h>
char na[2][21],l,c;
int n,t,k[2][100],m,cv,hv,i;
int main(){
	scanf("%s%s",na[0],na[1]);
	scanf("%d",&n);
	for(i=0;i<n;i++){
		scanf("%d %c %d %c",&t,&l,&m,&c);
		cv=(c=='y')?1:2;
		hv=(l=='h')?0:1;
		k[hv][m]+=cv;
		if(k[hv][m]>=2&&k[hv][m]<100){k[hv][m]=100;printf("%s %d %d\n",na[hv],m,t);}
	}
}
