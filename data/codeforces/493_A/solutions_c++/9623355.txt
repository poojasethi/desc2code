#include<cstdio>
using namespace std;
int a1[2][100];char s[2][21];
int main()
{
	int n,a,b;bool bl;char c1,c2;
	scanf("%s%s%d",s[0],s[1],&n);
	while(n--)
	{
		scanf("%d %c %d %c",&a,&c1,&b,&c2);
		bl=c1==97;
		if(a1[bl][b]>1)continue;
		a1[bl][b]+=1+(c2=='r');
		if(a1[bl][b]>1)
			printf("%s %d %d\n",s[bl],b,a);
	}
}