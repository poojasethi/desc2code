#include <iostream>
#include <cstdio>
#include <cstring>

using namespace std;

int main()
{
	char team[2][55];
	cin>>team[0]>>team[1];

	int hash[2][100]={0};
	
	int n,player,time,sel;
	cin>>n;
	char t,card;
	while(n--)
	{
		cin>>time>>t>>player>>card;
		if(t=='h')
			sel=0;
		else
			sel=1;

		hash[sel][player] += card=='y' ? 1 : 2;
		if(hash[sel][player]==2 ||( hash[sel][player]==3&&card=='r'))
			printf("%s %d %d\n",team[sel],player,time);
	}
	return 0;
}
