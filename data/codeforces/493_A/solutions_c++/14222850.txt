#include<cstdio>

char name[2][111];
int n, t, id, x, det;
char side[2], cate[2];
int tot[2][111];

int main() {
	scanf("%s%s", name[0], name[1]);
	scanf("%d", &n);
	for(int i=0;i<n;i++) {
		scanf("%d %s %d %s", &t, side, &id, cate);
		x = (side[0] == 'a') ? 1 : 0;
		if (tot[x][id] >= 2) continue;
		det = (cate[0] == 'y') ? 1 : 2;
		tot[x][id] += det;
		if(tot[x][id] >= 2)
			printf("%s %d %d\n", name[x], id, t);
	}
	
	return 0;
}