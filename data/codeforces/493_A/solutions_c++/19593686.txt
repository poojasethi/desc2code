#include <bits/stdc++.h>
using namespace std;
int main(){int n,a,c;char b,d;string s1,s2;map<int,int>m1,m2;cin>>s1>>s2>>n;for(int i=0;i<n;i++){cin>>a>>b>>c>>d;if(b=='h'){if(m1[c]!=-1){if(d=='y')m1[c]++;if(m1[c]==2||d=='r'){cout<<s1<<" "<<c<<" "<<a<<endl;m1[c]=-1;}}}if(b=='a'){if(m2[c]!=-1){if(d=='y')m2[c]++;if(m2[c]==2||d=='r'){cout<<s2<<" "<<c<<" "<<a<<endl;m2[c]=-1;}}}}}

	  	 		    	        		  	  		 	