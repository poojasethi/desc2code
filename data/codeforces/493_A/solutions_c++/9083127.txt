#include <cstring>
#include <cstdio>
const int N = 105;
const int L = 25;
int n, t, num, a[2][N];
char name[2][L], s[5];

int main() {
	scanf("%s%s", name[0], name[1]);
	scanf("%d", &n);
	while (n--) {
		scanf("%d%s%d%s", &t, s, &num, s+1);
		int id = (s[0] == 'h')? 0: 1;
		if (s[1] == 'y') a[id][num] ++;
		else a[id][num] += 2;
		if ((a[id][num] == 2)||((a[id][num] == 3)&&(s[1] == 'r')))
			printf("%s %d %d\n", name[id], num, t);
	}
	return 0;
}
