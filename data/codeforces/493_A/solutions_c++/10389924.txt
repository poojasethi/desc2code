#include<iostream>
using namespace std;

string S[2];
int n;
int ti, nu;
char ch, co;
int ca[200][2];

int main(){
	ios::sync_with_stdio(0);
	cin >> S[0] >> S[1];
	cin >> n;
	for (int i=0 ; i<n ; i++){
		cin >> ti >> ch >> nu >> co;
		if (ca[nu][ch=='h']>=2) continue;
		if (co=='y') ca[nu][ch=='h']++;
		else ca[nu][ch=='h']+=2;
		if (ca[nu][ch=='h']>=2) cout << S[ch!='h'] << " " << nu << " " << ti << endl;
	}
}
