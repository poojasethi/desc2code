#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<iostream>
using namespace std;
const int maxn=105,inf=1<<29;
int n,m;
int a[maxn];
char o[25],p[25];
int f[(1<<20)+5];

void init()
{
    scanf("%d",&n);
    for(int i=0;i<n;i++)
        scanf("%d",a+i);
    sort(a,a+n,greater<int>());
    scanf("%d\n",&m);
    for(int i=1;i<=m;i++)
        scanf("%c %d\n",o+i,p+i);
}

void work()
{
    for(int s=1,i;s<1<<m;s++)
    {
        i=m+1;
        if(s==15)
        s=15;
        for(int t=s;t;t&=t-1)i--;
        if(p[i]==1)
        {
            f[s]=-inf;
            for(int j=0;j<m;j++)
                if(s&(1<<j))
                    f[s]=max(f[s],f[s^(1<<j)]+(o[i]=='p'?a[j]:0));
        }
        else
        {
            f[s]=inf;
            for(int j=0;j<m;j++)
                if(s&(1<<j))
                    f[s]=min(f[s],f[s^(1<<j)]-(o[i]=='p'?a[j]:0));
        }
    }
    printf("%d\n",f[(1<<m)-1]);
}

int main()
{
    init();
    work();
    return 0;
}
