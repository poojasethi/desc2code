#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N (1<<20)
#define inf 100000000
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m;
int f[N],a[110],c[30],v[N];
char p[30][2];
int dfs(int x,int y) {
	if (x==(1<<m)-1) return 0;
	if (v[x]) return f[x];
	v[x]=1;
	int i,A;
	if (c[y]==2) A=inf;
	else A=-inf;
	For(i,0,m-1) if (!(x>>i&1)) {
		if (c[y]==2) {
			if (p[y][0]=='b') A=min(A,dfs(x|1<<i,y+1));
			else A=min(A,dfs(x|1<<i,y+1)-a[i]);
		} else {
			if (p[y][0]=='b') A=max(A,dfs(x|1<<i,y+1));
			else A=max(A,dfs(x|1<<i,y+1)+a[i]);
		}
	}
	f[x]=A;
	return A;
}
int main() {
	scanf("%d",&n);
	For(i,0,n-1) scanf("%d",&a[i]);
	sort(a,a+n); reverse(a,a+n);
	scanf("%d",&m);
	For(i,0,m-1) scanf("%s%d",p[i],&c[i]);
	printf("%d\n",dfs(0,0));
	//for(;;);
	return 0;
}
