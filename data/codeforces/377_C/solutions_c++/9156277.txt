#include <bits/stdc++.h>

using namespace std;

const int N = 105;
int s[N],t[N],p[N];
int dp[1<<21];
int inf = 1e9;

int main(){
  #ifndef ONLINE_JUDGE
  freopen("in.txt","r",stdin);
  #endif

  int n,m;
  cin >> n;
  for(int i =0;i<n;++i){
    cin >> s[i];
  }
  sort(s,s+n,greater<int>());
  cin >> m;
  for(int i=m;i;--i){
    char c;
    cin >> c >> p[i];
    t[i] = (c == 'p');
    --p[i];
  }

  dp[0] = 0;
  for(unsigned int i=1;i < (1<<m);++i){
    int x   = __builtin_popcount(i);
    if(p[x])dp[i] = inf;
    else dp[i] = -inf;
    for(int j=0;j<m;++j){
      if(i & (1 << j)){
        if(p[x]){
          if(t[x]) dp[i] = min(dp[i],dp[i ^ (1<<j)] - s[j]);
          else dp[i] = min(dp[i],dp[i ^ (1<<j)]);
        }else{
          if(t[x]) dp[i] = max(dp[i],dp[i ^ (1<<j)] + s[j]);
          else dp[i] = max(dp[i],dp[i ^ (1<<j)]);
        }
      }
    }
  }

  printf("%d\n",dp[(1<<m) -1]);

  return 0;
}
