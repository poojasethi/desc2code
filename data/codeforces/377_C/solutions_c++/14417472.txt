#include <bits/stdc++.h>
using namespace std;
int n,hero[100],cand[20];
pair<char,int> ss[20];
int dp[20][1<<20],m;
int solve(int ind,int state){
	if(ind==m)return 0;
	int &ret= dp[ind][state];
	if(ret!=-1e8)return ret;
	char x= ss[ind].first;int player=ss[ind].second,cand;
	if(x=='p'){
		int l;
		for(int i=0;i<m;++i)
			if(!(state>>i&1)){l=i;break;}
		return ret= hero[l]*player+solve(ind+1,state|(1<<l));
	}else{
		for(int i=0;i<m;++i)
			if(!(state>>i&1))
				ret = max(ret,solve(ind+1,state|(1<<i))*player);
	}

	ret*=player;
	return ret;
}
int main(){
	int i,j;cin>>n;
	for(i=0;i<n;++i)cin>>hero[i];
	sort(hero,hero+n,greater<int>());
	cin>>m;
	for(i=0;i<m;++i)cand[i]= hero[i];
	for(i=0;i<m;++i){
		cin>>ss[i].first>>ss[i].second;
		ss[i].second = ss[i].second==1 ? 1 : -1;
	}
	for(j=0;j<m;++j)
		for(i=0;i<(1<<m);++i)dp[j][i]=-1e8;
	cout<<solve(0,0)<<endl;
}
