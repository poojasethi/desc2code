#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
#define inf 1000000000

int n,s[110],m;
int f[1050000];
int a[22],b[22];
char op[10];

bool cpr(int a,int b)	{return a>b;}

int cnt(int x)
{
	int ret=0;
	while (x) ret+=(x&1),x=(x>>1);
	return ret;
}

int main()
{
	scanf("%d",&n);
	for (int i=0;i<n;i++)	scanf("%d",s+i);
	sort(s,s+n,cpr);
	scanf("%d",&m);
	for (int i=0;i<m;i++)
	{
		scanf("%s%d",op,b+i);
		if (op[0]=='p') a[i]=1;else a[i]=0;
	}
	
	int tmp;
	for (int i=(1<<m)-1;i>=0;i--)
	{
		tmp=cnt(i);
		if (tmp==m) {f[i]=0;continue;}
		if (b[tmp]==1)
		{
			f[i]=-inf;
			for (int j=0;j<m;j++) if ((i & (1<<j))==0)
				f[i]=max(f[i],f[i+(1<<j)]+a[tmp]*s[j]);
		}
		if (b[tmp]==2)
		{
			f[i]=inf;
			for (int j=0;j<m;j++) if ((i & (1<<j))==0)
				f[i]=min(f[i],f[i+(1<<j)]+a[tmp]*s[j]*(-1));
		}
	}
	printf("%d\n",f[0]);
	return 0;
}
