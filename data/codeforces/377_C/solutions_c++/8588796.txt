#include <cstdio>
#include <algorithm>
#include <functional>
using namespace std;

const int N=105,M=20,inf=(int)1e9;
int n,m,a[N],team[M+1],f[1<<M],cnt[1<<M]; char move[M+1];
int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++) scanf("%d",a+i);
	sort(a,a+n,greater<int>());
	scanf("%d",&m);
	for(int i=m;i;i--)
		scanf("\n%c%d",move+i,team+i);
	for(int s=1;s<1<<m;s++){
		cnt[s]=cnt[s>>1]+(s&1);
		if(team[cnt[s]]==1){
			f[s]=-inf;
			for(int j=0;j<m;j++) if(s>>j&1)
				f[s]=max(f[s],f[s^1<<j]+(move[cnt[s]]=='p'?a[j]:0));
		}
		else{
			f[s]=inf;
			for(int j=0;j<m;j++) if(s>>j&1)
				f[s]=min(f[s],f[s^1<<j]-(move[cnt[s]]=='p'?a[j]:0));
		}
	}
	printf("%d\n",f[(1<<m)-1]);
}
