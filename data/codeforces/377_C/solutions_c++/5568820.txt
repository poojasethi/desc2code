#include <cstdio>
#include <algorithm>
#include <functional>
using namespace std;

int n, m, sk[123], tm[22], cch[1<<20+5]; char ty[22], s[1<<20+5];
int dp(int st, int d) {
    if (d==m) return 0;
    if (s[st]) return cch[st];
    s[st] = 1;
    if (tm[d]==1) cch[st] = -999999999;
    else cch[st] = 999999999;
    for (int i = 0; i < m; i++) if (!(st & (1<<i))) {
        int v = dp(st | (1<<i), d+1) + ((ty[d] == 'p' ? sk[i] : 0) * (tm[d] == 1 ? 1 : -1));
        if (tm[d]==1) cch[st] = max(cch[st], v);
        else cch[st] = min(cch[st], v);
    }
    return cch[st];
}
int main() {
    scanf("%d", &n);
    for (int i = 0; i < n; i++) scanf("%d", sk+i);
    sort(sk, sk+n, greater<int>());
    scanf("%d", &m);
    for (int i = 0; i < m; i++) scanf(" %c %d", ty+i, tm+i);
    printf("%d\n", dp(0, 0));

    return 0;
}