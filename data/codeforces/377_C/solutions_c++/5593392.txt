#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int f[2000000],d[2000000];
int a[200];

const int INF=1000000000;
int cmp(const int &a,const int &b){
	return a>b;
}

int mark[30],pp[30];

int max(int x,int y){ return x>y?x:y; }
int min(int x,int y){ return x<y?x:y; }

int main(){
	int n;
	scanf("%d",&n);
	for (int i=0; i<n; ++i) scanf("%d",&a[i]);
	sort(a,a+n,cmp);
	for (int i=0; i<20; ++i) d[1<<i]=i;
	int m;
	scanf("%d",&m);
	for (int i=1; i<=m; ++i){
		int ch;
		while (ch=getchar(),ch!='p' && ch!='b');
		mark[i]=ch;
		scanf("%d",&pp[i]);
	}
	for (int opt=1; opt<(1<<m); ++opt){
		int i=m+1,j=opt;
		while (j>0){
			j-=j &(-j);
			--i;
		}
		if (pp[i]==2) f[opt]=INF;
		else f[opt]=-INF;
		j=opt;
		while (j>0){
			int k=j&(-j);
			j-=k;
			int ans=0;
			if (mark[i]=='p') ans=a[d[k]];
			if (pp[i]==2) f[opt]=min(f[opt],f[opt-k]-ans);
			else f[opt]=max(f[opt],f[opt-k]+ans);
		}
	}
	printf("%d\n",f[(1<<m)-1]);
	return 0;
}
