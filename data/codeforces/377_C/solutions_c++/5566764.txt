#include<cstdio>
#include<algorithm>
#include<cstring>
#include<iostream>
using namespace std;
struct op{
	char typ;
	int pl;
}O[100];
int dp[1<<20],n,a[1000];
const int INF=(int)1e9;
int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++)scanf("%d",&a[i]);
	sort(a+1,a+1+n);
	reverse(a+1,a+1+n);
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		char ord[3];
		scanf("%s%d",ord,&O[i].pl);
		O[i].typ=ord[0];
	}reverse(O+1,O+1+n);
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<(1<<n);j++)
			if(__builtin_popcount(j)==i)
			{
				if(O[i].pl==1)dp[j]=-INF;
				else dp[j]=INF;
				for(int k=1;k<=n;k++)
					if((j&(1<<k-1))>0)
					{
						int pre=dp[j^(1<<k-1)],delta=((O[i].typ=='p')?a[k]:0);
						if(O[i].pl==1)
							dp[j]=max(pre+delta,dp[j]);
						else dp[j]=min(pre-delta,dp[j]);
					}
			}
	}cout<<dp[(1<<n)-1]<<endl;
}
