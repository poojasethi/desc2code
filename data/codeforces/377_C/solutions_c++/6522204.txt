#include <cstdio>
#include <cstring>
#include <algorithm>
#include <functional>
using namespace std;

int n, m;
int x[110];
int f[1 << 20];

int ps[110];
char as[110];

int main()
{
//    freopen("C.in", "r", stdin);
//    freopen("C.out", "w", stdout);

    scanf("%d", &n);
    for (int i = 0; i < n; ++i) scanf("%d", &x[i]);

    sort(x, x + n, greater<int>());

    scanf("%d\n", &m);
    for (int i = 0; i < m; ++i)
	scanf("%c%d\n", &as[i], &ps[i]);

    for (int s = (1 << m) - 2; s >= 0; --s)
    {
	int t = __builtin_popcount(s);
	int u = as[t] == 'p', v = ps[t + 1] == ps[t] ? 1 : -1;
	f[s] = -(1 << 30);
	for (int i = 0; i < m; ++i) if (!((s >> i) & 1))
	    f[s] = max(f[s], u * x[i] + v * f[s ^ (1 << i)]);
    }
    printf("%d\n", (ps[0] == 1 ? 1 : -1) * f[0]);
    return 0;
}
