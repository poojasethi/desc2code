#include <cstdio>
#include <iostream>
#include <algorithm>
using namespace std;
#define FOR(x, y, z) for(int x = y; x <= z; x ++)
int s[110];
int dp[1050000];
char a[50];
int b[50];
int n, m;

int cmp(const int xx, const int yy) {
	return xx > yy;
}

int move(int i){
	if(dp[i] != 2147483647) return dp[i];
	int y = i, x = 0;
	int ret = -2147483647;
	while(y){
		x += y % 2;
		y /= 2;
	}
	x = m + 1 - x;
	for(int j = 1; j <= m; j ++) {
		if(i & 1 << j - 1){
			if(b[x] != b[x + 1])
				ret = max(ret, -move(i ^ 1 << (j - 1)) + (a[x] == 'p') * s[j]);
			else
				ret = max(ret, move(i ^ 1 << (j - 1)) + (a[x] == 'p') * s[j]);	
		}
		
	}
	return dp[i] = ret;
}

int main(){
	scanf("%d", &n);
	FOR(i, 1, n) scanf("%d", &s[i]);
	scanf("%d", &m);
	char str[2];
	FOR(i, 1, m){
		scanf("%s", str);
		a[i] = str[0];
		scanf("%d", &b[i]);
	}
	FOR(i, 1, (1 << m) - 1) dp[i] = 2147483647;
	sort(s + 1, s + n + 1, cmp);
	int oo = move((1 << m) - 1); 
	printf("%d\n", (b[1] == 2 ? -1 : 1) * dp[(1 << m) - 1]);
	return 0;
} 
/*
6
6 7 8 1 2 3
6
b 1
p 1
p 2
b 2
p 2
p 1
*/
