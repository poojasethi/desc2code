#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
using namespace std;
typedef long long ll;
#define rep(i,n) for (int i=0;i<n;++i)
const int N=105;
int n,m,Q,ans,a[N],p[N],t[N],f[22][1<<20]; char opr[5];
bool cmp(const int i,const int j){return i>j;}
int main()
{
	scanf("%d",&n);
	rep(i,n) scanf("%d",a+i); sort(a,a+n,cmp);
	scanf("%d",&m),n=min(n,m);
	rep(i,m) scanf("%s%d",opr,t+i),p[i]=*opr=='p';
	for (int i=m-1;i>=0;--i){
		memset(f[i],200,sizeof(f[i]));
		rep(j,1<<m) rep(k,m) if (!(j>>k&1))
			f[i][j]=max(f[i][j],(t[i]==t[i+1]?1:-1)*f[i+1][j|1<<k]+(p[i]?a[k]:0));
	}
	ans=f[0][0]; if (t[0]==2) ans=-ans; printf("%d\n",ans);
	return 0;
}
