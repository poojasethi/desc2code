#include <iostream>
#include <algorithm>
using namespace std;

const int nmax = 100, mmax = 20, inf = 1E9;
int n, s[nmax], m;
char a[mmax];
int t[mmax];
int dp[mmax + 1][1 << mmax];

int main() {
	int i, ia, mb;

	cin >> n;
	for (i = 0; i < n; i++) cin >> s[i];
	cin >> m;
	for (i = 0; i < m; i++) {
		cin >> a[i] >> t[i];
	}

	sort(s, s + n, greater<int>());

	for (ia = m; ia--; ) {
		int q = (ia < m - 1 && t[ia + 1] != t[ia] ? -1 : 1);

		for (mb = 0; mb < 1 << m; mb++) {
			int &c = dp[ia][mb] = -inf;

			if (a[ia] == 'p') {
				for (i = 0; i < m; i++) if (!(mb & 1 << i)) c = max(c, s[i] + q * dp[ia + 1][mb | 1 << i]);
			} else {
				c = max(c, q * dp[ia + 1][mb]);
				for (i = 0; i < m; i++) if (!(mb & 1 << i)) c = max(c, q * dp[ia + 1][mb | 1 << i]);
			}
		}
	}

	cout << (t[0] == 2 ? -1 : 1) * dp[0][0] << '\n';
}

/*

Pretests passed, bet 6 sek varu uzkonstruÄ“t...

*/
