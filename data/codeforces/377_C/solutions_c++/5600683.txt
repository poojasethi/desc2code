#include <bits/stdc++.h>
#define INF 1000000009
using namespace std;

int n, s[105], m, team[25], ans, dp[(1 << 20)];
bool vis[(1 << 20)];
char op[25];

int memo(int mask, int round){
  if(vis[mask])
    return dp[mask];
  vis[mask] = true;
  if(op[round] == 'p'){
    for(int i = 0; i < m; i ++)
      if((mask & (1 << i)) == 0){
	dp[mask] = memo(mask | (1 << i), round + 1) + ((team[round] == 1) ? s[i] : -s[i]);
	break;
      }
  }
  else{
    dp[mask] = (team[round] == 1) ? -INF : INF;
    for(int i = 0; i < m; i ++)
      if((mask & (1 << i)) == 0){
	if(team[round] == 1)
	  dp[mask] = max(dp[mask], memo(mask | (1 << i), round + 1));
	else
	  dp[mask] = min(dp[mask], memo(mask | (1 << i), round + 1));
      }
  }
  return dp[mask];
}

int main(){

  scanf("%d", &n);
  for(int i = 0; i < n; i ++)
    scanf("%d", &s[i]);

  scanf("%d", &m);
  for(int i = 0; i < m; i ++)
    scanf(" %c %d", &op[i], &team[i]);

  sort(s, s + n);
  reverse(s, s + n);
  memset(vis, 0, sizeof vis);
  vis[(1 << m) - 1] = true;
  dp[(1 << m) - 1] = 0;

  ans = memo(0, 0);
  
  printf("%d\n", ans);

  return 0;
}
