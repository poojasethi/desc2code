#include<cstdio>
#include<algorithm>
using namespace std;
int f[1<<20],cnt[1<<20];
bool cmp(int a,int b){return a>b;}
int main()
{
    //freopen("test.inp","r",stdin);
    int n,m,i,j,s[105],t[21];
    char c[21];
    scanf("%d",&n);
    for(i=0;i<n;++i) scanf("%d",&s[i]);
    sort(s,s+n,cmp);
    scanf("%d\n",&m);
    for(i=m;i;--i) scanf("%c %d\n",&c[i],&t[i]);
    for(i=1;i<1<<m;++i)
    {
        cnt[i]=cnt[i>>1]+(i&1);
        if(t[cnt[i]]==1)
        {
            f[i]=-1e9;
            for(j=0;j<m;++j) if(i&1<<j) f[i]=max(f[i],f[i^1<<j]+(c[cnt[i]]=='p'?s[j]:0));
        }
        else
        {
            f[i]=1e9;
            for(j=0;j<m;++j) if(i&1<<j) f[i]=min(f[i],f[i^1<<j]-(c[cnt[i]]=='p'?s[j]:0));
        }
    }
    printf("%d",f[(1<<m)-1]);
}
