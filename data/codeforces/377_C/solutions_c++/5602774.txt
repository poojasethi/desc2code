#include <iostream>
#include <cstring>
#include <string>
#include <algorithm>
#include <cstdlib>
#include <cstdio>
#include <cmath>
#include <map>
#include <vector>
#include <queue>
using namespace std;
int a[110];
char op1[30][3];
int op2[30];
int n, m;
int f[1<<20], g[1<<20];
int main(){
	cin>>n;
	for (int i = 0; i<n; i++){
		cin>>a[i];
	}
	cin>>m;
	for (int i = 0; i<m; i++){
		cin>>op1[i]>>op2[i];
	}
	sort(a, a+n);
	for (int i = 0; i+i<n; i++) swap(a[i], a[n-i-1]);
	n = min(n, m);
	const int maxl = 999999999;

	for (int it = m-1; it>=0; it--){
		bool ispick = (op1[it][0] == 'p');
		int id = op2[it];
		for (int i = 0; i<(1<<n); i++){
			f[i] = (id==1?-maxl:maxl);
			for (int j = 0; j<n; j++) if (i&(1<<j)){
				int cost = a[j]*(ispick?1:0);
				if (id == 1){
					f[i] = max(f[i], g[i^(1<<j)] + cost);
				}else{
					f[i] = min(f[i], g[i^(1<<j)] - cost);
				}
			}
		}
		for (int i = 0; i<(1<<n); i++) g[i] = f[i];
	}

	cout<<f[(1<<n)-1]<<endl;
	return 0;
}







