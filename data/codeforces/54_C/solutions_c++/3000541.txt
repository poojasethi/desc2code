#include<iostream>
#include<cstdio>
#include<cmath>

using namespace std;
double f[1100][1100];
double p[1100];
__int64 ggg(__int64 h){
	__int64 t=0;
	__int64 i=2;
	for(;;i*=10)
	{
		if(i<=h)t+=i/2;
		if(i>h||i>1E18)
			break;
	}
	if(i/2<=h&&h<i)
		t+=h-i/2+1;
	return t;	
}
int main(){
	int n,k;
	scanf("%d",&n);
	__int64 l,r;
	__int64 g;
	for(int i=1;i<=n;++i)
	{
		scanf("%I64d%I64d",&l,&r);
		g=ggg(r)-ggg(l-1);
		p[i]=(double)g/(double)(r-l+1);
		//cerr<<p[i]<<endl;
	}
	scanf("%d",&k);
	int aim=(int)ceil(1.*n*k/100.-1e-8);
	f[0][0]=1;
	for(int i=1;i<=n;++i)
	{	
		f[i][0]=f[i-1][0]*(1.-p[i]);
		for(int j=1;j<=i;++j)
		{
			f[i][j]+=f[i-1][j-1]*p[i];
			f[i][j]+=f[i-1][j]*(1.-p[i]);
		}
	}
//	for(int i=0;i<=n;++i)
//	cerr<<f[n][i];
	
	double ans=0;
	for(int i=aim;i<=n;++i)
		ans+=f[n][i];
		
	printf("%.12f\n",ans);
	return 0;
}
	 	  	  				 	 	 	     	  	