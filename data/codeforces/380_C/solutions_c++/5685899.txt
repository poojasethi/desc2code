#include <bits/stdc++.h>

#define o ((b+e)/2)

using namespace std;

string s;

struct node{
	int a,b,c;
	friend node operator + ( const node &a , const node &b ){
		node c;
		int t=min( a.b , b.c );
		c.a=a.a+b.a+t;
		c.b=a.b+b.b-t;
		c.c=a.c+b.c-t;
		return c;
	}
};
node seg[1100000*5];

node eval( int k , int b , int e ){
	if( b == e ){
		node a; a.a=0; a.b=(s[b]=='('); a.c=(s[b]==')');
		return seg[k]=a;
	}
	return seg[k]=(eval( 2*k , b , o )+eval( 2*k+1 , o+1 , e ));
}

node find( int k , int b , int e , int a1 , int a2 ){
	if( b > a2 || e < a1 ){
		node a; a.a=0;a.b=0;a.c=0;
		return a;
	}
	if( a1 <= b && e <= a2 )	return seg[k];
	return (find( 2*k , b , o , a1 , a2 )+find( 2*k+1 , o+1 , e , a1 , a2 ));
}

int main(){
	
	cin >> s;
	s="a"+s;
	int a,b,K;
	int N=(int)s.size()-1;
	
	eval( 1 , 1 , N );
	
	cin >> K;
	
	for( int i=1 ; i<=K ; i++ ){
		scanf(" %d %d",&a,&b);
		node k=find( 1 , 1 , N , a , b );
		printf("%d\n",k.a*2);
	}
	
	return 0;
	
}
