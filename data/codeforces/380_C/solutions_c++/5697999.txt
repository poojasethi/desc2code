#include <cstdio>
#include <algorithm>
using namespace std;
const int N=1<<20;
char s[N];
int n,a[N<<1],b[N<<1],c[N<<1];
void qry(int l,int r,int&x,int&y,int&z,int u=0,int p=1,int w=1<<20){
  if(l<=u&&r>=u+w)x=a[p],y=b[p],z=c[p];
  else if((w>>=1)>0){
    int d=0,e=0,f=0,i=0,j=0,k=0;
    if(l<u+w)qry(l,r,d,e,f,u,p<<1,w);
    if(r>u+w)qry(l,r,i,j,k,u+w,(p<<1)+1,w);
    int t=min(e,k);
    x=d+i+t,y=e-t+j,z=f+k-t;
  }
}
int main(void){
  scanf("%s%d",s,&n);
  for(int i=0;s[i];++i)if('('==s[i])b[N+i]=1;else c[N+i]=1;
  for(int i=N;i>1;i/=2)for(int j=i;j<i+i;j+=2){
    int k=j>>1,t=min(b[j],c[j+1]);
    a[k]=a[j]+a[j+1]+t,b[k]=b[j]-t+b[j+1],c[k]=c[j]+c[j+1]-t;
  }
  for(int l,r,x,y,z;n-->0&&2==scanf("%d%d",&l,&r);qry(l-1,r,x,y,z),printf("%d\n",x*2));
        return 0;
}
