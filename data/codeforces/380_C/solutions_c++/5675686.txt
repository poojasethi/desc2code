#include <bits/stdc++.h>
using namespace std;

const int maxN=1000000+50;
struct II{
    int l,r,i;
    bool operator < (const II c) const{
        return l>c.l;
    }
};

char s[maxN];
int n,m;
int st[maxN],ns,res[maxN];
II a[maxN];
int b[maxN];

void addval(int u,int d){
    for(;u<maxN;u+=u&-u) b[u]+=d;
}

int getval(int u){
    int res=0;
    for(;u>0;u-=u&-u) res+=b[u];
    return res;
}

int main(){
    //freopen("C.inp","r",stdin);
    scanf("%s",s+1); n=strlen(s+1);
    scanf("%d",&m);
    for (int i=0;i<m;i++) scanf("%d%d",&a[i].l,&a[i].r), a[i].i=i;
    sort(a,a+m);
    ns=0;
    memset(b,0,sizeof b);
    int nm=0;
    for (int l=n;l>=1;l--){
        if (s[l]==')') st[++ns]=l;
        else{
            if (ns>0){
                addval(st[ns],1); ns--;
            }
        }
        while (nm<m&&a[nm].l==l){
            res[a[nm].i]=getval(a[nm].r)*2;
            nm++;
        }
    }
    for (int i=0;i<m;i++) printf("%d\n",res[i]);
    return 0;
}
