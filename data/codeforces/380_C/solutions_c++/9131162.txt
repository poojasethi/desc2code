#include <iostream>
#include <cmath>
#include <stdio.h>
#include <stdlib.h>
#include <string>

using namespace std;

int c[1000006],rmq[1000006][28];

int main()
{
	string s;
	cin>>s;
	int q;
	cin>>q;
	for(int i=1;i<=s.length();i++)
	{
		c[i]=c[i-1];
		if(s[i-1]==')')
			c[i]++;
	}
	for(int i=1;i<=s.length();i++)
	{
		rmq[i][0]=rmq[i-1][0];
		if(s[i-1]=='(')
			rmq[i][0]++;
		else
			rmq[i][0]--;
	}
	for(int j=1;(1<<j)<=s.length();j++)
		for(int i=1;i+(1<<j)-1<=s.length();i++)
			rmq[i][j]=min(rmq[i][j-1],rmq[i+(1<<(j-1))][j-1]);
	while(q--)
	{
		int a,b;
		cin>>a>>b;
		int k = log2(b-a+1);
		int min_sum=min(rmq[a][k],rmq[b-(1<<k)+1][k]);
		int allc=c[b]-c[a-1];
		int badc=min(min_sum-rmq[a-1][0],0);
		cout<<2*(allc+badc)<<endl;
	}
    return 0;
}

