#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
using namespace std;
typedef long long ll;
#define rep(i,n) for (int i=1;i<=n;++i)
const int N=1000005;
int n,m,r,cnt,a[N],next[N],son[N],l[N],c[N],ans[N]; char s[N];
int main()
{
	scanf("%s",s+1),n=strlen(s+1),scanf("%d",&m);
	rep(i,m) scanf("%d%d",l+i,&r),next[i]=son[r],son[r]=i;
	rep(i,n){
		if (s[i]=='(') a[++*a]=i;
		else if (*a){for (int x=a[*a];x<=n;x+=x&-x) ++c[x]; --*a,++cnt;}
		for (int p=son[i];p;p=next[p]){
			ans[p]=cnt;
			for (int x=l[p]-1;x;x-=x&-x) ans[p]-=c[x];
		}
	}
	rep(i,m) printf("%d\n",ans[i]*2);
	return 0;
}
