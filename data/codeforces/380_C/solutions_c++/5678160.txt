#include<iostream>
#include<vector>
using namespace std;
#define p1 1048576
#define p2 2097152
int drz[p2];
int abs(int x){
if(x>0)return x;
return -x;
}
void zmien(int x,int co){
x+=p1-1;
while(1){
drz[x]=min(drz[x],co);
if(x==0)return;
x=(x-1)/2;
}
}
int ile(int a,int b){
if(a>b)swap(b,a);
a+=p1-1;
b+=p1-1;
if(a==b)return drz[a];
int w=min(drz[a],drz[b]);
while((a-1)/2!=(b-1)/2){
if(b%2==0)w=min(w,drz[b-1]);
if(a%2==1)w=min(w,drz[a+1]);
a=(a-1)/2;
b=(b-1)/2;
}
return w;
}
main(){
string s;
for(int i=0;i<p2;i++)drz[i]=1000000;
cin>>s;
int pref[s.size()];
if(s[0]=='(')pref[0]=1;
else pref[0]=-1;
for(int i=1;i<s.size();i++){
pref[i]=pref[i-1];
if(s[i]=='(')pref[i]++;
else pref[i]--; 
}
for(int i=0;i<s.size();i++)zmien(i,pref[i]);
int z,a,b;
cin>>z;
int w,u;
for(int i=0;i<z;i++){
cin>>a>>b;
a--;b--;
if(a==0)u=0;
else u=pref[a-1];
w=b-a+1-(max(0,pref[b]-ile(a,b))+max(0,u-ile(a,b)));
if(w%2==1)w--;
cout<<w<<"\n";
}
}