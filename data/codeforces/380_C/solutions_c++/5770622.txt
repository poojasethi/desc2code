#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
char ch[1100001];
int i,j,k,n,m,c[1100001],f[1100001],st[1100001],top,p[1100001],ans[200001];
struct data{
	int l,r,n;
}a[200001];
bool cmp(data a,data b){
	return a.l<b.l;
}
void change(int p,int d){
	for (;p<=n;p+=p&(-p)) c[p]+=d;
}
int query(int p){
	int res=0;
	for (;p;p-=p&(-p)) res+=c[p];
	return res;
}
int main(){
	scanf("%s",ch);n=strlen(ch);memset(c,0,sizeof(c));memset(p,0,sizeof(p));
	scanf("%d",&m);
	for (i=1;i<=m;i++) scanf("%d%d",&a[i].l,&a[i].r),a[i].n=i;
	sort(a+1,a+1+m,cmp);
	for (i=top=f[0]=0;i<n;i++)
	 if (ch[i]=='('){
	 	st[++top]=i+1;f[i+1]=f[i];
	 }else{
	 	if (!top) f[i+1]=f[i];else f[i+1]=f[i]+1,p[st[top--]]=i+1;
	 }
	for (i=1,j=0;i<=m;i++){
		for (;j<=n&&j<a[i].l;j++)
		 if (p[j]) change(p[j],1);
		ans[a[i].n]=f[a[i].r]-query(a[i].r);
	}
	for (i=1;i<=m;i++) printf("%d\n",ans[i]*2);
	return 0;
}