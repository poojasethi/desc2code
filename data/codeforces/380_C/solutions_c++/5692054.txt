#include <cstdio>
#include <algorithm>
using namespace std;

#define N 1000001

char in[N];
int seg[N*4], n, m, vet[N], F;

void init()
{
	F = 1;
	while (F < m) F *= 2;
	for (int i = 1; i <= m; ++i) seg[F+i-1] = vet[i];
	for (int i = F-1; i >= 1; --i) seg[i] = min(seg[i*2], seg[i*2+1]);
}

int query(int a, int b)
{
	int r = N;
	a += F-1;
	b += F-1;
	while (a <= b)
	{
		if (a&1) r = min(r, seg[a]);
		if (!(b&1)) r = min(r, seg[b]);
		a = (a+1)/2;
		b = (b-1)/2;
	}
	return r;
}

int main()
{
	scanf("%s%d", in, &n);
	for (int i = 0; in[i]; ++i, ++m)
		vet[i+1] = (in[i] == '(' ? 1 : -1) + vet[i];
	init();
	while (n--)
	{
		int a, b;
		scanf("%d%d", &a, &b);
		int tot = b-a+1;
		int neg = min(0, query(a, b)-vet[a-1]);
		int ult = vet[b]-vet[a-1];
		printf("%d\n", tot+neg-(ult-neg));
	}
}
