#include <cstdio>
#include <cstring>
using namespace std;

#define min(x, y) ((x) < (y) ? (x) : (y))
int n, m, l, r, M, i;
char S[1100000];

struct aa {
	int l, r, s;
	aa() {
		l = r = s = 0;
	}
	aa operator + (aa b) {
		aa c;
		int t = min(r, b.l);
		c.s = s + b.s + t;
		c.l = l + b.l - t;
		c.r = r + b.r - t;
		return c;
	}
} a[4100000];

int query(int x, int y) {
	aa lans, rans;
	for (x += M - 1, y += M + 1; x ^ y ^ 1; x >>= 1, y >>= 1) {
		if (~x & 1)	lans = lans + a[x ^ 1];
		if (y & 1)	rans = a[y ^ 1] + rans;	
	}
	lans = lans + rans;
	return lans.s * 2;
}

int main() {
	scanf("%s", S + 1);
	n = strlen(S + 1);
	for (M = 1; M < n + 2; M *= 2);
	for (i = 1; i <= n; i++)
	if (S[i] == '(')	a[i + M].r = 1;
	else	a[i + M].l = 1;
	for (i = M - 1; i; i--)	a[i] = a[i + i] + a[i + i + 1];
	scanf("%d", &m);
	while (m--) {
		scanf("%d%d", &l, &r);
		printf("%d\n", query(l, r));
	}
}
