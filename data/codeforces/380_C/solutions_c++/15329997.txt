#include<bits/stdc++.h>
#define N 1000005
using namespace std;
vector<int>vec[N];
int S[N],L[N],R[N],ans[N],F[N];
int n,i,Q,k,id,tmp;char a[N];
int ask(int x){int s=0;for (;x;x-=x&-x) s+=F[x];return s;}
void add(int x){for (;x<=n;x+=x&-x) F[x]++;}
int main(){
    scanf("%s",a+1);
    n=strlen(a+1);
    scanf("%d",&Q);
    for (i=1;i<=Q;i++)
        scanf("%d%d",&L[i],&R[i]),vec[R[i]].push_back(i);
    for (i=1;i<=n;i++){
        if (a[i]=='(') S[++*S]=i;
        else if (*S) add(S[(*S)--]);
        tmp=ask(i);
        for (k=0;k<vec[i].size();k++)
            id=vec[i][k],ans[id]=tmp-ask(L[id]-1);
            
    }for (i=1;i<=Q;i++)
        printf("%d\n",ans[i]*2);
}