#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;


char s[1000005];
int M,ques,ts=0;
int ans[5000005];
int left[5000005],right[5000005];


int main()
{
	char x=getchar();
	while(x!='\n')
	{
		s[++ts]=x;
		x=getchar();
	}
	for(M=1;M<=ts;M<<=1);
	for(int i=1;i<=ts;i++)
	{
		if(s[i]=='(')	left[i+M]=1;
		if(s[i]==')')	right[i+M]=1;
	}
	for(int i=M;i;i--)
	{
		int G=min(left[i<<1],right[(i<<1)+1]);
		ans[i]=ans[i<<1]+ans[(i<<1)|1]+G*2;
		left[i]=left[(i<<1)|1]+left[i<<1]-G;
		right[i]=right[i<<1]+right[(i<<1)|1]-G;
	}
	scanf("%d",&ques);
	while(ques--)
	{
		int l,r,lef=0,rig=0;
		int ret=0;
		scanf("%d%d",&l,&r);
		for(l+=M-1,r+=M+1;l^r^1;l>>=1,r>>=1)
		{
			if(!(l&1))
			{
				ret+=ans[l^1];
				int G=min(lef,right[l^1]);
				ret+=G*2;
				(lef-=G)+=left[l^1];
			}
			if(r&1)
			{
				ret+=ans[r^1];
				int G=min(rig,left[r^1]);
				ret+=G*2;
				(rig-=G)+=right[r^1];
			}
		}
		ret+=min(lef,rig)*2;
		printf("%d\n",ret);
	}
	return 0;
}