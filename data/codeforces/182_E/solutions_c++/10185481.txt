#include<bits/stdc++.h>
#define MP make_pair
#define R second
#define L first
using namespace std;
typedef long long lint;
const lint mod=1000*1000*1000+7;
const int maxl=3000+100, maxn=100+10;
lint dp[maxl][maxn][2];
int a[maxn][2];

int main(){
	ios_base::sync_with_stdio(false);
	int n, L;
	cin >> n >> L;
	for(int i=0;i<n;i++)
		cin >> a[i][0] >> a[i][1];
	for(int l=1;l<=L;l++)
		for(int i=0;i<n;i++)
			for(int p=0;p<2-(a[i][0]==a[i][1]);p++){
				if(l==a[i][p]){
					dp[l][i][p]=1;
					continue;
				}
				for(int j=0;j<n;j++)
					if(i!=j)
						for(int q=0;q<2-(a[j][0]==a[j][1]);q++)
							if(a[i][p]==a[j][q] && l>=a[i][p]){
								dp[l][i][p]=(dp[l][i][p]+dp[l-a[i][p]][j][q^(1&(a[j][0]!=a[j][1]))])%mod;
							}
			}
	lint res=0;
	for(int i=0;i<n;i++)
		for(int p=0;p<2;p++)
			res=(res+dp[L][i][p])%mod;
	cout << res << endl;
}
