#include <iostream>
#include <cstdio>

using namespace std;

int dp[5000][5000], x,y,m,n,ans,l,tp[200000], a[5000],b[50000];
#define mod 1000000007;

int main(){
    cin >> n >> l;
    for (int i = 1; i <= n; i++ )
    {
        cin >> x >> y;
        m++;
        tp[m] = i;
        a[m] = x;
        b[m] = y;
        if ( x != y )
        {
            m++;
            tp[m] = i;
            a[m] = y;
            b[m] = x;
        }
    }
    dp[0][0] = 1;
    for (int i = 1; i <= l; i++)
    for (int j = 1; j <= m; j++) 
        if ( a[j] <= i )
        for (int k = 0; k <= m; k++) 
        if ( ( k == 0 )|| ((tp[k] != tp[j] ) && (a[j] == b[k] ))) 
      dp[i][j] = (dp[i][j] + dp[i-a[j]][k])%mod;
    for (int i = 1; i <= m; i++ )
    ans  = ( ans + dp[l][i]) % mod;
    cout << ans;
    return 0;
}