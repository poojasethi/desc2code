#include <stdio.h>
#include <cstdlib>
#include <algorithm>
#include <iostream>
using namespace std;

const int N=200;
const int M=1000000007;

int n,l,c,x[2*N],y[2*N],z[2*N],dp[2*3000+10][2*N+10],res,i,k,j;

void read_data()
{
 cin>>n>>l;
 for ( i=1;i<=n;i++ )
  {
   c++;
   cin>>x[c]>>y[c];
   z[c]=i;
   if ( x[c]!=y[c] )
    {
     c++;
     x[c]=y[c-1];
     y[c]=x[c-1];
     z[c]=i;
    }
  }
}

void work()
{
 for ( i=1;i<=c;i++ )
  dp[x[i]][i]=1;
 for ( k=1;k<l;k++ )
  for ( i=1;i<=c;i++ )
    for ( j=1;j<=c;j++ )
     if ( x[i]==y[j] && z[i]!=z[j] )
      dp[k+x[j]][j]=(dp[k+x[j]][j]+dp[k][i])%M;
 for ( i=1;i<=c;i++ )
  res=(res+dp[l][i])%M;
}

void write_data()
{
 cout<<res<<endl;
}

main()
{
 read_data();
 work();
 write_data();
}
