#include <stdio.h>
#include <string.h>
#include <algorithm>

using namespace std;

const int MOD = 1000000007;
const int nMax = 5000;
int a[nMax], b[nMax], id[nMax], dp[nMax][nMax];

int main()
{
	int n, l;
	scanf("%d%d", &n, &l);
	int k=n;
	for (int i=1; i<=n; i++)
	{
		scanf("%d%d", &a[i], &b[i]);
		id[i] = i;
		if (a[i] != b[i])
		{
			a[++k] = b[i];
			b[k] = a[i];
			id[k] = i;
		}
	}
	memset(dp, 0, sizeof dp);
	n = k;
	for (int i=1; i<=n; i++)
		dp[i][a[i]] = 1;
	for (int i=0; i<=l; i++)
		for (int j=1; j<=n; j++)
		{
			int v = dp[j][i];
			if (v != 0)
			{
				for (int k=1; k<=n; k++)
				{
					if (id[j] == id[k])
						continue;
					if (a[k] == b[j])
						dp[k][i+a[k]] = (dp[k][i+a[k]] + v) % MOD;
				}
			}
		}
	int ans = 0;
	for (int i=1; i<=n; i++)
	{
		ans += dp[i][l];
		ans %= MOD;
	}
	printf("%d\n", ans);
	return 0;
}

		 			 	 	   			  		 	  		