#include <cstdio>
#include <cstring>
#include <algorithm> 
using namespace std;

int n , L , top , t1=0 , a[3001] , b[3001] , c[3001] , dp[3001][201] , ans ; 
#define M 1000000007

int f(int len , int prv)
{
  if(len<=0) return (len==0) ;   
  if(dp[len][prv]!=-1) return dp[len][prv] ;
  
  int x=0 ;
  for(int i=1 ; i<=n ; i++) if(c[i]!=c[prv] && b[prv]==a[i])  x=(x+f(len-a[i],i))%M ;
     
 return dp[len][prv]=x ;
}

int main()
{
   scanf("%d%d",&top,&L) ; n=top ;
   for(int i=1 ; i<=top && scanf("%d%d",&a[i],&b[i]) ; i++) 
      if(a[i]!=b[i]) { n++ ; a[n]=b[i] , b[n]=a[i] , c[i]=c[n]=t1++; } 
      else c[i]=t1++ ;

   memset(dp,-1,sizeof(dp)) ;
   for(int i=1 ; i<=n ; i++) ans=(ans+f(L-a[i],i))%M ; 
   printf("%d",ans) ;
    
 return 0;
}