#include <iostream>
#include <cstring>
#include <vector>

using namespace std;

int n;
int box[100005]={0};
bool b[100005]={0};
vector<pair<int, int> > v[100005];
vector<int> ans;

bool dfs(int u, int tt)
{
	b[u]=1;
	bool flag=0;
	for(int i=0; i<v[u].size(); i++)
	{
		int x=v[u][i].first, y=v[u][i].second;
		if(b[x]) continue;
		bool t=dfs(x, y==2);
		if(t) flag=1;
	}
	if(!flag && tt) 
	{
		ans.push_back(u);
		return true;
	}
	if(flag) return true;
	else return false;
}

int main()
{
	cin>>n;
	for(int i=1; i<n; i++)
	{
		int x, y, t;
		cin>>x>>y>>t;
		v[x].push_back(make_pair(y, t));
		v[y].push_back(make_pair(x, t));
	}
	dfs(1, 0);
	cout<<ans.size()<<endl;
	if(ans.size())
	{
		for(int i=0; i<ans.size(); i++) cout<<ans[i]<<" ";
		cout<<endl;
	}
}
