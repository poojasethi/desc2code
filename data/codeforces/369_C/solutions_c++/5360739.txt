#include <iostream>
#include <vector>
#define MAXN 100001
using namespace std;
int n,s=-1;
vector <int> a[MAXN],c[MAXN];
bool b[MAXN],bb[MAXN];
int ss[MAXN];
void DFS(int x)
{
	int k;
	b[x]=0;
	for (int i=0;i<a[x].size();++i){
		k=a[x][i];
		if (b[k]){
			DFS(k);
			if (bb[k]) bb[x]=1;
			else if (c[x][i]==2){
				++s;ss[s]=k;
				bb[x]=1;
			}
		}
	}

}
int main()
{
	cin>>n;
	int q,w,e;
	for (int i=1;i<n;++i){
		bb[i]=0;b[i]=1;
		cin>>q>>w>>e;
		a[q].push_back(w);
		a[w].push_back(q);
		c[q].push_back(e);
		c[w].push_back(e);
	}
	bb[n]=0;b[n]=1;
	DFS(1);
	cout<<s+1<<endl;
	for(int i=0;i<=s;++i) cout <<ss[i]<<" ";
}