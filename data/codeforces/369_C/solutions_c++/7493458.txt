#include<iostream>
#include<vector>
using namespace std;
vector<pair<int,int> >a[100001];
vector<int> ans;
bool sloved[100001];
int use[100001];
int DFS(int now)
{
	sloved[now]=true;
	for(int i=0;i<a[now].size();i++)if(!sloved[a[now][i].first])
		use[now]+=DFS(a[now][i].first);
	if(use[now]==1)ans.push_back(now);
	return use[now];
}
int main()
{
	int n;
	cin>>n;
	int x,y,t;
	for(int i=0;i<n-1;i++)
	{
		cin>>x>>y>>t,a[x].push_back(make_pair(y,t)),a[y].push_back(make_pair(x,t));
		if(t==2)use[x]=use[y]=1;
	}
	DFS(1);
	cout<<ans.size()<<endl;
	for(int i=0;i<ans.size();i++)cout<<ans[i]<<" ";
	cout<<endl;
	return 0;
}
