#include<cstdio>
using namespace std;
int n,cnt;
int info[100010],next[200010],to[200010],val[200010],ans[100010];
bool dfs(int num,int fa,int w){ 
    bool flag=true;
    for(int i=info[num];i;i=next[i]){ 
	    if(to[i]!=fa && !dfs(to[i],num,val[i]))
		   flag=false;
	}
    if(flag&&w==2){
		ans[++ans[0]]=num;
		flag=false;
	}
    return flag;
}
int main(){ 
    scanf("%d",&n);
	for(int i=0;i<n-1;i++){
		int x,y,z;
	    scanf("%d%d%d",&x,&y,&z);
        next[++cnt]=info[x];info[x]=cnt;to[cnt]=y;val[cnt]=z;
		next[++cnt]=info[y];info[y]=cnt;to[cnt]=x;val[cnt]=z;
	}
    dfs(1,0,1);
	printf("%d\n",ans[0]);
	for(int i=1;i<ans[0];i++)
		printf("%d ",ans[i]);
	if(ans[0]>0)
    	printf("%d\n",ans[ans[0]]);
    return 0;
}
 	 	  	 	 	  				 	 		    	