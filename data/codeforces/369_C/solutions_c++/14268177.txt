#include <bits/stdc++.h>
using namespace std;
const int MAXN=1000*101;
vector<pair<int,int> >a[MAXN];
int mark[MAXN]={};
vector<int>ans;
int dfs(int u,int t)
{
    int x=0;
    mark[u]=1;
    for(int i=0;i<a[u].size();i++)
        if(mark[a[u][i].first]==0)
            x+=dfs(a[u][i].first,a[u][i].second);
    if(t==2&&x==0)ans.push_back(u);
    if(t==2)return 1;
    return min(x,1);;
}
main()
{
    int u,v,t,n;
    cin>>n;
    for(int i=0;i<n-1;i++)
    {
        cin>>u>>v>>t;
        a[u].push_back(make_pair(v,t));
        a[v].push_back(make_pair(u,t));

    }
    dfs(1,1);
    cout<<ans.size()<<'\n';
    for(int i=0;i<ans.size();i++)
        cout<<ans[i]<<' ';
}

		     		  			 	  	     			