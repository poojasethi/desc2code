#include<cstdio>
#include<iostream>
using namespace std;

#define N 200050
int n;
struct edge
{
	int to,next,w;
}	g[N];
int gn;
int start[N];
int step[N],top;

void add(int a,int b,int c)
{
	gn++;g[gn].to=b,g[gn].next=start[a],start[a]=gn;g[gn].w=c;
	gn++;g[gn].to=a,g[gn].next=start[b],start[b]=gn,g[gn].w=c;
}

int dfs(int x,int fa)
{
	int ans=0;
	for(int i=start[x];i;i=g[i].next)
	{
		int v=g[i].to;
		if(v==fa) continue;
		int k=dfs(v,x);
		if(g[i].w==2)
			{ans+=max(k,1);if(k==0) step[++top]=v;}
		else 
			ans+=k;
	}
	return ans;
}

int main()
{
	cin>>n;
	for(int i=1;i<n;i++)
	{
		int x,y,z;
		cin>>x>>y>>z;
		add(x,y,z);
	}
	cout<<dfs(1,0)<<endl;
	for(int i=1;i<=top;i++)
		cout<<step[i]<<' ';
}
