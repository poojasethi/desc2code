#include <bits/stdc++.h>
#define pb push_back
#define mp make_pair
using namespace std;
vector < vector< pair<int,int> > > v(100003);
vector <int> vec;
int vis[100005]={0};
int dfs(int r,int par,int type)
{
	int i,j=0,m;
	pair<int,int>u;
	if(vis[r]==1)
		return 0;
	vis[r]=1;

	for(i=0;i<v[r].size();i++)
	{
		u = v[r][i];
		if(vis[u.first]==0)
		{
			if(u.second==2)
				j+=dfs(u.first,r,1);
			else
				j+=dfs(u.first,r,0);
		}
	}
	m=max(j,type);
	if(m>0&&j==0)
		vec.pb(r);
	return m;
}
int main()
{
	int i,n,a,b,c;
	scanf("%d",&n);
	for(i=0;i<n-1;i++)
	{
		scanf("%d%d%d",&a,&b,&c);
		v[a].pb(mp(b,c));
		v[b].pb(mp(a,c));
	}
	i=dfs(1,-1,0);
	
	printf("%d\n",vec.size());
	for(i=0;i<vec.size();i++)
	{
		printf("%d ",vec[i]);
	}
	return 0;
}