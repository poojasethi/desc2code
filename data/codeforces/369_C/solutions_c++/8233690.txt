#include<iostream>
#include<math.h>
#include<iomanip>
#include<string>
#include<algorithm>
#include<deque>
#include<queue>
using namespace std;
int t[100010],d[100010],n;
vector <vector <int> > v;
void dfs(int i,int p){
	int j;
	d[i]=0;
	if(t[i]==1)
		d[i]=1;
	for (j=0;j<v[i].size();j++){
		int k=v[i][j];
		if(k!=p){
			dfs(k,i);
			d[i]+=d[k];
		}
	}
}
int main () {
	int i,q,w,z;
	cin>>n;
	v.resize(n+1);
	for (i=1;i<n;i++){
		cin>>q>>w>>z;
		v[q].push_back(w);
		v[w].push_back(q);
		if(z==2)
			t[q]=1,t[w]=1;
	}
	dfs(1,-1);
	vector <int> ans;
	for (i=1;i<=n;i++){
		if(d[i]==1)
			ans.push_back(i);
	}
	cout<<ans.size()<<endl;
	for (i=0;i<ans.size();i++)
		cout<<ans[i]<<" ";
	cout<<endl;
	return 0;
}
