#include <cstdio>
#define maxn 400005

int N,head[maxn],lk[maxn],next[maxn],c[maxn],q[maxn];
bool b[maxn];

void add(int u,int v,int w,int t) {lk[t]=v,c[t]=w,next[t]=head[u],head[u]=t;}

void dfs(int u,int f,int d)
{
	for (int i=head[u],v; v=lk[i],i; i=next[i]) if (v!=f) dfs(v,u,c[i]);
	if (!b[u]&&d==2) b[u]=1,q[++q[0]]=u;
	b[f]|=b[u];
}

int main()
{
	scanf("%d",&N);
	for (int i=1,u,v,w; i<N; i++) scanf("%d%d%d",&u,&v,&w),add(u,v,w,i),add(v,u,w,i+N-1);
	b[1]=1,dfs(1,0,0);
	printf("%d\n",q[0]);
	for (int i=1; i<=q[0]; i++) printf("%d%c",q[i],i==q[0]?'\n':' ');
}