#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

#define X first
#define Y second
#define pb push_back

typedef pair<int,int> pii;

int n,x,y,t;
vector <pii> v[100005];
bool vis[100005];
vector <int> ans;

int dfs(int u)
{
	vis[u]=true;
	int cnt=0,temp;
	for(int i=0;i<v[u].size();i++)
	{
		if(vis[v[u][i].X])
			continue;
		if( !(temp=dfs(v[u][i].X)) && v[u][i].Y==2 )
		{
			cnt++;
			ans.pb(v[u][i].X);
		}
		else
			cnt+=temp;
	}
	return cnt;
}

int main()
{
	cin>>n;
	for(int i=0;i<n-1;i++)
	{
		cin>>x>>y>>t;
		x--;
		y--;
		v[x].pb(pii(y,t));
		v[y].pb(pii(x,t));
	}
	cout<<dfs(0)<<"\n";
	for(int i=0;i<ans.size();i++)
		cout<<ans[i]+1<<" ";
}