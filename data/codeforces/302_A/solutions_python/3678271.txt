n, m = map(int, raw_input().split())
A = map(int, raw_input().split())
ones, neg = 0, 0
for j in A: 
	if j == 1: ones += 1
	else: neg += 1

while m>0:
	i, j = map(int , raw_input().split())
	mod = j-i+1
	if mod % 2 == 0 and mod/2 <= ones and mod/2 <= neg: 
		print 1
	else: print 0
	m-=1
