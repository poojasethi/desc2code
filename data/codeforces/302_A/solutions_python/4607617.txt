r=lambda:map(int, raw_input().split())
n,m=r()
a=r()
z,k=a.count(-1),a.count(1)
for i in [0]*m:
    l,p=r()
    t=p-l+1
    if t%2 or t/2>min(z,k):
        print 0
    else:
        print 1