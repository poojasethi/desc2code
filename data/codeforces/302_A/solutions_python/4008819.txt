#!/usr/bin
from sys import __stdin__
from itertools import imap
n,m=map(int, raw_input().split())
arr=raw_input().split()
c1 = arr.count('1')
c2 = n-c1
for l, r in imap( lambda t: map(int, t.split()), __stdin__):
    l = r - (l-1)
    print [0, 1][~l&1 and c1 >= l>>1 and c2 >= l>>1]