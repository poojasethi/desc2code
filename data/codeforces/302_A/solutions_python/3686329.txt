r = lambda: map(int, raw_input().split())
n, m = r()
c1 = r().count(1)
for i in xrange(m):
    a, b = r()
    len = b - a + 1
    if len & 1: print 0
    else:
        if 2 * c1 >= len and 2 * (n - c1) >= len:
            print 1
        else:
            print 0
