n,m=map(int,raw_input().split())
L=map(int,raw_input().split())
count_1=0
count=0
for x in L:
	if(x==1):
		count_1+=1
	else:
		count+=1
while(m):
	m-=1
	l,r=map(int,raw_input().split())
	y=(r-l)+1
	if(y%2==0):
		if((y/2)<=min(count,count_1)):
			print "1"
		else:
			print "0"
	else:
		print "0"
