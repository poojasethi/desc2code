if __name__ == '__main__':
    f = lambda:map(int, raw_input().split())
    n, m = f()
    num = f()
    cnt = num.count(1)
    cnt = ( cnt if (n-cnt)>cnt else n-cnt )<<1
    while m > 0:
        m -= 1
        l, r = f()
        l = r-l+1
        print 0 if (l&1 or l>cnt ) else 1
