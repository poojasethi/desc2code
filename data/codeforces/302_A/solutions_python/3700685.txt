a=lambda: map(int,raw_input().split())
n,m=a()
d=a()
pos=d.count(1)
neg=len(d)-pos
for i in xrange(m):
  l,r=a()
  r+=1
  if (r-l)%2==1:
    print 0
  else:
    b=(r-l)/2
    if b <= pos and b <= neg:
      print 1
    else:
      print 0
