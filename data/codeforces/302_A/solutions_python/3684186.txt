R=lambda:map(int,raw_input().split())
n,m=R()
a=[0]+R()
c=[0,0,0]
for i in range(n):c[a[i+1]]+=1;a[i+1]+=a[i]
for i in range(m):
  l,r=R()
  f,d=(r-l)%2,a[r]-a[l-1]
  p=(r-l+1+d)/2
  q=p-d
  if d>0 and d>(c[2]-q)*2:f=0
  if d<0 and -d>(c[1]-p)*2:f=0
  print f
