n, m = map(int, raw_input().split())
a = map(int, raw_input().split())
pl = a.count(1)
mi = n - pl
for _ in xrange(m):
    l, r = map(int, raw_input().split())
    if (r - l + 1) % 2:
        print 0
    elif min(pl, mi) < (r - l + 1) / 2 :
        print 0
    else:
        print 1