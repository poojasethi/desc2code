s = raw_input()
numbers = map(int, s.split())

s = raw_input()
n = map(int, s.split())
nb_p = n.count(1)
nb_n = numbers[0] - nb_p

mn =  min(nb_p,nb_n)*2
for i in range(numbers[1]):
	s = raw_input()
	m = map(int, s.split())
	diff = m[1] - m[0];
	if (diff%2 == 1) and  (mn  > diff):
		print 1 
	else:
		print 0