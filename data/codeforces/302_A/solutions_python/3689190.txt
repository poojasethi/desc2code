n,m  = map(int,raw_input().split())
nums = map(int,raw_input().split())
s = sum(nums)
# k-(n-k)=s  2k-n=s k=(s+n)/2
k = (s+n)/2
for i in range(m):
	t1,t2 = map(int,raw_input().split())
	t = t2-t1+1
	if t % 2 == 1:
		print 0
	elif k >= t/2 and n-k >= t/2:
		print 1
	else:
		print 0


