n,m = [int(c) for c in raw_input().split()]
r = [int(c) for c in raw_input().split()]
s = min(r.count(1),r.count(-1))
for i in xrange(m):
	a,b = [int(c) for c in raw_input().split()]
	print [0,1][(b-a)%2==1 and (b-a+1)/2<=s]