#include<stdio.h>
int main(){
	int n,i,m,r,l,a,x=0,y=0;
	scanf("%d%d",&n,&m);
	
	for(i=1;i<=n;i++){
		scanf("%d",&a);
		if(a==1) x++;
		else y++;
	}
	
	for(i=0;i<m;i++){
		scanf("%d%d",&l,&r);
		r=r-(l-1);
		if(r%2) puts("0");
		else{
			
			if(r/2<=x && r/2<=y) puts("1");
			else puts("0");
		}
	}
	return 0;
}