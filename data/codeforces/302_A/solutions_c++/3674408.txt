#include <iostream>
using namespace std;

int main()
{
    int m,n,l,r,i,a,k=0;
    cin>>n>>m;
    for (i=0;i<n;i++) {cin>>a; if(a==1) k++;}
    k=min(k,n-k);
    for (i=1;i<=m;i++) {cin>>l>>r; l=r-l+1; if (l&1) cout<<0<<endl; else if (k>=l/2) cout<<1<<endl; else cout<<0<<endl;}
    return 0;
}
