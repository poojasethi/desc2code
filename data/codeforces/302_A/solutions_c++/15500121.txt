#include<bits/stdc++.h>

using namespace std;

int main(){
	std::ios::sync_with_stdio(false);
	int n,q;
	cin>>n>>q;
	int np=0,nn=0,aux;
	while(n--){
		cin>>aux;
		if(aux==-1)nn++;
		else np++;
	}
	int a,b;
	while(q--){
		cin>>a>>b;
		int r = b-a+1;
		if(!(r&1) && nn>=(r/2) && np>= (r/2))cout<<"1\n";
		else cout<<"0\n";
	}
   
	return 0;
}

