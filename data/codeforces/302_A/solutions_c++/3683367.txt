#include<cstdlib>
#include<iostream>
using namespace std;
int main(){
    int n,m,l,r,a=0,b=0,t;
    cin>>n>>m;
    for(int i=0;i<n;i++){
        cin>>t;
        a+=t==1;
        b+=t==-1;
    }
    for(int i=0;i<m;i++){
        cin>>l>>r;
        cout<<(r-l+1<=min(a,b)*2&&(r-l)%2)<<"\n";
    }
}
