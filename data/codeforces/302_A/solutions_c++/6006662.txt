#include"stdio.h"
main(){
	int a,x,y,l,r,t,i,m,n;
	while(~scanf("%d%d",&n,&m)){
		x=0;y=0;
		for(i=0;i<n;i++){
			scanf("%d",&a);
			if(a==1)x++;
			else y++;
		}
		for(i=0;i<m;i++){
			scanf("%d%d",&l,&r);
			t=r-l+1;
			if(t%2==0&&x>=t/2&&y>=t/2)printf("1\n");
			else printf("0\n");
		}
	}
} 
 	 		 	  	 		  		   		 	 	