#include <iostream>
using namespace std;

int main(){
	int n,m;
	cin>>n>>m;
	int a;
	int p=0,ne=0;
	for(int i =0;i<n;i++){
		cin>>a;
		if(a==1) p++;
		else ne++;
	}
	
	int l,r;
	for(int i=0;i<m;i++){
		cin>>l>>r;
		r=r-l+1;
		if(r%2!=0) {cout<<"0\n"; continue;}
		r/=2;
		if(p>=r && ne>=r) cout<<"1\n";
		else cout<<"0\n";
	}
	
	return 0;
}
