#include <iostream>

using namespace std;

int main() {
int n,m,pl=0,mn=0,temp, t;
cin>>n>>m;
for(int i=0; i<n; i++) {
cin>>temp;
if(temp == 1)
pl++;
else mn++;
}

pl = pl < mn ? pl : mn;

for(int i=0 ;i<m; i++) {
cin>>temp>>t;

if((t-temp)%2 && t-temp+1 <= pl*2)
cout<<1<<endl;
else cout<<0<<endl;
}
return 0;
}