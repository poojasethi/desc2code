#include <stdio.h>
int a[1000000];
int a0,a1;
int main(){
	int n,m,i,l,r;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)scanf("%d",a+i);
	for(i=1;i<=n;i++)a1+=(a[i]==1);
	for(i=1;i<=n;i++)a0+=(a[i]==-1);
	for(i=1;i<=m;i++){
	scanf("%d%d",&l,&r);
	printf("%d\n",(r-l)%2&&(a1)>=(r-l+1)/2&&(a0)>=(r-l+1)/2);
	}
	return 0;
}