#include <bits/stdc++.h>
using namespace std;
int main()
{
    int n,m,x,a__1=0,a_1=0,l,r;
    scanf("%d%d",&n,&m);
    while(n--){scanf("%d",&x); if(x==1)a_1++; else a__1++;}
    while(m--){scanf("%d%d",&l,&r); r-=l; r++; if(a_1>=r/2&&a__1>=r/2&&r%2==0)printf("%d\n",1); else printf("%d\n",0);}
    return 0;
}