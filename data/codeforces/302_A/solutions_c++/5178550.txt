#include <iostream>
using namespace std;
int n,m,l,r,a[1000001],i,sum,j;
int main()
{
    cin>>n>>m;
    for(i=1;i<=n;i++){cin>>a[i];if (a[i]==1) sum++;}sum=min(sum,n-sum);
    for(i=1;i<=m;i++){
        cin>>l>>r;l=r-l+1;
        if ((l%2==0) && (sum>=l/2)) cout<<1<<endl;
       else cout<<0<<endl;
    }
    return 0;
}
