#include <iostream>
#include <cstdio>
using namespace std;

int arr[2];
int main()
{
	int n, m, l, r;
	cin >> n >> m;
	for(int i = 0; i < n; i++)
	{
		cin >> l;
		arr[(l+1)/2]++;
	}
	int mi = min(arr[0], arr[1])*2;
	for(int i = 0; i < m; i++)
	{
		cin >> l >> r;
		cout << ((r-l) % 2 == 1 && r-l+1 <= mi) << endl;
	}
}
