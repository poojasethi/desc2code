#include <cstdio>
int main()
{
	int n,m;
	scanf("%d%d",&n,&m);
	int neg = 0,pos = 0;
	while(n--)
	{
		int a;
		scanf("%d",&a);
		a == 1 ? ++pos : ++neg; 
	}
	while(m--)
	{
		int p,q;
		scanf("%d%d",&p,&q);
		int k = q-p+1;
		printf("%d\n",k % 2 == 0 && k/2 <= pos && k/2 <= neg ? 1 : 0);
	}
}
 	 				   	  										  	  	 	