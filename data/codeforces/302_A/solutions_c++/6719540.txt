#include<iostream>
using namespace std;
int main()
{
	int x=0,y=0,n,arr[200000],q,a,b,l,k;
	cin>>n>>q;
	for(int i=0;i<n;i++)
	{
		cin>>arr[i];
		if(arr[i]==1)
			x++;
		else
			y++;
	}
	for(int i=0;i<q;i++)
	{
		cin>>a>>b;
		l=(b-a+1);
		if(l%2==1 || l/2>x || l/2>y)cout<<0<<endl;
		else cout<<1<<endl;
	}
}