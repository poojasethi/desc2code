#include <cstdio>
int main(){
	int i, j, n, m, a, s1 = 0, s2 = 0;
	scanf("%d%d",&n,&m);
	for (i = 1; i <= n; i++){
		scanf("%d",&a);
		if(a == -1) s1++;
		else s2++;
	}
	while (m--){
		scanf("%d%d",&i,&j);
		if ((j + 1 - i) % 2 == 0 && (j + 1 - i) / 2 <= s1 && (j + 1 - i) / 2 <= s2) printf("1\n");
		else printf("0\n");
	}
}
