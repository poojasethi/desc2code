#include <iostream>
using namespace std;
int main()
{
	int n,m,l,r,k=0;
	cin>>n>>m;
	for(int i=0;i<n;i++)
	{
		cin>>l;
		k+=(l==1);
	}
	k=min(k,n-k)*2;
	for(int i=0;i<m;i++)
	{
		cin>>l>>r;
		cout<< ((r-l)%2 && r-l<k)<<endl;
	}
}
