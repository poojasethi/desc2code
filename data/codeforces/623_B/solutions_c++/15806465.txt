#include<stdio.h>
#include<map>
#include<algorithm>
#include<math.h>
using namespace std;
map<int,int>ch;
int w,sw,n,arr[1000010],p[100],mod[1000010];
long long a,b,dap=1e18,sum,d[1000010];
void pro(int x)
{
    int k,i;
    while(x>1)
    {
        k=sqrt(x);
        for(i=2;i<=k;i++)
        {
            if(x%i==0) break;
        }
        if(i==k+1) break;
        x/=i;
        if(ch[i]==0) p[++w]=i;
        ch[i]=1;
    }
    if(ch[x]==0) p[++w]=x;
    ch[x]=1;
}
int main()
{
    int i,j;
    scanf("%d %lld %lld",&n,&a,&b);
    for(i=1;i<=n;i++) scanf("%d",&arr[i]);
    pro(arr[1]);
    pro(arr[1]-1);
    pro(arr[1]+1);
    pro(arr[n]);
    pro(arr[n]-1);
    pro(arr[n]+1);
    for(i=1;i<=w;i++)
    {
        sum=0; sw=0;
        for(j=1;j<=n;j++) mod[j]=arr[j]%p[i];
        for(j=1;j<=n;j++)
        {
            d[j]=d[j-1]+a;
            if(sw==0) d[j]=min(d[j],sum*b+a);
            if(mod[j]==p[i]-1 || mod[j]==1) sum++;
            else if(mod[j]!=0) sw=1;
        }
        if(sw==0) dap=min(dap,sum*b);
        sum=0;
        dap=min(dap,d[n]);
        for(j=n;j>=2;j--)
        {
            if(mod[j]==p[i]-1 || mod[j]==1) sum++;
            else if(mod[j]!=0) break;
            dap=min(dap,d[j-1]+sum*b);
        }
    }
    printf("%lld",dap);
}
