#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
#define ll long long
#define N 1000010
#define INF 1000000000000007LL
using namespace std;
int n,a,b,v[N],c[50],d[50];
ll f[N][2],F[N];
void put(int x) {
	int tmp=x;
	for (int i=2;i*i<=x;i++) if (tmp%i==0) {
		c[++c[0]]=i;
		while (tmp%i==0) tmp/=i;
	}
	if (tmp!=1) c[++c[0]] = tmp;
}
ll dp(int dx) {
	for (int i=1;i<=n;i++) {
		f[i][0] = INF;
		if (v[i]%dx==0) f[i][0]=min(f[i][0],f[i-1][0]);
		if ((v[i]+1)%dx==0||(v[i]-1)%dx==0) f[i][0]=min(f[i][0],f[i-1][0]+b);
	}
	for (int i=1;i<=n;i++) {
		f[i][1]=f[i][0];
		f[i][1]=min(f[i][1],f[i-1][1]+a);
	}
	for (int i=0;i<=n;i++) F[i]=f[i][1];	
	for (int i=n;i;i--) {
		f[i][0]=INF;
		if (v[i]%dx==0) f[i][0]=min(f[i][0],f[i+1][0]);
		if ((v[i]+1)%dx==0||(v[i]-1)%dx==0) f[i][0]=min(f[i][0],f[i+1][0]+b);
		
	}
	for (int i=n;i;i--) {
			f[i][1]=f[i][0];
			f[i][1]=min(f[i][1],f[i+1][1]+a);
	}
	ll ans = INF;
	for (int i=0;i<=n;i++)
		 ans = min(ans,F[i]+f[i+1][1]);
	return ans;
}
int main () {
	scanf("%d%d%d",&n,&a,&b);
	for (int i=1;i<=n;i++) scanf("%d",&v[i]);
	c[0]=0;put(v[1]);put(v[1]-1);put(v[1]+1);
	put(v[n]);put(v[n]-1);put(v[n]+1);sort(c+1,c+c[0]+1);
	int i,j;
	for (i=1;i<=c[0];i=j) {
		d[++d[0]] = c[i];
		for (j=i+1;j<=c[0]&&c[i]==c[j];j++);
	}
	ll ans = INF;
	for (int i=1;i<=d[0];i++) ans = min(ans,dp(d[i]));
	printf("%I64d",ans);
	return 0;
}