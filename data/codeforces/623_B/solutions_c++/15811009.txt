#include <cstdio>
#include <iostream>
#include <cstring>
#include <algorithm>
#include <cmath>
#include <vector>
#include <queue>
using namespace std;
typedef long long ll;
const int N=1E6+5;
const ll inf=1E18;
int n,a[N],b[N],x,s,l,r,f[N];
ll ans=inf,w1,w2,sum,maxi,tot;
bool o[N];

void pre(int k)
{
	for (int u=-1;u<=1;u++)
	{
		x=a[1]+u; s=floor(sqrt(x));
		for (int i=2;i<=s+1&&x>1;i++) if (x%i==0||i>s)
		{
			memset(o,0,sizeof(o));
			if (i>s) i=x;
			for (;x%i==0;x/=i);
			l=n+1; r=1; sum=0;
			for (int j=2;j<=n;j++) if (a[j]%i)
			{
				if (((a[j]-1)%i)&&((a[j]+1)%i)) 
				{
					l=min(l,j); r=j;
				}
				sum+=w2;
				o[j]=1;
			}
			if (u) sum+=w2;
			for (int j=2;j<=n;j++) f[j]=f[j-1]+o[j];
			maxi=0;
			for (int j=1;j<=n;j++) 
			{
				if (j<l) maxi=max(maxi,w1*j-w2*f[j]); 
				if (j>=r) ans=min(ans,sum+w1*j-w2*f[j]-maxi);
			}
		}
	}
}

int main()
{
	cin>>n>>w1>>w2;
	for (int i=1;i<=n;i++) scanf("%d",&b[i]),a[i]=b[i];
	pre(0);
	for (int i=1;i<=n;i++) a[i]=b[n-i+1];
	pre(1);
	cout<<ans;
}