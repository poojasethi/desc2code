#include<bits/stdc++.h>
#define ll long long int
using namespace std;
int A[1000005] ,  prime[10000] , size = 0  , n , a, b;

ll  dp[1000001][3];
void store(int val)
{
	int i;
	for(i=2;i*i<=val;i++)
	{
		if(val%i == 0)
			prime[size++] = i;
		while(val % i == 0)
			val = val / i;
	}
	if(val > 1)
		prime[size++] = val;
}
ll calc(ll p)
{

int i , j;
	for(i=0;i<=n;i++)
		for(j=0;j<3;j++)
			dp[i][j] = 1e18;
	dp[0][0] = 0;
	for(i=0;i<n;i++)
	{
		if(A[i]%p == 0)
		{
			dp[i+1][0] = dp[i][0];
			dp[i+1][2] = min(dp[i][1],dp[i][2]);
		}
		else if((A[i]+1)%p == 0 || (A[i]-1)%p == 0)
		{
			dp[i+1][0] = dp[i][0] + b;
			dp[i+1][2] = min(dp[i][2],dp[i][1]) + b;
		}
		dp[i+1][1] = min(dp[i][1] , dp[i][0]) + a;
	}
	return min(dp[n][0], min(dp[n][1] , dp[n][2]));
}
int main()
{
int i;
    ll ans = 1e18;
	scanf("%d %d %d", &n, &a, &b);
	for (int i = 0; i < n; ++i)
		scanf("%d", &A[i]);
	for(i=-1;i<=1;i++)
	{
		store(A[0] + i);
		store(A[n-1] + i);
	}

	for(i=0;i<size;i++)
		ans =min(ans , calc(prime[i]));
	cout<<ans<<endl;
}