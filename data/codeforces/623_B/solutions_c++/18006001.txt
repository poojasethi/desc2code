#include <bits/stdc++.h>

#define fi first
#define se second
#define mp make_pair
#define pb push_back
#define maxn 1000005
#define pii pair < int ,int > 
#define int long long
#define ll long long  
using namespace std;
vector < int > v;
int n,m,dp[maxn][3],a,b,c,i,j,k,res=1e18,d[maxn];
ll min(ll a,ll b){
   return a < b ? a :b;
}
ll max(ll a,ll b){
   return a > b ? a :b;
}
void f(int x){
	 int i,y;
	 y=x;
	 for(i=2;i*i<=x;i++){
		 if(y%i==0)
		 v.pb(i);
		 while(y%i==0)
		 y/=i;
	 }
	 if(y>1)
	 v.pb(y);
}
ll solve(int val){
   dp[1][0]=0;
   dp[1][1]=dp[1][2]=1e18;
   int i;
   for(i=1;i<=n;i++){
	   dp[i+1][0]=dp[i+1][1]=dp[i+1][2]=1e18;
	   if(d[i]%val==0){
		  dp[i+1][0]=dp[i][0];
		  dp[i+1][2]=min(dp[i][1],dp[i][2]); 
	   }
	   else if( (d[i]+1)%val==0 or (d[i]-1)%val==0){
		  dp[i+1][0]=dp[i][0]+b;
		  dp[i+1][2]=min(dp[i][1],dp[i][2])+b;
	   }
	   dp[i+1][1]=min(dp[i][0],dp[i][1])+a;
   }
   return min(min(dp[n+1][0],dp[n+1][1]),dp[n+1][2]);
}
main(){
	scanf("%lld %lld %lld",&n,&a,&b);
	for(i=1;i<=n;i++)
		scanf("%lld",&d[i]);
    f(d[1]+1);
    f(d[1]);
    f(d[1]-1);
    f(d[n]+1);
    f(d[n]);
    f(d[n]-1);
	for(i=0;i<v.size();i++)
	res=min(res,solve(v[i]));
	printf("%lld\n",res);
	return 0;
}
