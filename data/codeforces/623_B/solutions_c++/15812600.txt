#include <iostream>
#include <algorithm>
#include <vector>
#include <cstdio>
#include <map>
#include <queue>
#include <set>

using namespace std;

set<int> s;
int a[1000500];
int n,c1,c2;
long long b[1000500];
const long long very_big = (long long)(1e13);
void go(int x)
{
    for(int i=2;i*i<=x;i++)
    if(x%i==0)
    {
        if(s.find(i)==s.end())s.insert(i);
        while(x%i==0)x/=i;
    }
    if(x!=1)
    if(s.find(x)==s.end())s.insert(x);
}

long long check(int p)
{
    long long res = 0;
    for(int i=0;i<n;i++)
    {
        int z = a[i]%p;
        if(z==0) b[i] = -c1; else
        if(z==1 || z==p-1) {b[i] = c2-c1; res+=c2;}else
        {
            res+=very_big;
            b[i] = very_big - c1;
        }
    }
    long long s = 0;
    long long r2 = 0;
    for(int i=0;i<n;i++)
    {
        s+=b[i];
        if(s<0) s = 0;
        if(s>r2) r2=s;
    }
    return res - r2;
}

int main()
{
    cerr<<very_big<<endl;
    scanf("%d%d%d",&n,&c1,&c2);
    for(int i=0;i<n;i++)
        scanf("%d",a+i);
    go(a[0]-1);
    go(a[0]);
    go(a[0]+1);
    go(a[n-1]-1);
    go(a[n-1]);
    go(a[n-1]+1);
    long long res = c2; res*=n;
    for(set<int>::iterator it= s.begin();it!=s.end();it++)
    {
        long long s = check(*it);
        if(s<res) res  = s;
    }
    cout <<res <<endl;
    return 0;
}
