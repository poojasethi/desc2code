#include<bits/stdc++.h>

#define FI(i,a,b) for(int i=(a);i<=(b);i++)
#define FD(i,a,b) for(int i=(a);i>=(b);i--)

#define LL long long
#define INF (1LL<<55)

using namespace std;

int n,a,b,s[1000005];
LL ans,c,tmp;
bool ok[1000005],mok[1000005];
LL pre[1000005],suf[1000005];

void f(int num){
  if(num==1) return;
  FI(i,2,n){
    if(s[i]%num==0) ok[i]=true,mok[i]=false;
    else if((s[i]+1)%num==0 || (s[i]-1)%num==0) ok[i]=false,mok[i]=true;
    else ok[i]=false,mok[i]=false;
  }
  
  pre[1]=0;
  FI(i,2,n){
    if(pre[i-1]==INF) pre[i]=INF;
    else if(ok[i]) pre[i]=pre[i-1];
    else if(mok[i]) pre[i]=pre[i-1]+b;
    else pre[i]=INF;
  }
  FI(i,2,n) pre[i]=min(pre[i],pre[i-1]+a);
  
  suf[n+1]=0;
  FD(i,n,2){
    if(suf[i+1]==INF) suf[i]=INF;
    else if(ok[i]) suf[i]=suf[i+1];
    else if(mok[i]) suf[i]=suf[i+1]+b;
    else suf[i]=INF;
  }
  
  tmp=INF;
  FI(i,1,n) tmp=min(tmp,pre[i]+suf[i+1]);
  //printf("%lld\n",c+tmp);
  ans=min(ans,c+tmp);
  return;
}

void g(int num){
  for(int i=2;i*i<=num;i++){
    if(num%i==0){
      while(num%i==0) num/=i;
      f(i);
    }
  }
  f(num);
  return;
}

int main(){
  ans=INF;
  
  scanf("%d %d %d",&n,&a,&b);
  FI(i,1,n) scanf("%d",&s[i]);
  
  FI(i,-1,1){
    if(i) c=b;
    else c=0;
    g(s[1]+i);
  }
  
  FI(i,1,n/2) swap(s[i],s[n+1-i]);
  
  FI(i,-1,1){
    if(i) c=b;
    else c=0;
    g(s[1]+i);
  }
  
  printf("%lld\n",ans);
  return 0;
}