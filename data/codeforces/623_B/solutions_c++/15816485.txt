#include<bits/stdc++.h>
#define N 1000005
using namespace std;
typedef long long LL;
LL f[N][3],ans;
int p[N],a[N],n,A,B,i;
inline void upd(LL &x,LL y){if (y<x) x=y;}
LL work(int P){
  //f[i][0]没有用过
  //f[i][1]正用到
  //f[i][2]已经用过
  memset(f,60,sizeof(f));
  f[0][0]=0;
  for (int i=1;i<=n;i++){
    if (a[i]%P==0) upd(f[i][0],f[i-1][0]);
    if ((a[i]+1)%P==0) upd(f[i][0],f[i-1][0]+B);
    if ((a[i]-1)%P==0) upd(f[i][0],f[i-1][0]+B);
    upd(f[i][1],f[i-1][0]+A);
    upd(f[i][1],f[i-1][1]+A);
    if (a[i]%P==0) upd(f[i][2],min(f[i-1][2],f[i-1][1]));
    if ((a[i]+1)%P==0) upd(f[i][2],min(f[i-1][2],f[i-1][1])+B);
    if ((a[i]-1)%P==0) upd(f[i][2],min(f[i-1][2],f[i-1][1])+B);
  }return min(min(f[n][0],f[n][1]),f[n][2]);
}
void Divide(int x){
  for (int i=2;1ll*i*i<=x;i++)
    if (x%i==0){
      p[++*p]=i;
      for (;x%i==0;x/=i);
    }
  if (x>1) p[++*p]=x;
}
int main(){
  scanf("%d%d%d",&n,&A,&B);
  for (i=1;i<=n;i++)
    scanf("%d",&a[i]);
  Divide(a[1]-1);Divide(a[1]+1);Divide(a[1]);
  Divide(a[n]-1);Divide(a[n]+1);Divide(a[n]);
  sort(p+1,p+*p+1);
  *p=unique(p+1,p+*p+1)-(p+1);
  ans=1ll*A*(n-1);
  for (i=1;i<=*p;i++)
    ans=min(ans,work(p[i]));
  printf("%I64d\n",ans);
}