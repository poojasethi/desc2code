#include<iostream>
#include<stdio.h>
#include<stdlib.h>
#include<cstring>
#include<algorithm>
using namespace std;

int i,j,pi,pp,n,a1,b1;
long long ans,minans,k,kk,a,b,prime,flag,pr[1000005],s[1000005],c[15],cost[1000005];

void p(long long x){
	flag=0;
	for(pi=0;pi<pp;pi++)
		if(pr[pi]==x){
			flag++;
			break;
		}
	if(!flag){
	pp++;
	pr[pp-1]=x;
}
}

int main () {
    scanf("%d%d%d",&n,&a1,&b1);
    a=(long long)a1;
    b=(long long)b1;
    pp=0;
    for(i=1;i<=n;i++){scanf("%d",&a1);s[i]=(long long)a1;}
    c[1]=s[1]-1;
    c[2]=s[1];
    c[3]=s[1]+1;
    c[4]=s[n]+1;
    c[5]=s[n];
    c[0]=s[n]-1;
    for(i=0;i<6;i++){
    	for(j=2;j*j<=c[i];j++){
    		if(!(c[i]%j))p(j);
    		while(!(c[i]%j))c[i]/=j;
    	}
    	if(c[i]>1)p(c[i]);
		}
	minans=1e18;
    for(i=0;i<pp;i++){
    	prime=pr[i];
    	for(j=1;j<=n;j++){
    		if(!(s[j]%prime)){cost[j]=0;}
			else{if((!((s[j]+1)%prime))||(!((s[j]-1)%prime))){cost[j]=b;}else{cost[j]=1e11;}}
		}
		for(j=2;j<=n;j++)cost[j]+=cost[j-1]; 
		ans=cost[n];
		kk=0;k=0;
		for(j=1;j<=n;j++){
            k+=cost[j]-cost[j-1];kk++;  
            if(k>=kk*a){  
                ans=min(ans,cost[n]-cost[j]+cost[j-kk]+kk*a);  
            }else{  
            kk=0;k=0;  
                }  
            }  
            minans=min(minans,ans);
	}
	cout<<minans<<endl;
    return 0;
}
	 	 	 				 	 		 						 		 			 	