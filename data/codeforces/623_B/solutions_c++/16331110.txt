#include <iostream>
#include <cstdio>
#include <cmath>
using namespace std;
const long long inf=3e18;;
int c[1000010],d[10000],g[10000],u[50000],p[10000],i,j,n,tot=0,maxc;
long long f[1000010][3],ans=inf,a,b;
void dcp(int x)
{
	for (int i=1;i<=p[0] && x>1;++i)
		if (x%p[i]==0)
			for (d[i]=1;x%p[i]==0;x/=p[i]);
	if (x>1)
	{
		for (int i=1;i<=tot;++i)
			if (g[i]==x) return;
		g[++tot]=x;
	}
}
void dp(int div)
{
	int i,j;
	for (i=1;i<=n;++i) f[i][0]=f[i][1]=f[i][2]=inf;
	for (i=1;i<=n;++i)
	{
		if (c[i]%div==0) j=0;
			else if ((c[i]+1)%div==0 || (c[i]-1)%div==0) j=b;
				else j=-1;
		if (j>=0)
		{
			f[i][0]=min(f[i][0],f[i-1][0]+j);
			f[i][2]=min(f[i][2],min(f[i-1][1],f[i-1][2])+j);
		}
		f[i][1]=min(f[i][1],min(f[i-1][0],f[i-1][1])+a);
		f[i][2]=min(f[i][2],min(f[i][1],f[i][0]));
		if (f[i][0]>=inf && f[i][1]>=inf && f[i][2]>=inf) return;
	}
	ans=min(ans,f[n][2]);
}
int main()
{
		scanf("%d%I64d%I64d\n",&n,&a,&b);
		for (i=1;i<=n;++i) scanf("%d",&c[i]),maxc=max(maxc,c[i]);
		maxc=sqrt(maxc+1);
		for (i=2;i<=maxc;++i) u[i]=1;
		for (i=2;i*i<=maxc;++i)
			if (u[i])
				for (j=i;i*j<=maxc;++j) u[i*j]=0;
		for (i=2;i<=maxc;++i) if (u[i]) p[++p[0]]=i;
		dcp(c[1]);dcp(c[1]-1);dcp(c[1]+1);
		dcp(c[n]);dcp(c[n]-1);dcp(c[n]+1);
		for (i=1;i<=p[0];++i) if (d[i]) g[++tot]=p[i];
		for (i=1;i<=tot;++i) dp(g[i]);
		printf("%I64d\n",ans);
}