#include<cstdio>
#include<algorithm>
#define ll long long
#define N 1000010
using namespace std;
int n,a,b,c[N];
bool vis[100000];
ll ans=1e18,f[N][3];
inline void dp(int x)
{
	for(int i=1;i<=n;i++)
	for(int j=0;j<3;j++)
	f[i][j]=1e18;
	for(int i=1;i<=n;i++)
	{
		if(c[i]%x==0||c[i]%x==1||c[i]%x==x-1)
		{
			f[i][0]=f[i-1][0]+b*(c[i]%x!=0);
			f[i][1]=f[i-1][1]+b*(c[i]%x!=0);
		}
		f[i][2]=min(f[i-1][2],f[i-1][0])+a;
		f[i][1]=min(f[i][1],f[i][2]);
		if(f[i][0]>=ans&&f[i][1]>=ans)return;
	}
	ans=min(min(f[n][0],f[n][1]),ans);
}
inline void solve(int x)
{
	for(int i=2;i*i<=x;i++)
	if(x%i==0)
	{
		if(!vis[i])dp(i);
		vis[i]=1;
		while(x%i==0)x/=i;
	}
	if(x!=1)dp(x);
}
char ch,B[1<<15],*S=B,*T=B;
#define getc() (S==T&&(T=(S=B)+fread(B,1,1<<15,stdin),S==T)?0:*S++)
inline int read()
{
	int x=0,f=1;char ch=getc();
	while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getc();}
	while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getc();}
	return x*f;
}
int main()
{
	n=read();a=read();b=read();
	for(int i=1;i<=n;i++)
	c[i]=read();
	solve(c[1]-1);
	solve(c[1]);
	solve(c[1]+1);
	solve(c[n]-1);
	solve(c[n]);
	solve(c[n]+1);
	printf("%lld",ans);
}