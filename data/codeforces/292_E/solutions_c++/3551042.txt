#include <iostream>
#include <string.h>
#include <stdio.h>
#define T (1<<t)
using namespace std;
struct nod
{
	int x,y;
	nod()
	{
		x=y=-1;
	}
	nod(int q,int w)
	{
		x=q; y=w;
	}
};
int a[100005],b[100005],t;
nod c[270005];
void pd(int xx)
{
	if (c[xx].x!=-1)
	{
		c[xx*2]=c[xx];
		c[xx*2+1]=c[xx];
		c[xx]=nod();
	}
}
void ptl(int xx)
{
	for (int i=t;i>=1;i--)
	{
		pd(xx>>i);
	}
}
void change(int l,int r,nod xx)
{
	l=l+T-1;
	r=r+T+1;
	ptl(l);
	ptl(r);
	while (l+1<r)
	{
		if (l%2==0) {c[l+1]=xx;}
		if (r%2==1) {c[r-1]=xx;}
		l>>=1;
		r>>=1;
	}
}
int main()
{
	int i,j,k,l,n,m;
	scanf("%d %d",&n,&m);
	i=n;
	t=0;
	while (i) {i>>=1; t++;}
	for (i=1;i<=n;i++) {scanf("%d",&a[i]);}
	for (i=1;i<=n;i++) {scanf("%d",&b[i]);}
	for (i=1;i<=m;i++)
	{
		scanf("%d",&j);
		if (j==2)
		{
			scanf("%d",&l);
			k=l+T;
			ptl(k);
			if (c[k].x==-1)
			{
				printf("%d\n",b[l]);
			}
			else
			{
				printf("%d\n",a[l-c[k].y+c[k].x]);
			}
		}
		else
		{
			scanf("%d %d %d",&j,&k,&l);
			change(k,k+l-1,nod(j,k));
		}
	}
}