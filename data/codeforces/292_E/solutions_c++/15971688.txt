#include<bits/stdc++.h>

using namespace std;

#define tm (tl + tr >> 1)
#define N 100005

int s[4*N],A[N],B[N],n,w,i,pos,l,r,h;

void push(int v, int tl, int tr){

	if(s[v]){
		s[v*2] = s[v];
		s[v*2+1] = s[v] + tm - tl + 1;
	}
	s[v] = 0;
}
void up(int v, int tl, int tr){
	if(tl > r || tr < l)
		return;
	if(tl >= l && tr <= r)
	{	s[v] = pos + tl - l; return;  }
	push(v,tl,tr);
	up(v*2, tl, tm); up(v*2+1, tm+1, tr);
}
int qry(int v, int tl, int tr){
	if(tl == tr)
		return (s[v] ? A[ s[v] ] : B[tl]);
	push(v,tl,tr);
	if(pos <= tm)
		return qry(v*2, tl, tm);
	else
		return qry(v*2+1, tm+1, tr);
}
int main(){

	cin >> n >> w;

	for(i=1;i<=n;i++) scanf("%d",&A[i]);
	for(i=1;i<=n;i++) scanf("%d",&B[i]);

	while(w--){

		scanf("%d%d",&h,&pos);

		if(h == 1){
			scanf("%d%d",&l,&r);
			r += l - 1;
			up(1,1,n);
		}
		else
			printf("%d\n", qry(1,1,n));
	}

	return 0;
}
