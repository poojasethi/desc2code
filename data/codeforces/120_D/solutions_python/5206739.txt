import sys
sys.stdin=open("input.txt")
sys.stdout=open("output.txt",'w')
I=lambda:map(int,raw_input().split())
n,m=I()
F=[I() for i in range(n)]
r=sorted(I())
C=0
for o in [0,1]:
    if o:
        F=zip(*F)
    s=map(sum,F)
    l=len(s)
    for i in range(1,l-1):
        for j in range(i+1,l):
            c=map(sum,[s[:i],s[i:j],s[j:]])
            if sorted(c)==r:
                C+=1        
print C