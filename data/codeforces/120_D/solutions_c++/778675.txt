#include <iostream>
#include <vector>
#include <algorithm>
#include <cstdio>
#include <cstring>
#include <string>
#include <map>
using namespace std;

int n,m;
int g[50][50];

int main() {
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d %d",&n,&m);
	for (int i=0;i<n;i++) for (int j=0;j<m;j++) scanf("%d",&g[i][j]);
	int a,b,c;
	scanf("%d %d %d",&a,&b,&c);
	vector<int> d;
	d.push_back(a); d.push_back(b); d.push_back(c);
	sort(d.begin(),d.end());
	int st=0;
	for (int it=0;it<2;it++) {
		for (int x1=0;x1<m-1;x1++) for (int x2=x1+1;x2<m-1;x2++) {
			int s1=0,s2=0,s3=0;
			for (int i=0;i<n;i++) for (int j=0;j<=x1;j++) s1+=g[i][j];
			for (int i=0;i<n;i++) for (int j=x1+1;j<=x2;j++) s2+=g[i][j];
			for (int i=0;i<n;i++) for (int j=x2+1;j<m;j++) s3+=g[i][j];
			vector<int> s;
			s.push_back(s1); s.push_back(s2); s.push_back(s3);
			sort(s.begin(),s.end());
			if (d==s) st++;
		}
		for (int i=0;i<max(n,m);i++) for (int j=0;j<i;j++) swap(g[i][j],g[j][i]);
		swap(n,m);
	}
	printf("%d\n",st);
    return 0;
}
