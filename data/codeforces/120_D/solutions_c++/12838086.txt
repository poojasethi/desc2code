#include<cstdio>
#include<algorithm>
using namespace std;
int s[55][55],ss[55][55]; 
int n,m,A,B,C;
bool check(int a,int b,int c)
{
	if (a>b) 
	swap(a,b);
	if (a>c) 
	swap(a,c);
	if (b>c) 
	swap(b,c);
	return (a==A && b==B && c==C);
}
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d",&n,&m);
	for (int i=1;i<=n;i++)
	for (int j=1;j<=m;j++)
	scanf("%d",&s[i][j]);
	scanf("%d%d%d",&A,&B,&C);
	if (A>B) 
	swap(A,B);
	if (A>C) 
	swap(A,C);
	if (B>C) 
	swap(B,C);
	int res=0;
	for (int k=0;k<2;k++)
	{
		for (int i=1;i<m;i++)
		for (int j=1;i+j<m;j++)
		{
			int a=0,b=0,c=0;
			for (int u=1;u<=n;u++)
			for (int v=1;v<=m;v++)
			if (v<=i) 
			a+=s[u][v];
			else
			if (v<=i+j) 
			b+=s[u][v];
			else c+=s[u][v];
			res+=check(a,b,c);
		}
		for (int i=1;i<=n;i++)
		for (int j=1;j<=m;j++)
		ss[j][i]=s[i][j];
		swap(n,m);
		for (int i=1;i<=n;i++)
		for (int j=1;j<=m;j++)
		s[i][j]=ss[i][j];
	}
	printf("%d\n",res);
}

