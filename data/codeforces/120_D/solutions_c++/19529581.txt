#include <bits/stdc++.h>
#define rep(i, a, b) for(i=(a); i<(b); i++)

using namespace std;
#define NN 555

int n, m, a[NN][NN], b[4], s[NN][NN];
int c[5];

int main (){
	
	freopen ("input.txt", "r", stdin);
	freopen ("output.txt", "w", stdout);
	
	int i, j;
	scanf("%d%d", &n, &m);
	
	rep(i, 0, n) rep(j, 0, m) scanf("%d", &a[i][j]);
	rep(i, 0, 3) scanf("%d", &b[i]);
	
	memset(s, 0, sizeof(s));
	for(i=n-1; i>=0; i--) for(j=m-1; j>=0; j--) {
		s[i][j]=a[i][j];
		s[i][j]+=s[i+1][j];
		s[i][j]+=s[i][j+1];
		s[i][j]-=s[i+1][j+1]; 
	}
	
	sort(b, b+3);
	int ans=0, k;
	rep(i, 1, n) rep(j, i+1, n) {
		c[0]=s[0][0]-s[i][0];
		c[1]=s[i][0]-s[j][0];
		c[2]=s[0][0]-c[0]-c[1];
		sort(c, c+3);
		rep(k, 0, 3) if(c[k]!=b[k]) break;
		if(k==3) ans++;
	}
	rep(i, 1, m) rep(j, i+1, m) {
		c[0]=s[0][0]-s[0][i];
		c[1]=s[0][i]-s[0][j];
		c[2]=s[0][0]-c[0]-c[1];
		sort(c, c+3);
		rep(k, 0, 3) if(c[k]!=b[k]) break;
		if(k==3) ans++;
	}
	
	printf("%d\n", ans);
	return 0;
}
         