#include <iostream>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;
#define pb(a) push_back(a)
int ans;
int n,m;
int A[51][51];
vector<int> tar(3);
void update(vector<int> on){
  for(int i=1;i<on.size();++i)on[i]+=on[i-1];
  for(int i=0;i<on.size();++i)
   for(int j=i+1;j<(int)(on.size()) -1;++j){
    vector<int> U;
    U.pb(on[i]); U.pb(on[j]-on[i]); U.pb(on.back()-on[j]);
    sort(U.begin(), U.end());
    if(U==tar)++ans;
                                            }
}
int main(){
  freopen("input.txt","r",stdin);
  freopen("output.txt","w",stdout);
  cin>>n>>m;
  for(int i=0;i<n;++i)
   for(int j=0;j<m;++j)cin>>A[i][j];
  cin>>tar[0]>>tar[1]>>tar[2]; sort(tar.begin(), tar.end());
  vector<int> T;
  for(int i=0;i<n;++i){
   T.pb(0);
   for(int j=0;j<m;++j)T.back()+=A[i][j];
                      }
  update(T); T.clear();
  for(int j=0;j<m;++j){
   T.pb(0);
   for(int i=0;i<n;++i)T.back()+=A[i][j];
                      }
  update(T);
  cout<<ans<<'\n';
  //system("pause");
  return 0;
}
