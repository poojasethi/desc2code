#include <iostream>
#include <stdio.h>
#include <algorithm>

using namespace std;

#define S(a) scanf("%d",&a);
#define REP(a,b) for (int a=0;a<b;a++)

int A[3];

int arr[50][50];
int sum[50];
int help[50][50];
int main(){
   freopen("input.txt","r",stdin);
   freopen("output.txt","w",stdout);
   
  int N,M;
  S(N);S(M);

  REP(n,N) REP(m,M) S(arr[n][m]);
  
  REP(n,3) S(A[n]);
  
  sort(A,A+3);
  
  int counter =0;
  
  
  REP(l,2)
  {
  
  REP(n,N){
    sum[n]=0;
    REP(m,M) sum[n]+=arr[n][m];
  }
  
  for(int n=1;n<N;n++)
    for(int m=n+1;m<N;m++)
    {
      int a[3]={0,0,0};
      
      for(int k=0;k<n;k++){
	a[0]+=sum[k];
      }
      for(int k=n;k<m;k++)
	a[1]+=sum[k];
      for(int k=m;k<N;k++)
	a[2]+=sum[k];
      
      sort(a,a+3);
      
      //cout<<"A: "<<a<<" "<<b<<" "<<c<<endl;
      bool equal =true;
      
      REP(i,3) equal = equal && a[i]==A[i];
      
      if(equal)
	counter++;
    }
    
    // copy array
    swap(N,M);
    REP(n,N) REP(m,M) help[n][m]=arr[m][n];
    REP(n,N) REP(m,M) arr[n][m]=help[n][m];
    
  }
  
  printf("%d\n",counter++);

}