#include<iostream>
#include<fstream>
using namespace std;
int main()
{
freopen("input.txt","r",stdin);
freopen("output.txt","w",stdout);
int n,m,x,y,z,a[55][55],b[55],c[55],d[55],e[55],i,j,s=0,k,p=0;
cin>>n>>m;
for(i=1;i<=n;i++)
{
for(j=1;j<=m;j++)
{
cin>>a[i][j];
s+=a[i][j];
}
}
cin>>x>>y>>z;
if(n>=3)
{
k=0;
for(i=1;i<=n;i++)
{
for(j=1;j<=m;j++)
{
k+=a[i][j];
}
b[i]=k;
}
k=0;
for(i=n;i>=1;i--)
{
for(j=1;j<=m;j++)
{
k+=a[i][j];
}
c[i]=k;
}
}
if(m>=3)
{
k=0;
for(j=1;j<=m;j++)
{
for(i=1;i<=n;i++)
{
k+=a[i][j];
}
d[j]=k;
}
k=0;
for(j=m;j>=1;j--)
{
for(i=1;i<=n;i++)
{
k+=a[i][j];
}
e[j]=k;
}
}
if(n>=3)
{
for(i=1;i<=n;i++)
{
for(j=i+2;j<=n;j++)
{
if(b[i]==x && c[j]==z || b[i]==x && c[j]==y || b[i]==y && c[j]==z || b[i]==z && c[j]==x || b[i]==y && c[j]==x || b[i]==z && c[j]==y) p++;
}
}
}
if(m>=3)
{
for(i=1;i<=m;i++)
{
for(j=i+2;j<=m;j++)
{
if(d[i]==x && e[j]==z || d[i]==x && e[j]==y || d[i]==y && e[j]==z || d[i]==z && e[j]==x || d[i]==y && e[j]==x || d[i]==z && e[j]==y) p++;
}
}
}
if(s!=x+y+z) p=0;
cout<<p;
return 0;
}