#include<iostream>
#include<stdio.h>
using namespace std;

int main()
{
	int n,m,a,b,c,f[100][100],h[100]={0},v[100]={0},ans=0;
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	cin>>n>>m;
	for (int i=0;i<n;i++)
		for (int j=0;j<m;j++)
			cin>>f[i][j];
	cin>>a>>b>>c;
	for (int i=0;i<n;i++)
		for (int j=0;j<m;j++)
			h[i]+=f[i][j];
	for (int i=0;i<m;i++)
		for (int j=0;j<n;j++)
			v[i]+=f[j][i];
	if (n>=3)
		for (int i=1;i<n;i++)
			for (int j=i+1;j<n;j++)
			{
				int o=0,p=0,q=0;
				for (int k=0;k<i;k++) o+=h[k];
				for (int k=i;k<j;k++) p+=h[k];
				for (int k=j;k<n;k++) q+=h[k];
				if ((a==o&&b==p&&c==q)||(a==o&&c==p&&b==q)||(b==o&&a==p&&c==q)||(b==o&&c==p&&a==q)||(c==o&&a==p&&b==q)||(c==o&&b==p&&a==q)) ans++;
			}
	if (m>=3)
		for (int i=1;i<m;i++)
			for (int j=i+1;j<m;j++)
			{
				int o=0,p=0,q=0;
				for (int k=0;k<i;k++) o+=v[k];
				for (int k=i;k<j;k++) p+=v[k];
				for (int k=j;k<m;k++) q+=v[k];
				if ((a==o&&b==p&&c==q)||(a==o&&c==p&&b==q)||(b==o&&a==p&&c==q)||(b==o&&c==p&&a==q)||(c==o&&a==p&&b==q)||(c==o&&b==p&&a==q)) ans++;
			}
	cout<<ans;
	return 0;
}
