#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>

using namespace std;
int a[100][100],s[100][100],b[10],c[10];

int main()
{
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    int n,m,i,j,ans=0;
    scanf("%d%d",&m,&n);
    for (i=1; i<=m; i++)
     for (j=1; j<=n; j++)
     {
        scanf("%d",&a[i][j]);
        s[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j];
     }
    for (i=1; i<=3; i++) scanf("%d",&b[i]);
    sort(b+1,b+3+1);
    for (i=1; i<=m-2; i++)
     for (j=i+1; j<=m-1; j++)
      {
          c[1]=s[i][n];
          c[2]=s[j][n]-s[i][n];
          c[3]=s[m][n]-s[j][n];
          sort(c+1,c+3+1);
          if (b[1]==c[1] && b[2]==c[2] && b[3]==c[3]) ans++;
      }
    for (i=1; i<=n-2; i++)
     for (j=i+1; j<=n-1; j++)
      {
          c[1]=s[m][i];
          c[2]=s[m][j]-s[m][i];
          c[3]=s[m][n]-s[m][j];
          sort(c+1,c+3+1);
          if (b[1]==c[1] && b[2]==c[2] && b[3]==c[3]) ans++;
      }
      printf("%d\n",ans);
}

