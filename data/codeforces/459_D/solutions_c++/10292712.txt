#include <bits/stdc++.h>
#define ll long long
using namespace std;
const int maxn=1e6+10;
ll res;
map <int,int> tot,tmp;
int n,l[maxn],r[maxn],a[maxn],fenw[maxn];
int al(int x)
{
	int don=0;
	while(x>0)
	{
		don+=fenw[x];
		x-=x&-x;
	}
	return don;
}
void ekle(int x)
{
	while(x<=n)
	{
		fenw[x]++;
		x+=x&-x;
	}
}
int main()
{
	scanf("%d",&n);
	for(int i=0;i<n;i++)
	{
		scanf("%d",a+i);
	}
	for(int i=0;i<n;i++)
	{
		tot[a[i]]++;
	}
	for(int i=0;i<n;i++)
	{
		tmp[a[i]]++;
		l[i]=tmp[a[i]];
		r[i]=tot[a[i]]-tmp[a[i]]+1;
	}
	for(int i=n-1;i>=0;i--)
	{
		res+=al(l[i]-1);
		ekle(r[i]);
	}
	printf("%lld\n",res);
	return 0;
}
