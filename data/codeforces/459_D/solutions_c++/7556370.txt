#include <bits/stdc++.h>
using namespace std;
#define rep(i,a,n) for (int i=a;i<n;i++)
#define per(i,a,n) for (int i=n-1;i>=a;i--)
const int N=1010000;
int n,a[N],l[N],r[N],c[N];
long long ans;
map<int,int> hs;
int query(int x) { int s=0;for (;x;x-=x&-x) s+=c[x]; return s;}
void modify(int x) { for (;x<=n;x+=x&-x) c[x]+=1;}
int main() {
	scanf("%d",&n);
	rep(i,0,n) scanf("%d",a+i);
	rep(i,0,n) l[i]=++hs[a[i]];
	hs.clear();
	per(i,0,n) r[i]=++hs[a[i]];
	per(i,0,n) ans+=query(l[i]-1),modify(r[i]);
	printf("%I64d\n",ans);
}
