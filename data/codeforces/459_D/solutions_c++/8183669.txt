#include<cstdio>
#include<iostream>
#include<map>
using namespace std;
#define N 1100000
#define lowbit(x) (x & (-x))
typedef long long LL;
map<LL, LL> C;
LL B[N], pre[N], suf[N], A[N], tot, i, n, c[N], ans;
void add(LL x)
{
	for (; x <= n; x += lowbit(x)) c[x]++;
}
LL getsum(LL x)
{
	LL sum = 0;
	for (; x >= 1; x -= lowbit(x)) sum += c[x];
	return sum;
}
int main()
{
	scanf("%I64d", &n);
	for (i = 1; i <= n; i++) cin >> A[i];
	for (i = 1; i <= n; i++) C[A[i]]++, pre[i] = C[A[i]];
	C.clear();
	for (i = n; i >= 1; i--) C[A[i]]++, suf[i] = C[A[i]];
	for (i = n; i >= 1; i--)
	{
		ans += getsum(pre[i] - 1);
		add(suf[i]);
	}
	printf("%I64d\n", ans);
}