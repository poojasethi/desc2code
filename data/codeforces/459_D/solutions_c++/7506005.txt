#include <iostream>
#include <cstdio>
#include <map>
#include <cstring>
#define N 1000001
using namespace std;

int f[N];
int g[N];
int a[N];
int c[N];

int main() {
	int n;
	while (scanf("%d", &n) != EOF) {
		map<int, int> m;
		memset(c, 0, sizeof(c));
		for (int i = 1; i <= n; i++) {
			scanf("%d", &a[i]);
			f[i] = ++m[a[i]];
		}
		m.clear();
		long long ans = 0;
		for (int i = n; i >= 1; i--) {
			int x = f[i] - 1;
			while (x > 0) {
				ans += c[x];
				x -= x & -x;
			}
			g[i] = ++m[a[i]];
			x = g[i];
			while (x <= n) {
				c[x] += 1;
				x += x & -x;
			}
		}
		cout << ans << endl;
	}
	return 0;
}