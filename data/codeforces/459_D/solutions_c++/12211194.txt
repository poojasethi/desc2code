#include <iostream>
#include <cstdio>
#include <map>
using namespace std;
#define N 1000010
int n;
long long c[N],ans;
int a[N];
map<int,int> pr,af;
void add(int k)
{
    for(int i=k;i<=n;i+=( i & -i )) c[i]++;
}
long long sum(int k)
{
    long long res=0;
    for(int i=k;i;i-=( i & -i )) res+=c[i];
    return res;
}
int main()
{
    scanf("%d",&n);
    for(int i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
        pr[a[i]]++;
    }
    for(int i=n-1;i>=0;i--)
    {
        int m=pr[a[i]];
        ans+=sum(m-1);
        add(++af[a[i]]);
        --pr[a[i]];
    }
    printf("%I64d\n",ans);
    return 0;
}
	 		  			      		 						  	 	