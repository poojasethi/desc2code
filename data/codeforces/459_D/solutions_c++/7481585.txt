#include <cstdio>
#include <iostream>
#include <map>
using namespace std;

int main(int argc, char const *argv[])
{
    int n;  cin>>n;
    static int A[1000005];
    for(int i=1;i<=n;++i)   cin>>A[i];
    static int s[1000005], R[1000005];
    map<int,int> C;
    for(int i=n;i>=1;--i)   R[i]=++C[A[i]];
    long long res=0;
    C.clear();
    for(int i=1;i<=n;++i) {
        int r=0;
        for(int x=n;x;x&=(x-1))     r+=s[x];
        for(int x=R[i];x;x&=(x-1))  r-=s[x];
        res+=r;
        for(int x=++C[A[i]];x<=n;x+=x&-x)
            ++s[x];
    }
    cout<<res<<endl;
    return 0;
}
