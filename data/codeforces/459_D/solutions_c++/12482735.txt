#include <iostream>
#include <stdio.h>
#include <map>
using namespace std;

const int maxn = 1000007;

int FWT[maxn];
int ar[maxn];
int cnt[maxn];
map<int,int> mp;

void update(int pos)
{
	while(pos<maxn)
	{
		FWT[pos]++;
		pos+=pos&(-pos);
	}
}
int query(int pos)
{
	int r=0;
	while(pos>=1)
	{
		r+=FWT[pos];
		pos-=pos&(-pos);
	}
	return r;
}
int main()
{
	#ifndef ONLINE_JUDGE
		freopen("I.in","r",stdin);
	#endif
		
	int n,foo;
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		scanf("%d",&ar[i]);
		cnt[i]=++mp[ar[i]];
	}
	mp.clear();
	long long res=0;
	for(int i=n;i>=1;i--)
	{
		res+=query(cnt[i]-1);
		update(++mp[ar[i]]);
	}
	cout<<res<<endl;
	return 0;
}