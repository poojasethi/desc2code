#include <stdio.h>
#include <iostream>
#include <map>
using namespace std;
#define ll long long
ll f[1000005],v=0;
int n,m,a[1000005];
map <int,int> mp1,mp2;
inline int lowbit(int x){
	return x&(-x);
}
void add(int x,int z){
	while (x<=m)
		f[x]+=z,x+=lowbit(x);
}
ll solve(int x,int y){
	ll s=0;
	while (x>0)
		s+=f[x],x-=lowbit(x);
	return s;
}
int main( ){
	scanf("%d",&n);
	for (int i=1;i<=n;i++){
		scanf("%d",&a[i]);
		mp1[a[i]]++,mp2[a[i]]++;
	}
	m=n;
	for (int i=n,t;i>0;i--){
		t=mp2[a[i]];
		v+=solve(t-1,1);
		add(mp1[a[i]]-t+1,1);
		mp2[a[i]]--;
	}
	printf("%I64d\n",v);
	return 0;
}
