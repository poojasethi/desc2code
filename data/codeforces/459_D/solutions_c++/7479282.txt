#include <cstdio>
#include <map>
using namespace std;
#define lb(x) ((x)&(-x))
int n,m,l,a[1000009];
long long ans,c[1000009];
map<int,int>s,t;

long long sum(int k){
	long long sum=0;
    for(int i=k;i;i-=lb(i))sum+=c[i];
	return sum;
}
void add(int k,int w){
    for(int i=k;i<=n;i+=lb(i))c[i]+=w;
}
int main(){
	scanf("%d",&n);
    for(int i=1;i<=n;++i){
        scanf("%d",&a[i]);
        ++s[a[i]];
    }
    for(int i=n;i;--i){
        m=s[a[i]];
        ans+=sum(m-1);
        add(++t[a[i]],1);
        --s[a[i]];
    }
    
	printf("%I64d",ans);
	return 0;
}