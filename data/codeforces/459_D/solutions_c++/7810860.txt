#include <bits/stdc++.h>


using namespace std;

const int MAXN = (int) 1e6 + 5;

map<int, int> m;
int c[MAXN], a[MAXN];
int bit[MAXN];
int n;

int main() {

    scanf("%d", &n);

    for (int i = 1; i <= n; i++) {

        scanf("%d", &a[i]);
        m[a[i]]++;
        c[i] = m[a[i]];
    }

    long long res = 0;

    for (int i = 1; i <= n; i++) {

        int x = m[a[i]] - c[i] + 1;
        x++;

        while (x < n + 10) {

            res += bit[x];
            x += x & -x;

        }

        x = c[i];
        while (x > 0) {

            bit[x] += 1;
            x -= x & -x;

        }

    }

    printf("%I64d", res);

}
