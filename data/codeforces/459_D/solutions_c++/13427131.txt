#include <bits/stdc++.h>
using namespace std;

int N, a[1000010], L[1000010], R[1000010], BIT[1000010];
map <int, int> cntL, cntR;
long long ans;

main()
{
    scanf("%d", &N);
    for (int i = 1; i <= N; i++)
        scanf("%d", &a[i]);

    for (int i = 1; i <= N; i++)
        L[i] = (++cntL[a[i]]);
    for (int i = N; i; i--)
        R[i] = (++cntR[a[i]]);
    for (int i = N; i; i--)
    {
        for (int x = L[i] - 1; x; x -= x & (-x))
            ans += BIT[x];
        for (int x = R[i]; x <= N; x += x & (-x))
            BIT[x]++;
    }

    printf("%I64d", ans);
}
