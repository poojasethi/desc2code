#include <cstdio>
#include <map>
using std::map;

int n,m,l,a[1000009];
long long ans,c[1000009];
map<int,int> s,t;

long long sum(int k)
{
    long long sum=0;
    for (int i=k;i;i-=i&-i) sum+=c[i];
    return sum;
}
void add(int k)
{
    for (int i=k;i<=n;i+=i&-i) ++c[i];
}
int main()
{
    scanf("%d",&n);
    for (int i=1;i<=n;++i)
    {
        scanf("%d",a+i);
        ++s[a[i]];
    }
    for (int i=n;i;--i)
    {
        m=s[a[i]];
        ans+=sum(m-1);
        add(++t[a[i]]);
        --s[a[i]];
    }
    printf("%I64d",ans);
    return 0;
}