#include <bits/stdc++.h>
using namespace std;
int arr[ 1000001 ];
int N , BIT[1000001];
long long ans;

map<int,int> app , fro;
void Update( int x , int v ){
	while ( x <= N )	
		BIT[x]+=v , x += x&(-x);
}
int Query( int x ){
	int ret = 0;
	while ( x > 0 )
		ret += BIT[x] , x -= ( -x ) & x;
	return ret;	
}
int main(){
	scanf("%d",&N);
	for ( int i = 1 ; i <= N ; i++ ){
		scanf("%d",&arr[i]);	
		int k = ++app[ arr[i] ];
		Update( k , 1 );
	}	
	for ( int i =1  ; i <= N; i++ ){
		int tmp = fro[ arr[i] ]++;
		int k = --app[ arr[i] ];  
		Update( k+1 , -1 );
		ans += Query( tmp );
	}

	printf("%I64d\n",ans);
	return 0;	
}
