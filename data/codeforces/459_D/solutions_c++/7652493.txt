#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#include<algorithm>
#define fr(i,m,n) for(int i=m; i<=n; i++)
#include<map>
using namespace std;

typedef long long ll;
const int N=1000010;
map<int, int> cnt;
int n;

int a2[N], st[N], a[N];

int main()
{
    int x;
    cin>>n; fr(i,0,n-1) {scanf("%d", &a[i]); a2[i]=++cnt[a[i]];}
    ll ans=0;
    fr(i,0,n-1)
    {
        ans+=i;
        for(int j=cnt[a[i]]-a2[i]+1; j; j-=j&(-j)) ans-=st[j];
        for(int j=a2[i]; j<N; j+=j&(-j)) ++st[j];
    }
    cout<<ans;
    return 0;
}
