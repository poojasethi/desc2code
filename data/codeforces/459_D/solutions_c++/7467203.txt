#include <cstdio>
#include <map>
#define LL long long
#define REP(i,n) for (int i=1;i<=n;++i)
using namespace std;

const int MAXN=1000010;
int n;
int t[MAXN];
int a[MAXN];
LL ans;
map<int,int> ml,mr;

int main() {
	scanf("%d",&n);
	REP(i,n) scanf("%d",&a[i]);
	for (int i=n;i;--i) {
		++mr[a[i]];
		for (int j=mr[a[i]];j<=n;j+=(j&(-j))) ++t[j];
	}
	REP(i,n) {
		int tmp=++ml[a[i]];
		int ttt=--mr[a[i]];
		for (int j=ttt+1;j<=n;j+=(j&(-j))) --t[j];
		for (int j=tmp-1;j;j-=(j&(-j)))
			ans+=(LL) t[j];
	}
	printf("%I64d\n",ans);
	return 0;
}
