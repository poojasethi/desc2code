#pragma pack(1)
#include <cstdio>
#include <map>
using namespace std;
map<int,int> mp;
int a[1000000],bit[1000000],pr[1000000];//看成1e5错一回
long long ans;
int n;
int main(){
    scanf("%d",&n);
    for(int i=0;i<n;i++){
        scanf("%d",a+i);
        pr[i]=mp[a[i]]++;
    }
    for(int i=n-1;i>-1;i--){
        for(int j=pr[i];j!=0;j-=(j&-j))ans+=bit[j];
        for(int j=mp[a[i]]-pr[i];j<n;j+=(j&-j)){bit[j]++;}
    }
    printf("%I64d\n",ans);
    return 0;
}