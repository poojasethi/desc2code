#include<iostream>
#include<map>

using namespace std ;

const int maxn=1e6 ;
long long a[maxn] , p[maxn] , d[maxn] ;
map<int,int> mp ;
int n ;
long long ans=0 ;

int main()
{
	ios_base::sync_with_stdio(0) ;
	cin >> n ;
	for(int i=0 ; i<n ; i++)
	{
		cin >> a[i] ;
		p[i]=mp[a[i]] ;
		mp[a[i]]++ ;
	}
	for(int i=n-1 ; i>=0 ; i--)
	{
		for(int j=p[i] ; j!=0 ; j-=(j&-j))
			ans+=d[j] ;
		for(int j=mp[a[i]]-p[i] ; j<n ; j+=(j&-j))
			d[j]++ ;
	}
	cout << ans << endl ;
	
}
