#include <bits/stdc++.h>

using namespace std;

const int N = 1000010;

map <int, int> scnt, pcnt;
int a[N], b[N], ft[N], n;

void update(int k, int v) {
  for (; k < n + 1; k += (k & -k)) {
    ft[k] += v;
  }
}

int get(int b) {
  int sum = 0;
  for (; b; b -= (b & -b))
    sum += ft[b];
  return sum;
}

int main() {
  scanf("%d", &n);
  for (int i = 0; i < n; i++) {
    int x;
    scanf("%d", &x);
    b[i] = x;
    a[i] = ++pcnt[x];
  }
  for (int i = n - 1; i >= 0; i--)
    b[i] = ++scnt[b[i]];
  long long ans = 0;
  for (int i = 0; i < n; i++) {
    ans += get(n) - get(b[i]);
    update(a[i], 1);
  }
  printf("%I64d\n", ans);
  return 0;
}
