#include<iostream>
#include<map>
using namespace std;

map<int, int > mp;
typedef long long ll;
const int maxn = 1000010;
int a[maxn], c[maxn], f[maxn], n;
ll res;

ll lowbit(int x)
{
	return x & (-x);
}

void update(int i, int x)
{
	while (i <= n)
	{
		c[i] += x;
		i += lowbit(i);
	}
}

ll sum(int i)
{
	ll ret = 0;
	while (i > 0)
	{
		ret += c[i];
		i -= lowbit(i);
	}
	return ret;
}

int main()
{
	int i;
	cin >> n;
	for (i = 0; i < n; i++)
		cin >> a[i];
	for (i = n - 1; i >= 0; i--)
		f[i] = ++mp[a[i]];
	mp.clear();
	for (i = 0; i < n; i++)
	{
		res += i - sum(f[i]);
		update(++mp[a[i]], 1);
	}
	cout << res << endl;
	return 0;
}