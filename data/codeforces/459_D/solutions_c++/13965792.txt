#include <bits/stdc++.h>

using namespace std;

const int maxn = 1000 * 1000 + 10;

map <int, int> mpr, mpl;

long long ans = 0;
int n, a[maxn], r[maxn], l[maxn], fen[maxn];

void add(int x, int v)
{
	for(x++; x < maxn; x += (x & -x))
		fen[x] += v;
	return;
}

int get(int x, int ret = 0)
{
	for(; x; x -= (x & -x))
		ret += fen[x];
	return ret;
}

int main()
{
	//cin.tie(0);
	//ios::sync_with_stdio(false);

	scanf("%d", &n);
	for(int i = 0; i < n; i++)
		scanf("%d", a+i);

	for(int i = 0; i < n; i++)
		l[i] = ++mpl[a[i]];

	for(int i = n-1; i >= 0; i--)
		r[i] = ++mpr[a[i]];

	for(int i = n-1; i >= 0 ; i--){
		ans += get(l[i]);
		add(r[i], 1);
	}
	printf("%I64d\n", ans);
	return 0;
}

