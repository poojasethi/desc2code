#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
map<int,int>Frequency;
long long Fenwic[1000005];
int arr[1000005],FromRight[1000005],n;
int main()
{
     ios_base::sync_with_stdio(false);
     cin>>n;
     for(int i=0;i<n;i++)
          cin>>arr[i];
     for(int i=n-1;i>=0;i--)
          FromRight[i]=++Frequency[arr[i]];
     Frequency.clear();
     long long ans=0;
     for(int i=0;i<n;i++)
     {
          int RightFreq = FromRight[i];
          for(int j=RightFreq+1;j<1000005;j+=j&-j)
               ans+=Fenwic[j];
          for(int j=++Frequency[arr[i]];j>0;j-=j&-j)
               Fenwic[j]++;
     }
     cout<<ans<<endl;
     return 0;
}
