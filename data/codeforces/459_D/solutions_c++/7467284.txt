#include <cstring>
#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <vector>
#include <map>
#define LL long long

using namespace std;

const int MAXN=1000100;
int n;
int t[1000100];
int a[1000100];
LL ans;
map<int,int> l,r;

int main() {
	scanf("%d",&n);
	for (int i=1;i<=n;i++) 
		scanf("%d",&a[i]);
	for (int i=n;i;--i) 
	{
		r[a[i]]++;
		for (int j=r[a[i]];j<=n;j+=(j&(-j)))
			t[j]++;
	}
	for (int i=1;i<=n;i++) 
	{
		int tmp=++l[a[i]];
		int tcx=--r[a[i]];
		for (int j=tcx+1;j<=n;j+=(j&(-j)))
			t[j]--;
		for (int j=tmp-1;j>0;j-=(j&(-j)))
			ans+=(LL) t[j];
	}
	cout<<ans<<endl;
	return 0;
}
