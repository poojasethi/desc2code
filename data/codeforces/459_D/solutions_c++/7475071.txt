#include <bits/stdc++.h>
using namespace std;
#define LL long long
LL Tree[1000010];
int A[1000010];
int maxval;
void add(int idx,int val,int opt)
{
	while(idx<=maxval)
	{
		Tree[idx]+=val;
		idx+=(idx & -idx);
	}
}
LL read(int idx,int opt)
{
	LL s = 0;
	while(idx)
	{
		s+=Tree[idx];
		idx-=(idx & -idx);
	}
	return s;
}
int main()
{
	ios_base::sync_with_stdio(false);
	int N;
	cin>>N;
	map < int,int > V,C;
	for(int i = 0;i<N;i++)
	{
		cin>>A[i];
	}
	maxval = N;
	for(int i = 0;i<N;i++)
	{
		V[A[i]]+=1;
		C[A[i]]+=1;
	}
	LL Ans = 0;
	for(int i = N-1;i>=0;i--)
	{
		int val = C[A[i]];
		Ans+=read(val-1,1);
		add(V[A[i]] - val + 1,1,1);
		C[A[i]]-=1;
	}
	cout<<Ans<<endl;
	return 0;
}