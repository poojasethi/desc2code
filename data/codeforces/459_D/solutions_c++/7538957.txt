#include <bits/stdc++.h>
using namespace std;

const int MAXN = 1000005;
int n, a[MAXN], x[MAXN], y[MAXN], bit[MAXN];
map<int,int> f, r;
long long res;

void add(int p, int v){
for( ; p < MAXN; p += p & -p) bit[p] += v;
}

int sum(int p, int r = 0){
for( ; p; p -= p & -p) r += bit[p];
return r;
}

int main(){
cin >> n;
for(int i = 0; i < n; i++) cin >> a[i];
for(int i = 0; i < n; i++){
f[a[i]]++;
x[i] = f[a[i]];
}
for(int i = n - 1; i >= 0; i--){
r[a[i]]++;
y[i] = r[a[i]];
add(y[i], 1);
}
for(int i = 0; i < n; i++){
add(y[i], -1);
res += sum(x[i] - 1);
}
cout << res;
}