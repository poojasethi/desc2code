#include<bits/stdc++.h>
using namespace std;

const int N = 1000010;
int n, a[N], x, pref[N], suff[N], bit[N];
map<int, int> pre, suf;

void add(int idx, int v) {
	while(idx <= n) {
		bit[idx] += v;
		idx += idx & -idx;
	}
}

int get(int idx) {
	int s = 0;
	while(idx > 0) {
		s += bit[idx];
		idx -= idx & -idx;
	}
	return s;
}

int main(int argc, char **argv) {
	scanf("%d", &n);
	for(int i=1 ; i<=n ; ++i)  {
		scanf("%d", &a[i]);
		x = ++pre[a[i]];
		pref[i] += x;
	}
	long long ans = 0;
	for(int i=n ; i>=1 ; --i) {
		ans += get(pref[i]-1);
		x = ++suf[a[i]];
		suff[i] += x;
		add(suff[i], 1);
	}
	cout << ans << endl;
	return 0;
}
