#include <bits/stdc++.h>
using namespace std;

char mtr[102][102][102];

int n, m, k;
bool used[102][102][102];
int ans = 0;
int dx[] = {1, 0, 0};
int dy[] = {0, 1, 0};
int dz[] = {0, 0, 1};
int was[102][102][102];
int dp[102][102][102];
int si, sj, se;
int check(int vi, int vj, int ve, int bi, int bj, int be) {
	if (vi > bi || vj > bj || ve > be || !mtr[vi][vj][ve]) return 0;
	if (was[vi][vj][ve])
		return dp[vi][vj][ve];
	was[vi][vj][ve] = 1;
	return dp[vi][vj][ve] = 
		check(vi+1, vj, ve, bi, bj, be) | 
		check(vi, vj+1, ve, bi, bj, be) | 
		check(vi, vj, ve+1, bi, bj, be) | 
		(1<<((vi-si)*9+(vj-sj)*3+(ve-se)));  
}


int bits[1<<16];

int get(int a) {
	return bits[a&((1<<16)-1)] + bits[a>>16];
}

int go(int i, int j, int e) {
	si=i-1, sj=j-1, se=e-1;
	int sum = 0;
	for (int a = -1; a <= 1; ++a)
		for (int b = -1; b <= 1; ++b)
			for (int c = -1; c <= 1; ++c)
				was[i+a][j+b][e+c] = 0;

	for (int a = -1; a <= 1; ++a)
		for (int b = -1; b <= 1; ++b)
			for (int c = -1; c <= 1; ++c)
				if (!(a==0&&b==0&&c==0))
					sum += get(check(i+a,j+b,e+c, i+1,j+1,e+1) & (((1<<30)-1) ^ (1<<13)));
	for (int a = -1; a <= 1; ++a)
		for (int b = -1; b <= 1; ++b)
			for (int c = -1; c <= 1; ++c)
				was[i+a][j+b][e+c] = 0;
	mtr[i][j][e] = 0;
	for (int a = -1; a <= 1; ++a)
		for (int b = -1; b <= 1; ++b)
			for (int c = -1; c <= 1; ++c)
				sum -= get(check(i+a,j+b,e+c, i+1,j+1,e+1));
	mtr[i][j][e] = 1;
	return sum > 0;
}


int main() {
	scanf("%d%d%d", &n, &m, &k);
	for (int i = 1; i <= n; ++i) {
		for (int j = 1; j <= m; ++j) {
			scanf("%s", mtr[i][j]+1);
			for (int e = 1; e <= k; ++e)
				mtr[i][j][e] -= '0';
		}
	}
	for (int i = 0; i < (1<<16); ++i)
		for (int j = 0; j < 16; ++j)
			if ((1<<j)&i) bits[i] += 1;

	for (int i = 1; i <= n; ++i)
		for (int j = 1; j <= m; ++j)
			for (int e = 1; e <= k; ++e) {
				if (mtr[i][j][e] != 0) 
					ans += go(i, j, e);
			}
	cout << ans << endl;
	return 0;
}
