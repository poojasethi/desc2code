#include<cstdio>
#include<map>
#define For(i,n) for(int i=1;i<=n;i++)
#define N 100010
using namespace std;
map <int,int> h[N];
int n,v,c,l,r,x,y,w,p[N],f[N],prt[N];
int main()
{
	scanf("%d",&n);
	For(i,n)
	{
		scanf("%d%d%d%d",&v,&c,&l,&r);
		if (r+c<N)
		{
			x=h[l][r+c];
			if (x || !l)
			{
				f[i]=f[x]+v;
				p[i]=x;
				if (!r && f[i]>f[w]) w=i;
				if (f[i]>f[h[l+c][r]]) h[l+c][r]=i;
			}
		}
	}
	for(c=0;w;w=p[w]) prt[++c]=w;
	printf("%d\n",c);
	for(;c;c--) printf("%d ",prt[c]);
	return 0;
}
