#include <cstdio>
const int nn=100001;
int len,i,n,k,j,m,a[nn],b[nn],c[nn],l[nn],r[nn],s[nn],f[300001],g[300001],ans,h[nn],max,u[nn];
void kp(int L,int R)
{
	int i=L,j=R,m1=s[(i+j)/2],m2=b[(i+j)/2],t;
	while (i<=j)
	{
		while ((s[i]<m1)||(s[i]==m1)&&(b[i]<m2)) ++i;
		while ((s[j]>m1)||(s[j]==m1)&&(b[j]>m2)) --j;
		if (i<=j)
		{
			t=a[i];a[i]=a[j];a[j]=t;
			t=b[i];b[i]=b[j];b[j]=t;
			t=c[i];c[i]=c[j];c[j]=t;
			t=s[i];s[i]=s[j];s[j]=t;
			t=l[i];l[i]=l[j];l[j]=t;
			t=r[i];r[i]=r[j];r[j]=t;
			++i;--j;
		}
	}
	if (i<R) kp(i,R);if (L<j) kp(L,j);
}
int main()
{
	scanf("%d",&n);
	for (i=1;i<=n;++i)
	{
		scanf("%d%d%d%d",&c[i],&a[i],&l[i],&r[i]);s[i]=a[i]+l[i]+r[i];b[i]=i;
		if (s[i]>m) m=s[i];
	}
	kp(1,n);k=1;for (i=1;i<=m;++i) f[i]=-1;
	while (k<=n)
	{
		for (i=k;(i<=n)&&(s[i]==s[k]);++i)
		if ((f[l[i]]>=0)&&(f[l[i]]+c[i]>f[l[i]+a[i]]))
		{
			f[l[i]+a[i]]=f[l[i]]+c[i];g[l[i]+a[i]]=i;u[i]=g[l[i]];
		}
		j=s[k];if ((i<=n)&&(s[i]==s[k])) ++i;
		if (f[j]>max)
		{
			max=f[j];ans=0;j=g[s[k]];
			while (j>0)
			{
				h[++ans]=b[j];j=u[j];
			}
		}
		for (j=k;j<i;++j) f[l[j]+a[j]]=-1;k=i;
	}
	printf("%d\n",ans);for (i=ans;i>0;--i) printf("%d ",h[i]);printf("\n");
}
