#include <cstdio>
#include <map>

using namespace std;
map <int,int> a[300010],b[300010];
int f[100001],v[100001],c[100001],l[100001],r[100001];
int n,i,j,pre[100001];

void print(int i,int j){
  if (!i){
    printf("%d\n",j);
    return;
  }
  print(pre[i],j+1);
  if (!j) printf("%d\n",i);
    else printf("%d ",i);
}

int main(){
  scanf("%d",&n);
  for (i=1;i<=n;i++) scanf("%d%d%d%d",&v[i],&c[i],&l[i],&r[i]);
  for (i=1;i<=n;i++){
    if (l[i]==0){
      f[i]=v[i];
      pre[i]=0;
    } else if (a[c[i]+l[i]+r[i]][l[i]]>0){
      f[i]=a[c[i]+l[i]+r[i]][l[i]]+v[i];
      pre[i]=b[c[i]+l[i]+r[i]][l[i]];
    }
    if (a[c[i]+l[i]+r[i]][c[i]+l[i]]<f[i]){
      a[c[i]+l[i]+r[i]][c[i]+l[i]]=f[i];
      b[c[i]+l[i]+r[i]][c[i]+l[i]]=i;
    }
    /*for (j=0;j<i;j++)
    if ((j==0 || c[i]+l[i]+r[i]==c[j]+l[j]+r[j]) && c[j]+l[j]==l[i] &&
      f[i]<f[j]+v[i]){
      f[i]=f[j]+v[i];
      pre[i]=j;
    }*/
  }
  j=0;
  for (i=1;i<=n;i++)
    if (r[i]==0 && f[j]<f[i]) j=i;
  print(j,0);
  return 0;
}