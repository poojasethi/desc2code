#include<stdio.h>
#include<vector>
#include<map>
using namespace std;
map<int,int> dp[300010],pos[300010],prev[300010];
void print(int x,int y,int n)
{
	if(y)print(x,prev[x][y],n+1),printf("%d ",y);
	else printf("%d\n",n);
}
int n;
int main()
{
	scanf("%d",&n);
	int ans=0,ax=0,ay=0;
	for(int i=1;i<=n;i++)
	{
		int v,c,l,r;
		scanf("%d%d%d%d",&v,&c,&l,&r);
		int x=l+c+r;
		if(!l||dp[x].count(l))
		{
			int y=(l?dp[x][l]:0)+v;
			if(y>dp[x][l+c])dp[x][l+c]=y,pos[x][l+c]=i,prev[x][i]=pos[x][l];
			if(!r&&y>ans)ans=y,ax=x,ay=i;
		}
	}
	print(ax,ay,0);
	return 0;
}
