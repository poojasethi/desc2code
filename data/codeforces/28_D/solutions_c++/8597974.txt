#include <iostream>
#include <map>
using namespace std;
map<int,int> F[300005],G[300005];
int T[300005];
int n;
int P=0,V=0;
int Ans[100005],Acnt;
int main()
{
	cin>>n;
	for (int i=1,v,c,l,r;i<=n;i++)
	{
		cin>>v>>c>>l>>r;
		int K=c+l+r;
		if (F[K].find(0)==F[K].end()) F[K][0]=0;
		if (F[K].find(l)!=F[K].end() && F[K][l]+v>F[K][c+l])
		{
			F[K][c+l]=F[K][l]+v;
			G[K][c+l]=i,T[i]=G[K][l];
		}
	}
	for (int i=1;i<300005;i++)
		if (F[i].find(i)!=F[i].end() && V<F[i][i]) V=F[i][i],P=i;
	int K=G[P][P];
	while (K)
	{
		Ans[++Acnt]=K;
		K=T[K]; 
	}
	cout<<Acnt<<endl;
	while (Acnt) cout<<Ans[Acnt--]<<' ';
	return 0;
}
