#include<cstdio>
#include<algorithm>
using namespace std;
const int n=100005;
int N,i,j,Num,size,Ans,cnt,Mark;
int V[n],C[n],L[n],R[n],P[n],S[n],res[n],link[n],next[n],f[2*n],g[2*n];
int cmp(const int &i,const int &j)
{
	if(S[i]==S[j]) return i<j;
	return S[i]>S[j];
}
int main()
{
	scanf("%d",&N);
	for(i=1;i<=N;++i)
	{
		scanf("%d%d%d%d",&V[i],&C[i],&L[i],&R[i]);
		S[i]=C[i]+L[i]+R[i],P[i]=i;
	}
	sort(P+1,P+N+1,cmp);
	Ans=0;
	for(i=1;i<=N;++i)
	{
		if(i==1||S[P[i]]!=S[P[i-1]])
		{
			if(i!=1&&f[size]==cnt&&g[size]>Ans) Ans=g[size],Mark=link[size];
			size=S[P[i]],++cnt,f[0]=cnt;
		}
		if(f[L[P[i]]]==cnt&&(f[L[P[i]]+C[P[i]]]!=cnt||g[L[P[i]]+C[P[i]]]<g[L[P[i]]]+V[P[i]]))
		{
			f[L[P[i]]+C[P[i]]]=cnt;
			g[L[P[i]]+C[P[i]]]=g[L[P[i]]]+V[P[i]];
			next[P[i]]=link[L[P[i]]];
			link[L[P[i]]+C[P[i]]]=P[i];
		}
	}
	if(f[size]==cnt&&g[size]>Ans) Ans=g[size],Mark=link[size];
	for(j=Mark;j!=0;j=next[j]) res[++Num]=j;
	printf("%d\n",Num);
	if(Num==0)
	{
		printf("\n");
		return 0;
	}
	sort(res+1,res+Num+1);
	for(j=1;j<Num;++j) printf("%d ",res[j]);
	printf("%d\n",res[Num]);
	return 0;
}
