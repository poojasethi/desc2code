#include<cstdio>
#include<algorithm>
#define N 200005
int n,m,X,L,R,opt,fr,ans,ed=-1,len,p[N],v[N],l[N],r[N],pre[N],o[N];
bool cmp(const int i,const int j)
{return l[i]==l[j]?r[i]==r[j]?i<j:r[i]<r[j]:l[i]<l[j];}
int main()
{
	scanf("%d",&n);
	for (int i=0;i<n+n;i++) p[i]=i,v[i]=-1<<29;
	for (int i=0;i<n;i++)
		scanf("%d%d%d%d",&v[m+1],&X,&L,&R),l[m]=L,r[m++]=R+X,l[m]=L+X,r[m++]=R;
	std::sort(p,p+n+n,cmp);
	for (int i=0;i<n+n;i++){
		int x=p[i]; if (!l[x]) v[x]=0;
		if (!i || l[x]!=l[p[i-1]] || r[x]!=r[p[i-1]]) opt=v[x],fr=p[i];
		else if (v[x]>opt) opt=v[x],fr=x;
		if (!(x&1)) v[x^1]+=opt,pre[x^1]=fr;
		if (!r[x] && v[x]>ans) ans=v[x],ed=x;
		}
	if (ed>=0) for (int i=ed;l[i];i=pre[i]) o[++len]=i/2; printf("%d\n",len);
	for (int i=len;i;i--) printf("%d%s",o[i]+1,i-1?" ":"\n"); return 0;
}
