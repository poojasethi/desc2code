#include<iostream>
#include<cstdio>
#include<algorithm>
#include<map>
using namespace std;
const int lim=100001;
long long f[100001];
int n,a,b,c,d,i,num,an,pre[100001],ans[100001];
map<int,int> ma[100001];
int main()
{
 	//freopen("1.in","r",stdin);
 	//freopen("1.out","w",stdout);
	cin>>n;
	for(i=1;i<=n;i++)
	{
		scanf("%d%d%d%d",&a,&b,&c,&d);
		if (b+d>=lim) continue;
		if (ma[c][b+d]||c==0)
		{
			f[i]=f[ma[c][b+d]]+a;
			pre[i]=ma[c][b+d];
			if (b+c<lim&&f[i]>f[ma[b+c][d]])ma[b+c][d]=i;
			if (d==0&&f[i]>f[an])an=i;	
		}
	}
	for(;an;an=pre[an]) ans[num++]=an;
	cout<<num<<endl;
	for(;num--;) printf("%d ",ans[num]);
}