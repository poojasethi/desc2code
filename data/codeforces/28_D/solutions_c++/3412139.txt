#include <iostream>
#include <cstdio>
#include <map>
using namespace std;
typedef pair<int,int> Pair;
typedef map<Pair,Pair> m_P_i;
const int mN=100010;
m_P_i f;
int pre[mN];
int main()
{
	
	int n,v,c,l,r,ans=0,ansi=0;
	cin>>n;
	for (int i=1;i<=n;i++)
	{
		if (i==3)
			v=v+1;
		cin>>v>>c>>l>>r;
		Pair a(l,r+c);
		m_P_i::iterator it=f.find(a);
		int o=0;
		if (l!=0)
		{
			if (it==f.end())
				continue;
		}
		if (it!=f.end())
		{
			o=it->second.first;
			pre[i]=it->second.second;
		}
		a.first=l+c;a.second=r;
		it=f.find(a);
		if (it==f.end() || (it->second).first<o+v)
		{
			f[a]=Pair(o+v,i);
			if (r==0 && ans<o+v)
			{
				ans=o+v;
				ansi=i;
			}

		}
	}
	int pp=0,p[mN];
	while (ansi!=0)
	{
		pp++;
		p[pp]=ansi;
		ansi=pre[ansi];
	}
	cout<<pp<<endl;
	if (pp==0)
		return 0;
	for (int i=pp;i>1;i--)
	{
		cout<<p[i]<<' ';
	}
	cout<<p[1]<<endl;
}
