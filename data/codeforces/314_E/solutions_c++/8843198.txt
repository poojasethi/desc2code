#include<cstdio>
const int N = 101000;
const int M = 205000;
unsigned int dp[M];
int s=N;
char data[N];
bool can[N];
int n,m=0;
int main()
{
	int i,j;
	scanf("%d%s",&n,data+1);
	for(i=1;i<=n;i++)
	{
		if(data[i]=='?')
			can[i]=1;
		else
			m++;
	}
	dp[s]=1;
	for(i=1;i<=n;i++)
	{
		s--;
		if(can[i])
		{
			int t=i-2<n-i?i-2:n-i;
			t+=s;
			for(j=s;j<=t;j++)
				dp[j]+=dp[j+2];
		}
	}
	unsigned int ans=dp[s];
	n>>=1;
	n-=m;
	for(i=1;i<=n;i++)
		ans=(ans<<4)+(ans<<3)+ans;
	printf("%u\n",ans);
	return 0;
}
