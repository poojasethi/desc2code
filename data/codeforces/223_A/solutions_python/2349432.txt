s=raw_input()
f=[0]*100100
t=[]
for i,c in enumerate(s):
  if t and t[-1][1]+c in ["()","[]"]:
    f[t[-1][0]]=f[i]=1
    t.pop()
  else:
    t.append((i,c))
v=[s[i] if f[i] else ' ' for i in xrange(len(s))]
x,y=0,''
for a in ''.join(v).split():
  c=a.count('[')
  if c>x:x,y=c,a
print x
print y
