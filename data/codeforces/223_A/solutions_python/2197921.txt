s=raw_input()
x=[False for _ in s]
m=[]
for i,c in enumerate(s):
    if m and m[-1][1]+c in ["[]","()"]:
        oi,oc=m.pop()
        x[i]=True
        x[oi]=True
    else:
        m.append((i,c))
u=[c if x[i] else " "  for i,c in enumerate(s)]
ans=""
best=0
for v in "".join(u).split():
    sc=v.count("[")
    if sc>best:
        ans=v
        best=sc
print best
print ans
