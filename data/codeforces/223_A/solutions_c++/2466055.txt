#include <iostream>
#include <cstring>

using namespace std;

string a;
int f[100002];
int ans[100002];

int main()
{
    cin>>a;
    f[0]=0;
    ans[0]=0;
    int n=a.size();
    for(int i=1;i<n;i++)
    {
        if(a[i-1-f[i-1]]=='('&&a[i]==')'||a[i-1-f[i-1]]=='['&&a[i]==']')
        {
            f[i]=f[i-1]+2;
            ans[i]=ans[i-1];
            if(a[i]==']') ans[i]++;
            if(i-2-f[i-1]>=0)
            {
                f[i]+=f[i-2-f[i-1]];
                ans[i]+=ans[i-2-f[i-1]];
            }
        }
        else f[i]=0,ans[i]=0;
    }
    int max=0,fm=0;
    for(int i=0;i<n;i++)
    {
        if(max<=ans[i])
        {
            max=ans[i];
            fm=i;
        }
    }
    cout<<ans[fm]<<endl;
    for(int i=fm-f[fm]+1;i<=fm;i++)
    {
        cout<<a[i];
    }
    cout<<endl;
    return 0;
}

	      					  			      	 	