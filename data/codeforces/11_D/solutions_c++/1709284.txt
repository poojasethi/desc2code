#include <cstdio>
#define N 19
#define fi(a, b, c) for(int a = (b); a < (c); a++)

int n, m, x, e[N][N], c;
long long d[N][1 << N], A;

int main(){
	scanf("%d %d", &n, &m);
	x = 1 << n;
	
	while(m--){
		int a, b;
		scanf("%d %d", &a, &b);
		a--; b--;
		e[a][b] = e[b][a] = 1;
	}
	
	fi(j, 1, x){
		int b[N], p = 0, t = __builtin_ctz(j);
		if(j >= 1 << c) c++;
		fi(i, t + 1, c) if(j & 1 << i) b[p++] = i;
		
		if(!p) d[t][j] = 1;
		else if(p == 1) d[b[0]][j] = e[t][b[0]];
		else{
			fi(i, 0, p){
				int T = b[i];
				fi(k, 0, p) if(i != k && e[T][b[k]]) d[T][j] += d[b[k]][j ^ 1 << T];
				A += d[T][j] * e[T][t];
			}
		}
	}
	
	printf("%I64d\n", A / 2);
}
