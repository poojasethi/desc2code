#include <cstdio>
using namespace std;
bool map[20][20];
long long F[1<<20][20],Ans=0;
inline int Cnt(int x)
{
	int t=0;
	while (x) t+=x&1,x>>=1;
	return t;
}
inline int First(int x)
{
	for (int i=0;i<=100;i++)
		if (x&(1<<i)) return i;
}
int n,m;
int main()
{
	scanf("%d%d",&n,&m);
	for (int i=1,u,v;i<=m;i++)
		scanf("%d%d",&u,&v),u--,v--,map[u][v]=true,map[v][u]=true;
	for (int i=0;i<n;i++) F[1<<i][i]=1;
	for (int st=1;st<(1<<n);st++)
	{
		int s=First(st);
		for (int ed=s;ed<n;ed++)
		{
			if (st&(1<<ed))
			{
				for (int i=s;i<n;i++)
				{
					int nst=st|(1<<i);
					if (map[ed][i] && (st&(1<<i))==0)
					{
						F[nst][i]+=F[st][ed];
						if (map[i][s] && Cnt(nst)>2)
							Ans+=F[st][ed];
					}
				}
			}
		}
	}
	printf("%I64d",Ans/2);
	return 0;
}
