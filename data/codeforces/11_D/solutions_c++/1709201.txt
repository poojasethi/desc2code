#include <cstdio>
#define N 19
#define fi(a, b, c) for(int a = (b); a < (c); a++)

int n, m, x, e[N][N];
long long d[N][1 << N], A;

int main(){
	scanf("%d %d", &n, &m);
	x = 1 << n;
	fi(i, 0, n) d[i][1 << i] = 1;
	
	while(m--){
		int a, b;
		scanf("%d %d", &a, &b);
		a--; b--;
		e[a][b] = e[b][a] = 1;
	}
	
	fi(j, 1, x) fi(i, 0, n) if((j & 1 << i) && __builtin_ctz(j) != i)
		fi(k, 0, n) if((j & 1 << k) && k != i && e[k][i])
			d[i][j] += d[k][j ^ 1 << i];
	
	fi(j, 1, x) fi(i, 0, n) if(__builtin_popcount(j) > 2 && e[i][__builtin_ctz(j)])
		A += d[i][j];
	
	printf("%I64d\n", A / 2);
}
