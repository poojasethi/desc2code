#include <iostream>

using namespace std;

typedef long long LL;

int n,m,g[19][19];
LL f[1<<19][19],ans;

int main()
{
	cin >> n >> m;
	for(int i=0,u,v;i<m;i++) cin >> u >> v,u--,v--,g[u][v]=g[v][u]=1;
	for(int i=0;i<n;i++) f[1<<i][i]=1;
	for(int i=0;i<(1<<n);i++)
		for(int j=0;j<n;j++) if(i&(1<<j)){
			int t=__builtin_ctz(i);
			if(t==j) continue;
			for(int k=0;k<n;k++) if(((i^(1<<j))&(1<<k)) && g[j][k]) f[i][j]+=f[i^(1<<j)][k];
			if(__builtin_popcount(i)>2 && g[j][t]) ans+=f[i][j];
	}
	cout << (ans>>1) << endl;
	return 0;
}
