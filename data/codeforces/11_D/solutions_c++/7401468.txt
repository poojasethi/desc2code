#include <iostream>
using namespace std;

int N, M;
int adj[19][19];
long long dp[1<<19][19];

int main()
{
	cin >> N >> M;
	for (int i = 0; i < M; i++)
	{
		int a, b;
		cin >> a >> b;
		a--, b--;
		adj[a][b] = adj[b][a] = 1;
	}

	for (int i = 0; i < N; i++)
		dp[1<<i][i] = 1;

	long long ans = 0;
	for (int i = 1; i < 1<<N; i++)
	{
		int last = 0;
		while (!(i&(1<<last)))
			last++;

		for (int j = last; j < N; j++)
			if (i&(1<<j))
				for (int k = last; k < N; k++)
					if (adj[j][k])
					{
						if (k == last)
							ans += dp[i][j];
						else if (!(i&(1<<k)))
							dp[i|(1<<k)][k] += dp[i][j];
					}
	}

	cout << (ans - M)/2 << "\n";

	return 0;
}