#include <iostream>
#include <cstring>
using namespace std;
typedef long long LL;
LL n,m,g[32],s,w[1<<19][19];
LL go(int st,int a,int e,int f=-1){
  LL& r=w[st][a];
  if(r<0){
    if(a==e&&(st&(st-1)))r=1;
    else{
      r=0;
      for(int b=0;b<=e;++b)if(b!=f&&((1<<b)&~st&g[a]))
        r+=go(st^(1<<b),b,e,a);
    }
  }
  return r;
}
main(){
  cin>>n>>m;
  for(int i=0,a,b;i<m&&cin>>a>>b;++i)--a,--b,g[a]|=1<<b,g[b]|=1<<a;
  for(int i=0;i<n;++i){
    memset(w,0xff,sizeof(w[0])*(1<<n));
    s+=go(0,i,i);
  }
  cout<<s/2<<endl;
}
