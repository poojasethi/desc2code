#include <bits/stdc++.h>
using namespace std;

int n, m;
bool gr[19][19]={};
long long mem[20][1<<19];

long long dfs(int u, int msk, int ini){
    if(mem[u][msk]!=-1)
        return mem[u][msk];

    mem[u][msk]=gr[u][ini] && __builtin_popcount(msk)>=3;

    for(int v=ini+1; v<n; ++v){
        if(gr[u][v] && (msk&(1<<v))==0)
            mem[u][msk]+=dfs(v, msk|(1<<v), ini);
    }

    return mem[u][msk];
}

int main(){

    cin>>n>>m;

    for(int i=0; i<m; ++i){
        int a, b;
        cin>>a>>b;
        gr[--a][--b]=gr[b][a]=true;
    }

    memset(mem, -1, sizeof mem);

    long long res=0;
    for(int ini=0; ini<n; ++ini){
        res+=dfs(ini, 1<<ini, ini);
    }

    cout<<res/2<<endl;

    return 0;
}