#include<iostream>
#include<cstdio>
using namespace std;
typedef long long ll;
#define N 20
int n, m;
int map[N][N];
ll d[1<<N][N];
int h[1<<N][N];

ll dp(int m,int s,int t)
{
	if (h[m][t]==s+1) return d[m][t];
	d[m][t]=0;
	for (int i=s; i<n; i++)
		if (map[t][i]) {
			if (i==s && m!=(1<<i)+(1<<t)) d[m][t]++;
			else if ((m&(1<<i))==0) d[m][t]+=dp(m+(1<<i),s,i);
		}
	h[m][t]=s+1;
	return d[m][t];
}

int main()
{
	scanf("%d%d",&n,&m);
	for (int i=1; i<=m; i++) {
		int a, b;
		scanf("%d%d",&a,&b);
		map[a-1][b-1]=map[b-1][a-1]=1;
	}
	ll res=0;
	for (int i=0; i<n; i++) 
		res+=dp(1<<i, i, i);
	
	cout << res/2 << endl;
	
	return 0;
}
