#include <iostream>
#define forn(i,n) for(int i=0;i<n;++i)
#define ford(i,n) for(int i=n;i>=0;--i)
#define ppc(n) __builtin_popcount(n)
int n,m,c[20][20],a,b;
long long ans[19][1<<19],ret;
int main()
{
   std::cin>>n>>m;
   forn(i,m)    
   {
     std::cin>>a>>b;
     c[--a][--b]=c[b][a]=true;
   }
   forn(i,n)
     {
       forn(j,i)
         ans[j][(1<<i)|(1<<j)]=c[i][j];
       for(m=(1<<i)|1;m<(1<<(i+1));++m)
         ford(j,i-1)
         {
           if(!(m>>j&1) || ans[j][m]==0)
             continue;
           ford(k,i-1)
             if (!(m>>k&1) && c[j][k])
               ans[k][m|(1<<k)]+=ans[j][m];
           if(ppc(m)>=3 && c[i][j])
             ret+=ans[j][m];
         }
     }
   std::cout<<ret/2;
}
