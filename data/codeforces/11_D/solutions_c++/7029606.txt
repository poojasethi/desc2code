#include <cstdio>
#include <cstring>

using namespace std;

typedef long long LL;

int n,m;
int g[20][20];
LL f[1<<19][20],ans=0;

int main()
{
	scanf("%d%d",&n,&m);
	for(int i=1;i<=m;i++){
		int u,v;scanf("%d%d",&u,&v);u--,v--;
		g[u][v]=g[v][u]=1;
}
	for(int i=0;i<n;i++) f[1<<i][i]=1;
	for(int i=0;i<(1<<n);i++)
		for(int j=0;j<n;j++) if(i&(1<<j)){
			int t=__builtin_ctz(i);
			if(t==j) continue;
			int p=i^(1<<j);
			for(int k=0;k<n;k++) if((p&(1<<k)) && g[j][k])
				f[i][j]+=f[p][k];
			if(__builtin_popcount(i)>2 && g[t][j]) ans+=f[i][j];
		}
	printf("%I64d\n",ans/2);
	return 0;
}
