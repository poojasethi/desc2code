#include <cstdio>
#define N 19
#define fi(a, b, c) for(int a = (b); a < (c); a++)

int n, m, x, e[N][N], c;
long long d[N][1 << N], A;

int main(){
	scanf("%d %d", &n, &m);
	x = 1 << n;
	
	while(m--){
		int a, b;
		scanf("%d %d", &a, &b);
		a--; b--;
		e[a][b] = e[b][a] = 1;
	}
	
	fi(j, 1, x){
		int b[N], p = 1;
		if(j >= 1 << c) c++;
		b[0] = __builtin_ctz(j);
		fi(i, b[0] + 1, c) if(j & 1 << i) b[p++] = i;
		
		if(p == 1) d[b[0]][j] = 1;
		else if(p == 2) d[b[1]][j] = e[b[0]][b[1]];
		else{
			fi(i, 1, p){
				fi(k, 1, p) if(i != k && e[b[i]][b[k]]) d[b[i]][j] += d[b[k]][j ^ 1 << b[i]];
				A += d[b[i]][j] * e[b[i]][b[0]];
			}
		}
	}
	
	printf("%I64d\n", A / 2);
}
