#include<iostream>
#include<cstdio>
#include<string.h>
#include<string>
#include<math.h>
#include<algorithm>
#include<vector>
using namespace std;
#define maxn 19
typedef long long ll;
int adj[maxn][maxn];
ll f[1<<maxn][maxn];
int n,m;
void init(){
memset(adj,0,sizeof(adj));
memset(f,0,sizeof(f));
}
int main(){
init();
cin >> n >> m;
for(int i=0;i<m;i++){
int u,v;
cin >> u >> v;
u--;v--;
adj[u][v] = adj[v][u] = 1;
f[(1<<u)|(1<<v)][max(u,v)] = 1;
}
ll ans = 0;
for(int i=1;i<(1<<n);i++){
int k = __builtin_ctz(i);
for(int j=k+1;j<n;j++){
if(f[i][j]==0) continue;
if(adj[j][k]) ans += f[i][j];
for(int l=k+1;l<n;l++){
if(adj[j][l]&&(i&(1<<l))==0)
f[i|(1<<l)][l] += f[i][j];
}
}
}
cout << (ans-m)/2 << endl;
return 0;
}

  	  				   			 		  		 	  	