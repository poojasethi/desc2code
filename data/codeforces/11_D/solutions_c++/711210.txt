//IN THE NAME OF GOD
#include <iostream>
using namespace std;
int n, m, a[20][20], t, x, y;
long long ans, d[20][1<<20];
int main(){cin >> n >> m;
    for(int i=0; i<m; i++){
        cin >> x >> y;
        a[--x][--y] = a[y][x] = 1;}
    for(int i=0; i<n; i++)
    {
        for(int j=0; j<i; j++)  d[j][(1<<i)+(1<<j)] = a[i][j];
        for(t=(1<<i)|1; t<(1<<(i+1)); t++)  for(int j=0; j<i; j++)
            if((t>>j&1) && d[j][t] != 0)
            {
                for(int k=0; k<i; k++)
                    if(((t >> k) & 1) == 0 && a[k][j])
                        d[k][t+(1<<k)]+=d[j][t];
                if(a[i][j]) ans+=d[j][t];
            }
    }
    cout<<(ans-m)/2;
}