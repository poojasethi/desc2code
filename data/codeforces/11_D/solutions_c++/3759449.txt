#include <cstdio>
#include <algorithm>
using namespace std;

typedef long long LL;
const int MAXN = 19;

bool e[MAXN][MAXN];
LL f[MAXN][1<<MAXN];

int main() {
	int n, m;

	scanf("%d%d", &n, &m);
	for (int i=0,a,b; i<m; ++i) {
		scanf("%d%d", &a, &b), --a, --b;
		e[a][b] = e[b][a] = true;
		f[max(a, b)][1 << a | 1 << b] = 1;
	}
	LL tot = -m;
	for (int t=1,l=1<<n; t<l; ++t) {
		int s = __builtin_ctz(t);	
		for (int i=s+1; i<n; ++i) if (f[i][t]) {
			if (e[s][i]) tot += f[i][t]; 
			for (int j=s+1; j<n; ++j) if (!(t>>j&1) && e[i][j]) f[j][t|(1<<j)] += f[i][t];
		}
	}
	printf("%I64d\n", tot>>1);

	return 0;
}
