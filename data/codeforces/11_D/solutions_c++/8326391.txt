#include<cstdio>
#include <cstring>
int n,m,a,b,map[20][20],h[1<<20][20],i;
long long d[1<<20][20],res;
long long dp(int m,int s,int t){
	if(h[m][t]==s)return d[m][t];
	d[m][t]=0;
	for (int i=s;i<n;i++)
		if (map[t][i]) {
			if (i==s&&m!=((1<<i)|(1<<t)))d[m][t]++;
			else if((m&(1<<i))==0)d[m][t]+=dp(m+(1<<i),s,i);
		}
	return h[m][t]=s,d[m][t];
}
int main(){
	//freopen("difficult.in", "r", stdin);
	scanf("%d%d",&n,&m);
	for (i=0;i<m;i++)scanf("%d%d",&a,&b),map[a-1][b-1]=map[b-1][a-1]=1;
	memset(h, -1, sizeof h);
	for (i=0;i<n;i++)res+=dp(1<<i,i,i);
	printf("%I64d",res/2);
}
