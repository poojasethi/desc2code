#include<iostream>
#include<cstdio>
using namespace std;

const int N = 110000;

long long n, x[N], l[N], r[N], sump[N], smax, s1;

int main() {
	int i;
	
	//freopen("test", "r", stdin);
	
	cin >> n;
	
	for(i = 1; i<=n; ++i) {
		cin >> x[i];
		sump[i + 1] = sump[i] + (x[i] & 1 ? x[i] : x[i] - 1);
		
		l[i + 1] = (x[i] == 1 ? 0 : l[i] + (x[i] / 2) * 2);
	}
	for(i = n; i; --i)
		r[i] = (x[i] == 1 ? 0 : r[i + 1] + (x[i] / 2) * 2);
	
	for(i = 1; i<=n + 1; ++i) {
		s1 = max(s1, l[i] - sump[i]);
		
		smax = max(smax, s1 + sump[i] + r[i]);
	}
	
	cout << smax;
	
	return 0;
}
