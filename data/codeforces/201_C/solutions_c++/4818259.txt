#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#include<vector>
#include<set>
#include<stack>
#include<cmath>
using namespace std;

int a[100005];
long long L1[100005],L2[100005],R1[100005],R2[100005];

int main()
{
	int n,i,j;
	scanf("%d",&n);
	for(i=1;i<n;i++) scanf("%d",&a[i]);
	L1[0]=L2[0]=0;
	for(i=1;i<n;i++)
	{
		int t=a[i]%2?a[i]-1:a[i];
		if(t) L1[i]=L1[i-1]+t;
		int t1=a[i]%2?a[i]:a[i]-1;
		L2[i]=max(L1[i],L2[i-1]+t1);
	}
	R1[n-1]=R2[n-1]=0;
	for(i=n-2;i>=0;i--)
	{
		int t=a[i+1]%2?a[i+1]-1:a[i+1];
		if(t) R1[i]=R1[i+1]+t;
		int t1=a[i+1]%2?a[i+1]:a[i+1]-1;
		R2[i]=max(R1[i],R2[i+1]+t1);
	}
	long long ans=0;
	for(i=0;i<n;i++) 
	{
		ans=max(ans,L1[i]+R2[i]);
		ans=max(ans,L2[i]+R1[i]);
	}
	cout<<ans<<endl;
}

