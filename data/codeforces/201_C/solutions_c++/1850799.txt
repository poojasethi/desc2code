#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#define N 100009
#define ll long long
using namespace std;
int n,a[N];
ll l[N],r[N],s[N];
int main(){    
    cin>>n;
    for(int i=2;i<=n;i++) cin>>a[i];
    for(int i=2;i<=n;i++){
        s[i]=s[i-1]+a[i]-(~a[i]&1);                
        l[i]=(a[i]!=1)*l[i-1]+a[i]-(a[i]&1);
        r[n-i+1]=(a[n-i+2]!=1)*r[n-i+2]+a[n-i+2]-(a[n-i+2]&1);
    }
    ll ans=0,t=0;
    for(int i=1;i<=n;i++){        
        t=max(t,l[i]-s[i]);
        ans=max(ans,s[i]+r[i]+t);
    }
    cout<<ans<<endl;
}
