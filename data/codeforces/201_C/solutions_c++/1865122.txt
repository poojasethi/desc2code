#include <stdio.h>

#define maxN 131072

long long L[maxN];
long long R[maxN];
long long sum[maxN];
int v[maxN];

int main()
{
    int N;

    scanf("%d",&N);
    --N;

    for(int i=1;i<=N;++i)
        scanf("%d",&v[i]);

    for(int i=1;i<=N;++i)
        if(v[i]>1) L[i]=L[i-1]+v[i]-(v[i]&1);

    for(int i=N;i>0;--i)
        if(v[i]>1) R[i]=R[i+1]+v[i]-(v[i]&1);

    for(int i=1;i<=N;++i)
    {
        sum[i]=sum[i-1]+v[i];
        if((v[i]&1)==0) --sum[i];
    }

    long long bst=0;

    long long sol=L[N];
    if(sum[N]>sol) sol=sum[N];

    ++N;
    for(int j=2;j<=N;++j)
    {
        if(bst<L[j-2]-sum[j-2])
            bst=L[j-2]-sum[j-2];

        if(sol<bst+R[j]+sum[j-1])
            sol=bst+R[j]+sum[j-1];
    }

    printf("%I64d",sol);

    return 0;
}

