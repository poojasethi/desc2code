#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 100010
#define int64 long long
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m;
int64 a[N],f1[N],f2[N],h[N],an;
int main() {
	scanf("%d",&n); n--;
	For(i,1,n) scanf("%I64d",&a[i]);
	For(i,1,n) {
		f1[i]=max(f1[i-1],h[i-1])+a[i];
		if (a[i]%2==0) h[i]=h[i-1]+a[i],f1[i]--;
		else if (a[i]==1) h[i]=0;
		else h[i]=h[i-1]+a[i]-1;
		an=max(an,h[i]);
	}
	for (i=n;i;i--) {
		f2[i]=max(f2[i+1],h[i+1])+a[i];
		if (a[i]%2==0) h[i]=h[i+1]+a[i],f2[i]--;
		else if (a[i]==1) h[i]=0;
		else h[i]=h[i+1]+a[i]-1;
	}
	For(i,0,n) an=max(an,f1[i]+f2[i+1]);
	printf("%I64d\n",an);
	//for(;;);
	return 0;
}
