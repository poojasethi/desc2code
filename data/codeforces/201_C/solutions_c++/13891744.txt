
#include<bits/stdc++.h>
using namespace std ;
#define maxr 100010
int n ;
long long a[maxr],l[maxr],r[maxr] , ans , imax ;
int main()
{
    //freopen("input.txt","r",stdin) ;
    scanf("%d",&n) ;
    for( int i = 1 ; i <= n ; i++ ) scanf("%d",a+i) ;
    for( int i = 1 ; i <= n ; i++ ) if( a[i-1] > 1 ) l[i] = l[i-1] + a[i-1]/2*2 ;
    for( int i = n ; i >=1 ; i-- ) if( a[i] > 1 ) r[i] = r[i+1] + a[i]/2*2 ;
    for( int i = 1 ; i < n ; i++ )
    {
        if( ~a[i]&1 ) a[i]-- ;
        a[i] += a[i-1] ;
    }
    for( int i = n ; i >= 1 ; i-- )
    {
        ans = max( ans , (imax=max(imax,r[i]+a[i-1])) + l[i]-a[i-1]  ) ;
    }
    cout << ans << endl ;
    return 0 ;
}
