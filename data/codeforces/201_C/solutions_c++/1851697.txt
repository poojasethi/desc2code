#include<iostream>
using namespace std;
__int64 n,a[100001],c[100001],l[100001],r[100001],ma,ans,p;
int main()
{
    cin>>n;
    for(int i=1;i<n;i++)
    cin>>a[i];
    for(int i=1;i<=n;i++)
    c[i]=c[i-1]+(a[i-1]%2==0?a[i-1]-1:a[i-1]);
    for(int i=1;i<=n;i++)
    {
            if(a[i-1]!=1)
            l[i]=l[i-1]+(a[i-1]%2==0?a[i-1]:a[i-1]-1);
    }
    for(int i=n-1;i>=1;i--)
    {
            if(a[i]!=1)
            r[i]=r[i+1]+(a[i]%2==0?a[i]:a[i]-1);
    }
    for(int i=1;i<=n;i++)
    {
            if(ma<l[i]-c[i]||p==0)
            p=1,ma=l[i]-c[i];
            if(ans<r[i]+c[i]+ma)
            ans=r[i]+c[i]+ma;
    }
    cout<<ans;
}