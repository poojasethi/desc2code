#!/usr/bin/env python
# encoding: utf-8
"""
untitled.py

Created by Douglas Santos on 2012-11-19.
Copyright (c) 2012 __MyCompanyName__. All rights reserved.
"""

import sys
import os
import datetime

def main():
	s = raw_input()
	n = int(s.split(" ")[0])
	m = int(s.split(" ")[1])
	t = []
	while 1:
			try: 
				s = raw_input()
				ye = int(s.split("-")[0])
				mo = int(s.split("-")[1])
				di = int(s.split("-")[2].split(" ")[0])
				ho = int(s.split("-")[2].split(" ")[1].split(":")[0])
				mi = int(s.split("-")[2].split(" ")[1].split(":")[1])
				se = int(s.split("-")[2].split(" ")[1].split(":")[2])
				d = datetime.datetime(ye, mo, di, ho, mi, se)
				#print ye, mo, di, ho, mi, se
				t.append(d)
			except EOFError:
				break
	erro = True
	for i in range(m-1, len(t)):
		if (t[i] - t[i-m+1]).seconds < n:
			print t[i]
			erro = False
			break
	if erro:
		print -1

if __name__ == '__main__':
	main()

