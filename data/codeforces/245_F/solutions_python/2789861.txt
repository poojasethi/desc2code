#!/usr/bin/env python
import sys
#sys.stdin=open('input.txt','r')
#f=open('output.txt','w')
M=[0,31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 365]
T=[]
n,m=map(int,raw_input().split())
for s in sys.stdin.readlines():
    t=(M[int(s[5:7])-1]+int(s[8:10]))*3600*24+int(s[11:13])*3600+int(s[14:16])*60+int(s[17:19])
    T.append([t,s[:19]])
j=0
k=len(T)
for i in xrange(k):
    while j<i and T[i][0]-n>=T[j][0]:j+=1
    #print i,j
    if i-j+1>=m:
        print T[i][1]
        break
else:print -1
