#!/usr/bin/python

import fileinput;
import datetime;

def toTime(str):
    [date, time] = str.split(' ')[:2];
    date = [int(val) for val in date.split('-')[:3]];
    time = [int(val) for val in time.split(':')[:3]];
    return datetime.datetime(date[0], date[1], date[2], time[0], time[1], time[2]);

[num_sec, num_errors] = [int(val) for val in raw_input().split(' ') ];

log_lines = [];
count = 0;

for line in fileinput.input():
    cur_time = toTime(line);
    log_lines.append(cur_time);
    while (cur_time - log_lines[0]).total_seconds() >= num_sec:
        del log_lines[0];

    if(len(log_lines) >= num_errors):
        print cur_time;
        break;
else:
    print -1;
