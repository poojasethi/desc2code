import sys
import time
import datetime
n,m=map(int,raw_input().split())
v = [0]*m
i=0
res = -1
while True:
  r = sys.stdin.readline()[:19]
  if r=='':
    break
  Y = int(r[:4])
  M = int(r[5:7])
  D = int(r[8:10])
  h = int(r[11:13])
  mi = int(r[14:16])
  s = int(r[17:])
  obj = datetime.datetime(Y,M,D,h,mi,s)
  v[i%m] = int(time.mktime(obj.timetuple()))
  if i>=m-1 and v[i%m]-v[(i-m+1)%m]<n:
    res = r
    break
  i += 1
print res

