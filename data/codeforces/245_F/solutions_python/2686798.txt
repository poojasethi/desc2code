from time import mktime
import sys

log = []
n, m = map(int, raw_input().split(' '))
for s in sys.stdin: 
	log.append([int(mktime(map(int, s[:19].replace('-', ':')
		.replace(' ', ':').split(':'))+[0]*3)), s[:19]])

# print log
dt = lambda s:datetime.strptime(s, '%Y-%m-%d %H:%M:%S')
for i in xrange(len(log)-m+1): 
	delta = log[i+m-1][0]-log[i][0]+1
	# print delta.seconds
	if delta <= n:
		print log[i+m-1][1] 
		quit()
print -1	

