import sys, time

n, m = map(int, raw_input().split())
sec = []
i = j = 0
for s in sys.stdin:
	log = s[:19]
	date = s[:19].replace('-',' ').replace(':',' ').split() + ['0']*3
	sec.append(time.mktime(map(int, date)))
	while j < i and sec[j] + n <= sec[i]: j+=1
	if i - j + 1 >= m:
		print log
		quit()
	i += 1

print -1
