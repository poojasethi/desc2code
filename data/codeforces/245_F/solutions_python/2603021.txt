import sys
from time import mktime
n, m = map(int, raw_input().split())
dt = [-1] * m
for i, line in enumerate(sys.stdin):
    s = line[:19]
    u = map(int, s.replace('-', ' ').replace(':', ' ').split()) + [0] * 3
    dt[i % m] = mktime(u)
    if i >= m - 1 and dt[i % m] - dt[(i + 1) % m] < n:
        print s
        break
else: print -1