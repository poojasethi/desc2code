import sys
M, I, n, i = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], [], 0, 0
for s in sys.stdin:
	if n:
		I.append(((sum(M[ : int(s[5 : 7]) - 1]) + int(s[8 : 10])) * 86400 + int(s[11 : 13]) * 3600 + int(s[14 : 16]) * 60 + int(s[17 : 19]), s[ : 19]))
	else:
		n, m = map(int, s.split())
for j, d in enumerate(I):
	while I[i][0] + n <= d[0]:
		i += 1
	if j - i + 1 >= m:
		print d[1]
		quit()
print -1