#!/usr/bin/env python
import sys
#sys.stdin=open('input.txt','r')
#sys.stdout=open('output.txt','w')
M=[0,31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 365]
T=[]
n,m=map(int,raw_input().split())
for s in sys.stdin.readlines():
    #print s
    t=(M[int(s[5:7])-1]+int(s[8:10]))*3600*24+int(s[11:13])*3600+int(s[14:16])*60+int(s[17:19])
    T.append([t,s[:19]])
i=len(T)
j=i-1
k=-1
while i:
    i-=1
    while j>=0 and T[i][0]-n<T[j][0]:j-=1
    #print i,j
    if i-j>=m:
        k=i
if k!=-1: print T[k][1]
else:print -1
