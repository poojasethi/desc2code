#include<iostream>
#include<cstdio>

using namespace std ;
typedef long long ll ;
const int maxn = 1e6 ;
int b[maxn] ;
int a[13] = {0,0,31,60,91,121,152,182,213,244,274,305,335} ;

int main()
{
    int n , m ;
    scanf("%d%d ",&n,&m) ; 
    int month , day , hour , minute , second ;
    int r=0 , l=0 , flag=1 ;
    char c ; 
    while(scanf("2012-%d-%d %d:%d:%d:", &month , &day , &hour , &minute , &second)!=EOF)
    {
        if(flag)
        {
            b[r]=((((a[month]+day)*24+hour)*60+minute)*60)+second ;
            for( ; l<r ; l++) if(b[r]-b[l] < n) break ;
            r++ ;
            if(r-l>=m) {
			flag=0 ; 
			printf("2012-%02d-%02d %02d:%02d:%02d\n",month,day,hour,minute,second) ;
			}
        }
        while((c=getchar())!=EOF&&c!='\n') ;
        if(c==EOF) break ;
    }
    if(flag) 
		printf("-1\n") ;
    return 0 ;
}

