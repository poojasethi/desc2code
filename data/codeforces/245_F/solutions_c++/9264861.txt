//In the name of ALLAH

#include <iostream>
#include <cstdio>
#include <queue>

using namespace std;

const int N=5000000+100;

queue<int> q;
int day[13]={0,31,60,91,121,152,182,213,244,274,305,335,366};
char str[N];

int main(){
     int n,m,now;
     scanf("%d%d",&n,&m);
     int ye,mo,da,h,mi,s;
     while ( scanf("%d-%d-%d %d:%d:%d:",&ye,&mo,&da,&h,&mi,&s)!=EOF ){
          gets(str);
          now=day[mo-1];
          now = (now+da-1)*24*60*60 + h*60*60 + mi*60 + s;
          q.push(now);
          while (q.front()<=now-n) q.pop();
          if ((int)q.size()>=m){
               printf("2012-%02d-%02d %02d:%02d:%02d\n",mo,da,h,mi,s);   return 0;
          }
     }
     printf("-1\n");

     return 0;
}
