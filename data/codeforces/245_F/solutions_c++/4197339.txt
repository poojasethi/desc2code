#include<stdio.h>
#include<iostream>
#include<string.h>
#include<algorithm>
#include<queue>
using namespace std; 
int month[13]={0,31,29,31,30,31,30,31,31,30,31,30};  
queue<int >q;  
int n,m,tot,t1,t2,hh,mm,ss,i;  
char str[5500000];  
int main(){
    scanf("%d%d",&n,&m);  
    while(scanf("%s",str)!=EOF){  
		tot=0;
    	t1=(str[5]-'0')*10+(str[6]-'0');  
    	t2=(str[8]-'0')*10+(str[9]-'0');  
    	for(i=1;i<t1;i++)tot+=month[i];  
	    tot+=t2-1;  
	    tot*=24*3600;
	    scanf("%d:%d:%d",&hh,&mm,&ss);  
	    gets(str);  
	    tot+=hh*3600+mm*60+ss;  
	    q.push(tot);  
	    while(q.front()<=tot-n)q.pop();  
	    if(q.size()>=m){  
	        printf("2012-%02d-%02d %02d:%02d:%02d\n",t1,t2,hh,mm,ss);  
     		return 0;
	    }  
	}  
	printf("-1\n");  
}  

    	 		   	  	 	   					