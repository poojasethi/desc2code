#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
int days[12]={31,29,31,30,31,30,31,31,30,31,30,31};
int sum[20];
int n,m,d1,d2,d3,t1,t2,t3,t,ok,a[5000005];
char s[5000005];
int main()
{
     for (int i=2;i<=12;i++) sum[i]=sum[i-1]+days[i-2];
     scanf("%d%d",&t,&m);
     gets(s);
     while (gets(s))
     {
          sscanf(s,"%d-%d-%d %d:%d:%d: %*s",&d1,&d2,&d3,&t1,&t2,&t3);
          a[n++]=(sum[d2]+d3)*86400+t1*3600+t2*60+t3;
          if (n>=m && a[n-1]-a[n-m]<t)
          {
               ok=1;
               s[19]=0;
               printf("%s\n",s);
               break;
          }
     }
     if (!ok) printf("-1");
     return 0;
}
