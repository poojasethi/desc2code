#include <bits/stdc++.h>
using namespace std;
const int maxn=11111111;
int q[maxn];
char s[maxn];
int d[13]={0,31,60,91,121,152,182,213,244,274,305,335,366};
int h,n,m,nw,y,mo,da,mi,se,he,ta;
int main(){
    //freopen("input.txt","r",stdin);
    scanf("%d%d",&n,&m),he=ta=0;
    while(scanf("%d-%d-%d %d:%d:%d:",&y,&mo,&da,&h,&mi,&se)!=EOF){
        gets(s);
        nw=d[mo-1];
        nw=(nw-1+da)*60*60*24+60*60*h+60*mi+se;
        q[ta++]=nw;
        while(q[he]<=nw-n)++he;if(ta-he>=m){
            printf("2012-%02d-%02d %02d:%02d:%02d\n",mo,da,h,mi,se);
            return 0;
        }
    }
    puts("-1");
    return 0;
}