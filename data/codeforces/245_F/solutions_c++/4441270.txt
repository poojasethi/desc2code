#include <cstdio>
#include <deque>
using namespace std;

char message[5000000];

int main()
{
    //freopen("input.txt", "r", stdin);
    int n, m, MM, DD, hh, mm, ss, month[] = {0,31,29,31,30,31,30,31,31,30,31,30,31};
    for(int i = 2; i < 13; ++i)
        month[i] += month[i - 1];
    scanf("%d%d", &n, &m);
    gets(message);
    deque<int> q;
    for(int i = 0;;++i)
    {
        if(scanf("2012-%d-%d %d:%d:%d:", &MM, &DD, &hh, &mm, &ss) == EOF)
            break;
        gets(message);
        int cur = ss + 60 * (mm + 60 * (hh + 24 * (DD + month[MM - 1])));
        while(q.size() && cur - q[0] >= n)
            q.pop_front();
        if(q.size() + 1 >= m)
        {
            printf("2012-%02d-%02d %02d:%02d:%02d\n", MM, DD, hh, mm, ss);
            return 0;
        }
        q.push_back(cur);
    }
    printf("-1\n");
    return 0;
}
