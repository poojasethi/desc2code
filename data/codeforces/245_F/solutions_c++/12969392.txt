#include<stdio.h>
#include<string.h>
#include<queue>
#include<algorithm>
using namespace std;
int month[15]={0,31,29,31,30,31,30,31,31,30,31,30};
char a[10000000];
queue<__int64>q;
int main()
{

   __int64 x;
    int n,m,i;
    scanf("%d%d",&n,&m);
    while(gets(a))
    {   int t;
    t=0;
        for(int i=1;i<(a[5]-'0')*10+a[6]-'0';i++)
        t+=month[i];
       	x=((a[5]-'0')*10+a[6]-'0')*t*24*60*60;
        x=x+((a[8]-'0')*10+a[9]-'0')*24*60*60+((a[11]-'0')*10+a[12]-'0')*60*60;
        x=x+((a[14]-'0')*10+a[15]-'0')*60+((a[17]-'0')*10+a[18]-'0');
		q.push(x);
		while(q.front()+n<=x)
            q.pop();
        if(q.size()>=m)
            {
			for(int i=0;i<=18;i++)
			printf("%c",a[i]);
			printf("\n");
             return 0;
			 }
    }
    printf("-1\n");
    return 0;
}
		  		    	 		 	  					 		   		