#include<stdio.h>
#include<string.h>
int n,m;
int Y[1000000],M[1000000],D[1000000],hh[1000000],mm[1000000],ss[1000000];
int f[1000000];
char str[1000000];
int main(){
	scanf("%d%d",&n,&m);
	int t=0;
	while(scanf("%d-%d-%d%d:%d:%d",&Y[t],&M[t],&D[t],&hh[t],&mm[t],&ss[t])!=EOF){
		gets(str);
		int tot=0,xx=1,yy=1;
		while(true){
			if(xx==M[t]&&yy==D[t])break;
			yy++;
			if((yy==30&&xx==2)||
			(yy==31&&(xx==4||xx==6||xx==9||xx==11))||
			yy==32)xx++,yy=1;
			tot++;
		}
		f[t]=tot*24*60*60+hh[t]*60*60+mm[t]*60+ss[t];
		t++;
	}
	int ans=-1;
	for(int i=t-1;i>=m-1;i--){
		if(f[i]-f[i-m+1]<n)ans=i;
	}
	if(ans>0)printf("%d-%02d-%02d %02d:%02d:%02d\n",Y[ans],M[ans],D[ans],hh[ans],mm[ans],ss[ans]);
	else printf("-1\n");
}
	 	  	 		   		  		   	 	 	 	  	