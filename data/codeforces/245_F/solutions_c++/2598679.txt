#include <iostream>
#include <stdio.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <algorithm>
using namespace std;

int main() {
	string a,w[238196],ans="-1",bb;
	char b[5000001];
	int N,M,q[238196],mm[]={0,31,60,91,121,152,182,213,244,274,305,335,366},cnt=0;
	scanf("%d%d",&N,&M);
	while(cin >> a){
		int m,d,time,h,min,s;
		m=(a[5]-'0')*10+(a[6]-'1');
		d=(a[8]-'0')*10+(a[9]-'1');
		time=(mm[m]+d)*24*3600;
		gets(b);
		bb=b;
		bb=bb.substr(1);
		h=(bb[0]-'0')*10+(bb[1]-'0');
		min=(bb[3]-'0')*10+(bb[4]-'0');
		s=(bb[6]-'0')*10+(bb[7]-'0');
		time+=h*3600+min*60+s;
		w[cnt]=a+" "+bb.substr(0,8);
		q[cnt++]=time;
	}
	for(int i=M-1;i<cnt;++i){
		if(q[i-M+1]+N>q[i]){
			ans=w[i];
			break;
		}
	}
	cout << ans;
	return 0;
}
