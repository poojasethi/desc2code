#include <iostream>
#include <cstdio>
#include <string>

using namespace std;

int mon[13]={0,31,29,31,30,31,30,31,31,30,31,30,31};
long t[100000];

long cal(string &s)
{
    long m=(s[5]-'0')*10+s[6]-'0';
    long d=(s[8]-'0')*10+s[9]-'0';
    long a=(s[11]-'0')*10+s[12]-'0';
    long b=(s[14]-'0')*10+s[15]-'0';
    long c=(s[17]-'0')*10+s[18]-'0';
    for(int i = 1 ; i < m ; i ++) d += mon[i];
    d --;
    return (d * 24 * 60 * 60 + a * 60 * 60 + b * 60 + c);
}

int n , m;
int main()
{
    string s;
    int i = 0;
    cin>>n>>m;
    getline(cin,s);
    while(getline(cin,s))
    {
        i ++;
        t[i] = cal(s);
        if(i < m) continue;
        if(t[i] - t[i - m + 1] + 1 <= n)
        {
            for(int i = 0 ; i <= 18 ; i ++) cout<<s[i];
            return 0;
        }
    }
    cout<<-1;
    return 0;
}

	  	   								  	    	 	