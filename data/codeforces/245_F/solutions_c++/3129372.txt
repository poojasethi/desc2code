#include <iostream>
#include <cstdio>
using namespace std;

char st[5000005];
int t[250005];
int sum[]={0,0,31,60,91,121,152,182,213,244,274,305,335};

int main()
{
        int n, m, i=0;
        scanf("%d%d",&n,&m);
        getchar();
        while (gets(st))
        {
                int t1=sum[(st[5]-'0')*10+st[6]-'0']+(st[8]-'0')*10+st[9]-'0';
                int t2=(st[11]-'0')*10+st[12]-'0';
                int t3=(st[14]-'0')*10+st[15]-'0';
                t[++i]=t1*86400+t2*3600+t3*60+(st[17]-'0')*10+st[18]-'0';
                if (i>=m&&t[i]-t[i-m+1]<n)
                {
                        for ( int i=0;i<=18;i++) printf("%c",st[i]);
                        printf("\n");
                        return 0;
                }
        }
        printf("-1\n");
        return 0;
}
