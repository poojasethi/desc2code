#include<cstdio>
using namespace std;
struct date
{	int m,d,h,min,s;
};
struct date a[100000];
const int mon[13]={0,31,60,91,121,152,182,213,244,274,305,335,366};
int m,c;
char st[5000005];
int getsec(struct date *x)
{	int t;
    t=mon[x->m-1]*3600*24;
    t+=(x->d-1)*3600*24;
    t+=x->h*3600;
    t+=x->min*60;
    t+=x->s;
    return t;
}
int cmp(int p1,int p2,int m)
{	int t1,t2;
	t1=getsec(&a[p1]);
	t2=getsec(&a[p2]);
	if (t1-t2+1<=m)
		return 1;
	return 0;
}
int main()
{	int i=0,flag=0;
	scanf("%d%d\n",&m,&c);
	while (gets(st)!=NULL)
	{	++i;
		sscanf(st,"2012-%d-%d %d:%d:%d",&a[i].m,&a[i].d,&a[i].h,&a[i].min,&a[i].s);
		if (i>=c&&cmp(i,i-c+1,m))
		{	printf("2012-%02d-%02d %02d:%02d:%02d\n",a[i].m,a[i].d,a[i].h,a[i].min,a[i].s);
			flag=1;
			break ;
		}
	}
	if (flag==0)
		printf("-1\n");
	return 0;
}
		 		  	  		 				    		