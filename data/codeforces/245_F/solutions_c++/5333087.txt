#include<iostream>
#include<stdio.h>
#include<queue>
using namespace std;
int day[13]={0,31,29,31,30,31,30,31,31,30,31,30,31};
char str[5000010];
queue<int> q;
int main(){
    int i,j,n,l;
    int y,mo,d,h,m,s;
    int now;
    scanf("%d%d",&n,&l);
    while(~scanf("%d-%d-%d",&y,&mo,&d)){
        scanf("%d:%d:%d:",&h,&m,&s);gets(str);
        now=d-1;
        for(i=1;i<mo;i++)now+=day[i];
        now*=24*60*60;
        now+=h*60*60+m*60+s;
        q.push(now);
        while(q.front()<=now-n)q.pop();
        if(q.size()>=l){
            printf("2012-%02d-%02d %02d:%02d:%02d\n",mo,d,h,m,s);
            return 0;
        }
    }
    puts("-1");
    return 0;
}