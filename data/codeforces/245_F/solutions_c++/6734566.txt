#include <iostream>
#include <cstdio>
#include <queue>
#include <string>
#define maxn 10000010
using namespace std;
int month[13]={0,31,29,31,30,31,30,31,31,30,31,30};
queue<long long>q;
int n,m;
char s[maxn];
int main()
{
    scanf("%d%d",&n,&m);
    while(scanf("%s",s)!=EOF)
    {
    long long time=0;
    int M=(s[5]-'0')*10+(s[6]-'0');
    int D=(s[8]-'0')*10+(s[9]-'0');
    for(int i=1;i<M;++i)
        time+=month[i];
    time+=D-1;
    time*=24*3600;
    int hh,mm,ss;
    scanf("%d:%d:%d",&hh,&mm,&ss);
    gets(s);
    time+=hh*3600+mm*60+ss;
    q.push(time);
    while(q.front()<=time-n)
    q.pop();
    if(q.size()>=m)
    {
        printf("2012-%02d-%02d %02d:%02d:%02d\n",M,D,hh,mm,ss);
        return 0;
    }
    }
    printf("-1\n");
    return 0;
}
