#include<math.h>
#include<iostream>
#include<stdlib.h>
#include<algorithm>
#include<string.h>
#include<stdio.h>
#include<queue>
using namespace std;
int day[13]={0,31,29,31,30,31,30,31,31,30,31,30,31};
char str[5000010];
queue<int> q;
int main(){
	int i,j,n,l;
	int y,mo,d,h,m,s;
	int time;
	scanf("%d%d",&n,&l);
	while(scanf("%d-%d-%d%d:%d:%d:",&y,&mo,&d,&h,&m,&s)!=EOF){
		gets(str);
		time=d-1;
		for(i=1;i<mo;i++)time+=day[i];
		time*=24*60*60;
		time+=h*60*60+m*60+s;
		q.push(time);
		while(q.front()<=time-n)q.pop();
		if(q.size()>=l){
			printf("2012-%02d-%02d %02d:%02d:%02d\n",mo,d,h,m,s);
			return 0;
		}
	}
	cout<<"-1"<<endl;
	return 0;
}