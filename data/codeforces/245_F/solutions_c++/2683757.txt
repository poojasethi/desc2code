#include <iostream>
#include <cstdio>
#include <vector>
#include <map>
#include <set>
using namespace std;
#define pb push_back
const int mth[]={0,0,31,60,91,121,152,182,213,244,274,305,335};
int main()
{
 int n,m,i,q=0;
 vector<int> x;
 vector<string> z;
 string s;
 cin>>n>>m;getline(cin,s);n--;
 while(getline(cin,s))
 {
  q++;
  z.pb(s);
  x.pb((((mth[(s[5]-'0')*10+(s[6]-'0')]+(s[8]-'0')*10+(s[9]-'0'))*24+(s[11]-'0')*10+(s[12]-'0'))*60+(s[14]-'0')*10+(s[15]-'0'))*60+(s[17]-'0')*10+(s[18]-'0'));
 }
 int l=0,r=0;
 for(r=0;r<q;r++)
 {
  while(x[r]-x[l]>n){l++;}
  if(r-l+1>=m)
  {
   for(i=0;i<19;i++)
   {
    cout<<z[r][i];
   }
   return(0);
  }
 }
 cout<<"-1";
}