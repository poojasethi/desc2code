#include<stdio.h>
int mm[5000005],dd[5000005],hh[5000005],mmm[5000005],ss[5000005],a,s[5000005];
int mo[12]={0,31,60,91,121,152,182,213,244,274,305,335};
char c[5000005];
int main()
{
    int n,m,i=0,j,k;
    scanf("%d%d",&n,&m);
    while(scanf("%d-%d-%d%d:%d:%d:",&a,&mm[i],&dd[i],&hh[i],&mmm[i],&ss[i])!=EOF)
    {
    	gets(c);
		s[i]=ss[i]+mmm[i]*60+hh[i]*3600+(dd[i]+mo[mm[i]-1])*24*3600;
    	i++;
    }
    for(k=0;k<i;k++)
    {
    	if(s[k]-s[k-m+1]+1<=n&&k-m+1>=0)
	   	break;
    }
	if(k==i)
    printf("-1\n");
    else
    printf("2012-%02d-%02d %02d:%02d:%02d\n",mm[k],dd[k],hh[k],mmm[k],ss[k]);
}
								 	   						    	  	