#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<deque>
#include<string>
#include<string.h>
#include<vector>
#include<stack>
#include<queue>
#include<math.h>
#include<stdlib.h>
#include<map>
#include<set>
#include<time.h>
#include<bitset>
#include<list>
const double inf=1e20;
using namespace std;
int tim[1111111],r,mm[13]={0,31,29,31,30,31,30,31,31,30,31,30,31},Y,M,D,H,MI,S,l;
char in[5000006];
int main(){
	int n,m;
	scanf("%d %d\n",&n,&m);
	for (int i=1;i<13;i++)
	mm[i]=mm[i]+mm[i-1];
	while (scanf("%d-%d-%d %d:%d:%d:",&Y,&M,&D,&H,&MI,&S)!=EOF)
	{
		cin.getline(in,5000006);
		tim[r++]=S+MI*60+H*60*60+D*60*60*24+mm[M-1]*60*60*24;
		if (r>=m&&tim[r-1]-tim[r-m]<n)
		{
			printf("2012-%02d-%02d %02d:%02d:%02d\n",M,D,H,MI,S);
			return 0;
		}
	}
	printf("-1");
	return 0;
}
