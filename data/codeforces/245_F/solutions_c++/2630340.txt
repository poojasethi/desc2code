//By Lin
#include<cstdio>
#include<cstring>
#include<queue>
using namespace std;

const	int mm[13] = {0,31,29,31,30,31,30,31,31,30,31,30,31};
struct	Time{
	int mon,d,h,m,s;
	void init( char ss[]){
		sscanf(ss,"%*d%*c%d%*c%d%d%*c%d%*c%d", &mon, &d, &h, &m, &s );
	}
	int operator-( Time b ) {
		int ret = 0; 
		for (int i = b.mon; i<mon; i++) ret += mm[i];
		ret = ret+d-b.d;
		ret *= 24;
		ret = ret+h-b.h;
		ret *= 60;
		ret = ret+m-b.m;
		ret *= 60;
		ret = ret+s-b.s;
		return ret;
	}
	void writ(){
		printf("2012-%02d-%02d %02d:%02d:%02d\n", mon, d, h, m , s );
	}
}tmp;
int		n,m;
char 	s[500050];

int		main(){
	scanf("%d%d", &n, &m );
	int ans = -1;
	gets(s);
	queue<Time> que;
	while ( gets(s) ) {
		tmp.init(s);
		while ( !que.empty() && tmp-que.front()>=n ) que.pop();
		que.push(tmp);
		if ( que.size() >= m ) {
			tmp.writ();
			return 0;
		}
	}
	printf("-1\n");
	return 0;
}
