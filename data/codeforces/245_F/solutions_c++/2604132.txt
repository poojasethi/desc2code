#include<iostream>
#include<cstdio>
#include<cstring>
#include<queue>
#include<algorithm>
using namespace std;
int n,m;
char str[6000000];
int f[]={0,31,29,31,30,31,30,31,31,30,31,30,31};
void init()
{
    for(int i=1;i<=12;i++)
        f[i]+=f[i-1];
}
int main()
{
    init();
    int year,month,day,hh,mm,ss;
    queue<int> q;
    scanf("%d%d\n",&n,&m);
    bool flag=true;
    while(gets(str))
    {
        sscanf(str,"%d-%2d-%2d %2d:%2d:%2d",&year,&month,&day,&hh,&mm,&ss);
        int tim=ss+mm*60+hh*3600+(day-1)*3600*24+f[month-1]*3600*24*30;
        q.push(tim);
        while(tim-q.front()>=n) q.pop();
        if(flag && q.size()>=m)
        {
            flag=false;
            printf("%04d-%02d-%02d %02d:%02d:%02d\n",year,month,day,hh,mm,ss);
        }
    }
    if(flag) printf("-1\n");
}