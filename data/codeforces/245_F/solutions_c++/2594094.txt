#include<cstdio>
#include<cstdlib>
#include<cstring>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

int parse(const char *s_in){
	const int day[]={-1,31,29,31,30,31,30,31,31,30,31,30,31};

	char s[32];
	strcpy(s,s_in);

	int res=0;
	res+=atoi(s+17);       s[16]='\0';
	res+=atoi(s+14)*60;    s[13]='\0';
	res+=atoi(s+11)*60*60; s[10]='\0';

	int d=atoi(s+8)-1; s[7]='\0';
	int m=atoi(s+5);
	for(;m>1;m--) d+=day[m-1];
	res+=d*24*60*60;

	return res;
}

int main(){
	int n,m; scanf("%d%d ",&n,&m);
	int k=0;
	static char s[500001][32],tmp[5000001];
	while(gets(tmp)){
		tmp[19]='\0';
		strcpy(s[k],tmp);
		k++;
	}

	int t[500001];
	rep(i,k) t[i]=parse(s[i]);

	rep(i,k){
		int j;
		for(j=i;j>=0;j--) if(t[i]-t[j]>=n) break;
		if(i-j>=m) return puts(s[i]),0;
	}
	puts("-1");

	return 0;
}
