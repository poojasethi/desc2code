#include <cstdio>

const int mon[12]={31,29,31,30,31,30,31,31,30,31,30,31};
int n,m,pppp,day[22][33],a[5000500][5];
char s[5000500];

int Work(int l,int r) {
	int ret=day[a[r][0]][a[r][1]]-day[a[l][0]][a[l][1]];
	ret*=24*60*60;
	return ret+a[r][2]*3600+a[r][3]*60+a[r][4]-a[l][2]*3600-a[l][3]*60-a[l][4];
}

int main() {
	scanf("%d %d\n",&n,&m);
	for (int i=1;i<=12;++i)
		for (int j=1;j<=mon[i-1];++j) day[i][j]=++pppp;
	for (int i=1;i;++i) {
		if (scanf("2012-%d-%d %d:%d:%d:",&a[i][0],&a[i][1],&a[i][2],&a[i][3],&a[i][4],&s)==EOF) break;
		gets(s);
		if ((i>=m)&&(Work(i-m+1,i)<n))
			{printf("2012-%.2d-%.2d %.2d:%.2d:%.2d\n",a[i][0],a[i][1],a[i][2],a[i][3],a[i][4]);return 0;}
	}
	printf("-1\n");
	return 0;
}
