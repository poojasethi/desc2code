#include<stdio.h>
struct date{int MM;int DD;int hh;int mm;int ss;int SS;} D[10000];
int M[]={0,0,31,60,91,121,152,182,213,244,274,305,335};
int main()
{
    int n,m;
    char ch;
    scanf("%d%d",&n,&m);
    int i=0;
    int k=0;
    getchar();
    while(scanf("2012-%d-%d %d:%d:%d",&D[k].MM,&D[k].DD,&D[k].hh,&D[k].mm,&D[k].ss)!=EOF)
    {
        while((ch=getchar())!=EOF)
        {
            if(ch=='\n')
                break;
        }
        D[k].SS=(((M[D[k].MM]+D[k].DD)*24+D[k].hh)*60+D[k].mm)*60+D[k].ss;
        if(i>=m-1)
            if(D[k].SS-D[(k+1)%m].SS<n)
            {
                printf("2012-%02d-%02d %02d:%02d:%02d\n",D[k].MM,D[k].DD,D[k].hh,D[k].mm,D[k].ss);
                goto next;
            }
        i++;
        k=i%m;
    }
    printf("-1\n");
next:
    while(getchar()!=EOF);
    return 0;
}

		 	  	  			    	  					