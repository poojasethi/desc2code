#include<cstdio>
#include<cstdlib>
#include<cstring>
#define foru(i,a,b) for(int i=a;i<=b;++i)

using namespace std;
const int s[12]={0,31,29,31,30,31,30,31,31,30,31,30}; 
int n,m,l,a,b,c,d,mm,t[210000];
char st[5100000];
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	scanf("%d%d",&n,&m); l=1;
	for(int k=1;scanf("%s",&st)!=-1;++k)
	{
		mm=(st[5]-48)*10+st[6]-48;
		d=(st[8]-48)*10+st[9]-48;
		foru(i,1,mm-1) t[k]+=s[i]; t[k]+=d;
		t[k]*=24*3600;
		scanf("%d:%d:%d",&a,&b,&c);		
		t[k]+=a*3600+b*60+c;
		while(t[k]-t[l]>=n) ++l;
		if(k-l+1>=m)
		{
			printf("%s %02d:%02d:%02d\n",st,a,b,c);
			return 0;
		}
		gets(st);
	}
	printf("-1\n");
	return 0;
}
