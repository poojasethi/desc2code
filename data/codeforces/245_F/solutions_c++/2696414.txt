#include<cstdio>
#include<cstring>
#include<queue>
using namespace std;
queue<int> q;
char buf[100005];
int day[15] = {0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
int main() 
{
	int n, m, tmp, y, M, d, h, mm, s;
	bool flag = 0;
	for(int i = 1; i <= 12; i++)
		day[i] += day[i-1];
	scanf("%d%d", &n, &m);
	while( ~scanf("%d-%d-%d %d:%d:%d:", &y, &M, &d, &h, &mm, &s))
	{
		getchar();
		gets(buf);
		if(flag) continue;
		tmp = (((day[M-1]+d)*24+h)*60+mm)*60+s;
		q.push(tmp);
	    while(q.front() <= tmp-n)
		    q.pop();
		if(q.size() >= m) {flag = 1; printf("2012-%02d-%02d %02d:%02d:%02d\n", M, d, h, mm, s);}
	}
	if(!flag) puts("-1");
	return 0;
}
