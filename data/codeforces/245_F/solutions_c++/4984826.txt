#include <stdio.h>
int a[1000005],l,r;
int a1[13]={0,0,
31,
60,
91,
121,
152,
182,
213,
244,
274,
305,
335

};
char s[10005];
int main(){
    int n,m,mmd,ddd,hh,mm,ss,ff=1;
    scanf("%d%d\n",&n,&m);
    l=0;r=0;
    char ch;
    while(scanf("2012-%d-%d %d:%d:%d:",&mmd,&ddd,&hh,&mm,&ss)!=EOF)
    {   if (ff)
        {int data=ss+(mm+(hh+(a1[mmd]+ddd)*24)*60)*60;
        a[r]=data;
        for(;l<r;l++)if(a[r]-a[l]<n)break;
        r++;
        if((r-l)>=m){printf("2012-%.2d-%.2d %.2d:%.2d:%.2d\n",mmd,ddd,hh,mm,ss);
                     ff=0;}
        }
        gets(s);

    }
    if (ff) printf("-1\n");
    return 0;
}
