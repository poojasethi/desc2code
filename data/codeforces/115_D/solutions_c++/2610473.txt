#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

const int maxn = 2001,mo = 1000003;

int n,m;
char st[maxn];
int F[maxn];

int main()
{
    int i,j;

    scanf("%s",st);
    n = strlen(st);
    for (i = 0; i < n; ++i)
        if ((st[i] == '*' || st[i] == '/') && (i == 0 || st[i-1] < '0' || st[i-1] > '9'))
        {
            printf("0");
            return 0;
        }
    if (st[n-1] < '0' || st[n-1] > '9')
    {
        printf("0");
        return 0;
    }
    F[0] = 1;
    for (i = 0; i < n; ++i)
        if (st[i] < '0' || st[i] > '9') 
        {
            ++m;
            for (j = m; j; --j) F[j] = F[j-1];
            F[0] = 0;
        }
        else if (i && (st[i-1] < '0' || st[i-1] > '9'))
            for (j = m; j >= 0; --j) F[j] = (F[j]+F[j+1])%mo;
    printf("%d",F[0]);

    return 0;
}
