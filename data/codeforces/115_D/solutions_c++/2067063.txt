#include<cstdio>
#include<cstdlib>
#include<cstring>
int dp[2005][2005],M = 1000003,prev[20001],x=0,v;
int n = 0;
char s[20001],sv[20001];
int main(){
    scanf("%s",s);
    for(int i=0;s[i]!='\0';i++){
        if(s[i] == '*' || s[i] == '/'){
            if(i == 0 || s[i+1] == '\0' || s[i+1] == '*' || s[i+1] == '/') {puts("0"); return 0;}
            sv[++n] = 2; i++;    
        }
        if(s[i] == '+' || s[i] == '-'){
            for(;s[i] != '\0' &&(s[i] == '+' || s[i] == '-');i++) sv[++n] = 2;
            if(s[i] == '\0' || s[i] == '*' || s[i] == '/') {puts("0"); return 0;}
        }        
        for(;s[i] !='\0' && s[i] >='0' && s[i] <='9';i++) ;
        sv[++n] = 1; i--; 
    }//s[++n] = 2;
    dp[0][0] = 1;
    for(int i=1;i<=n;i++){
        for(int j=n;j>=0;j--){
           if(sv[i] == 1) dp[j][i] = (dp[j+1][i]+dp[j][i-1])%M;       
           else if(j)dp[j][i] = dp[j-1][i-1];
        }    
    }
    printf("%d\n",dp[0][n]);
    //system("pause");
    return 0;
}
