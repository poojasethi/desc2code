#include<cstdio>
#include<cstring>

#define F(x) ((x)>='0'&&(x)<='9')
#define ref(x,y) (((x)+=(y))%=MC)

const int fin=0,maxn=2010;
const int MC=1000003;
int n,m;
char s[maxn];
int f[maxn][maxn];

int main(){
  if(fin){
    freopen("t.in","r",stdin);
    freopen("t.out","w",stdout);
  }
  int i,j;
  gets(s),m=strlen(s);
  if(!F(s[m-1]))return puts("0");
  for(i=0;i<m;++i)
    if(!F(s[i])||F(s[i])&&!F(s[i+1]))
      s[n++]=s[i];
  f[0][0]=1;
  for(i=0;i<n;++i){
    for(j=1;j<n;++j)ref(f[i][j],f[i][j-1]);
    if(s[i]=='+'||s[i]=='-')
      for(j=0;j<n;++j)ref(f[i+1][j],f[i][j]);
    else if(F(s[i]))
      for(j=1;j<n;++j)ref(f[i+2][j-1],f[i][j]);
    
  }
  printf("%d",f[n-1][0]);
  return 0;
}
