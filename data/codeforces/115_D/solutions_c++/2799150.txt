#include<cstdio>
#include<cstring>
const int mo=1000003;
char s[2222];
int ans[2222],sum[2222];
int main(){
//	freopen("115d.in","r",stdin);
//	freopen("115d.out","w",stdout);
	int i,j,tot,cnt,lst;
	scanf("%s",s);
	memset(ans,0,sizeof ans);
	memset(sum,0,sizeof sum);
	ans[0]=sum[0]=1;
	for (tot=cnt=i=0,lst=1;s[i];i++){
		if ('0'<=s[i] && s[i]<='9'){
			if (lst){
				tot+=cnt;
				for (j=tot;j>=0;j--)
					ans[j]=(sum[tot-cnt]-(j<=cnt?0:sum[j-cnt-1])+mo)%mo;
				for (sum[0]=ans[0],j=1;j<=tot;j++) sum[j]=(sum[j-1]+ans[j])%mo;
				lst=cnt=0;
			}
		} else{
			if (lst && (s[i]=='*' || s[i]=='/')) {puts("0"); return 0;}
			cnt++,lst=1;
		}
	}
	printf("%d\n",!lst?ans[0]:0);
	return 0;
}
