#include <cstdio>
#include <cctype>
#include <cstring>
#include <algorithm>
using namespace std;

typedef long long LL;

const int N = 2333;
const LL modu = LL(1e6) + 3;

LL f[N];
char S[N];
int n, m;

int solve ()
{
	scanf("%s", S);
	n = strlen(S);
	for (int i = 0; i < n; ++i)
		if (!isdigit(S[i]))
			if ((S[i] == '*' || S[i] == '/') && (!i || !isdigit(S[i - 1])))
			{
				printf("0\n");
				return 0;
			}
	m = 0; f[0] = 1;
	for (int i = 0; i < n; ++i)
		if (!isdigit(S[i]))
		{
			for (int j = ++m; j > 0; --j) f[j] = f[j - 1];
			f[0] = 0;
		}
		else if (i && !isdigit(S[i - 1]))
			for (int j = m; j >= 0; --j) f[j] = (f[j] + f[j + 1]) % modu;
	printf("%I64d\n", f[0]);
	return 0;
}

int main ()
{
#ifdef LOCAL
	freopen("in", "r", stdin);
#endif
	return solve();
}

