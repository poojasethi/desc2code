#include<iostream>
#include<cstdio>
#include<cstring>

using namespace std;

const int maxn=2012, mo=1000003;
int n, f[maxn][maxn], r[maxn], ans;
string s;

int main(){
	cin>>s; n=s.length();
	memset(r, 255, sizeof(r));
	for (int i=n-1; i>=0; i--)
		if (s[i]>='0' && s[i]<='9') r[i]=r[i+1]<0?i:r[i+1];
	f[0][0]=1;
	for (int i=0; i<n; i++)
		for (int j=0; j<=n; j++){
			int tmp=f[i][j];
			if (s[i]=='+' || s[i]=='-') f[i+1][j]=(f[i+1][j]+tmp)%mo;
			f[i][j+1]=(f[i][j+1]+tmp)%mo;
			if (j>0 && r[i]>=0 && r[i]!=n-1 && (s[r[i]+1]=='+' || s[r[i]+1]=='-' || s[r[i]+1]=='*' || s[r[i]+1]=='/'))
				f[r[i]+2][j-1]=(f[r[i]+2][j-1]+tmp)%mo;
			if (j==0 && r[i]==n-1) ans=(ans+f[i][j])%mo;
		}
	cout<<ans<<endl;
}
