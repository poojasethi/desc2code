#include <cstdio>
#include <iostream>
#include <cstring>
#define MOD 1000003
int f[5000][5000],ans;
char s[3000];
int main()
{
  //freopen("input.txt","r",stdin);
  //freopen("output.txt","w",stdout);
  scanf("%s",s);
  int i=0,n=strlen(s),j,k; 
  f[0][0] = 1;
  for(i=0;i<n;i++)
    for(j=0;j<=n;j++)
      if(f[i][j])
      {
	f[i][j+1] = (f[i][j+1]+f[i][j])%MOD;
	if(s[i] == '+' || s[i] == '-')
	  f[i+1][j] = (f[i+1][j]+f[i][j])%MOD;
	if(s[i] >= '0')
	  {
	    for(k=i;s[k]>='0'&&k<n;k++);
	    if(j == 0 && k == n) ans = (ans+f[i][j])%MOD;
	    else if(j > 0)
	      f[k+1][j-1] = (f[k+1][j-1]+f[i][j])%MOD;
	  }
      }
  std::cout<<ans;
}
