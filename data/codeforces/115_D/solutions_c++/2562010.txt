#include<cstdio>
#include<cstring>
#define fo(i,a,b) for(i=a;i<=b;++i)
#define fd(i,a,b) for(i=a;i>=b;--i)
const int mn=10100,mo=1000003;
int n,m,i,j,f[mn];
char s[mn];
bool g(char p){return p<'0'||p>'9';}
int main()
{
    scanf("%s",s+1);
    n=strlen(s+1);
    fo(i,1,n)
        if((s[i]=='*'||s[i]=='/')&&(i==1||g(s[i-1])))
        {
            puts("0");
            return 0;
        }
    if(g(s[n]))
    {
        puts("0");
        return 0;
    }
    f[1]=m=1;
    fo(i,1,n)
        if(g(s[i]))
        {
            ++m;
            fd(j,m,1)f[j]=f[j-1];
        }
        else if(i>1&&g(s[i-1]))
            fd(j,m,1)f[j]=(f[j]+f[j+1])%mo;
    printf("%d\n",f[1]);
    return 0;
}