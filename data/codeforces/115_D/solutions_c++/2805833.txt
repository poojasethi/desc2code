#include<cstdio>
#include<cstdlib>
#include<cstring>
const int N = 2010, p = 1000003;
int f[N];
char s[N];
int main()
{
    int n, m = 0, i, j;
    scanf("%s", s);
    n = strlen(s);
    f[0] = 1;
    for (i = 0; i < n; i++)
    if (s[i] < '0')
    {
        if ((s[i] == '*' || s[i] == '/') && (i == 0 || i == n - 1 || s[i - 1] < '0'))
        {
            printf("0");
            return(0);
        }
        for (j = m; j >= 0; j--)
        f[j + 1] = f[j];
        f[0] = 0;
        m++;
    }
    else if (i > 0 && s[i - 1] < '0')
    for (j = m - 1; j >= 0; j--)
    f[j] = (f[j] + f[j + 1]) % p;
    printf("%d", f[0]);
    return(0);
} 
