#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
const int mod=1000003,
    maxn=2012;
int f[maxn][maxn],v[maxn];
char str[maxn];
int main()
{
    //freopen("AC.in","r",stdin);
    //freopen("AC.out","w",stdout);
    int i,j,k,t=0,s=1,ans=0,o=0;
    gets(str+1);
    for (i=1;str[i];i++)
    {
        if ((str[i]=='*'||str[i]=='/')&&(str[i-1]<'0'||str[i-1]>'9')) goto end;
        if (str[i]<'0'||str[i]>'9') v[s]++;
        else if (str[i-1]<'0'||str[i-1]>'9') s++;
    }
    f[0][0]=1;
    for (i=0;i<s;i++)
    {
        for (j=0;j<=t;j++)
        if (f[i][j])
            for (k=0;k<=j;k++)
                f[i+1][j-k+v[i+1]]=(f[i+1][j-k+v[i+1]]+f[i][j])%mod;
        t+=v[i+1];
    }
    ans=f[s][0];
    end:
    printf("%d\n",ans);
    return 0;
}
