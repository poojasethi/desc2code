#include<iostream>
#include<cstring>
#include<string>
using namespace std;
string S;
bool yoooo;
int f[2001][2001],n,m;
int main()
{
	//freopen("yoshi.in","rb",stdin);
	//freopen("yoshi.out","wb",stdout);
	cin>>S;
	int n=S.length();
	for(int i=1;i<n;++i)if((S[i]=='*'||S[i]=='/')&&(S[i-1]<'0'||S[i-1]>'9'))yoooo=1;
	if(S[0]=='*'||S[0]=='/'||S[n-1]<'0'||S[n-1]>'9')yoooo=1;
	if(yoooo)
	{
		cout<<0<<endl;
		return 0;
	}
	f[0][0]=1;
	for(int i=1;i<=n;++i)
	{
		yoooo=0;
		if(S[i-1]<'0'||S[i-1]>'9')yoooo=1;
		if(yoooo)m++;
		for(int j=m;j>=0;--j)
			if(!yoooo)
			{
				f[i][j]=f[i-1][j];
				if(S[i]<'0'||S[i]>'9')f[i][j]=(f[i][j]+f[i][j+1])%1000003;
			}
			else if(j)f[i][j]=f[i-1][j-1];
	}
	cout<<f[n][0]<<endl;
	return 0;
}
