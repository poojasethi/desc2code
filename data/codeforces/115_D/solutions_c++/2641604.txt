#include<cstdio>
#include<cstring>
int n,m,f[8005]; char s[8005];
int main()
{
	scanf("%s",s),n=strlen(s),f[m=n]=1;
	for (int i=0;i<n;i++)
		if (s[i]<'0')
			if (s[i]=='+' || s[i]=='-' || i && s[i-1]>='0') f[--m]=0;
			else {printf("0\n"); return 0;}
		else if (s[i+1]<'0') for (int j=m+n;j>m;j--) f[j-1]=(f[j-1]+f[j])%1000003;
	printf("%d\n",f[m]); return 0;
}
