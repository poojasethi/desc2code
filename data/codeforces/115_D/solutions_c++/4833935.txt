#include <cstdio>
#include <cstring>
const int MaxN = 2010 , mod = 1000003;

char s[MaxN];
int f[MaxN];
int n, m;

int main(){
	// freopen("D.in","r",stdin);
	scanf("%s",s);
	n = strlen(s);
	f[0] = 1;
	if (s[0] == '/' || s[n-1] == '/' || s[0] == '*' || s[n-1] == '*') {
				puts("0");
				return 0;
	}
	for (int i = 1; i < n; i++)
		if (s[i] == '/' || s[i] == '*')
			if (s[i-1] < '0' || s[i-1] > '9'){
				puts("0");
				return 0;
			}
	for (int i = 0; i < n; i++) 
		if (s[i] >= '0' && s[i] <= '9'){
			if ('0' <= s[i + 1] && s[i + 1] <= '9') 
				continue;
			for (int j = m - 1; j >= 0; j--) 
				f[j]+=f[j+1],f[j] %= mod;
		} else {
			m++;
			for (int j = m; j >= 1; j--) 
				f[j] = f[j - 1];
			f[0] = 0;
		}
	printf("%d\n", f[0]);
}