#include<cstdio>
#include<cstring>
const long long oo=1000003;
int l,i,j,Ans,flag;
char s[2005];
int f[2005][2005],v[2005][2005];
void Work(int X,int Y)
{
	int Z;
	if(v[X][Y]) return;
	v[X][Y]=1;
	if(Y+1<l)
	{
		Work(X,Y+1);
		f[X][Y]=f[X][Y+1];
	}
	if(s[X]>='0'&&s[X]<='9')
	{
		for(Z=X;s[Z+1]>='0'&&s[Z+1]<='9';++Z);
		if(Z==l-1)
		{
			f[X][Y]=Y==0;
			return;
		}
		if(Y-1>=0)
		{
			Work(Z+2,Y-1);
			f[X][Y]=(f[X][Y]+f[Z+2][Y-1])%oo;
		}
	}
	else
	{
		Work(X+1,Y);
		f[X][Y]=(f[X][Y]+f[X+1][Y])%oo;
	}
}
int main()
{
	scanf("%s",s);
	l=strlen(s);
	if(s[0]=='*'||s[0]=='/'||s[l-1]<'0'||s[l-1]>'9')
	{
		printf("0\n");
		return 0;
	}
	for(i=0;i<l-1;++i)
		if(s[i]<'0'||s[i]>'9')
			if(s[i+1]=='*'||s[i+1]=='/')
			{
				printf("0\n");
				return 0;
			}
	Work(0,0);
	printf("%d\n",f[0][0]);
	return 0;
}
