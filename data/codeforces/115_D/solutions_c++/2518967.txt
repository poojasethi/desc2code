#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;
const int op=1000003;
int n,m=0,f[2100];//f[i]，i表示未被匹配的左括号
char s[2100];
int main()
{
	scanf("%s",s+1);
	n=strlen(s+1);
	f[0]=1;
	for(int i=1;i<=n;++i)
	{
		if (( s[i]=='*' || s[i]=='/' ) && s[i-1]<'0' ) return puts("0"),0;
		if ( s[i]<'0'  )
		{
			++m;
			for(int j=m;j>0;--j) f[j]=f[j-1];
				f[0]=0;
		}else if ( i>1 &&s[i-1]<'0' )
		{
			for(int j=m-1;j>=0;--j)
			{
				f[j]+=f[j+1];
				while ( f[j]>=op ) f[j]-=op;
			}
		}
	}
	printf("%d\n",f[0]);
	return 0;
}