#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <iostream>
#include <algorithm>
#include <cstring>
#include <cctype>
using namespace std;

const int MAXN = 2000 + 10, MOD = 1000003;

int f[MAXN][MAXN], n;
char str[MAXN];

void init()
{
	scanf("%s", str + 1);
	n = strlen(str + 1);
}
bool opr(char ch)
{
	return (ch == '+' || ch == '-' || ch == '*' || ch == '/');
}
void solve()
{
	f[0][0] = 1;
	for (int i = 1; i <= n; ++i)
		if (!isdigit(str[i]))
		{
			if (!isdigit(str[i - 1]) && (str[i] == '*' || str[i] == '/'))
				puts("0"), exit(0);
			f[i][0] = 0;
			for (int j = 1; j <= n; ++j)
				f[i][j] = f[i - 1][j - 1];
		}
		else
		{
			for (int j = n; j >= 0; --j)
			{
				f[i][j] = (f[i - 1][j]);
				if (opr(str[i - 1]))
					f[i][j] = (f[i][j] + f[i][j + 1]) % MOD;
			}
		}
	cout << f[n][0] << endl;
}
int main()
{
#ifndef ONLINE_JUDGE
	freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout);
#endif
	init();
	solve();
	fclose(stdin);
	fclose(stdout);
	return 0;
}

	  	 	  			  	    	 		 	  	