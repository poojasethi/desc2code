#include <cstdio>
#include <cstdlib>
#include <ctime>
#include <cmath>
#include <cstring>
#include <algorithm>
#define Mod 1000003
using namespace std;
bool check(char ch) { return ch == '+' || ch == '-' || ch == '*' || ch == '/'; }
int f[100001], len, tmp = 0, flag = 0;
char str[100001];
int main( )
{
	scanf("%s", str);
	len = strlen(str);
	f[0] = 1;
	for (int i = 0; i < len; i ++)
	{
		if (check(str[i]))
		{
			if ((str[i] == '*' || str[i] == '/') && (i == 0 || i == len - 1 || check(str[i - 1])))
				{ flag = 1; break; }
			for (int j = tmp; j >= 0; j --)
				f[j + 1] = f[j];
			f[0] = 0; ++ tmp;
		}
		else if (i > 0 && check(str[i - 1]))
				for (int j = tmp - 1; j >= 0; j --)
					f[j] += f[j + 1], f[j] %= Mod;
	}
	if (flag) printf("0\n");
	else printf("%d\n", f[0]);
	return 0;
}

 		 	 	  		 				 	 	