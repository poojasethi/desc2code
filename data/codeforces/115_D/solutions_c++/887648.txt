#include <iostream>
#include <cstring>
using namespace std;

const int MOD=1000003;
string s;
int n,i,j,ans=0;
int f[2100][2100],r[2100];

int main(){
        cin>>s;
        n=s.size();
        memset(r,-1,sizeof r);
        for(i=n-1;i>=0;i--)
        if (s[i]>='0'&&s[i]<='9') r[i]=(r[i+1]==-1)?i:r[i+1];
        memset(f,0,sizeof f);
        f[0][0]=1;
        for(i=0;i<n;i++)for(j=0;j<=n;j++)if (f[i][j]){
                //cout<<i<<' '<<j<<' '<<f[i][j]<<endl;
                if (r[i]==n-1&&!j) ans=(ans+f[i][j])%MOD;
                if (s[i]=='+'||s[i]=='-') f[i+1][j]=(f[i+1][j]+f[i][j])%MOD;
                f[i][j+1]=(f[i][j+1]+f[i][j])%MOD;
                if (j&&r[i]!=-1&&r[i]!=n-1)
                if (s[r[i]+1]=='+'||s[r[i]+1]=='-'||s[r[i]+1]=='*'||s[r[i]+1]=='/') f[r[i]+2][j-1]=(f[r[i]+2][j-1]+f[i][j])%MOD;
        }
        cout<<ans<<endl;
}
