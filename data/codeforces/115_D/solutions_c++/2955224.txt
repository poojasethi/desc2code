#include<cstdio>
#include<cstring>
const int mod=1000003;
char s[2005];
int f[2005][2005],visit[2005][2005];
int len;

int calc(int now, int cnt)
{
	if (visit[now][cnt]) return f[now][cnt];
	visit[now][cnt]=1; int res=0;
	
	if (cnt<len) res=calc(now,cnt+1);
	
	if (s[now]>='0' && s[now]<='9')
	{
		int i;
		for (i=now; s[i+1]>='0' && s[i+1]<='9'; i++);
		if (i==len)
			if (cnt==0) return f[now][cnt]=1; else return f[now][cnt]=0;
			
		if (cnt>=1)
			res=(res+calc(i+2,cnt-1))%mod;
	}
	else
		res=(res+calc(now+1,cnt))%mod;
	return f[now][cnt]=res;
}

int main()
{
	scanf("%s",s+1);
	len=strlen(s+1);
	if (s[1]=='*'||s[1]=='/'||s[len]<'0'||s[len]>'9') return printf("0\n"), 0;
	
	for (int i=1; i<=len; ++i)
		if (s[i]<'0'||s[i]>'9')
			if (s[i+1]=='*'||s[i+1]=='/') return printf("0\n"), 0;
			
	printf("%d\n",calc(1,0));
	//for (;;);
	return 0;
}
