#include<stdio.h>
int x1[1001][1001],x2[1001][1001],y1[1001][1001],y2[1001][1001],ma[1001][1001];
int main()
{
	int i,j,x,y,ans,n,m,q,a,l,r;
	while(scanf("%d%d%d",&n,&m,&q)!=EOF){
		for(i=1;i<=n;i++)
			for(j=1;j<=m;j++)
				scanf("%d",&ma[i][j]);
		for(i=1;i<=n;i++)
			for(j=1;j<=m;j++)
				if(ma[i][j]){
					x1[i][j]=x1[i][j-1]+1;
					y1[i][j]=y1[i-1][j]+1;
				}
				else
					x1[i][j]=y1[i][j]=x2[i][j]=y2[i][j]=0;
		for(i=n;i>0;i--)
			for(j=m;j>0;j--)
				if(ma[i][j]){
					x2[i][j]=x2[i][j+1]+1;
					y2[i][j]=y2[i+1][j]+1;
				}
		while(q--){
			scanf("%d%d%d",&a,&x,&y);
			if(a==1){
				ma[x][y]=!ma[x][y];
				for(j=y;j<=m;j++)
					if(ma[x][j])
						x1[x][j]=x1[x][j-1]+1;
					else
						x1[x][j]=0;
				for(j=y;j>0;j--)
					if(ma[x][j])
						x2[x][j]=x2[x][j+1]+1;
					else
						x2[x][j]=0;
				for(i=x;i<=n;i++)
					if(ma[i][y])
						y1[i][y]=y1[i-1][y]+1;
					else
						y1[i][y]=0;
				for(i=x;i>0;i--)
					if(ma[i][y])
						y2[i][y]=y2[i+1][y]+1;
					else
						y2[i][y]=0;
			}
			else {
				ans=0;
				for(r=x1[x][y],l=x2[x][y],i=x;i<x+y2[x][y];i++){
					if(!ma[i][y])
						break;
					if(r>x1[i][y])
						r=x1[i][y];
					if(l>x2[i][y])
						l=x2[i][y];
					j=(r+l-1)*(i-x+1);
					if(j>ans)
						ans=j;
				}
				for(r=x1[x][y],l=x2[x][y],i=x;i>x-y1[x][y];i--){
					if(!ma[i][y])
						break;
					if(r>x1[i][y])
						r=x1[i][y];
					if(l>x2[i][y])
						l=x2[i][y];
					j=(r+l-1)*(x-i+1);
					if(j>ans)
						ans=j;
				}
				for(r=y1[x][y],l=y2[x][y],i=y;i<y+x2[x][y];i++){
					if(!ma[x][i])
						break;
					if(r>y1[x][i])
						r=y1[x][i];
					if(l>y2[x][i])
						l=y2[x][i];
					j=(r+l-1)*(i-y+1);
					if(j>ans)
						ans=j;
				}
				for(r=y1[x][y],l=y2[x][y],i=y;i>y-x1[x][y];i--){
					if(!ma[x][i])
						break;
					if(r>y1[x][i])
						r=y1[x][i];
					if(l>y2[x][i])
						l=y2[x][i];
					j=(r+l-1)*(y-i+1);
					if(j>ans)
						ans=j;
				}
				printf("%d\n",ans);
			}
		}
	}
}