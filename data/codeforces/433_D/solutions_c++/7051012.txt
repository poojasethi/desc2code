#include <iostream>
#include <set>
#include <cctype>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
#include <vector>
#include <string>
#include <map>
#include <ctime>
using namespace std;

const int N=1010;

int up[N][N],down[N][N],lft[N][N],rht[N][N];

int c[N][N],n,m,len[N];


void up_row(int x)
{
		for (int j=1; j<=m; j++) {
				if (c[x][j]) lft[x][j]=1+lft[x][j-1];
				else lft[x][j]=0;
		}
		for (int j=m; j>=1; j--) {
				if (c[x][j]) rht[x][j]=1+rht[x][j+1];
				else rht[x][j]=0;
		}
		return ;
}

void up_col(int x)
{
		for (int i=1; i<=n; i++)
				if (c[i][x]) up[i][x]=up[i-1][x]+1;
				else up[i][x]=0;
		for (int i=n; i>=1; i--)
				if (c[i][x]) down[i][x]=1+down[i+1][x];
				else down[i][x]=0;
		return ;
}

int calc(int tmp,int n)
{
		int lftmax=tmp,rftmax=tmp;
		int res=0;
		for (int low=len[tmp]; low>=1; low--) {
				while (lftmax>=1 && low<=len[lftmax])
						lftmax--;
				while (rftmax<=n && low<=len[rftmax])
						rftmax++;
				res=max(res,low*(rftmax-lftmax-1));
		}
		return res;
}

int main()
{
		int k;
		scanf("%d %d %d",&n,&m,&k);
		for (int i=1; i<=n; i++) 
				for (int j=1; j<=m; j++) 
						scanf("%d",&c[i][j]);
		for (int i=1; i<=n; i++)
				up_row(i);
		for (int j=1; j<=m; j++)
				up_col(j);
		while (k--) {
				int op,x,y;
				scanf("%d %d %d ",&op,&x,&y);
				if (op==1) {
						c[x][y]^=1;
						up_row(x);
						up_col(y);
				}
				else {
						int ans=0;
						for (int i=1; i<=n; i++) len[i]=lft[i][y];
						ans=max(ans,calc(x,n));
						for (int i=1; i<=n; i++) len[i]=rht[i][y];
						ans=max(ans,calc(x,n));
						for (int i=1; i<=m; i++) len[i]=up[x][i];
						ans=max(ans,calc(y,m));
						for (int i=1; i<=m; i++) len[i]=down[x][i];
						ans=max(ans,calc(y,m));
						printf("%d\n",ans);
				}
		}
		//system("pause");
		return 0;
}