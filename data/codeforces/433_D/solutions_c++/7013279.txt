#include <iostream>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <vector>
#define rep(i,n) for (int i=1;i<=(n);i++)

using namespace std;

const int MAXN=1100;
int ans,n,m,a[MAXN][MAXN],l[MAXN][MAXN],r[MAXN][MAXN],u[MAXN][MAXN],d[MAXN][MAXN],q,op,x,y;

int calc(int x, int n , int a[MAXN]) {
    int l=x,r=x,res=0;
    for (int i=a[x];i>=1;i--) {
        while (l>1&&a[l-1]>=i) l--;
        while (r<n&&a[r+1]>=i) r++;
        res=max(res,(r-l+1)*i);
    }
    return res;
}

int main(int argc, const char * argv[])
{
    cin >> n >> m >> q;
    rep(i,n) rep(j,m) scanf("%d",&a[i][j]);
    rep(i,n) rep(j,m) if (a[i][j]) {
        l[j][i]=l[j-1][i]+a[i][j];
        u[i][j]=u[i-1][j]+a[i][j];
    }
    for (int i=n;i>=1;i--) for (int j=m;j>=1;j--) if (a[i][j]) {
        r[j][i]=r[j+1][i]+a[i][j];
        d[i][j]=d[i+1][j]+a[i][j];
    }
    rep(i,q) {
        scanf("%d%d%d",&op,&x,&y);
        if (op==1) {
            a[x][y]=1-a[x][y];
            rep(j,m) if (a[x][j]) l[j][x]=l[j-1][x]+a[x][j]; else l[j][x]=0;
            rep(j,n) if (a[j][y]) u[j][y]=u[j-1][y]+a[j][y]; else u[j][y]=0;
            for (int j=n;j>=1;j--) if (a[j][y]) d[j][y]=d[j+1][y]+a[j][y]; else d[j][y]=0;
            for (int j=m;j>=1;j--) if (a[x][j]) r[j][x]=r[j+1][x]+a[x][j]; else r[j][x]=0;
        }
        else {
            ans=0;
            ans=max(ans,calc(y,m,u[x]));
            ans=max(ans,calc(y,m,d[x]));
            ans=max(ans,calc(x,n,l[y]));
            ans=max(ans,calc(x,n,r[y]));
            printf("%d\n",ans);
        }
    }
    return 0;
}
  	   	    	 	 	 		