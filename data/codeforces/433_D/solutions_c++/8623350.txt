#include <cstdio>
#include <cstring>
#include <cmath>
#include <iostream>
#include <algorithm>

using namespace std;
int n,m,q,bj,x,y,ans;
int map[1005][1005],up[1005][1005],dow[1005][1005],le[1005][1005],ri[1005][1005];
int dq[1005];
void updaterow(int x)
{
	for (int i=1;i<=m;++i)
		if (map[x][i]==1) le[x][i]=le[x][i-1]+1;else le[x][i]=0;
	for (int i=m;i>=1;--i)
		if (map[x][i]==1) ri[x][i]=ri[x][i+1]+1;else ri[x][i]=0;
}
void updatecol(int x)
{
	for (int i=1;i<=n;++i)	
		if (map[i][x]==1) up[i][x]=up[i-1][x]+1;else up[i][x]=0;
	for (int i=n;i>=1;--i)
		if (map[i][x]==1) dow[i][x]=dow[i+1][x]+1;else dow[i][x]=0;
}
int work(int x,int dq[],int n)
{
	int l=x,r=x,sum=0;
	for (int i=dq[x];i>=1;--i)
	{
		while (l>=1&&dq[l]>=i) l--;
		while (r<=n&&dq[r]>=i) r++;
		l++;r--;
		sum=max(sum,i*(r-l+1));
	}
	return sum;
}
int main()
{
	scanf("%d%d%d",&n,&m,&q);
	for (int i=1;i<=n;++i)
		for (int j=1;j<=m;++j) scanf("%d",&map[i][j]);
	for (int i=1;i<=n;++i) updaterow(i);
	for (int i=1;i<=m;++i) updatecol(i);
	
	for (int z=1;z<=q;++z)
	{
		scanf("%d%d%d",&bj,&x,&y);
		if (bj==1)
		{
			map[x][y]^=1;
			updaterow(x);
			updatecol(y);
		}
		else
		{
			ans=max(work(y,up[x],m),work(y,dow[x],m));
			for (int i=1;i<=n;++i) dq[i]=le[i][y];
			ans=max(ans,work(x,dq,n));
			for (int i=1;i<=n;++i) dq[i]=ri[i][y];
			ans=max(ans,work(x,dq,n));
			printf("%d\n",ans);
		}
	}
	return 0;
}
	 	  	 	 				  	  	 					    	