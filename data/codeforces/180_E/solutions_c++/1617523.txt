#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;
int n,m,k;
int cu[200010];
int rem[200010];
int cal()
{
    int ans = (n > 0);
    memset(rem,0,sizeof(rem));
    int s,t = 1;
    rem[cu[1]]++;
    for (s = 1; s <= n && t <= n; ++s)
    {
        while(t - s + 1 - rem[cu[s]] <= k && t < n)
            rem[cu[++t]]++;
        ans = max(ans,rem[cu[s]]);
        rem[cu[s]]--;
    }
    return ans;
}

int main()
{
    scanf("%d%d%d",&n,&m,&k);
    for (int i = 1; i <= n; ++i)
        scanf("%d",&cu[i]);
    printf("%d\n",cal());
    return 0;
}
