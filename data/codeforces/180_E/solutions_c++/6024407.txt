#include <cstdio>
#include <vector>
#include <algorithm>
const int M = 1e5 + 2;
const int N = M << 1;

std::vector<int> pos[M];

int n, m, K;
int main() {
	int a;
	scanf("%d%d%d", &n, &m, &K);
	for (int i = 0; i < n; ++i) {
		scanf("%d", &a);
		pos[a].push_back(i);
	}
	int ans = 0;
	for (int i = 0; i < M; ++i) {
		int l = 0;
		for (int j = 0; j < pos[i].size(); ++j) {
			while (pos[i][j] - pos[i][l] + 1 - (j - l + 1) > K)
				++ l;
			if (j - l + 1 > ans)
				ans = j - l + 1;
		}
	}
	printf("%d\n", ans);
	return 0;
}
	   	 	 	 					 			 		    	