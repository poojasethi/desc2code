#include<iostream>
#include<algorithm>
#include<cstring>
#include<vector>
#include<queue>
#include<set>
using namespace std;
typedef long long Long;
typedef pair<Long,Long> PII;

queue<int> arr[100010];

int main()
{
    int N , M , K;
    cin >> N >> M >> K;
    int ma = 0;
    for(int i = 0; i < N; ++i)
    {
        int n; cin >> n;
        arr[n].push(i);
        while( i - arr[n].front() + 1 - arr[n].size() > K )
            arr[n].pop();
        ma = max( ma , (int)arr[n].size() );
    }
    cout << ma << endl;

}