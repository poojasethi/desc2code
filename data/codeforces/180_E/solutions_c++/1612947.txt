#include <cstdio>
#include <iostream>

using namespace std;
const int M=100012,N=2*M;
int n,m,k,head,tail,ans;;
int a[N],sum[M];
int main()
{
    scanf("%d%d%d",&n,&m,&k);
    for(int i=1;i<=n;++i)scanf("%d",a+i);
    head=1;tail=1;++sum[a[1]];
    while (head<=n && tail<=n)
    {
        while (tail-head+1-sum[a[head]]<=k && tail<n) ++tail,++sum[a[tail]];
        ans=max(ans,sum[a[head]]);
        --sum[a[head]];
        ++head;
    }
    printf("%d\n",ans);
}