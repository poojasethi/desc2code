#include <iostream>
#include <queue>


using namespace std;

queue<int> q[100010];
int n,m,k;

int main()
{
 cin >> n >> m >> k;
 
 int ans = 0;
  
 for(int i=0;i<n;i++)
 {
  int a;
  cin >> a;
  q[a].push(i);
  
  while (i-q[a].front()+1-q[a].size() > k) q[a].pop();
  
  if (q[a].size() > ans) ans = q[a].size();
 }
 
 cout << ans;
 
 //system("PAUSE >> void");
}
