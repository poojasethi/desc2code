#include <iostream>
#include <cstring>
#include <string>
#include <cstdio>
#include <cstdlib>
#define Max(x, y) x>y?x:y
using namespace std;
int a[200005], sum[100005];
int main(){
	int n, m, k;
	while(scanf("%d%d%d", &n, &m, &k) != EOF){
		for(int i=1; i<=n; i++){
			scanf("%d", &a[i]);
		}
		memset(sum , 0, sizeof(sum));
		int head=1, tail=1, ans=0;
		sum[a[head]]++;
		while(tail <= n && head <= tail){
			while(tail-head+1-sum[a[head]] <= k && tail<n) tail++, sum[a[tail]]++;
			ans=Max(ans, sum[a[head]]);
			--sum[a[head]];
			head++;
		}
		printf("%d\n", ans);
	}
	return 0;
}


