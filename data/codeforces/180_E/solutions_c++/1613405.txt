#include<cstdio>
#include<vector>
using namespace std;
vector<int> ve[100100];
int main(){
    int i,j,p,q,n,m,k,tem;
    
    scanf("%d %d %d",&n,&m,&k);
    for(i=1;i<=n;i++){
        scanf("%d",&tem);
        ve[tem].push_back(i);
    }
    int ans=1;
    for(i=1;i<=m;i++){
        if(ve[i].size()<=ans)
            continue;
        p=0;
        for(j=ans-1;j<ve[i].size();j++){
            while(ve[i][j]-ve[i][p]+1-(j-p+1)>k)
                p++;
            if(j-p+1>ans)
                ans=j-p+1;
        }
    }
    printf("%d\n",ans);
}