#include <cstdio>
const int maxn = 200010;
int sum[maxn],a[maxn];

int main(){
    int n,m,k;
    scanf("%d%d%d",&n,&m,&k);
    for(int i = 1;i <= n;i++)   scanf("%d",&a[i]);
    int head,tail,ans = 0;
    head = tail = 1;
    sum[a[head]]++;
    while(head <= n && tail <= n){
        while(tail-head+1-sum[a[head]] <= k && tail < n)    tail++,sum[a[tail]]++;
        ans = sum[a[head]] > ans ? sum[a[head]] : ans;
        sum[a[head]]--;
        head++;
    }
    printf("%d\n",ans);
    return 0;
}

 	 	  		  	  					 		   	 	