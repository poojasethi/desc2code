
#include <iostream>
#include <queue>
using namespace std;
queue<int> a[100005];

int main() {
	int n, m, k, sol = 0, x;
	cin >> n >> m >> k;

	for(int i = 0; i < n; i++){
		cin >> x;
		a[x].push(i);

		while(i - a[x].front() + 1 - (int)a[x].size() > k)
			a[x].pop();
		sol = max(sol, (int)a[x].size());
	}

	cout << sol << endl;
	return 0;
}
