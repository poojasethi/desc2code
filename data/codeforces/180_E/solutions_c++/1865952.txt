#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <queue>
#include <map>
#include <string.h>

const int N=100010;
const int inf=0x3f3f3f3f;

using namespace std;

queue<int> que[N];

int main()
{
	int n,m,k;
	scanf("%d%d%d",&n,&m,&k);
	int ret=0;
	for(int i=1;i<=n;i++)
	{
		int a;
		scanf("%d",&a);
		while(!que[a].empty())
		{
			int u=que[a].front();
			int sz=que[a].size();
			if(i-u-sz>k) que[a].pop();
			else break;
		}
		que[a].push(i);
		int sz=que[a].size();
		ret=max(ret,sz);
	}
	cout<<ret<<endl;
	return 0;
}
