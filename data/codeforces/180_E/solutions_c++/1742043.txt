#include <iostream>
#include <cstdio>
#include <queue>
using namespace std;
const int M = 100005;
int n, m, k, ans = 0;
queue<int> a[M];
int main() {

    scanf("%d %d %d", &n, &m, &k);

	for ( int i = 1, v; i <= n; i++){
       scanf("%d", &v);
       a[v].push(i);
       while( i - a[v].front() + 1 > k + (int)a[v].size())
    	   a[v].pop();
       ans = max ((int)a[v].size(), ans);
	}

	printf("%d\n", ans);
	return 0;
}
