#include<string>
#include<iostream>
#include<algorithm>
#include<cstdio>
#include<vector>
using namespace std;
const int size=100000+10;
int n,m,k,x,ans=0,be,en;
vector<int>map[size];
int main(){
    //freopen("in.txt","r",stdin);
    scanf("%d%d%d",&n,&m,&k);
    for(int i=1;i<=n;i++)
        scanf("%d",&x),map[x].push_back(i);
    for(int i=1;i<=m;i++){
        be=0;
        for(en=0;en<map[i].size();en++){
            while((map[i][en]-map[i][be])-(en-be)>k)be++;
            ans=max(ans,en-be+1);
        }
    }
    printf("%d\n",ans);

    return 0;
}

  			  	 				 	   	     	