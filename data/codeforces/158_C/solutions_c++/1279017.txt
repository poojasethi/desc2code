#include<iostream>
#include<string>

using namespace std;

int n;
string now,s;

int main()
{
	cin>>n;
	now='/';
	for(int i=1;i<=n;i++)
	{
		cin>>s;
		if (s=="pwd")
		{
			cout<<now<<endl;
			continue;
		}

		cin>>s;
		if (s[0]=='/')
		{
			now='/';
			s.erase(0,1);
		}
		for(int i;s.size();)
		{
			string tmp="";
			for(i=0;(i<s.size())&&(s[i]!='/');i++)
			{
				tmp+=s[i];
			}
			if (tmp=="..")
			{
				now.erase(now.size()-1,1);
				for(;now[now.size()-1]!='/';now.erase(now.size()-1,1));
			}
			else
			{
				now+=tmp+'/';
			}
			s.erase(0,i+1);
		}
	}
	return 0;
}
