#include <iostream>
#include <string>

using namespace std;

int main() {
	string s = "";
	int n;
	cin >> n;
	for (int i = 0; i < n; i++){
		string t;
		cin >> t;
		if (t == "pwd") cout << s + "/" << endl;
		else {
			cin >> t;
			if (t[0] == '/'){
				s=t;
			} else {
				s += "/" + t;
			}
			int idx = s.find('.'),jdx;
			while (idx != -1){
				for (int j=idx-2; j>=0; j--)
					if (s[j] == '/') {
						jdx = j;
						break;
					}
				s = s.substr(0, jdx) + s.substr(idx + 2);
				idx = s.find('.');
			}
		}
	}
}
