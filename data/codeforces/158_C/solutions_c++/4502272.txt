#include <iostream>
#include <vector>
#include <string>
using namespace std;

int main () {
	int n, l, r;
	cin >>n;
	string s, s1, cmd;
	vector<string> a;
	while (n--) {
		cin >>cmd;
		if (cmd=="pwd") {
			cout <<'/';
			for (int t=0; t<a.size(); t++)
				cout <<a[t]<<'/';
			cout <<endl;
		}
		else {
			cin >>s;
			l=0, r=0;
			if (s[0]=='/') l++, a.clear();
			while (r<s.length()) {
				r=s.find_first_of('/',l+1);
				if (s[l]=='.' && s[l+1]=='.') a.pop_back();
				else s1=string(s,l,r-l), a.push_back(s1);
				l=r+1;
			}
		}
	}
return 0;
}