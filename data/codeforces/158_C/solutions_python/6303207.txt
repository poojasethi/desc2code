n = int(raw_input())
path = ['']

for i in range(n):
  cmd = raw_input()
  if cmd == 'pwd':
    print ('/'.join(path))+'/'
  else:
    names = cmd.split()[1].split('/')
    for n in names:
      if n == '':
        path = ['']
      elif n == '..':
        if len(path) > 1:
          path.pop()
      else:
        path.append(n)
