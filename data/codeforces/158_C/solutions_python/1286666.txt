n=int(raw_input());
l=["",""]
for i in xrange(n):
	cmd=raw_input()
	if cmd=="pwd":
		print "/".join(l);
	else:
		arg=cmd.split()[1]
		arg=arg.split("/")
		if arg[0]=="":
			l=[];
		if arg[len(arg)-1]!="":
			arg.append("")
		if len(l)!=0:
			l.pop()
		for s in arg:
			if s=="..":
				l.pop()
			elif s!=".":
				l.append(s);
