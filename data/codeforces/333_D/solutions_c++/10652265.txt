#include <bits/stdc++.h>
using namespace std;

const int N=1e3+10;
int a[N][N], n, m;
bitset<N> b[N];
vector<int> v;

int valid(int v) {
	for(int i=0; i<n; i++) for(int j=0; j<m; j++) {
		b[i][j]=0;
		if(a[i][j]>=v) b[i][j]=1;
	}
	for(int i=0; i<n; i++) for(int j=i+1; j<n; j++) if((b[i]&b[j]).count()>1) return 1;
	return 0;
}

int main() {
	scanf("%d %d", &n, &m);
	for(int i=0; i<n; i++) for(int j=0; j<m; j++) {
		scanf("%d", &a[i][j]);
		v.push_back(a[i][j]);
	}
	sort(v.begin(), v.end());
	v.erase(unique(v.begin(), v.end()), v.end());
	int lo=0, mid, hi=(int)v.size();
	while(lo<hi) {
		mid=(lo+hi)/2;
		if(valid(v[mid])) lo=mid+1;
		else hi=mid;
	}
	printf("%d\n", v[lo-1]);
	return 0;
}
