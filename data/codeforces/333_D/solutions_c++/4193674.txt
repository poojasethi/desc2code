#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
struct data{
	int v,x,y;
}q[1100001];
bool v[1111][1111],f;
int i,j,k,n,m,a[1111][1111],b[1111][1111],x,y;
bool cmp(data a,data b){
	return a.v>b.v;
}
int main(){
	scanf("%d%d",&n,&m);
	for (i=1,k=0;i<=n;i++)
	 for (j=1,b[i][0]=0;j<=m;j++) scanf("%d",&a[i][j]),q[++k].v=a[i][j],q[k].x=i,q[k].y=j;
	memset(v,0,sizeof(v));sort(q+1,q+1+k,cmp);
	for (i=1,f=0;!f&&i<=n*m;i++){
		x=q[i].x;y=q[i].y;
		for (j=1;j<=b[x][0];j++)
		 if (v[b[x][j]][y]){
		 	printf("%d\n",q[i].v);f=1;break;
		 }else v[b[x][j]][y]=v[y][b[x][j]]=1;
		b[x][++b[x][0]]=y;
	}
	return 0;
}