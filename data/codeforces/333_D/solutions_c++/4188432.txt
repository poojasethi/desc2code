#include <cstdio>
#include <vector>
#include <algorithm>
#define X first
#define Y second
#define REP(i,n) for (int i=1;i<=n;++i)
#define FOR(i,n) for (__typeof(n.begin())i=n.begin();i!=n.end();++i)
using namespace std;

int n,m,x,y,A;
pair< int,pair<int,int> > a[1000100];
vector<int> v[1010];
bool boo[1010][1010];

int main() {
	scanf("%d%d",&n,&m);
	REP(i,n) REP(j,m) {
		scanf("%d",&x);
		a[++A].X=-x;
		a[A].Y.X=i,a[A].Y.Y=j;
	}
	sort(a+1,a+A+1);
	REP(i,A) {
		x=a[i].Y.X,y=a[i].Y.Y;
		FOR(p,v[x]) {
			if ((boo[*p][y])||(boo[y][*p]))
				{printf("%d\n",-a[i].X);return 0;}
			boo[*p][y]=true;
		}
		v[x].push_back(y);
	}
	return 0;
}
