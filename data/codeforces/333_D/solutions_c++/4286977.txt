#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<cstring>
using namespace std;
int i,j,k,l,n,m,heng[1001][1001],lie[1001][1001],a[1001][1001],
	q[1000001],id[1000001],x,y,tot;
bool cmp(const int a,const int b){
	return q[a]>q[b];
}
int main(){
	scanf("%d%d",&n,&m);
	tot=0;
	for(i=1;i<=n;++i)
		for(j=1;j<=m;++j){
			scanf("%d",&x);
			q[++tot]=x;
			id[tot]=tot;
		}
	sort(id+1,id+tot+1,cmp);
	for(i=1;i<=tot;++i){
		x=(id[i]-1)/m+1;
		y=id[i]-(x-1)*m;
		for(j=1;j<=heng[x][0];++j)
			for(k=1;k<=lie[y][0];++k)
				if(a[lie[y][k]][heng[x][j]]){
					printf("%d\n",q[id[i]]);
					return 0;
				}
		heng[x][++heng[x][0]]=y;
		lie[y][++lie[y][0]]=x;
		a[x][y]=1;
	}
}