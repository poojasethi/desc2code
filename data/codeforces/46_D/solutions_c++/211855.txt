#include <iostream>
#include <algorithm>
using namespace std;
int L,B,F,N;
int List[100100], Lop[100100];
bool Mark[100100];
int main(){
	int ID;
	int Begin, Len;
	cin >> L >> B >> F >> N;
	bool Flag;
	int Counter = 0;
	for (int i = 0; i < N; i++){
		cin >> ID >> Len;
		bool f = true;
		if (ID == 1){
			Flag = true;
			for (int j = 0; j <= L; j++){
				if (!Mark[j]){
					Counter = 0;
					Begin = j;
					for ( ; j <= L; j++){
						if (Mark[j]){
							break;
						}
						Counter++;
						if (j == 0)
							Counter += B-1;
						if (j == L){
							Counter += F-1;
							break;
						}
					}
					Counter++;
					if (Counter >= Len+B+F){
						Flag = false;
						if (Begin != 0)
							Begin = (Begin + B) - 1;
						cout << Begin << endl; 
						List[i] = Begin;
						Lop[i] = Len;
						for (int k = Begin; k <= Begin + Len; k++)
							Mark[k] = true;
						break;
					}
				}
			}	
			if (Flag){
				cout << -1 << endl;
				List[i] = -1;
				Lop[i] = -100;
			}
		}else{
			Len--;
			for (int j = List[Len]; j <= List[Len] + Lop[Len]; j++)
				Mark[j] = false;
		}
	}
	return 0;
}
