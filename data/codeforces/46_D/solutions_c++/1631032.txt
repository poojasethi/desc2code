#include<iostream>
#include<cstring>
#include<cstdio>
#include<string>
#include<algorithm>
using namespace std;
struct car{
	int b,e,nu;
}ca[110];
bool cmp(car a,car b){
	return a.b<b.b;
}
int head[101];
int main(){
	int len,a,b,n,cmd,carl;
	for(;cin>>len>>a>>b>>n;){
		int size=0;
		ca[size].b=-a;
		ca[size++].e=-a;
		ca[size].b=len+b;
		ca[size++].e=len+b;
		for(int i=0;i<n;i++){
			cin>>cmd>>carl;
			if(cmd==1){
				bool flag=false;
				for(int j=0;j<size-1&&!flag;j++){
					if(ca[j+1].b-ca[j].e>=carl+a+b){
						ca[size].b=ca[j].e+a;
						ca[size].nu=i+1;
						ca[size++].e=ca[j].e+a+carl;
						cout<<ca[j].e+a<<endl;
						flag=true;
					}
				}
				if(flag)
					sort(ca,ca+size,cmp);
				else
					cout<<-1<<endl;
				
			}
			else{
				int k=0;
				for(;k<size;k++)
					if(ca[k].nu==carl)
						break;
				for(int j=k+1;j<size;j++){
					ca[j-1]=ca[j];
				}
				size--;
			}
		}
	}
	return 0;
}
 	 	       		 	 				  			