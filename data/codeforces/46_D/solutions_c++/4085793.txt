#include <iostream>
#include <math.h>
#include <cmath>
#include <cstring>
#include <algorithm>
#include <cstdio>
#include <string>
using namespace std;
int f[10010],len[10010];
int main()
{
	int n,dx,l,F,B,num,cnt=0,x,y,tp,list[1010],lon,key,st;
	scanf("%d%d%d",&l,&B,&F);
	dx=B+F;
	scanf("%d",&n);
	f[0]=-B;
	f[2000]=l+F;
	list[0]=0;list[1]=2000;
	num=1;
	for (int i=1;i<=n;i++)
	{
		scanf("%d%d",&tp,&lon);
		if (tp==1)
		{
			key=-1;
			cnt=i;
			len[cnt]=lon;
			for (int i=1;i<=num;i++)
			{
				x=list[i-1];
				y=list[i];
				if (lon+dx<=f[y]-f[x]-len[x])
				{
					f[cnt]=B+f[x]+len[x];
					key=i;
					break;
				}
			}
			if (key==-1) {printf("-1\n");continue;}
			num++;
			for (int i=num;i>key;i--) list[i]=list[i-1];
			list[key]=cnt;
			printf("%d\n",f[cnt]);
		}
		if (tp==2)
		{
			for (int i=1;i<=num;i++)
				if (list[i]==lon)
				{
					st=i;
					break;
				}
			for (int i=st;i<num;i++)
				list[i]=list[i+1];
			num--;
		}
	}
}
	   		   	 		      	 		 		