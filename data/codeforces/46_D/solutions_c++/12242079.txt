#define N (1<<17)
#include <bits/stdc++.h>
using namespace std;

int l,b,f,n,s,t,x,len[N],v[N],res[N];

int main()
{
	cin>>l>>b>>f>>n;
	for(int s=1;s<=n;s++)
	{
		cin>>t>>x;
		if(t==1)
		{
			len[s]=x;
			bool flag=0;
			int p=b,q=0,r=0,pos;

			for(int i=1;i<=l;i++)
			{
				if(v[i])
					p=q=r=0;
				else
				{
					if(p<b) p++;
					else if(q<x) q++;
					else r++;
					if(r==f)
					{
						pos=i-f-x;
						flag=1;
						break;
					}
				}
			}
			if(!flag && q==x)
				flag=1,pos=l-x-r;
			if(flag)
			{
				cout<<pos<<endl;
				for(int i=pos+1;i<=pos+x;i++)
					v[i]=1;
				res[s]=pos;
			}
			else
				puts("-1");
		}
		else
		{
			for(int i=res[x]+1;i<=res[x]+len[x];i++)
				v[i]=0;
		}
	}
	return 0;
}

		  		  	 	 	    												 	