#include <cstdio>
#include <cstring>
#include <vector>
#include <set>
#include <algorithm>
using namespace std;
int L, B, F;
int pos[105][2], tm=0;
set<int> s;
int main(void) {
    scanf("%d%d%d", &L, &B, &F);
    s.insert(-B);
    s.insert(L+F);
    int n;
    scanf("%d", &n);
    while(n--) {
        int x, y;
        scanf("%d%d", &x, &y);
        ++tm;
        if (x == 1) {
            int f=0;
            for(set<int>::iterator it=s.begin(); it!=s.end(); ) {
                set<int>::iterator nxt=it;
                ++nxt;
                if (nxt!=s.end() && ((*it)+B+y+F <= *nxt)) {
                    printf("%d\n", (*it)+B);
                    s.insert((*it)+B);
                    s.insert((*it)+B+y);
                    pos[tm][0] = *it+B;
                    pos[tm][1] = *it+B+y;
                    f=1;
                    break;
                }
                ++it; if(it!=s.end()) ++it;
            }
            if(!f) puts("-1");
        } else {
            s.erase(pos[y][0]);
            s.erase(pos[y][1]);
        }
    }
    return 0;
}
 	 				  		 		 	     	 	  	