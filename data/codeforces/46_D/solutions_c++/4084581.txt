#include<stdio.h>
#include<string.h>
#include<algorithm>
using namespace std;

int L;
int s[110010];
void upd(int l,int r,int k)
{
    for(int i=l;i<=r;i++)
	s[i]+=(i-l+1)*k;
    for(int i=r+1;i<=L+10000;i++)
	s[i]+=(r-l+1)*k;
}

int jud(int l,int r)
{
    if(l<0)
	l=0;
    return s[r]-s[l]==0;
}
int ll[110],rr[110],cnt;
int main()
{
    int l,b,f,i,j,k,n;

    scanf("%d%d%d",&l,&b,&f);
    scanf("%d",&n);

    L=l;
    for(int ii=0;ii<n;ii++)
    {
	scanf("%d",&i);
	if(i==1)
	{
	    scanf("%d",&i);
	    int is=0;
	    for(j=0;j+i<=L;j++)if(jud(j,j+i)&&jud(j-b,j)&&jud(j+i,j+i+f))
	    {
		is=1;
		ll[ii+1]=j,rr[ii+1]=ll[ii+1]+i;
		upd(ll[ii+1]+1,rr[ii+1],1);
		break;
	    }
	    if(is)
		printf("%d\n",ll[ii+1]);
	    else
		puts("-1");
	}
	else
	{
	    scanf("%d",&i);
	    upd(ll[i]+1,rr[i],-1);
	}
    }
}
   	 	  	 			 			 	       	