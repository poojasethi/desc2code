#include<iostream>
#define maxs 111111
using namespace std;
int mp[maxs],l,b,f,n,x,y;
int count(int s)
{
	int ans=0;
	while(s<maxs&&mp[s]==0)
	{
		ans++;
		s++;
	}
	return ans;
}
int main()
{
	cin>>l>>b>>f>>n;
	for(int ii=1;ii<=n;++ii)
	{
		cin>>x>>y;
		if(x==2)
		{
			for(int i=0;i<maxs;++i)
				if(mp[i]==y)
					mp[i]=0;
			continue;
		}
		int i=0;
		while(i<maxs)
		{	
			while(mp[i])
				++i;
			int len=count(i);
			if(y+b+f-1<=len||i==0&&y+f<=len)
			{	
				if(i==0)
					i=1-b;	
				if(i+b+y-1>l)
				{
					cout<<-1<<endl;
					break;
				}
				cout<<i+b-1<<endl;
				for(int j=i+b-1;j<=i+b+y-1;++j)
					mp[j]=ii;
				break;
			}
			i+=len;
		}		
	}
}