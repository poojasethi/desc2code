#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
const int mm=110;
const int oo=1e9;
int l,b,f,n;
class node
{
  public:int l,r,id;
}e[mm];
bool cmp(node a,node b)
{
  return a.l<b.l;
}
int main()
{ int pos=0,z;
  while(cin>>l>>b>>f)
  { pos=0;
    e[pos].l=-b;e[pos].r=-b;e[pos].id=-1;pos++;
    e[pos].l=l+f;e[pos].r=l+f;e[pos].id=-1;pos++;
    cin>>n;int a,p;
    for(int i=0;i<n;i++)
    { sort(e,e+pos,cmp);
      cin>>a>>p;
      bool flag=0;
      if(a==1)
        { z=p+b+f;
          for(int j=1;j<pos;j++)
            if(e[j].l-e[j-1].r>=z)
          { e[pos].id=i+1;
            e[pos].l=e[j-1].r+b;e[pos].r=e[pos].l+p;pos++;
            cout<<e[pos-1].l<<"\n";
            flag=1;break;
          }
          if(!flag)cout<<-1<<"\n";
        }
      else
      {
        for(int j=0;j<pos;j++)
          if(p==e[j].id)
        {
          e[j].l=oo;e[j].r=oo;
          sort(e,e+pos,cmp);pos--;
          break;
        }
      }
    }
  }
}

	  		 	    	  	  		    		