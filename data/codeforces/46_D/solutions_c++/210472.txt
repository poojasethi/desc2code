#include <iostream>

using namespace std;

const int maxL = 100*1000+300;
const int maxN = 100+10;

bool kk[maxL];
bool *road = kk+110;

int st[maxN];

int b, f, l, n;

int put(int len){
	int last = -b-1;
	int cur;

	for(int i = 0; i <= l+f; i++){
		if(road[i] == 0)
			continue;
		cur = i;
		if(cur-last-1 < len+b+f){
			last = cur;
			continue;
		}

		for(int i = 0; i < len; i++)
			road[last+b+1+i] = 1;
		return last+b+1;
	}

	return -1;
}

int main(){
	cin >> l >> b >> f;
	cin >> n;

	road[-b-1] = 1;
	road[l+f] = 1;

	int type, car;
	for(int req = 1; req <= n; req++){
		cin >> type >> car;
		if(type == 2){
			if(st[car] == -1)
				continue;
			int i = st[car];
			while(road[i] != 0){
				road[i] = 0;
				i++;
			}
		}
		else{	// 1
			st[req] = put(car);
			cout << st[req] << endl;
		}
	}

	return 0;
}
