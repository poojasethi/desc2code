//Solution by Ali-Amir Aldan
#include <algorithm>
#include <cstdio>

using std::min;

int l, b, f, n, type, len, mashine;
int col[200000], s[200000], ans[2000];

int main ()
{
	scanf ("%d%d%d%d", &l, &b, &f, &n);

	for (int it = 0; it < n; it++)
	{
	 	scanf ("%d", &type);
		if (type == 1)
		{
			ans[it] = -1;
			scanf ("%d", &len);

			for (int i = 1; i <= l; i++)
			{
				if (!col[i] && ans[it] == -1)
				{
					if (i + len - 1 > l) continue;
				 	if (i > 1 && (i <= b || s[i - 1] - s[i - b - 1])) continue;
				 	if (s[min (l, i + len + f - 1)] - s[i - 1]) continue;
					ans[it] = i - 1;
				 	for (; len; len--, i++) col[i] = it + 1, s[i] = s[i - 1] + (col[i] > 0);
				}
				s[i] = s[i - 1] + (col[i] > 0);
			}

			printf ("%d\n", ans[it]);
		}
		else
		{
			scanf ("%d", &mashine);

			for (int i = ans[mashine - 1] + 1; i <= l; i++)
			{
				if (col[i] == mashine)
					col[i] = 0;
				s[i] = s[i - 1] + (col[i] > 0);
			}
		}
	}

	return 0;
}
