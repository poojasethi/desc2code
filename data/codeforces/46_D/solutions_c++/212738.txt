#include <iostream>
#include <string>
#include <sstream>
using namespace std;

int main() {
    int L, b, f, n;
	cin >> L >> b >> f >> n;
	int type,l_car,emp_tmp;
	stringstream ss;
	int *lot = new int[L + b + f];
	for (int i=0; i<L+b+f; i++) {
		lot[i] = 0;
	}
	for (int i=0; i<n; i++) {
		cin >> type >> l_car;
		emp_tmp = 0;
		if (type == 2) {
			for (int j=0; j<L+b+f; j++) {
				if (lot[j] == l_car)
					lot[j] = 0;
			}
			continue;
		}
		for (int j=0; j<L+b+f; j++) {
			if (!lot[j])
				emp_tmp++;
			else
				emp_tmp = 0;
			if (emp_tmp >= l_car + b + f) {
				ss << (j - l_car - f - b + 1) << "\n";
				for (int k=j-l_car-f+1; k<j-f+1; k++) {
					lot[k] = i+1;
				}
				break;
			}
		}
		if (emp_tmp < l_car + b + f)
			ss << "-1\n";
	}
	cout << ss.str();
	delete[] lot;
	return 0;
}