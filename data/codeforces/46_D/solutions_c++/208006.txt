#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <vector>
#include <cassert>
using namespace std;
#define p(x) cout<<#x<<":"<<x<<"\n"

int l,b,f,n,i,t,x,y,j;
vector <int> V,L;
int I[101];

int main()
{
  scanf("%d%d%d%d",&l,&b,&f,&n);
  for(i=1;i<=n;i++)
  {
    scanf("%d%d",&t,&x);
    if(t==1)
    {
      for(j=0,y=-b;j<V.size();j++)
      {
        if(y+b+x+f<=V[j])
          break;
        y=V[j]+L[j];
      }
      I[i]=y+b;
      if(j<V.size())
      {
        printf("%d\n",y+b);
        V.insert(V.begin()+j,y+b);
        L.insert(L.begin()+j,x);
      }
      else
        if(y+b+x<=l)
        {
          printf("%d\n",y+b);
          V.push_back(y+b);
          L.push_back(x);
        }
        else
          printf("-1\n");
    }
    else
    {
      for(j=0;j<V.size() && V[j]<I[x];j++);
      assert(j<V.size() && V[j]==I[x]);
      V.erase(V.begin()+j);
      L.erase(L.begin()+j);
    }  
  }
  return 0;
}
