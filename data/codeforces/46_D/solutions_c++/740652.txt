#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cmath>
#include<iostream>
using namespace std;
int l[200],h[200],b,f,L,v[100005];
int ch(int j,int x,int i)
{
	int low=j;
	if(low>0)
	{
		for(int k=j;k<j+b;k++)
		if(v[k])return 0;
		low+=b;
	}
	for(int k=low;k<low+x+f;k++)
	if(k<L&&v[k])return 0;
	l[i]=low;
	h[i]=low+x-1;
	if(h[i]>=L)return 0;
	for(int k=l[i];k<=h[i];k++)
	v[k]=1;
	return 1;
}
int main()
{
	while(~scanf("%d%d%d",&L,&b,&f))
	{
		memset(v,0,sizeof(v));
		int n;
		scanf("%d",&n);
		for(int i=1;i<=n;i++)
		{
			int op,x;
			scanf("%d%d",&op,&x);
			if(op==1)
			{
				int F=0;
				for(int j=0;j<L;j++)
				if(!v[j]&&ch(j,x,i))
				{
					printf("%d\n",l[i]);
					F=1;
					break;
				}
				if(!F)puts("-1");
			}
			else
			{
				for(int j=l[x];j<=h[x];j++)
				v[j]=0;
			}
		}
	}
}

 	 	   	  	 		    		 		 		