#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
#define N 500010
#define inf 1<<30


int f[N],b[N],pos[N],len[N];
int flag[N];
int forw,back,l,n,c;


int main(){
	scanf("%d%d%d",&l,&forw,&back);
	scanf("%d",&n);

	for (int i=1;i<=n;i++) {
		int q,k;

		int minc=-inf,maxc=inf;

		for (int j=0;j<=l;j++) {
			if (flag[j]) {
				minc=j;
				f[j]=j;
			}
			else f[j]=minc;
		}

		for (int j=l;j>=0;j--) {
			if (flag[j]) {
				maxc=j;
				b[j]=j;
			}
			else b[j]=maxc;
		}

		scanf("%d%d",&q,&k);

		if (q==1) {
			len[i]=k;
			int unparked=1;

			for (int j=0;j<=l-k;j++){ 
				if (j-f[j]>=forw&&b[j]-j>=k+back) {
					printf("%d\n",j);
					pos[i]=j;

					for (int p=0;p<=k;p++) 
						flag[p+j]=1;

					unparked=0;
					break;
				}
			}

			if (unparked) {
				printf("-1\n");
				pos[c]=-1;
			}
		}
		else if (pos[k]>=0&&len[k]>0){ 
			for (int p=0;p<=len[k];p++){ 
				flag[p+pos[k]]=0;
			}
		}
	}

	return 0;
}   
	   	    		   		 	 			 	 	