#include <iostream>
#include <algorithm>
#include <cstdio>

#define ll long long
#define f first
#define s second
#define mp make_pair

using namespace std;

int L, b, fr;
int n, m;

pair <int, int> st[128];
int loc[128];

int main()
{
	cin >> L >> b >> fr;

	cin >> n;
	m = 0;
	st[0].f = -b;
	st[0].s = -b;
	
	for (int i = 1; i <= n; i++)
	{
		int tip;
		cin >> tip;

		st[m + 1].f = L + fr;
		if (tip == 1)
		{
			int lung;
			cin >> lung;

			loc[i] = -1;
			for (int j = 0; j <= m; j++)
				if (st[j].s + b + lung + fr <= st[j + 1].f)
				{
					cout << st[j].s + b << "\n";

					loc[i] = st[j].s + b;
					
					st[++m] = mp(st[j].s + b, st[j].s + b + lung);
					break;
				}

			if (loc[i] == -1)
				cout << "-1\n";
		}
		else
		{
			int index, ok = 0;
			cin >> index;

			for (int j = 0; j <= m; j++)
				if (st[j].f == loc[index])
				{
					swap(st[j], st[m--]);
					
					break;
				}
		}

		sort(st, st + m + 1);
	}

	return 0;
}