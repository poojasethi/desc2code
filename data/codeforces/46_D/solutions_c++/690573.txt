#include <iostream>
#include <cstdio>
#include <vector>
#include <string>
#include <set>

using namespace std;

typedef long long ll;
typedef double db;
typedef pair <int, int> pii;
#define pb push_back
#define mp make_pair
#define f first
#define s second

const int N = 1e2 + 10, INF = 1e9;

set <pii> s;
pii a[N];
int n, l, b, f, flag, k;

int insert(int x)
{
  for(set <pii> :: iterator i = s.begin(); i != (--s.end()); i++)
  {
    set <pii> :: iterator tmp = i;
    pii l = *i, r = *(++tmp);
    if (r.f - l.s >= x + b + f)
    {
      s.insert(mp(l.s + b, l.s + x + b));
      return l.s + b;
    }
  }
  return -1;
}

int main()
{
  cin >> l >> b >> f >> n;
  s.insert(mp(-b, -b));
  s.insert(mp(l + f, l + f));
  for(int i = 0; i < n; i++)
  {
    cin >> flag >> k;
    if (flag == 1)
    {
      int res = insert(k);
      a[i] = mp(res, res + k);
      cout << res << endl;
    }
    else
       s.erase(s.find(a[k - 1]));
  }
  return 0;
}
