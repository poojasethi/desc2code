#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;

int u[100000];

int main() {

	int L, b, f;
	cin >> L >> b >> f;
	int n;
	cin >> n;

	vector<int> ans, z;

	for (int r=0;r<n;++r)
	{
		int t, y;
		cin >> t >> y;
		if (t == 1)
		{
			ans.push_back(-1);
			z.push_back(y);
			for (int i = 0; i <= L - y; ++i)
			{
				bool h = true;
				for (int j = max(0, i - b + 1); j <= min(L, i + y + f - 1); ++j)
					if (u[j] == 1)
					{
						h = false;
						break;
					}
				if (h)
				{
					ans[r] = i;
					for (int j = max(0, i); j <= min(L, i + y); ++j)
						u[j] = 1;
					cout << i << endl;
					break;
				}
			}
			if (ans[r] == -1)
				cout << -1 << endl;
		}
		if (t == 2)
		{
			z.push_back(-1);
			ans.push_back(-1);
			int len = z[y - 1], i = ans[y - 1];
			for (int j = max(0, i); j <= min(L, i + len); ++j)
				u[j] = 0;
			ans[y - 1] = -1;
		}
	}

	return 0;
}
