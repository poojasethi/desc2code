#include<iostream>
#include<cstdio>
#include<vector>
using namespace std;
int s[112345];
int pos[112345];
int len[112345];
int main() {
	int i,l,b,f,n;
	cin >> l >> b >> f >> n;
	s[l+f+b] = 0;
	for(i = l+f+b-1; i >= 0; i--) {
		s[i] = 1 + s[i+1];
	}
	//s[b] = s[0] , s[l+b] = s[l];

	int r,p,ans,j;
//	for(j = 0; j < l+f+b; j++) printf("%d ",s[j]);puts("");
	for(i = 1; i <= n; i++) {
//		printf("e\n");
		scanf("%d%d",&r,&p);
		len[i] = p;
		if(r == 1) {
			ans = -1+b;
			for(j = 0; j < l; j++) {
				if(s[j] >= p + f + b) {
					ans = j + b;
					break;
				}
			}
			if(ans != -1 + b) {
				for(j = ans + p - 1; j >= ans; j--) {
					s[j] = 0;
				}
				for(; j >= 0; j--) {
					if(s[j] == 0)
						break;
					s[j] = s[j+1]+1;
				}
			}
			printf("%d\n",ans-b);
			pos[i] = ans;
		}
		else {
//			printf("%d %d\n",pos[p], len[p]);
			for(j = pos[p]+len[p]-1; j >= pos[p]; j--) {
				s[j] = s[j+1] + 1;
			}
			for(; j >= 0; j --) {
				if(s[j] == 0) break;
				s[j] = s[j+1]+1;
			}
//			for(j = 0; j < l; j++) printf("%d ",s[j]);puts("");
		}
	}
	return 0;
}

