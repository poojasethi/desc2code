#include <bits/stdc++.h>
using namespace std;

int L, b, f;
int n, t, x;
int a[100001];

int main() {
  scanf("%d %d %d", &L, &b, &f);
  scanf("%d", &n);
  for (int i = 1; i <= n; ++i) {
    scanf("%d %d", &t, &x);
    if (t == 1) {
      if (x > L) {
	puts("-1");
	continue;
      }
      bool done = false;
      for (int j = 0; !done && j < L; ) {
	while (j < L && a[j])
	  ++j;
	int k = j;
	while (j < L && !a[j])
	  ++j;
	if (j - k >= x + b * (k != 0) + f) {
	  printf("%d\n", k + b * (k != 0));
	  for (int l = k + b * (k != 0); l < k + b * (k != 0) + x; ++l)
	    a[l] = i;
	  done = true;
	}
	else if (j == L && j - k >= x + b * (k != 0)) {	  
	  printf("%d\n", k + b * (k != 0));
	  for (int l = k + b * (k != 0); l < k + b * (k != 0) + x; ++l)
	    a[l] = i;
	  done = true;	  
	}
      }
      if (!done)
	puts("-1");
    }
    else {
      for (int j = 0; j < L; ++j)
	if (a[j] == x)
	  a[j] = 0;
    }
  }
  return 0;
}
