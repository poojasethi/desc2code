R=lambda:map(int,raw_input().split())
l,b,f=R()
v=[(-b,-b,0),(l+f,l+f,0)]
for i in range(1,input()+1):
  c,d=R()
  if 1==c:
    k,d,x=len(v),d+f+b,0
    for j in range(1,k):
      if v[j][0]-v[j-1][1]>=d:
        v.insert(j,(v[j-1][1]+b,v[j-1][1]+d-f,i))
        print v[j-1][1]+b
        x=1
        break
    if not x:
      print -1
  else:
    for j in range(k):
      if v[j][2]==d:
        del v[j]
        break
