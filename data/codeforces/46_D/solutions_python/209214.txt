L,b,f = map(int,raw_input().split())
n = input()
C = [(-b,0,-1)]
for i in range(n):
	t,l = map(int,raw_input().split())
	if t==1:
		for p in range(len(C)):
			if ( p == len(C)-1 or
			     C[p][0]+C[p][1]+b + l + f <= C[p+1][0] ):
				break
		x = C[p][0]+C[p][1]+b
		if x + l <= L:
			C.insert(p+1,(x,l,i))
			print x
		else:
			print -1
	else:
		for i in range(len(C)):
			if C[i][2]==l-1:
				del C[i]
				break
	#print C
