#include<cstdio>
#include<numeric>
using namespace std;

int A[1<<17];

int main(){
	int n;
	scanf("%d",&n);
	for(int i = 0 ; i < n ; ++i ) scanf("%d",A+i);
	long long sum = accumulate( A , A + n , 0LL  );
	long long ans = 0 ;
	if( sum % 3 == 0 ){
		long long acu = A[0];
		long long hm = A[0] == ( sum / 3 ) ;
		for( int i = 1 ; i + 1 < n ; ++ i ){
         acu += A[ i ];
				 if( acu == ( sum / 3 ) * 2  ){
				    ans += hm;				 
				 }
				 if( acu == sum / 3) ++hm;
		}
	}
	printf("%I64d\n",ans);
}
