#include <iostream>
using namespace std;
long long a[100001]={0},b,c,d=0,e[100001]={0},f,g=0,h=0;
int main()
{
    int n;
    cin>>n;
    for (c=1;c<=n;c++){cin>>a[c];d+=a[c];}
    f=d/3;
    if (3*f!=d){cout<<0;return 0;}
    d=0;
    for (c=1;c<=n;c++){d+=a[c];e[c]=(f==d)+e[c-1];}
    d=0;
    for (c=n;c>2;c--){
        d+=a[c];
        if (d==f){
           g = 1;
           h+=g*e[c-2];}}
    cout<<h;
    return 0;
}
