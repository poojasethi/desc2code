#include <bits/stdc++.h>
#define maxn 200009
using namespace std;
int a[maxn],sum[maxn],n;
map<int,int>mp;
int main()
{
	__int64 ans=0;
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i]),sum[i]=sum[i-1]+a[i],mp[sum[i]]++;
	if(sum[n]%3!=0||n<3)
	{
		printf("0");
		return 0;
	}
	mp[sum[n]]--;
	for(int i=1;i<n-1;i++)
	{
		mp[sum[i]]--;
		if(sum[i]*3==sum[n])
		{
			ans+=mp[sum[i]*2];
		}
	}
	printf("%I64d\n",ans);
	//system("pause");
	return 0;
}