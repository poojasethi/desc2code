#include <bits/stdc++.h>
using namespace std;

int n;


int main()
{
   scanf("%d",&n);
  vector <int> v(n+1);
  vector <int> sum(n+2,0);
  long long s=0;
 for (int i=1;i<=n;i++)
 {
   cin>>v[i];
   s+=v[i];
 }
 if (s%3!=0) {
    cout<<0;
    return 0;
 }
 s/=3;
 long long tp=0;
 for (int i=1;i<=n;i++)
 {
   tp+=v[i];
   if (tp==s) sum[i]=1;
   sum[i]+=sum[i-1];
 }
 tp=0;
 long long ans=0;
 for (int i=n;i>1;i--)
 {
  tp+=v[i];
  if (tp==s) {
    ans+=sum[i-2];
  }
 }
 cout<<ans;
}
