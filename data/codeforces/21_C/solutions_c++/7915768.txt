#include <iostream>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#define maxn 500005
#define LL long long
using namespace std;
LL a[maxn];
int main()
{
    LL n,tmp;
    LL ans=0;
    scanf("%I64d",&n);
    for(int i=1;i<=n;i++){
        scanf("%I64d",&tmp);
        a[i]=a[i-1]+tmp;
    }
    for(int i=1,tmp=0;i<=n;i++){
        if(i>1&&i<n&&a[i]*3==a[n]*2) ans+=tmp;
        if(a[i]*3==a[n]) tmp++;
    }
    printf("%I64d\n",ans);

    return 0;
}