#include <iostream>
using namespace std;
int a[100010];
int main()
{
	int n,i,t,s1,s2;
	long long sum1=0,sum2=0;
	cin>>n;
	cin>>a[0];
	for(i=1;i<n;i++)
	{
		cin>>t;
		a[i] = t+a[i-1];
	}
	if(a[n-1]%3!=0) cout<<"0"<<endl;
	else
	{
		s1=a[n-1]/3;
		s2=s1*2;
		if(s1!=0)
		{
			for(i=0;i<n;i++)
			{
				if(a[i]==s1) sum1++;
				else if(a[i]==s2)
				{
					sum2+=sum1;
				}
			}
			cout<<sum2<<endl;
		}
		else
		{
			for(i=0;i<n;i++)
				if(a[i]==0) sum1++;
			sum1 = sum1-2;
			cout<<sum1*(sum1+1)/2<<endl;
		}
	}
}
 				 	  	 			 				   				