#include <cstdio>
#define sc scanf
#define pr printf

const int N = 101010;
int n, a[N]; long long s, l, r, c;

int main() {
	sc("%d", &n);
	for (int i = 0; i < n; i++) {
		sc("%d", a + i);
		s += a[i];
	}

	if (s % 3 != 0) {
		printf("0\n");
		return 0;
	}

	s /= 3;
	for (int i = 0; i < n - 1; i++) {
		c += a[i];
		if (c == 2 * s)
			r += l;
		if (c == s)
			l++;
	}
	
	printf("%I64d", r);

	return 0;
}	

