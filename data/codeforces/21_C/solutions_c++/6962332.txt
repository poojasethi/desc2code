#include <cstdio>
int a[100010];
int main(){
    int n;
    long long sum = 0;
    scanf("%d",&n);
    for(int i = 0;i < n;i++)    scanf("%d",&a[i]),sum += a[i];
    if(sum%3){
        puts("0");
        return 0;
    }
    sum /= 3;
    long long tmp = 0,dp = 0,ans = 0;
    for(int i = 0;i < n-1;i++){
        tmp += a[i];
        if(tmp == 2*sum)  ans += dp;
        if(tmp == sum)    dp++;
    }
    printf("%I64d\n",ans);
    return 0;
}

		 		  	 		     	 	 		 		