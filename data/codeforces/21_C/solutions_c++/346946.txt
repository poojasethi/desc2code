#include<cstdio>

#define	rep(i,n)	for(int i=0;i<n;i++)

using namespace std;

typedef	long long	ll;

int main(){
	int n,a[100000],sum=0;	scanf("%d",&n);
	rep(i,n){ scanf("%d",a+i); sum+=a[i]; }

	if(sum%3!=0){ puts("0"); return 0; }

	sum/=3;
	int rcnt[100000];
	for(int i=n-1,psum=0;i>=0;i--){
		psum+=a[i];
		rcnt[i]+=(i<n-1?rcnt[i+1]:0)+(psum==sum);
	}

	ll ans=0;
	for(int i=0,psum=0;i<n-2;i++){
		psum+=a[i];
		if(psum==sum)	ans+=rcnt[i+2];
	}
	printf("%I64d\n",ans);

	return 0;
}
