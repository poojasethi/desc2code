//BISMILLAHIR RAHMANIR RAHIM
#include<stdio.h>
#define S 100005
int num[S][2],a[S];
int main()
{
	__int64 ans;
	int n,i,b,c,sum=0;
	scanf("%d",&n);
	for(i=0;i<n;i++)
		scanf("%d",&a[i]),sum+=a[i];
	if(sum%3==0&&n>=3)
	{
		sum/=3;
		for(i=b=c=0;i<n;i++)
		{
			b+=a[i],c+=a[n-i-1];
			num[i][0]=b==sum?1:0;
			num[n-i-1][1]=num[n-i][1]+(c==sum);
		}
		for(i=ans=0;i<n-2;i++)
			ans+=(num[i][0]*num[i+2][1]);
	}
	else
		ans=0;
	printf("%I64d\n",ans);
	return 0;
}