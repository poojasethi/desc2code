#include<stdio.h>
long long arr[100008]={0},sum[100008]={0},ans=0,cur=0,sd1=0,sd2=0,n,i;
int main()
{
  scanf("%d",&n);
  for(i=1;i<=n;i++)
  {
    scanf("%lld",&arr[i]);
    sum[i]=sum[i-1]+arr[i];
  }
  if(sum[n]%3!=0) {printf("0"); return 0;}
  sd1=sum[n]*1/3;
  sd2=sum[n]*2/3;
  //printf("%lld %lld ",sd1,sd2);
  for(i=1;i<n;i++)
  {
    //printf("%d ",sum[i]);
    if(sum[i]==sd2) ans+=cur;
    if(sum[i]==sd1) cur++;
  }
  printf("%lld",ans);
return 0;
}
