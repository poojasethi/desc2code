n = int(raw_input())
s = raw_input().split()
for i in range(n):
	s[i] = int(s[i])
tot = sum(s)
if tot % 3 != 0:
	print 0
	exit()

tot /= 3
x = y = 0
p = []
q = []
for i in range(n):
	x += s[i]
	y += s[-i-1]
	if x == tot:
		p.append(i)
	if y == tot:
		q.append(n-i-1)
ans = 0
i = len(q)
for x in p:
	while i > 0 and q[i-1] <= x+1:
		i -= 1
	ans += i
print ans

