n=input()
c={}
a=map(int,raw_input().split())
w,s,t=0,sum(a),0
for x in a[:-1]:
  v=s-t-x
  if v+v==t+x:w+=c.get(v,0)
  t+=x
  c[t]=c.get(t,0)+1
print (0,w)[n>2]
