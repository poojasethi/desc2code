n = int(raw_input())
inp = map(int, raw_input().split())
soma = sum(inp)

if (soma%3) != 0:
    print 0
elif (not any(inp)):
    print (n-1)*(n-2)/2
else:
    soma = soma/3
    res = 0
    prim = 0
    aux = 0
    prim_aux = 0 

    for n in inp:
        aux += n
        if (aux == 2*soma):
            res += prim
            prim_aux = prim
        if (aux == soma):
            prim += 1

    if soma == 0:
        res -= prim_aux

    print res