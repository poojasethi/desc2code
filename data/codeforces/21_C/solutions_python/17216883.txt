n = int(raw_input())
a = map(int, raw_input().split())

s = sum(a)

if s % 3 != 0:
    print 0
else:
    
    s1 = s / 3
    s2 = s1 * 2
    
    n1, n2, curr = 0, 0, 0
    for x in a[:-1]:
        curr += x
        
        if curr == s2:
            n2 += n1
            
        if curr == s1:
            n1 += 1
            
    print n2