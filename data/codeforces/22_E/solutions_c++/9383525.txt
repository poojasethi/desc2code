#include <cstdio>
#include <vector>

using namespace std;

#define N 100001

int in[N], col[N];
vector<int> adj[N], beg, end;

int dfs(int p)
{
    col[p] = 1;
    int v = adj[p][0];
    if (!col[v])
    {
        col[p] = 1;
        dfs(v);
    }
    else
        col[p] = 1;
}

int main()
{
    int n, a;
    while(~scanf("%d", &n))
    {
        for (int i = 1; i <= n; ++i)
        {
            scanf("%d", &a);
            in[a]++;
            adj[i].push_back(a);
        }

        int k = 0;
        for (int i = 1; i <= n; ++i)
        {
            if (!in[i])
            {
                beg.push_back(i);
                end.push_back(dfs(i));
                ++k;
            }
        }
        int t = k;
        for (int i = 1; i <= n; ++i)
        {
            if (!col[i])
            {
                beg.push_back(i);
                end.push_back(dfs(i));
                ++k;
            }
        }
        if (k == 1 && t == 0) k = 0;
        printf("%d\n", k);
        for (int i = 0; i < k; ++i)
            printf("%d %d\n", end[i], beg[(i+1)%k]);
    }
    return 0;
}

 	 		  	 		 	 		       	   		