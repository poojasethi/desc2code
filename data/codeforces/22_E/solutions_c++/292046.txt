#include <cstdio>
#include <cstring>

const int maxn = 100005;

int next[maxn] , d[maxn] , mat[maxn][2] , n;
bool visit[maxn];

void init() {
    scanf( "%d" , &n );
    for ( int i = 1; i <= n; i++ ) {
        scanf( "%d" , &next[i] );
        d[next[i]]++;
    }
}

int find( int x ) {
    while (1) {
        visit[x] = 1;
        x = next[x];
        if ( visit[x] ) break;
    }
    return x;
}

void work() {
    int t1 = 0 , t2 = 0 , t = 0;
    for ( int i = 1; i <= n; i++ ) {
        if ( !d[i] ) {
            t1++;
            mat[t][0] = i;
            mat[t++][1] = find(i);
            d[i] = -1;
        }
    }
    for ( int i = 1; i <= n; i++ ) {
        if ( !visit[i] ) {
            t2++;
            mat[t][0] = i;
            mat[t++][1] = find(i);
        }
    }
    if ( !t1 && t2 == 1 ) printf( "0\n" );
    else {
        printf( "%d\n" , t );
        for ( int i = 0; i < t-1; i++ ) printf( "%d %d\n" , mat[i][1] , mat[i+1][0] );
        printf( "%d %d\n" , mat[t-1][1] , mat[0][0] );
    }
}

int main() {
    init();
    work();
    return 0;
}
