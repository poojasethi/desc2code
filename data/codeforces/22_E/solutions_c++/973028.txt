#include <iostream>
#include <cstdio>
#include <vector>
using namespace std;
#define FOR(i,a,b) for(i=a;i<=b;i++)

int vis[100010],f[100010],a[100010],d[100010];
vector< int > ans1,ans2;
int n,m,i;

int dfs(int x){
        if (f[x]) return f[x];
        if (vis[x]) return 0;
        vis[x]=1;
        f[x]=dfs(a[x]);
        if (!f[x]) f[x]=x;
        return f[x];
}

int main(){
        scanf("%d",&n);
        FOR(i,1,n) {scanf("%d",&a[i]);d[a[i]]++;}
        FOR(i,1,n) if (!d[i]||!vis[i]) dfs(i);
        FOR(i,1,n) if (!d[i]) {
                ans1.push_back(i),ans2.push_back(f[i]);
                vis[f[i]]=2;
        }
        FOR(i,1,n) if (f[i]==i&&vis[i]<2) ans1.push_back(i),ans2.push_back(i);
        m=ans1.size();
        if (m==1&&ans1[0]==ans2[0]) m=0;
        printf("%d\n",m);
        FOR(i,0,m-1) printf("%d %d\n",ans2[i],ans1[(i+1)%m]);
}
