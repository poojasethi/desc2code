#include<cstdio>
#include<cstring>
#include<iostream>
#include<vector>
using namespace std;
#define N 100005
bool vis[N],used[N];
int to[N];
int tp[N];
int n;
int du[N];
vector<int>ai,ao;
void dfs(int x)
{
    vis[x]=true;
    if(!vis[to[x]]) dfs(to[x]);
    tp[x]=tp[to[x]];
    if(tp[x]==0) tp[x]=x;
}
int main()
{
    int i,j;
    cin>>n;
    for(i=1;i<=n;i++)
    {
        cin>>to[i];
        du[to[i]]++;
    }
    for(i=1;i<=n;i++)
      if(!vis[i]) dfs(i);
    for(i=1;i<=n;i++)
    {
        if(du[i]==0)
        {
            ai.push_back(i);
            ao.push_back(tp[i]);
            used[tp[i]]=true;
        }
    }
    int si=ai.size();
    for(i=1;i<=n;i++)
    {
        if(tp[i]==i&&!used[i])
        {
            ai.push_back(i);
            ao.push_back(tp[i]);
        }
    }
    if(si==0&&ai.size()==1) 
    {
        cout<<0<<endl;
    }
    else
    { 
       int m=ai.size();
       cout<<m<<endl;
       for(i=0;i<m;i++){
            cout<<ao[i]<<" "<<ai[(i+1)%m]<<endl;
        }
    }
   // while(1);
}
    
    
    
    
    
