#include<iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
#include<cctype>
#include<cstdlib>
#include<cstring>
#include<stack>
#include<queue>
#include<map>
#include<vector>
#define LIM 100005
#define F first
#define S second
#define pb push_back
#define _n cout<<endl
using namespace std;
int n;
int tc,comp[LIM],adj[LIM],v[LIM],s[LIM],e[LIM],cl[LIM],in[LIM];


int main()
{
    cin>>n;
    for(int i=0; i<n; i++)
    {
        int u;
        cin>>u;
        adj[i+1]=u;
        in[u]++;
    }
    int nd=0;
    for(int i=1; i<=n; i++)
        if(in[i]==0)
        {
            int cn=i;tc++;s[tc]=i;
            while(v[cn]==0)v[cn]=1,cn=adj[cn],nd++,e[tc]=cn;

        }
        for(int i=1;i<=n;i++)if(v[i]==0){
               int cn=i;tc++;s[tc]=i;
              while(v[cn]==0)v[cn]=1,cn=adj[cn],e[tc]=cn;

        }
//    if(nd!=n)tc++;
    if(nd==0 && tc==1)cout<<0<<endl;
    else
    {
        cout<<tc<<endl;
        cout<<e[1]<<" "<<s[tc]<<endl;
        for(int i=2;i<=tc;i++)cout<<e[i]<<" "<<s[i-1]<<endl;
    _n;
    }

    return 0;
}

