#include <cstdio>
#include <cstdlib>
#include <vector>
#include <iostream>
#include <algorithm>
#include <cctype>
#include <cstring>
#include <string>
#define N 100100
using namespace std;
int a[N], called[N], vis[N];
int callin[N], callout[N], asd[N], recall[N];
int top, n;

void dfs(int x)
{
	vis[x] = true;
	if (!vis[a[x]])  dfs(a[x]);
	asd[x] = asd[a[x]];
	if (asd[x] == 0) asd[x] = x;
}

int main()
{
	int i, j;
	scanf("%d", &n);
	for (i = 1; i <= n; i++)
	{
		scanf("%d", &a[i]);
		called[a[i]] = true;
	}
	for (i = 1; i <= n; i++)
	if (!vis[i]) dfs(i);
	for (i = 1; i <= n; i++)
	if (!called[i])
	{
		++top;
		callin[top] = i;
		callout[top] = asd[i];
		recall[asd[i]] = true;
	}
	int top2 = top;
	for (i = 1; i <= n; i++)
	if (i == asd[i] && !recall[i])
	{
		top++;
		callin[top] = callout[top] = i;
	}
	if (top == 1 && top2 == 0)  top = 0;
	printf("%d\n", top);
	for (i = 1; i <= top; i++)
		printf("%d %d\n", callout[i], callin[i % top + 1]);
	return 0;
}
