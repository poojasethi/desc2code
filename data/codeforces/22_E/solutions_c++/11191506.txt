#include <bits/stdc++.h>

using namespace std;
const char FIN[] = "scheme.i2";
const char FOU[] = "scheme.o2";
const int MAXN = 100005;
int call[MAXN], degin[MAXN], s[MAXN], f[MAXN],visited[MAXN], n, k;

void DFS(int u){
    if(f[u]) return;
    if(visited[u]){ f[u] = u; return;}
    visited[u] = 1;
    DFS(call[u]);
    f[u] = f[call[u]];
    return;
}

int main()
{
    #ifndef ONLINE_JUDGE
    freopen(FIN,"r",stdin);
    freopen(FOU,"w",stdout);
    #endif // ONLINE_JUDGE
    scanf("%d",&n);
    memset(call,0,sizeof call);
    memset(degin,0,sizeof degin);
    for(int i = 1; i <= n; i++){
        scanf("%d",&call[i]);
        degin[call[i]]++;
    }
    memset(visited,0,sizeof visited);
    memset(f,0,sizeof f);
    k = 0;
    for(int i = 1; i <= n; i++)
    if(!degin[i]){
        DFS(i);
        s[k++] = i;
    }
    for(int i = 1; i <= n; i++)
    if(!visited[i]){
        DFS(i);
        s[k++] = i;
    }
    if(k==1 && s[0]==f[s[0]]) cout<<"0\n";
    else{
        cout<< k <<endl;
        for(int i = 0; i < k; ++i)
            cout<<f[s[(i+1) % k]]<<" "<<s[i%k]<<endl;
    }
    return 0;
}
