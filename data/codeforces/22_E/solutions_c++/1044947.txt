#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>
#include <map>
#include <set>
#include <algorithm>
#include <cmath>
#include <ctime>
#include <cstdlib>
#include <queue>

#define LL long long
#define mp(x, y) make_pair(x, y)
#define pb(x) push_back(x)
#define size(S) S.size()
#define PII pair<int, int>
#define PID pair<int, double>

using namespace std;

const int maxn = 100010;
int n, m, f[maxn], S[maxn], T[maxn], cnt;
bool v[maxn], d[maxn];

void dfs(int x){
	v[x] = true;
	if (v[f[x]]) T[cnt++] = x; else dfs(f[x]);
}

int main(){
	cin.sync_with_stdio(false);
	cin >> n;
	for (int i = 1; i <= n; i++) cin >> f[i], d[f[i]] = true;
	for (int i = 1; i <= n; i++)
		if (!v[i] && !d[i]) S[cnt] = i, dfs(i);
	bool flag = cnt == 0;
	for (int i = 1; i <= n; i++)
		if (!v[i]) S[cnt] = i, dfs(i);

	if (cnt == 1 && flag) cnt = 0;
	cout << cnt << endl;
	for (int i = 0; i < cnt; i++)
		cout << T[i] << ' ' << S[(i + 1) % cnt] << endl;
	return 0;
}
