#include <bits/stdc++.h>
using namespace std;
#define vi vector<int>
#define pii pair<int,int>
#define pb push_back
#define mp make_pair
#define all(x) x.begin(),x.end()
#define inf 1000000007
#define mod 1000000007
#define x first
#define y second
#define DBG(x) cerr<<(#x)<<"="<<x<<"\n";
#define FOREACH(it,x) for(__typeof(x.begin()) it=x.begin();it!=x.end();it++)
#define ll long long
#define N 100005

pii p[N];vi g[N];
int n,c[N];
bool ok(int x,pii a){
    return x>=a.x&&x<=a.y;
}
void fill(int u,int co){
    if(c[u]==co)return;
    if(c[u]==3-co){
        puts("IMPOSSIBLE");exit(0);
    }
    c[u]=co;
    for(int i=0;i<g[u].size();i++)fill(g[u][i],3-co);
}
bool run(int l,int r){
    if(l<0||r<0)return 0;
    for(int i=0;i<n;i++){
        if(!ok(l,p[i])&&!ok(r,p[i]))return 0;
        if(!ok(l,p[i])){
            fill(i,2);
        }
        else if(!ok(r,p[i]))fill(i,1);
    }
    for(int i=0;i<n;i++){
        if(!c[i])fill(i,1);
    }
    puts("POSSIBLE");
    printf("%d %d\n",l,r);
    for(int i=0;i<n;i++)printf("%d",c[i]);
    puts("");
    return 1;
}
int main()
{
    int T,i,j,k,m;
    //clock_t start=clock();
    int t;
    cin>>t>>T;
    scanf("%d%d",&n,&m);
    for(i=0;i<n;i++){
        scanf("%d%d",&p[i].x,&p[i].y);;
    }
    for(i=0;i<m;i++){
        scanf("%d%d",&j,&k);
        j--,k--;
        g[j].pb(k),g[k].pb(j);
    }
    int l=-1,r=inf;
    for(i=0;i<n;i++)l=max(l,p[i].x),r=min(r,p[i].y);
    if(l+r<t){l=t-r;}
    else if(l+r>T){r=r=T-l;}
    if(!run(r,l))puts("IMPOSSIBLE");
    //cout<<(clock()-start)/CLOCKS_PER_SEC*1000<<"ms\n";
    return 0;
}