#include <cstdio>
#include <cstring>
#include <algorithm>
#define FOR(i,s,e) for (int i=(s); i<(e); i++)
#define FOE(i,s,e) for (int i=(s); i<=(e); i++)
#define LLD long long
#define N 100005
using namespace std;

int n, m, a[N], cnt[N], suf[N], b[N];
LLD MOD = 1000000007, ret;

LLD modexp(int x, int n){
	LLD r = 1;
	for (LLD i=x; n; n>>=1, i=i*i%MOD)
		if (n & 1) r = r * i % MOD;
	return r;
}


LLD Count(int n, int a[]){
	if (!n) return 0;
	LLD ret = 1;
	for (int i=n-1, prev=0; i>=0; i--){
		ret = (ret * modexp(i + 1, suf[a[i]] - prev)) % MOD;
		prev = suf[a[i]];
	}
	return ret;
}

int main(){
	scanf("%d", &n);
	FOR(i,0,n) scanf("%d", &a[i]), ++cnt[a[i]];
	for (int i=100000; i>=0; i--) suf[i] = suf[i+1] + cnt[i];
	FOE(i,1,100000){
		m = 0;
		for (int j=1; j*j<=i; j++) if (i % j == 0){
			b[m++] = j;
			if (j * j < i) b[m++] = i / j;
		}
		sort(b, b + m);
		ret = (ret + Count(m, b) - Count(m - 1, b) + MOD) % MOD;
	}
	printf("%d\n", (int)ret);
	return 0;
}
