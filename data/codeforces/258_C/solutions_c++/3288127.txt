#include <iostream>
#include <algorithm>
#include <cmath>
#include <vector>

#define rep(i,n) for(int i=0;i<n;i++)
#define mod      1000000007
#define ll       long long

using namespace std;

int n,m,x,j,c[100010];
long long res,ans;
vector<int> p;

ll power(ll x,ll y){
  ll res = 1;
  while(y){
    if(y&1)res = res*x%mod;
    x = x*x%mod;
    y >>= 1;
  }
  return res;
}

int main(){

  cin>>n; rep(i,n)cin>>x,c[x]++;
  for(int i=100000;i>=0;i--)c[i]+=c[i+1];

  for(int i=1;c[i];i++){
    p.clear();
    res = 1;
    for(j=1;j*j<i;j++)if(i%j==0){p.push_back(j);p.push_back(i/j);}
    if(j*j==i)p.push_back(j);
    sort(p.begin(),p.end());
    m = p.size();
    for(int j=1;j<m;j++){
      res = res * power(j,c[p[j-1]]-c[p[j]])%mod;
    }
    ans = (ans + res*(power(m,c[i])-power(m-1,c[i])))%mod;
  }
  cout<<(ans+mod)%mod<<endl;

  
}
