#include<cstdio>
#include<algorithm>
#include<cstring>
#include<vector>
#define MOD 1000000007
using namespace std;

int mx,len[100005],ans,a[100005];
vector<int> que[100005];
long long pow(long long x,int e)
{
    long long ans = 1;
    for(int i=1;i<=e;i<<=1)
    {
        if(e&i) ans = (ans*x)%MOD;
        x = (x*x)%MOD;
    }
    return ans;
}
int main()
{
    int i,j,t,n;
    scanf("%d",&n);
    for(i=1,mx=0;i<=n;i++)
    {
        scanf("%d",&a[i]);
        len[a[i]]++,mx = max(mx,a[i]);
    }
    for(i=1;i<=mx;i++)
        for(j=i;j<=mx;j+=i)
            que[j].push_back(i);
    for(i=1;i<=mx;i++)
        len[i] += len[i-1];
    long long k;
    for(ans=0,i=1;i<=mx;i++)
    {
        for(k=1,t=j=0;j<(int)que[i].size();j++)
        {
            int xx = len[que[i][j]-1];
            k = (k*pow(j,xx-t))%MOD;
            t = xx;
        }
        k = (k*(pow(que[i].size(),n-t)-pow(que[i].size()-1,n-t)+MOD))%MOD;
        ans = (ans+k)%MOD;
    }
    printf("%d\n",ans);
    return 0;
}






