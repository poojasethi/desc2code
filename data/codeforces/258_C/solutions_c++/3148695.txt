#include <iostream>
#include <algorithm>
using namespace std;
typedef long long LL;
const int N=100100,M=1000000007;
LL pr(LL x,LL p){
  LL t=1;
  while(p>0){
    if(p&1)t=t*x%M;
    x=x*x%M;
    p>>=1;
  }
  return t;
}
int main(void) {
  int n,a[N]={N},d[N],c[N],t=0;
  cin>>n;
  for(int i=1;i<=n;++i)cin>>a[i],t=max(t,a[i]);
  sort(a,a+n+1);
  LL s=0;
  for(int x=1;x<=t;++x){
    int k=0;
    for(int i=1;i*i<=x;++i)if(0==x%i)d[k++]=i;
    for(int i=d[k-1]*d[k-1]==x?k-1:k;i-->0;)d[k++]=x/d[i];
    d[k]=t+1;
    LL y=1;
    for(int i=0;i<k;++i){
      int q=lower_bound(a,a+n+1,d[i+1])-lower_bound(a,a+n+1,d[i]);
      LL z=pr(i+1,q);
      if(i+1==k)(z-=pr(i,q)-M)%=M;
      y=y*z%M;
    }
    s=(s+y)%M;
  }
  cout<<s<<endl;
}