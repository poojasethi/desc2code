#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 100010
#define mo 1000000007
#define int64 long long
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,ans;
int tr[N],g[N],h[N];
inline void inc(int x) {
	for (;x<N;x+=x&-x) tr[x]++;
}
inline int cal(int x) {
	int an=0;
	for (;x;x-=x&-x) an+=tr[x];
	return an;
}
inline int64 pow(int64 x,int64 y) {
	int64 an=1;
	for (;y;y>>=1) {
		if (y&1) an=an*x%mo;
		x=x*x%mo;
	}
	return an;
}
int main() {
	scanf("%d",&n);
	For(i,1,n) scanf("%d",&k),inc(k);
	For(i,1,N-1) {
		int r=0;
		for (j=1;j*j<=i;j++) if (i%j==0) {
			g[++r]=j;
			if (j*j<i) g[++r]=i/j;
		}
		sort(g+1,g+r+1);
		For(j,1,r) h[j]=n-cal(g[j]-1);
		if (!h[r]) break;
		int an=1;
		for (j=r-1;j;j--) an=pow(j,h[j]-h[j+1])*an%mo;
		an=(pow(r,h[r])-pow(r-1,h[r]))*an%mo;
		ans=(ans+an)%mo;
	}
	if (ans<0) ans+=mo;
	printf("%d\n",ans);
	return 0;
}
