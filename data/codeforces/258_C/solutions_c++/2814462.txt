#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<iostream>
using namespace std;
typedef long long ll;
const ll m=1000000007;
const int N=100000;
int n,h[N+10],sum[N+10];
int l,a[2000];
ll powmod(ll a,ll n){
	ll y=1;
	while(n){ 
		if(n&1) y=y*a%m;
		n>>=1;
		a=a*a%m;
	} 
	return y;
}
int main()
{
	while(~scanf("%d",&n))
	{
		ll ans=0,tmp;
		memset(h,0,sizeof h);
		int x,mx=0;
		for(int i=0;i<n;i++){
			scanf("%d",&x);
			h[x]++;
			if(x>mx) mx=x;
		}
		for(int i=1;i<=mx;i++)
			sum[i]=sum[i-1]+h[i];
		for(int i=2;i<=mx;i++){
			l=0;
			tmp=1;
			for(int j=2;j*j<=i;j++)if(i%j==0){
				a[l++]=i/j;
				if(a[l-1]!=j) a[l++]=j;
			}
			a[l++]=i;
			sort(a,a+l);
			for(int j=1;j<l;j++)
				tmp=tmp*powmod(j+1,sum[a[j]-1]-sum[a[j-1]-1])%m;
			tmp=tmp*(powmod(l+1,n-sum[i-1])-powmod(l,n-sum[i-1]))%m;
			if(tmp<0) tmp+=m;
			ans+=tmp;
			if(ans>=m) ans-=m;
		}
		cout<<(ans+1)%m<<endl;
	}
	return 0;
}