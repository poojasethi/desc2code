#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int u=100010,mod=1000000007;
int a[u],b[u],c[u],n,m,t,i,j,k;
__int64 ans,now,temp;

void insert(int x)
{
	for(;x<=m;x+=x&-x) c[x]++;
}
int ask(int x)
{
	int y=0;
	for(;x;x-=x&-x) y+=c[x];
	return y;
}

int pow(int a,int b)
{
	int c=1;
	for(;b;b>>=1)
	{
		if(b&1) c=(__int64)c*a%mod;
		a=(__int64)a*a%mod;
	}
	return c;
}

int main()
{
	cin>>n;
	for(i=1;i<=n;i++) scanf("%d",&a[i]),m=max(m,a[i]);
	for(i=1;i<=n;i++) insert(a[i]);
	for(i=1;i<=m;i++)
	{
		for(j=1,t=0;j*j<=i;j++)
			if(i%j==0)
			{
				b[t++]=j;
				if(j*j!=i) b[t++]=i/j;
			}
		sort(b,b+t);
		b[t]=m+1; temp=1;
		for(j=1;j<=t;j++)
		{
			k=ask(b[j]-1)-ask(b[j-1]-1);
			now=pow(j,k);
			if(j==t) now-=pow(j-1,k);
			temp=temp*now%mod;
		}
		ans=(ans+temp)%mod;
	}
	cout<<(ans+mod)%mod<<endl;
	return 0;
}