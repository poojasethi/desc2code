#include<cstdio>
#include<algorithm>

using namespace std;

#define ll long long
#define MOD 1000000007ll

int a[100005],n;
int b[1005],m;

ll lpow(ll x, int y) {
    ll ret=1;
    while(y) {
        if(y&1) ret=(ret*x)%MOD;
        x=(x*x)%MOD;
        y>>=1;
    } return ret;
}

int main() {
    scanf("%d",&n);
    for(int i=0;i<n;++i) scanf("%d",a+i);
    sort(a,a+n);

    ll ans=0;

    for(int i=1;i<=a[n-1];++i) {
        m=0;
        for(int j=1;j*j<=i;++j) {
            if(i%j==0) {
                b[m++]=j;
                if(j*j!=i) b[m++]=i/j;
            }
        } sort(b,b+m);

        ll C=1,x;
        for(int j=0;j<m-1;++j) {
            ll cnt=lower_bound(a,a+n,b[j+1])-lower_bound(a,a+n,b[j]);
            C*=lpow(j+1,cnt),C%=MOD;
        } x=a+n-lower_bound(a,a+n,b[m-1]);
        
        ans+=(lpow(m,x)-lpow(m-1,x)+MOD)%MOD*C%MOD;
        ans%=MOD;
    } printf("%d",(int)ans);
    return 0;
}