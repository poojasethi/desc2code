#include <cstdio>
#include <cstring>
#include <algorithm>
#define mod 1000000007
using namespace std;


int n,maxn,ans=1;
int a[100005];
int fac[100005],tf;
int tmp;


int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		int x;
		scanf("%d",&x);
		a[x]++;
		if(x>maxn)maxn=x;
	}
	for(int i=maxn;i;i--)a[i]+=a[i+1];
	for(int ma=2;ma<=maxn;ma++)
	{
		tf=0;
		if(ma==6)
			ma=6;
		for(int i=1;i*i<=ma;i++)
		if(!(ma%i))
		{
			fac[++tf]=i;
			if(i^(ma/i))fac[++tf]=ma/i;
		}
		sort(fac+1,fac+tf+1);
		int pre=0,res=1,rec=1;
		for(int i=tf;i;i--)
		{
			int g=a[fac[i]],tmp=1;
			for(int p=g-pre,x=i;p;p/=2)
			{
				if(p&1)tmp=1ll*tmp*x%mod;
				x=1ll*x*x%mod;
			}
			res=1ll*res*tmp%mod;
			pre=g;
			if(i<=tf-1)rec=(1ll*rec*tmp)%mod;
		}
		int tmp=1;
		for(int p=a[fac[tf]],x=tf-1;p;p>>=1)
		{
			if(p&1)tmp=1ll*tmp*x%mod;
			x=1ll*x*x%mod;
		}
		rec=1ll*rec*tmp%mod;
 		(ans+=res-rec)%=mod;
		(ans+=mod)%=mod;
	}
	printf("%d\n",ans);
	return 0;
}