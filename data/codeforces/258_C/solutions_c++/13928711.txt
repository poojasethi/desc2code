#include<bits/stdc++.h>
#define st first
#define nd second
#define mp make_pair
#define pb push_back
#define endl '\n'
#define endll puts("")
#define mod 1000000007
#define mp3(x,y,z) mp(x,mp(y,z))
#define pii pair< int , int > 
using namespace std;
typedef long long ll;
const int N = 1e5+3;
ll n,m,i,j,k=1,l,s,t,tt,d,u,ii,jj,x,y,z,h[N],hh[N];
ll fe(ll a,ll b)
{
	if(!b)return 1;
	ll x=fe(a,b>>1);
	x*=x;x%=mod;
	if(b&1)x*=a;
	return x%mod;
}
int main()
{
	cin>>n;
	for(;i<n;i++)
		cin>>h[i];
	sort(h,h+n);
	i=n-1;
	for(j=N-1;j>0;j--)
	{
		while(i>=0 and h[i]==j)t++,i--;
		hh[j]=t;
	}
	for(i=N-1;i>1;i--)
	{
		if(!hh[i])continue;
		vector<ll> v;
		v.clear();
		for(j=k=1;j*j<i;j++)
			if(i%j==0)
			{v.pb(j);v.pb(i/j);}
		if(j*j==i)v.pb(j);
		u=v.size();
		sort(v.rbegin(),v.rend());
		s=t=hh[v[0]];
		for(j=1;j<u;j++)
		{			
			x=fe(u-j,hh[v[j]]-hh[v[j-1]]);
			k=k*x%mod;
		}
		x=(k*(fe(u,s)-fe(u-1,s)+mod)%mod)%mod;
		tt+=x;tt%=mod;
	}
	tt++;
	cout<<tt%mod<<endl;
}
