#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;

long long ans;
long long mod(long long a){
	return a%1000000007;
}
long long g(long long a,long long n){
	long long res=1;
	while(n){
		if(n&1)
			res=mod(res*a);
		a=mod(a*a);
		n>>=1;
	}
	return res;
}

int n;
int lim;
int a[100500];
vector<int> d[100500];
int c[100500];

int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++)
		scanf("%d",a+i);
	sort(a,a+n);
	for(int i=0;i<n;i++)
		c[a[i]]++;
	lim=a[n-1];
	for(int i=lim-1;i>0;i--)
		c[i]+=c[i+1];
	for(int i=1;i<=lim;i++)
		for(long long j=1;j*i<=lim;j++)
			d[i*j].push_back(i);
	for(int i=1;i<=lim;i++){
		long long res=1;
		for(int j=1;j<(int)d[i].size();j++){
			res=mod(res*(g(j,c[d[i][j-1]]-c[d[i][j]])));
		}
		long long res1=res;
		res=mod(res * g(d[i].size(),c[i]) );
		res1=mod(res1 * g(d[i].size()-1,c[i]) );
		res=mod(mod(res-res1)+1000000007);
		ans=mod(ans+res);
	}
	printf("%d\n",(int)ans);
}