#include <cstdio>
#include <algorithm>
using namespace std;
#define N 100010
#define Num 100000
#define Mod 1000000007
#define LL long long
LL n,m,a[N],ans[N],cnt[N],pos[N];
int h[N];

inline int calc(int x) {
  register int i,res=0;
  for (i=1;i*i<=x;i++) {
    if (x%i==0) {
      res+=h[i]!=x;
      h[i]=x;
      res+=h[x/i]!=x;
      h[x/i]=x;
    }
  }
  return res;
}

LL pow(LL x,LL y) {
	LL z=1;
	while (y) {
		if (y&1) z=z*x%Mod;
		x=x*x%Mod;
		y>>=1;
	}
	return z;
}

int main() {

  scanf("%I64d",&n);
  for (int i=0;i<n;i++) {
	  scanf("%I64d",a+i);
	}
	sort(a,a+n);

	LL top=1,res=0;
	for (int i=1;i<=Num;i++) ans[i]=1;
	for (int i=0;i<n;i++) {
		for (int j=top;j<=a[i];j++) {
			for (int k=1,l;(l=j*k)<=Num;k++) {
				ans[l]*=pow(cnt[l],i-pos[l]);
				ans[l]%=Mod;
				cnt[l]++;
				pos[l]=i;
			}
			res+=(pow(cnt[j],n-i)-pow(cnt[j]-1,n-i)+Mod)*ans[j];
			res%=Mod;
		}
		top=a[i]+1;
	}

	printf("%I64d\n",res);
  return 0;
}
