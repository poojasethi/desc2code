//#include <bits/stdc++.h>
#include <iostream>
#include <string.h>
#include <vector>
#include <stdio.h>
#include <algorithm>

#define f(x)  (x+100)%10

using namespace std;

const int mod = 1e9 + 7;
const int N = 1e5;
typedef long long ll;

int c[N + 5];
vector<int>yu[N + 5];

ll ksm(ll x, int k)
{
	ll ans = 1;
	while (k)
	{
		if (k & 1)
			ans = ans * x % mod;
		x = x * x % mod;
		k >>= 1;
	}
	return ans;
}

int main()
{
	int n;
	cin >> n;
	int ma = 0;
	while (n--)
	{
		int x;
		scanf("%d", &x);
		ma = max(x, ma);
		c[x]++;
	}
	for (int i = 1; i <= ma; i++)
	{
		c[i] += c[i - 1];
		for (int j = i; j <= ma; j += i)
			yu[j].push_back(i);
	}
	ll ans = 0;
	for (int i = 1; i <= ma; i++)
	{
		int len = yu[i].size();
		int cnt = c[ma] - c[i - 1];
		ll cur = (ksm(len, cnt) - ksm(len - 1, cnt) + mod) % mod;
		for (int j = 0; j + 1 < len; j++)
			cur = cur * ksm(j + 1, c[yu[i][j + 1] - 1] - c[yu[i][j] - 1]) % mod;
		ans = (ans + cur) % mod;
	}
	cout << ans << endl;
	return 0;
}

      						 			 				  	   		