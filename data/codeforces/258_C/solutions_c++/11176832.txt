#include<cstdio>
#include<algorithm>
#include<cstring>
#define M 1000000007
using namespace std;

int a[100000],p[100000],miu[100000];
long long ans[100000];
int b[1000];
bool f[100100];
long long fexp(int x,int n){
	if(n==0)return 1;
	long long t=fexp(x,n>>1);
	t*=t;t%=M;
	if(n&1)return (t*x)%M;else return t%M;
}
int main(){
	int n;scanf("%d",&n);
	for(int i=0;i<n;i++)scanf("%d",&a[i]);
	sort(a,a+n);
	for(int i=1;i<=a[n-1];i++){
		int t=0;
		for(int j=1;j*j<=i;j++)if(i%j==0){
			b[t++]=j;
			if(j*j!=i)b[t++]=i/j;
		}
		sort(b,b+t);
		int fst=0;ans[i]=1;
		for(int j=1;j<t;j++){
			int u=lower_bound(a,a+n,b[j])-a;
			ans[i]*=fexp(j,u-fst);ans[i]%=M;
			fst=u;
		}
		ans[i]*=(fexp(t,n-fst)-fexp(t-1,n-fst))%M;ans[i]%=M;
		ans[i]+=M;ans[i]%=M;
	}
	long long answ=0;
	for(int i=1;i<=a[n-1];i++)answ+=ans[i],answ%=M;
	printf("%I64d\n",answ);
	return 0;
}
   			  		  			 		 						  				