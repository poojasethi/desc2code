#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cstring>
#define MAX_N 100010
using namespace std;
typedef long long LL;
LL Max=0,n,ans;
LL a[MAX_N],b[MAX_N],c[MAX_N],m[MAX_N];
const int mod=1e9+7;
LL f(LL x,LL y){
    if(y==0)return 1;
    LL k=f(x,y/2);
    k*=k;
    k%=mod;
    if(y%2==1){
        k*=x;
        k%=mod;
    }
    return k;
}
int main()
{
    //freopen("in.txt","r",stdin);
    cin>>n;
    int x;
    for(int i=0;i<n;i++)
    {
        cin>>x;
        m[x]++;
        if(x>Max) Max=x;
    }
    for(int i=1;i<=Max;i++){
        m[i]+=m[i-1];
        a[i]=1;
    }
    for(int i=1;i<=Max;i++){
        for(int j=i;j<=Max;j+=i){
            a[j]=a[j]*f(c[j],m[i-1]-m[b[j]]);
            a[j]%=mod;
            b[j]=i-1;
            c[j]++;
        }
        ans+=a[i]*(f(c[i],n-m[b[i]])-f(c[i]-1,n-m[b[i]])+mod);
        ans%=mod;
    }
    cout<<ans<<endl;
    return 0;
}

  	 						  			 		 				 		 	  	