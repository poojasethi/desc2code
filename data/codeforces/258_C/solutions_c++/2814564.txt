#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
typedef long long ll;
const int t=111111;
const int mo=1000000007;
int a[t],g[t],p[t];
int quick(int a,int b){
	int ans=1;
	for (;b;b>>=1){
		if (b&1) ans=ans*ll(a)%mo;
		a=a*ll(a)%mo;
	}
	return ans;
}
int main(){
	int n,i,j,lst,cnt,now,ans;
	scanf("%d",&n);
	for (i=0;i<n;i++) scanf("%d",a+i);
	sort(a,a+n);
	ans=0;
	for (i=1;i<=a[n-1];i++){
		cnt=0;
		for (j=1;j*j<i;j++) if (i%j==0)
			p[cnt++]=j;
		if (j*j==i) p[cnt++]=j;
		for (j--;j;j--) if (i%j==0)
			p[cnt++]=i/j;
		lst=0;
		g[i]=1;
		for (j=0;j<cnt;j++){
			now=lower_bound(a,a+n,p[j])-a;
			g[i]=g[i]*ll(quick(j,now-lst))%mo;
			lst=now;
		}
		g[i]=g[i]*ll(quick(cnt,n-lst)-quick(cnt-1,n-lst)+mo)%mo;
		ans=(ans+g[i])%mo;
	}
	printf("%d\n",ans);
	return 0;
}
