#include<bits/stdc++.h>

using namespace std;

#define md 1000000007
#define N 100005

vector < long long > V;

int A[N],C[N],T[N],n,i,j;

long long s;

long long f(long long a, int b){

	long long t = 1;

	while(b){
		if(b&1) t *= a;
		a *= a;
		t %= md;
		a %= md;
		b >>= 1;
	
	}
	return t;
}
int main(){

	cin >> n;

	for(i=1;i<=n;i++){
		cin >> A[i];
	    C[ A[i] ]++;
	}

	for(i=100002; i ;i--){
	    s += C[i];
		T[i] = s;
	}

	for(s=1,i=2;i<100005;i++){

		if(!T[i])
			continue;

		for(j=1;j*j<=i;j++)
			if(i % j == 0){
				V.push_back(j);
				V.push_back(i/j);
			}

		if((j-1)*(j-1) == i)
			V.pop_back();
		sort(V.rbegin() , V.rend());
		long long x=1,q=V.size();

		for(j=1;j<V.size();j++){
			int a = V.size() - j;
		    int b = T[ V[j] ] - T[ V[j-1] ];

            x*=f(a,b);
			x %= md;
		}
		
		x=(x*( (f(q,T[V[0]])-f(q-1,T[V[0]] )+md)%md)%md);
		s += x;
		s %= md;
		V.clear();            
	}

	cout << s;
	return 0;
}
