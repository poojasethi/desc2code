#include<bits/stdc++.h>

using namespace std;

#define N 100005

vector < int > V[N];

map < int , unsigned > M[N];

map < int , unsigned > :: iterator it;

long long T[N],Mx[N],n,u,v,i;

void f(int x){

	int i;

	Mx[x] = 1;
	
	for(i=0;i<V[x].size();i++)
		if(!Mx[ V[x][i] ]){

			f(V[x][i]);

			if(M[ V[x][i] ].size() > M[x].size()){
				M[x].swap(M[ V[x][i] ]);
				T[x] = T[ V[x][i] ];
				Mx[x] = Mx[ V[x][i] ];
			}

			for(it = M[ V[x][i] ].begin();it != M[ V[x][i] ].end(); it++){

				M[x][ it -> first ] += it -> second;

			   if(M[x][ it -> first ] > Mx[x]){
					Mx[x] = M[x][ it -> first ];
					T[x] = it -> first;
				}

				else if(M[x][ it -> first ] == Mx[x])
					T[x] += it -> first;
			}
		}
}

int main(){

	cin >> n;

	for(i=1;i<=n;i++){
		cin >> u;
		M[i][ T[i] = u ] = 1;
	}

	for(i=n;--i;){
		cin >> u >> v;
		V[u].push_back(v);
		V[v].push_back(u);
	}

	f(1);

	for(i=1;i<=n;i++)
		cout << T[i] << " ";

	return 0;
}
