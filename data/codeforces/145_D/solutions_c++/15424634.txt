#include <cstdio>
#include <cstring>
#include <iostream>
using namespace std;
int n,i,j,k,x,l,a[100011],next[1011],t1,t2;
long long ans,s,l2,r2,d2,b[1011];
bool pp,p[1011];
int main()
{
	scanf("%d",&n);
	ans=1ULL*n*(n-1)*(n+1)/6*(n+2)/4;
	for (i=1;i<=n;++i)
	{
		scanf("%d",&a[i]);x=a[i];pp=true;
		while (x>0)
		{
			if (x%10!=4&&x%10!=7) pp=false;x/=10;
		}
		if (pp) ++l,b[l]=i;
	}
	for (i=1;i<=l;++i)
	{
		next[i]=-1;for (j=i+1;j<=l;++j) if (a[b[i]]==a[b[j]]) {next[i]=j;break;}
	}
	b[l+1]=n+1;
	for (j=1;j<=l;++j)
	{
		memset(p,0,sizeof(p));p[j]=true;s=0;
		for (i=j;i>=1;--i)
		{
			if (next[i]>j)
			for (k=next[i];k!=-1;k=next[k])
			{
				for (t1=k;t1>j;--t1) if (p[t1]) break;
				for (t2=k;t2<=l;++t2) if (p[t2]) break;
				p[k]=true;l2=b[t1];d2=b[k];r2=b[t2];
				if (l2>=b[j+1]) s+=(d2-l2)*(r2-d2)*(b[j+1]-b[j]);
				else s+=(r2-d2)*((b[j+1]-b[j]-1)*(b[j+1]-b[j]-2)/2+(d2-b[j])+(b[j+1]-b[j]-1)*(d2-b[j+1]+1));
			}
			ans-=s*(b[i]-b[i-1]);
		}
	}
	cout<<ans<<endl;
}
      	 	 	 		  			 		   				 	