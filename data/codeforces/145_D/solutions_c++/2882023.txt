#include<cstdio>
#include<set>
#include<iostream>
using namespace std;
const int MaxN=100011;
int n,m,w[MaxN],a[MaxN],next[MaxN];
long long ans;

bool check(int x)
{
    for (; x; x/=10)
        if (x%10!=4 && x%10!=7)
            return false;
    return true;
}

int main()
{
    cin>>n;
    for (int i=1; i<=n; i++)
    {
        scanf("%d",&w[i]);
        if (check(w[i]))
            a[++m]=i;
    }
    for (int i=1; i<=m; i++)
    {
        next[i]=MaxN;
        for (int j=i+1; j<=m; j++)
            if (w[a[i]]==w[a[j]])
            {
                next[i]=j;
                break;
            }
    }
    for (long long i=1; i<=n; i++)
        ans+=i*(i+1)/2*(n-i);
    for (int i=1; i<=m; i++)
    {
        set <int> H;
        H.insert(a[i]);
        H.insert(n+1);
        long long cnt=0;
        for (int j=i; j>=1; j--)
        {
            if (next[j]>i)
                for (int k=next[j]; k<=m; k=next[k])
                {
                    set<int>::iterator x,y;
                    x=y=H.insert(a[k]).first;
                    x--,y++;
                    if (*x==a[i])
                    {
                        cnt+=(long long)(a[i+1]-a[i])*(a[i+1]-a[i]+1)/2*(*y-a[k]);
                        cnt+=(long long)(a[i+1]-a[i])*(a[k]-a[i+1])*(*y-a[k]);
                    }
                    else
                        cnt+=(long long)(a[i+1]-a[i])*(a[k]-*x)*(*y-a[k]);
                }
            ans-=cnt*(a[j]-a[j-1]);
        }
    }
    cout<<ans<<endl;
    return 0;
}