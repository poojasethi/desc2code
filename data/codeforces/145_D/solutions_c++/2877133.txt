#include<cstdio>
#include<cstring>
#include<algorithm>
#include<vector>
#include<map>
#include<set>
#define fi first
#define se second
#define mp make_pair
#define pb push_back
using namespace std;
vector<int> l;
set<long long> s;
set<long long>::iterator p,q;
int n,a[100001],next[100001],i,j,k;
long long ans,d;
bool hs(int x)
{
	while(x>0)
	{
		if((x%10!=4)&&(x%10!=7)) return false;x/=10;
	}
	return true;
}
int main()
{
	scanf("%d",&n);
	ans=1ULL*n*(n-1)*(n+1)/6*(n+2)/4;
	for(i=0;i<n;i++)
	{
		scanf("%d",a+i);if (hs(a[i])) l.pb(i);
	}
	l.pb(n);
	for(i=0;i<l.size();i++)
	{
		next[i]=-1;
		for(j=i-1;j>=0;j--) if(a[l[j]]==a[l[i]])
		{
			next[i]=j;break;
		}
	}
	for(i=0;i<(int)l.size()-2;i++)
	{
		d=0;s.clear();s.insert(-1);
		for(j=i+1;j<l.size()-1;j++)
		{
			if(next[j]<=i) for(k=next[j];k>=0;k=next[k])
			{
				p=s.insert(l[k]).first;q=p;p--;q++;
				if(q==s.end()) d+=(l[k]-*p)*((l[i+1]-l[i])*(l[i+1]-l[i]+1)/2+(l[i+1]-l[i])*(l[i]-l[k]));
				else d+=(l[k]-*p)*(*q-l[k])*(l[i+1]-l[i]);
			}
			ans-=d*(l[j+1]-l[j]);
		}
	}
	printf("%I64d\n",ans);
}
