#include<bits/stdc++.h>
#define rep(i,A,B) for(int i=A;i<=B;i++)
#define dep(i,B,A) for(int i=B;i>=A;i--)
#define re(i,A) for(int i=0;i<(int)A;i++)
#define de(i,A) for(int i=A-1;~i;i--)
#define For(i,A,B) for(int i=A;i<B;i++)
#define mn 100011
#define inf 1000000
#define P 998244353
#define si(x) ((int)x.size())
#define pb push_back
#define mp make_pair
#define X first
#define Y second
#define fill(A,B) memset(A,B,sizeof(A))
#define MAX(A,B) A=max(A,B)
#define MIN(A,B) A=min(A,B)
using namespace std;
typedef long long ll;
typedef pair<int,int> pii;
template<class T>inline void R(T &xx){xx=0;char ch=getchar();bool F=0;while((ch<'0'||ch>'9')&&ch!='-')ch=getchar();if(ch=='-')F=1,ch=getchar();while(ch>='0'&&ch<='9')xx=xx+xx+(xx<<3)+ch-48,ch=getchar();if(F)xx=-xx;}

int n,a[mn],nxt[mn],tt,b[mn];set<int>s;
inline bool luck(int x){for(;x;x/=10)if(x%10!=4&&x%10!=7)return 0;return 1;}
int main(){
#ifndef ONLINE_JUDGE
    freopen("2.in","r",stdin);
//  freopen("2.out","w",stdout);
#endif
    R(n);ll ans=(unsigned long long)n*(n-1)/2*(n+1)/3*(n+2)/4;
    rep(i,1,n){R(a[i]);if(luck(a[i]))b[++tt]=i;}
    rep(i,1,tt)
        dep(j,i-1,1)if(a[b[j]]==a[b[i]]){nxt[j]=i;break;}
    rep(i,1,tt){
        ll d=0;s.clear();
        s.insert(b[i]),s.insert(n+1);
        dep(j,i,1){
            if(nxt[j]>i)for(int k=nxt[j];k;k=nxt[k]){
                set<int>::iterator l=s.insert(b[k]).X,r=l;
                l--;r++;
                if(*l==b[i])
                    d+=((ll)(b[i+1]-b[i])*(b[i+1]-b[i]+1)/2+(ll)(b[i+1]-b[i])*(b[k]-b[i+1]))*(*r-b[k]);
                else d+=(ll)(b[i+1]-b[i])*(b[k]-*l)*(*r-b[k]);
            }
            ans-=d*(b[j]-b[j-1]);
        }
    }cout<<ans<<endl;
    return 0;
}