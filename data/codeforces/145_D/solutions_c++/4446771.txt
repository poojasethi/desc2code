#include<cstring>
#include<cstdlib>
#include<set>
#include<cstdio>
#include<algorithm>
using namespace std;
int i,n,m,x,a[120000],t[120000],j,tot,next[120000],k;
set <long long>::iterator p,q;
long long ans,res;
set <long long> s;
int main(){
	scanf("%d",&n);
	for(i=1;i<=n;++i){
		scanf("%d",&x);
		t[i]=x;
		for(j=x;j;j/=10)if(j%10!=4 && j%10!=7)break;
		if(!j)a[++tot]=i;
	}
	for(i=1;i<=tot;++i){
		for(j=i+1;j<=tot;++j)if(t[a[i]]==t[a[j]])break;
		next[i]=j;
	}
	for(i=2;i<=tot;++i){
		res=0;
		s.clear();
		s.insert(a[i]-1);
		s.insert(n+1);
		for(j=i-1;j>=1;--j){
			if(next[j]>=i)
				for(k=next[j];k<=tot;k=next[k]){
					p=s.lower_bound(a[k]);
					q=p--;
					res+=(a[k]-*p)*(*q-a[k])*(a[i]-a[i-1]);
					if(*p==a[i]-1)
						res+=(a[i]-a[i-1])*(a[i]-a[i-1]-1)/2*(*q-a[k]);
					s.insert(a[k]);
				}
			ans-=res*(a[j]-a[j-1]);
		}
	}
	ans+=1ull*(n-1)*n*(n+1)/6*(n+2)/4;
	printf("%I64d\n",ans);
}
