#include<cstdio>
#include<set>
#include<map>
#include<vector>
using namespace std;
map<int,vector<int> > v;
int li[100005];
int a[100005];
long long ans;
int n,m;
int islucky(int x) 
{   while (x)
    {   if (x%10!=4&&x%10!=7)
            return 0;
        x/=10;
    }
    return 1;
}
long long work()
{   set<int>::iterator lp,p,rp;
    set<int> r,seq;
    vector<int> q;
    int i,j,k,x;
    long long sum;
    for (i=1;i<=m;++i) 
    {   r.clear();
        seq.clear();
        seq.insert(li[i]);
        seq.insert(n+1);
        sum=0;
        for (j=i;j>0;--j) 
        {   if (r.find(a[li[j]])==r.end()) 
            {   x=a[li[j]];
                r.insert(x);
                q=v[x];
                for (k=0;k<q.size();++k)
                    if (q[k]>li[i])
                    {   p=seq.insert(q[k]).first;
                        lp=rp=p;
                        --lp,++rp;
                        if (lp==seq.begin()) 
                        {   sum+=(long long)(li[i+1]-li[i])*(li[i+1]-li[i]-1)/2*(*rp-*p);
                            sum+=(long long)(li[i+1]-li[i])*(*p-li[i+1]+1)*(*rp-*p);
                        } 
                        else sum+=(long long)(li[i+1]-li[i])*(*p-*lp)*(*rp-*p);
                    }
            }
            ans-=(long long)(li[j]-li[j-1])*sum;
        }
    }
    return ans;
}
int main()
{   int i,j;
    long long fac[5];
    scanf("%d",&n);
    fac[1]=n-1,fac[2]=n,fac[3]=n+1,fac[4]=n+2;
    for (i=4;i>=2;--i) 
        for (j=1;j<=4;++j)
            if (fac[j]%i==0)
            {   fac[j]/=i;
                break;
            }
    ans=fac[1]*fac[2]*fac[3]*fac[4];
    for (i=1;i<=n;++i)
    {   scanf("%d",&a[i]);
        if (islucky(a[i])) 
        {   v[a[i]].push_back(i);
            li[++m]=i;
        }
    }
    printf("%I64d\n",work());
    return 0;
}
