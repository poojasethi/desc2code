#include<iostream>
using namespace std;

const int oo=1e5+100;
long long n,a[oo],sum[oo],ans=1e18+10;

int main(){
  cin>>n;
  for(int i=0;i<n;i++){
    cin>>a[i];
    if(i)
      sum[i]=sum[i-1]+a[i];
  }
  for(int i=1;i<n;i++)
    for(int j=max(0,i-3000);j<i;j++)
      ans=min(ans,(sum[i]-sum[j])*(sum[i]-sum[j])+(i-j)*(i-j));
  cout<<ans;
  return 0;
}
