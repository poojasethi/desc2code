#include <iostream>
#include <fstream>
#include <algorithm>
using namespace std;
const int N=100100;
int n;
long long a[N],z,s,t=200020000;
int main(){
    //freopen("inp.txt", "r", stdin);
    //freopen("out.txt", "w", stdout);
  cin>>n;
  for(int i=1,x;i<=n&&cin>>x;++i)a[i]=x+a[i-1];
  for(long long i=1;i<n;++i)
    if((z=i*i)<t){
      s=t;
      for(int j=i+1;j<=n;++j)
        s=min(s,abs(a[j]-a[j-i]));
      t=min(t,z+s*s);
    }
  cout<<t<<endl;
}
