#include<bits/stdc++.h>
using namespace std;
const int maxn=1e5+5;
typedef long long LL;
int n;
int a[maxn];
int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++){
		scanf("%d",&a[i]);
		a[i]+=a[i-1];
	}
	long long ans=1e18;
	for(int i=1;i<=n;i++){
		for(int j=i+1;j<=i+3000&&j<=n;j++){
			ans=min(ans,LL(i-j)*LL(i-j)+LL(a[j]-a[i])*LL(a[j]-a[i]));
		}
	}	
	cout<<ans<<endl;
	return 0;
}

	 		   		  	 	  	 			  			  	