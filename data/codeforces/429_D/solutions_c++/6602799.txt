#include<iostream>
#include<algorithm>
#include<cstdio>
#include<cstring>
using namespace std;
long long arr[100005];
long long n;
void read(){
	long long i;
	scanf("%lld",&n);
	for(i=1;i<=n;i++){
		scanf("%lld",&arr[i]);
		arr[i]+=arr[i-1];
	}
}
void solve(){
	long long i,j,res=100000000000000000LL;
	for(i=1;i<=n;i++)
		for(j=i-1;j>=max(i-2000,1LL);j--)
			res=min(res,(i-j)*(i-j)+(arr[i]-arr[j])*(arr[i]-arr[j]));
	printf("%lld\n",res);
}
int main(){
	read();
	solve();
	return 0;
}
