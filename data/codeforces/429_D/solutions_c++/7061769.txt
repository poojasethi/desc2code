#include<cstdio>
#include<algorithm>
#include<cstring>
#include <iostream>
#define LL __int64
#define INF 1000000000
using namespace std;
LL a[100100];
LL sum[100100];
LL lint(int x)
{
	return (LL)x;
}
int main() {
	LL n;
	LL ans=INF;
	sum[0]=0;
	scanf("%I64d",&n);
	for(LL i=1;i<=n;++i){
		scanf("%I64d",&a[i]);
		sum[i]=sum[i-1]+a[i];
	}
	LL cnt=2000;
	for(LL i=1;i<n;++i)
	{
		for(LL j=1;i+j<=n&&j<=cnt;++j)
		{
			LL tmp=(sum[j+i]-sum[i])*(sum[j+i]-sum[i]);
			//printf("%I64d %I64d %I64d\n",i,j,tmp);
			if(tmp+j*j<ans)
				ans=tmp+j*j;
		}
	}
	printf("%I64d\n",ans);
	return 0;
}

	 	 		 				 		 	 		  	 	  	