#include <iostream>
#include <cstdio>

using namespace std;

const int maxn = 1000 * 100 + 10;

int n, sum[maxn], a[maxn], ans = 10000 * 10000 + 10;

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(0);

	cin >> n;

	for (int i = 1; i <= n; ++i) {
		cin >> a[i];
		sum[i] = sum[i - 1] + a[i];
	}

	for (int i = 1; i <= n; ++i)
		for (int j = i + 1; j <= min(i + 10001, n); ++j)
			if (sum[j] - sum[i] <= 10001 && sum[j] - sum[i] >= -10001)
				ans = min(ans, (j - i) * (j - i) + (sum[j] - sum[i]) * (sum[j] - sum[i]));

	cout << ans;
	return 0;
}
