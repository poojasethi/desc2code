#include <iostream>

using namespace std;

long long m,n,a[100000+100],sum[100000+100];
int main()
{
    cin >> n; m=10000000000;
    for (int i=0;i<n;i++)
        cin >> a[i];
    sum[0]=a[0];
    for (int i=1;i<n;i++)
        sum[i]=sum[i-1]+a[i];
    for (int i=0;i<n;i++)
        for(int j=max(0,i-3000);j<i;j++)
            m=min(m,(sum[i]-sum[j])*(sum[i]-sum[j])+(i-j)*(i-j));
    cout << m;
}
