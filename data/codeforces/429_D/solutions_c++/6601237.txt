#include<bits/stdc++.h>
using namespace std;
long long a[100005],s[100005];
int main()
{
    //freopen("d.txt","r",stdin);
    int n,i,j;
    while(scanf("%d",&n)!=EOF){
        long long ans=0x7fffffff;
        memset(s,0,sizeof(s));
        for(i=1;i<=n;i++){
            scanf("%I64d",&a[i]);
            s[i]=s[i-1]+a[i];
            for(j=1;j<=1100;j++)
                if(i>j){
                    long long sum=j*j+(s[i]-s[i-j])*(s[i]-s[i-j]);
                    ans=min(ans,sum);
                }
        }
        printf("%I64d\n",ans);
    }
    return 0;
}
