#include<iostream>
using namespace std;

int N,M;
bool mark[1002][1002];
bool isv[1002][1002];

bool visited[1002][1002];

int gcd(int a, int b){
    if (a<0) a = -a;
    if (b<0) b = -b;
    while(a>0){
        int tmp = a;
        a = b%a;
        b = tmp;
    }
    return b;
}

void s(int i, int j){
    visited[i][j] = true;
    if (!visited[i+1][j] && mark[i+1][j]) s(i+1,j);
    if (!visited[i-1][j] && mark[i-1][j]) s(i-1,j);
    if (!visited[i][j+1] && mark[i][j+1]) s(i,j+1);
    if (!visited[i][j-1] && mark[i][j-1]) s(i,j-1);
}

bool isconnected(){
    bool f = true;
    for (int i=0;i<N+2 && f;i++){
        for (int j=0;j<N+2 && f;j++){
            if (mark[i][j]){s(i,j);f = false;}
        }
    }
    for (int i=0;i<N+2;i++) for (int j=0;j<N+2;j++){
        if (mark[i][j] && !visited[i][j]) return false;
    }
    return true;
}



int main(){
    cin>>N>>M;
    for (int i=0;i<N+2; i++) for (int j=0;j<N+2;j++) mark[i][j] = isv[i][j] = false;
    for (int i=1;i<=N;i++){
        for (int j=1;j<=M;j++){
            cin>>mark[i][j];
        }
    }
    int odd = 0;
    int num = 0;

    for (int i=1;i<=N;i++){
        for (int j=1;j<=M;j++){
            if (mark[i][j]){
                num++;
                if ((mark[i-1][j] || mark[i+1][j]) && (mark[i][j-1] || mark[i][j+1])){
                    isv[i][j] = true;
                }
                if (mark[i+1][j]^mark[i-1][j]^mark[i][j-1]^mark[i][j+1]){
                    isv[i][j] = true;
                    odd++;
                    if (odd>2){
                        cout<<"-1"; return 0;
                    }
                }
            }
        }
    }
    if (!isconnected() || num<2) {cout<<-1; return 0;}
    bool found = false;
    int x, y;
    int ans = 0;
    for (int i=1;i<=N;i++){
        for (int j=1;j<=M;j++){
            if (isv[i][j]){
                if (!found) {found = true;  x = i; y = j;}
                ans = gcd(ans,x-i);
                ans = gcd(ans,y-j);
            }
        }
    }
    if (ans==1) {cout<<"-1"; return 0;}
    for (int i=2;i<=ans;i++) if (ans%i==0) cout<<i<<" ";

}
