#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 1010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
const int a1[4]={1,-1,0,0},a2[4]={0,0,1,-1};
int i,j,k,n,m,g,sum,S,x,y;
int a[N][N],f[N][N],ff[N][N];
inline void work(int x,int y) {
	int i,s=0,b[4]={0};
	For(i,0,3) if (a[x+a1[i]][y+a2[i]]) s++,b[i]=1;
	if (s&&s!=2) f[x][y]=1,sum+=s&1;
	else if (s==2&&!((b[0]|b[1])^(b[2]|b[3]))) f[x][y]=1;
}
void dfs(int x,int y) {
	if (!(a[x][y]&&!ff[x][y])) return;
	int i;
	ff[x][y]=1;
	For(i,0,3) dfs(x+a1[i],y+a2[i]);
}
int main() {
	scanf("%d%d",&n,&m);
	For(i,1,n)For(j,1,m) {
		scanf("%d",&a[i][j]),S+=a[i][j];
		if (a[i][j]) x=i,y=j;
	}
	if (S==1) {
		int A=max(max(x-1,y-1),max(n-x,m-y));
		printf("-1\n"),exit(0);
		//if (A<2) printf("-1\n"),exit(0);
		For(i,2,A) printf("%d ",i);
		printf("\n"); //for(;;);
		exit(0);
	}
	S=0;
	For(i,1,n)For(j,1,m) if (!ff[i][j]&&a[i][j]) dfs(i,j),S++;
	if (S>1) printf("-1\n"),exit(0);
	For(i,1,n)For(j,1,m) if (a[i][j]) work(i,j);
	For(i,1,n) {
		for (j=1;j<=m&&!a[i][j];j++);
		for (;j<=m;) {
			for (k=j+1;k<=m&&a[i][k];k++) if (f[i][k]) g=__gcd(k-j,g),j=k;
			for (j++;j<=m&&!a[i][j];j++);
		}
	}
	For(i,1,m) {
		for (j=1;j<=n&&!a[j][i];j++);
		for (;j<=n;) {
			for (k=j+1;k<=n&&a[k][i];k++) if (f[k][i]) g=__gcd(k-j,g),j=k;
			for (j++;j<=n&&!a[j][i];j++);
		}
	}
	if ((!sum||sum==2)&&g>1) {
		For(i,2,g) if (g%i==0) printf("%d ",i);
		printf("\n");
	} else printf("-1\n");
	//for(;;);
	return 0;
}
