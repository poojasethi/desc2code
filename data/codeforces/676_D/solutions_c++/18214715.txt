#include <bits/stdc++.h>
using namespace std;

struct node {
	int x, y, s, d;
	node(int x, int y, int s, int d): x(x), y(y), s(s), d(d) {}
};

const int maxn = 1010;
// 上右下左四个方向的坐标变化 
const int dx[] = {-1, 0, 1, 0};
const int dy[] = {0, 1, 0, -1};
bool vis[maxn][maxn][5];
char G[maxn][maxn];
int n, m, sx, sy, tx, ty, b[150];
queue <node> q;

void init() {
	b['^'] = 1 << 0;
	b['>'] = 1 << 1;
	b['v'] = 1 << 2;
	b['<'] = 1 << 3;
	b['L'] = ~b['<'];
	b['R'] = ~b['>'];
	b['U'] = ~b['^'];
	b['D'] = ~b['v'];
	b['-'] =  b['<'] | b['>'];
	b['|'] =  b['^'] | b['v'];
	b['+'] =  b['|'] | b['-'];
}

void expand(node& u, int dir) {
	int x, y, s, d, i, j;
	if(dir == -1) {
		x = u.x;
		y = u.y;
		s = (u.s + 1) % 4;
		d = u.d + 1;
		if(vis[x][y][s]) {
			return;
		}
		q.push(node(x, y, s, d));
		vis[x][y][s] = true;
	}
	else {
		i = b[G[u.x][u.y]];
		j = 1 << ((dir - u.s + 4) % 4);
		if((i & j) == 0) {
			return;
		}
		x = u.x + dx[dir];
		y = u.y + dy[dir];
		s = u.s;
		d = u.d + 1;
		if(x < 1 || x > n || y < 1 || y > m) {
			return;
		}
		if(vis[x][y][s]) {
			return;
		}
		i = b[G[x][y]];
		j = 1 << ((dir + 2 - s + 4) % 4);
		if((i & j) == 0) {
			return;
		}
		q.push(node(x, y, s, d));
		vis[x][y][s] = true;
	}
} 

int bfs(node s) {
	q.push(s);
	while(!q.empty()) {
		node u = q.front();
		q.pop();
		if(u.x == tx && u.y == ty) {
			return u.d;
		}
		// -1表示旋转，0, 1, 2, 3表示上右下左四个方向 
		for(int i = -1; i < 4; i++) {
			expand(u, i);
		}
	}
	return -1;
}

int main() {
	init();
	scanf("%d%d", &n, &m);
	for(int i = 1; i <= n; i++) {
		scanf("%s", G[i] + 1);
	}
	scanf("%d%d%d%d", &sx, &sy, &tx, &ty);
	vis[sx][sy][0] = true;
	printf("%d\n", bfs(node(sx, sy, 0, 0)));
	return 0;
}