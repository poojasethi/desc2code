#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <cmath>
using namespace std;
int fx[4]={-1,0,1,0},fy[4]={0,1,0,-1};
int f[1002][1002][4],d[1002][1002][4],dx[4000005],dy[4000005],dz[4000005],
	i,j,k,n,m,s,t,x,y,z,xx,yy,sx,sy,tx,ty,ans=-1;
char c;
void add(int x,int y,int z,int w)
{
	d[x][y][z]=w;
	dx[++t]=x;dy[t]=y;dz[t]=z;
	if (x==tx && y==ty) ans=w;
}
void bfs()
{
	for (i=1;i<=n;++i)
		for (j=1;j<=m;++j)
			for (k=0;k<4;++k) d[i][j][k]=-1;
	dx[1]=sx;dy[1]=sy;dz[1]=0;d[sx][sy][0]=0;
	if (sx==tx && sy==ty) ans=0;
	for (s=t=1;s<=t && ans==-1;++s)
	{
		x=dx[s];y=dy[s];z=dz[s];
		if (d[x][y][(z+1)%4]==-1) add(x,y,(z+1)%4,d[x][y][z]+1);
		for (i=0;i<4;++i)
		if (f[x][y][(i-z+4)%4])
		{
			xx=dx[s]+fx[i];yy=dy[s]+fy[i];
			if (xx<=0 || xx>n || yy<=0 || yy>m) continue;
			if (d[xx][yy][z]==-1 && f[xx][yy][(i+6-z)%4]) add(xx,yy,z,d[x][y][z]+1);
		}
	}
}
int main()
{
		scanf("%d%d\n",&n,&m);
		for (i=1;i<=n;++i,scanf("\n"))
			for (j=1;j<=m;++j)
			{
				scanf("%c",&c);
				if (c=='+') f[i][j][0]=f[i][j][1]=f[i][j][2]=f[i][j][3]=1;
				else if (c=='-') f[i][j][1]=f[i][j][3]=1;
				else if (c=='|') f[i][j][0]=f[i][j][2]=1;
				else if (c=='^') f[i][j][0]=1;
				else if (c=='>') f[i][j][1]=1;
				else if (c=='<') f[i][j][3]=1;
				else if (c=='v') f[i][j][2]=1;
				else if (c=='L') f[i][j][0]=f[i][j][1]=f[i][j][2]=1;
				else if (c=='R') f[i][j][0]=f[i][j][2]=f[i][j][3]=1;
				else if (c=='U') f[i][j][1]=f[i][j][2]=f[i][j][3]=1;
				else if (c=='D') f[i][j][0]=f[i][j][1]=f[i][j][3]=1;
			}
		scanf("%d%d\n%d%d\n",&sx,&sy,&tx,&ty);
		bfs();
		printf("%d\n",ans);
}