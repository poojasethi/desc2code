#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<map>
#define nMax 1010
#define Max 1000010
#define INF 1000000000
using namespace std;
const int fw[4][2]={{-1,0},{0,1},{1,0},{0,-1}};
int n,m,sz[nMax][nMax][4],dis[nMax*nMax*4];
char Map[nMax][nMax];
map<char,int> M;
int getid(int a,int b,int c)
{
	int ls=(a-1)*m+b;
	return ls*4-3+c;
}
int sx,sy,ex,ey;
int gsb[4000000];
void bfs()
{
	int l=0,r=0;
	gsb[r++]=getid(sx,sy,0); dis[getid(sx,sy,0)]=0;
	while(l!=r)
	{
		int v=gsb[l++];
		int a,b,c;
		c=(v-1)%4;
		v=(v-c+3)/4;
		b=v%m;
		a=v/m+1;
		if(b==0) b=m,a--;
		for(int i=0;i<4;i++)
		{
			int lx=a+fw[i][0],ly=b+fw[i][1];
			if(lx<1||lx>n||ly<1||ly>m) continue;
				int ls=getid(lx,ly,c);
				if(dis[ls]!=INF) continue;
				int lj=(c+2)%4;
				if((sz[a][b][c]&(1<<i))&&(sz[lx][ly][lj]&(1<<i)))
				{
					dis[ls]=dis[getid(a,b,c)]+1;
					gsb[r++]=ls; r%=4000000;
				}
		}
			v=getid(a,b,c);
			int ls=(c+1)%4;
			int lv=getid(a,b,ls);
			if(dis[lv]!=INF) continue;
			dis[lv]=dis[v]+1;
			gsb[r++]=lv; r%=4000000;
	}
}
int main()
{
	M['+']=15;
	M['-']=10;
	M['|']=5;
	M['^']=1;
	M['>']=2;
	M['v']=4;
	M['<']=8;
	M['L']=7;
	M['R']=13;
	M['U']=14;
	M['D']=11;
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++)
	scanf("%s",Map[i]+1);
	for(int i=1;i<=n;i++) for(int j=1;j<=m;j++)
	{
		sz[i][j][0]=M[Map[i][j]];
		for(int k=1;k<4;k++)
		{
			sz[i][j][k]=(sz[i][j][k-1]<<1);
			if(sz[i][j][k]&(1<<4)) sz[i][j][k]|=1;
		}
	}
	for(int i=1;i<=n*m*4;i++) dis[i]=INF;
	scanf("%d%d%d%d",&sx,&sy,&ex,&ey);
	bfs();
	int Min=INF;
	for(int i=0;i<4;i++) Min=min(Min,dis[getid(ex,ey,i)]);
	if(Min==INF) printf("-1\n"); else printf("%d\n",Min);
	return 0;
}