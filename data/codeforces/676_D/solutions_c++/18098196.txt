#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#include<string.h>
#include<queue>
#include<stack>
using namespace std;
const int N=1008;
int n,m,a[N][N][4],b[N][N][4],flag[N][N][4];
int e[][2]={{-1,0},{0,1},{1,0},{0,-1}};
int sx,sy,fx,fy;
char str[N];
struct aa{int x,y,z;};
bool operator<(aa x,aa y){return b[x.x][x.y][x.z]>b[y.x][y.y][y.z];}
priority_queue<aa>d;
int minx(int x,int y){if(x<y)y=x;return y;}
int work(void)
{
	int k=999999999;
	for(int i=0;i<=3;i++)if(b[fx][fy][i]>=0&&b[fx][fy][i]<k)k=b[fx][fy][i];
	return k;
}
int main(void)
{
	//freopen("sduoj.in","r",stdin);
	int i,j;aa p,t;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)
	{
		scanf("%s",str+1);
		for(j=1;j<=m;j++)
		{
			if(str[j]=='+'||str[j]=='|'||str[j]=='^'||str[j]=='L'||str[j]=='R'||str[j]=='D')a[i][j][0]=1;
			if(str[j]=='+'||str[j]=='-'||str[j]=='>'||str[j]=='L'||str[j]=='U'||str[j]=='D')a[i][j][1]=1;
			if(str[j]=='+'||str[j]=='|'||str[j]=='v'||str[j]=='L'||str[j]=='R'||str[j]=='U')a[i][j][2]=1;
			if(str[j]=='+'||str[j]=='-'||str[j]=='<'||str[j]=='U'||str[j]=='R'||str[j]=='D')a[i][j][3]=1;
		}
	}
	scanf("%d%d%d%d",&sx,&sy,&fx,&fy);
	memset(b,-1,sizeof(b));
	b[sx][sy][0]=0;t.x=sx;t.y=sy;t.z=0;flag[sx][sy][0]=1;d.push(t);
	
	while(!d.empty())
	{
		t=d.top();d.pop();flag[t.x][t.y][t.z]=0;
		for(j=0;j<=3;j++)
		for(i=0;i<=3;i++)
		{
			p.x=t.x+e[i][0];p.y=t.y+e[i][1];
			if(a[t.x][t.y][(8+i-t.z-j)%4]&&a[p.x][p.y][(10+i-t.z-j)&3]&&(b[p.x][p.y][(t.z+j)&3]==-1||b[p.x][p.y][(t.z+j)&3]>b[t.x][t.y][t.z]+j+1))
			{
				p.z=(t.z+j)&3;
				b[p.x][p.y][p.z]=b[t.x][t.y][t.z]+j+1;
				if(flag[p.x][p.y][p.z]==0){d.push(p);flag[p.x][p.y][p.z]=1;}
			}
		}
	}
	if(b[fx][fy][0]<0&&b[fx][fy][1]<0&&b[fx][fy][2]<0&&b[fx][fy][3]<0)cout<<-1;
	else cout<<work();
	return 0;
}
