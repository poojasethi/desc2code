#include<bits/stdc++.h>
#define FOR(i,l,r) for (int i=l;i<=r;i++)
#define inf 100000000
using namespace std;
bool g[1001][1001][4];
int f[1001][1001][4],n,m,ans,xs,ys,xm,ym;
int h[4000001][4];
int const xx[4]={-1,0,1,0},yy[4]={0,1,0,-1}; 
bool check(int x1,int y1,int x2,int y2,int t1,int t2){
	int s1=(t2-t1<0)?t2-t1+4:t2-t1; t2^=2;
	int s2=(t2-t1<0)?t2-t1+4:t2-t1;
	return (g[x1][y1][s1]&&g[x2][y2][s2]);
} 
void bfs(){
	int l=0,r=1,nx,ny,nt,x,y,t;
	h[1][1]=xs; h[1][2]=ys; h[1][3]=0;
	while(l<r){
		x=h[++l][1]; y=h[l][2]; t=h[l][3];
		FOR(i,0,3){
			nx=x+xx[i]; ny=y+yy[i];
			if(nx==0||nx==n+1||ny==0||ny==m+1)continue;
			if(f[nx][ny][t]>f[x][y][t]+1&&check(x,y,nx,ny,t,i)){
				f[nx][ny][t]=f[x][y][t]+1;
				h[++r][1]=nx; h[r][2]=ny; h[r][3]=t;
			}
		}
		nt=t==3?0:t+1;
		if(f[x][y][nt]>f[x][y][t]+1){
			f[x][y][nt]=f[x][y][t]+1;
			h[++r][1]=x; h[r][2]=y; h[r][3]=nt;
		}
	}
}
int main(){
	scanf("%d%d",&n,&m); char c=getchar();
	FOR(i,1,n){ FOR(j,1,m){
		char c=getchar();
		FOR(k,0,3) f[i][j][k]=inf;
		if(c=='+')g[i][j][0]=g[i][j][1]=g[i][j][2]=g[i][j][3]=1;
		if(c=='-')g[i][j][1]=g[i][j][3]=1;
		if(c=='|')g[i][j][0]=g[i][j][2]=1;
		if(c=='^')g[i][j][0]=1; if(c=='>')g[i][j][1]=1;
		if(c=='v')g[i][j][2]=1; if(c=='<')g[i][j][3]=1;
		if(c=='L')g[i][j][0]=g[i][j][1]=g[i][j][2]=1;
		if(c=='R')g[i][j][0]=g[i][j][2]=g[i][j][3]=1;
		if(c=='U')g[i][j][1]=g[i][j][2]=g[i][j][3]=1;
		if(c=='D')g[i][j][0]=g[i][j][1]=g[i][j][3]=1;
	}char c=getchar();}
	scanf("%d%d%d%d",&xs,&ys,&xm,&ym);
	f[xs][ys][0]=0; bfs();
	ans=inf; FOR(i,0,3)ans=min(ans,f[xm][ym][i]);
	if(ans==inf)printf("-1\n"); else printf("%d\n",ans);
}
