/* ***********************************************
Author        :axp
Created Time  :2016/5/25 23:41:56
TASK		  :C.cpp
LANG          :C++
************************************************ */

#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <vector>
#include <queue>
#include <set>
#include <map>
#include <string>
#include <cmath>
#include <cstdlib>
#include <ctime>
using namespace std;

const int N = 1005;
int dx[]={0,1,0,-1};
int dy[]={1,0,-1,0};
char dire[4][100]={
	"+->LUD","+|vLRU","+-<RUD","+|^LRD"
};
int dis[4][N][N];
int n,m;
char ch[N][N];
int ar[N][N][4];

struct Node
{
	int st,x,y;
	Node(int a,int b,int c)
	{
		st=a;
		x=b;
		y=c;
	}
};

bool operator<(Node a,Node b)
{
	if(a.st!=b.st)return a.st<b.st;
	if(a.x!=b.x)return a.x<b.x;
	return a.y<b.y;
}

void input(int *x,char c)
{
	for(int i=0;i<4;i++)
	{
		for(int j=0;dire[i][j];j++)
			if(dire[i][j]==c)
				x[i]=1;
	}
}

int main()
{
    //freopen("in.txt","r",stdin);
    //freopen("out.txt","w",stdout);
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++)
	{
		scanf("%s",ch[i]+1);
		for(int j=1;j<=m;j++)
			input(ar[i][j],ch[i][j]);
	}
	//for(int i=1;i<=n;i++)for(int j=1;j<=m;j++){cout<<i<<' '<<j<<' ';for(int k=0;k<4;k++)cout<<ar[i][j][k]<<' ';cout<<endl;}
	int x1,y1,x2,y2;
	scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
	dis[0][x1][y1]=1;
	queue<Node> q;
	q.push(Node(0,x1,y1));
	while(!q.empty())
	{
		Node p=q.front();
		q.pop();
		int x=p.x;
		int y=p.y;
		if(dis[(p.st+1)%4][x][y]==0)
		{
			dis[(p.st+1)%4][x][y]=dis[p.st][x][y]+1;
			q.push(Node((p.st+1)%4,x,y));
		}
		for(int k=0;k<4;k++)
		{
			x=p.x+dx[k];
			y=p.y+dy[k];
			if(x<=0 || y<=0 || x>n || y>m)continue;
			if(dis[p.st][x][y])continue;
			if(ar[p.x][p.y][(p.st*3+k)%4] && ar[x][y][(p.st*3+k+2)%4])
			{
				dis[p.st][x][y]=dis[p.st][p.x][p.y]+1;
				q.push(Node(p.st,x,y));
			}
		}
	}
	int re=1<<30;
	for(int i=0;i<4;i++)
		if(dis[i][x2][y2])
			re=min(re,dis[i][x2][y2]-1);
	if(re==1<<30)re=-1;
	printf("%d\n",re);
    return 0;
}
