#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
#define maxn 1010
int d[maxn][maxn][4];
bool v[maxn][maxn][4];
char s[maxn][maxn];
int n,m,x1,y1,x2,y2;
//up,right,down,left
int dx[]={-1,0,1,0},dy[]={0,1,0,-1};
int stax[4*maxn*maxn],stay[4*maxn*maxn],stad[4*maxn*maxn];
bool hd[130][4];
void bfs()
{
	memset(d,0x3f,sizeof(d));
	d[x1][y1][0]=0; v[x1][y1][0]=1;
	int ta=1,fr=1; stax[1]=x1,stay[1]=y1,stad[1]=0;
	while(ta<=fr)
	{
		int x=stax[ta],y=stay[ta],dir=stad[ta]; ta++;
		int dt=d[x][y][dir];
		if(!v[x][y][(dir+1)%4])
		{
			fr++;
			stax[fr]=x,stay[fr]=y,stad[fr]=(dir+1)%4;
			d[x][y][(dir+1)%4]=dt+1;
			v[x][y][(dir+1)%4]=true;
		}
		for(int i=0; i<4; i++)
		{
			int nx=x+dx[i],ny=y+dy[i];
			if(nx && nx<=n && ny && ny<=m && !v[nx][ny][dir])
			{
				//check if valid?
				if(hd[s[x][y]][(i-dir+4)%4] && hd[s[nx][ny]][(i-dir+6)%4])
				{
					v[nx][ny][dir]=true;
					d[nx][ny][dir]=dt+1;
					fr++;
					stax[fr]=nx,stay[fr]=ny,stad[fr]=dir;
				}
			}
		}
	}
}
int main()
{
	scanf("%d%d",&n,&m);
	for(int i=1; i<=n; i++)
		scanf("%s",s[i]+1);
	scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
	char t='+';
	//urdl
	hd[t][0]=hd[t][1]=hd[t][2]=hd[t][3]=true;
	t='|';
	hd[t][0]=hd[t][2]=true;
	t='-';
	hd[t][1]=hd[t][3]=true;
	hd['^'][0]=true;
	hd['>'][1]=true;
	hd['v'][2]=true;
	hd['<'][3]=true;
	t='L';
	hd[t][0]=hd[t][1]=hd[t][2]=true;
	t='R';
	hd[t][0]=hd[t][2]=hd[t][3]=true;
	t='D';
	hd[t][0]=hd[t][1]=hd[t][3]=true;
	t='U';
	hd[t][1]=hd[t][2]=hd[t][3]=true;
	bfs();
	int ans=min(min(d[x2][y2][0],d[x2][y2][1]),min(d[x2][y2][2],d[x2][y2][3]));
	if(ans==0x3f3f3f3f) puts("-1");
	else printf("%d\n",ans);
	return 0;
}
