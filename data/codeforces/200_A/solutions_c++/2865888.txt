#include <algorithm>
#include <cstdio>
#include <iostream>
#include <cstring>
using namespace std;
#define rep(i,a,n) for (int i=a;i<n;i++)
const int maxn=2012;
int n,m,k,x,y,a,b,d[maxn][maxn],v[maxn][maxn];
bool solve(int x,int y,int k) {
	int l=max(1,x-k),r=min(x+k,n),t;
	rep(i,l,r+1) {
		t=k-abs(i-x);
		if(y-t>0&&!v[i][y-t]){
            a=i;
            b=y-t;
            return 1;
        }
		if(y+t<=m&&!v[i][y+t]){
            a=i;
            b=y+t;
            return 1;
        }
	}
	return 0;
}
void read(int &x){
    char ch;
    x=0;
    while((ch=getchar())<'0');
    for(x=ch-'0';(ch=getchar())>='0';) x=x*10+ch-'0';
}
int main() {
    //freopen("AC.in","r",stdin);
    //freopen("AC.out","w",stdout);
	read(n);
	read(m);
	read(k);
	rep(t,0,k) {
		read(x);
		read(y);
		rep(i,-2,3) 
            rep(j,-2,3) {
			 if (x+i<1||x+i>n||y+j<1||y+j>m) continue;
    			d[x][y]=max(d[x][y],d[x+i][y+j]-abs(i)-abs(j));
            }
		while (!solve(x,y,d[x][y])) d[x][y]++;
		printf("%d %d\n",a,b);
		v[a][b]=1;
	}
	return 0;
}
