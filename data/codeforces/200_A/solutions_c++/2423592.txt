#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;
const int N=2012;
int n,m,Q;
bool u[N][N];
int l[N][N],r[N][N];
void updata(const int x,const int y)
{
	u[x][y]=1;
	for(int i=y;i<=n && u[x][i];++i)	l[x][i]=l[x][y-1];
	for(int i=y;i>0 && u[x][i];--i) r[x][i]=r[x][y+1];		
}
int main()
{
	scanf("%d%d%d",&m,&n,&Q);
	for(int i=1;i<=m;++i)
	{	for(int j=1;j<=n;++j)
			l[i][j]=r[i][j]=j;
		l[i][0]=0,r[i][n+1]=n+1;
	}
	memset(u,0,sizeof(u));
	for(int x,y,ax,ay,A;Q--;)
	{
		scanf("%d%d",&x,&y);
		A=1<<20;
		for(int i=0;i<=A;++i)
		{
			if ( x+i<=m )
			{
				if ( l[x+i][y]>0 && i+y-l[x+i][y]<A ) ax=x+i,ay=l[x+i][y],A=i+y-l[x+i][y];
				if ( r[x+i][y]<=n && i+r[x+i][y]-y<A) ax=x+i,ay=r[x+i][y],A=i+r[x+i][y]-y;
			}
			if ( x>i )
			{		
				if ( r[x-i][y]<=n && i+r[x-i][y]-y<=A) ax=x-i,ay=r[x-i][y],A=i+r[x-i][y]-y;	
				if ( l[x-i][y]>0 && i+y-l[x-i][y]<=A ) ax=x-i,ay=l[x-i][y],A=i+y-l[x-i][y];
			}
		}
		updata(ax,ay);
		printf("%d %d\n",ax,ay);
	}
	return 0;
}
