#include <cstdio>
#include <algorithm>

using namespace std;

const int N=2010;
int n,m,k,d,mx,my,x,y,a[N][N],l[N][N],r[N][N];


void Find(int dx,int dy) 
  {
	  int e=abs(dx-x)+abs(dy-y);
	  if (d>e ||(d==e && dx<mx) || (d==e && dx==mx && dy<my)) mx=dx,my=dy,d=e;
  }
void Delete(int x,int y) 
  {
	  a[x][y]=1;
	  if (!y) l[x][y]=100000;else l[x][y]=l[x][y-1];
	  if (y==m-1) r[x][y]=100000;else r[x][y]=r[x][y+1];
	  for (int i=y;a[x][i] && i<m;++i) l[x][i]=l[x][y];
	  for (int i=y;a[x][i] && i>=0;--i) r[x][i]=r[x][y];
  }
int main()
  {
	  scanf("%d%d%d",&n,&m,&k);
	  for (int i=0;i<n;++i)
     for (int j=0;j<m;++j)
       l[i][j]=j,r[i][j]=j;
	  for (int i=1;i<=k;++i)
      {
		    scanf("%d%d",&x,&y);x--;y--;
		    mx=my=d=100000;
		    for (int j=0;j<=d;++j)
          {
			      if (x>=j) Find(x-j,l[x-j][y]),Find(x-j,r[x-j][y]);
			      if (x+j<n) Find(x+j,l[x+j][y]),Find(x+j,r[x+j][y]);
		      }
		    printf("%d %d\n",mx+1,my+1);
		    Delete(mx,my);
	    }
  }