#include<cstdio>
#include<algorithm>
#define fo(i,a,b) for(i=a;i<=b;++i)
using namespace std;
const int mn=2101;
int n,m,Q,a,b;
int d[mn][mn];
bool v[mn][mn];
int abs(int x){return x<0?-x:x;}
char p;
void read(int&x)
{
    x=0;
    for(p=getchar();p<'0'||p>'9';p=getchar());
    x=p-'0';
    for(p=getchar();p>='0'&&p<='9';p=getchar())x=x*10+p-'0';
}
bool solve(int x,int y,int k)
{
    int i,j,lx=max(1,x-k),rx=min(x+k,n);
    fo(i,lx,rx)
    {
        j=k-abs(i-x);
        if(y-j>0&&!v[i][y-j])
        {
            a=i,b=y-j;
            return 1;
        }
        if(y+j<=m&&!v[i][y+j])
        {
            a=i,b=y+j;
            return 1;
        }
    }
    return 0;
}
int main()
{
    read(n),read(m),read(Q);
    int i,j,x,y,k;
    while(Q--)
    {
        read(x),read(y);
        k=0;
        fo(i,-2,2)
        {
            if(x+i>n||x+i<1)continue;
            fo(j,-2,2)
            {
                if(y+j>m||y+j<1)continue;
                d[x][y]=max(d[x][y],d[x+i][y+j]-abs(i)-abs(j));
            }
        }
        while(!solve(x,y,d[x][y]))++d[x][y];
        printf("%d %d\n",a,b);
        v[a][b]=1;
    }
    return 0;
}