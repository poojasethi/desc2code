#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;
const int N=2012;
int n,m,Q;
bool u[N][N];
int l[N][N],r[N][N];
int askL(const int x,const int y)
{
	if ( !u[x][y] )  return y;
	int i=y;
	for(;u[x][i];i=l[x][i] );
	for(int j=l[x][y],k=y;j!=i;k=j,j=l[x][j] )l[x][k]=i;
	return i;
}
int askR(const int x,const int y)
{
	if ( !u[x][y] )  return y;
	int i=y;
	for(;u[x][i];i=r[x][i] );
	for(int j=r[x][y],k=y;j!=i;k=j,j=r[x][j] ) r[x][k]=i;
	return i;
}
int main()
{
	scanf("%d%d%d",&m,&n,&Q);
	for(int i=1;i<=m;++i)
		for(int j=1;j<=n;++j)
			l[i][j]=r[i][j]=j;
	memset(u,0,sizeof(u));
	for(int x,y,ax,ay,A,B;Q--;)
	{
		scanf("%d%d",&x,&y);
		A=1<<30;
		for(int i=0;i<=A;++i)
		{
			if ( x+i<=m )
			{
				B=askL(x+i,y);
				if ( B>0 && i+y-B<A ) ax=x+i,ay=B,A=i+y-B;
				B=askR(x+i,y);
				if ( B<=n && i+B-y<A) ax=x+i,ay=B,A=i+B-y;
			}
			if ( x>i )
			{				
				B=askR(x-i,y);
				if ( B<=n && i+B-y<=A) ax=x-i,ay=B,A=i+B-y;	
				B=askL(x-i,y);
				if ( B>0 && i+y-B<=A ) ax=x-i,ay=B,A=i+y-B;
			}
		}
		u[ax][ay]=1;
		--l[ax][ay],++r[ax][ay];
		printf("%d %d\n",ax,ay);
	}
	return 0;
}