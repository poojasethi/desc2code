#include <bits/stdc++.h>
using namespace std;
#define rep(i,a,n) for (int i=a;i<n;i++)
#define per(i,a,n) for (int i=n-1;i>=a;i--)
#define pb push_back
#define mp make_pair
#define all(x) (x).begin(),(x).end()
#define SZ(x) ((int)(x).size())
#define fi first
#define se second
typedef vector<int> VI;
typedef long long ll;
typedef pair<int,int> PII;
const ll mod=1000000007;
ll powmod(ll a,ll b) {ll res=1;a%=mod;for(;b;b>>=1){if(b&1)res=res*a%mod;a=a*a%mod;}return res;}
// head

const int N=3010;
VI e[N],dis[N];
int q[N],n,u,v,t,d[N],vis[N],ct[N];
double ans;
void dfs(int u,int dep,int tc) {
	vis[u]=1; ct[u]=tc; dis[u].pb(dep);
	rep(j,0,SZ(e[u])) if (!vis[e[u][j]]) dfs(e[u][j],dep+1,(d[e[u][j]]==1)+tc);
	vis[u]=0;
}
int main() {
	scanf("%d",&n);
	rep(i,0,n) {
		scanf("%d%d",&u,&v);
		e[u].pb(v); e[v].pb(u);
	}
	rep(i,0,n) d[i]=SZ(e[i]);
	rep(i,0,n) if (d[i]==1) { vis[i]=1; q[t++]=i;}
	rep(i,0,t) rep(j,0,SZ(e[q[i]])) {
		int v=e[q[i]][j];
		if (!vis[v]&&(--d[v])==1) { q[t++]=v;vis[v]=1;}
	}
	memset(vis,0,sizeof(vis));
	rep(i,0,n) {
		rep(j,0,n) dis[j].clear();
		dfs(i,1,d[i]==1);
		rep(j,0,n) if (SZ(dis[j])==1) ans+=1./dis[j][0];
		else ans+=1./dis[j][0]+1./dis[j][1]-1./(dis[j][0]+dis[j][1]-ct[j]-2);
	}
	printf("%.10f\n",ans);
}
