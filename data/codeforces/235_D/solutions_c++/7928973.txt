#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 6010
#define db double
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,t,r,flag,chang,num,x,y;
int a[N],next[N],head[N],F[N],f[N],g[N];
db an;
inline void add(int x,int y) {
	a[++t]=y,next[t]=head[x],head[x]=t;
	a[++t]=x,next[t]=head[y],head[y]=t;
}
void dfs(int x,int y) {
	int v;
	if (flag) return;
	f[x]=1; g[++r]=x;
	for (v=head[x];v;v=next[v]) {
		int A=a[v];
		if (A==y) continue;
		if (flag) return;
		if (f[A]) {
			for (;g[r]!=A;r--) F[g[r]]=1,chang++;
			F[A]=1; chang++; flag=1;
			return;
		}
		dfs(A,x);
	}
	r--;
}
inline void get(db y,db z) {
	if (z<=1) an+=1/y;
	else {
		db x=y-z+chang;
		an-=1/x;
		if (z>=2) an+=1/(x-(z-2));
		if (z<=chang) an+=1/(x-(chang-z));
	}
}
void Dfs(int x,int y,int z) {
	int v;
	f[x]=num; get(y,z);
	for (v=head[x];v;v=next[v]) if (f[a[v]]!=num) Dfs(a[v],y+1,z+F[a[v]]);
}
int main() {
	scanf("%d",&n);
	For(i,1,n) scanf("%d%d",&x,&y),add(x+1,y+1);
	dfs(1,0); num=1;
	For(i,1,n) {
		num++;
		Dfs(i,1,F[i]);
	}
	printf("%.12lf\n",an);
	return 0;
}
