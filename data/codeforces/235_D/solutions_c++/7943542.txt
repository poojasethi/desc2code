#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<vector>
#include<algorithm>
using namespace std;
const int N=3010;
vector<int>ans[N];
double answer;
int n,m,i,j,k,l,clen;
int head[N],list[N<<1],next[N<<1],tot=1;
int vis[N];
void add(int a,int b)
{
	tot++;
	list[tot]=b;
	next[tot]=head[a];
	head[a]=tot;
}
int circle(int x,int fa)
{
	for(int i=head[x];i;i=next[i])
	if(i!=fa)
	{
		if(vis[list[i]])return vis[x]-vis[list[i]]+1;
		else 
		{
			vis[list[i]]=vis[x]+1;
			int k=circle(list[i],i^1);
			if(k>0)return k;
		}
	}
	return 0;
}
int dfs(int x,int len)
{
	vis[x]=1;
	ans[x].push_back(len);
	for(int i=head[x];i;i=next[i])
	if(!vis[list[i]])dfs(list[i],len+1);
	vis[x]=0;
}
int main()
{
	scanf("%d",&n);
	for(i=1;i<=n;i++)
	{
		scanf("%d%d",&j,&k);
		j++;k++;
		add(j,k);add(k,j);
	}
	vis[1]=1;
	clen=circle(1,0)-2;
	for(j=1;j<=n;j++)vis[j]=0;
	for(i=1;i<=n;i++)
	{
		dfs(i,1);
		for(j=1;j<=n;j++)
		{
			if(ans[j].size()==1)answer+=1.0/ans[j][0];
			else answer+=1.0/ans[j][0]+1.0/ans[j][1]-2.0/(ans[j][0]+ans[j][1]+clen);
			ans[j].clear();
		}
	}
	printf("%.15lf\n",answer);
	return 0;
}

