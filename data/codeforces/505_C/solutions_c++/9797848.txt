#include <cstdio>
#define max(a, b) ((a) > (b) ? (a) : (b))
int ar[30005], dp[30005][500], dpv[30005][500], n, d;
int DP(int l, int j) {
	if(l > 30000 || d == -j) return 0;
	if(dpv[l][j+250]) return dp[l][j+250];
	dp[l][j+250] = max(DP(l+d+j, j), max(DP(l+d+j+1, j+1), DP(l+d+j-1, j-1))) + ar[l];
	dpv[l][j+250] = 1;
	return dp[l][j+250];
}
int main() {
	scanf("%d %d", &n, &d);
	for(int i = 0, m; i < n; ++i) {
		scanf("%d", &m);
		ar[m]++;
	}
	printf("%d", DP(d, 0));
}