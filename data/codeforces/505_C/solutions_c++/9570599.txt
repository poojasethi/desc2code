#include <cstdio>
#include <iostream>
#include <cstring>
#include <algorithm>

using namespace std;

int x,y,n,m,h,i,j,z,k;
int dp[31111][511],a[31111];
int poisk (int k,int t)
{
 // cout<<k<<' '<<t<<endl;
  int s=300+t;
  if (k>z || t+m==0) return 0;
  if (dp[k][s]!=-1) return  dp[k][s];
  dp[k][s]=a[k]+max(poisk(k+m+t-1,t-1),max(poisk(k+m+t+1,t+1),poisk(k+m+t,t)));
  return dp[k][s];
}

int main()
{
scanf("%d%d",&n,&m);

for (int i=0;i<n;i++)
  {
   scanf("%d",&x);
   z=max(z,x);
   a[x]++;
  }
 memset(dp,-1,sizeof dp);
 cout<<poisk(m,0);

}


