#include<bits/stdc++.h>
using namespace std;
int dp[30001][500];
int gems[30001],d;
int cal(int x,int z)
{
	//cout<<x<<" "<<z<<endl;
	int y=z-(d-250);
	if(x>=30001)
		return 0;
	if(dp[x][y]!=-1)
		return dp[x][y];
	if(z==1)
		dp[x][y]=gems[x]+max(cal(x+z+1,z+1),cal(x+z,z));
	else
		dp[x][y]=gems[x]+max(cal(x+z+1,z+1),max(cal(x+z,z),cal(x+z-1,z-1)));
	return dp[x][y];					
}
int main()
{
	int x,n,i;
	scanf("%d%d",&n,&d);
	memset(dp,-1,sizeof(dp));
	for(i=0;i<n;i++)
	{
		scanf("%d",&x);
		gems[x]++;
	}
	printf("%d\n",cal(d,d));
	return 0;
}
