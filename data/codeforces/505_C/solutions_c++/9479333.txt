#include <iostream>
using namespace std;

int gems[30001];
short maxt[30001*500];
int d;

short jump(int c, short l){
  if (c>30000) return 0;
  if (maxt[c*500+l+250]!=-1) return maxt[c*500+l+250];
  return maxt[c*500+l+250]=gems[c]+max(max(jump(c+l+d, l), jump(c+l+d, l+1)), l+d>1?jump(c+l+d, l-1):(short)0);
}

int main(){
  for (int i=0; i<=30000; ++i) gems[i]=0;
  for (int i=0; i<30001*500; ++i) maxt[i]=-1;
  int n; 
  cin >> n >> d;
  int a;
  for (int i=0; i<n; ++i){
    cin >> a;
    ++gems[a];
  }
  cout << jump(0, 0) << endl;
}