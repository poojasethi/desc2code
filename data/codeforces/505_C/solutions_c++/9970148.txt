#include<iostream>
using namespace std;
int dp[60002][501];
int tr[30002];
int n,d;
int f(int,int);
int main()
{
	cin>>n>>d;
	for(int i=0;i<=30250;i++)
		for(int j=0;j<=500;j++)
			dp[i][j]=-1;
	for(int i=0;i<n;i++)
	{
		int temp;
		cin>>temp;
		tr[temp]++;
	}
	cout<<f(d,d);
	return 0;
}
int f(int i,int jump)
{
	if(i>30000)
		return 0;
	if(dp[i][jump-d+250]!=-1)
		return dp[i][jump-d+250];
	int temp=max(f(i+jump+1,jump+1),f(i+jump,jump));
	if(jump>1)
		temp=max(temp,f(i+jump-1,jump-1));
	dp[i][jump-d+250]=tr[i]+temp;
	return dp[i][jump-d+250];
}
