#include<bits/stdc++.h>
#define assn(n,a,b) assert(n>=a && n<=b)
using namespace std;
int d,a[30001];
int mp[30001],dp[30001][601];
int mx=-1;
int solve(int cur,int dir)
{
    if(cur>mx || (d+dir)<=0 )
        return 0;
   if(dp[cur][dir]!=-1)
    return dp[cur][dir];

    return dp[cur][dir]=mp[cur]+max(solve(cur+d+dir+1,dir+1),max(solve(cur+d+dir,dir),solve(cur+d+dir-1,dir-1 ))) ;

}
int main()
{
int n;
cin>>n>>d;
for(int i=0;i<n;i++)
{
cin>>a[i];
mp[a[i]]++;
mx=max(mx,a[i]);
}
memset(dp,-1,sizeof(dp));

cout<<solve(d,0);


}
