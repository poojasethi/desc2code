#include <bits/stdc++.h>
using namespace std;
int arr[30005];
int dp[30005][1005];
int visit[30005][1005];
int maxi = -1;
int solve(int pos,int jmp){
 if(pos > maxi || jmp==0) return 0;
 if(visit[pos][jmp]) return dp[pos][jmp];
 int res = arr[pos];
 res += max(max(solve(pos+jmp-1,jmp-1),solve(pos+jmp,jmp)),solve(pos+jmp+1,jmp+1));
 dp[pos][jmp] = res;
 visit[pos][jmp] = true;
 return res;
}
int main(){
int n,d,x;
cin >> n >> d;
for(int i=0;i<n;i++){
  cin >> x;
  arr[x]++;
  maxi = max(maxi,x);
}
cout << solve(d,d) << endl;
return 0;
}