#include <cstdio>
#include <cstring>
#define max(a,b) (a>b?a:b)

int m,d;
int a[70001],f[70001][500];

int main() {
	scanf("%d%d",&m,&d);
	for (int i=1; i<=m; i++) {
		int t;
		scanf("%d",&t),++a[t];
	}
	int k;
	for (int i=30000; i>=0; i--) 
		for (int j=1; j<=498; j++) {
			k=j+d-250;
			if (k==1)
				f[i][j]=max(f[i+k][j]+a[i+k],f[i+k][j+1]+a[i+k]);
			if (k>1)
				f[i][j]=max(max(f[i+k][j-1]+a[i+k],f[i+k][j+1]+a[i+k]),f[i+k][j]+a[i+k]);
		}
	printf("%d",f[0][250]);
	return 0;
}