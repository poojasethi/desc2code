#include<iostream>
#include<algorithm>
using namespace std;
int a[30001];
int dp[30001][502];
int main(){
int n,d,temp,jump=0;
cin>>n>>d;
for(int i=0;i<n;i++)
{cin>>temp;
a[temp]++;

}
for(int i=30000;i>0;i--)
for(int j=-250;j<=250;j++)
{
dp[i][j+250]=a[i];
jump=j+d;
if(jump>0){
if(jump==1)
dp[i][j+250]=a[i]+max((i+jump)<30001?dp[i+jump][j+250]:0,(i+jump+1)<30001?dp[i+jump+1][j+251]:0);
else
dp[i][j+250]=a[i]+max((i+jump-1)<30001?dp[i+jump-1][249+j]:0,max((i+jump)<30001?dp[i+jump][j+250]:0,(i+jump+1)<30001?dp[i+jump+1][j+251]:0));

}

}
cout<<dp[d][250];

}
