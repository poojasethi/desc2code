#include <cstdio>
#include <algorithm>
using namespace std;

int n,d,g[30055],temp,dp[30055][1055],high;
bool used[30055][1055];

int dfs(int ind,int dis) {
	if (used[ind][dis]) return dp[ind][dis];
	if (ind>high) return 0;
	int res=dfs(ind+dis+1,dis+1)+g[ind];
	res=max(res,dfs(ind+dis,dis)+g[ind]);
	if (dis>1) res=max(res,dfs(ind+dis-1,dis-1)+g[ind]);
	used[ind][dis]=1;dp[ind][dis]=res;
	return res;
}
int main() {
	scanf("%d %d",&n,&d);
	for (int i=0;i<n;i++) {
		scanf("%d",&temp);
		g[temp]++;high=max(high,temp);
	}
	printf("%d\n",dfs(d,d));
	return 0;
}
