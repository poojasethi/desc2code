#include<bits/stdc++.h>
using namespace std;
int const lim = 30002;
int g[lim] = {0};
int res[lim][500] = {0};
bool vis[lim][500] = {false};
int DFS (int i,int j)
{
    if(i>lim-2)return 0;
    if(vis[i][j])return res[i][j];
    vis[i][j] = true;
    if(j==1)res[i][j]= g[i]+max(DFS(i+j,j),DFS(i+j+1,j+1));
    else res[i][j] = g[i]+ max(max(DFS(i+j,j),DFS(i+j-1,j-1)),DFS(i+j+1,j+1));
    return res[i][j];
}
int main()
{
    int n,d,x;cin >> n >> d;
    for(int i=0;i<n;i++)cin >> x,g[x]++;
    cout << DFS(d,d) << endl;
}
