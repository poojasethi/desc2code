#include <bits/stdc++.h>
using namespace std;
const int N = 3e4+10;
int dp[N][501],tres[N],last,d;
int sol(int ind,int x){
	if(ind>last)return 0;
	int &ret= dp[ind][x],k = x-250;
	if(ret!=-1)return ret;
	for(int i=max(-d+1,k-1);i<=k+1;++i){
		ret= max(ret,sol(ind+d+i,i+250));
	}
	ret+=tres[ind];
	return ret;
}
int main(){
	memset(dp,-1,sizeof(dp));
	int i,a,n;cin>>n>>d;
	for(i=0;i<n;++i)\
		cin>>a,++tres[a];
	last= a;
	cout<<sol(d,250)<<endl;
}
