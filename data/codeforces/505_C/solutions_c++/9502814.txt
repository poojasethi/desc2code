#include<bits/stdc++.h>
#define N 30001
using namespace std;

int mem[N][601],val[N],d;
int dp(int dist,int jump)
{
	if(dist>=N || jump-300+d<=0)return 0;
	if(mem[dist][jump]!=-1)
	{
		return mem[dist][jump];
	}
	int ret=0;
	for(int njmp=jump-1;njmp<=jump+1;njmp++)
	{
		int newd = dist+njmp-300+d;
		ret = max( dp(newd,njmp), ret);
	}
	return mem[dist][jump]=ret+val[dist];
}

int main()
{
	int n,i,x;
	scanf("%d%d",&n,&d);
	for(i=0;i<n;i++)
	{
		scanf("%d",&x);
		val[x]++;
	}
	memset(mem,-1,N*601*sizeof(int));
	printf("%d",dp(d,300));

	return 0;
}
