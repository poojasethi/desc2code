#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>
using namespace std;
int d[30005],dp[30005][500],n,m,i,j,k,val,b;
int f(int x,int y){
	if(x>30000)
	return 0;
	if(dp[x][y]!=-1)
	return dp[x][y];
	int res=0;
	res=max(res,d[x]);
	int a=y+b;
	if(a-1>0)
	res=max(res,d[x]+f(x+a-1,y-1));
	if(a>0)
	res=max(res,d[x]+f(x+a,y));
	if(a+1>0)
	res=max(res,d[x]+f(x+a+1,y+1));
	return dp[x][y]=res;
}
int main(){
	memset(dp,-1,sizeof dp);
	scanf("%d %d",&n,&val);
	for(i=1;i<=n;i++)
	scanf("%d",&j),d[j]++;
	b=val-246;
	printf("%d\n",f(val,246));
}
