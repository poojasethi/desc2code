#include <cstring>
#include <iostream>

using namespace std;

int gems[30003], memo[30003][491], n, d;

int DP(int i, int c) {
    if (i > 30001 or !(d + c))
        return 0;
    int &ret = memo[i][c];
    if (ret == -1) {
        ret = gems[i] + max(max(DP(i + d + c - 1, c - 1), DP(i + d + c, c)), DP(i + d + c + 1, c + 1));
    }
    return ret;
}

int main() {
    memset(memo, -1, sizeof memo);

    cin >> n >> d;
    while (n--) {
        int tmp;
        cin >> tmp;
        gems[tmp]++;
    }

    cout << DP(d, 0);
}
