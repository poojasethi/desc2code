#include <bits/stdc++.h>
#define pii pair <int, int>
#define mp make_pair
#define X first
#define Y second
using namespace std;

int arr[500][30005],d,g[30005];
int DP(int l, int i1){
    if(i1 > 30000) return 0;
    int &res = arr[l+250][i1];
    if(res != -1) return res;
    res = max(DP(l+1,i1+d+l+1), DP(l,i1+d+l));
    if(d+l-1 > 0)res = max(res, DP(l-1,i1+d+l-1));
    res += g[i1];
    return res;
}
int main(){
    memset(arr, -1, sizeof(int)*500*30005);
    int a,n;
    cin>>n>>d;
    for(int i=0;i<n;i++){
        cin>>a; g[a]++;
    }
    cout<<DP(0,d)<<endl;
    return 0;
}
