#include <iostream>
#include <algorithm>
using namespace std;
int M[30001];
int DP[30001][501];
bool bio[30001][501];
int maks=-1;
int R(int p,int l){
    if(bio[p][l])return DP[p][l];
    if(p>maks || l==0)return 0;
    int x=M[p];
    int a=R(p+l-1,l-1);
    int b=R(p+l,l);
    int c=R(p+l+1,l+1);
    x+=max(max(a,b),c);
    DP[p][l]=x;
    bio[p][l]=true;
    return x;
}
int main(){
    int n,l,a;
    cin>>n>>l;
    for(int i=0;i<n;i++){cin>>a; M[a]+=1; maks=max(maks,a);}
    int z=R(l,l);
    cout<<z;
    return 0;
}
