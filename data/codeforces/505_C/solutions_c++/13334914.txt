#include<bits/stdc++.h>
using namespace std;
int dp[30009][500]={0},dpv[30009][500];
int a[30009];
int n,d;
int dfs(int x,int l){
	if(l+d==0||x>30000) return 0;
	if(dpv[x][l+250]!=0) return dp[x][l+250];
	int &ans=dp[x][l+250];
	ans=max(dfs(x+d+l,l),max(dfs(x+d+l+1,l+1),dfs(x+d+l-1,l-1)))+a[x];
	//cout<<ans<<endl;
	dpv[x][l+250]=1;
	return ans;
}
int main(){
	int x;
	cin>>n>>d;
	for(int i=0;i<n;i++){
		cin>>x;
		a[x]++;
	}
	//dp[d][245]=a[d];
	//int ans=a[d];
    cout<<dfs(d,0)<<endl;
}
