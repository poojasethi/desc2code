#include <bits/stdc++.h>
using namespace std;
#define M 30001
int n, d, u[M][500], a[M][500], p[M], t, r;

int solve(int i, int j){
    int jj=j-d+250;
    if(i>=M)return 0;
    if(u[i][jj])return a[i][jj];
    u[i][jj]=1;
    if(j==1)
        r=p[i]+max(solve(i+j,j),solve(i+2,2));
    else
        r=p[i]+max(max(solve(i+j,j),solve(i+j+1,j+1)),solve(i+j-1,j-1));
    a[i][jj]=r;
    return r;
}
int main(){
    ios::sync_with_stdio(0);
    cin.tie(0);
    cin >> n >> d;
    for(int i=0; i<n; i++){
        cin >> t;
        p[t]++;
    }
    cout << solve(d,d);
}
