#include<bits/stdc++.h>
using namespace std;

int dp[30003][500], T, n, d, x[30003];

int calc(int i, int l) {
	if(i > 30000) return 0;
	int &ret = dp[i][l];
	if(ret != -1) return ret;
	ret = 0;
	for(int j=l-1 ; j<=l+1 ; ++j)
		if(j+T>0) ret = max(ret, x[i] + calc(i+j+T, j));
	return ret;
}

int main(int argc, char **argv) {
#ifndef ONLINE_JUDGE
	freopen("a.in", "r", stdin);
#endif
	scanf("%d%d", &n, &d);
	for(int t, i=0 ; i<n ; ++i) {
		scanf("%d", &t);
		++x[t];
	}
	T = d - 250;
	memset(dp, -1, sizeof dp);
	cout << calc(d, 250) << endl;
	return 0;
}
