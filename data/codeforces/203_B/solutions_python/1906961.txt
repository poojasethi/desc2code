

n, m = map(int, raw_input().split(' '))

fld = [[0 for i in range(n+2)] for i in range(n+2)]

for i in range(m):
    x, y = [int(a)-1 for a in raw_input().split(' ')]

    for x1, y1 in [(x+dx,y+dy) for dx in range(3) for dy in range(3)]:
        fld[x1][y1] += 1
        if fld[x1][y1] == 9:
            print i+1
            exit()

print -1

