n,m=[int(x) for x in raw_input().split()]

a=[[0 for x in xrange(n+2)] for y in xrange(n+2)]

final=-1

for move in range(1,m+1):
	i,j=[int(x) for x in raw_input().split()]
	if(final==-1):
		for k in range(i-1,i+2,1):
			for l in range(j-1,j+2,1):
				a[k][l]+=1
				if(a[k][l]==9):
					final=move
					break


print final

