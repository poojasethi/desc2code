n,m=[int(w) for w in raw_input().split()]
c=[[] for i in xrange(n+3)]
for i in xrange(n+3):
    for j in xrange(n+3):
        c[i].append(0)
ans=0
ok=False
for i in xrange(m):
    x,y=[int(w) for w in raw_input().split()]
    ans+=1
    for j in xrange(3):
        for k in xrange(3):
            c[x+j][y+k]+=1
            if c[x+j][y+k]==9:
                ok=True
                print ans
                exit(0)
if not ok:
    print -1
