m, n = map(int, raw_input().split())
matrix = [[0] * (m + 2) for _ in xrange(m + 2)]
blocks = []
for _ in xrange(n):
    blocks.append(map(int, raw_input().split()))
for i, v in enumerate(blocks):
    (x, y) = v
    for j in xrange(3):
        for k in xrange(3):
            matrix[x - 1 + j][y - 1 + k] += 1
            if matrix[x - 1 + j][y - 1 + k] == 9:
                print i + 1
                exit()
print '-1'