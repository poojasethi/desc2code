n, m = map(int, raw_input().split())
c = [[0] * (n + 3) for _ in range(n + 3)]
for l in range(m):
    x, y = map(int, raw_input().split())
    for i in range(x, x + 3):
        for j in range(y, y + 3):
            c[i][j] += 1
            if c[i][j] == 9:
                print l + 1
                exit()
print -1