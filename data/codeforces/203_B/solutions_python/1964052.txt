#!/usr/bin/python     
import sys
def inbounds(point):
  if point[0]>0 and point[1]>0:
    return True

def formed3by3(grid, size, p):
  for i in [-2, -1, 0]:
    for j in [-2, -1, 0]:
      if inbounds([p[0] + i, p[1] + j]):
        grid[p[0]+i][p[1]+j] += 1
        if (grid[p[0]+i][p[1]+j] == 9):
          return True
  return False

def main():
  lines = sys.stdin.readlines()
  size = map(int, lines.pop(0).split(' '))[0]

  points = []
  for p in lines:
    points.append(map(int, p.split(' ')))

  grid = []
  for i in range(1005):
    grid.append([])
  for i in range(1005):
    for j in range(1005):
      grid[i].append(0)

  for i, p in enumerate(points):
  #  print grid
    if formed3by3(grid, size, p):
      print i+1
      return
#    else:
#      print "no square formed after adding " + str(p)
  print -1

  #points.append((p.split(' ')[0], p.split(' ')[1]) for p in lines)

  return

if __name__ == "__main__":
  main()