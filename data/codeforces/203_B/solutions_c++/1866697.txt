#include <iostream>
#include <stdio.h>

using namespace std;
int a[1111][1111];
int n, m, x, y;

int main()
{
cin >> n >> m;
for (int i=1; i<=m; i++)
{
    cin >> x >> y;
    for (int j=0; j<3; j++)
    for (int k=0; k<3; k++)
    {
        a[j+x][k+y]++;
        if (a[j+x][k+y]==9) {cout << i; return 0;}
    }
}
cout << -1 << endl;
return 0;
}
