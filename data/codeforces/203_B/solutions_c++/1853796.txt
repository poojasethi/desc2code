#include<iostream>
using namespace std;
int k=-1,n,m,a[1500][1500],g,h;
int main()
{
    cin>>n>>m;
    for(int i=1;i<=m;i++)
    {
            cin>>g>>h;
            g+=5;
            h+=5;
            a[g][h]=1;
            for(int x=g;x<=g+2;x++)
            for(int y=h;y<=h+2;y++)
            if(a[x][y]+a[x][y-1]+a[x-1][y]+a[x-1][y-1]+a[x-2][y]+a[x][y-2]+a[x-2][y-1]+a[x-1][y-2]+a[x-2][y-2]==9&&k==-1)
            k=i;
    }
    cout<<k;
}
