#include <iostream>
using namespace std;
int main(){
  short int q,r,t,c,v,y,u;
  int e,w;
  bool a[1004][1004],x=1,b;
  cin>>q>>w;
  for(e=0;e<q+4;e++)
  for(r=0;r<q+4;r++)
  a[e][r]=0;
  for(e=0;(e<w)&&(x);e++){
  cin>>r>>t;
  a[r+1][t+1]=1;
  for(y=r-1;y<r+2;y++)
  for(u=t-1;u<t+2;u++){
   b=1;
   for(c=y;c<y+3;c++)
   for(v=u;v<u+3;v++)
   if(!a[c][v]){
    b=0;
    goto stop;}
   x=0;
   break;
   stop:;}}
  if(x)cout<<-1;
  else cout<<e;
  return 0;}
