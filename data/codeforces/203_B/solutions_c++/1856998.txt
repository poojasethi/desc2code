#include<stdio.h>
#include<string.h>

int map[1100][1100] = {0};

int work()
{
  int n,m,i,ix,iy,x,y;
  scanf("%d%d",&n,&m);
  for(i = 1;i <= m;i++) {
    scanf("%d%d",&x,&y);
    for(ix = 0;ix < 3;ix++)
      for(iy = 0;iy < 3;iy++) 
        if (x + ix <= n && y + iy <= n){
        map[x+ix][y+iy]++;
        if (map[x+ix][y+iy] == 9) {printf("%d\n",i);return 0;}
        }
    }
  printf("-1\n");
  return 0;
}

int main()
{
  work();
  return 0;
}
