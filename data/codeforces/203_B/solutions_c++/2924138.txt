#include <iostream>
#include <cstdio>
using namespace std;

const int N=1002;
int a[N][N];
int n, m;

int main()
{
	int res = 0;
	int x, y, i, j;
	scanf("%d%d", &n, &m);
	for(res = 1; res <=m; res++) {
		scanf("%d%d", &x, &y);
		for(i=0;i<3;i++)
			for(j=0;j<3;j++)
				if(x-i>=1 && y-j>=1){
					a[x-i][y-j]++;
					if(a[x-i][y-j]==9) {
						printf("%d\n", res);
						return 0;
					}
				}
	}
	printf("-1\n");
	return 0;
}