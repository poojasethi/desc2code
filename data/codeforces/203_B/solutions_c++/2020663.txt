#include<cstdio>
using namespace std;
int n,m,x[100005],y[100005],f[1005][1005];
const int dx[10]={-2,-2,-2,-1,-1,-1,0,0,0};
const int dy[10]={-2,-1,0,-2,-1,0,-2,-1,0};
int main()
{
	scanf("%d%d",&n,&m);
	for (int i=0;i<m;i++)
		scanf("%d%d",&x[i],&y[i]);
	for (int i=0;i<m;i++)
	for (int j=0;j<9;j++)
	{
		int tx=x[i]-dx[j],ty=y[i]-dy[j];
		if (tx>=1&&ty>=1)
		{
			f[tx][ty]++;
			if (f[tx][ty]==9)
			{
				printf("%d",i+1);
				return 0;
			}
		}
	}
	printf("-1");
	return 0;
}
	
