#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
const ll dx[]={0,0,0,-1,-1,-1,-2,-2,-2};
const ll dy[]={0,-1,-2,0,-1,-2,0,-1,-2};
ll n,m,g,h,k=-1,s,a[1111][1111];
int main()
{
	cin>>n>>m;
	for(ll i=1;i<=m;i++)
	{
		cin>>g>>h;
		a[g][h]=1;
		for(ll x=g;x<=g+2;x++)
		for(ll y=h;y<=h+2;y++)
		{
			s=0;
			for(ll d=0;d<9;d++)
				s+=a[x+dx[d]][y+dy[d]];
			if(s==9&&k==-1)
				k=i;
		}
	}
	cout<<k;
}