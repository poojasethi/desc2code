#include <iostream>

using namespace std;

const int MAXN = 1000 + 100;

const int f = 5;

int a[MAXN][MAXN], n, m, x, y;
int sq[MAXN][MAXN];

int main()
{
	cin >> n >> m;
	for (int i = 1 ; i <= m ; i++)
	{
		cin >> x >> y;
		a[x+f][y+f] = 1;
		for (int j = -2 ; j <= 0 ; j++)
			for (int k = -2 ; k <= 0 ; k++)
			{
				sq[x+f+j][y+f+k]++;
				if (sq[x+f+j][y+f+k] == 9)
				{
					cout << i << endl;
					return 0;
				}
			}
	}
	cout << -1 << endl;
	return 0;
}
