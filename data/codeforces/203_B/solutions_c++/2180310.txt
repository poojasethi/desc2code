#include <iostream>
using namespace std;
int n,x,y,mas[1010][1010],m;
int main(){
   cin>>n>>m;
    for(int i=1;i<=m;i++){
        cin>>x>>y;
        for(int f=x;f<x+3;f++)
            for(int j=y;j<y+3;j++){
                mas[f][j]++;
                if(mas[f][j]==9){
                    cout<<i;
                    return 0;
            }
        }
    }
    cout<<"-1";
}
