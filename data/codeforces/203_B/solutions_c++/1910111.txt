#include <iostream>

using namespace std;

char squares[1000][1000];

int main()
{

	int n, m;
	cin >> n >> m;
	for(int i=0; i<n-2; i++)
	{
		for(int j=0; j<n-2; j++)
			squares[i][j] = 0;
	}

	int result = -1;

	for(int k=0; k<m && result == -1; k++)
	{
		int x, y;
		cin >> x >> y;
		for(int i = max(x-3, 0); i<x; i++)
		{
			for(int j = max(y-3, 0); j<y; j++)
			{
				squares[i][j]++;
				if(squares[i][j] == 9)
					result = k+1;
			}
		}
	}
	cout << result << endl;
	return 0;
}
