#include<stdio.h>
int map[1020][1020];
int main(){
	int n,m;
	scanf("%d %d",&n,&m);
	int x,y;
	for(int i=0;i<m;i++){
		scanf("%d %d",&x,&y);
		for(int j=x-1;j<=x+1;j++){
			for(int k=y-1;k<=y+1;k++){
				map[j][k]++;
				if(map[j][k]==9){
					printf("%d\n",i+1);
					return 0;
				}
			}
		}
	}
	printf("-1\n");
	return 0;
}
 	     	 		  	 	 					    	  		