#include<iostream>
using namespace std;
int a[1005][1005],i,j,k,l,m,n,x,y,q;
main(){
           cin>>n>>m; 
           
           for(q=1;q<=m;q++)  
           {
              cin>>x>>y;
              for(i=0;i<3;i++)           
              for(j=0;j<3;j++)
              {
                a[x+i][y+j]++;
                if(a[x+i][y+j]==9){cout<<q<<endl;return 0;}
              }
           }
          cout<<-1<<endl;
           }
