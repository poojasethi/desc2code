#include <cstdio>

bool mat[1005][1005];

int main()
{
	int n, m, a, b;
	scanf("%d%d", &n, &m);
	
	for (int i = 1; i <= m; ++i)
	{
		scanf("%d%d", &a, &b);
		++a, ++b;
		mat[a][b] = 1;
		for (int x = -1; x <= 1; ++x)
		{
			for (int y = -1; y <= 1; ++y)
			{
				bool g = 1;
				for (int k = -1; k <= 1 && g; ++k)
					for (int j = -1; j <= 1 && g; ++j)
						g &= mat[a+k+x][b+j+y];
				if (g)
				{
					printf("%d\n", i);
					return 0;
				}
			}
		}
	}
	
	printf("-1\n");
	return 0;
}

