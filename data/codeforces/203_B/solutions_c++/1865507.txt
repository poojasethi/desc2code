#include<iostream>
using namespace std;

long i,j,k,x,y,z,n,m;
long a[1001][1001];

int main(){
    cin>>n>>m;
    z=-1;
    for(i=1;i<=m;i++){
      cin>>x>>y;
      for(j=0;j<3 && x-j>0;j++)if(x+2-j<=n)
        for(k=0;k<3 && y-k>0;k++)if(y+2-k<=n){
          a[x-j][y-k]++;
          if(a[x-j][y-k]>=9)
            if(z==-1)z=i;
          }
    }
    cout<<z<<endl;
    //system("pause");
    return 0;
}
