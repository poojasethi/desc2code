#include<stdio.h>
#define maxn 1000
int tab[maxn+2][maxn+2],n,m,i,j,l,c,k,r=-1,ind=1;

int main(){
    scanf("%i%i",&n,&m);
    for (k=1;k<=m;k++){
        scanf("%i%i",&l,&c);
        for (i=-1;i<=1;i++){
            for (j=-1;j<=1;j++){
                if (((++tab[l+i][c+j])==9) && ind) r=k,ind=0;
            }
        }
    }
    printf("%i\n",r);
    return 0;
}
