#include <cstdio>
#include <algorithm>
#define MAXN 1005
using namespace std;
FILE *in;
int n,m,mat[MAXN][MAXN]={0},x,y,fl;
int main ()
{
	//in=fopen("game.in","r");
	in=stdin;
	fscanf(in,"%d %d",&n,&m);
	for(int i=1;i<=m;i++)
	{
		fscanf(in,"%d %d",&x,&y);
		for(int j=x;j<x+3;j++)
			for(int r=y;r<y+3;r++)
			{
				mat[j][r]++;
				if(mat[j][r]==9)
				{
					printf("%d",i);
					exit(0);
				}
			}
	}
	printf("-1");
		
}
