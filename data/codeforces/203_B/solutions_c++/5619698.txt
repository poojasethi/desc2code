#include <iostream>
#include <vector>
using namespace std;

int a[1006][1006];

int main()
{
int n,m,x,y,i,l,r;
cin>>n>>m;
if(n<3) return cout<<-1,0;
else
{
for(i=1;i<=m;i++)
{
cin>>x>>y;
for(l=x;l<x+3;l++)
 for(r=y;r<y+3;r++)
{ a[l][r]++;
  if(a[l][r]==9) {return cout<<i,0;}
}
}
}
return cout<<-1,0;
}