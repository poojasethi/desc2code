#include<iostream>
using namespace std;

const int nn=1001;
long a[nn][nn];

int main()
{
	long w,q,e,x,y,z,n,m;
	cin>>n>>m;
	z=-1;
	for(w=1;w<=m;w++)
	{
		cin>>x>>y;
    	for(q=0;q<3 && x-q>0;q++)
			if(x+2-q<=n)
        		for(e=0;e<3 && y-e>0;e++)
					if(y+2-e<=n)
					{
        				a[x-q][y-e]++;
        			  	if(a[x-q][y-e]>=9)
        			    	if(z==-1)
								z=w;
        		  	}
    }
    cout<<z<<endl;
    return 0;
}
