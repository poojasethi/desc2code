#include <iostream>
using namespace std;
int a[1005][1005]={0};
int cmp(int x,int y)
{
 for (int i=x; i<=x+2;i++)
  for (int j=y; j<=y+2;j++)
   if (a[i][j]==0) return 0;
 return 1;
}
int main()
{
int n,m;
cin>>n>>m;
int x,y;
for (int i=1;i<=m;i++)
 {
  cin>>x>>y;a[x][y]=1;
  if (i>=9)
  {    for (int i1=x-2;i1<=x;i1++)
    for (int j1=y-2;j1<=y;j1++)
     if (i1>=0&&j1>=0)
       if (cmp(i1,j1)) {cout<<i; return 0;}
  }
 }
 cout<<"-1";
return 0;
}
