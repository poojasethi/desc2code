#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>

using namespace std;

bool f[1010][1010];

int main()
{
	int n,m,x,y,i,j,k,l,res=-1;
	cin>>n>>m;
	for(int t=1;t<=m;t++)
	{	
		scanf("%d%d",&x,&y);
		f[x][y]=true;
		for(i=max(x-2,1);i<=min(x+2,n);i++)
		for(j=max(y-2,1);j<=min(y+2,n);j++)
		{
			int cnt=0;
			for(k=i;k<=i+2;k++)
			for(l=j;l<=j+2;l++) cnt+=f[k][l];
			if(cnt==9 && res==-1) res=t;
		}
	}
	cout<<res<<endl;
	return 0;
}