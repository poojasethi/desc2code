#include<stdlib.h>
#include<stdio.h>
int a[2000086];
int n,l,t;
int main(){
    int i,j,k,p,q,r;
    double ans=0;
    scanf("%d%d%d",&n,&l,&t);
    for(i=0;i<n;i++){
        scanf("%d",&a[i]);
    }
    for(i=n;i<2*n;i++){
        a[i]=a[i-n]+l;
    }
    k=2*t/l;
    j=2*t-k*l;
    ans=ans+0.25*n*(n-1)*k;
    r=0;
    for(i=0;i<n;i++){
        while(r<2*n&&a[r]-a[i]<=j) r++;
		ans=ans+(r-i-1)*0.25;
    }
    printf("%.16lf\n",ans);
    return 0;
}

 					 						 	  	 	 		 					 	