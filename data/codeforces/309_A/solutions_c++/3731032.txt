#include<cstdio>
#include<cstring>
#include<algorithm>
#include<map>
#include<queue>
#include<set>
#include<vector>
#include<cmath>
#include<iostream>
using namespace std;
#define mem(a,b) memset(a,b,sizeof(a))
typedef long long ll;
typedef pair<int,int> PII;
const double eps = 1e-7;
const double PI = acos(-1.0);
const int oo = 1<<29;

const int N = 1001111;
int a[N*2];

int main()
{
	int n,l,t;
	scanf("%d%d%d",&n,&l,&t);
	for(int i=0;i<n;i++) {
		scanf("%d",&a[i]);
		a[n+i]=a[i]+l;
	}
	t<<=1;
	int j=0;
	double ans=0;
	if(t>=l) {
		ll x=t/l;
		t%=l;
		ans+=x*n*(n-1)/2/2.0;
	}
	for(int i=n;i<n+n;i++) {
		while(a[i]-a[j]>t || j<=i-n) j++;
		ans+=(i-j)/4.0;
	}
	printf("%.10f\n",ans);

	return 0;
}
