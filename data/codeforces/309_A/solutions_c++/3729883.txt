#include <cstdio>
#include <algorithm>
using namespace std;

const int max_n = 1000000;
int n, l, t, a[2 * max_n], loop;
int main()
{
    scanf("%d %d %d", &n, &l, &t);
    for(int i = 0; i < n; i++)
        scanf("%d", &a[i]);
    t *= 2; loop = t / l; t %= l;
    for(int i = n; i < 2 * n; i++)
        a[i] = a[i - n] + l;

    double ans = 0.25 * double(n - 1) * double(n) * double(loop);
    for(int i = 0; i < n; i++)
    {
        int cnt = upper_bound(a, a + 2 * n, a[i] + t) - (a + i) - 1;
        ans += 0.25 * double(cnt);
    }
    printf("%.12f\n", ans);

    return 0;
}
