#include <fstream>
#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

const int MAXN=1000005;
int n,l,t;
int a[MAXN*2];

int main()
{
    scanf("%d%d%d",&n,&l,&t);
    for(int i=1;i<=n;i++) scanf("%d",&a[i]);
    t*=2;
    double ans=n*(double)(n-1)/2.0/2.0*(t/l);
    t%=l;
    for(int i=1;i<=n;i++) a[i+n]=a[i]+l;
    int now=1;
    for(int i=n+1;i<=n+n;i++)
    {
        while(a[i]-a[now]>t) now++;
        ans+=(i-now)/2.0/2.0;
    }
    
    printf("%.10lf\n",ans);
    
    return 0;
}
