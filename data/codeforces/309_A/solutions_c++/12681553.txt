#include<stdio.h>
#include<string.h>
#include<stdlib.h>
using namespace std;
#define module 1000000007
#define min(x,y) ((x)<(y))?(x):(y)
int a[1000005];long long int n,l,t;
int solve(int t){
	int x=0,y=n-1;
	while(x<y){
		int m=y-(y-x)/2;
		if(a[m]==t) return m;
		else if(a[m]>t) y=m-1;
		else x=m;
	}return x;
}
int main(void){
	long long int tot=0;
	scanf("%lld%lld%lld",&n,&l,&t);
	for(int i=0;i<n;i++){
		scanf("%d",&a[i]);
	}
	for(int i=0;i<n;i++){
		long long int k=(2*t)/l;
		long long int mm=2*t-k*l;
		int m=solve((a[i]+mm)%l);
		tot+=k*(n-1);
		if(m<i) tot+=n+m-i;
		else tot+=m-i;
	}printf("%.10lf\n",(double)tot/4.0);
	return 0;
}
 					 	 	 	  		 		 	 		  	 	 	