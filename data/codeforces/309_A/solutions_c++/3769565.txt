#include <cstdio>
#include <algorithm>
using namespace std;

typedef double LD;

int a[(int)(2e6)+3];

int main()
{
	int n, l, t;
	scanf("%d%d%d", &n, &l, &t);
	for(int i = 0; i < n; ++i) {
		scanf("%d", a+i);
		a[i+n] = a[i] + l;
	}
	
	int x = 2*t / l;
	int y = 2*t % l;
	LD res = 0.0;
	for(int i = 0, j = i+1; i < n; ++i) {
		while(a[j]-a[i] <= y)
			++j;
		res += (LD)(n-1)*x + j-i-1; 
	}
	printf("%lf\n", res / 4);
	return 0;
}
