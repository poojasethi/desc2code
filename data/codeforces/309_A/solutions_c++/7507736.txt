#include<stdio.h>
#include<algorithm>

#define ll long long int
using namespace std;
const int maxn=1000006;
ll n,l,t,a[maxn*3];

int main()	{
	scanf("%lld %lld %lld",&n,&l,&t);
	for(int i=0;i<n;i++)	{
		scanf("%lld",&a[i]);
	}
	sort(a,a+n);
	int n3=n*3;
	for(int i=0;i<n;i++)	{
		a[n+i]=l+a[i];
		a[n+n+i]=l+l+a[i];
	}
	double ans=((double)(n)*(double(n-1)))*(double)(t/l);
	t=t%l;
	if(t)	for(int i=0;i<n;i++)	{
		int t2=t<<1;
		int c1=lower_bound(a,a+n3,a[i])-a;
		int c2=lower_bound(a,a+n3,a[i]+t2)-a;
		if(a[c2]>(a[i]+t2))	c2--;
		if(a[c2]>=(a[i]+l))	c2--;
		int c=c2-c1;
		ans+=((double)c/2.0);
	}
	printf("%lf\n",ans/2.0);
	return 0;
}
