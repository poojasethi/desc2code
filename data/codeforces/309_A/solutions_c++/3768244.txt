#include <iostream>
#include <algorithm>
#include <cstdio>
using namespace std;
#define N 1000100
typedef __int64 Uint;
int a[N + N];
int main() {
    int n, l, t;
    scanf("%d%d%d",&n,&l,&t);
    t <<= 1;
    for (int i = 0; i < n; i++)
        scanf("%d",&a[i]);
    Uint sum = 0;
    int j = 0;
    int k = 0;
    if(t>=l){
        sum = n;
        sum *= n-1;
        sum*=t/l;
        t = t % l;
    }
    for (int i = 0; i < n; i++) {
        while (a[i] - a[j] > t) {
            j++;
        }
        while (l - (a[i] - a[k]) <= t) {
            k++;
        }
        sum += i - j + k;
    }
    printf("%.6lf\n", (double)sum / 4);
    return 0;
}
/*
3 7 3
0 1 6
*/
