#include <cstdio>
#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

long long a[2000010];

int main() {
  //freopen("collisions.in", "r", stdin);
  //freopen("collisions.out", "w", stdout);
  long long n, l, t;
  double ans = 0;
  cin >> n >> l >> t;
  for (int i = 0; i < n; ++i) {
    cin >> a[i];
    a[n + i] = a[i] + l;
  }
  ans = 0.5 * (t/l) * (n * (n - 1));
  t = t % l;
  for (int i = 0; i < n; ++i) {
    ans += 0.25 * (upper_bound(a, a + 2 * n, 2 * t + a[i]) - (a + i + 1));
  }
  cout.precision(10);
  cout << ans << endl;
  return 0;
}