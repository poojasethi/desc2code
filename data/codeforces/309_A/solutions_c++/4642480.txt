#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define db double
#define For(i,x,y) for (i=x;i<=y;i++)
#define N 2000010
using namespace std;
int i,j,k,n,m,t,L;
int a[N];
db an,x;
int main() {
	scanf("%d%d%d",&n,&L,&t);
	if (n==1) printf("%.12lf\n",0),exit(0);
	For(i,1,n) scanf("%d",&a[i]),a[n+i]=a[i]+L;
	j=1; t*=2; x=t/L,t%=L;
	For(i,1,n) {
		for (;j<n*2&&a[j]-a[i]<=t;j++);
		an+=j-i-1;
	}
	printf("%.12lf\n",(an+x*n*(n-1))/4);
	//for(;;);
	return 0;
}
