#include <string.h>
#include <stdio.h>
#include <algorithm>
#include <iostream>
#include <stdlib.h>

using namespace std;

const int N = 1000010;

long long n, l, t;

long long a[N];

int main(){
	cin >> n >> l >> t;
	for(int i = 0; i < n; i++)
		cin >> a[i];

	t += t;

	double ret = t / l * 1.0 * n * (n - 1) / 4.0;

	t %= l;

	for(int i = 0, j = 1; i < n; i++){
		while((a[i] - a[j] + l) % l > t){
			j++;
			if(j >= n) j -= n;
		}
		int x = (i - j + n) % n;
		ret += x / 4.0;
		if(i + 1 == j)
			j = (j + 1) % n;
	}
	
	printf("%.15f\n", ret);
	return 0;
}
