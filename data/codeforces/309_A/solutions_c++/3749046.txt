#include <stdio.h>
#include <string.h>

#define N 1000000
int a[2 * N];
int main(){
    int n,l,t;
    scanf("%d%d%d",&n,&l,&t);
    for(int i = 0; i < n; i ++){
        scanf("%d",&a[i]);
        a[i + n] = a[i] + l;
    }
    t = t * 2;//往相反方向跑,相当于时间*2
    int k = t / l;//圈数
    t %= l;
    int j = 0;
    double ans = 0;
    for(int i = 0; i < n; i ++){
        for(;j < 2 * n && a[j] - a[i] <= t; j ++);
            
        ans += double(j - i - 1);
        
    }
    //printf("%lf\n",ans);
    printf("%.8lf\n",0.25*(ans + double(k) * double(n) * (n - 1.0)));

    return 0;
}
