//In the name of God
#include <iostream>
#include <iomanip>
using namespace std;
typedef long double LD;

int n, l, t, a[2000 * 1000 + 10];
LD r;

int main() {
	cin.sync_with_stdio(false);
	cin >> n >> l >> t;
	for (int i = 0; i < n; i++) {
		cin >> a[i];
		a[n + i] = a[i] + l;
	}
	t *= 2;
	LD x = t / l;
	t %= l;
	for (int i = 0, j = 0; i < n; i++) {
    	for ( ; j < 2 * n && a[j] - a[i] <= t; j++)
			;
		r += j - i - 1;
  	}
	cout << setprecision(7) << fixed << (r + (LD) n * (n - 1) * x) / 4. << '\n';
	return 0;
}
