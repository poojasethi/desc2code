#include <bits/stdc++.h>
using namespace std;
#define LL long long
LL A[2000010];
int main()
{
	int N,L,T;
	cin>>N>>L>>T;
	for(int i = 0;i<N;i++)
		cin>>A[i];
	LL CompleteRound = T/L;
	LL Partial = T%L;
	double Ans = 0.0;
	Ans+=CompleteRound*N*(N-1)/2;
	for(int i = 0;i<N;i++)
	{
		A[i+N] = A[i] + L;
	}
	for(int i = 0;i<N;i++)
	{
		int idx = upper_bound(A,A + 2*N,A[i] + 2*Partial) - (A+i);
		Ans+=(idx-1)*1.0/4;
	}
	cout.precision(10);
	cout<<Ans<<endl;
	return 0;
}