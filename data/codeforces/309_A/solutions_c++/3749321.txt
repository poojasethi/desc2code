#include <cstdio>
#include <iostream>
using namespace std;
int n,l,t,a[2000005],i,j,x;
double ans;
int main (){
	scanf ("%d %d %d",&n,&l,&t);
	for (i=1;i<=n;i++){
		scanf ("%d",&a[i]);
		a[n+i]=a[i]+l;
	}
	t=t*2;
	x=t/l;
	t=t%l;
	for (i=1;i<=n;i++){
		for (;j<=2*n&&a[j]-a[i]<=t;j++);
		ans+=j-i-1;
	}
	printf ("%.10lf\n",0.25*(ans+double(x)*double(n)*(n-1.0)));
	return 0;
}
