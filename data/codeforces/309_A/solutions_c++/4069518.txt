#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
using namespace std;
const int N = 1000005;
int a[N<<1];
int main()
{
      int i,n,l,t;
      scanf("%d%d%d",&n,&l,&t);
      for(i=0;i<n;++i)  scanf("%d",&a[i]);
      for(i=n;i<n*2;++i)      a[i]=a[i-n]+l;
      int k=2*t/l;l=2*t%l;
      double ans=1.0*n*(n-1)*k;
      int r=0;
      for(i=0;i<n;++i)
      {
         while(r<n*2 && a[r]-a[i]<=l)     r++;
         ans+=r-i-1;
      }
      printf("%.10lf",0.25*ans);
      return 0;
} 
