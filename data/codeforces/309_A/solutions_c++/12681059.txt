#include<stdio.h>
#include<stdlib.h>
#include<iostream>
using namespace std; 
int a[3000000]; 

int main()
{
	int n,l,t,i,ci,time,tot,num,r; 
	double ans; 
	//freopen("in.txt","r",stdin); 
	cin>>n>>l>>t; 
	for (i=1; i<=n; i++)  scanf("%d",&a[i]);  
	ans=0; 
	ci=(2*t)/l; 
	ans=(double)(ci)*(double)(n)*(double)(n-1)/4.0; 
	time=2*t-ci*l;
	for (i=n+1; i<=2*n; i++)
	   a[i]=a[i-n]+l; 
	l=1;   
	for (i=n+1; i<=2*n; i++)
	{
		while (a[i]-a[l]>time) l++; 
		num=i-l; 
	    ans+=((double)(num)/4.0); 
	} 
	printf("%.10lf\n",ans); 
	i=1; 
} 
	 			 			 	  		  	 	  			  	