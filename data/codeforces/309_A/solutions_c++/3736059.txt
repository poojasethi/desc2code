#include<cstdio>
#define N 1000010
int a[2*N];
int main() {
   int n,l,t,i,j,nn,k,left;
   scanf("%d%d%d",&n,&l,&t);nn=2*n;
   for(i=0;i<n;i++) scanf("%d",&a[i]);
   for(i=n;i<nn;i++) a[i]=l+a[i-n];
   k=2*t/l; left=2*t%l; 
   double ans=1.0*(n-1)*n*k;
   for(i=0,j=0;i<n;i++) {
       while(j<nn&&a[j]-a[i]<=left) j++;
       ans+=j-1-i;
   }
   printf("%lf\n",ans/4);
   return 0;
}