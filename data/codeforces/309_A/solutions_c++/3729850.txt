#include<stdio.h>
#include<string.h>
#include<algorithm>
#include<iostream>
using namespace std;

long long a,b,num,n,l,t;
int aa[2100000];

int main()
{
    int i,j;
    cin>>n>>l>>t;

    for(i=1;i<=n;i++)
	scanf("%d",&aa[i]);
    for(i=1;i<=n;i++)
	aa[i+n]=aa[i]+l;
    a=2*t/l;num=(2*t)%l;
    
    long long ans=0;
    for(i=n+1,j=1;i<=n+n;i++)
    {
	while(aa[i]-aa[j]>num)
	    j++;
	ans+=a*(n-1)+i-j;
    }
    cout<<ans/4;
    ans%=4;
    if(ans==0)
	puts(".000000000000");
    else if(ans==1)
	puts(".250000000000");
    else if(ans==2)
	puts(".500000000000");
    else
	puts(".750000000000");
}
