#include<cstdio>
#include<iostream>
#include<string>
#include<cstring>
using namespace std;

struct unit
{int u,v;
 int next;
};
struct unit e[200000];

int n,m,num,p[100100],a[100100],used[100100],fa[100100];

void add(int u,int v)
{e[num].u=u;
 e[num].v=v;
 e[num].next=p[u];
 p[u]=num;
 num++;

 e[num].u=v;
 e[num].v=u;
 e[num].next=p[v];
 p[v]=num;
 num++;
}

void dfs(int i)
{int j;
 
 j=p[i];
 used[i]=1;
 while(j!=-1)
 {if(used[e[j].v]==0)
  {fa[e[j].v]=i;
   dfs(e[j].v);
  }
  j=e[j].next;
 }
}

int gcd(int x,int y)
{int t;
 
 if(x<y)
 {t=x;
  x=y;
  y=t;
 }
 
 if(y==0) return x;
 
 gcd(y,x%y);
}
    
void work(int i)
{int j;
 
 j=fa[i];
 while(j!=0)
 {if(gcd(a[i],a[j])>1)
  {printf("%d\n",j);
   return ;
  }
  j=fa[j];
 }
 
 printf("%d\n",-1);
}
 

int main()
{int i,j,x,y,t;
 
 scanf("%d%d",&n,&m);
 
 for(i=1;i<=n;i++) scanf("%d",&a[i]);
 
 memset(p,-1,sizeof(p));
  
 for(i=1;i<n;i++)
 {scanf("%d%d",&x,&y);
  add(x,y);
 }
 
 dfs(1);
 
 for(i=1;i<=m;i++)
 {scanf("%d",&t);
  if(t==1)
  {scanf("%d",&x);
   work(x); 
  }
  else
  {scanf("%d%d",&x,&y);
   a[x]=y;
  }
 }
 
 return 0;
}