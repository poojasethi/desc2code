import sys

def longest_increasing(seq):
    curlen = 1
    maxlen = 1

    for i in range(len(seq)-1):
        # print seq[i], seq[i+1], curlen
        if seq[i] < seq[i+1]:
            curlen += 1
        else:
            if curlen > maxlen:
                maxlen = curlen
            curlen = 1
    if curlen > maxlen:
        maxlen = curlen
    # print maxlen
    return maxlen

def solve(train):
    pos = [-1]*(len(train))
    for i in range(len(train)):
        pos[train[i]-1] = i

    # print pos
    return len(train) - longest_increasing(pos)

if __name__=='__main__':
    lines = sys.stdin.readlines()

    n = int(lines[0])

    train = [int(v) for v in lines[1].strip().split()]

    print solve(train)