from sys import stdin
def main():
    n = int(stdin.readline())
    a = map(int, stdin.readline().split())
    t = [0] * n
    for i, x in enumerate(a):
        t[x-1] = i
    x = c = 0
    for i in xrange(1, n):
        if t[i] > t[i-1]:
            c += 1
        else:
            c = 0
        if x < c:
            x = c
    print n - 1 - x
main()
