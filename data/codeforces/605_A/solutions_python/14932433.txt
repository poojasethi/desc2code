n=input()
pos=[0]*(n+2)
for p,x in zip(range(n), map(int,raw_input().split())):
	pos[x]=p
ans=n
start=1
for i in range(2,n+2):
	if pos[i]<=pos[i-1]:
		ans=min(ans,n-i+start)
		start=i
print ans