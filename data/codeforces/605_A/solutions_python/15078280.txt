import sys

def solve():
    n = int(sys.stdin.readline())
    cars = map(int, sys.stdin.readline().split())
    pos = [0]*(n+1)
    for ind in range(n):
        pos[cars[ind]] = ind

    prev = -1
    maxLen = 0
    curLen = 0
    for ind in range(1, n+1):
        if pos[ind] > prev:
            prev = pos[ind]
            curLen += 1
            if curLen > maxLen:
                maxLen = curLen
        else:
            prev = pos[ind]
            curLen = 1
    return n - maxLen

print solve()

