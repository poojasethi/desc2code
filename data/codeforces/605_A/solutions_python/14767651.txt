#coding: utf-8

n = int(raw_input())
pos = map(int, raw_input().split(' '))
car = [0 for x in xrange(n)]

for i in xrange(0, n) :
    car[pos[i] - 1] = i
len = ans = 1

for i in xrange(1, n) :
    if car[i] > car[i - 1] :
        len += 1
        ans = max(ans, len)
    else:
        len = 1
print(n - ans)