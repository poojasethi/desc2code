#include <cstdio>
#include <algorithm>
#include <utility>
using namespace std;
#define X first
#define Y second 
#define mp make_pair
typedef pair<int,int> pii ;
const int maxn=1e4,maxm=5e5,log=15 ;
pii arr[maxm] ;
int n,ys[log][maxm] ;
void gooding(int dep,int l,int r)
{
	if(l==r-1)
	{
		ys[dep][l]=arr[l].Y ;
		return  ;
	}
	gooding(dep+1,l,(l+r)/2);
	gooding(dep+1,(l+r)/2,r) ;
	merge(ys[dep+1]+l,ys[dep+1]+(l+r)/2,ys[dep+1]+(l+r)/2,ys[dep+1]+r,ys[dep]+l) ;
	for(int i=l;i<r;i++)
	{
		arr[n]=mp(arr[(l+r)/2].X,ys[dep][i]) ;
		n++ ;
	}
}
int main()
{
	scanf("%d",&n) ;
	for(int i=0;i<n;i++)
		scanf("%d %d",&arr[i].X,&arr[i].Y) ;
	sort(arr,arr+n) ;
	gooding(0,0,n) ;
	sort(arr,arr+n) ;
	n=unique(arr,arr+n)-arr ;
	printf("%d\n",n) ;
	for(int i=0;i<n;i++)
		printf("%d %d\n",arr[i].X,arr[i].Y) ;
}
