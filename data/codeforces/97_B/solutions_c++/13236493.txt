#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;

int tot;

struct A
{
	int x,y;
}a[200005];

bool cmp(A a,A b)
{
	if(a.x!=b.x)return a.x<b.x;
	return a.y<b.y;
}

void calc(int l,int r)
{
	if(l==r)return;
	int m=(l+r)/2;
	for(int i=l;i<=r;++i)
	{
		tot++;
		a[tot].x=a[m].x;
		a[tot].y=a[i].y;
	}
	calc(l,m);
	calc(m+1,r);
}

int main()
{
	int n;
	scanf("%d",&n);
	for(int i=1;i<=n;++i)
	{
		scanf("%d%d",&a[i].x,&a[i].y);
	}
	sort(a+1,a+n+1,cmp);
	tot=n;
	calc(1,n);
	int num=0;
	sort(a+1,a+tot+1,cmp);
	a[0].x=1000000001;
	for(int i=1;i<=tot;++i)
	{
		if(a[i].x==a[i-1].x&&a[i].y==a[i-1].y)num++;
	}
	printf("%d\n",tot-num);
	for(int i=1;i<=tot;++i)
	{
		if(a[i].x!=a[i-1].x||a[i].y!=a[i-1].y)printf("%d %d\n",a[i].x,a[i].y);
	}
}
	 			   	 			  		 		 	     			