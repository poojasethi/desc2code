#include<stdio.h>
#include<algorithm>
long n,i,set,ans;
struct type{long x,y;}a[200010];
bool cmp(type x,type y){return x.x<y.x||(x.x==y.x && x.y<y.y);}
void work(long l,long r){
     if (l>=r) return;
     long mid=(l+r)/2;
     for (long i=l;i<=r;i++)
         a[++set]=(type){a[mid].x,a[i].y};
     work(l,mid-1);
     work(mid+1,r);
}
int main(){
    scanf("%ld",&n);
    for (i=1;i<=n;i++)
        scanf("%ld%ld",&a[i].x,&a[i].y);
    std::sort(a+1,a+1+n,cmp);
    set=n;
    work(1,n);
    std::sort(a+1,a+1+set,cmp);
    for (i=1;i<=set;i++)
        if (i==1 || !(a[i].x==a[i-1].x && a[i].y==a[i-1].y))
            ans++;
    printf("%ld\n",ans);
    for (i=1;i<=set;i++)
        if (i==1 || !(a[i].x==a[i-1].x && a[i].y==a[i-1].y))
            printf("%ld %ld\n",a[i].x,a[i].y);
    return 0;
}
