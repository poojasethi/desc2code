#include <cstdio>
#include <algorithm>

using namespace std;

#define mp make_pair
#define fir first
#define sec second

const int N = 10005;

pair<int, int> a[N], b[N*15];

int n, cnt;

void solve(int l, int r) {
	int m = (l+r)>>1, mx = a[m].fir;
	for (int i=l; i<=r; ++i) b[++cnt] = mp(mx, a[i].sec);
	if (l < m) solve(l, m-1);
	if (m < r) solve(m+1, r);
}

int main() {
	scanf("%d", &n);
	for (int i=1; i<=n; ++i)
		scanf("%d%d", &a[i].fir, &a[i].sec);
	sort(a+1, a+n+1);
	solve(1, n);
	sort(b+1, b+cnt+1);
	cnt = unique(b+1, b+cnt+1) - b - 1;
	printf("%d\n", cnt);
	for (int i=1; i<=cnt; ++i)
		printf("%d %d\n", b[i].fir, b[i].sec);
	return 0;
}
	  	  			 		 		   		     	