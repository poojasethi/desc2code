#include <cstdio>
#include <cstring>
#include <cmath>
#include <iostream>
#include <algorithm>

using namespace std;

pair<int,int> a[10005];
pair<int,int> ans[200005];
int n,num;
void work(int l,int r)
{
	if (l>r) return;
	int mid=(l+r)/2;
	int dq=a[mid].first;
	for (int i=l;i<=r;++i)
	{
		++num;ans[num]=make_pair(dq,a[i].second);
	}
	work(l,mid-1);
	work(mid+1,r);
}
int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;++i) scanf("%d%d",&a[i].first,&a[i].second);
	sort(a+1,a+n+1);
	num=0;
	work(1,n);
	sort(ans+1,ans+num+1);
	num=(int)(unique(ans+1,ans+num+1)-(ans+1));
	printf("%d\n",num);
	for (int i=1;i<=num;++i) printf("%d %d\n",ans[i].first,ans[i].second); 
	return 0;
}
	  	  		  			  		        		   	