#include <iostream>
#include <algorithm>
#include <set>
using namespace std;

#define X first
#define Y second	

typedef pair<int, int> pii;

const int MAXn = 10000;
int n;
pii ar[MAXn];
set<pii> s;

void solve(int start, int end);

int main()
{
	cin >> n;
	for (int i=0; i<n; i++)
	{
		cin >> ar[i].X >> ar[i].Y;
		s.insert(ar[i]);
	}

	sort(ar, ar+n);

	solve(0, n);

	cout << s.size() << endl;
	for (set<pii>::iterator it=s.begin(); it!=s.end(); it++)
		cout << it->X << ' ' << it->Y << endl;

	return 0;
}

void solve(int start, int end)
{
	if (end-start<2)
		return;

	int mid = (start+end)/2;
	solve(start, mid);
	solve(mid, end);

	for (int i=start; i<end; i++)
		s.insert(make_pair(ar[mid].X, ar[i].Y));
}
