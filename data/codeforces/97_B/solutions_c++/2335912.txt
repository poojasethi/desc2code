#include <iostream>
#include <set>
#include <algorithm>
#include <vector>
#define F first
#define S second

using namespace std;

const int MAX_N = 10000 + 50;

int n;
pair<int, int> num[MAX_N];
set< pair<int, int> > ans;

void merge(int s, int e)
{
	int m = (s+e)/2;
	for(int i=s ; i<e ; i++)
		ans.insert( make_pair(num[m].F, num[i].S) );
}

void dc(int s, int e)
{
	if(e-s == 1)
		return;
	int m = (s+e)/2;
	dc(s, m);
	dc(m, e);
	merge(s, e);
}

int main()
{
	cin >> n;
	for(int i=0 ; i<n ; i++)
	{
		cin >> num[i].F >> num[i].S;
		ans.insert( num[i] );
	}
	sort(num, num+n);
	dc(0, n);
	cout << ans.size() << endl;
	for(set< pair<int, int> > :: iterator i = ans.begin() ; i != ans.end() ; i++)
	{
		pair<int, int> tmp = *i;
		cout << tmp.F << ' ' << tmp.S << endl;
	}
	return 0;
}
