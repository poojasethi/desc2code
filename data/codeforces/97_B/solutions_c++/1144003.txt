#include<set>
#include<cstdio>
#include<vector>
#include<utility>
#include<iostream>
#include<algorithm>
using namespace std;
int n;
vector<pair<int,int> >v;
set<pair<int,int> >s;
set<pair<int,int> >::iterator it;
void bin(int st,int fn) {
    if(st>=fn) return;
    int mid=(st+fn)/2;
    for(int i=st;i<=fn;i++) 
        s.insert(make_pair(v[mid].first,v[i].second));
    bin(st,mid);
    bin(mid+1,fn);
}
int main(){
    cin>>n;
    for(int i=0;i<n;i++)
    {
        int x,y;
        scanf("%d%d",&x,&y);
        v.push_back(make_pair(x,y));
        s.insert(make_pair(x,y));
    }
    sort(v.begin(),v.end());
    bin(0,n-1);
    cout<<s.size()<<endl;
    for(it=s.begin();it!=s.end();it++)
        cout<<(*it).first<<" "<<(*it).second<<endl;
}
