#include <iostream>
#include <algorithm>

using namespace std;

#define X first
#define Y second

const int N = 200 * 1000 + 10;
pair <int, int> a[N];
int n;

void f(int s, int e)
{
	if (e - s < 2)
		return;
	int mid = (s + e) / 2;
	//cout << mid << endl;
	f(s, mid);
	f(mid + 1, e);
	int x = a[mid].X;
	for (int i = s; i < e; i++)
	{
		a[n].X = x;
		a[n].Y = a[i].Y;
		n++;
	}
}

int main()
{
	cin >> n;
	for (int i = 0; i < n; i++)
		cin >> a[i].X >> a[i].Y;
	sort(a, a + n);
	f(0, n);
	sort(a, a + n);
	n = unique(a, a + n) - a;
	cout << n << endl;
	for (int i = 0; i < n; i++)
		cout << a[i].X << " " << a[i].Y << endl;
	return 0;
}
