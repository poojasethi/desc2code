#include<iostream>
using namespace std;

int dp[100010],n,q,t,fa[310],chd[310],p[310],a,b,co[10010],m=0,flag=1;
int main()
{
    cin>>n>>q>>t;
    for(int i=1;i<=n;i++)
       cin>>p[i];
    for(int i=0;i<q;i++)
    {
        cin>>a>>b;
        fa[b]=a;
        chd[a]=b;
    }
    for(int i=1;i<=n;i++)
    {
        int j,SUM,cnt=0;
        for(SUM=0,j=i;flag&&j;SUM+=p[j],j=fa[j],cnt++)
           if(cnt>n)
              flag=0;
        if(!flag)
           break;
        if(chd[i])
           t-=SUM;
        if(t<0)
        {
            flag=0;
            break;
        }
        int mm=t/SUM;
        for(int j=0;(1<<j)<=mm;j++)
           co[++m]=SUM*(1<<j);
        if(m>10000)while(1);
    }
    if(!flag)
    {
        cout<<0<<endl;
        return 0;
    }
    dp[0]=1;
    for(int i=1;i<=m;i++)
        for(int j=t;j>=co[i];j--)
           dp[j]=(dp[j-co[i]]+dp[j])%1000000007;
    cout<<dp[t]<<endl;
    return 0;
}

 		  	  	  				 	  	 		 		