#include <cstdio>
#include <algorithm>
#define REP(i,n) for (int i=1;i<=n;++i)
using namespace std;

const int MO=1000000007;
int n,q,t,a[330],b[330],must[330],w[330][330],f[100010];

int main() {
	scanf("%d%d%d",&n,&q,&t);
	REP(i,n) scanf("%d",&a[i]);
	REP(i,q) {
		int x,y;
		scanf("%d%d",&x,&y);
		w[x][y]=true;
	}
	REP(k,n) REP(i,n) REP(j,n)
		if ((w[i][k])&&(w[k][j])) w[i][j]=true;
	REP(i,n) if (w[i][i]) {puts("0");return 0;}
	REP(k,n) REP(i,n) REP(j,n)
		if (w[i][j]) must[i]=max(must[i],must[j]+1);
	REP(i,n) {
		t-=must[i]*a[i];
		if (t<0) {puts("0");return 0;}
	}
	REP(i,n) b[i]=a[i];
	REP(i,n) REP(j,n) if (w[i][j]) b[j]+=a[i];
	f[0]=1;
	REP(i,n)
		for (int j=b[i];j<=t;++j)
			f[j]=(f[j-b[i]]+f[j])%MO;
	printf("%d\n",f[t]);
	return 0;
}
