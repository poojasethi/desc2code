#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 310
#define M 100010
#define mo 1000000007
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,t,x,y;
int next[N],in[N],F[N],a[N],f[M],ff[M];
inline void fail() {
	printf("0\n");
	//for(;;);
	exit(0);
}
void dfs(int x) {
	if (!x) return;
	F[x]=1;
	a[next[x]]+=a[x];
	dfs(next[x]);
}
int main() {
	scanf("%d%d%d",&n,&m,&t);
	For(i,1,n) scanf("%d",&a[i]);
	For(i,1,m) {
		scanf("%d%d",&x,&y);
		next[x]=y; in[y]++;
	}
	For(i,1,n) if (!in[i]) dfs(i);
	For(i,1,n) if (!F[i]) fail();
	long long k=0; For(i,1,n) if (next[i]) k+=a[i];
	if (k<=t) f[k]=1;
	For(i,1,n)for (j=a[i];j<=t;j++) f[j]=(f[j]+f[j-a[i]])%mo;
	printf("%d\n",f[t]);
	//for(;;);
	return 0;
}
