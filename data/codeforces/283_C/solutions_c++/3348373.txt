#include<cstdio>
#include<vector>
#include<algorithm>
#define MAXN 310
#define MAXW 100010
#define MOD 1000000007

using namespace std;

bool vis[MAXN];
vector<int> vec;
int w[MAXN], n, m, t, dp[MAXW], in_deg[MAXN], next[MAXN], tot;

int main()
{
	scanf("%d %d %d", &n, &m, &t);
	for(int i = 1; i <= n; i++)
		scanf("%d", w + i), tot += w[i];
	while(m--)
	{
		int u, v;
		scanf("%d %d", &u, &v);
		next[u] = v;
		in_deg[v]++;
	}
	long long int cnt = 0, sum = 0;
	for(int i = 1; i <= n; i++)
		if(!in_deg[i])
		{
			int s = 0;
			for(int v = i; v; v = next[v])
			{
				cnt++, sum += s;
				s += w[v];
				vec.push_back(s);
			}
		}
	if(sum > t || cnt != n)
		return puts("0");
	dp[sum] = 1;
	for(int i = 0; i < vec.size(); i++)
		for(int j = vec[i]; j <= t; j++)
			dp[j] = (dp[j] + dp[j - vec[i]]) % MOD;
	printf("%d\n", dp[t]);
}