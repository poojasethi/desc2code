#include <iostream>
#include <algorithm>
#include <cstdio>
#include <cstring>
using namespace std;

typedef long long ll;

const ll mod = 1000000007;

ll i, j, k, x, y, z, n, m, s;
ll a[301], ne[301];
ll t[301];
ll f[1000001];

int main() {
	scanf("%I64d%I64d%I64d", &n, &m, &s);
	for (i = 1; i <= n; ++i) scanf("%I64d", &a[i]);
	for (i = 1; i <= m; ++i) {
		scanf("%I64d%I64d", &x, &y);
		ne[x] = y;
	}
	for (i = 1; i <= n; ++i) {
		for (j = 0, k = i; ne[k] && j < 10000; ++j, k = ne[k]) t[k] += a[i];
		t[k] += a[i];
		if (j >= 10000) {
			printf("0\n"); return 0;
		}
		s -= j * a[i];
		if (s < 0) {printf("0\n"); return 0;}
	}
	if (s < 0) {printf("0\n"); return 0;}
	f[0] = 1;
	for (i = 1; i <= n; ++i)
		for (j = 0; j <= s - t[i]; ++j)
			f[j + t[i]] = (f[j + t[i]] + f[j]) % mod;
	printf("%I64d\n", f[s]);
	return 0;
}
