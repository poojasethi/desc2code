#include<stdio.h>
#include<vector>
#include<algorithm>
#define mod 1000000007
#define T 1000050
#define N 305
using namespace std;
typedef long long LL;

int m,n,q;
LL t;
LL co[N],dp[T],gr[N],vis[N],ans=1,deg[N];
void dfs(int x){
	int i,j,k,y;
	vis[x]=1;
	if(gr[x]==0);
	else if(vis[gr[x]]) ans=0;
	else{
		dfs(gr[x]);
		co[x]+=co[gr[x]];
	}
	t-=co[x];
}
int main(){
	int i,j,k,x,y,z;
	scanf("%d%d%I64d",&n,&q,&t);
	for(i=1;i<=n;i++) scanf("%I64d",co+i);
	for(i=1;i<=q;i++){
		scanf("%d %d",&x,&y);
		gr[y]=x;
		deg[x]++;
	}
	for(i=1;i<=n;i++){
		if(!vis[i]&&deg[i]==0){
			dfs(i);
			t+=co[i];
		}
	}
	for(i=1;i<=n;i++){
		if(!vis[i]) ans=0;
	}
	if(!ans||t<0) puts("0");
	else{
		dp[0]=1;
		for(i=1;i<=n;i++){
			for(j=0;j<=t;j++){
				if(j>=co[i]) dp[j]+=dp[j-co[i]];
				dp[j]%=mod;
			}
		}
		printf("%I64d\n",dp[t]);
	}
//	for(i=1;i<=n;i++) printf("%I64d ",co[i]);
	getchar();getchar();
} 
