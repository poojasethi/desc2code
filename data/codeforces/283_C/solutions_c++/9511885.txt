#include<bits/stdc++.h>
using namespace std;
long long n,q,T,s,t,a[301],pre[301],f[301],rd[301],dp[100001],mof=1e9+7;
int sol(int x)
{
	if(f[x])return a[x];
	f[x]=1;
	if(!pre[x])return a[x];
	return a[x]=a[x]+sol(pre[x]);
}
int main()
{
	cin>>n>>q>>T;
	for(int i=1;i<=n;++i)cin>>a[i];
	while(q--)
		cin>>s>>t,pre[t]=s,rd[s]++;
	for(int i=1;i<=n;++i)
	{
		int p=i;
		if(f[p])continue;
		while(!f[p])
			f[p]=1,p=pre[p];
		if(p==i)return puts("0");
	}
	memset(f,0,sizeof f);
	for(int i=1;i<=n;++i)
		if(!rd[i]&&!f[i])sol(i);
	for(int i=1;i<=n;++i)
		if(rd[i])T-=a[i];
	if(T<0)return puts("0");
	dp[0]=1;
	for(int i=1;i<=n;++i)
		for(int j=0;j<=T-a[i];++j)
			dp[j+a[i]]=(dp[j]+dp[j+a[i]])%mof;
	cout<<dp[T];
}