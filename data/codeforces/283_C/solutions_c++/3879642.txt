#include <iostream>
#include <algorithm>
#include <cstring>
#include <cstdio>
#include <set>

using namespace std;

typedef long long ll;

const int N = 310;
const int M = 100010;
const int mod = 1e9 + 7;

int n, q;
int next[N], pre[N];
ll dp[M], a[N], t;

int main(){
	cin >> n >> q >> t;
	for(int i = 1; i <= n; ++i)
		cin >> a[i];
	for(int i = 0, x, y; i < q; ++i){
		cin >> x >> y;
		next[x] = y;
		pre[y] = x;
	}
	int cnt = 0;
	for(int i = 1; i <= n; ++i){
		if(pre[i]) continue;
		for(int j = i; j; j = next[j]){
			cnt ++;
			a[j] += a[pre[j]];
			if(next[j]) t -= a[j];
		}
	}
	if(t < 0 || cnt < n){
		puts("0");
		return 0;
	}
	memset(dp, 0, sizeof(dp));
	dp[0] = 1;
	for(int i = 1; i <= n; ++i)
		for(int j = a[i]; j <= t; ++j){
			dp[j] = (dp[j] + dp[j - a[i]]) % mod;
	}
	cout << dp[t] << endl;
	return 0;
}
