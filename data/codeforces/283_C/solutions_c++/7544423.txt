#include<cstdio>
#define GO {puts("0");return 0;}
#define N 305
#define T 100005
using namespace std; 
int f[N][N],b[T],a[N],w[N],fa[N],i,j,n,q,t,x,y,k,cnt;
const int P=1000000007;
int main()
{
  scanf("%d%d%d",&n,&q,&t);
  for (i=1;i<=n;i++)
    scanf("%d",&w[i]),a[i]=w[i];
  for (i=1;i<=q;i++)
    scanf("%d%d",&x,&y),f[x][y]=1,fa[y]=x;
  for (k=1;k<=n;k++)
    for (i=1;i<=n;i++)
      for (j=1;j<=n;j++)
        f[i][j]=f[i][j]||f[i][k]&&f[k][j];
  for (i=1;i<n;i++)
    for (j=i+1;j<=n;j++)
      if (f[i][j]&&f[j][i]) GO;
  for (i=1;i<=n;i++)
    for (j=1;j<=n;j++)
      if (f[j][i])
      {
        a[i]+=w[j],t-=w[j];
        if (t<0) GO;
      }
  b[0]=1;
  for (i=1;i<=n;i++)
    for (j=a[i];j<=t;j++)
      (b[j]+=b[j-a[i]])%=P;
  printf("%d",b[t]);
  return 0;
}
