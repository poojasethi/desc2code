#include <cstdio>
#include <cstring>
#include <algorithm>
#include <vector>
#define maxn 100009
#define MOD 1000000007
using namespace std;
int next[maxn],a[maxn],w[maxn],f[maxn];
int main()
{
	int n,q,t;
	scanf("%d%d%d",&n,&q,&t);
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i]);
	for(int i=1;i<=q;i++)
	{
		int x,y;
		scanf("%d%d",&x,&y);
		next[y]=x;
	}
	for(int i=1;i<=n;i++)
	{
		int cur=i;
		for(cur=next[cur];cur!=i&&cur;cur=next[cur])
			w[i]+=a[cur];
		if(cur==i)
		{
			puts("0");
			return 0;
		}
		t-=w[i];
		if(t<0)
		{
			puts("0");
			return 0;
		}
		w[i]+=a[i];
	}
	f[0]=1;
	for(int i=1;i<=n;i++)
	{
		for(int j=w[i];j<=t;j++)
		{
			f[j]=(f[j]+f[j-w[i]])%MOD;
		}
	}
	printf("%d\n",f[t]);
	//system("pause");
	return 0;
}