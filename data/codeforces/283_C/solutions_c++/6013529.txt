#include<stdio.h>
#include<iostream>
using namespace std;
#define M 1000000007
int n,q,t,x,y,c,i,j,s,a[1000],p[1000],d[1000],v[100005];
int main(){
  	scanf("%d%d%d",&n,&q,&t);
  	for(i=1;i<=n;i++)scanf("%d",&a[i]);
  	for(i=1;i<=q;i++){
	  	scanf("%d%d",&x,&y);
		p[x]=y;d[y]++;
  	}
  	c=0;
  	for(i=1;t>=0&&i<=n;i++)
	  	if(!d[i]){
  			s=0;
    		for(j=i;t>=0&&j>0;j=p[j]){
      			c++;
      			a[j]+=s;
      			s=a[j];
      			if(p[j]>0)t-=a[j];
    		}
  		}
	v[0]=1;
  	if(t<0||c<n)printf("0\n");
  	else{
    	for(i=1;i<=n;i++)
			for(j=a[i];j<=t;j++){
				v[j]=(v[j]+v[j-a[i]])%M;
			}
    	printf("%d\n",v[t]);
  	}
}
	   	 	 	 		 		  	 	 	  	 	