#include<cstdio>
#include<string>
#include<cstring>
#include<algorithm>
#include<queue>
#include<cmath>
#include<iostream>
#include<cstdlib>

#define FOR(i,a,b) for(int i=(a);i<=(b);i++)
#define FORD(i,a,b) for(int i=(a);i>=(b);i--)
#define MS0(x) memset(x,0,sizeof(x))

using namespace std;
typedef long long LL;

int N,Q,T;
int a[400],aa[400],pt[400],tp[400],n,F[200000];

void dfs(int v,int tot){
  aa[++n]=tot+a[v];
  if(pt[v]){
    T-=aa[n];
    if(T<0){printf("0");exit(0);}
    dfs(pt[v],aa[n]);
  }
}
  

int main(){
  scanf("%d%d%d",&N,&Q,&T);
  FOR(i,1,N)scanf("%d",a+i);
  FOR(i,1,Q){
    int x,y;
    scanf("%d%d",&x,&y);
    pt[x]=y;
    tp[y]=x;
  }
  n=0;
  FOR(i,1,N)if(tp[i]==0)dfs(i,0);
  
  if(n!=N||T<0){printf("0");exit(0);}
  
  F[0]=1;
  FOR(i,1,n){
    FOR(j,aa[i],T){
      F[j]=(F[j]+F[j-aa[i]])%1000000007;
    }
  }
  
  printf("%d",F[T]);
  
}
