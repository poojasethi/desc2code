#include <cstdio>
#include <cstring>
#define P 1000000007

int N,M,T,a[305],f[100005],p[305],q[305];
bool b[305],c[305];

int main()
{
	scanf("%d%d%d",&N,&M,&T),f[0]=1;
	for (int i=1; i<=N; i++) scanf("%d",&a[i]);
	for (int i=1,x,y; i<=M; i++) scanf("%d%d",&x,&y),p[x]=y,c[y]=1;
	for (int i=1; i<=N; i++) if (!c[i])
	{
		int l=0; long long s=0;
		for (int x=i; x; q[++l]=a[x],b[x]=1,x=p[x]) if (b[x]) return puts("0"),0;
		for (int i=2; i<=l; i++) q[i]+=q[i-1],s+=q[i-1];
		if (s>T) return puts("0"),0;
		for (int j=T; j>=0; j--) f[j]=j>=s?f[j-s]:0;
		for (int j=1; j<=l; j++)
			for (int k=q[j]; k<=T; k++) (f[k]+=f[k-q[j]])%=P;
	}
	for (int i=1; i<=N; i++) if (!b[i]) return puts("0"),0;
	printf("%d\n",f[T]);
}