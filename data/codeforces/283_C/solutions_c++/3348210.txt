#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#define rep(i,s,t) for (int i=s;i<=t;i++)
using namespace std;
typedef long long LL;
const int maxn = 100001;
const int MOD = 1000000007;
LL f[maxn],a[maxn],t;
int fro[maxn];
int n,m,x,y;
bool gao[maxn];
int luangao;
void dfs(int k,LL sum)
{
    luangao++;
    sum += a[k];
    a[k] = sum;
    if (fro[k])
    {
        t -= sum;
        dfs(fro[k],sum);
    }
}
int main()
{
    scanf("%d%d%I64d",&n,&m,&t);
    rep(i,1,n) scanf("%d",&a[i]);
    rep(i,1,m)
    {
        scanf("%d%d",&x,&y);
        fro[x] = y;
        gao[y] = true;
    }
    rep(i,1,n)
        if (fro[i] && !gao[i]) dfs(i,0);
    f[0] = 1;
    if (t < 0 || luangao < m) printf("0\n");
    else 
    {
        rep(i,1,n)
            for (int j = 0;j + a[i] <= t;j++)
                f[j+a[i]] = (f[j+a[i]] + f[j]) % MOD;
        cout << f[t] << endl;
    }
}
