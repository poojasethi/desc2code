#include<stdio.h>
#include<string.h>
#include<algorithm>
#define ll __int64
using namespace std ;

ll dp[111111] , a[111111] , sum , t ;
int g[111111] , f[111111] ;
int n ;
const int mod = 1000000007 ;
int tt ;

void dfs ( int u )
{
	tt ++ ;
	sum += a[u] ;
	a[u] = sum ;
	if ( g[u] )
	{
		t -= sum ;
		dfs ( g[u] ) ;
	}
}

int main ()
{
	int q , i , j ;
	tt = 0 ;
	scanf ( "%d%d%I64d" , &n , &q , &t ) ;
	for ( i = 1 ; i <= n ; i ++ )
		scanf ( "%I64d" , a + i ) ;
	int x , y ;
	for ( i = 1 ; i <= q ; i ++ )
	{
		scanf ( "%d%d" , &x , &y ) ;
		g[x] = y ;
		f[y] = x ;
	}
	for ( i = 1 ; i <= n ; i ++ )
		if ( g[i] && !f[i] )
		{
			sum = 0 ;
			dfs ( i ) ;
		}
	if ( t < 0 || tt < q )
	{
		puts ( "0" ) ;
		return 0 ;
	}
	dp[0] = 1 ;
	for ( i = 1 ; i <= n ; i ++ )
		for ( j = 0 ; j + a[i] <= t ; j ++ )
			dp[j+a[i]] = ( dp[j+a[i]] + dp[j] ) % mod ;
		printf ( "%I64d\n" , dp[t] ) ;
}
