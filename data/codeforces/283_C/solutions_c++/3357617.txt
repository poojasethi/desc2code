#include <iostream>
#include <stdio.h>
using namespace std;
typedef long long LL;
const int N=200000;
const int M=1000000007;
int n, q, next[N], d[N], s; 
LL f[N], a[N], sub, T;
void dfs(int x, int l)
{
    if (x==0)
    {
        sub-=a[l];
        return;
    }
        a[x]=a[l]+a[x];
    sub+=a[x];
    ++s;
    dfs(next[x], x);
}
void init()
{
    scanf("%d%d%d", &n, &q, &T);
    for (int i=1; i<=n; ++i)
        cin >> a[i];
    int x, y; 
    for (int i=1; i<=q; ++i)
    {
        cin >> x >> y;
        next[x]=y;
        ++d[y];
    }
    for (int i=1; i<=n; ++i)
        if (d[i]==0)
            dfs(i, 0);
    T-=sub;
}
void work()
{
    f[0]=1;
    for (int i=1; i<=n; ++i)
        for (int j=a[i]; j<=T; ++j)
            f[j]=(f[j]+f[j-a[i]])%M;
    cout << f[T];
}
int main()
{

    init();
    if (T<0||s<n)
        cout << 0;
        else work();
}
