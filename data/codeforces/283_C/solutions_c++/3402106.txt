#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;

#define FOR(it, c) for(__typeof((c).begin()) it = (c).begin(); it != (c).end(); it++)
#define SZ(c) ((int)(c).size())

const int N = 305, M = 1e5+5, MOD = 1e9+7;
int n, q, t;
int a[N], dp[M];
int lnk[N], v[N];
void add(int &x, int val) {
	x += val;
	if(x>=MOD) x -= MOD;
}
int main(void) {
	scanf("%d%d%d", &n, &q, &t);
	for(int i=1;i<=n;i++) scanf("%d", &a[i]);
	for(int i=0;i<q;i++) {
		int x, y;
		scanf("%d%d", &x, &y);
		lnk[y] = x;
	}
	for(int i=1;i<=n;i++) {
		int j=i;
		for(j=lnk[i];j!=i&&j;j=lnk[j]) v[i] += a[j];
		if(j==i) { puts("0"); return 0; }
		t -= v[i];
		if(t<0) { puts("0"); return 0; }
		v[i] += a[i];
	}
	if(t<0) { puts("0"); return 0; }
	dp[0] = 1;
	for(int i=1;i<=n;i++) {
		for(int j=0;j+v[i]<=t;j++) {
			add(dp[j+v[i]], dp[j]);
		}
	}
	printf("%d\n", dp[t]);
	return 0;
}
