#include<stdio.h>
#include<string.h>
#define MAXN 1000005
#define mod 1000000007
long long int bit[MAXN+5];
void ADD(int x,long long int y){for (;x<MAXN;x+=x&(-x))bit[x]=(bit[x]+y)%mod;}
long long int SUM(int x){int ret=0;for (;x>=1;x-=x&(-x)){ret=(ret+bit[x])%mod;} return ret; }

int main()
{
    int amm;
    scanf("%d",&amm);
    memset(bit,0,sizeof bit);
    int in;
    for (int i=0;i<amm;i++)
    {
        scanf("%d",&in);
        long long int next=((SUM(in)+1)*in+mod)%mod;
        ADD(in,next-SUM(in)+SUM(in-1));
    }
    printf("%I64d\n",SUM(MAXN));
    return 0;
}
