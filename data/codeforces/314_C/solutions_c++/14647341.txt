#include <bits/stdc++.h>
using namespace std;
int ar[100000];
const int mod = 1e9+7;
#define ll long long
ll sum[1000002];
int n;
const ll maxi = 1000001;
void add(int cur,int value){
	int i;
	for(i=cur;i< maxi;i+= i&-i)
		sum[i]= (mod+sum[i]+value)%mod;
}
int get(int cur){
	int i,ret=0;
	while(true){
		ret =(ret+ sum[cur])%mod;
		cur = (cur & (cur-1));
		if(cur==0)break;
	}
	return ret;
}
int main(){
	int i,cur,vv;cin>>n;
	for(i=0;i<n;++i)cin>>ar[i];
	ll adding,differ;
	for(i=0;i<n;++i){
		cur = ar[i];
		adding = get(cur);
		differ= (adding-get(cur-1) + mod)%mod;
		add(cur,-differ);
		adding *= cur;adding += cur;
		adding %= mod;
		add(cur,adding);
	}
	cout<<get(maxi)<<endl;
}
