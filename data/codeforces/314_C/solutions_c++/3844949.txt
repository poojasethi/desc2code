#include <algorithm>
#include <iostream>
#include <cstring>
#include <cstdio>
#include <vector>
#define INF 1000005
#define MOD 1000000007
#define _int64 long long

using namespace std;
_int64 T[INF],Las[INF];
void Update(int i,int m)
{
	for (;i<=INF;i+=i&(-i)) T[i]=(T[i]+m)%MOD;
}
_int64 Sum(int n)
{
	_int64 sum=0;
	for (;n;n-=n&(-n)) sum=(sum+T[n])%MOD;
	return sum;
}
int main()
{
	_int64 n,m,i;
	for (i=scanf("%I64d",&n);i<=n;i++)
	{
		scanf("%I64d",&m);
		_int64 now=(m*Sum(m)+m)%MOD;
		Update(m,(now+MOD-Las[m])%MOD);
		Las[m]=now;
	}
	printf("%I64d\n",Sum(INF-1));
	return 0;
}
