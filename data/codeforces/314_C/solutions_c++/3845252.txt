#include <cstdio>
const int N = 1000005, m = N - 5, p = 1000000007;
int a[N], b[N], n, x, y;
void add(int x, int y){for (; x <= m; x += x & -x) b[x] = (b[x] + y) % p;}
int get(int x){int s = 0; for (; x; x -= x & -x) s = (s + b[x]) % p; return s;}
int main(){
	scanf("%d", &n);
	for (; n--;){
		scanf("%d", &x); y = ((get(x) + 1ll) * x) % p;
		add(x, (y - a[x]) % p); a[x] = y;
	}
	printf("%d\n", (get(m) + p) % p);
}
