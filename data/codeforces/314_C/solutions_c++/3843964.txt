#include <cstdio>
const int mod = 1000000007;
const int N = 1000010;
int c[N];
inline void ADD(int &x,int y) {
    x += y; if(x >= mod) x -= mod;
}
void add(int x,int d) {
    for(x++;x<N;x+=x&-x)   ADD(c[x],d);
}
int sum(int x) {
    int a = 0;
    for(x++;x;x-=x&-x) ADD(a,c[x]);
    return a;
}
int main() {
    int n,k;
    scanf("%d",&n);
    add(0,1);
    for(int i = 0; i < n; i++) {
        scanf("%d",&k);
        long long now = (long long) sum(k) * k % mod;
        now -= sum(k) - sum(k-1);
        now = (now % mod + mod ) % mod;
        add(k,now);
    }
    printf("%d\n",((sum(N)-1)%mod+mod)%mod);
    return 0;
}