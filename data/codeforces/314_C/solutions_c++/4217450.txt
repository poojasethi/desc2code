#include<iostream>
using namespace std;
const int m=1000000007, N=1000005;
long long tree[N], c[N];

void add(int x, long long s)
{
    for (int i=x; i<N; i+=i & -i)
        tree[i]=(tree[i]+s+m) % m;
}

int find(int x)
{
    long long sum=0;
    for (int i=x; i>0; i-=i & -i)
        sum=(sum+tree[i]) % m;
    return sum;
}

int main()
{
    int n, i, a;
    long long ans=0;
    cin>>n;
    add(1,1);
    for (i=0; i<n; i++)
    {
        cin>>a;
        long long tmp=find(a);
        tmp=(tmp*a) % m;
        ans=(ans+tmp-c[a]+m) % m;
        add(a, tmp-c[a]);
        c[a]=tmp;
    }
    cout<<ans;
    return 0;
}
