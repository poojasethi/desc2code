#include<cstdio>
#include<cstring>
typedef long long i64;
i64 n,a[110000];
i64 c[1100000];
const i64 inf = 1000000007 ;
const int lim = 1000010 ;
void add(i64 pos,i64 k)
{
    for(int i=pos;i<=lim;i+=(i&-i))
    {
        c[i]+=k;
        if(c[i]>=inf)   c[i]-=inf;
    }
}
i64 sum(int pos)
{
    i64 res=0;
    for(i64 i=pos;i>0;i-=(i&-i))
        res+=c[i];
    return res%inf;
}
int main()
{
    scanf("%I64d",&n);
    for(i64 i=0,v;i<n;++i)
    {
        scanf("%I64d",&v);
        i64 a=sum(v),b=sum(v-1);
        i64 val=((a+1)*v%inf-(a-b+inf)%inf+inf)%inf;
        add(v,val);
    }
    printf("%I64d\n",sum(1000000));
    return 0;
}
