#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
#include <map>
using namespace std;

#define LL long long
#define mod 1000000007

LL c[1000005];

void add( int x, int v ) {
	while( x <= 1000000 ) {
		c[x] = (c[x] + v) % mod;
		x += (x & -x);
	}
}

LL sum( int x ) {
	LL res = 0;
	while( x > 0 ) {
		res = (res + c[x]) % mod;
		x -= (x & -x);
	}
	return res;
}

int main()
{
	int n;
	cin >> n;
	int x;
	for( int i = 0; i < n; ++i ) {
		scanf( "%d", &x );
		LL k = sum(x);
		add( x, ((k + 1LL) * x % mod - ( k - sum(x-1) + 0LL + mod ) % mod + mod) % mod);
	}
	cout << sum(1000000) % mod << endl;
	return 0;
}