#include <bits/stdc++.h>
using namespace std;
#define ll long long
int a[100010],n;
ll f[1000100],T[1000010],ans;
ll p = 1e9+7;
void update(int x, ll u){
	while(x<=1000000){
		T[x] = (T[x]+u)%p;
		x += x&-x;
	}
}
ll get_sum(int x){
	ll ret = 1;
	while(x){
		ret = (ret+T[x])%p;
		x -= x&-x;
	}
	return ret;
}
int main(){
	//freopen("in.in","r",stdin);
	cin >> n;
	for(int i = 1; i <= n; i++) cin >> a[i];
	for(int i = 1; i <= n; i++){
		int pre = f[a[i]];
		f[a[i]] = (a[i]*get_sum(a[i]))%p;
		update(a[i],f[a[i]]-pre);
	}
	for(int i = 1; i <= 1000000; i++){ ans = (ans + f[i])%p;}
	cout << (ans+p)%p;
}