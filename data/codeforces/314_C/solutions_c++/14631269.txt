#include<bits/stdc++.h>
using namespace std;
map<int,int> d,cnt;
int mod=1e9+7;
void upd(int x,int k)
{
    for(;x<=1e9;x+=x&(-x)) d[x]=(d[x]+k)%mod;
}
int get(int x)
{
    int s=0;
    for(;x>0; x-=x&(-x)) s=(d[x]+s)%mod;
    return s;
}
int main()
{
    int cur=1,ans=1,i,n,x;
    scanf("%d",&n);
    for(i=1;i<=n;i++)
    {
        scanf("%d",&x);
        int tmp=get(x)+1,tmp2=cnt[x];
        upd(x,1LL*(tmp-tmp2+mod)*x%mod);
        //cout << tmp << " " << tmp2 << endl;
        cnt[x]=tmp;
    }
    cout<<get(1e9)<<endl;
}
