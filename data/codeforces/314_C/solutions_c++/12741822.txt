#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#define mod 1000000007
#define LL long long
using namespace std;
int n,x;
LL bit[1000005];
LL f(int p){
  LL ans=0;
  while(p>0){
    ans+=bit[p];
    p-=p&(-p);
  }
  return ans%mod;
}
void upd(int p,LL v){
  for(int i=p;i<=1000000;i+=i&(-i)){
    bit[i]=(bit[i]+v)%mod;
  }
  return;
}
int main(){
  memset(bit,0,sizeof(bit));
  scanf("%d",&n);
  for(int i=1;i<=n;i++){
    scanf("%d",&x);
    int val=1LL*x*(1+f(x))%mod;
    int init=(f(x)-f(x-1)+mod)%mod;
    upd(x,(val-init+mod)%mod);
  }
  printf("%lld\n",f(1000000));
  return 0;
}