#include <cstdio>
#include <iostream>
#include <algorithm>

using namespace std;

#define llg long long

const int N = 1e5+10;
const int M = 1e6+10;
const llg mod = 1e9+7;

int n;
llg f[M] = {0};

inline void update (int x, llg v) {
  for (int i = x;i < M;i += i&(-i)) {
    f[i] = (f[i]+v)%mod;
  }
}

inline llg query (int x) {
  llg sum = 0;
  for (int i = x;i > 0;i -= i&(-i)) {
    sum = (sum+f[i])%mod;
  }
  return sum;
}

int main () {
  cin >> n;

  update (1, 1);
  for (int i = 1;i <= n;i ++) {
    llg x;
    cin >> x;
    x ++;
    llg k = (query (x)-query (x-1))%mod;
    update (x, (query (x)*(x-1))%mod);
    update (x, mod-k);
  }
  cout << (query (M-1)-1+mod)%mod << endl;
}
