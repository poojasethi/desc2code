//By momoâ„¢
#include <cstdio>
#include <algorithm>
#define MXN 100010
#define M 1000000007
#define LL long long
using namespace std;

void upd(LL &x, LL y){ x = (x + y + M) % M; }

LL dat[MXN * 10], prv[MXN * 10];
void insert(LL x, LL v){
	for( ; x < MXN * 10; x += x&-x) upd(dat[x], v);
}
LL query(LL x){
	LL r = 0;
	for( ; x > 0; x -= x&-x) upd(r, dat[x]);
	return r;
}

int main (){
	LL N, ans = 0;
	scanf("%I64d", &N);
	for(LL i = 0; i < N; i++){
		LL A; scanf("%I64d", &A);
		LL v = ((query(A) + 1) * A) % M;
		upd(v, -prv[A]);
		upd(ans, v);
		insert(A, v);
		upd(prv[A], v);
	}
	printf("%I64d\n", ans);
}
