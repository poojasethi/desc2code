#include <cstdio>
#include <cstring>
#include <algorithm>
#define FOR(i,s,e) for (int i=(s); i<(e); i++)
#define LLD long long
#define N 1000005
using namespace std;

int n, x;
LLD S, B[N], a[N], t;
LLD MOD = 1000000007;

int main(){
	scanf("%d", &n);
	FOR(i,0,n){
		scanf("%d", &x);
		S = 0;
		for (int j=x; j; j-=j&-j) S = (S + B[j]) % MOD;
		t = (S * x + x) % MOD;
		S = (t - a[x] + MOD) % MOD;
		for (int j=x; j<=1000000; j+=j&-j) B[j] = (B[j] + S) % MOD;
		a[x] = t;
	}
	S = 0;
	for (int i=1000000; i; i-=i&-i) S = (S + B[i]) % MOD;
	printf("%d\n", (int)S);
	return 0;
}
