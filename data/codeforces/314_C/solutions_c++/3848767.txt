#include <iostream> 
#define rep(i,n) for(int i=0;i<n;i++)
const int N=1111111,M=1000000007;
int B[N];
void A(int x,int v) { while(x<N) { B[x] = (B[x]+v)%M; x+=(x & -x); } }
int G(int x) { int r=0; while(x) { r = (r + B[x])%M; x-=(x & -x); } return r; }
int main() {
    int n,a,t,c;
    std::cin>>n;
    rep(i,n) {
        std::cin>>a;
        c = ((t=G(a))*((long long)a)+a)%M;
        A(a,(((c-(t-G(a-1)))%M)+M)%M);
    }
    std::cout << G(N-1);
    return 0;
}