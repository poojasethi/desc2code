#include<iostream>
#define mod 1000000007
using namespace std;
int n,i,j,b;
long long s=0,e,a[1000005]={0},c[1000005]={0};
int main()
{
cin>>n;
for(i=0;i<=1000000;i|=(i+1)) a[i]++;
for(i=1;i<=n;i++)
{
cin>>b;
e=0;
for(j=b;j>=0;j=(j&(j+1))-1) e+=1LL*a[j];
e=(e*b)%mod;
s=(s+e-c[b]+mod)%mod;
for(j=b;j<=1000000;j|=(j+1)) a[j]=(a[j]+e-c[b])%mod;
c[b]=e;
}
cout<<s;
return 0;
}