#include <iostream>

using namespace std;

typedef long long int ll;

ll modulo=1e9+7;

int primero=1<<20;
const int tope=1<<21;
ll suma[tope];

void inserta(int pos,ll val)
{
  pos+=primero;
  suma[pos]=val;
  while (pos>1) {
    pos/=2;
    suma[pos]=(suma[2*pos]+suma[2*pos+1])%modulo;
  }
}

ll sumaantes(int pos)
{
  pos+=primero;
  ll s=suma[pos];
  while (pos>1) {
    if (pos%2) s=(s+suma[pos-1])%modulo;
    pos/=2;
  }
  return s;
}

int n;

int main()
{
  ios::sync_with_stdio(false);
  cin>>n;
  for (int i=0;i<n;i++) {
    ll a;
    cin>>a;
    inserta(a,(sumaantes(a)*a+a)%modulo);
  }
  cout<<sumaantes(1000001)<<endl;
}
