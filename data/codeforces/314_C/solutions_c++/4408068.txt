#include<stdio.h>
#define mod 1000000007
#define LL long long
int M[1000005];
int end[1000005];
inline int lowbit (int i){return i&-i;}
int main ()
{
  int n,a,i,cur;
  int ans = 0;
  scanf("%d",&n);
  while(n--)
  {
     scanf("%d",&a);
     for(i=a,cur=0;i;i-=lowbit(i))
     {
       cur = (cur+M[i])%mod;
     }
     cur = (cur+1)%mod;
     cur =  ((LL)cur*a-end[a]+mod)%mod;
     for(i=a;i<1000005;i+=lowbit(i))
     M[i] = (M[i]+cur)%mod;
     end[a] = (end[a]+cur)%mod;
     ans = (cur+ans)%mod;
  }
  printf("%d",ans);
  scanf("%d",ans);
  return 0;
}
