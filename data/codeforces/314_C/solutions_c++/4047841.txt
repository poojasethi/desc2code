#include <iostream>
#include <algorithm>
#include <cmath>

#define rep(i,n) for(int i=0;i<n;i++)
#define ll long long
#define MAXN 1000010
#define MOD 1000000007

using namespace std;

int n,a[100010],p;
ll dp[MAXN],s,ret;

ll f(int x){
    ll res = 0;
    while(x>0){
    res = (res+dp[x])%MOD;
    x -= x&(-x);
    }
    return res;
}

int main(){
    cin>>n;rep(i,n)cin>>a[i];
    rep(i,n){
    p = a[i];
    s = (f(p)+1)*p%MOD;
    s = (s+MOD-f(p)+f(p-1))%MOD;

    while(p<MAXN){
        dp[p] = (dp[p]+s)%MOD;
        p += p&(-p);
    }
    ret = (ret+s)%MOD;
    }

    cout<<ret<<endl;
}
