#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 1000010
#define mo 1000000007
#define int64 long long
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,an;
int tr[N],f[N];
inline void inc(int x,int y) {
	for (;x<N;x+=x&-x) tr[x]=(tr[x]+y)%mo;
}
inline int calc(int x) {
	int an=0;
	for (;x;x-=x&-x) an=(an+tr[x])%mo;
	return an;
}
int main() {
	scanf("%d",&n);
	inc(1,1);
	For(i,1,n) {
		scanf("%d",&k),k++;
		int64 A=calc(k),B=A;
		A=(A-f[k]+mo)%mo;
		A=A*(k-1)%mo;
		inc(k,A);
		an=(an+A)%mo;
		f[k]=B;
	}
	printf("%d\n",an);
	//for(;;);
	return 0;
}
