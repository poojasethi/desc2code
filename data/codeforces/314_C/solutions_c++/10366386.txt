#include<stdio.h>
#include<string.h>
#include<algorithm>
using namespace std;
#define LL long long
const LL MOD=1e9+7;
LL m,dp[1000005],a[100005];
LL sum(LL x)
{
  LL ret=0;
  while (x>0){
	ret=(ret+dp[x])%MOD;
	x-=x&-x;
  }
  return ret;
}
void add(LL x,LL y)
{
  while (x<=m){
	dp[x]=(dp[x]+y)%MOD;
	x+=x&-x;
  }
}
int main()
{
  LL n,i,ans,t1,t2,val;
  m=ans=0;
  scanf("%I64d",&n);
  for (i=1;i<=n;i++){
   	scanf("%I64d",&a[i]);
	m=max(m,a[i]);
  }
  memset(dp,0,sizeof(dp));
  for (i=1;i<=n;i++)
  {
	t1=sum(a[i]); t2=sum(a[i]-1);
	val=((t1+1)*a[i]-(t1-t2+MOD)%MOD)%MOD;
	add(a[i],val);
	ans=(ans+val)%MOD;
  }
  printf("%I64d\n",ans);
  return 0;
}

    		 		  				   		  	  				