#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<algorithm>
using namespace std;
const int mo=1000000007;
int i,n,m,j,k,x,tree[1200000],sum,ans,head[1200000];
void plus(int &x,int y){
	x+=y;
	if(x>=mo)x-=mo;
	if(x<0)x+=mo;
}
int main(){
	scanf("%d",&n);
	for(i=1;i<=n;++i){
		scanf("%d",&x);
		sum=1;
		if(head[x]){
			for(j=x;j<=1e6;j+=j&(-j))plus(tree[j],-head[x]);
			plus(ans,-head[x]);
			sum+=head[x];
		}
		for(j=x;j;j-=j&(-j))plus(sum,tree[j]);
		sum=(long long)sum*x%mo;
		plus(ans,sum);
		for(j=x;j<=1e6;j+=j&(-j))plus(tree[j],sum);
		head[x]=sum;
	}
	printf("%d\n",ans);
}