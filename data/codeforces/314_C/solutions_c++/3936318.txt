#include<stdio.h>
#define B 1000000
#define M 1000000007
long long bit[B+1];

void init(){
    for(int i=0;i<=B;i++)bit[i]=0;
}

void add(int i,long long x){
    while(i<=B){
        bit[i]=(bit[i]+x)%M;
        i+=i&-i;
    }
}

long long sum(int i){
    long long s=0;
    while(i>0){
        s=(s+bit[i])%M;
        i-=i&-i;
    }
    return s;
}

int main(){
    int n,i;
    scanf("%d",&n);
    init();
    for(i=0;i<n;i++){
        int x;
        scanf("%d",&x);
        long long old=sum(x)-sum(x-1);
        add(x,((sum(x)+1)*x-old+M)%M);
    }
    printf("%I64d\n",sum(B));
    return 0;
}