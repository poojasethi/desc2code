#include<cstdio>
#include<iostream>
#define MOD  1000000007
using namespace std;
__int64 b[1000009],a[1000009];
void update(int x,__int64 num)
{
    while(x<1000009)
    {
        b[x]=(b[x]+num)%MOD;
        x+=x&-x;
    }
}
__int64 getsum(int x)
{
    __int64 res=0;
    while(x>0)
    {
        res=(res+b[x])%MOD;
        x-=x&-x;
    }
    return res;
}
int main()
{
    int n;
    scanf("%d",&n);
    while(n--)
    {
        int x;
        scanf("%d",&x);
        __int64 tmp=getsum(x);
        tmp=(tmp+1)*x%MOD;
        update(x,(tmp-a[x]+MOD)%MOD);
        a[x]=tmp;
    }
    printf("%I64d",(getsum(1000008)+MOD)%MOD);
}
