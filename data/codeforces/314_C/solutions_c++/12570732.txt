#include <bits/stdc++.h>
#define ll long long
#define mst(a,x) memset(a,x,sizeof(a))
using namespace std;

const int N = 1000005;
const int MOD = 1e9 + 7;
ll c[N], val[N];

int getSum(int x)
{
	ll ret = 0;

	for(; x >= 1; x -= x & (-x))
	{
		ret += c[x];
		ret %= MOD;
	}
	return ret;
}

void update(int x, int t)
{
	for(; x < N; x += x & (-x)) c[x] += (ll)t; 
}

int main()
{
	int x, cur, mx, n;

	scanf("%d", &n);
	mx = 0;
	for(int i = 0; i < n; i++)
	{
		scanf("%d", &x);
		mx = max(mx, x);
		cur = (ll)(getSum(x) + 1) * x % MOD;
		update(x, cur-val[x]);
		val[x] = cur;
	}
	printf("%d\n", getSum(mx));
	return 0;
}

	 			 			 	  	    		   	   			