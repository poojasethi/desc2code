#include <cstdio>
#define M 1000001
#define mod 1000000007
#define LL long long
long n,d[M],a[M];
long lowbit(long k){
	return k&(-k);
}
long getsum(long x){
	long ans=0;
	for (long i=x;i;i-=lowbit(i))
		ans=(ans+d[i])%mod;
	return ans;
}
void update(long x,long add){
	for (long i=x;i<=M;i+=lowbit(i))
		d[i]=(d[i]+add)%mod;
}
int main(){
	scanf("%d",&n);
	for (long i=1;i<=n;++i){
		long x,y; scanf("%d",&x);
		y=((1LL*getsum(x)*x)%mod+x)%mod;
		update(x,(y-a[x]+mod)%mod); a[x]=y;
	}
	printf("%d\n",(getsum(M-1)+mod)%mod);
	return 0;
}