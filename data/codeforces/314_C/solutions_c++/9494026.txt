#include <algorithm>
#include <stdio.h>
#define  maxn      1000001
#define  mod       1000000007LL
using    namespace std;
typedef  long long LL;

LL n;
LL tree[maxn];

LL query(LL x)
{
  LL res=0;
  while(x)
  {
    res=(res+tree[x])%mod;
    x-=(x&(-x));
  }
  return res;
}

void update(LL x , LL val)
{
  while(x<maxn)
  {
    tree[x]=(tree[x]+val)%mod;
    x+=(x&(-x));
  }
}

int main()
{
  scanf("%I64d",&n);
  for(LL i=0,x ; i<n ; i++)
  {
    scanf("%I64d",&x);
    LL a=query(x);
    LL b=a-query(x-1);
    update(x,(a+1)*x-b);
  }
  printf("%I64d\n",query(maxn-1));
  return 0;
}
