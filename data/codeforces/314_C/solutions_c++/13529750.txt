#include <bits/stdc++.h>
using namespace std;
const int maxn = 1e6+10;
const int mod = 1e9+7;
int n,bit[maxn],u,v,f[maxn];
int get(int x){
    int ans=1;
    while (x){
        ans+=bit[x];
        ans-=(ans>=mod)?mod:0;
        x-=x&-x;
    }
    return ans;
}
void update(int x,int y){
    while (x<=1000000){
        bit[x]+=y;
        bit[x]-=(bit[x]>=mod)?mod:0;
        x+=x&-x;
    }
}
int main(){
    scanf("%d",&n);
    for (int i=1; i<=n; i++){
        scanf("%d",&u);
        v=get(u);
        v=(1LL*v*u)%mod;
        update(u,(v-f[u]+mod)%mod);
        f[u]=v;
    }
    v=get(1000000);
    v--;
    v+=v<0?mod:0;
    printf("%d",v);
}
