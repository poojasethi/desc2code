M=10**9+7
N=2**20
v,w=[0]*N,[0]*N
def S(y):
  s=0
  while y>0:
    s+=w[y]
    y-=y&-y
  return s
input()
for x in map(int,raw_input().split()):
  s=1+S(x)
  d=((s*x-v[x])%M+M)%M
  v[x]+=d
  y=x
  while y<N:
    w[y]=(w[y]+d)%M
    y+=y&-y
print S(N-1)%M
