n = input()
a = map(int, raw_input().split())
mod = int(1e+9) + 7
size = max(a)
tree = [0] * (size + 1)

def query(index):
  res = 0
  while index:
    res = (res + tree[index]) % mod
    index -= index & -index
  return res

def update(index, delta):
  while index <= size:
    tree[index] = (tree[index] + delta) % mod
    index += index & -index

def query_one(index):
  res = tree[index]
  bot = index - (index & -index)
  index -= 1
  while index > bot:
    res -= tree[index]
    if res < 0: res += mod
    index -= index & -index
  return res


for x in a:
  value = query(x) * x + x
  update(x, value - query_one(x))
print query(size)
