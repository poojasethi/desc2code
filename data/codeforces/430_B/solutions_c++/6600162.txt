
#include <iostream>
#include <algorithm>
using namespace std;

int n;
int d[110];

int solve(int cnt, int s, int e)
{
	if(s==-1 || e==n) return 0;

	if(d[s]!=d[e]) return 0;

	int x = d[s];

	while(s>=0 && x == d[s]){
		--s;
		++cnt;
	}

	while(e<n && x == d[e]){
		++e;
		++cnt;
	}

	if(cnt>2){
		return cnt + solve(0,s,e);
	}

	return 0;
}


int main()
{
	int k,x;
	cin>>n>>k>>x;

	for(int i=0;i<n;++i)cin>>d[i];

	int ans= 0;
	for(int i=0;i<n;++i){
		if(x == d[i]){
			int t = solve(1, i,i+1);
			if(t>ans) ans =t;
		}
	
	}

	if(ans)
	cout<<ans-1<<endl;
	
	else 
		cout<<"0"<<endl;

	return 0;
}
