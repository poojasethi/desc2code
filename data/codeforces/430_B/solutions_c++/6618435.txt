#include <iostream>
#include <cstdlib>
#include <cstring>
#include <string>
#include <vector>
#include <utility>
#include <algorithm>
#include <cmath>

using namespace std;

int n,k,x,ans;
int c[111],num[111],loc;

int main() {
	cin >> n >> k >> x;
	for (int i = 0,cc; i < n; i++) {
		cin >> cc;
		if (i > 0 && c[loc] != cc) loc++;
		c[loc] = cc;
		num[loc]++;
	}
	for (int i = 0; i <= loc; i++) {
		if (c[i] == x && num[i] == 2) {
			int sum = 2;
			for (int j = 1; i-j >= 0 && i+j <= loc; j++) {
				if (c[i-j] == c[i+j] && num[i-j]+num[i+j] >= 3)
					sum += num[i-j]+num[i+j];
				else break;
			}
			ans = max(ans,sum);
		}
	}
	cout << ans;
}