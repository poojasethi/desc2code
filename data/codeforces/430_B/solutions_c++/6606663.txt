#include <bits/stdc++.h>
using namespace std;
int arr[102],a,b,c,i,j;

int solve(int x,int y){

if(!arr[x] || !arr[y])return 0;

int s = 0,z=arr[x];
while(arr[x]==z)s++,x--;
while(arr[y]==z)s++,y++;
if(s>=3)return s + solve(x,y);
return 0;

}
int main()
{
    int ss,s,l;
    ss=0;
    cin >> a>> b>> c;
    for(i=1;i<=a;++i)cin>>arr[i];
    for(i=1;i<=a;++i)
        if(arr[i]==c)
        {
        
           s=0;
           for(j=i;arr[j]==c;++s,++j);
           if(s>=2)
             l=solve(i-1,j), ss=max(ss,s+l);
              
        }
       
    cout <<ss<< endl;


    return 0;
}