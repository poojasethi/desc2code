#include<stdio.h>
#include<algorithm>
using namespace std;
const int maxn=120;
int n,K,x,c[maxn],ans=0;
int calc(int d)
{
	int i=d,j=d+1;
	while(i&&c[i-1]==c[i]) i--;
	while(j<n-1&&c[j+1]==c[j]) j++;
	if(j-i<1) return 0;
	i--,j++;
	while(i>=0&&j<n&&c[i]==c[j])
	{
		int i2=i,j2=j;
		while(i2&&c[i2-1]==c[i2]) i2--;
		while(j2<n-1&&c[j2+1]==c[j2]) j2++;
		if(j2-j+i-i2<1) break;
		i=i2-1,j=j2+1;
	}
	return j-i-1;
}
int main()
{
#ifndef ONLINE_JUDGE
	freopen("data.in","r",stdin);
#endif
	int i,j;
	scanf("%d%d%d",&n,&K,&x);
	for(i=0;i<n;i++)
		scanf("%d",&c[i]);
	for(i=0;i<n-1;i++)
		if(c[i]==x&&c[i+1]==x)
			ans=max(ans,calc(i));
	printf("%d\n",ans);
	return 0;
}
