#include<iostream>
using namespace std;
int main(){
    int n, k, x;
    cin >> n >> k >> x;
    int a[101], num[101], lp=0;
    cin >> a[lp]; num[0] = 1;
    for(int i=1; i<n; i++){
	int tmp;
	cin >> tmp;
	if(tmp != a[lp]){
	    a[++lp] = tmp;
	    num[lp] = 1;
	} 
	else{
	    num[lp]++;
	}
    }
    int ans = 0;
    for(int i=0; i<=lp; i++){
	if(a[i] == x && num[i] == 2){
	    int l = i-1, r = i+1;
	    int tmp = 2;
	    while(l >= 0 && r <= lp){
		if(a[l] != a[r] || num[l] + num[r] < 3) break;
		tmp += num[l] + num[r];
		l--, r++;
	    }
	    ans = max(tmp, ans);
	}
    }
    cout << ans << endl;
    return 0;
}
