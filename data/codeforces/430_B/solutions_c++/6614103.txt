#include <cstdio>
int n, k, x;
int a[110];

int main(){
  int i, l, r, cnt, tmp, ans = 0;
  scanf("%d %d %d", &n, &k, &x);
  for(i = 0; i < n; i++)
      scanf("%d", &a[i]);
  for(i = 0; i < n; i++)
      if(a[i] == x){
          l = r = i; cnt = 0;
          while(a[l] == a[r]) {
              tmp = 2;
              while(l > 0 && a[l-1] == a[l])   l--,tmp++;
              while(r < n-1 && a[r+1] == a[r])   r++,tmp++;
              --l; ++r;
              if(tmp < 3)  break;
              cnt += tmp;
              if(l < 0 || r >= n)  break;
                   }
      if(cnt-1 > ans) ans = cnt-1;
      }
   printf("%d\n", ans);
   return 0;
}