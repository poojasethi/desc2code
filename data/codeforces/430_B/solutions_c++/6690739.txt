#include<stdio.h>
#include<string.h>
int num[200];
int main(void){
	int n,k,x,MAX=0;
	int l,r,count,tl,tr,res;
	scanf("%d%d%d",&n,&k,&x);
	for(int i=1;i<=n;i++)
		scanf("%d",&num[i]);
	for(int i=1;i<n;i++)
		if(num[i]==x&&num[i+1]==x){
			tl=i-1;
			tr=i+2;
			res=0;
			do{
				l=tl;
				r=tr;
				count=0;
				while(tl>0&&num[tl]==num[tr]) tl--,count++;
				while(tr<=n&&num[tr]==num[tl+1]) tr++,count++;
				if(count<=2)
					break;
			}while(1);
			if(r-l-1>MAX)
				MAX=r-l-1;
			
		}
	printf("%d\n",MAX);
	
	return 0;
}