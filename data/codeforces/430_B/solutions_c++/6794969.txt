#include<cstdio>
#define N 105
using namespace std;
int a[N],b[N],data[N],l,r,n,m,k,x,i,s,ans;
int main()
{
  scanf("%d%d%d",&n,&k,&x);
  for (i=1;i<=n;i++)
    scanf("%d",&data[i]);
  for (i=1;i<=n;i++)
    if (data[i]!=data[i-1]) a[++m]=data[i],b[m]++;else b[m]++;
  for (i=1;i<=m;i++)
    if (a[i]==x&&b[i]==2)
    {
      if (2>ans) ans=2;
      for (l=i-1,r=i+1,s=2;l&&r<=m;l--,r++)
      {
        if (a[l]!=a[r]||b[l]+b[r]<3) break;
        s+=b[l]+b[r];
        if (s>ans) ans=s;
      }
    }
  printf("%d",ans);
  return 0;
}
