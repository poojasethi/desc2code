# include <iostream>
# include <cstdio>
# include <algorithm>
using namespace std;
int c[101];

int main(void)
{
	int n,k,x,ans=0;
	scanf("%d%d%d",&n,&k,&x);
	for(int i=1;i<=n;i++) scanf("%d",c+i);	
	for(int i=1;i<n;i++)
	{
		if(c[i-1]!=x&&c[i]==x&&c[i+1]==x)
		{
			int l=i-1,r=i+2;
			while(l>0&&r<=n)
			{
				if(c[l]!=c[r]) break;
				int cur=c[l];
				if(l>1&&c[l-1]==cur||r<n&&c[r+1]==cur)
				{
					while(c[r]==cur) r++;
					while(c[l]==cur) l--;
				}
				else break;
			}
			ans=max(ans,r-l-1);
		}
	}
	printf("%d\n",ans);
	return 0;
}
	 	 		  	  	 	  	     	   			 	