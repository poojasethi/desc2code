#include<cstdio>
#include<cstdlib>
using namespace std;
int n,m,ans,a[1000];
int work(int x)
{
	int ret=2,l=x-1,r=x+2,osu;
	while(a[l]==a[r])
	{
		osu=0;
		if(a[r+1]==a[r]) {osu++; r++;}
		if(a[l-1]==a[l]) {osu++; l--;}
		if(osu) osu+=2; else break;
		l--; r++;
		ret+=osu;
	}
	return ret;
}
int main()
{
	int i,j;
	scanf("%d%d",&n,&m); scanf("%d",&m);
	for(i=1;i<=n;i++) scanf("%d",&a[i]); a[0]=999; a[n+1]=998;
	ans=0;
	for(i=1;i<n;i++) if(a[i]==m&&a[i+1]==m) 
	{
		j=work(i);
		if(j>ans) ans=j;
	}
	printf("%d",ans);
	return 0;
}
