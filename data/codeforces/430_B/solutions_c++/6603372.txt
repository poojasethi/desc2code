#include<vector>
#include<iostream>
#include<cstdio>
using namespace std;
int n,k,x;
int c[102];
int main(){
   // freopen("fr.cpp","r",stdin);
    int ans=0;
    int l,r,ll,rr;
    cin>>n>>k>>x;
    for(int i=1;i<=n;++i)  cin>>c[i];
    for(int i=2;i<=n;++i){
        l=i-1,r=i;
        if(c[r]==x && c[l]==c[r] ){
        l--, r++;
        while(l>=1 && r<=n && c[l]==c[r] ){
            ll=1,rr=1;
            if(c[l]==c[l-1] && l>1) ++ll;
            if(c[r]==c[r+1] && r<n ) ++rr;
            if(ll+rr<3) break;
            l-=ll;
            r+=rr;
        }
        if(ans<r-l-1) ans=r-l-1;
    }
    }
    cout<<ans;
}
