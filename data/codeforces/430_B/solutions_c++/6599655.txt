#include <iostream>

using namespace std;

int A[100];

int main(){
	int n, k, x, result = 0, count = 0;
	cin >> n >> k >> x;
	for(int i = 0; i < n; i++){
		cin >> A[i];
	}
	for(int i = 0; i<n; i++){
		if(A[i] == x){
			int mx = 0, count = 2, a = i, b = i;
			while(A[a] == A[b]){
				while(a > 0 && A[a-1] == A[a]){
					a--;
					count++;
				}
				if(b < n - 1 && A[b+1] == A[b]){
					b++;
					count++;
				}
				a--;
				b++;
				if(count < 3){
					break;
				}
				mx += count;
				count = 2;
				if(a < 0 || b >= n){
					break;
				}
			}
			result = max(result, mx - 1);
		}
	}
	cout << result << endl;
	return 0;
}
