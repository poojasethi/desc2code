#include<iostream>
#include<algorithm>

using namespace std ;

const int maxn = 200 ;
int n , k , x ;
int a[maxn] ;
int ans ;

int f(int l , int r)
{
  if(r>n || l>r) return 0 ;
  if(a[l] != a[r]) return 0 ;
  else if(a[l]==a[l-1] && a[r]==a[r+1]) return f(l-2,r+2)+4 ;
  else if(a[l]==a[l-1]) return f(l-2,r+1)+3 ;
  if(a[r]==a[r+1]) return f(l-1,r+2)+3 ;
  return 0 ;
}

int main()
{
  ios_base::sync_with_stdio(false) ;
  cin >> n >> k >> x ;
  for(int i=1 ; i<=n ; i++) cin >> a[i] ;
  for(int i=1 ; i<n ; i++)
    if(a[i]==x && a[i+1]==x)
      ans = max(ans , f(i-1,i+2)+2) ;
  cout << ans << endl ;
  return 0 ;
}
