#include<iostream>
#include<cstdio>
using namespace std;

int main()
{
int n,k,x,i,j,p,c,s,l,r,max=0,a[110];
scanf("%d%d%d",&n,&k,&x);

for(i=1;i<=n;i++)
{
scanf("%d",&a[i]);
}

a[0]=101;
a[n+1]=101;

for(i=1;i<n;i++)
{
c=0;
s=0;
l=i;
r=i+1;

if(a[l]==a[r] && a[l]==x)
{
p=x;
c=1;

while(l>0 && r<n+1 && a[l]==a[r])
{
while(a[l]==p)
{
l--;
c++;
}

while(a[r]==p)
{
r++;
c++;
}

if(c>=3)
{
s+=c;
c=0;
}
else
break;

p=a[l];
}

if(s>max)
max=s;
}
}

if(max==0)
max=1;

printf("%d\n",max-1);

return 0;
}
