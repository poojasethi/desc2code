#include<algorithm>
#include<iostream>
#include<cstdio>
using namespace std;
int n,k,x,a[102],l,r,cnt,ans=0,res;
int main(){
   // freopen("fr.cpp","r",stdin);
    cin>>n>>k>>x;
    for(int i=1;i<=n;++i)  cin>>a[i];
    for(int i=1;i<=n;++i)
    if(a[i]==x){
        l=r=i;
        cnt=0;
        while(a[l]==a[r]){
            res=2;
            while(a[l]==a[l-1] && l>1 ) { ++res; --l; }
            while(a[r]==a[r+1] && r<n ) { ++res; ++r; }
            --l,++r;
            if(res<3)  break;
            cnt+=res;
            if(l<1||r>n)  break;
        }
        ans=max(ans,cnt-1);
    }
    cout<<ans;
}
