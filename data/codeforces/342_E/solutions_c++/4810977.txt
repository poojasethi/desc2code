#include<iostream>
#include<stdio.h>
#include<string.h>
#include<algorithm>
#include<sstream>
#include<vector>
#include<queue>
#include<set>
#include<cmath>
using namespace std;
#define pii pair<int,int>
#define pb push_back
#define mp make_pair
//#define x first
//#define y second
#define all(x) x.begin(),x.end()
#define ll long long
#define inf 2100000007
#define eps 1e-7
#define pi acos(-1)
#define N 100010
#define mod (1<<30)
vector<int>g[N];
int d[N],s[N*2],top,q[N*2];
void bfs()
{
    int i,j,h=0,f=-1;
    for(i=0;i<top;i++)
    {
        q[++f]=s[i];d[s[i]]=0;
    }
    while(h<=f)
    {
        int u=q[h++];
        for(i=0;i<(int)g[u].size();i++)
        {
            j=g[u][i];
            if(d[j]>d[u]+1)
            {
                d[j]=d[u]+1;
                q[++f]=j;
            }
        }
    }
}
int main()
{
    //freopen("in.txt","r",stdin);
    int i,j,k,T,n,m;
    while(~scanf("%d%d",&n,&m))
    {
        for(i=1;i<=n;i++)g[i].clear(),d[i]=n+1;
        for(i=1;i<n;i++)
        {
            int x,y;
            scanf("%d%d",&x,&y);
            g[x].pb(y);g[y].pb(x);
        }
        s[top++]=1;
        while(m--)
        {
            scanf("%d%d",&i,&j);
            if(i==1)
            {
                s[top++]=j;
            }
            else
            {
                if(top)bfs(),top=0;
                printf("%d\n",d[j]);
            }
        }
    }
}
