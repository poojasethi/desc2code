#include<stdio.h>
#define Max 100005
struct ed
{
   int v,next;
};
ed edge[2*Max];
int head[Max];
int dis[Max];
int q[Max];
int r=0;
void bfs()
{
   int f,i,v,u;
   f = 0;
   while(f!=r)
   {
      u = q[f++];
      for(i=head[u];i;i=edge[i].next)
      {
         v =edge[i].v;
         if(dis[u]+1<dis[v])
         {
            dis[v] = dis[u]+1;
            q[r++] = v;
         }
      }
   }
   r = 0;
}
int main ()
{
    int n,m,a,b,i,M=1;
    scanf("%d %d",&n,&m);
    for(i=1;i<n;i++)
    {
     scanf("%d %d",&a,&b);
     edge[M].v = b;
     edge[M].next = head[a];
     head[a] = M++;
     edge[M].v = a;
     edge[M].next = head[b];
     head[b] = M++;
    }
    for(i=1;i<=n;i++)
    dis[i] = Max;
    q[r++] = 1;
    dis[1] = 0;
    bfs();
    while(m--)
    {
        scanf("%d%d",&a,&b);
        if(a==1)
        {
           q[r++] = b;
           dis[b] = 0;
        }
        else
        {
            bfs();
            printf("%d\n",dis[b]);
        }
    }
    return 0;
}