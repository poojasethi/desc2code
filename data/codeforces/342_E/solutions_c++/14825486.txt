//In The Name of God ;

// Ali Ahmadi( kuzey-tekin ) is The best boy in world.
// Ali is the ghotb of alam. xDD

#include<bits/stdc++.h>

using namespace std;

const int Maxn = 1e5 + 7;
const int maxlog = 18;
const int change = 1;

queue<int>q;
vector<int>V[Maxn],G;
int h[Maxn],par[30][Maxn];
int dis[Maxn];

void bfs()
{
  while(q.size())
    {
      int u=q.front();
      q.pop();
      for(int i=0;i<V[u].size();i++)
	{
	  int v=V[u][i];
	  if(dis[v]>dis[u]+1)
	    dis[v]=dis[u]+1,q.push(v);
	}
    }
}

void dfs(int u,int dad = 0)
{
  par[0][u]=dad;
  for(int i=1;i<=maxlog;i++)
    par[i][u]=par[i-1][par[i-1][u]];
  for(int i=0;i<V[u].size();i++)
    {
      int v=V[u][i];
      if(v!=dad)
	h[v]=h[u]+1,dfs(v,u);
    }
}

int LCA(int u,int v)
{
  if(h[v]<h[u])
    swap(u,v);
  for(int i=maxlog;i>=0;i--)
    if(h[par[i][v]]>=h[u])
      v=par[i][v];
  if(v==u)
    return v;
  for(int i=maxlog;i>=0;i--)
    if(par[i][v]!=par[i][u])
      v=par[i][v],u=par[i][u];
  return par[0][v];
}

int main()
{
  memset(dis,31,sizeof dis);
  int n,Q;
  cin>>n>>Q;
  for(int u,v,i=1;i<n;i++)
    {
      cin>>u>>v;
      V[u].push_back(v);
      V[v].push_back(u);
    }
  q.push(1);
  dis[1]=0;
  dfs(1);
  bfs();
  int ted=0;
  for(int ans,t,v;Q--;)
    {
      ted++;
      cin>>t>>v;
      if(t==change)
	q.push(v),dis[v]=0,G.push_back(v);
      else
	{
	  ans=dis[v];
	  for(int i=0;i<G.size();i++)
	    {
	      int u=LCA(G[i],v);
	      ans=min(ans,h[v]+h[G[i]]-2*h[u]);
	    }
	  cout<<ans<<endl;
	}
      if(ted==317)
	G.clear(),ted=0,bfs();
    }
}
