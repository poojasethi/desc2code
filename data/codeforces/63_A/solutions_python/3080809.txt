n = input()
queue = [[],[]]
for _ in range(n):
  name, t = raw_input().split()
  if t == 'rat':
    print name
  elif t == 'man':
    queue[1].append(name)
  elif t == 'captain':
    queue.append(name)
  else:
    queue[0].append(name)
for name in queue[0]+queue[1]:
  print name
print queue[-1]
