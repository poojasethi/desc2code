n = input()
ar = []
nameofcap = ''
for i in range(n):
	s,t = raw_input().split()
	ar += [(s,t)]
	if t == 'rat':
		print s
	if t == 'captain':
		nameofcap = s
for x in ar:
	if x[1]=='woman' or x[1]=='child':
		print x[0]
for x in ar:
	if x[1]=='man':
		print x[0]
print nameofcap
