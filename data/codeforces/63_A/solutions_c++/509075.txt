#include <iostream>
using namespace std;

struct Crew{
	string s,c;
	int p;
} C[101];

int main(){
	int t;
	cin>>t;
	for (int i=1; i<=t; i++){
		cin>>C[i].s>>C[i].c;
		if (C[i].c=="rat") C[i].p=0;
		else if (C[i].c=="child"||C[i].c=="woman") C[i].p=1;
		else if (C[i].c=="captain") C[i].p=3;
		else if (C[i].c=="man") C[i].p=2;;
	}
	for (int i=0; i<=3; i++)
		for (int j=1; j<=t; j++)	
			if (C[j].p==i) cout<<C[j].s<<endl;
}