#include<cstdio>
#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;

#define M 1000000007
long long f[1010];

long long p(long long N, long long P){
	if(!P) return 1;
	if(P%2) return (N*p(N,P-1))%M;
	long long r = p(N,P/2);
	return (r*r)%M;
}

int main(){
	int n, m; cin >> n >> m;
	f[0] = 1;
	for(long long i = 1; i <= n; i++) f[i] = (f[i-1]*i)%M;
	int off[m+1], ind[m], last = 0;
	for(int i = 0; i < m; i++) cin >> ind[i];
	sort(ind,ind+m);
	off[0] = ind[0] - 1;
	for(int i = 1; i < m; i++)
		off[i] = ind[i] - ind[i-1] - 1;
	off[m] = n - ind[m-1];
	long long arrange = f[n-m];
	for(int i = 0; i <= m; i++)
		arrange = (arrange*(p(f[off[i]],M-2)%M))%M;
	for(int i = 1; i < m; i++){
		if(!off[i]) continue;
		arrange = (arrange*(p(2, off[i]-1)%M))%M;
	}
	cout << arrange << endl;
	return 0;
}
