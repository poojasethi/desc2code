#include<stdio.h>
#include<algorithm>
using namespace std;
long long n,m,arr[1002],mod=1000000007,dos[1002],fact[1002],ans;
int pow(long long a,long long b){
    long long ret=1;
    while(b>0){
        if(b&1) ret=(ret*a)%mod;
        b>>=1;
        a=(a*a)%mod;
    }
    return ret;
}
int main(){
    scanf("%I64d %I64d",&n,&m);
    for(int i=1; i<=m; i++) scanf("%I64d",&arr[i]);
    sort(arr+1,arr+1+m);
    arr[m+1]=n+1;
    dos[0]=fact[0]=1;
    for(int i=1; i<=n; i++) dos[i]=((dos[i-1]<<1)>mod)?((dos[i-1]<<1)-mod):(dos[i-1]<<1);
    for(long long i=1; i<=n; i++) fact[i]=(fact[i-1]*i)%mod;
    ans=fact[n-m];
    for(int i=0; i<=m; i++) ans=(ans*pow(fact[arr[i+1]-arr[i]-1],mod-2))%mod;
    for(int i=1; i<m; i++)
        if(arr[i+1]-arr[i]-2>0)
            ans=(ans*dos[arr[i+1]-arr[i]-2])%mod;
    printf("%I64d",ans);
}
