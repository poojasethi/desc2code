#!/usr/bin/python
MOD = 1000000007

def deg(a, p):
	global MOD
	ret = 1
	while p > 0:
		if p % 2 == 1:
			ret*=a
		a*=a
		p/=2
		ret%=MOD
		a%=MOD
	return ret

R = lambda:map(int, raw_input().split())
n, m = R()
a = R()
u = [False for _ in xrange(n)]

for i in a:
	u[i-1] = True

a, c = [], 0
for i in xrange(n):
	if u[i]:
		a.append(c)
		c = 0
	else:
		c+=1

a.append(c)

num, f = 1, 2

for i in a:
	for j in xrange(2, i+1, 1):
		while num % j != 0:
			num*=f
			f+=1
		num/=j

for i in xrange(f, n-m+1, 1):
	num*=i
	num%=MOD

for i in xrange(1, len(a)-1, 1):
	j = deg(2, a[i]-1)
	num*=j
	num%=MOD

print num