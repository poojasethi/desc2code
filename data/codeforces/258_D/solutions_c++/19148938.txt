#include<iostream>
#include<cstdio>
#include<cstdlib>
using namespace std;

const int N=1005;

int n,m,a[N];

double f[N][N],ans;

void Mix(double &a,double &b)
{
	a=b=(a+b)/2;
}

int main()
{
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++) scanf("%d",&a[i]);
	for(int i=1;i<n;i++)
		for(int j=i+1;j<=n;j++)
			f[i][j]=a[i]>a[j],f[j][i]=1-f[i][j];
	for(int i=1;i<=m;i++)
	{
		int x,y;
		scanf("%d%d",&x,&y);
		Mix(f[x][y],f[y][x]);
		for(int j=1;j<=n;j++)
		{
			if(j==x||j==y) continue;
			Mix(f[j][x],f[j][y]);
			Mix(f[x][j],f[y][j]);
		}
	}
	for(int i=1;i<n;i++)
		for(int j=i+1;j<=n;j++)
			ans+=f[i][j];
	printf("%.8lf",ans);
	return 0;
}
		
	
	
	
