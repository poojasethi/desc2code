#include<iostream>
#include<stdio.h>
#define FOR(i,a,b) for(int i = a ; i <=b ;i ++)
#define rep(i,n) for(int i=1;i<=n;i++)
using namespace std ;

double dp[1005][1005] ;
int a[1005] ;
int l[1005] , r[1005] ;

int main ()
{
	int n , m , i , j ,  x , y;
	scanf ( "%d%d" , &n , &m ) ;
	rep(i,n) scanf ( "%d" , &a[i] ) ;
	rep(i,n) rep(j,n) dp[i][j] = (a[i] > a[j]);
	while(m--)
	{
		cin >> x >> y;
		dp[x][y] = dp[y][x] = 0.5;
		rep(i,n) if(i!=x && i!= y)
		{
			dp[y][i] = dp[x][i] = dp[x][i] * 0.5 + dp[y][i] * 0.5;
			dp[i][y] = dp[i][x] = dp[i][x] * 0.5 + dp[i][y] * 0.5;
		}
	}
	double ans = 0.0 ;
	for ( i = 1 ; i < n ; i ++ )
		for ( j = i + 1 ; j <= n ; j ++ )
			ans += dp[i][j] ;
	printf ( "%lf\n" , ans ) ;
}