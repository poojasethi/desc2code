#include<cstdio>
#include<cstring>
#define rep(i,n) for (int i=1;i<=n;i++)
#define N 1005
int n,m,x,y,a[N]; double f[N][N],tmp,ans;
int main()
{
	scanf("%d%d",&n,&m);
	rep(i,n) scanf("%d",&a[i]);
	rep(i,n) rep(j,n) f[i][j]=a[i]>a[j];
	while (m--){
		scanf("%d%d",&x,&y),f[x][y]=f[y][x]=.5;
		rep(i,n) if (i-x && i-y)
			tmp=f[y][i]*.5+f[x][i]*.5,f[x][i]=f[y][i]=tmp,f[i][x]=f[i][y]=1-tmp;
		}
	rep(i,n) rep(j,n) if (i<j) ans+=f[i][j];
	printf("%.9lf\n",ans); return 0;
}
