#include<cstdio>
#include<cmath>
#define fo(i,a,b) for(i=a;i<=b;++i)
#define upd(a,b) a=b=(a+b)*0.5
const int mn=1010;
double p[mn][mn];
int n,Q,a[mn];
double ans=0.0;
int main()
{
    scanf("%d%d",&n,&Q);
    int i,j,k;
    fo(i,1,n)scanf("%d",a+i);
    fo(i,1,n)
        fo(j,1,n)
            p[i][j]=a[i]>a[j];
    while(Q--)
    {
        scanf("%d%d",&i,&j);
        upd(p[i][j],p[j][i]);
        fo(k,1,n)
            if(k!=i&&k!=j)
            {
                upd(p[k][i],p[k][j]);
                upd(p[i][k],p[j][k]);
            }
    }
    fo(i,1,n)
        fo(j,i+1,n)
            ans+=p[i][j];
    printf("%.9lf\n",ans);
    return 0;
}