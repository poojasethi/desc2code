#include<bits/stdc++.h>
using namespace std;

int n,m;
int a[1010],b[1010];
double ans;
double f[1010][1010];

int main()
{int i,j,q,x,y;
 
 scanf("%d%d",&n,&m);
 for(i=1;i<=n;i++) scanf("%d",&a[i]);
 for(i=1;i<=n;i++)
 	for(j=1;j<=n;j++)
 		f[i][j]=a[i]>a[j];
 for(q=1;q<=m;q++)
 {	scanf("%d%d",&x,&y);
 	f[x][y]=f[y][x]=0.5;
	for(i=1;i<=n;i++)
 		if(i!=x && i!=y)
 		{	f[x][i]=f[y][i]=(f[x][i]+f[y][i])/2;
 			f[i][x]=f[i][y]=1-f[x][i];
 		}
 }
 for(i=1;i<=n;i++)
 	for(j=i+1;j<=n;j++)
 		ans+=f[i][j];
 printf("%.10lf\n",ans);
 return 0;
}