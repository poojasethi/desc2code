#include <cstdio>
const int N=1005;
int n,m,a[N];
double ans,f[N][N];
int main(){
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++) scanf("%d",a+i);
	for(int i=1;i<=n;i++)
		for(int j=1;j<=n;j++)
			f[i][j]=a[i]>a[j];
	while(m--){
		int a,b; scanf("%d%d",&a,&b);
		f[a][b]=f[b][a]=(f[a][b]+f[b][a])*.5;
		for(int i=1;i<=n;i++) if(i!=a&&i!=b)
			f[i][a]=f[i][b]=(f[i][a]+f[i][b])*.5,
			f[a][i]=f[b][i]=(f[a][i]+f[b][i])*.5;
	}
	for(int i=1;i<=n;i++)
		for(int j=i+1;j<=n;j++)
			ans+=f[i][j];
	printf("%.12lf\n",ans);
}
