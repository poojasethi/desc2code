#include <cstdio>
using namespace std;
const int N=1004;
int n,m,s[N];
double p[N][N];
int main()
{
	int i,j; scanf("%d%d",&n,&m);
	for (i=1;i<=n;i++) scanf("%d",&s[i]);
	for (i=1;i<=n;i++)
	    for (j=1;j<=n;j++) p[i][j]=(s[i]>s[j]);
	for (i=1;i<=m;i++)
	{
		int a,b; scanf("%d%d",&a,&b);
		p[a][b]=p[b][a]=0.5;
		for (j=1;j<=n;j++)
		{
			if ((j==a)||(j==b)) continue;
			p[b][j]=p[a][j]=(p[a][j]+p[b][j])/2.0;
			p[j][b]=p[j][a]=(p[j][a]+p[j][b])/2.0;
		}
	}
	double ans=0;
	for (i=1;i<n;i++) for (j=n;j>i;j--) ans+=p[i][j];
	printf("%.9lf\n",ans);
	return 0;
}