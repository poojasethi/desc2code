#include <iostream>
#include <cstdio>
using namespace std;

double f[1001][1001],ret;
int a[1001],n,m,i,j,k,x,y;

int main (int argc, char * const argv[]) {
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)scanf("%d",&a[i]);
	for(i=1;i<=n;i++)for(j=1;j<=n;j++)f[i][j]=a[i]>a[j];
	for(i=1;i<=m;i++){
		scanf("%d%d",&x,&y);
		for(j=1;j<=n;j++)if(j!=x&&j!=y)f[j][x]=f[j][y]=0.5*(f[j][x]+f[j][y]),f[x][j]=1.0-f[j][x],f[y][j]=1.0-f[j][y];
		f[x][y]=f[y][x]=0.5;
	}
	for(i=1;i<=n;i++)for(j=i+1;j<=n;j++)ret+=f[i][j];
	printf("%.14lf\n",ret);
    return 0;
}
