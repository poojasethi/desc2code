
 #include<iostream>
#include<iomanip>
#include<cstdio>
using namespace std;

const int N = 1100;

int n, m, x[N];
double f[N][N], rez;

int main() {
	int i, j, a, b;
	
	//freopen("test", "r", stdin);
	
	cin >> n >> m;
	
	for(i = 1; i<=n; ++i)
		cin >> x[i];
	
	for(i = 1; i<=n; ++i)
		for(j = 1; j<=n; ++j) if(i != j)
			f[i][j] = (x[i] > x[j] ? 1 : 0);
	
	for(i = 1; i<=m; ++i) {
		cin >> a >> b;
		
		f[a][b] = f[b][a] = 0.5;
		
		for(j = 1; j<=n; ++j) if(j != a && j != b) {
			f[j][a] = f[j][b] = f[j][a]/2 + f[j][b]/2;
			f[a][j] = f[b][j] = 1 - f[j][a];
		}
	}
	for(i = 1; i!=n; ++i)
		for(j = i + 1; j<=n; ++j)
			rez += f[i][j];
	cout << setprecision(7) << fixed << rez;
	
	return 0;
}