#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
using namespace std;
double f[1200][1200],ans;
int i,j,k,l,n,m,a[1200],x,y;
int main(){
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;++i)scanf("%d",&a[i]);
	for(i=1;i<=n;++i)
		for(j=i+1;j<=n;++j)f[i][j]=a[i]>a[j];
	for(i=1;i<=m;++i){
		scanf("%d%d",&x,&y);
		if(x>y)swap(x,y);
		for(j=x+1;j<y;++j){
			f[x][j]=f[j][y]=(f[x][j]+1-f[j][y])/2;
			f[j][y]=1-f[j][y];
		}
		for(j=1;j<x;++j)f[j][x]=f[j][y]=(f[j][x]+f[j][y])/2;
		for(j=y+1;j<=n;++j)f[x][j]=f[y][j]=(f[x][j]+f[y][j])/2;
		f[x][y]=0.5;
	}
	for(i=1;i<=n;++i)
		for(j=i+1;j<=n;++j)ans+=f[i][j];
	printf("%.10lf\n",ans);
}
