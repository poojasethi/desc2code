#include<bits/stdc++.h>
using namespace std;
#define rep(i,a,b) for(int (i)=(a);(i)<=(b);(i)++)
#define per(i,a,b) for(int (i)=(a);(i)>=(b);(i)--)
const int maxn=1005;
int n,m,a[maxn];
double dp[maxn][maxn],f[maxn][maxn];
int main(){
	scanf("%d%d",&n,&m);
	rep(i,1,n)scanf("%d",&a[i]);
	rep(i,1,n)rep(j,1,n)dp[i][j]=a[i]>a[j];
	rep(i,1,m){
		int x,y;scanf("%d%d",&x,&y);
		rep(z,1,n){
			f[x][z]=dp[x][z];
			f[y][z]=dp[y][z];
		}
		rep(z,1,n){
			if(z!=x&&z!=y)dp[x][z]=dp[y][z]=0.5*(f[x][z]+f[y][z]);
			else dp[y][x]=dp[x][y]=0.5*(f[x][y]+f[y][x]);
			dp[z][x]=1-dp[x][z];
			dp[z][y]=1-dp[y][z];
		}
	}
	double ans=0;
	rep(i,1,n)rep(j,i+1,n)ans+=dp[i][j];
	printf("%.10f\n",ans);
	return 0;
} 