#include <bits/stdc++.h>

using namespace std;

double d[1010][1010];
int a[1010];
int n,m;

int main()
{
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++) scanf("%d",&a[i]);
	for(int i=1;i<=n;i++)
		for(int j=1;j<=n;j++)
			if(a[i]>a[j]) d[i][j]=1;
	for(int i=1;i<=m;i++){
		int a,b;scanf("%d%d",&a,&b);
		for(int j=1;j<=n;j++) if(j!=a && j!=b) d[j][a]=d[j][b]=(d[j][a]+d[j][b])/2,d[a][j]=d[b][j]=(d[a][j]+d[b][j])/2;
		d[a][b]=d[b][a]=.5;
	}
	double res=0;
	for(int i=1;i<=n;i++)
		for(int j=i+1;j<=n;j++)
			res+=d[i][j];
	printf("%.10lf\n",res);
	return 0;
}
