#include<stdio.h>

const int MAXN=1000+9;

int p[MAXN];
double r[MAXN][MAXN];
int main()
{
#ifndef ONLINE_JUDGE
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
#endif
	int n,m,i,j,a,b;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;++i)
		scanf("%d",p+i);
	for(i=1;i<=n;++i)
		for(j=1;j<=n;++j)
			if(p[i]<p[j])
				r[i][j]=1;
	for(i=0;i<m;++i)
	{
		scanf("%d%d",&a,&b);
		if(a>b)
			j=a,a=b,b=j;
		r[a][b]=r[b][a]=.5;
		for(j=1;j<=n;++j)
			if(j!=a && j!=b)
			{
				r[a][j]=r[b][j]=(r[a][j]+r[b][j])/2;
				r[j][a]=r[j][b]=(r[j][a]+r[j][b])/2;
			}
	}
	double ans=0;
	for(i=2;i<=n;++i)
		for(j=1;j<i;++j)
			ans+=r[i][j];
	printf("%lf\n",ans);
	return 0;
}
