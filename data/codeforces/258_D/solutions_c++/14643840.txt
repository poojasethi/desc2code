#include<stdio.h>
#include<string.h>
#include<algorithm>
#define N 1100
using namespace std;
int a[N];
double f[N][N];
int main()
{
	int n,m,i,j,k,x,y;
	double ans;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)
	{
		scanf("%d",a+i);
		for(j=1;j<i;j++)
		{
			f[i][j]=a[i]>a[j];
			f[j][i]=1-f[i][j];
		}
	}
	for(i=1;i<=m;i++)
	{
		scanf("%d%d",&x,&y);
		for(j=1;j<=n;j++)
		{
			if(j==x||j==y)	continue;
			f[x][j]=f[y][j]=(f[x][j]+f[y][j])/2;
			f[j][x]=f[j][y]=(f[j][x]+f[j][y])/2;
		}
		f[x][y]=f[y][x]=0.5;
	}
	for(i=1,ans=0;i<=n;i++)
	{
		for(j=i+1;j<=n;j++)
		{
			ans+=f[i][j];
		}
	}
	printf("%.9lf\n",ans);
	return 0;
}
