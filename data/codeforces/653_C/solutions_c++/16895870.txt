#include<bits/stdc++.h>
using namespace std;
#define mp make_pair
#define pb push_back
#define pa pair<int,int>
map < pa,int > used;
vector <int> cn;
int n,ar[1000000],res;
int check(int x){
	for(int i=x-2 ; i<=x+2 ; i++){
		if(1<=i && i<n){
			if(i%2==1 && ar[i]>=ar[i+1]){
				return 0;
			}
			if(i%2==0 && ar[i]<=ar[i+1])
				return 0;
		}
	}
	return 1;
}
int f(int i,int j){
	if(i>j)
		swap(i,j);
	if(i<1 || i>n || j<1 || j>n || used[pa(i,j)] || i==j)
		return 0;
	used[pa(i,j)]=1;
	int con=1;
	swap(ar[i],ar[j]);
	for(int q=0 ; q<cn.size() ; q++){
		if(!check(cn[q])){
			con=0;
			break;
		}
	}
	if(!check(i))
		con=0;
	if(!check(j))
		con=0;
	swap(ar[i],ar[j]);
	return con;
}
int main(){
	scanf("%d",&n);
	for(int i=1 ; i<=n ; i++){
		scanf("%d",&ar[i]);
	}
	for(int i=1 ; i<n ; i++){
		if(i%2 && ar[i]>=ar[i+1]){
			cn.pb(i);
		}
		if(i%2==0 && ar[i]<=ar[i+1]){
			cn.pb(i);
		}
	}
	if(cn.size()>6){
		puts("0");
		return 0;
	}
	for(int i=0 ; i<cn.size() ; i++){
		for(int j=1 ; j<=n ; j++){
			if(f(cn[i],j))
				res++;
			if(f(cn[i]-1,j))
				res++;
			if(f(cn[i]+1,j)) 
				res++;
		}
	}
	printf("%d\n",res);
	return 0;
}
