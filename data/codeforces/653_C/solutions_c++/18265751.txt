#include<cmath>
#include<cstring>
#include<cstdio>
#include<algorithm>
#include<vector>
using namespace std;
const int qq=150000+5;
int num[qq];
int n;
vector<int>p;
bool ok(int i)
{
	if(i<1||i>=n)	return 1;
	if((i&1)&&num[i]>=num[i+1])	return 0;
	if(!(i&1) && num[i]<=num[i+1])	return 0;
	return 1; 
}
bool check(int a,int b)
{
	bool flag=1;
	swap(num[a],num[b]);
	for(int i=0; i<p.size(); ++i)	if(!ok(p[i]))	flag=0;
	if(!ok(a)||!ok(a-1)||!ok(b)||!ok(b-1))	flag=0;
	swap(num[a],num[b]);
	return flag;
}
int main()
{
	scanf("%d",&n);
	for(int i=1; i<=n; ++i)	scanf("%d",&num[i]);
	for(int i=1; i<=n; ++i)	if(!ok(i))	p.push_back(i);//不满足条件的点加进数组 
	if(p.size()>4){
		printf("0\n");return 0;
	}
	int x;
	x=p[0];
	int ans=0;
	for(int i=1; i<=n; ++i)	if(check(i,x))	ans++;
	for(int i=1; i<=n; ++i)	if(check(i,x+1))	ans++;
	if(check(x,x+1))	ans--;
	printf("%d\n",ans);
	return 0;
}