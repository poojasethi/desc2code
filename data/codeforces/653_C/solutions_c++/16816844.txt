#include<bits/stdc++.h>
using namespace std;
const int M=2e5;
int n,arr[M],ans;
vector<int>v;
bool check2(int i,int j)
{
	if(i<0 || j>=n)
		return true;
	if(i%2==0 && arr[i]<arr[j])
		return true;
	if(i%2==1 && arr[i]>arr[j])
		return true;
	return false;
}
bool check(int i,int j)
{
	swap(arr[i],arr[j]);
	bool flag=true;
	if(!check2(i,i+1) ||
	!check2(i-1,i) ||
	!check2(j,j+1) ||
	!check2(j-1,j))
		flag=false;
	for(int k=0;k<v.size();k++)
		if(!check2(v[k],v[k]+1) || !check2(v[k]-1,v[k]))
			flag=false;
	for(int k=0;k<v.size();k++)
		if(!check2(v[k]+1,v[k]+2))
			flag=false;
	if(flag)
		ans++;
	//if(flag)
	//	cout<<i<<' '<<j<<endl;
	swap(arr[i],arr[j]);
	return flag;
}
int main()
{
	cin>>n;
	for(int i=0;i<n;i++)
		cin>>arr[i];
	for(int i=0;i<n-1;i++)
	{
		if(i%2==0 && arr[i]>=arr[i+1])
			v.push_back(i);
		if(i%2==1 && arr[i]<=arr[i+1])
			v.push_back(i);
	}
	if(v.size()>6)
	{cout<<"0"<<endl;return 0;}
	for(int i=0;i<n;i++)
		if(i!=v[0])
			check(v[0],i);
	for(int i=0;i<n;i++)
		if(i!=v[0]+1)
			check(v[0]+1,i);
	if(check(v[0],v[0]+1))
		ans-=2;
	cout<<ans<<endl;
	return 0;
}