#include <bits/stdc++.h>

using namespace std;

typedef pair<int, int> pii;
typedef long long INT;

#define NN 200000

int N, M, cnt;
int a[NN];
pii ans[NN*2];

void change(int i, int x) {
	if (i&1) {
		if (i<N-1 && a[i]<=a[i+1]) cnt--;
		if (i && a[i]<=a[i-1]) cnt--;
	} else {
		if (i<N-1 && a[i]>=a[i+1]) cnt--;
		if (i && a[i]>=a[i-1]) cnt--;
	}
	a[i]=x;
	if (i&1) {
		if (i<N-1 && a[i]<=a[i+1]) cnt++;
		if (i && a[i]<=a[i-1]) cnt++;
	} else {
		if (i<N-1 && a[i]>=a[i+1]) cnt++;
		if (i && a[i]>=a[i-1]) cnt++;
	}
}

int main() {
	int p=-1;
	
	scanf("%d", &N);
	for (int i=0; i<N; i++) scanf("%d", &a[i]);
	
	for (int i=0; i<N-1; i++) {
		if (i&1) {
			if (a[i]<=a[i+1]) {
				cnt++; p=i;
			}
		} else {
			if (a[i]>=a[i+1]) {
				cnt++; p=i;
			}
		}
	}
	
	for (int i=0; i<2; i++) {
		for (int j=0; j<N; j++) {
			if (j==p) continue;
			int u=a[j], v=a[p];
			change(j, v); change(p, u);
			if (cnt==0) ans[M++]=pii(min(j, p), max(j, p));
			change(j, u); change(p, v);
		}
		p++;
	}
	
	sort(ans, ans+M);
	M=unique(ans, ans+M)-ans;
	
	printf("%d\n", M);
	
	return 0;
}
             