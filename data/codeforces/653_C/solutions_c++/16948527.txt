#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int a[210001],i,j,k,n,m,b[210001],ans,q[11];
int calc(int x){
	if (x&1) return a[x]<a[x+1]?0:1;else return a[x]>a[x+1]?0:1;
}
bool check(int x,int y){
	int i,res=m;
	q[1]=x;q[2]=x-1;q[3]=y;q[4]=y-1;
	sort(q+1,q+5);
	swap(a[x],a[y]);
	for (i=1;i<=4;i++)
	 if (q[i]<n&&q[i]&&(i==1||q[i]!=q[i-1])) res+=calc(q[i])-b[q[i]];
	swap(a[x],a[y]);
	return res==0;
}
int main(){
	scanf("%d",&n);memset(b,0,sizeof(b));m=0;k=0;
	for (i=1;i<=n;i++){
		scanf("%d",&a[i]);
		if (i>1&&calc(i-1)) k=i-1,b[i-1]=1,m++;
	}
	for (i=1,ans=0;i<=n;i++)
	 if (i!=k&&check(k,i)) ans++;
	for (i=1;i<=n;i++)
	 if (i!=k&&i!=k+1&&check(k+1,i)) ans++;
	printf("%d\n",ans);
	return 0;
}