#include <bits/stdc++.h>
using namespace std;
int n,arr[1000009];
long long ans = 0;
vector<int>v;
bool check(int x){
    if(x%2==0){
        if(arr[x]<=arr[x-1]||(x+1<=n&&arr[x]<=arr[x+1]))return 0;
    }
    else {
        if((x-1>0&&arr[x]>=arr[x-1])||(x+1<=n&&arr[x]>=arr[x+1]))return 0;
    }
    return 1;
}
bool checkAll(int x){
    for(int i=0;i<v.size();i++){
        if(!check(v[i]))return 0;
    }
    return check(x);
}
int no;
void solve(int x){
    for(int i=1;i<=n;i++){
        if(i==no)continue;
        swap(arr[i],arr[x]);
        if(checkAll(i))ans++;
        swap(arr[i],arr[x]);
    }
}
int main(){
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>arr[i];
    }
    for(int i=1;i<=n;i++){
        if(i%2==0){
            if(i+1<=n&&arr[i]<=arr[i+1])v.push_back(i);
        }
        else{
            if(i+1<=n&&arr[i]>=arr[i+1])v.push_back(i);
        }
    }
    if(v.size()>4){
        cout<<0<<endl;
        exit(0);
    }
    else{
        no = v[0]+1;
        solve(v[0]);
        no = -1;
        if(v[0]+1<=n)
            solve(v[0]+1);
    }
    cout<<ans<<endl;
}
