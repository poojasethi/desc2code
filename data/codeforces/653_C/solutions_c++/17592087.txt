#include<cstdio>
#include<iostream>
#define MAXN 150001
using namespace std;
int list[10],total=0,ans=0,num[MAXN],n,i;
bool flag[MAXN]={0};
bool check(int pos){
	if(pos&1){
		if(pos==1)
			return num[pos]<num[pos+1];
		return pos==n?num[pos]<num[pos-1]:num[pos]<num[pos+1]&&num[pos]<num[pos-1];	
	}
	return pos==n?num[pos]>num[pos-1]:num[pos]>num[pos+1]&&num[pos]>num[pos-1];
}
int main(){
	scanf("%d",&n);
	for(i=1;i<=n;i++)
		scanf("%d",&num[i]);
	for(i=1;i<=n;i++)
		if(!check(i)){
			list[total++]=i;
			flag[i]=1;
			if(total>6){
				printf("0");
				return 0;
			}
		}
	for(i=0;i<total;i++)
		for(int j=1;j<=n;j++)
			if(!flag[j]||list[i]<j){
				swap(num[list[i]],num[j]);
				bool ok=check(j);
				for(int k=0;k<total;k++)
					ok&=check(list[k]);
				swap(num[list[i]],num[j]);
				if(ok)
					ans++;
			}
	cout<<ans;
	return 0;
}

