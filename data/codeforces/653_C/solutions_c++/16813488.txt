#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>

#define ll long long
#define inf 1e9
#define eps 1e-10
#define md
#define N 150010
using namespace std;
int a[N],q[N];
bool nk[N];
int n,w;
bool check(int x)
{
	if (x&1) return a[x-1]>a[x]&&a[x]<a[x+1];
	else return a[x-1]<a[x]&&a[x]>a[x+1];
}

bool ok()
{
	for (int i=1;i<=w;i++) if (!check(q[i])) return 0;
	return 1;
}

int main()
{
	scanf("%d",&n);
	a[0]=inf; if (n&1) a[n+1]=inf; else a[n+1]=-inf;
	for (int i=1;i<=n;i++) scanf("%d",&a[i]);
	w=0;
	for (int i=1;i<=n;i++) if (!check(i)) { q[++w]=i; nk[i]=1;}
	if (w>10) printf("0\n");
	else
	{
		int ans=0;
		for (int i=1;i<=w;i++)
		  for (int j=1;j<i;j++)
		  {
		  	swap(a[q[i]],a[q[j]]);
		  	if (ok()) ans++;
		  	swap(a[q[i]],a[q[j]]);
		  }
		for (int i=1;i<=w;i++)
		  for (int j=1;j<=n;j++)
		    if (!nk[j])
		    {
		    	swap(a[q[i]],a[j]);
		    	q[++w]=j;
		    	if (ok()) ans++;
		    	w--; swap(a[q[i]],a[j]);
		    }
		printf("%d\n",ans);
	}
	return 0;
}
		


