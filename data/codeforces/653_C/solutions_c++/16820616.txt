#include<cstdio>
#include<cstring>
#include<algorithm>
#include<iostream>
#include<vector>
#define pb push_back
using namespace std;
vector<int> b;
int a[150010],n,ans=0;
bool boo[150010];
bool judg(){
	for (int i=0;i<b.size();i++){
		int pos=b[i];
		if (pos%2){
			if (pos>1&&a[pos]>=a[pos-1]) return 0;
			else if (pos<n&&a[pos]>=a[pos+1]) return 0;
		}else{
			if (a[pos]<=a[pos-1]) return 0;
			else if (pos<n&&a[pos]<=a[pos+1]) return 0;
		}
	}
	return 1;
}
int main(){
	scanf("%d",&n);
	for (int i=1;i<=n;i++) scanf("%d",&a[i]);
	for (int i=1;i<=n;i++){
		if (i%2){
			if (i>1&&a[i]>=a[i-1]) b.pb(i),boo[i]=1;
			else if (i<n&&a[i]>=a[i+1]) b.pb(i),boo[i]=1;
		}else{
			if (a[i]<=a[i-1]) b.pb(i),boo[i]=1;
			else if (i<n&&a[i]<=a[i+1]) b.pb(i),boo[i]=1;
		}
	}
	if (b.size()>6) {
		printf("0\n");
		return 0;
	}
	for (int i=0;i<b.size();i++)
	for (int j=i+1;j<b.size();j++){
		int x=b[i],y=b[j];
		swap(a[x],a[y]);
		if (judg()) ans++;
		swap(a[y],a[x]);
	}
	for (int j=0;j<b.size();j++)
	for (int i=1;i<=n;i++){
			if (boo[i]) continue;
			int y=b[j];
			swap(a[i],a[y]);
			b.pb(i);
			if (judg()) ans++;
			b.pop_back();
			swap(a[i],a[y]);
		}
	printf("%d\n",ans);
} 