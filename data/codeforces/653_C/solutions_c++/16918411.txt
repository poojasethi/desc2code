#include<bits/stdc++.h>

using namespace std;

#define mp make_pair
#define pb push_back 
#define nd second
#define st first
#define endll '\n'
#define endl cout<<endll;
#define sol (node*2)
#define sag ((node*2)+1)
#define orta (bas+son)/2
 
typedef long long ll;
typedef long long int lli;
typedef long long unsigned llu;
typedef pair < int,int > pii;
typedef pair < lli,lli > plli;

const int MAX = 150007;

int n;
int ans;
int t[MAX];
map <pii,bool> m;
vector<int> b;

bool check(int i)
{
	if(!i or i==n)
		return true;
	return (i%2) ? t[i]<t[i+1] : t[i]>t[i+1];
}
bool checkall(int i,int j)
{
	if(!check(j-1) or !check(j) or !check(i-1) or !check(i)) 
		return false;
	for(int i=0; i<b.size(); i++)
		if(!check(b[i]))
			return false;
	return true;
}
void checkswap(int i,int j)
{
	if(m[mp(j,i)] or m[mp(i,j)])
		return;
	swap(t[i],t[j]);
	if(checkall(i,j))
	ans++;
	swap(t[i],t[j]);
	m[mp(i,j)] = true;
}
int main ()
{
	cin>>n;
	for(int i=1; i<=n; i++)
		scanf("%d",t+i);
	for(int i=1; i<=n; i++)
		if(!check(i))
			b.pb(i);
	if(b.size()>4){cout<<0;return 0;}

/*	cout<<"BADS->"<<endll;
	for(int i=0; i<b.size(); i++)
		cout<<b[i]<<endll;
*/
	for(int j=0; j<b.size(); j++)
		for(int i=1; i<=n; i++)
		{
			checkswap(i,b[j]);
			checkswap(i,b[j]+1);
		}
	cout<<ans;
}
