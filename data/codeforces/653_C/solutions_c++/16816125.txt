#include <bits/stdc++.h>
using namespace std;

int dat[150001];
int seg[150001];
bool sep[150001];

int main()
{
	int n; scanf("%d", &n);
	dat[0] = 23333333;
	dat[n+1] = (n&1) ? 23333333:-23333333;
	seg[1] = 1; scanf("%d", dat+1);
	for (int i = 2; i<=n; i++) {
		scanf("%d", dat+i);
		if (i&1)
			seg[i] = seg[i-1] + (dat[i] >= dat[i-1]);
		else
			seg[i] = seg[i-1] + (dat[i] <= dat[i-1]);
	}
	int ans = 0;
	if (seg[n] <= 5)
		for (int i = 1; i<=n; i++)
			sep[i] = (i>1 && seg[i]!=seg[i-1]) ||
			  (i<n && seg[i]!=seg[i+1]);
		for (int i = 1; i<=n; i++)
			if (sep[i])
				for (int j = 1; j<=n; j++)
					if (!sep[j] || i<j) {
						int l = min(i,j);
						int r = max(i,j);
						if (l==1 || seg[l-1]==seg[1])
							if (r==n || seg[r+1]==seg[n])
								if (l+1==r || seg[l+1]==seg[r-1]) {
									swap(dat[l], dat[r]);
									bool canl, canr;
									if (l&1)
										canl = dat[l] < dat[l-1] &&
										  dat[l] < dat[l+1];
									else
										canl = dat[l] > dat[l-1] &&
										  dat[l] > dat[l+1];
									if (r&1)
										canr = dat[r] < dat[r-1] &&
										  dat[r] < dat[r+1];
									else
										canr = dat[r] > dat[r-1] &&
										  dat[r] > dat[r+1];
									if (canl&&canr) {
										//printf("%d %d\n", l, r);
										ans++;
									}
									swap(dat[l], dat[r]);
								}
					}
	printf ("%d\n", ans);
	return 0;
}
