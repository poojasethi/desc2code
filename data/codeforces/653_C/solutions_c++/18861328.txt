#include <bits/stdc++.h>

using namespace std;

#define NN 200010
#define rep(i, a, b) for (int i = (a); i < (b); i ++)
#define clr(a, b) memset(a, b, sizeof(a))
#define eps 1e-10
#define inf 1000000000

typedef long long INT;
typedef pair<int, int> pii;
typedef pair<pii, int> pi3;

int t[NN];
int a[NN];

int main() {
	
	int ans, N, cnt, x;
	ans = 0;
	scanf("%d", &N);
	rep(i, 1, N + 1) scanf("%d", t + i);
	cnt = 0;
	rep(i, 1, N) {
		if (i & 1) {
			if (t[i] >= t[i + 1]) a[cnt ++] = i;
		} else {
			if (t[i] <= t[i + 1]) a[cnt ++] = i;
		}
	}
	
	rep(tp, 0, 2) {
		if (tp == 0) x = a[0];
		else x = a[0] + 1;
		rep(i, 1, N + 1) {
			if (i == x) continue ;
			if (tp == 1 && i == x - 1) continue ;
			swap(t[i], t[x]);
			bool ok = false ;
			if (i > 1) {
				if ((i - 1) % 2 == 0 && t[i - 1] <= t[i]) ok = true ;
				if ((i - 1) % 2 && t[i - 1] >= t[i]) ok = true ;
			}
			if (i < N) {
				if (i % 2 == 0 && t[i] <= t[i + 1]) ok = true ;
				if (i % 2 && t[i] >= t[i + 1]) ok = true ;
			}
			rep(j, 0, cnt) {
				if (a[j] & 1) {
					if (t[a[j]] >= t[a[j] + 1]) {
						ok = true ;
						break ;
					}
				} else {
					if (t[a[j]] <= t[a[j] + 1]) {
						ok = true ;
						break ;
					}
				}
			}
			if (!ok) {
				ans ++;
			}
			swap(t[i], t[x]);
		}
	}
	printf("%d\n", ans);
	
	
	return 0;
}
           