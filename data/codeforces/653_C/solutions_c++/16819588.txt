#include <bits/stdc++.h>
#define LL long long
using namespace std;
const int N = 2e5 + 10;
int a[N], no[N], k, ans, n;
map<pair<int, int>, bool> vis;

bool check(int i) {
    if (i & 1) {
        if ((i > 1 && a[i] >= a[i - 1]) || (i < n && a[i] >= a[i + 1]))
            return 0;
    }
    else {
        if ((i > 1 && a[i] <= a[i - 1]) || (i < n && a[i] <= a[i + 1]))
            return 0;
    }
    return 1;
}

int main() {
    scanf("%d", &n);
    for (int i = 1; i <= n; ++i)
        scanf("%d", &a[i]);
    for (int i = 1; i <= n; ++i)
        if (!check(i))
            no[k++] = i;
    if (k > 6) {
        puts("0");
        return 0;
    }
    for (int i = 1; i <= n; ++i) {
        for (int j = 0; j < k; ++j) {
            if (i == no[j] || vis[make_pair(i, no[j])] || vis[make_pair(no[j], i)]) continue;
            swap(a[i], a[no[j]]);
            bool flag = 1;
            for (int jj = 0; jj < k; ++jj)
                if (!check(no[jj])) {
                    flag = 0; break;
                }
            if (!check(i)) flag = 0;
            if (flag) ++ans;
            swap(a[i], a[no[j]]);
            vis[make_pair(i, no[j])] = vis[make_pair(no[j], i)] = 1;
        }
    }
    printf("%d\n", ans);
    return 0;
}
