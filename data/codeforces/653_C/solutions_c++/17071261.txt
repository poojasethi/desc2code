#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
const int maxn=150010,inf=~0U>>1;

int t[maxn];
int a[maxn],vis[maxn],m;
int n,ans;

void Add(int x) {if (a[m]==x) return;a[++m]=x;}
bool Check(int x)
{
	if (x&1) {if (t[x]>=t[x-1] || t[x]>=t[x+1]) return false;}
	else if (t[x]<=t[x-1] || t[x]<=t[x+1]) return false;
	return true;
}

int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;i++) scanf("%d",&t[i]);
	t[0]=inf;t[n+1]=(n&1)?inf:0;
	for (int i=1;i<n;i++) if (!Check(i)) Add(i),Add(i+1),vis[i]=vis[i+1]=1;
	if (m>8) {puts("0");return 0;}
	for (int i=1;i<=m;i++)
		for (int j=1;j<=n;j++) if (j!=a[i] && !(vis[j] && a[i]<j))
		{
			int flag=1;
			swap(t[a[i]],t[j]);
			for (int k=1;k<=m;k++) if (!Check(a[k])) flag=0;
			if (!Check(j)) flag=0;
			ans+=flag;
			swap(t[a[i]],t[j]);
		}
	printf("%d\n",ans);
}
