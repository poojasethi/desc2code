#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>

using namespace std;

const int Maxn=150002;

int a[Maxn],n,i,Q[Maxn],rear,ans,delta,j;

bool t[Maxn];

bool Judge() {
	for (int i=0;i<=rear;i++) 
		if (Q[i] & 1) {
			if (a[Q[i]-1]<=a[Q[i]] || a[Q[i]]>=a[Q[i]+1]) return false;
		} else {
			if (a[Q[i]-1]>=a[Q[i]] || a[Q[i]]<=a[Q[i]+1]) return false;
		}
	return true;
}

void Swap(int i,int j) {
	int u=a[i];
	a[i]=a[j];
	a[j]=u;
}

int main() {
	scanf("%d",&n);
	for (i=1;i<=n;i++) scanf("%d",&a[i]);
	a[0]=150001;
	if (n & 1) a[n+1]=Maxn;
	else a[n+1]=0;
	for (i=1;i<=n;i++) {
		if (i & 1) {
			if (a[i-1]<=a[i] || a[i]>=a[i+1]) {
				Q[rear++]=i;
				t[i]=true;
			}
		} else {
			if (a[i-1]>=a[i] || a[i]<=a[i+1]) {
				Q[rear++]=i;
				t[i]=true;
			}
		}
	}
	if (rear>8) printf("0\n");
	else {
		for (i=1;i<=n;i++) 
			for (j=0;j<rear;j++) {
				Swap(i,Q[j]);
				Q[rear]=i;
				if (Judge()) {
					ans++;
					if (t[i]) delta++;
				}
				Swap(i,Q[j]);
			}
		ans-=delta/2;
		printf("%d\n",ans);
	}
	return 0;
}