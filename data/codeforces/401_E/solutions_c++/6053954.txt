#include<cstdio>
#include<cmath>
#define ll long long

ll n,m,l,r,p;

ll min(ll x,ll y){if(x<y)return x;return y;}

ll ask(ll L,ll R,ll x){
  ll Lx=L/x,Rx=R/x;
  if(L%x)Lx++;
  if(Lx>Rx) return 0;
  ll xn=m-Lx*x+1,x1=m-Rx*x+1;
  ll xs=(xn-x1)/x+1;
  return (((x1+xn)*xs)/2)%p;
}
int maxn=100000;
int f[100050];
ll ss[100050],size;
ll sta[20],top;

ll Ans;
int xx[20];

ll LL,RR;
void go(int v,ll Lcm,int _){
  if(v==top+1){
    if(_) Ans+=ask(LL,RR,Lcm);
    else Ans-=ask(LL,RR,Lcm);
    Ans%=p;
    return;
  }
  xx[v]=1;go(v+1,Lcm*sta[v],_^1);
  xx[v]=0;go(v+1,Lcm,_);
}

ll get(ll L,ll R,ll x){
  top=0;
  ll xx=x;
  for(int i=1;ss[i]*ss[i]<=x;i++)
    if(x%ss[i]==0){
      sta[++top]=ss[i];
      for(;x%ss[i]==0;x/=ss[i]);
    }
  if(x>1) sta[++top]=x; 
  Ans=0;
  LL=L,RR=R;
  x=xx;
  go(1,1,1);
  Ans*=(n-x+1);
  Ans%=p;
  return Ans;   
}

int main(){
  //freopen("e.in","r",stdin);
  //freopen("e.out","w",stdout);
  scanf("%I64d%I64d%I64d%I64d%I64d",&n,&m,&l,&r,&p);
  for(int i=2;i<=maxn;i++)
    if(!f[i]){
      ss[++size]=i;
      for(int j=2;i*j<=maxn;j++)
        f[i*j]=1;
    }
  ll N=min(r-1,n);
  ll ans=0;
  for(ll x=1;x<=N;x++){
    ll L=(ll)ceil(sqrt(l*l-x*x)),R=(ll)floor(sqrt(r*r-x*x));
    if(l*l-x*x<=0) L=1;
    if(R>m) R=m;
    ans+=get(L,R,x);
    ans%=p;
  }
  ans=(ans+ans)%p;
  if(l<=1&&1<=r)ans+=n*(m+1)+m*(n+1);
  ans%=p;
  if(ans<0) ans+=p;
  printf("%I64d\n",ans);
}
