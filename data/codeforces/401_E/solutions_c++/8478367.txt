#include <iostream>
#include <cstdio>
#include <cmath>

#define Maxn 100005

typedef long long ll;

using namespace std;

ll num[Maxn],d[Maxn][6];
ll n,m,l,r,p;

//    KODU GECIRDIM
//    CUNKU
//    SORU SILINMIS
//    COZUNCE SINAV YESIL OLACAKATI
//    O YUZDEN 
//
//     SLA'KDK;ASJD;ASLDSADASKD;ASKD;LASKD;LASKD;L


ll cal(ll ql,ll qh,ll mm)
{
    qh/=mm;
    ql=(ql+mm-1)/mm;
    return ((qh-ql+1)*(n+1)-mm*((qh*(qh+1)-ql*(ql-1))/2))%p;
}

int main()
{
    ll ans=0;
    cin>>n>>m>>l>>r>>p;
    for(int i=2;i<=m;++i) if(num[i]==0)
        for(int j=i;j<=m;j+=i)
            d[j][num[j]++]=i;
    ll lo=l,hi=r;
    ll mmin=min(m,r);
    for(ll w=1;w<=mmin;++w)
    {
        while(lo>1 && l*l-w*w<=(lo-1)*(lo-1)) --lo;
        while(r*r-w*w<hi*hi) --hi;
        if(lo<=hi && lo<=n)
        {
            ll t=(1<<num[w]);
            ll a=0;
            for(ll i=0;i<t;++i)
            {
                ll ii=i;
                ll p1=1;
                ll p2=1;
                for(int j=0;j<num[w];++j)
                {
                    if(ii&1)
                    {   
                        p1*=d[w][j];
                        p2*=-1;
                    }
                    ii>>=1;
                }
                a+=p2*cal(lo,hi<n?hi:n,p1);
            }
            ans=(ans+(m-w+1)*a)%p;
            if(ans<0) ans+=p;
        }
    }
    if(l<=1 && r>=1) ans=(ans*2+n*(m+1)+m*(n+1))%p;
    else ans=(ans*2)%p;
    cout<<ans<<endl;
    return 0;
}