#include<cstdio>
#include<cstdlib>
#include<vector>
#include<cmath>
using namespace std;
#define ll long long
#define pb push_back
vector <int> t[100005];
int n,m,l,r,P,i,j,num,t1,t2,flag,q,k;
int calc(int q,int k){
    k=min(k,m);
    ll num=k/q;
    ll ans=num*(m+1);
    ans-=num*(num+1)/2*q;
    return (ans+P)%P;
}
int main(){
    scanf("%d%d",&n,&m);
    for (i=2;i<=n;i++){
        if(!t[i].size())
        for (j=i;j<=n;j+=i) t[j].pb(i);
    }
    scanf("%d%d%d",&l,&r,&P);
    ll ans=0;
    if(l<=1) ans+=(ll)(n+1)*m+(ll)(m+1)*n,ans%=P;
//  printf("ans %d\n",ans);
    for (i=1;i<r&&i<=n;i++){
        num=t[i].size();
        t1=(int)sqrt( max( (ll)l*l-(ll)i*i-1 , 0LL ) );
        t2=(int)sqrt( (ll)r*r-(ll)i*i );
        if(t1==t2) continue;
//      printf("%d %d\n",t1,t2);
        ll res=0;
        for (j=0;j<1<<num;j++){
            flag=1; q=1; 
            for (k=0;k<num;k++)
            if(j&(1<<k)){
                q*=t[i][k];
                flag=-flag;
            }
//          printf("q %d %d %d %d %d\n",q,t1,t2,calc(q,t1),calc(q,t2));
            res=(res+(calc(q,t2)-calc(q,t1))*flag+P)%P;
//          printf("res %d\n",res);
        }
        res*=2;
        ans=(ans+res*(n-i+1))%P;
    }
    printf("%d\n",ans%P);
}
