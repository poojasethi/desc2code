#include<bits/stdc++.h>
using namespace std;
#define rep(i,x,y) for(i=x;i<=y;i++)
typedef long long ll; 
typedef long double ld;
#define mp make_pair
#define fi first
#define se second 

const int D=2000010;
int n,m,i,j,k,l,g,p,qq;bool pd=1;ll tt1,tt2;
int a[111][3];
const int inf=int(1e9);


struct xx
{
	ll s;int t;ll v;
}c[D];
bool operator<(xx a,xx b)
{
	if(a.s!=b.s)return a.s<b.s;
	return a.t<b.t;
}

int ans;
int U[1111],V[1111];
typedef pair<int,int> pii;

void dfs(int t,ll v,int i,int R,int s1,int s2,int s3)
{
	if(i>R)
	{
		
		if(t==0)
		{
			pii w=mp(s1-s2,s1-s3);
			w.fi+=13*int(1e7);w.se+=13*int(1e7);
			
			ll W=1LL*w.fi*int(1e9)+w.se;
			++g;c[g]=(xx){W,s1,v};
		}
		else
		{
			pii w=mp(s2-s1,s3-s1);
			w.fi+=13*int(1e7);w.se+=13*int(1e7);
			
			ll W=1LL*w.fi*int(1e9)+w.se;

			int p=lower_bound(c+1,c+1+g,(xx){W,ll(1e18),v})-c;
			s1+=c[p].t;
			
			//for(int i=1;i<=g;i++)cout<<i<<":"<<c[i].s-W<<endl;cout<<"HH"<<endl;
			//cout<<W<<":"<<p<<endl;
			
			if(p>0&&p<=g&&c[p].s==W)
			{
				if(s1>ans)
				{
					ans=s1;
					tt1=v;
					tt2=c[p].v;
				}	
			}
		}
		
		return;
	}
	
	for(int i1=0;i1<=2;i1++)
	for(int j1=i1+1;j1<=2;j1++)
	{
		dfs(t,(v*3+i1)*3+j1,i+1,R,
		(i1==0||j1==0)*a[i][0]+s1,
		(i1==1||j1==1)*a[i][1]+s2,
		(i1==2||j1==2)*a[i][2]+s3);
	}
}
void P(int x)
{
	if(x==0)printf("L");
	if(x==1)printf("M");
	if(x==2)printf("W");
}
int main()
{
	scanf("%d",&n);
	rep(i,1,n)
	rep(j,0,2)
	cin>>a[i][j];
	
	ans=-inf;
	qq=(n+1)/2;
	dfs(0,0,1,qq,0,0,0);
	
	
	sort(c+1,c+1+g);
	
	
	
	dfs(1,0,qq+1,n,0,0,0);
	
	if(ans==-inf)printf("Impossible\n");
	else
	{
		//printf("%d\n",ans);
		ll v=tt1,z=tt2;
		for(int i=n;i>=qq;i--)
		{
			U[i]=v%3;v/=3; 
			V[i]=v%3;v/=3; 
		}
		for(int i=qq;i>=1;i--)
		{
			U[i]=z%3;z/=3; 
			V[i]=z%3;z/=3; 
		}
		for(int i=1;i<=n;i++)
		{
			P(V[i]);
			P(U[i]);
			printf("\n");
		}
	}
	return 0;	
} 