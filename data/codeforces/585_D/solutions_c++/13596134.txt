#include<bits/stdc++.h>

using namespace std;

#define st first
#define nd second
#define mp make_pair
#define pb push_back
#define sol (root+root)
#define sag (root+root+1)
#define orta ((bas+son)/2)
#define ll long long
#define pii pair<int,int>
#define int ll

const int N=1e5+5;
const int mod=1e9+7;

int n,i,bek,ans=(ll)LONG_MIN,abc,xyz,bea,cea,xey,xez;
int a[30],b[30],c[30];

vector<pair< pii,int> > V;

vector<string> aa;

void f(int x,int t1,int t2,int t3,int w){

	if(x==(n+1)/2+1 and !w){
		V.pb(mp(mp(t2-t1,t3-t1),-t1-t2-t3));
		return;
	}
	if(x==n+1){
		int t=lower_bound(V.begin(),V.end(),mp(mp(t1-t2,t1-t3),(ll)LONG_MIN))-V.begin();
		if(V.begin()+t!=V.end() and V[t].st.st==t1-t2 and V[t].st.nd==t1-t3){
			if(-V[t].nd+t1+t2+t3>ans){
				bek=1;
				bea=V[t].st.st;
				cea=V[t].st.nd;
				xey=t1-t2;
				xez=t1-t3;
				abc=-V[t].nd;
				xyz=t1+t2+t3;
				ans=max(ans,-V[t].nd+t1+t2+t3);
			}
		}
		return;
	}

	f(x+1,t1+a[x],t2+b[x],t3,w);
	f(x+1,t1+a[x],t2,t3+c[x],w);
	f(x+1,t1,t2+b[x],t3+c[x],w);

	return;
}

int f2(int x,int t1,int t2,int t3,int w){
	
	if(x==(n+1)/2+1 and !w)
		return (t2-t1==bea and t3-t1==cea and abc==t1+t2+t3);

	if(x==n+1)
		return (t1-t2==xey and t1-t3==xez and xyz==t1+t2+t3);

	if(f2(x+1,t1+a[x],t2+b[x],t3,w)){
		aa.pb("LM");
		return 1;
	}
	if(f2(x+1,t1+a[x],t2,t3+c[x],w)){
		aa.pb("LW");
		return 1;
	}
	if(f2(x+1,t1,t2+b[x],t3+c[x],w)){
		aa.pb("MW");
		return 1;
	}

	return 0;
}

main(){

	scanf("%lld",&n);

	for(i=1 ; i<=n ; i++)
		scanf("%lld %lld %lld",a+i,b+i,c+i);

	f(1,0,0,0,0);
	sort(V.begin(),V.end());
	f((n+1)/2+1,0,0,0,1);

	if(!bek)
		return printf("Impossible\n"),0;

	f2(1,0,0,0,0);
	reverse(aa.begin(),aa.end());
	int t=aa.size();
	f2((n+1)/2+1,0,0,0,1);
	reverse(aa.begin()+t,aa.end());
	
	for(i=0 ; i<aa.size() ; i++)
		cout<<aa[i]<<endl;
}
