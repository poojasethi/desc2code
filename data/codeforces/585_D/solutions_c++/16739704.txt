#include <bits/stdc++.h>
using namespace std;
typedef pair<long long,long long> P;
typedef pair<long long,int> R;
typedef long long ll;
typedef pair<ll,pair<int,int> >Q;
#define fi first
#define sc second
#define mp make_pair
#define pb push_back
int n,m;
ll a[25],b[25],c[25];
map<P,R>ma;
int main(){
	cin >> n;
	for(int i=0;i<n;i++) cin >> a[i] >> b[i] >> c[i];
	m = n/2;
	int st;
	
	st = 1; for(int i=0;i<m;i++) st = st*3;
	for(int q=0;q<st;q++){
		int x = q;
		long long A=0,B=0,C=0;
		for(int i=0;i<m;i++){
			if(x%3 == 0){
				A+=a[i]; B+=b[i];
			}
			if(x%3 == 1){
				A+=a[i]; C+=c[i];
			}
			if(x%3 == 2){
				C+=c[i]; B+=b[i];
			}
			x/=3;
		}
		if(ma.find(mp(A-B,B-C)) == ma.end()) ma[mp(A-B,B-C)] = mp(A,q);
		else ma[mp(A-B,B-C)] = max(ma[mp(A-B,B-C)],mp(A,q));
	}
	Q ret = mp(-1e15,mp(-1,-1));
	st = 1; for(int i=m;i<n;i++) st = st*3;
	for(int q=0;q<st;q++){
		int x = q;
		int A=0,B=0,C=0;
		for(int i=m;i<n;i++){
			if(x%3 == 0){
				A+=a[i]; B+=b[i];
			}
			if(x%3 == 1){
				A+=a[i]; C+=c[i];
			}
			if(x%3 == 2){
				C+=c[i]; B+=b[i];
			}
			x/=3;
		}
		if(ma.find(mp(B-A,C-B)) != ma.end()){
			ret = max(ret,mp(ma[mp(B-A,C-B)].fi+A,mp(ma[mp(B-A,C-B)].sc,q)));
		}
	}
	if(ret.sc.fi == -1){
		puts("Impossible");
	}
	else{
		int x = ret.sc.fi,y = ret.sc.sc;
		for(int i=0;i<m;i++){
			if(x%3==0){
				puts("LM");
			}
			if(x%3==1){
				puts("LW");
			}
			if(x%3==2){
				puts("MW");
			}
			x/=3;
		}
		for(int i=m;i<n;i++){
			if(y%3==0){
				puts("LM");
			}
			if(y%3==1){
				puts("LW");
			}
			if(y%3==2){
				puts("MW");
			}
			y/=3;
		}
	}
}