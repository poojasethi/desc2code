#include <bits/stdc++.h>
using namespace std;

#define fru(j,n) for(int j=0; j<(n); ++j)
#define tr(it,v) for(typeof((v).begin()) it=(v).begin(); it!=(v).end(); ++it)
#define x first
#define y second
#define pb push_back
#define ALL(G) (G).begin(),(G).end()

//#define DEBUG
#ifdef DEBUG
	#define DEB printf
#else
	#define DEB(...)
#endif


typedef long long ll;
typedef long long LL;
typedef double D;
typedef pair<int,int> pii;
typedef vector<int> vi;

const int inft = 1000000009;
const int MAXN = 1000006;//10^6

int W[30][3],sum[3];

typedef pair<pii,pair<int,string> > quad;

vector<quad> A,B,C;
int pocz,koniec;
char S[123];
int bil[3];
string XX="LMW";

void go(int p){
	if(p==koniec){
		A.pb(quad(pii(bil[1]-bil[0],bil[2]-bil[0]),make_pair(bil[0],string(S+pocz,S+koniec))));
		return;
	}
	fru(i,3){
		bil[i]+=W[p][i];
		S[p]=XX[i];
		go(p+1);
		bil[i]-=W[p][i];
	}
}
int znajdz(pii a){
	int p=0,k=C.size();
	while(p+1<k){
		int m=(p+k)/2;
		if(C[m].x>a) k=m;
		else p=m;
	}
	if(C[p].x!=a) return -1;
	return p;
}
int main(){
	int n;
	scanf("%d",&n);
	fru(i,n) fru(j,3) scanf("%d",&W[i][j]);
	fru(i,n) fru(j,3) sum[j]+=W[i][j];
	pocz=n/2;
	koniec=n;
	go(pocz);
	DEB("pocz = %d, kon = %d\n",pocz,koniec);
	tr(it,A) DEB("(%d,%d)-> %d,%s\n",it->x.x,it->x.y,it->y.x,it->y.y.c_str());
	swap(B,A);
	pocz=0;
	koniec=n/2;
	go(pocz);
	DEB("pocz = %d, kon = %d\n",pocz,koniec);
	tr(it,A) DEB("(%d,%d)-> %d,%s\n",it->x.x,it->x.y,it->y.x,it->y.y.c_str());
	sort(ALL(A));
	tr(it,A) if(C.empty() || it->x!=C.back().x) C.pb(*it);
	int ret=0;
	string jak="";
	pii cel(sum[1]-sum[0],sum[2]-sum[0]);
	tr(it,B){
		pii co(cel.x-it->x.x,cel.y-it->x.y);
		int e=znajdz(co);
		if(e==-1) continue;
		int s=it->y.x+C[e].y.x;
		DEB("%s daje %d\n",(C[e].y.y+it->y.y).c_str(),s);
		if(jak=="" || ret>s){
			ret=s;
			jak=C[e].y.y+it->y.y;
		}	
	}
	if(jak==""){
		printf("Impossible\n");
		return 0;
	}
	DEB("jak = %s\n",jak.c_str());
	fru(i,n) {
		tr(it,XX) if(jak[i]!=*it) printf("%c",*it);
		printf("\n");
	}
	return 0;
}
