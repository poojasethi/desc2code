#include<bits/stdc++.h>
using namespace std;
const int Maxn=2e5+5;

int dp[Maxn][6][2],a[Maxn],n;

inline void check(int pos,int sta,int l,int r)
{
	if(dp[pos][sta][0]==0)
	  dp[pos][sta][0]=l;
	else
	  dp[pos][sta][0]=min(dp[pos][sta][0],l);
	dp[pos][sta][1]=max(dp[pos][sta][1],r);	
}

int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	  scanf("%d",&a[i]);
		
	if(a[1]<2)
	  dp[1][1][0]=dp[1][1][1]=1;
	else
	{
		puts("-1");
		return 0;
	}

	for(int i=1;i<n;i++)
	{
		if(a[i+1]==0)
		{
			for(int j=1;j<=5;j++)
             if(dp[i][j][0]!=0)
			 {
				if(j<5)
				  check(i+1,j+1,dp[i][j][0],dp[i][j][1]);
				if(j>1)
				  check(i+1,1,dp[i][j][0]+1,dp[i][j][1]+1);
			 }
		}
		else
		{
			for(int j=1;j<=5;j++)
			  if(dp[i][j][0]!=0)
			  {
				 if(j<5&&dp[i][j][0]<=a[i+1]&&dp[i][j][1]>=a[i+1])
				   dp[i+1][j+1][0]=dp[i+1][j+1][1]=a[i+1];
				 if(j>1&&dp[i][j][0]<=a[i+1]-1&&dp[i][j][1]>=a[i+1]-1)
				   dp[i+1][1][0]=dp[i+1][1][1]=a[i+1];
			  }
		}
	}

	int ans=-1;
	for(int i=2;i<=5;i++)
	  ans=max(ans,dp[n][i][1]);
	if(ans==0)
		puts("-1");
	else
	{
		printf("%d\n",ans);
		int tmp=n;
		while(n)
		{
			int i;
			for(i=2;i<=5;i++)
			  if(dp[n][i][0]<=ans&&dp[n][i][1]>=ans)
				break;
			for(int j=1;j<=i;j++)
			  a[n--]=ans;
			ans--;
		}
		for(int i=1;i<=tmp;i++)
		  printf("%d ",a[i]);
		puts("");
	}
	return 0;
}
