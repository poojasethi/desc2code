#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 200010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,u;
int be[N],s[N],id[N],f[N][6],h[N][6],a[N];
inline bool judge() {
	int A=j-s[i],B=k-u,C=be[i]-A-B,D=a[id[i]]-a[id[i-1]]-1;
	return 2*D<=C&&C<=5*D;
}
inline void tian(int x) {
	int i,j,k,u;
	for (i=m;i;i--) {
		For(j,1,x-s[i]) a[id[i]-j]=a[id[i]];
		int D=id[i-1]+s[i-1]-h[i][x];
		For(j,h[i][x]+1,f[i][x]) a[D+j-1]=a[id[i-1]];
		int A=be[i]-(x-s[i])-(f[i][x]-h[i][x]);
		int B=a[id[i]]-a[id[i-1]]-1;
		if (!B) {
			x=h[i][x]; continue;
		}
		int C=A/B;
		k=id[i-1]-(h[i][x]-s[i-1])+f[i][x];
		For(j,1,B)For(u,1,(j<=A%B?C+1:C)) a[k++]=a[id[i-1]]+j;
		x=h[i][x];
	}
}
int main() {
	scanf("%d",&n);
	For(i,1,n) {
		scanf("%d",&a[i]);
		if (!a[i]) a[i]=-1;
	}
	for (i=1;i<=n;) {
		for (;i<=n&&a[i]<0;i++);
		for (j=i+1;j<=n&&a[j]<0;j++);
		if (j>n) break;
		if (a[i]==a[j]) For(k,i+1,j-1) a[k]=a[i];
		i=j;
	}
	s[0]=5; id[0]=-4;
	for (i=1;i<=n;) {
		int A=i;
		for (;i<=n&&a[i]<0;i++);
		if (i>n) break;
		for (j=i;j<=n&&a[j]==a[i];j++);
		s[++m]=j-i,id[m]=i,be[m]=i-A;
		i=j;
	}
	f[0][5]=1;
	For(i,1,m)For(j,s[i],5)For(u,s[i-1],5) if (f[i-1][u])
		For(k,max(2,u),5) if (judge()) f[i][j]=k,h[i][j]=u;
	for (i=5;i;i--) if (f[m][i]) {
		if (i==1&&id[m]==n) continue;
		if (i==5&&id[m]+s[m]==n) continue;
		int A=id[m]+s[m],B=a[id[m]];
		if (i==1) a[A++]=B;
		for (j=A;j+1<=n;j+=2) a[j]=a[j+1]=++B;
		for (;j<=n;j++) a[j]=a[j-1];
		tian(i);
		printf("%d\n",B);
		For(i,1,n) printf("%d ",a[i]);
		//for(;;);
		return 0;
	}
	printf("-1\n");
	return 0;
}
