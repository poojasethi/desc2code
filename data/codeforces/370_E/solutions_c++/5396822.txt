#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<string>
#include<cmath>
#include<algorithm>
using namespace std;
struct dpnode
{
	int low,lownum,high,highnum;
}f[200005];
int ans[200005],a[200005];
int n;
int main()
{
 	/*freopen("P.in","r",stdin);
    freopen("P.out","w",stdout);*/
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i]);

	f[0].low=0,f[0].lownum=5,f[0].high=0,f[0].highnum=2;
	for(int i=1;i<=n;i++)
	{
		if(a[i]==0)
		{
			if(f[i-1].lownum==5)f[i].low=f[i-1].low+1,f[i].lownum=1;
			else				f[i].low=f[i-1].low,f[i].lownum=f[i-1].lownum+1;

			if(f[i-1].highnum==2)f[i].high=f[i-1].high+1,f[i].highnum=1;
			else				 f[i].high=f[i-1].high,f[i].highnum=f[i-1].highnum+1;
		}
		else
		{
			if(a[i]<f[i-1].low || (a[i]==f[i-1].low && f[i-1].lownum==5))
			{printf("-1\n");return 0;}
			if(a[i]>f[i-1].high && (!(a[i]==f[i-1].high+1 && f[i-1].highnum==2)))
			{printf("-1\n");return 0;}

			if(a[i]>f[i-1].low)	f[i].low=a[i],f[i].lownum=1;
			else f[i].low=a[i],f[i].lownum=f[i-1].lownum+1;
			if(a[i]<f[i-1].high)	f[i].high=a[i],f[i].highnum=2;
			else if (a[i]==f[i-1].high)
				f[i].high=a[i],f[i].highnum=2;
			else
				f[i].high=a[i],f[i].highnum=1;
		}
	}
	if(a[n]==f[n].high && f[n].highnum==1) 
	{	printf("-1\n");return 0;}
	if(f[n].highnum==1)f[n].high--;
	printf("%d\n",f[n].high);
	int tem=f[n].high,temnum=1;
	ans[n]=tem;
	for(int i=n-1;i>=1;i--)
	{
		if(temnum==1) temnum++;
		else if (tem-1<f[i].low) 
			temnum++;
		else
		{
			temnum=1;
			tem--;
		}
		ans[i]=tem;
	}
	for(int i=1;i<=n;i++)
		printf("%d ",ans[i]);
	return 0;
}


