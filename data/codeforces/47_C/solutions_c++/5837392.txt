#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;

int p[8],l,ll;
char s[6][35];
bool f;
char a[35][35],b[35][35];

inline void print()
{
	int i,j,i1=strlen(s[p[1]])-1,i2=strlen(s[p[2]])-1,j1=strlen(s[p[0]])-1,j2=strlen(s[p[3]])-1,x;
	for(i=0,j=0;j<=j1;j++)
		a[i][j]=s[p[0]][j];
	for(;j<=j2;j++)
		a[i][j]='.';
	a[i][j]=0;
	for(i++;i<i1;i++)
	{
		j=0;
		a[i][j]=s[p[1]][i];
		for(j++;j<j1;j++)
			a[i][j]='.';
		a[i][j]=s[p[2]][i];
		for(j++;j<=j2;j++)
			a[i][j]='.';
		a[i][j]=0;
	}
	for(j=0;j<=j2;j++)
		a[i][j]=s[p[3]][j];
	a[i][j]=0;
	for(i++;i<i2;i++)
	{
		for(j=0;j<j1;j++)
			a[i][j]='.';
		a[i][j]=s[p[2]][i];
		for(j++;j<j2;j++)
			a[i][j]='.';
		a[i][j]=s[p[5]][i-i1];
		a[i][++j]=0;
	}
	for(j=0;j<j1;j++)
		a[i][j]='.';
	for(j;j<=j2;j++)
		a[i][j]=s[p[4]][j-j1];
	a[i][j]=0;

	if(!f)
		memcpy(b,a,sizeof(a)),ll=l;
	else
	for(i=0;i<l;i++)
	{
		if(x=strcmp(a[i],b[i]))
		{
			if(x<0)
				memcpy(b,a,sizeof(a)),ll=l;
			break;
		}
	}
}

inline void c()
{
	if(strlen(s[p[0]])+strlen(s[p[4]])==strlen(s[p[3]])+1)
	if(strlen(s[p[1]])+strlen(s[p[5]])==strlen(s[p[2]])+1)
	if(s[p[0]][0]==s[p[1]][0])
	if(s[p[0]][strlen(s[p[0]])-1]==s[p[2]][0])
	if(s[p[1]][strlen(s[p[1]])-1]==s[p[3]][0])
	if(s[p[2]][strlen(s[p[2]])-1]==s[p[4]][0])
	if(s[p[3]][strlen(s[p[3]])-1]==s[p[5]][0])
	if(s[p[5]][strlen(s[p[5]])-1]==s[p[4]][strlen(s[p[4]])-1])
	if(s[p[2]][strlen(s[p[1]])-1]==s[p[3]][strlen(s[p[0]])-1])
	{
		l=strlen(s[p[2]]);
		print();
		f=1;
	}
}

int main()
{
	int i;
	for(i=0;i<6;i++)
	{
		scanf("%s",s[i]);
		p[i]=i;
	}
	do
	{
		c();
	}while(next_permutation(p,p+6));
	if(f)
		for(i=0;i<ll;i++)
			puts(b[i]);
	else
		puts("Impossible");
	return 0;
}

	 	  	 		 	 	 	 		 	  	   	