#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <queue>
#include <map>
#include <string.h>

const int N=100010;
const int inf=0x3f3f3f3f;

using namespace std;

#define pb push_back
#define sz(x) ((x).size())
string str[6];

struct data
{
	vector<string> vt;
	bool operator < (const data &r) const
	{
		for(int i=0;i<min(sz(vt),sz(r.vt));i++)
			if(vt[i]!=r.vt[i]) return vt[i]<r.vt[i];
		return sz(vt)<sz(r.vt);
	}
}ret;

int main()
{
	for(int i=0;i<6;i++)
		cin>>str[i];
	sort(str,str+6);
	bool r=0;
	do
	{
		bool f=0;
		for(int i=0;i<6;i++)
			if(sz(str[i])<3) f=1;
		if(f) break;
		if(sz(str[0])+sz(str[2])!=sz(str[1])+1) continue;
		if(sz(str[3])+sz(str[5])!=sz(str[4])+1) continue;
		if(str[0][0]!=str[3][0]) continue;
		if(str[3][sz(str[3])-1]!=str[1][0]) continue;
		if(str[0][sz(str[0])-1]!=str[4][0]) continue;
		if(str[4][sz(str[4])-1]!=str[2][0]) continue;
		if(str[1][sz(str[1])-1]!=str[5][0]) continue;
		if(str[2][sz(str[2])-1]!=str[5][sz(str[5])-1]) continue;
		if(str[1][sz(str[0])-1]!=str[4][sz(str[3])-1]) continue;
		data tmp;
		//for(int i=0;i<6;i++)
			//cout<<i<<" "<<str[i]<<endl;
		for(int i=0;i<sz(str[1]);i++)
		{
			string t;
			if(i<sz(str[0])) t+=str[0][i];
			else t+='.';
			if(i<sz(str[0])-1)
			{	
				for(int j=1;j<sz(str[3])-1;j++)
					if(i==0) t+=str[3][j];
					else t+='.';
				t+=str[1][i];
				for(int j=sz(str[3]);j<sz(str[4]);j++)
					t+='.';
			}
			else if(i==sz(str[0])-1)
			{
				for(int j=1;j<sz(str[4]);j++)
					t+=str[4][j];
			}
			else
			{
				for(int j=1;j<sz(str[3])-1;j++)
					t+='.';
				t+=str[1][i];
				for(int j=sz(str[3]);j<sz(str[4])-1;j++)
					if(i!=sz(str[1])-1) t+='.';
					else t+=str[5][j-sz(str[3])+1];
				t+=str[2][i-sz(str[0])+1];
			}
			tmp.vt.pb(t);
		}
		if(r==0) ret=tmp,r=1;
		if(tmp<ret) ret=tmp;
	}while(next_permutation(str,str+6));
	if(!r) cout<<"Impossible"<<endl;
	else
	{
		for(int i=0;i<sz(ret.vt);i++)
			cout<<ret.vt[i]<<endl;
	}
	return 0;
}
