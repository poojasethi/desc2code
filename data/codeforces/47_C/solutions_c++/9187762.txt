#include <stdio.h>
#include <iostream>
#include <map>
#include <vector>
#include <string>
#include <algorithm>
#define SIZE(n) s[(n)].size()
using namespace std;
vector<string>  V(10,string(3, '.'));
string s[6];
int add(char &a,char b){
	if(a!='.'&&a!=b) return 0;
	a=b;
	return 1;
}
int main(){
	char ss[50];
	int i;
	for(i=0;i<6;i++){
		scanf("%s",ss);
		s[i]=ss;
	}
	sort(s,s+6);
	vector<string> res;
	do{
		if(SIZE(1)!=SIZE(0)+SIZE(2)-1) continue;
		if(SIZE(4)!=SIZE(3)+SIZE(5)-1) continue;
		vector<string> v(SIZE(4),string(SIZE(1),'.'));
		int ok=1;
		for(i=0;i<SIZE(0);i++) ok &= add(v[0][i],s[0][i]);
		for(i=0;i<SIZE(1);i++) ok &= add(v[SIZE(3)-1][i],s[1][i]);
		for(i=0;i<SIZE(2);i++) ok &= add(v[SIZE(4)-1][SIZE(0)-1+i],s[2][i]);
		for(i=0;i<SIZE(3);i++) ok &= add(v[i][0],s[3][i]);
		for(i=0;i<SIZE(4);i++) ok &= add(v[i][SIZE(0)-1],s[4][i]);
		for(i=0;i<SIZE(5);i++) ok &= add(v[SIZE(3)-1+i][SIZE(1)-1],s[5][i]);
		if(ok==1&&(res.empty()||v<res)) res=v; 

	}while(next_permutation(s, s+6));
	if(res.empty()){
		printf("Impossible\n");
	}
	else {
		for(int i=0;i<res.size();i++)
			printf("%s\n",res[i].data());
	}
	

	
}

	


                                