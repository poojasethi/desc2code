#!/usr/bin/python

from sys import stdin as cin
from itertools import permutations as perm

ans = []
w = cin.readlines()
w = [item.rstrip() for item in w[0:6]]
for p in perm(w):
	c = list(p)
	mh = len(c[0]) - 1
	if c[0][0] != c[3][0]:
		continue
	if c[0][mh] != c[4][0]:
		continue
	mv = len(c[3]) - 1	
	if c[1][0] != c[3][mv]:
		continue
	dv = len(c[4]) - 1
	if len(c[4]) < len(c[3]) + 2:
		continue
	if len(c[1]) < len(c[0]) + 2:
		continue
	if c[1][mh] != c[4][mv]:
		continue
	rh = len(c[1]) - 1
	if c[1][-1] != c[5][0]:
		continue
	if len(c[3]) + len(c[5]) - 1 != len(c[4]):
		continue
	if len(c[2]) + len(c[0]) - 1 != len(c[1]):
		continue
	if c[5][-1] != c[2][-1]:
		continue
	if c[4][-1] != c[2][0]:
		continue
	width = len(c[1])
	height = len(c[4])
	cur = [["." for j in xrange(width)] for i in xrange(height)]
	for j in xrange(6):
		for i in xrange(len(c[j])):
			if j == 0:
				cur[0][i] = c[j][i]
			elif j == 1:
				cur[mv][i] = c[j][i]
			elif j == 2:
				cur[dv][len(c[0]) - 1 + i] = c[j][i]
			elif j == 3:
				cur[i][0] = c[j][i]
			elif j == 4:
				cur[i][mh] = c[j][i]
			elif j == 5:
				cur[len(c[3]) - 1 + i][rh] = c[j][i]
			
	ans.append("\n".join(["".join(item) for item in cur]))

ans.sort()
if len(ans) > 0:
	print ans[0]
else:
	print "Impossible"
