#include <iostream>
#include <algorithm>

#define FOR(i,n) for (i = 0; i < n; ++i)

using namespace std;
const int nmax = 100001;
pair <int,int> a [2][nmax];
int amount[2], i, j, vmax, cur_v, n, v, t, p;

int main () {
    cin >> n >> v;
    FOR(i,n) {
        cin >> t >> p;
        a[t & 1][++amount[t & 1]] = make_pair(-p,i + 1);
    }

    FOR(i,2) {
        sort(a[i] + 1, a[i] + amount[i] + 1);
    }
    FOR(i,2)
        FOR(j,amount[i]) {
            a[i][j+1].first += a[i][j].first;
        }
    n = min(amount[1],v);
    i = 0;
    while(n >= 0) {
        if ((cur_v = a[1][n].first + a[0][min(amount[0],(v - n) / 2)].first) < vmax) {
            i = n;
            vmax = cur_v; 
        }
        n--;
    }

    cout << -vmax << endl;
    FOR(t,i) cout << a[1][t + 1].second << ' ';
    i = min((v - t) / 2, amount[0]);
    FOR(t,i) cout << a[0][t + 1].second << ' ';
    //system("pause");
    return 0;
}