#include<iostream>
#include<algorithm>

using namespace std;
#define F(i,n) for(i=0;i<n;i++)

pair<int,int> a[2][1<<17];
int n,v,x,c[2],t,p;

int main()
{
    cin>>n>>v;
    int i=0,j;
    F(i,n)
    {
        cin>>t>>p;
        a[t&1][++c[t&1]]=make_pair(-p,i+1);
    }


    F(i,2)sort(a[i]+1,a[i]+c[i]+1);

    F(i,2)F(j,c[i])
    a[i][j+1].first += a[i][j].first;

    n=min(c[1],v);

    for(i=0;~n;--n)
    {
        if((t=a[1][n].first+a[0][min(*c,(v-n)/2)].first)<x) i=n,x=t;
    }
    cout<<(-x)<<endl;

    F(t,i) cout<<a[1][t+1].second<<" ";

    t=min(*c,(v-i)/2);
    F(i,t) cout<<a[0][i+1].second<<" ";
    return 0;
}
