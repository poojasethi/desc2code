#include<stdio.h>
#include<string.h>
#include<vector>
#include<algorithm>
#include<iostream>
using namespace std;
#define M 100005
int sum[2][M];
struct node{
	int x,id; 
};
bool cmp(node A,node B){
	return A.x>B.x;
}
vector<node>s[2];
int main(){
	int n,V,a,b;
	scanf("%d %d",&n,&V);
	for(int i=1;i<=n;i++){
		scanf("%d %d",&a,&b);
		s[a-1].push_back((node){b,i});
	}
	for(int i=0;i<2;i++){
		sort(s[i].begin(),s[i].end(),cmp);
	 	sum[i][0]=0;
	 	for(int j=1;j<=s[i].size();j++)
	 		sum[i][j]=sum[i][j-1]+s[i][j-1].x; 
	}
	int ans=0;a=b=0;
	for(int i=0;i<=s[0].size()&&i<=V;i++){//枚举1的个数  
		int x=i,y=(V-i)/2;//y表示2的个数 
		if(y>s[1].size())y=s[1].size();
		int tmp=sum[0][x]+sum[1][y]; 
		if(tmp>ans){
			ans=tmp;a=x;b=y;
		}
	} 
	printf("%d\n",ans);
	for(int i=0;i<a;i++)printf("%d ",s[0][i].id);
	for(int i=0;i<b;i++)printf("%d ",s[1][i].id);
	puts("");
	return 0;
}