#include <stdio.h>
#include <stdlib.h>

#define N 100000
struct node
{
	int i,v;
};
int cmp(const void *x,const void *y)
{
	return ((struct node*)y)->v-((struct node*)x)->v;
}
int main()
{
	int c[N+1],d[N+1],n,p,q,t,r,v,i,j,k,l;
	struct node *a,*b;
	a = (struct node*)malloc(N*sizeof(struct node));
	b = (struct node*)malloc(N*sizeof(struct node));
	scanf("%d%d",&n,&v);
	p = q = 0;
	for(i=1;i<=n;i++)
	{
		scanf("%d%d",&t,&r);
		if(t==1)
		{
			a[p].i = i;
			a[p++].v = r;
		}
		else
		{
			b[q].i = i;
			b[q++].v = r;
		}
	}
	qsort(a,p,sizeof(struct node),cmp);
	qsort(b,q,sizeof(struct node),cmp);
	c[0] = d[0] = 0;
	for(i=0;i<p;i++)
		c[i+1] = c[i]+a[i].v;
	for(i=0;i<q;i++)
		d[i+1] = d[i]+b[i].v;
	t = 0;
	for(i=0;i<=q&&i<=v/2;i++)
	{
		j = v-2*i;
		if(j>p)
			j = p;
		if(j>=0&&c[j]+d[i]>t)
			t = c[j]+d[i],
			k = i,
			l = j;
	}
	printf("%d\n",t);
	for(i=0;i<l;i++)
		printf("%d ",a[i].i);
	for(i=0;i<k;i++)
		printf("%d ",b[i].i);
	return 0;
}