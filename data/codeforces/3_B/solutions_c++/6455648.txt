//gskhirtladze

#include <iostream>
#include <algorithm>
#include <math.h>
#include <stdio.h>

#define fi first
#define se second

using namespace std;

int z,v,x,y,n,ans,res,ind1,ind2,i,m;
pair < int , int > a[200000],b[200000];

main()
 {
  cin>>z>>v;
  for (i=1;i<=z;i++)
   {
    cin>>x>>y;
    if (x == 1)
     {
      n++;
      a[n].fi=y;
      a[n].se=i;
     }
    if (x == 2) 
     {
      m++;
      b[m].fi=y;
      b[m].se=i;
     }
   }
  sort(a+1,a+n+1);
  reverse(a+1,a+n+1);
  sort(b+1,b+m+1);
  reverse(b+1,b+m+1);
  for (i=1;i<=n;i++)
   a[i].fi+=a[i-1].fi;
  for (z=0;z<=m;z++)
   {
    res+=b[z].fi;
    if (z*2 > v) continue;
    if (res + a[min(n,(v-z*2))].fi > ans)
     {
      ans=res + a[min(n,(v-z*2))].fi;
      ind2=z;
      ind1=min(n,(v-z*2));
     }
   }
  cout<<ans<<endl;
  for (i=1;i<=ind2;i++)
   cout<<b[i].se<<" ";
  for (i=1;i<=ind1;i++)
   cout<<a[i].se<<" ";
  cout<<endl;
 }
