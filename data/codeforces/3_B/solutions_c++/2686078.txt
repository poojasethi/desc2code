#include <cstdio>
#include <algorithm>
#include <cmath>
#include <cstdlib>
#include <functional>

#define rep(i, n) for (int i = 0; i < (int)(n); ++i)

using namespace std;

#define MAXN 100010

int m [2], u [2];
pair< int, int > tt [2] [MAXN];

int main()
{
    int n, v;
    scanf("%d%d", &n, &v);

    rep(i, n)
    {
        int t, p;
        scanf("%d%d", &t, &p);
        tt [t - 1] [m [t - 1] ++] = make_pair(p, i + 1);
    }

    rep(i, 2)
        sort( tt [i], tt [i] + m[i], greater< pair< int, int > >());

    u [1] = min(m [1], v / 2);
    u [0] = min(m [0], v - 2 * u [1]);

    while (u [0] + 1 < min(m [0], v) &&
            tt [1] [u [1] - 1] .first < tt[0] [u [0]] .first + tt[0][ u [0] + 1] .first)
    {
        -- u [1];
        u [0] += 2;
    }

    int c = 0;

    rep(i, 2)
    rep(j, u [i])
        c += tt [i] [j] .first;

    printf("%d\n", c);

    rep(i, 2)
    rep(j , u [i])
        printf("%d ", tt [i] [j] .second);

    return 0;
}