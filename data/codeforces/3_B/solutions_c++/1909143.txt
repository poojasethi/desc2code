#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

#define pie pair <int, int>
#define ff first
#define ss second

const int maxN = 100 * 1000 + 100;

int n, v;
vector <pie> k, c;

int p, q, sum;

int main() {
	cin >> n >> v;
	for (int i = 0; i < n; i++) {
		int t, w; cin >> t >> w;
		if (t == 2) k.push_back (pie (w, i + 1));
		else c.push_back (pie (w, i + 1));
	}

	sort (k.begin(), k.end(), greater <pie>());
	sort (c.begin(), c.end(), greater <pie>());
	c.push_back (pie (0, -1));

	while (p < k.size() && p * 2 < v - 1)
		sum += k[p].ff, p++;
	while (q < c.size() && p * 2 + q < v)
		sum += c[q].ff, q++;

	while (q < c.size() - 1 && p > 0) {
		if (c[q].ff + c[q + 1].ff > k[p - 1].ff) {
			sum += c[q].ff + c[q + 1].ff - k[p - 1].ff;
			q += 2; p--;
		}
		else break;
	}

	cout << sum << endl;
	for (int i = 0; i < p; i++) cout << k[i].ss << ' ';
	for (int i = 0; i < q; i++) if (c[i].ss != -1) cout << c[i].ss << ' ';
	cout << endl;

	return 0;
}
