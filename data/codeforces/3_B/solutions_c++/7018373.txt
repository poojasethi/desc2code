#include <iostream>
#include <cstdlib>
#include <algorithm>
#include <cstdio>
using namespace std;

int n,v,scnt,dcnt;
struct Boat
{
	int ord,val;
}sing[100005],doub[100005];
inline bool cmp(const Boat& a,const Boat& b)
{
	if (a.val>b.val) return true;
	return false;
}
int main()
{
	cin>>n>>v;
	for (int i=1,vv;i<=n;i++)
	{
		cin>>vv;
		if (vv==1) ++scnt,cin>>sing[scnt].val,sing[scnt].ord=i;
		else ++dcnt,doub[dcnt].ord=i,cin>>doub[dcnt].val;
	}
	sort(sing+1,sing+scnt+1,cmp);
	sort(doub+1,doub+dcnt+1,cmp);
	int last=v,start=1,tip=1;
	while (start<=dcnt && last>tip)
	{
		if (sing[tip].val+sing[tip+1].val<doub[start].val)
			start++,last-=2;
		else tip++;
	}
	int Ans1=0;
	for (int i=1;i<start;i++)
		Ans1+=doub[i].val;
	for (int i=1;i<=last && i<=scnt;i++)
		Ans1+=sing[i].val;
    cout<<Ans1<<endl;
	for (int i=1;i<start;i++)
		printf("%d\n",doub[i].ord);
	for (int i=1;i<=last && i<=scnt;i++)
		printf("%d\n",sing[i].ord);\
	return 0;
}
