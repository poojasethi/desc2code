#include<iostream>
#include<vector>
#include<algorithm>

using namespace std;

#define pb(x) push_back(x)
#define sz(x) (int)x.size()
#define x first
#define y second
#define FOR(i,a,b) for(int i = a; i<b; i++)

int main(){
	int n,v;
	int ma = 0, pos = 0;
	
	vector<pair<int,int> > v1,v2;
	int s1[200000],s2[200000]; 
	
	cin >> n >> v;
	
	int x,y;
	
	for (int i = 0; i<n; i++){
		cin >> x >> y;
		if (x == 1)
			v1.push_back(make_pair(y,i));
		else 
			v2.push_back(make_pair(y,i));
	}

	sort(v1.rbegin(),v1.rend());
	sort(v2.rbegin(),v2.rend());

	for (int i = 1; i<=sz(v1); i++)
		s1[i]=s1[i-1]+v1[i-1].x;
	for (int i = 1; i<=sz(v2); i++)
		s2[i]=s2[i-1]+v2[i-1].x;
	

	
	for (int i = 0; i<=sz(v2); i++){
		if (i*2>v) break;
		if (s2[i]+s1[min(v-i*2,sz(v1))] > ma) {
			ma = s2[i]+s1[min(v-i*2,sz(v1))];
			pos = i;
		}
	}

	cout << ma << endl;
	
	for (int i = 0; i<pos; i++)
		cout << v2[i].y+1 << " ";
	
	for (int i = 0; i<min(v-pos*2,sz(v1));i++)
		cout << v1[i].y+1 << " ";

	return 0;
}
