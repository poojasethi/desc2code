#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;


vector< pair<long,long> > a1,a2;
int n,v,i,b1[200000],b2[200000];


int main(){
	
	cin >> n >> v;
	long tip,cap;
	for (i=1; i<=n; i++){
		cin >> tip >> cap;
		if (tip & 1) a1.push_back(make_pair(cap,i)); else a2.push_back(make_pair(cap,i)); 
	}
	
	sort(a1.rbegin(),a1.rend());
	sort(a2.rbegin(),a2.rend());
	
	for (i=0; i<(int)a1.size(); i++)
		b1[i+1]=b1[i]+a1[i].first;

	for (i=0; i<(int)a2.size(); i++)
		b2[i+1]=b2[i]+a2[i].first;
	
	int p1,p2,rs=0,rsi,a1i,a2i;

	
	for (i=0; i<=(int)a1.size() && i<=v; i++){
		p1=i;
		p2=min((v-p1)/2,(int)a2.size());
		rsi=b1[p1]+b2[p2];
		if (rsi>rs) {
			rs=rsi;
			a1i=p1;
			a2i=p2;
		}
	}
	
	cout << rs << "\n";

	for (i=0; i<a1i; i++)
		cout << a1[i].second << " ";
	for (i=0; i<a2i; i++)
		cout << a2[i].second << " ";
	
	return 0;
}

