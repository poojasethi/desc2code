#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <string>

using namespace std;

class node{
 public:int num,w,v;
}f[2333333];

bool cmp(node a,node b)
{
    if(a.w!=b.w)return (a.w)<b.w;
        else  if(a.w==1)return (a.v)<b.v;
        else return a.v>b.v;
}
int n,m,x,y;

int main()
{
    scanf("%d %d",&n,&m);
    for(int i=1;i<=n;i++)
    {
      scanf("%d %d",&x,&y);
      f[i].num=i;
      f[i].v=y;
      if(x==1)f[i].w=1;else f[i].w=2;

    };
    sort(f+1,f+1+n,cmp);
    int maxn=0,w1=0,v1=0,maxm=1;
    for(int i=1,j=1;i<=n;i++)
    {
        v1+=f[i].v;
        w1+=f[i].w;
        while(w1>m){
          v1-=f[j].v;
          w1-=f[j++].w;
        };
        if(v1>maxn){maxn=v1;maxm=j;}
    }
        printf("%d\n",maxn);
        w1=v1=0;
        for(int j=maxm;j<=n;j++){
          v1+=f[j].v;
          w1+=f[j].w;
          if(w1>m)break;
          printf("%d ",f[j].num);

        };
   return 0;
}

	  			 	 		 		    	 	  	