#include <bits/stdc++.h>
//Damned if I don't take what I want.

using namespace std;

typedef long long ll;
typedef pair<int, int> pii;

const int MAXN = 2e5 + 100;

pii a[2][MAXN];
ll pre[2][MAXN];
int sz[2];

int main(){
	ios::sync_with_stdio( false );
	cout.tie(0); cin.tie(0);

	int n, v; cin >> n >> v;

	for (int i = 0; i < n; i++){
		int x, t; cin >> x >> t;
		x--;
		a[x][ sz[x]++ ] = pii(t, i + 1);
	}

	for (int k = 0; k < 2; k++){
		sort(a[k], a[k] + sz[k], greater<pii>());
		pre[k][0] = 0;
		for (int i = 0; i < sz[k]; i++)
			pre[k][i + 1] = pre[k][i] + a[k][i].first;
	}

	pii ans(0, 0);
	for (int i = 0; i <= min(v / 2, sz[1]); i++)
		ans = max(ans, pii(pre[1][i] + pre[0][min(v - 2 *i, sz[0])], i));

	cout << ans.first << endl;
	for (int i = 0; i < ans.second; i++) cout << a[1][i].second << " ";
	for (int i = 0; i < min(v - 2 * ans.second, sz[0]); i++) cout << a[0][i].second << " ";


}

