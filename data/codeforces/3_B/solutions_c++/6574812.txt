#include <cstdio>
#include <algorithm>

#define N 100000

using namespace std;

int n,v,t,p,ones,twos,value,ans,cnt;

struct node{
	int value,id,sum;
}one[N+10],two[N+10];

inline bool cmp(node a,node b){
	return a.value>b.value;
}

int main(){
	scanf("%d%d",&n,&v);
	for (int i=1;i<=n;++i){
		scanf("%d%d",&t,&p);
		if (t==1) ones++,one[ones].value=p,one[ones].id=i;
		else twos++,two[twos].value=p,two[twos].id=i;
	}
	sort(one+1,one+ones+1,cmp);
	sort(two+1,two+twos+1,cmp);
	for (int i=1;i<=ones;++i) one[i].sum=one[i-1].sum+one[i].value;
	for (int i=1;i<=twos;++i) two[i].sum=two[i-1].sum+two[i].value;
	for (int i=0,lim=min(ones,v);i<=lim;++i){
		value=one[i].sum+two[min((v-i)/2,twos)].sum;
		if (value>ans) ans=value,cnt=i;
	}
	printf("%d\n",ans);
	for (int i=1;i<=cnt;++i) printf("%d ",one[i].id);
	for (int i=1,lim=min((v-cnt)/2,twos);i<=lim;++i) printf("%d ",two[i].id);
	puts("");
	return 0;
}
