#include <stdio.h>
#include <utility>
#include <algorithm>
#include <functional>
#define rep(i, n) for(int i=0; i<(int)(n); i++)
using namespace std;

int m[2], u[2];
pair<int, int> tt[2][100000];

int main() {
    int n, v;
    scanf("%d%d", &n, &v);
    rep(i, n) {
        int t, p;
        scanf("%d%d", &t, &p);
        tt[t-1][m[t-1]++] = make_pair(p, i+1);
    }
    rep(i, 2) sort(tt[i], tt[i]+m[i], greater<pair<int, int> >());
    u[1] = min(v/2, m[1]);
    while(u[0]<m[0] && u[0]+2*u[1]<v) u[0]++;
    while(u[0]+1<m[0]
        && tt[1][u[1]-1].first<tt[0][u[0]].first+tt[0][u[0]+1].first) {
        u[1]--;
        u[0]+=2;
    }
    int o=0;
    rep(i, 2) rep(j, u[i]) o += tt[i][j].first;
    printf("%d\n", o);
    rep(i, 2) rep(j, u[i]) printf("%d ", tt[i][j].second);
    printf("\n");
    return 0;
}
