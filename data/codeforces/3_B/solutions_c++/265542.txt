#include<cstdio>
#include<vector>
#include<algorithm>
#define all(x) x.begin(),x.end()
//          Last Change:  2011-01-26 21:16:46
using namespace std;
int n,v,p[100003],v1[100003],v2[100003];
vector<int> one,two;
struct cmp
{
	bool operator ()(const int &x,const int &y)
	{
		return p[x]>p[y];
	}
};
int main()
{
	scanf("%d%d",&n,&v);
	for(int i=1;i<=n;++i)
	{
		int x;
		scanf("%d%d",&x,p+i);
		if(x==1)one.push_back(i);
		else two.push_back(i);
	}
	sort(all(one),cmp());
	sort(all(two),cmp());
	for(int i=1;i<=one.size();++i)v1[i]=v1[i-1]+p[one[i-1]];
	for(int i=1;i<=two.size();++i)v2[i]=v2[i-1]+p[two[i-1]];
	int ans=0,ss;
	for(int i=0;i<=two.size();++i)
	{
		int j=v-2*i;
		if(j<0)break;
		if(j>one.size())j=one.size();
		if(v2[i]+v1[j]>ans)
		{
			ans=v2[i]+v1[j];
			ss=i;
		}
	}
	printf("%d\n",ans);
	for(int i=1;i<=ss;++i)printf("%d ",two[i-1]);
	for(int j=1;j<=one.size()&&j+2*ss<=v;++j)printf("%d ",one[j-1]);
	return 0;
}
