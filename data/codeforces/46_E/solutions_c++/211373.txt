#include <iostream>
#include <stdio.h>

using namespace std;

#define oo 200000000000LL

long long s[2005][2005]={0};
long long f[2005][2005]={0};

int main()
{
 long long n,m,i,j;
 long long max=0;
 
 cin>>n>>m;
 for(i=1;i<=n;i++)
   for(j=1;j<=m;j++)
     {
      scanf("%I64d",&s[i][j]);
      s[i][j]+=s[i][j-1];
     }
 
 if(n==1)
  {
   for(;;);
  }
 
 for(i=1;i<=n;i++)
   {
    if(i&1LL)
     {
      f[i][1]=-oo;
      max=f[i-1][1];
      for(j=2;j<=m;j++)
        {
         f[i][j]=max+s[i][j];
         if(f[i-1][j]>max)
          max=f[i-1][j];
        }
     }
    else
     {
      f[i][m]=-oo;
      max=f[i-1][m];
      for(j=m-1;j>=1;j--)
        {
         f[i][j]=max+s[i][j];
         if(f[i-1][j]>max)
          max=f[i-1][j];
        }
     }
   }
   
 max=f[n][1];
 for(i=2;i<=m;i++)
   if(f[n][i]>max)
    max=f[n][i];
 
 cout<<max;
 
 return 0;
}
