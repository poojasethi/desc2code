#include <stdio.h>
#include <fstream>
#include <algorithm>

using namespace std;

#define MAXN 2000

long long D[3][MAXN];
int A[MAXN];
long long S[MAXN];
long long Ans;
int i, j, N, M;

int main()
{

    scanf("%d %d", &N, &M);
    for (i = 1; i <= N; ++i){
        for (j = 1; j <= M; ++j){
            scanf("%d", &A[j]);
            S[j] = S[j - 1] + A[j];
        }
        if (i % 2 == 0){
            for (j = 1; j < M; ++j)
                D[1][j] = D[2][j + 1] + S[j];
            for (j = 2; j <= M; ++j)
                D[1][j] = max(D[1][j], D[1][j - 1]);
        }
        else{
            for (j = 2; j <= M; ++j)
                D[2][j] = D[1][j - 1] + S[j];
            if (i == 1)
                D[2][1] = S[1];
            for (j = M - 1; j >= 1; --j)
                D[2][j] = max(D[2][j], D[2][j + 1]);
        }
    }
    if (N % 2 == 0)
        Ans = D[1][M - 1];
    else
        Ans = D[2][2];

    printf("%I64d\n", Ans);

    return 0;
}
