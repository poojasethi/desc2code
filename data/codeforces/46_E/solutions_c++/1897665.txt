#include<iostream>
#include<cstdio>
#include<cstring>
#define N 1505
#define LL long long
#define MAX(a,b) ((a)>(b)?(a):(b))
using namespace std;
int n,m;
LL dp[N][N];
int map[N][N],sum[N][N];
void solve()
{
	int i,j;
	for(i=0;i<n;i++)
		for(j=1;j<=m;j++)
			sum[i][j]=sum[i][j-1]+map[i][j];
	dp[0][m]=sum[0][m];
	for(i=m-1;i;i--)
		dp[0][i]=MAX(dp[0][i+1],sum[0][i]);
	for(i=1;i<n;i++)
		if(i%2)
		{
			dp[i][1]=dp[i-1][2]+sum[i][1];
			for(j=2;j<m;j++)
				dp[i][j]=MAX(dp[i][j-1],dp[i-1][j+1]+sum[i][j]);
		}
		else
		{
			dp[i][m]=dp[i-1][m-1]+sum[i][j];
			for(j=m-1;j>1;j--)
				dp[i][j]=MAX(dp[i][j+1],dp[i-1][j-1]+sum[i][j]);
		}
	if(n%2)
		cout<<dp[n-1][2]<<endl;
	else
		cout<<dp[n-1][m-1]<<endl;
}
int main()
{
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;i++)
		for(int j=1;j<=m;j++)
			scanf("%d",&map[i][j]);
	solve();
	return 0;
}
