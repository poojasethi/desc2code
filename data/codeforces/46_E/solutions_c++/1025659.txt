#include<cstdio>
#include<vector>
#include<algorithm>
using namespace std;
typedef long long ll;
const ll inf=1LL<<61;

vector<ll> dp(1550,0),dp2(dp);
int pref[1550];
int main() {
    int N,M;
    scanf("%d%d",&N,&M);
    for(int i=0;i<N;i++) {
        for(int j=1;j<=M;j++) {
            scanf("%d",pref+j);
            pref[j]+=pref[j-1];
        }
        int st,inc;
        if(i%2) {
            st=M;
            inc=-1;
        } else {
            st=1;
            inc=1;
        }
        ll mx=-inf;
        if(i==0) {
            mx=0;
        }
        while(st>=1 && st<=M) {
            dp2[st]=mx+pref[st];
            mx=max(mx,dp[st]);
            st+=inc;
        }
        swap(dp,dp2);
    }
    printf("%I64d",*max_element(dp.begin()+1,dp.begin()+M+1));
}