#include <cstdio>
#include <algorithm>
#include <map>
#include <set>
#include <cstring>
#include <vector>
#define MOD 1000000007
#define INF 1LL<<60
using namespace std;
int n,m;
int a[2000][2000];
__int64 sum[2000][2000],L[2000],R[2000],dp[2000][2000];
int main()
{
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++)
		for(int j=1;j<=m;j++)
			scanf("%d",&a[i][j]),sum[i][j]=sum[i][j-1]+a[i][j];
	L[0]=-INF,R[m+1]=-INF;
	for(int i=1;i<=m;i++)
	{
		dp[1][i]=sum[1][i];
		L[i]=max(L[i-1],dp[1][i]);
	}
	for(int i=m;i>=1;i--)
	{
		R[i]=max(R[i+1],dp[1][i]);
	}
	for(int i=2;i<=n;i++)
	{
		for(int j=1;j<=m;j++)
		{
			if(i%2==1)
			{
				dp[i][j]=sum[i][j]+L[j-1];
			}
			else
			{
				dp[i][j]=sum[i][j]+R[j+1];
			}
		}
		for(int j=1;j<=m;j++)
			L[j]=max(L[j-1],dp[i][j]);
		for(int j=m;j>=1;j--)
			R[j]=max(R[j+1],dp[i][j]);
	}
	__int64 ans=-INF;
	for(int i=1;i<=m;i++)
		ans=max(ans,dp[n][i]);
	printf("%I64d\n",ans);
	//system("pause");
	return 0;
}