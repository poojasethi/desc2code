#include <bits/stdc++.h>
using namespace std;

#define MAX 2000
#define ll long long
const ll inf = 1e18;

ll a[MAX][MAX];
ll f[MAX][MAX], g[MAX][MAX], h[MAX][MAX];
int n, m;

int main(){
	// freopen("test.in", "rt", stdin);
	// cin >> n >> m;
	scanf("%d%d", &n, &m);
	for (int i = 1; i <= n; i++)
		for (int j = 1; j <= m; j++){
			// cin >> a[i][j];
			scanf("%I64d", &a[i][j]);
			a[i][j] += a[i][j-1];
		}

	for (int i = 1; i <= n; i++){
		for (int j = 1; j <= m; j++)
			if (i & 1)
				f[i][j] = g[i-1][j-1] + a[i][j];
			else
				f[i][j] = h[i-1][j+1] + a[i][j];
		g[i][0] = -inf;
		for (int j = 1; j <= m; j++)
			g[i][j] = max(g[i][j-1], f[i][j]);
		h[i][m+1] = -inf;
		for (int j = m; j >= 1; j--)
			h[i][j] = max(h[i][j+1], f[i][j]);
	}

	// cout << g[n][m];
	printf("%I64d", g[n][m]);

	return 0;
}
		 	     	 	  	  		   		     	