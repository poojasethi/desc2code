#include<stdio.h>
#include<algorithm>
#define rep(l,r) for (int i=l;i<=r;i++)
using namespace std;
const int maxn=1502;
int a[maxn][maxn],n,m;
long long s[maxn][maxn],kq;
int main()
{
    #ifndef ONLINE_JUDGE
        freopen("test.inp","r",stdin);
    #endif // ONLINE_JUDGE
    scanf("%d%d",&n,&m);
    rep(1,n)
    for (int j=1;j<=m;j++)
        scanf("%d",&a[i][j]);
    rep(1,n)
    for (int j=1;j<=m;j++)
        a[i][j]+=a[i][j-1];
    rep(0,n) s[i][0]=-1000000000,s[i][m+1]=-1000000000;
    rep(1,n)
        if (i&1==1)
        {
            for (int j=m;j>=1;j--) s[i][j]=max(s[i-1][j-1]+a[i][j],s[i][j+1]);
        }
        else
        {
            for (int j=1;j<=m;j++) s[i][j]=max(s[i-1][j+1]+a[i][j],s[i][j-1]);
        }
    kq=-1000000000;
    rep(1,m) kq=max(kq,s[n][i]);
    printf("%I64d",kq);
}

