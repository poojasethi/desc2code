#include<cstdio>
#include<cstring>
#include<algorithm>

using namespace std;

typedef long long ll;

const ll inf = 1ll<<50;
const int maxn = 1505;
int sum[maxn],n,m;
ll dp[2][maxn];

int main()
{
	scanf("%d%d",&n,&m);
	int pt = 1;
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=m;j++)
		{
			scanf("%d",sum+j);
			sum[j] += sum[j-1];
		}
		if(i&1)
		{
			ll ma = -inf;
			for(int j=1;j<=m;j++)
			{
				dp[pt][j] = ma + sum[j];
				ma = max(ma,dp[pt^1][j]);
			}
		}
		else
		{
			ll ma = -inf;
			for(int j=m;j>=1;j--)
			{
				dp[pt][j] = ma + sum[j];
				ma = max(ma,dp[pt^1][j]);
			}
		}
		pt^=1;
	}
	pt^=1;ll res = -inf;
	for(int i=1;i<=m;i++)
		res = max(res,dp[pt][i]);
	printf("%I64d\n",res);
}
