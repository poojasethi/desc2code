#include <iostream>
#include <algorithm>
#include <map>
#include <string>
using namespace std;

int n;
int W[5000];
int H[5000];

long long  sol=0;
long long solr,solc;
int curr[5000],cc=0;
int main(){
	cin>>n;
	for(int i=0;i<n;i++){
		cin>>W[i]>>H[i];
		if(W[i]>H[i]){
			swap(H[i],W[i]);
		}
	}
	for(int i=0;i<n;i++){
		cc=0;
		int w=W[i];
		for(int j=0;j<n;j++){
			if(W[j]>=w){
				curr[cc++]=H[j];
			}
		}
		sort(curr,curr+cc);
		for(int j=0;j<cc;j++){
			if(sol<w * 1ll * (cc-j) * 1ll * curr[j]){
				sol=w * 1ll * (cc-j) * 1ll * curr[j];

				solr=w;
				solc=curr[j];
			}
			
		}
	}
	cout<<sol<<endl;
	cout<<solc<<" "<<solr<<endl;
}