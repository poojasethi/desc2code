#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <ctime>
#include <cmath>
#include <iostream>
#include <algorithm>

using namespace std;

int n, a[4001][2], v[4001], cnt, ax, ay;
long long ans;

int main() {
	scanf("%d", &n);
	for (int i = 1; i <= n; i++) {
		scanf("%d%d", &a[i][0], &a[i][1]);
		if (a[i][0] > a[i][1]) swap(a[i][0], a[i][1]);
	}
	ans = 0; ax = 0; ay = 0;
	for (int i = 1; i <= n; i++) {
		cnt = 0;
		for (int j = 1; j <= n; j++)
			if (a[j][0] >= a[i][0]) v[++cnt] = a[j][1];
		sort(v + 1, v + cnt + 1);
		for (int j = 1; j <= cnt; j++)
			if (1LL * a[i][0] * v[j] * (cnt - j + 1) > ans) 
				ans = 1LL * a[i][0] * v[j] * (cnt - j + 1),
				ax = a[i][0], ay = v[j];
	}
	cout << ans << endl;
	printf("%d %d\n", ax, ay);
}	