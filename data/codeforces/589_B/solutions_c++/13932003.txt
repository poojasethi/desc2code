#include <iostream>
#include <fstream>
#include <vector>
#include <algorithm>

using namespace std;

typedef long long ll;
typedef pair<ll, ll> pii;

int main()
{
//	freopen("input.txt", "r", stdin);


	unsigned int n;

	int w, l;

	cin >> n;

	vector<pii> a(n);

	for (int i = 0; i < n; ++i)
	{
		cin >> w >> l;
		if (w > l) swap(w, l);
		a[i].first = w;
		a[i].second = l;
	}

	sort(a.begin(), a.end());

	ll res = 0;
	pii wl;

	for (int i = 0; i < n; ++i)
	{
		vector<ll> b;
		for (int j = i; j < n; ++j) b.push_back(a[j].second);
		sort(b.begin(), b.end());
		for (int j = 0; j < b.size(); ++j)
		{
			ll t = b.size() - j;
			if (res < t*b[j]*a[i].first)
			{
				res = t*b[j]*a[i].first;
				wl.first = a[i].first;
				wl.second = b[j];
			}
		}
		
	}

	cout << res << endl;
	cout << wl.first << " " << wl.second;

	return 0;
}