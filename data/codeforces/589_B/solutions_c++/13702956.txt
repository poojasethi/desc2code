#include <bits/stdc++.h>

using namespace std;

#define F first
#define S second

typedef long long L;

vector <pair<L, L> > v;
vector <L> tmp;
int n;

int main()
{
  scanf("%d", &n);
  for(int i = 0; i < n; ++i) {
    L a, b;
    scanf("%I64d%I64d", &a, &b);
    if(a < b) swap(a, b);
    v.push_back({a, b});
  }
  sort(v.begin(), v.end(), greater<pair<L,L> >());

  L res = 0, A, B;
  for(int i = 0; i < n; ++i) {
    L x = v[i].first;
    tmp.push_back(v[i].second);
    sort(tmp.begin(), tmp.end(), greater<L>());
    int nn = tmp.size();
    for(int i = 0; i < nn; ++i) {
      L ans = x * (i + 1) * tmp[i];
      if(ans > res) {
        res = ans, A = x, B = tmp[i];
      }
    }
  }
  printf("%I64d\n%I64d %I64d", res, A, B);
  return 0;
}
