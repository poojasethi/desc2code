#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
#include <functional>
using namespace std;

const int MAXN = 4003;
typedef pair<int, int> P;
P A[MAXN];
int n;
long long ans, sz;

bool cmp(P x, P y) {return x.second < y.second; }
int main() {
	scanf("%d", &n);
	for(int i = 0,a,b; i < n; i++) {
		scanf("%d%d", &a, &b);
		if(a > b) swap(a, b);
		A[i] = P(a, b);
	}
	sort(A, A + n);
	int x, y;
	for(int i = 0; i < n; i++) {
		int ai = A[i].first;
		sort(A + i, A + n, cmp);
		for(int j = i; j < n; j++) {
			sz = (long long)ai * A[j].second * (n - j);
			if(sz > ans) {
				ans = sz;
				x = ai;
				y = A[j].second;
			}
		}
		sort(A, A + n);
	}
	printf("%I64d\n%d %d\n", ans, x, y);
	return 0;
}
		 	 				       	 			 		  				