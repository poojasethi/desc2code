#include<bits/stdc++.h>
using namespace std;
long long n,x[5000],y[5000],i,j,tot,ans,xx,yy,c[1100000],tt,d[1100000];
bool bo[1100000];
bool cmp(int o, int p) {
	return (o > p);
}
int main() {
	scanf("%I64d", &n);
	for (i = 1; i <= n; i++) {
		scanf("%I64d %I64d", &x[i], &y[i]);
		if (!bo[x[i]]) {
			c[++tot] = x[i];
		}
		if (!bo[y[i]]) {
			c[++tot] = y[i];
		}
	}
	for (i = 1; i <= tot; i++) {
		tt = 0;
		for (j = 1; j <= n; j++) {
			if (x[j] >= c[i] && y[j] >= c[i]) {
				d[++tt] = max(x[j], y[j]);
			} else {
				if (x[j] >= c[i] || y[j] >= c[i]) {
					d[++tt] = min(x[j], y[j]);
				}
			}
		}
		sort(d + 1, d + 1 + tt, cmp); 
		for (j = 1; j <= tt; j++) {
			if (ans < c[i] * d[j] * j) {
			ans = c[i] * d[j] * j;
			xx = c[i]; yy = d[j];
		}
		}
	}
	cout<<ans<<endl;
	cout<<xx<<" "<<yy<<endl;
}
 		         							 	 	 	 	 		