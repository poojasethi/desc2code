#include<bits/stdc++.h>
using namespace std;
const int N=4004;
int n,a[N]={},b[N]={},v[N+N]={},ans1=0,ans2=0;
int h[N+N][N+N]={};
long long ans=0;
int main()
{	
	cin>>n;
	for(int i=1;i<=n;++i)
		cin>>a[i]>>b[i];
	copy(a+1,a+n+1,v+1);
	copy(b+1,b+n+1,v+n+1);
	sort(v+1,v+n+n+1);
	for(int i=1;i<=n;++i)
	{
		a[i]=lower_bound(v+1,v+n+n+1,a[i])-v;
		b[i]=lower_bound(v+1,v+n+n+1,b[i])-v;
		if(a[i]>b[i])
			swap(a[i],b[i]);
		++h[a[i]][b[i]];
		++h[b[i]][a[i]];
		--h[a[i]][a[i]];
	}
	for(int i=n+n;i>=1;--i)
		for(int j=n+n;j>=1;--j)
			h[i][j]+=(h[i+1][j]+h[i][j+1]-h[i+1][j+1]);
	for(int i=1;i<=n+n;++i)
		for(int j=1;j<=n+n;++j)
		{
			long long s=v[i]*1ll*v[j]*h[i][j];
			if(s>ans)
			{
				ans=s;
				ans1=v[i],ans2=v[j];
			}
		}
	cout<<ans<<endl<<ans1<<' '<<ans2<<endl;
	return 0;
}