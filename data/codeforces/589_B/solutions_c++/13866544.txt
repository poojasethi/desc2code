#include <bits/stdc++.h>

using namespace std;

typedef long long ll;

struct data{
	int a, b;
}d[4008];

bool cmp(data p1, data p2){
	if(p1.a == p2.a) return p1.b > p2.b;
	return p1.a > p2.a;
}

bool cmp2(data p1, data p2){
	return p1.b > p2.b;
}

int main(){
	int n;

	while(scanf("%d", &n) > 0){
		for(int i = 0; i < n; i++){
			scanf("%d%d", &d[i].a, &d[i].b);
			if(d[i].a > d[i].b) swap(d[i].a, d[i].b);
		}
		sort(d, d + n, cmp);
		ll w = 0, h = 0, res = 0;
		for(int i = 0; i < n; i++){
			ll cc = d[i].a, temp;
			sort(d, d + i + 1, cmp2);
			for(int j = 0; j <= i; j++){
				temp = cc * d[j].b * (j + 1);
				if(temp > res){
					res = temp;
					w = cc; h = d[j].b;
				}
			}
		}
		cout << res << endl;
		cout << w << ' ' << h << endl;
	}

	return 0;
}

	  	  		 	  	            				 	