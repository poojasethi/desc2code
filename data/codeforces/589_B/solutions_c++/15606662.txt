#include <cstdio>
#include <algorithm>
#include <cstdlib>

#define N  5000

using namespace std;

struct PII {
	int a, b;
}c[N];

inline bool cmp(const PII &x, const PII &y) {
	if (x.a == y.a)
		return x.b < y.b;
	return x.a < y.a;
}

int n, tot, t[N];
long long ans, a, b;

int main() {
	scanf("%d", &n);
	for (int i = 0; i < n; i++) {
		scanf("%d %d", &c[i].a, &c[i].b);
		if (c[i].a > c[i].b)
			swap(c[i].a, c[i].b);
	}

	sort(c, c + n, cmp);

	for (int i = n; ~i; i--) {
		t[tot++] = c[i].b;
		sort(t, t + tot);
		for (int j = 0; j < tot; j++) {
			long long tmp = 1LL * c[i].a * t[j] * (tot - j);
			if (ans < tmp) {
				ans = tmp;
				a = t[j];
				b = c[i].a;
			}
		}
	}

	printf("%lld\n%lld %lld\n", ans, a, b);
}
			 		   	  	   	 			 	 	 		