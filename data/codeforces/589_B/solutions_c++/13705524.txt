#include<cmath>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;

#define LL long long

struct Data{
	int a,b;
}A[4005],B[4005];

int N,k,x,y;
LL Ans;

bool cmp(Data x,Data y)
{
	if(x.a == y.a)
	{
		return x.b < y.b;
	}
	return x.a < y.a;
}

int main()
{
	scanf("%d",&N);
	for(int i=1;i<=N;i++)
	{
		scanf("%d%d",&A[i].a,&A[i].b);
		if(A[i].a < A[i].b) swap(A[i].a,A[i].b);
		B[i].a = A[i].b;
		B[i].b = A[i].a;
	}
	sort(A+1,A+1+N,cmp);
	sort(B+1,B+1+N,cmp);
	for(int i=1;i<=N;i++)
	{
		k = 0;
		LL tot;
		LL a = A[i].a;
		for(int j=N;j;j--)
		{
			if(B[j].b < a) continue;
			k++;
			LL b = B[j].a;
			LL tot = a * b * k;
			if(tot > Ans)
			{
				Ans = tot;
				x = a;
				y = b;
			}
		}
	}
	cout << Ans << endl << x << " " << y;
}

