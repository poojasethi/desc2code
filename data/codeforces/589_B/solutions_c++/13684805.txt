#include<cstdio>
#include<iostream>
#include<utility>
#include<algorithm>

using namespace std;

long long volume;
int a,b;

int N;
int as[4040],bs[4040];

int tmp[4040];
int ln;

void calc(int ca){
	ln=0;
	for(int i=0;i<N;i++){
		if(as[i]>=ca){
			tmp[ln++]=bs[i];
		}
	}
	sort(tmp,tmp+ln);
	for(int i=ln-1;i>=0;i--){
		int cb=tmp[i];
		long long cv=(long long)ca*cb*(ln-i);
		if(volume<cv){
			volume=cv;
			a=ca;
			b=cb;
		}
	}
}

void input(){
	scanf("%d",&N);
	for(int i=0;i<N;i++){
		scanf("%d%d",as+i,bs+i);
		if(as[i]>bs[i]) swap(as[i],bs[i]);
	}
}

int main(){
	volume=-1;
	input();
	for(int i=0;i<N;i++){
		calc(as[i]);
	}
	cout<<volume<<"\n"<<a<<" "<<b<<"\n";
	return 0;
}
