#include<bits/stdc++.h>
using namespace std;
typedef long long int lint;
#define fr first
#define sc second
pair <lint,lint> pa[100000];
lint n,ar[3],ans=-1e9,hi,hj,res,cnt[1000000];
bool cmp(const int &a,const int &b){
	return a>b;
}
lint f(int cur){
	lint at=0;
	for(int i=1 ; i<=n ; i++){
		if(pa[i].fr>=cur){
			cnt[++at]=pa[i].sc;
		}
		else
			if(pa[i].sc >= cur){
				cnt[++at]=pa[i].fr;
			}
	}
	sort(cnt+1,cnt+at+1,cmp);
//	printf("cnt[1]--->%lld\n",cnt[1]);
	for(int i=1 ; i<=at ; i++){
		res=cur*cnt[i]*i;
		if(res>ans){
			ans=res;
			hi=cur;
			hj=cnt[i];
		}
	}
}
int main(){
	scanf("%lld",&n);
	for(lint i=1 ; i<=n ; i++){
		scanf("%lld %lld",&ar[1],&ar[2]);
		sort(ar+1,ar+3);
		pa[i].fr=ar[1];
		pa[i].sc=ar[2];
	}
	for(int i=1 ; i<=n ; i++){
		f(pa[i].fr);
		f(pa[i].sc);
	}
	printf("%lld\n%lld %lld\n",ans,hi,hj);
	return 0;
}
