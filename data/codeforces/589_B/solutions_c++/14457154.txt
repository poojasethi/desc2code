#include <bits/stdc++.h>
using namespace std;

int main() {
long long i,j,k,l,r,t,o,z=0,x,y,m=1000000000,n;
cin>>n;
long long a[n],b[n];
for(i=0;i<n;i++)  {cin>>a[i]>>b[i]; if(a[i]>b[i]) swap(a[i],b[i]); }
for(i=0;i<n;i++){
    for(j=1;j<n;j++){
        if(a[j-1]<a[j]) {swap(a[j-1],a[j]);  swap(b[j-1],b[j]);}
    }
}
for(i=0;i<n;i++){
sort(b,b+i+1);
for(j=0;j<=i;j++){
if(a[i]*b[j]*(i-j+1)>=z) {x=a[i]; y=b[j];  z=a[i]*b[j]*(i-j+1);}
}}
cout<<z<<endl<<x<<" "<<y;


return 0;
}
