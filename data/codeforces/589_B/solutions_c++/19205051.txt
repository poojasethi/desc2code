#include<cstdio>
#include<algorithm>
#define N 40005
using namespace std;
int n,b[N];
struct Node{
	int a,b;
};
Node cake[N];
bool cmp1(Node x,Node y){
	if(x.a==y.a)
		return x.b<y.b;
	return x.a<y.a;
}
int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++){
		scanf("%d%d",&cake[i].a,&cake[i].b);
		if(cake[i].a>cake[i].b){
			int tmp=cake[i].a;
			cake[i].a=cake[i].b,cake[i].b=tmp;
		}
	}
	sort(cake,cake+n,cmp1);
	int cnt=0,w,l;
	long long ans=0;
	for(int i=n-1;i>=0;i--){
		b[cnt++]=cake[i].b;
		sort(b,b+cnt);
		for(int j=0;j<cnt;j++){
			long long tmp=(long long)cake[i].a*b[j]*(cnt-j);
			if(tmp>ans){
				ans=tmp;
				w=cake[i].a,l=b[j];
		//		printf("%d,ans=%lld,w=%d,l=%d\n",cnt-j,ans,w,l);
			}
		}
	}
	printf("%lld\n%d %d\n",ans,w,l);
	return 0;
}
				 	     		   		 	   				