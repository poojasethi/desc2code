#include<iostream>
#include<algorithm>
using namespace std;
typedef long long ll;
const int maxn=4010;
ll a[maxn][2],v[maxn],ans=0,w,h;
int main(){
    int n;
    cin>>n;
    for(int i=0;i<n;i++){
        cin>>a[i][0]>>a[i][1];
        if(a[i][0]>a[i][1])swap(a[i][0],a[i][1]);
    }
    ll cnt=0;
    for(int i=0;i<n;i++){
        cnt=0;
        for(int j=0;j<n;j++)if(a[j][0]>=a[i][0])v[cnt++]=a[j][1];
        sort(v,v+cnt);
        for(int j=0;j<cnt;j++){
            if(ans<a[i][0]*v[j]*(cnt-j)){
                ans=a[i][0]*v[j]*(cnt-j);
                w=a[i][0];
                h=v[j];
            }
        }
    }
    cout<<ans<<endl;
    cout<<w<<" "<<h<<endl;
    return 0;
}
