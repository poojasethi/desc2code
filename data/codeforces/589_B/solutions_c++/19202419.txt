#include <cstdio>
#include <cmath>
#include <cstring>
#include <iostream>
#include <algorithm>
using namespace std;
long long temp,ans,ansu,ansv,p[5000],u[5000],v[5000],n,num[5000];
bool cmp(int a,int b)
{
	return u[a]>u[b];
}
int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;++i) 
	{
		scanf("%d%d",&u[i],&v[i]);
		if(v[i]>u[i]) swap(u[i],v[i]);
		p[i]=i;
	}
	sort(p+1,p+n+1,cmp);
	for(int i=1;i<=n;++i)
	{
		int now=p[i];
		for(int j=1;j<=n;++j) 
		{
			if(v[now]>=v[p[j]])
			num[p[j]]++;
		}
		for(int j=1;j<=i;++j)
		{
			if((temp=num[p[j]]*u[now]*v[p[j]])>ans)
			{
				ans=temp;
				ansv=v[p[j]];
				ansu=u[now];
			}
		}
	}
	cout<<ans<<endl<<ansu<<" "<<ansv;
	return 0;
}
	  		 	   	  		 	 			  				 	 	