#include<cstdio>
#include<algorithm>
using namespace std;
struct number
{
    int a,b;
}num[4010];
bool cmp(number a,number b){return a.a>b.a;}
int n,ansx,ansy,b[4010],s[4010][4010];
long long ans;
int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;i++){scanf("%d%d",&num[i].a,&num[i].b);if(num[i].a<num[i].b)swap(num[i].a,num[i].b);b[i]=num[i].b;}
    sort(b+1,b+n+1);for(int i=1;i<=n;i++)num[i].b=lower_bound(b+1,b+n+1,num[i].b)-b;
    sort(num+1,num+n+1,cmp);for(int i=1;i<=n;i++){for(int j=1;j<=n;j++)s[i][j]=s[i-1][j];for(int j=num[i].b;j;j--)s[i][j]++;}
    for(int i=1;i<=n;i++)
    for(int j=n;j;j--)
    if((long long)s[i][j]*num[i].a*b[j]>ans)
    {
        ans=(long long)s[i][j]*num[i].a*b[j];
        ansx=num[i].a;ansy=b[j];
    }
    printf("%I64d\n%d %d",ans,ansx,ansy);
    return 0;
}