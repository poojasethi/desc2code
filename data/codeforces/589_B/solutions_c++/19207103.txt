#include<bits/stdc++.h>
using namespace std;
struct aa{
	long long x,y;
}a[10050];
bool cmp(aa m,aa n){
	if(m.x==n.x)
		return m.y<n.y;
	return m.x<n.x;
}
bool cmp1(aa m,aa n){
	if(m.y==n.y)
		return m.x<n.x;
	return m.y<n.y;
}
long long n,l,w,k,maxm=0,tmp;
int main(){
	cin>>n;
	for(int i=0;i<n;i++){
		scanf("%lld%lld",&a[i].x,&a[i].y);
		if(a[i].x>a[i].y)
			swap(a[i].x,a[i].y);	
	}
	sort(a,a+n,cmp);
	for(int i=0;i<n;i++){
		k=a[i].x;
		sort(a+i,a+n,cmp1);
		for(int j=i;j<n;j++){
			tmp=k*a[j].y*(n-j);
			if(tmp>maxm){
				maxm=tmp;
				w=a[j].y;
				l=k;
			}
		}
		sort(a,a+n,cmp);
	}
	cout<<maxm<<endl<<l<<" "<<w<<endl;
}

	 	   		 	 									 			  	