#include <cstdio>
#include <cstring>
#include <algorithm>
#include <vector>

using namespace std;

int n;
pair<int, int> cake[4000];

int main(){
  scanf("%d",&n);

  for(int i = 0,a,b;i < n;++i){
    scanf("%d %d",&a,&b);
    if(a < b) swap(a,b);
    cake[i] = make_pair(a,b);
  }

  sort(cake,cake + n);

  long long ans = 0;
  int ansh = 0,answ = 0;

  for(int i = 0;i < n;++i){
    //printf("i = %d\n",i);
    vector<int> v;

    for(int j = i;j < n;++j)
      v.push_back(cake[j].second);

    sort(v.begin(),v.end());

    for(int j = 0;j < n - i;++j){
      long long aux = (long long)cake[i].first * v[j] * (n - i - j);

      if(aux > ans){
        ans = aux;
        ansh = cake[i].first;
        answ = v[j];
      }
    }
  }

  printf("%I64d\n%d %d\n",ans,ansh,answ);

  return 0;
}
