#include <bits/stdc++.h>
 
#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define pii pair<int,int>
#define MOD 4001
#define ll long long int
#define MAXINT 100000000
#define SET(x,y) memset(x,y,sizeof(x));

using namespace std;

pair<ll,ll> A[10004];
map<ll,ll> ma;
multiset<ll> ms;

int main() {
	int i,j,n,c;
	ll x,y,q,y1,ans;
	cin>>n;
	for(i=1;i<=n;i++) {
		cin>>x>>y;
		if(x<y)	swap(x,y);
		A[i]=mp(x,y);
	}
	sort(A+1,A+n+1);
	ans=0;
	q=0;
	for(j=n;j>=1;j--) {
		ms.insert(A[j].se);
		multiset<ll> :: iterator it;
		c=0;
		for(it=ms.begin();it!=ms.end();it++) {
			if((*it)*(n-j+1-c)>q) {
				y1=*it;
				q=(*it)*(n-j+1-c);
			}
			c++;
		}
		if(q*A[j].fi>ans) {
			x=A[j].fi;
			y=y1;
			ans = q*A[j].fi;
		}
	}
	cout<<ans<<endl;
	cout<<x<<" "<<y<<endl;
	return 0;
}