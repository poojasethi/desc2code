#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int n;
int xx,yy;
long long ans;
int w[5000],h[5000];

vector <int> b;

void solve(int s) {
	b.clear();
	for (int i=1;i<=n;i++) {
//		cout<<w[i]<<" "<<h[i]<<endl;
		if (w[i]>=s) {
			if (h[i]>=s) {
				if (w[i]>=h[i]) {
					b.push_back(w[i]);
				}
				else b.push_back(h[i]);
			}
			else b.push_back(h[i]);
		}else if (h[i]>=s) {
			b.push_back(w[i]);
		}
	}

	sort(b.begin(),b.end());
	if (!b.empty()) {
		for (int i=b.size()-1;i>=0;i--) {
			long long cur=s*1ll*((int)b.size()-i)*1ll*b[i];
			if (cur>ans) {
				ans=cur;
				xx=s;
				yy=b[i];
			}
		}
	}
}
int main() {
	cin>>n;
	for (int i=1;i<=n;i++) {
		cin>>w[i]>>h[i];
	}
	
	for (int i=1;i<=n;i++) {
		solve(w[i]);
		solve(h[i]);
	}
	cout<<ans<<endl<<xx<<" "<<yy;
	return 0;
}