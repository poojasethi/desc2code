#include <bits/stdc++.h>
using namespace std;
#define ll long long
struct T{
  ll a,b;
  int id;
};
bool cmp(T A, T B){
  if(A.a==B.a){
    return A.b<B.b;
  }
  return A.a<B.a;
}
int main(){
  int n,x,y;
  scanf("%d",&n);
  ll m[n],ans=0;
  T v[n];
  for(int i=0;i<n;i++){
    scanf("%d %d",&x,&y);
    v[i].a=min(x,y);
    v[i].b=max(x,y);;
    m[i]=v[i].b;
  }
  sort(v,v+n,cmp);
  sort(m,m+n);
  int k=0,q,l,num;
  for(int i=0;i<n;i++){
    while(m[k]==0 && k<n) k++;
    l=k;
    num=n-i;
    while(m[l]<=v[i].b){
      if(m[l]!=0){
        ll w=v[i].a*m[l]*(num);
        num--;
        if(w>ans){
          ans=w;
          x=m[l];
          y=v[i].a;
        }
      }
      l++;
    }
    q=0;
    while(m[q]!=v[i].b && q<n) q++;
    m[q]=0;
  }
  cout<<ans<<endl;
  cout<<x<<" "<<y<<endl;
  return 0;
}