#include <bits/stdc++.h>
using namespace std;
const int N = 4e3+1;
pair<int,int> ar[N];
#define x first
#define y second
#define ll long long
int main(){
	int n,i,j;cin>>n;
	for(i=0;i<n;++i){
		cin>>ar[i].x>>ar[i].y;
		if(ar[i].x>ar[i].y)swap(ar[i].x,ar[i].y);
	}
	sort(ar,ar+n);
	ll ret=0,x,y,l,r,k;
	vector<int> h;
	for(i=0;i<n;++i){
		l = ar[i].first,r = ar[i].second;
		h.clear();
		for(j=i;j<n;++j)
			h.push_back(ar[j].second);
		sort(h.begin(),h.end());
		k= h.size();
		for(j=0;j<k;++j){
			r = h[j];
			if( l*r*(k-j)>ret){
				ret= l*r*(k-j);
				x = l ,y = r;
			}
		}
	}
	cout<<ret<<endl<<x<<" "<<y<<endl;
}
