#include <bits/stdc++.h>
using namespace std;
#define fi first
#define se second
int n;
vector<pair<int, int> > a;
vector<int> s;
int main(){
	cin>>n;	
	long long ans = -1;	
	int res1, res2;
	a.resize(n);
	for(int i=1; i<=n; i++) scanf("%d %d", &a[i-1].fi, &a[i-1].se);
	for(int i=0; i<n; i++) if(a[i].fi > a[i].se) swap(a[i].fi, a[i].se);
	sort(a.begin(), a.end());
	for(int i=0; i<n; i++){
		s.clear();
		pair<int, int> tmp = a[i];
		for(int j=i; j<n; j++)
			s.push_back(a[j].se);	
		int size = s.size();
		sort(s.begin(), s.end());
		for(int j=0; j<size; j++){
			int len = size - j; 
			if(ans < (long long)len * a[i].fi * s[j]){
				ans = (long long)len * a[i].fi * s[j];
				res1 = a[i].fi;
				res2 = s[j];
			}
		}
	}
	cout<<ans<<endl;
	printf("%d %d\n", res1, res2);
	return 0;
}