#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
int main() {
	int n,x,y,a[4005],b[4005];
	scanf("%d",&n);
	for(int i = 0; i < n; ++i){ 
		scanf("%d%d",&a[i],&b[i]);
		if(a[i]>b[i]) swap(a[i],b[i]);
	}
	
	for(int i = 0; i < n - 1; ++i)
	for(int j = i+1; j < n; ++j){
		if(a[i]<a[j]) swap(a[i],a[j]),swap(b[i],b[j]);
	}
	ll ans = 0;
	for(int i = 0; i < n; ++i) {
		sort(b,b+i+1);
		for(int j = 0;j <= i; ++j)
		if((ll)a[i]*b[j]*(i-j+1)>ans) x=a[i],y=b[j],ans=(ll)a[i]*b[j]*(i-j+1);
	}
	
	printf("%I64d\n%d %d\n",ans,x,y);
	return 0;
}