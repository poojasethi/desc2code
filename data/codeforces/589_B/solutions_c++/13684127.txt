#include <iostream>
#include <algorithm>
using namespace std;


long long r,j,n,b[5000],a[5000],c[5000],ans,ansx,ansy,i ;

void check(int z){
    
    r=0;
    
    for (j=1;j<=n;j++)
     if (b[j]>=z){
        r++;
        if (a[j]>=z) c[r]=b[j]; else
                     c[r]=a[j];
     }
    
    
    sort(c+1,c+r+1); 
      
     for (j=1;j<=r;j++)
      if (z * c[j] * (r-j+1) > ans)  
      {
        ans= z * c[j] * (r-j+1);
        ansx=z;
        ansy=c[j];
      }  
     
    
    
}


main()
{
   cin>>n;
     
     
      for (i=1;i<=n;i++){
         cin>>a[i]>>b[i];
         
           if (a[i]>b[i]) swap(a[i],b[i]);
      }
      
      
      for (i=1;i<=n;i++){
        check(a[i]);
        check(b[i]);
      }
      
      cout<<ans<<" "<<ansx<<" "<<ansy<<endl;
    
}