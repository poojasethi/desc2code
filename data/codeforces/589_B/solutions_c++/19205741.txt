#include<cstdio>
#include<algorithm>
#include<iostream>
using namespace std;
typedef long long ll;
ll ans;
#define N 4010
int n,f[N][N],ansx,ansy;
struct data
{
	int x,y;
}a[N];
bool cmp(const data &a,const data &b)
{
	return a.x>b.x;
}
int main()
{
	//freopen("b.in","r",stdin);
	scanf("%d",&n);
	for(int i=1;i<=n;++i)
	  {
	  	scanf("%d%d",&a[i].x,&a[i].y);
	  	if(a[i].y>a[i].x)
	  	  swap(a[i].x,a[i].y);
	  }
	sort(a+1,a+1+n,cmp);
	for(int i=1;i<=n;++i)
	  for(int j=1;j<=n;++j)
	    f[i][j]=f[i][j-1]+(a[j].y>=a[i].y);
	for(int i=1;i<=n;++i)
	  for(int j=1;j<=i;++j)
	    if(a[j].y<=a[i].y)
	      {
	      	if((ll)a[i].x*(ll)a[j].y*(ll)f[j][i]>ans)
	      	  {
	      	  	ans=(ll)a[i].x*(ll)a[j].y*(ll)f[j][i];
	      	  	ansx=a[i].x;
	      	  	ansy=a[j].y;
	      	  }
	      }
	cout<<ans<<endl;
	printf("%d %d\n",ansx,ansy);
	return 0;
}
  		 	 						 					  	 	 		 		