#include<cstdio>
#include<algorithm>
#include<cstdlib>
#include<cmath>
struct layer{
	int a,b;
	bool operator < (layer aa) const {return (a<aa.a)||((a==aa.a)&&(b<aa.b));}	
}l[4001];
int main(){
	int n,i,j,k,t,s[8000],ma,mb;
	__int64 x,m=0;
	scanf("%d",&n);
	for(i=1;i<=n;i++){
		scanf("%d%d",&l[i].a,&l[i].b);
		if(l[i].a>l[i].b){
			t=l[i].a;l[i].a=l[i].b;l[i].b=t;
		}
	}
	std::sort(l+1,l+n+1);
	for(i=n;i>0;i--){
		j=1;
		while(s[j]>=l[i].b) j++;
		for(k=n-i;k>=j;k--)s[k+1]=s[k];
		s[j]=l[i].b;
		for(k=1;k<=n-i+1;k++){
	    	x=l[i].a;x*=s[k];x*=k;
            if (m<x){
	    		m=x;ma=l[i].a;mb=s[k]; 
            }
		}
	}
	printf("%I64d\n%d %d",m,ma,mb);   
	return 0;
}
