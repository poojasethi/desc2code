#from operator import itemgetter, attrgetter, methodcaller
#from collections import Counter
#from fractions import gcd
#import sys

def main():
	n = int(raw_input())
	minsides = []
	maxsides = []
	recs = []
	for _ in xrange(n):
		ai, bi = map(int, raw_input().split(' '))
		if ai < bi:
			ai, bi = bi, ai
		recs.append((ai,bi))
	recs.sort()
	b = sorted([bi for _,bi in recs], reverse=True)
	#sprint recs
	#print b
	maxvol = 0
	for i in xrange(n):
		ai = recs[i][0]
		curvol = 0
		for j in xrange(len(b)):
			vol = b[j] * ai * (j+1)
			if vol > curvol:
				#print vol, curvol, ai, b[j],'----'
				curvol = vol
				cura = ai
				curb = b[j]
		if curvol > maxvol:
			#print curvol, maxvol, curx, cury,'-------'
			maxa = cura
			maxb = curb
			maxvol = curvol
		b.remove(recs[i][1])
	print maxvol
	print maxa, maxb


if __name__ == "__main__":
   main()