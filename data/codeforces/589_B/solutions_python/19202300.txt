#coding:utf-8

n = int(raw_input())
cakes = []
for i in xrange(n):
    cakes.append(sorted(map(int, raw_input().split())))
#print cakes
cakes.sort(key = lambda x:x[0])
ans = 0
w = []
for i in xrange(n-1,-1,-1):
    w.append(cakes[i][1])
    w.sort()
    for j in xrange(len(w)):
        tmp = cakes[i][0]*w[j]*(len(w)-j)
        if ans < tmp:
            ans = tmp
            length = cakes[i][0]
            width = w[j]
print ans
print length,width

    	     		 	 				 			 			   	