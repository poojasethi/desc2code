#include <bits/stdc++.h>
using namespace std;

const int N = 1e5 + 5;

#define st first
#define nd second
#define make(a,b) make_pair(a,b)

typedef pair<int,int> pun;
typedef long long ll;

int n,m,kk,p;
int h[N], v[N];
ll tem[N];
int tim[N];
priority_queue< pair<pair<ll,ll>,int> > kol;
bool mozna(ll d)
{
//	printf("mozna %lld\n",d);
	while( kol.empty() == 0 ) kol.pop();
	for (int i=0;i<n;i++)
	{
		tem[i] = d;
		tim[i] = 0;
		kol.push( make( make(-ceil( (tem[i]+1)/(double)v[i] ),tem[i]),i ) ); 
	}
	int x;
	int y = 0;
	for (int z=1;z<=m;z++)
	{
		for (int i=0;i<kk;i++)
		{
//			printf("zara %lld\n",-kol.top().st.st);
			if ( -kol.top().st.st > m )
			{
				while( y < n && tem[y] - (m-tim[y])*(ll)v[y] >= h[y] ) y++;
				if ( y < n )
					tem[y] += p;
				continue;
			}
			x = kol.top().nd;
//			printf("z %d tnij (%d, %lld) %d\n",z,i,kol.top().st.st,x);
			kol.pop();
			tem[x] -= (z-tim[x])*(ll)v[x];
			if ( tem[x] < 0 ) return 0;
			tim[x] = z;
			tem[x] += p;
			kol.push( make( make(-z-ceil( (tem[x]+1)/(double)v[x] ),tem[x]),x) );
		}
	}
	for (int i=0;i<n;i++) tem[i] -= (m-tim[i])*(ll)v[i];
	for (int i=0;i<n;i++) if (tem[i] < h[i]) return 0;
	return 1;
}

int main()
{
	scanf("%d%d%d%d",&n,&m,&kk,&p);
	for (int i=0;i<n;i++) scanf("%d%d",h+i,v+i);
	ll p =0, k = (m+1) * (ll)1e9;
	while( p < k )
	{
		if ( mozna((p+k)/2) ) k = (p+k)/2;
		else p = (p+k)/2+1;
	}
//	while( mozna(k) == 0 ) k++;
	while( mozna(k-1) == 1 ) k--;
	printf("%lld\n",k);
}
