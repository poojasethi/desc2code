#include <bits/stdc++.h>

#define MAXM 5005
#define MAXN 100005
#define NameTask "C"

using namespace std;

int n, k, v[MAXM];
long long m, p, h[MAXN], a[MAXN], s[MAXN];

int check(long long d) {
  long long sum = 0;
  memset(v, 0, sizeof(v));
  for (int i = 0; i < n; i++) {
    long long f = s[i] - d;
    if (f > 0) {
      sum += (f - 1) / p + 1;
      if (sum > m * k) return 0;

      long long x = 0;
      long long z = h[i];
      long long j = (f - 1) % p + 1;

      while (f > 0) {
        if (j > z) {
          long long y = (j - z - 1) / a[i] + 1;
          z += y * a[i];
          x += y;
        }
        f -= min(p, z);
        z = max(0LL, z - p);
        j = (f - 1) % p + 1;
        if (x >= m) return 0;
        v[x]++;
      }
    }
  }

  int r = 0;
  for (int i = 0; i < m; i++) {
    r += v[i];
    r = max(0, r - k);
  }

  return r == 0;
}

int main() {
  //freopen(NameTask".inp", "r", stdin);
  //freopen(NameTask".out", "w", stdout);
  ios_base :: sync_with_stdio(0);
  cin >> n >> m >> k >> p;
  for (int i = 0; i < n; i++) {
    cin >> h[i] >> a[i];
    s[i] = h[i] + a[i] * m;
  }

  check(14);
  long long l = *max_element(a, a + n) - 1;
  long long r = 1LL << 60;
  while (r - l > 1) {
    long long mid = (l + r) >> 1;
    if (check(mid))
      r = mid;
    else
      l = mid;
  }
  cout << r;
}
