#include <bits/stdc++.h>
#define ll long long
#define fi first
#define se second
#define pii pair < int, int >
#define mp make_pair
#define pb push_back
#define scan1(_x) scanf("%d", &(_x))
#define scan2(_x,_y) scanf("%d%d", &(_x), &(_y))
#define scan3(_x,_y,_z) scanf("%d%d%d", &(_x), &(_y), &(_z))
#define FOR(_i,_a,_b) for(int (_i) = (_a); (_i) < (_b); (_i)++)
#define SETALL(_M,_v) memset((_M), (_v), sizeof (_M))
#define TEST() puts(" *** LIGERZERO *** ")
#define MAXN 100005
#define MOD 1000000007

using namespace std;

int n, m, k, p;
int a[MAXN], h[MAXN];
ll hf[MAXN];
int t[5001];

bool isPosible(ll x){
    ll total = 0;
    FOR(i,0,n){
        total += max(0LL,(hf[i] - x - 1 + p)/p);
        if ( a[i] > x ) return 0;
    }
    if( total > m*k ) return 0;
    
    SETALL(t,0);
    FOR(i,0,n){
        if( hf[i] <= x ) continue;
        for(ll obj = (hf[i]-x)%p==0?p:(hf[i] - x); obj <= hf[i] - x; obj += p){
            if( h[i] - obj >= 0 ) t[0]++;
            else if( hf[i] - a[i] < obj ) return 0;
            else t[(obj - h[i] + a[i] - 1)/a[i]]++;
        }
    }
    
    int acu = 0;
    FOR(i,0,m){
        acu += t[i];
        acu = max(0,acu - k);
    }
    
    return acu == 0;
}

int main()
{
    scan2(n,m); scan2(k,p);
    FOR(i,0,n){
        scan2(h[i], a[i]);
        hf[i] = h[i] + (ll)a[i]*m;
    }
    
    ll lo = 0, hi = 1LL<<55, mid;
    while( hi - lo > 1 ){
        mid = (hi + lo )/2;
        if( isPosible(mid) ) hi = mid;
        else lo = mid;
    }
    
    cout << hi << endl;
}
