#include <iostream>
#include <string>
using namespace std;

template<class T> inline int size(T& t) {return (int)t.size();}
#define rep(x,n)	for(x=0;x<(int)(n);x++)

int k,n;
string res,p,flag;;

bool rec(int i)
{
	if(i>=size(res)) return 1;
	if(res[i]!=' ') return rec(i+1);
	
	int j,l;
	for(j=0;j<k;j++)
	{
		char ch='a'+j;
		res[i]=ch;
		
		bool b=true;
		for(l=0;l<=i;l++)if(l+size(p)>i && l+size(p)<=n)
		{
			string tt=res.substr(l);
			if(size(tt)<size(p)) break;
			
			if(res.substr(l,size(p))==p)
			{
				b=false;
				break;
			}
		}
		
		if(b && rec(i+1)) return 1;
		
		res[i]=' ';
	}
	
	return 0;
}

int main()
{
	int i,j;
	cin>>n>>k;
	cin>>p>>flag;
	rep(i,n)res+=' ';
	
	rep(i,size(flag))if(flag[i]=='1')
		rep(j,size(p)) res[i+j]=p[j];
	
	rep(i,size(flag))
	{
		if( (flag[i]=='1' && res.substr(i,size(p))!=p) ||
			(flag[i]=='0' && res.substr(i,size(p))==p) )
		{
			cout<<"No solution";
			return 0;
		}
	}
	
	if(rec(0)) cout<<res;
	else cout<<"No solution";
	return 0;
}
