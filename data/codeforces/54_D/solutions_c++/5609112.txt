#include<cstring>
#include<cstdlib>
#include<algorithm>
#include<cstdio>
#define N 120
using namespace std;
int n,k,p,next[N],i,l,x,j,f[N][N],go[N][N],link[N][N],key[N][N];
char c[N],s[N],ans[N];
int main(){
	scanf("%d%d%s%s",&n,&k,c+1,s+1);
	l=strlen(c+1);
	next[0]=-1;
	for(i=1;i<=l;++i){
		for(p=next[i-1];p!=-1 && c[p+1]!=c[i];p=next[p]);
		next[i]=p+1;
	}
	for(i=0;i<=l;++i)
		for(j=0;j<k;++j){
			if(c[i+1]==j+'a')go[i][j]=i+1;
			else go[i][j]=go[next[i]][j];
		}
	f[0][0]=1;
	for(i=0;i<n;++i)
		for(j=0;j<=l;++j)if(f[i][j]){
			for(p=0;p<k;++p){
				x=go[j][p];
				if(i+1>=l && (s[i-l+2]=='1' && x<l || s[i-l+2]=='0' && x==l))continue;
				f[i+1][x]=1;
				link[i+1][x]=j;
				key[i+1][x]=p;
			}
		}
	for(j=0;j<=l;++j)if(f[n][j])break;
	if(j>l)return puts("No solution"),0;
	for(i=n;i>0;--i){
		ans[i]=key[i][j]+'a';
		j=link[i][j];
	}
	puts(ans+1);
}
