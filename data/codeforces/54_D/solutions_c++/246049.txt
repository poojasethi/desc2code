#include <cmath>
#include <ctime>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cassert>
#include <map>
#include <set>
#include <queue>
#include <stack>
#include <string>
#include <vector>
#include <sstream>
#include <iostream>
#include <algorithm>

using namespace std;

typedef long long LL;

#define sz(C) ((int) (C).size ())
#define pb push_back
#define mp make_pair
#define fi first
#define se second

int n,k;
string s,p; 
char ch; 
int nn[50]; 
char ans[200]; 


bool check()
{
  for (int i=0; i<p.size(); i++) 
   {
     string t = ""; 
     for (int j=0; j<s.size(); j++) t+=ans[i+j]; 
     if (p[i]=='1' && t!=s) return false;
     if (p[i]=='0' && t==s) return false; 
   }
 return true; 
}

int main ()
{
  cin >> n >> k;  

  cin >> s; 
  for (int i=0; i<s.size(); i++) 
    nn[int(s[i]-'a')] = 1; 
  cin >> p;                     
  ch = '?'; 
  for (int i=0; i<k; i++) if (nn[i]==0) {
    ch = char ( 'a' +  i ); 
  }

  if (ch == '?') ch = s[s.size() - 1]; 

  for (int i=0; i<n; i++) ans[i] = '?';
                             
  for (int i=0; i<p.size(); i++) if (p[i]=='1')
  {
    for (int j=0; j<s.size(); j++) 
      ans [i + j] = s[j];        
  }    

  for (int i=0; i<n; i++) if (ans[i]=='?') ans[i] = ch; 

  if (!check()) cout << "No solution"; else {
    for (int i=0; i<n; i++) cout << ans[i]; cout << endl; 
  }
  
  return 0;
}
