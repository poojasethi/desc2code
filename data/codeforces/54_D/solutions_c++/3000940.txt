#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;
const int N=110;
char s[N],a[N],s2[N];
int n,k;
int vis[N];
char find(char x){
	for (int i=0;i<k;i++) if ('a'+i!=x) return 'a'+i;
}
int main(){
	while (cin>>n>>k){
		cin>>s;
		cin>>a;
	
		for (int i=0;i<n;i++) s2[i]=' ';
		s2[n]=0;
		int len=strlen(a);
		int flag=0;
		for (int i=0;i<len;i++){
			if (a[i]=='1'){
				int c=0;
				if (s2[i]!=' '){
					for (int j=0;s[j];j++){
						if (s2[i+j]==' ') {
							c=j;
							break;
						}
						if (s2[i+j]!=s[j]){
							flag=1;
							break;
						}
					}
					if(flag) break;
				}
				for (int j=c;s[j];j++){
					s2[i+j]=s[j];
				}
			}
		}
		if (flag){
			printf("No solution\n");
			continue;
		}
		int flag3=0;
		for (int i=0;i<len;i++){
			if (a[i]=='0'){
				int flag2=0;
				if (s2[i]==' ') s2[i]=find(s[0]);
				else if (s2[i]==s[0]){
					for (int j=0;s[j];j++){
						if (s2[i+j]==' ') {
							s2[i+j]=find(s[j]);
							flag2=1;
							break;
						}
						if (s2[i+j]!=s[j]){
							flag2=1;	
							break;
						}
					}
					if (flag2==0) flag3=1;
					if (flag3) break;
				}
			}
		}
		if (flag3){
			printf("No solution\n");
			continue;
		}
		for (int i=len;i<n;i++) if (s2[i]==' ') s2[i]=find(s[0]);
		printf("%s\n",s2);
		
	}
	return 0;
}
	 	  	    	 		  	  			  	 	