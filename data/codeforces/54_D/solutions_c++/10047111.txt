#include <cstdio>
#include <algorithm>
#include <cstring>
#define maxn 205
using namespace std;
int a,b,d,e,g,h,i,j,k,l,m,n;
char c[maxn],s[maxn];
int next[maxn],go[maxn][maxn],f[maxn][maxn],last[maxn][maxn],ans[maxn][maxn];
void pp(int x,int y){
	if(!x)return ;
	pp(x-1,last[x][y]);
	putchar(ans[x][y]+'a');
}
int main(){
	scanf("%d%d",&n,&m);
	scanf("%s",c+1);l=strlen(c+1);
	scanf("%s",s+1);
	next[0]=-1;
	for(i=1;i<=l;i++){
		for(j=next[i-1];j!=-1&&c[j+1]!=c[i];j=next[j]);
		next[i]=j+1;
	}
	for(i=0;i<=l;i++)
		for(j=0;j<m;j++){
			if(c[i+1]==j+'a')go[i][j]=i+1;
			else go[i][j]=go[next[i]][j];
		}
	f[0][0]=1;
	for(i=0;i<n;i++)
		for(j=0;j<=l;j++)if(f[i][j]){
			for(k=0;k<m;k++){
				g=go[j][k];
				if(i+1>=l&&((s[i-l+2]=='0'&&g==l)||(s[i-l+2]=='1'&&g<l)))continue;
				f[i+1][g]=1;
				last[i+1][g]=j;
				ans[i+1][g]=k;
			}
		}
	for(i=0;i<=l;i++)if(f[n][i])break;
	if(i>l){printf("No solution\n");return 0;}
	pp(n,i);
	return 0;
}