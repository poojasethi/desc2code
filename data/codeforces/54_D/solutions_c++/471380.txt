#include <stdio.h>
#include <string.h>

char a[105], p[105];
char w[105];
int fixed[105];
int satisfied[105];
int n, k;

int go(int x) {
	int i, j;
	if(!p[x]) {
		for(i=0;i<n;i++)
			if(!w[i])
				w[i]='a';
		return 1;
	}
	if(satisfied[x]) return go(x+1);
	for(i=0;a[i];i++) {
		if(w[x+i] && w[x+i]!=a[i]) return go(x+1);
		if(!w[x+i]) {
			for(j=0;j<k;j++)
				if(a[i] != j+'a') {
					w[x+i]=j+'a';
					if(go(x+1)) return 1;
					w[x+i]=0;
				}
			break;
		}
	}
	return 0;
}

int main(void) {
	int i, j;
	scanf("%d%d", &n, &k);
	scanf("%s", a);
	scanf("%s", p);
	for(i=0;i<n;i++)
		fixed[i]=0;
	int flag=0;
	for(i=0;p[i];i++)
		if(p[i]=='1') {
			for(j=0;a[j];j++) {
				if(w[i+j] && w[i+j]!=a[j])
					flag=1;
				w[i+j]=a[j];
				fixed[i+j]=1;
			}
			satisfied[i]=1;
		}
	if(flag) {printf("No solution\n");
		return 0;
	}
	for(i=0;p[i];i++)
		if(p[i]=='0') {
			for(j=0;a[j];j++)
				if(w[i+j] && w[i+j]!=a[j])
					break;
			if(a[j])
				satisfied[i] = 1;
		}
	if(!go(0)) printf("No solution\n");
	else{
		for(i=0;i<n;i++)
		printf("%c", w[i]);
		puts("");
	}

	return 0;
}
