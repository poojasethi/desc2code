#include<iostream>
#include<string>
#define MOD 1000000007
using namespace std;

int res, resadv, n, numval[10], numadv[10], dtosub[100000];

string init, query[100000], line;
char c, c1;

void substitute(string tosub) {
	res = 0;
	resadv = 1;
	
	for(int i= ((int)tosub.size()) - 1; i >= 0; i--) {
		res = (res + 1LL *resadv * numval[tosub[i] - '0']) % MOD;
		
		resadv = (1LL * resadv * numadv[tosub[i] - '0']) % MOD;
	}
}



int main() {
	cin.sync_with_stdio(false);
	for(int i=0;i<10;i++) {
		numval[i] = i;
		numadv[i] = 10;
	}
	
	cin >> init >> n;
	getline(cin, line);
	
	for(int i=0;i<n;i++) {
		getline(cin, line);
		
		dtosub[i] = line[0] - '0';
		query[i] = line.substr(3);
	}
	
	for(int i=n-1;i>=0;i--) {
		substitute(query[i]);
		
		numval[dtosub[i]] = res;
		numadv[dtosub[i]] = resadv;
	}
	
	substitute(init);
	
	cout << res << '\n';
	return 0;
}
