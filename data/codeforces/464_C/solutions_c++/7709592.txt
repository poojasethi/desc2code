#include <cstdio>
#include <iostream>
#include <cstring>
#include <string>
#define LL long long
#define REP(i,n) for (int i=1;i<=n;++i) 
using namespace std;

const LL MO=1000000007;
int n,m;
int wh[100010];
LL a[11],b[11];
char s[100010];
string ss[100010];
 
int main() {
	scanf("%s",s+1);
	scanf("%d",&m);getchar();
	REP(i,m) {scanf("%d-",&wh[i]);cin>>ss[i];}
	for (int i=0;i<=9;++i) {
		a[i]=i;b[i]=10;
	}
	for (int i=m;i;--i) {
		n=ss[i].size();
		LL aa=0,bb=1;
		for (int j=n-1;j;--j) {
			(aa+=bb*a[ss[i][j]-'0'])%=MO;
			(bb*=b[ss[i][j]-'0'])%=MO;
		}
		a[wh[i]]=aa;
		b[wh[i]]=bb;
	}
	n=strlen(s+1);
	LL aa=0,bb=1;
	for (int i=n;i;--i) {
		(aa+=bb*a[s[i]-'0'])%=MO;
		(bb*=b[s[i]-'0'])%=MO;
	}
	printf("%I64d\n",aa);
	return 0;
}
