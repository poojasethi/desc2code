#include <bits/stdc++.h>
using namespace std;
#define ll long long
ll ad[10],mul[10];
string qq[100000],s;
const int mod = 1e9+7;
int main(){
	cin>>s;
	int n,i=0;
	for(cin>>n;i<n;++i)
		cin>>qq[i];
	for(i=0;i<10;++i)
		mul[i]=10,ad[i]=i;
	for(i=n-1;i>=0;--i){
		int cur = qq[i][0]-'0';
		ll na = 0,nm = 1;
		for(int j=3;j<qq[i].size();++j){
			int c= qq[i][j]-'0';
			nm= (nm*mul[c] )%mod;
			na= (na*mul[c]+ad[c])%mod;
		}
		mul[cur]=nm,ad[cur]=na;
	}
	ll ret=0;
	for(i=0;i<s.size();++i)
		ret= (ret*mul[s[i]-'0']+ad[ s[i]-'0'] )%mod;
	cout<<ret<<endl;
}
