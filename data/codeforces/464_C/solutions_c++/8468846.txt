#include<cstdio>
#include<cstring>
#include<vector>
#define nn 100010
#define mod  1000000007
#define pb push_back
using namespace std;
typedef long long ll;
ll ok,i,l[11],z[nn],mo[11],n,j,L,tem;
char a[nn],b[nn];
vector<ll>zz[nn];

int main()
{
 for (i=0;i<=9;i++)l[i]=10,mo[i]=i;
 
 scanf("%s",a+1);
 scanf("%I64d",&n);
 for (i=1;i<=n;i++)
    {scanf("%s",b+1);L=strlen(b+1);
     z[i]=b[1]-'0';j=4;
     for (j=4;j<=L;j++)
     zz[i].pb(b[j]-'0');
    }
 for (i=n;i;i--){
 tem=0;ok=1;L=zz[i].size();
 for (j=L-1;j>=0;j--){
   tem=(tem+1ll*ok*mo[zz[i][j]]%mod)%mod;
   ok=(1ll*ok*l[zz[i][j]])%mod;
                     }
 l[z[i]]=ok;mo[z[i]]=tem;
                }
 tem=0;ok=1;L=strlen(a+1);
 for (i=L;i>=1;i--){
 tem=(tem+1ll*ok*mo[a[i]-'0']%mod)%mod;
 ok=(1ll*ok*l[a[i]-'0'])%mod;
                   }
 printf("%I64d\n",tem);
 return 0;
}
