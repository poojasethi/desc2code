#include<iostream>
#include<algorithm>
using namespace std;
int dp[10];
long long pot[10];
long long mod=1000000007;
pair<int,int> wart(int pocz,string s){
	long long w=0,p=1;
	for(int i=s.size()-1;i>=pocz;i--){
		w+=dp[s[i]-'0']*p;
		w=w%mod;
		p=p*pot[s[i]-'0'];
		p=p%mod;
	}
	return make_pair(w,p);
}
main(){
	for(int i=0;i<10;i++){dp[i]=i;pot[i]=10;}
	string n;
	cin>>n;
	int k;
	cin>>k;
	string s[k];
	for(int i=0;i<k;i++){
		cin>>s[i];
	}
	for(int i=k-1;i>=0;i--){
		pair<int,int>wyn=wart(3,s[i]);
		dp[s[i][0]-'0']=wyn.first;
		pot[s[i][0]-'0']=wyn.second;
	}
	cout<<wart(0,n).first<<"\n";
}
