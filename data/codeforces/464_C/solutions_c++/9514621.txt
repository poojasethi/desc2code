#include <iostream>
#include <string>

using namespace std;
typedef pair<int,int> intpair;
const int modbase = 1000000007;

int n;
string s, query[100000];
intpair digit[10];

intpair valpair (const string &s, const int first) {
	long long lp = 1, v = 0;
	for (int i=s.length()-1; i>=first; --i) {
		v = (v + digit[s[i]-'0'].first*lp)%modbase;
		lp = (lp * digit[s[i]-'0'].second)%modbase;
	}
	return intpair(v,lp);
}

int main () {
	ios::sync_with_stdio(false);

	cin >> s;
	cin >> n;
	for (int i=0; i<n; ++i)
		cin >> query[i];

	for (int i=0; i<10; ++i)
		digit[i] = intpair(i,10);

	while (n-->0)
		digit[query[n][0]-'0'] = valpair(query[n], 3);

	cout << valpair(s,0).first << endl;
	return 0;
}