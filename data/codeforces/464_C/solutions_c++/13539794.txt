#include<bits/stdc++.h>

#define cuma using
#define program namespace
#define sederhana std;

cuma program sederhana

long long int MOD=1000000007;
string subtitit,qy[100008];
int n;
long long int Repl[10],Tp[10];

void init(){
	for(int i=0;i<=9;i++){
		Repl[i]=i;
		Tp[i]=10;
    }
}
int main(){
    cin>>subtitit;
    cin>>n;
    for(int i=0;i<n;i++){
        cin>>qy[i];
    }
    init();
    for(int i=n-1;i>=0;i--){
    	int from=qy[i][0]-'0';
		long long int rT=1LL,rp=0LL;
		for(int j=3,sz=qy[i].size();j<sz;j++){
			int nb=qy[i][j]-'0';
			rT=(rT*Tp[nb])%MOD;
			rp=(rp*Tp[nb]+Repl[nb])%MOD;
		}
		Tp[from]=rT;
		Repl[from]=rp;
	}
    long long int ans=0;
    for(int i=0,sz=subtitit.size();i<sz;i++){
		int id=subtitit[i]-'0';
		ans=(ans*Tp[id]+Repl[id])%MOD;
	}
    cout<<ans<<endl;
    return 0;
}
	     	   		     	    	  	   	