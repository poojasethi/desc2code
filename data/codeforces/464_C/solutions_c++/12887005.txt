#include <bits/stdc++.h>
using namespace std;

const int MOD = 1e9+7;
const int N = 1e5+5;
typedef long long LL;

string s;
string a[N];

int n;
int x[15], w[15];
void solve() {
	for(int i = 0;i < 10; i++) x[i] = i, w[i] = 10;
	for(int i = n-1;i >= 0; i--) {
		int val = a[i][0]-'0';
		if(a[i].length() == 3) {
			x[val] = 0;
			w[val] = 1;
			continue;
		}
		LL t1 = 0, t2 = 1;
		for(int j = 3;j < a[i].length(); j++) {
			int tt = a[i][j]-'0';
			t1 = (t1*w[tt]+x[tt])%MOD;
			t2 = (t2*w[tt])%MOD;
		}
		x[val] = t1;
		w[val] = t2;
	}
	LL res = 0;
	for(int i = 0;i < s.length(); i++) {
		int tt = s[i]-'0';
		res = (res*w[tt]+x[tt])%MOD;
	}
	cout<<res<<endl;
}

int main() {
	ios::sync_with_stdio(false);
	cin>>s>>n;
	for(int i = 0;i < n; i++) cin>>a[i];
	solve();
	return 0;
}

  	 			  	 		  			 		 	   	 		