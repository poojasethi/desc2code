#include <iostream>
#include <string>
using namespace std;
typedef long long ll;

const int MOD = 1000000007;
const int MAXN = 100100;
string S;
int N;
int qd[MAXN];
string qs[MAXN];
ll val[10];
ll len[10];

int main()
{
	cin >> S >> N;
	for (int i = N - 1; i >= 0; i--)
	{
		string s;
		cin >> s;
		qd[i] = s[0] - '0';
		qs[i] = s.substr(3, s.size() - 3);
	}
	qd[N] = 0;
	qs[N] = S;

	for (int i = 0; i <= 9; i++)
	{
		val[i] = i;
		len[i] = 10;
	}

	for (int i = 0; i <= N; i++)
	{
		ll nval = 0, nlen = 1;
		for (int j = (int)qs[i].size() - 1; j >= 0; j--)
		{
			nval = (nval + nlen*val[qs[i][j]-'0']) % MOD;
			nlen = nlen*len[qs[i][j]-'0'] % MOD;
		}
		val[qd[i]] = nval;
		len[qd[i]] = nlen;
	}

	cout << val[0] << "\n";

	return 0;
}