#include<bits/stdc++.h>
#define itn int
using namespace std;
typedef long long ll;
const int MOD = 1000000007;
string s[100005];
int a[100005];
ll val[15],nm[15];
void solve(int x)
{
    ll ret = 0,tmp = 1;
    for(int i =0;i<s[x].length();i++)
    {
        int nb = s[x][i]-'0';
        ret = (ret*nm[nb]%MOD+val[nb])%MOD;
        tmp = tmp*nm[nb]%MOD;
    }
    val[a[x]] = ret;
    nm[a[x]] = tmp;
}
int main()
{
    	cin>>s[0];
        int n,i,j;
        cin>>n;
        a[0] = 0;
        for(i = 0;i<10;i++)
        {
            nm[i] = 10;
            val[i] = i;
        }
        for(i = 1;i<=n;i++)
        {
            cin>>s[i];
            a[i] = s[i][0]-'0';
            s[i] = s[i].substr(3,s[i].length()-3);
        }
        for(i = n;i>=0;i--)
            solve(i);
        cout<<val[0]<<endl;
    
}
