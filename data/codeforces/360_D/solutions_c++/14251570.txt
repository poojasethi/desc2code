#include<cstdio>
#include<algorithm>
#define N 100005
using namespace std;
int h[N],a[N],b[N],f[N];
int i,j,n,m,P,k,w,Q,ans,ret;
int Pow(int a,int b){
    int res=1;
    for (;b;b>>=1,a=1ll*a*a%P)
        if (b&1) res=1ll*res*a%P;
    return res;
}
int main(){
    scanf("%d%d%d",&n,&m,&P);Q=P-1;
    for (i=1;i<=n;i++)
        scanf("%d",&a[i]);w=Q;
    for (i=1;i<=m;i++)
        scanf("%d",&b[i]),w=__gcd(w,b[i]);
    for (i=1;1ll*i*i<=Q;i++)
        if (Q%i==0){
            h[++*h]=i;
            if (i*i<Q) h[++*h]=Q/i;
  }sort(h+1,h+*h+1);
  for (i=1;i<=n;i++){
    a[i]=Pow(a[i],w);
    //to find the data index quickly->research from back
    for (k=*h;k;k--)
        if (Pow(a[i],Q/h[k])==1){
            //printf("%d\n",h[k]);
            f[k]=Q/h[k];break;
      }
  }for (i=*h;i;i--)
        if (f[i]){
            for (k=i+1;k<=*h;k++)
                if (h[k]%h[i]==0) f[i]-=f[k];
            ans+=f[i];
        }printf("%d\n",ans);return 0;
}