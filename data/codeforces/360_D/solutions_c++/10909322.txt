#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<iostream>
using namespace std;
typedef long long LL;
const int maxn=150000;
int n,m,p,ans;
int a[maxn],b,d[maxn],dn,q[maxn],qn;
int c[maxn];

int gcd(const int &a,const int &b)
{return b?gcd(b,a%b):a;}

LL pow(int a,int b,int c)
{
	int s;
	for(s=1;b;b>>=1,a=(LL)a*a%c)
		if(b&1)s=(LL)s*a%c;
	return s;
}

int main()
{
	scanf("%d%d%d",&n,&m,&p);
	for(int i=1;i<=n;i++)
		scanf("%d",a+i);
	b=0;
	for(int i=1,t;i<=m;i++)
		scanf("%d",&t),b=gcd(b,t);
	for(int i=1;i*i<=(p-1);i++)
		if((p-1)%i==0)
		{
			d[++dn]=i;
			if(i*i!=p-1)d[++dn]=(p-1)/i;
		}
	sort(d+1,d+dn+1);
	for(int i=1;i<=n;i++)
	{
		a[i]=pow(a[i],b,p);
		for(int j=1;j<=dn;j++)
			if(pow(a[i],d[j],p)==1){q[i]=(p-1)/d[j];break;}
	}
	sort(q+1,q+n+1);
	qn=unique(q+1,q+n+1)-q-1;
	for(int i=qn;i>0;i--)
	{
		c[i]=(p-1)/q[i];
		for(int j=i+1;j<=qn;j++)
			if(q[j]%q[i]==0)
				c[i]-=c[j];
		ans+=c[i];
	}
	printf("%d\n",ans);
	return 0;
}
