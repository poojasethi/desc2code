#include<iostream>
#include<algorithm>
#include<cstdio>
#include<cstring>
#include<cmath>
using namespace std;
int n,m,pp,a[110000],q[110000],u[110000];
long long ans=0;
bool p[110000];
long long mo(long long a){
     if(a>=0 && a<pp)return a;
     a%=pp;
     if(a<0)a+=pp;
     return a;
     }
int ksm(long long a,int b){
    long long ans=1;
    while(b){
      if(b%2)ans=mo(ans*a);
      b/=2;
      a=mo(a*a);
    }
    return ans;
}
int main(){
    scanf("%d%d%d",&n,&m,&pp);
    for(int i=1;i<=n;i++)scanf("%d",&a[i]);
    int t=pp-1;
    for(int i=1;i<=m;i++){
      int x;
      scanf("%d",&x);
      t=__gcd(t,x);
    }
    for(int i=1;i*i<=pp-1;i++)
      if((pp-1)%i==0){
        q[++q[0]]=i;
        if(i*i!=pp-1)q[++q[0]]=(pp-1)/i;
      }
    sort(q+1,q+q[0]+1);
    for(int i=1;i<=n;i++){
      a[i]=ksm(a[i],t);
      for(int j=1;j<=q[0];j++)
        if(ksm(a[i],q[j])==1){
          p[q[0]-j+1]=1;
          break;
        }
    }
    for(int i=1;i<=q[0];i++)
      if(!p[i])
      for(int j=1;j<i;j++)
        if(q[i]%q[j]==0 && p[j]){
          p[i]=1;
          break;
        }
    for(int i=1;i<=q[0];i++)
      if(p[i]){
      u[i]=1;
      for(int j=1;j<i;j++)
        if(q[i]%q[j]==0 && p[j])u[i]-=u[j];
      ans+=u[i]*(pp-1)/q[i];
    }
    cout<<ans<<endl;
    return 0;
}
