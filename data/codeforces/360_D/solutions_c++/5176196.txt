#include <cstdio>
#include <cstdlib>
#include <algorithm>
#define maxn 100005
#define ll long long
using namespace std;

int N,M,P,Q,T,a[maxn],p[maxn],f[maxn];
bool b[maxn];

ll Pow(ll a,int b)
{
	ll c=1;
	for (;b; b>>=1,a=a*a%P) if (b&1) c=c*a%P;
	return c;
}

void init()
{
	scanf("%d%d%d",&N,&M,&P),Q=P-1;
	for (int i=1; i<=N; i++) scanf("%d",&a[i]);
	for (int i=1,x; i<=M; i++) scanf("%d",&x),T=__gcd(T,x);
}

void doit()
{
	int n=0,ans=0;
	for (int i=1; i*i<=Q; i++) if (Q%i==0) p[++n]=i,p[++n]=Q/i;
	if (p[n]*p[n]==Q) n--;
	sort(p+1,p+n+1);
	for (int i=1; i<=N; i++)
	{
		int t=Pow(a[i],T);
		for (int j=1; j<=n; j++) if (Pow(t,p[j])==1) {b[n-j+1]=1; break;}
	}
	for (int i=n; i; i--) if (b[i])
	{
		f[i]=Q/p[i];
		for (int j=i+1; j<=n; j++) if (p[j]%p[i]==0) f[i]-=f[j];
		ans+=f[i];
	}
	printf("%d\n",ans);
}

int main()
{
	init();
	doit();
}