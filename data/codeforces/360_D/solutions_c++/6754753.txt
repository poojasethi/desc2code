#include<cstdio>
#include<algorithm>
using namespace std;
#define rep(i,n) for (int i=0;i<n;++i)
typedef long long LL;
const int N=100005;
int n,m,p,g,x,L,ans,a[N],d[N],f[N];
LL pow(LL x,LL y){LL z=1; for (;y;y>>=1,x=x*x%p) if (y&1) z=z*x%p; return z;}
int main()
{
	scanf("%d%d%d",&n,&m,&p),g=p-1;
	rep(i,n) scanf("%d",a+i);
	rep(i,m) scanf("%d",&x),g=__gcd(x,g);
	for (int i=1;i*i<p;++i) if ((p-1)%i==0)
		{d[L++]=i; if (i*i!=p-1) d[L++]=(p-1)/i;}
	sort(d,d+L);
	rep(i,n) rep(j,L) if (pow(a[i],g*d[j])==1) {a[i]=(p-1)/(d[j]); break;}
	sort(a,a+n),m=unique(a,a+n)-a,reverse(a,a+m);
	rep(i,m){
		f[i]=(p-1)/a[i];
		rep(j,i) if (a[j]%a[i]==0) f[i]-=f[j];
		ans+=f[i];
	}
	printf("%d\n",ans); return 0;
}

