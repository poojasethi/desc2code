#include <cstdio>
#include <cstdlib>
#include <algorithm>
#define maxn 100005
#define ll long long
using namespace std;

int N,M,P,Q,T,a[maxn],p[maxn],q[maxn],f[maxn];

ll Pow(ll a,int b)
{
	ll c=1;
	for (;b; b>>=1,a=a*a%P) if (b&1) c=c*a%P;
	return c;
}

void init()
{
	scanf("%d%d%d",&N,&M,&P),Q=P-1;
	for (int i=1; i<=N; i++) scanf("%d",&a[i]);
	for (int i=1,x; i<=M; i++) scanf("%d",&x),T=__gcd(T,x);
}

void doit()
{
	for (int i=1; i*i<=Q; i++) if (Q%i==0) p[++p[0]]=i,p[++p[0]]=Q/i;
	if (p[p[0]]*p[p[0]]==Q) p[0]--;
	sort(p+1,p+p[0]+1);
	for (int i=1; i<=N; i++)
	{
		int t=Pow(a[i],T),d=0;
		for (int j=1; !d&&j<=p[0]; j++) if (Pow(t,p[j])==1) d=p[j];
		q[i]=Q/d;
	}
	sort(q+1,q+N+1);
	int ans=0,n=unique(q+1,q+N+1)-q-1;
	for (int i=n; i; i--)
	{
		f[i]=Q/q[i];
		for (int j=i+1; j<=n; j++) if (q[j]%q[i]==0) f[i]-=f[j];
		ans+=f[i];
	}
	printf("%d\n",ans);
}

int main()
{
	init();
	doit();
}