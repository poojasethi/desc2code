#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 10010
#define int64 long long 
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,G,P,an,p;
int a[N],g[N],f[N],phi[N];
inline int64 pow(int64 x,int y) {
	int64 an=1;
	for (;y;y>>=1) {
		if (y&1) an=an*x%p;
		x=x*x%p;
	} return an;
}
int main() {
	scanf("%d%d%d",&n,&m,&p);
	For(i,1,n) scanf("%d",&a[i]);
	G=P=p-1;
	For(i,1,m) scanf("%d",&k),G=__gcd(G,k);
	for (i=1;i*i<=P;i++) if (P%i==0) {
		g[++*g]=i; if (i*i<P) g[++*g]=P/i;
	}
	sort(g+1,g+*g+1);
	For(i,1,n) {
		For(j,1,*g) if (pow(a[i],g[j])==1) break;
		int v=g[j];
		int A=v/__gcd(G,v);
		For(j,1,*g) if (P/g[j]==A) f[j]=1;
	}
	For(i,1,*g) {
		phi[i]=g[i];
		For(j,1,i-1) if (g[i]%g[j]==0) phi[i]-=phi[j],f[i]|=f[j];
	}
	For(i,1,*g) if (f[i]) {
		For(j,1,*g) if (P/g[i]==g[j]) an+=phi[j];
	}
	printf("%d\n",an);
	return 0;
}
