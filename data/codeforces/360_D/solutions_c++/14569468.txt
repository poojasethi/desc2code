#include<stdio.h>
#include<string.h>
#include<algorithm>
#define N 110000
using namespace std;
typedef long long ll;
int p,g;
int d[N],tot;
int a[N],b[N],T;
int f[N];
int pow(int x,int y,int mod)
{
	int ret=1;
	while(y)
	{
		if(y&1)
			ret=(ll)ret*x%mod;
		x=(ll)x*x%mod;
		y>>=1;
	}
	return ret;
}
void init()
{
	int i;
	for(i=1;i*i<=p-1;i++)
	{
		if((p-1)%i==0)
		{
			d[++tot]=i;
			if(i*i!=p-1)
				d[++tot]=(p-1)/i;
		}
	}
	sort(d+1,d+tot+1);
}
int main()
{
	int n,m,i,j,x,ans;
	scanf("%d%d%d",&n,&m,&p);
	init();
	for(i=1;i<=n;i++)
	{
		scanf("%d",&x);
		for(j=1;j<=tot;j++)
		{
			if(pow(x,d[j],p)==1)
			{
				a[i]=(p-1)/d[j];
				break;
			}
		}
	}
	for(i=1,T=p-1;i<=m;i++)
	{
		scanf("%d",&x);
		T=__gcd(T,x);
	}
	for(i=1;i<=n;i++)
		a[i]=__gcd((ll)a[i]*T,(ll)p-1);
	sort(a+1,a+n+1);
	n=unique(a+1,a+n+1)-a-1;
	for(i=n,ans=0;i>=1;i--)
	{
		f[i]=(p-1)/a[i];
		for(j=i+1;j<=n;j++)
		{
			if(a[j]%a[i]==0)
				f[i]-=f[j];
		}
		ans+=f[i];
	}
	printf("%d\n",ans);
	return 0;
}
