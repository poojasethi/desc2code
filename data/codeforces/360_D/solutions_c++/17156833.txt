#include <algorithm>
#include <iostream>
#include <cstdio>
#include <cmath>
#define ll long long
#define mo 10000007
using namespace std;
int a[10010],pr[10010],f[10010],u[10010],i,j,k,n,m,p,d,x,ans;
int qsm(int x,int y)
{
	int i=1;
	for (;y;y>>=1,x=(ll)x*x%p) i=y&1?(ll)i*x%p:i;
	return i;
}
int gcd(int a,int b){return b?gcd(b,a%b):a;}
int main()
{
		scanf("%d%d%d\n",&n,&m,&p);d=p-1;
		for (i=1;i<=n;++i) scanf("%d",&a[i]);scanf("\n");
		for (i=1;i<=m;++i) scanf("%d",&x),d=gcd(d,x);scanf("\n");
		for (i=1,pr[0]=0;i*i<p;++i)
			if ((p-1)%i==0) pr[++pr[0]]=i,pr[++pr[0]]=(p-1)/i;
		if (pr[pr[0]]==pr[pr[0]-1]) --pr[0];
		sort(pr+1,pr+pr[0]+1);
		for (i=1;i<=n;++i)
			for (j=1;j<=pr[0];++j)
			if (qsm(a[i],pr[j])==1)
			{
				x=gcd((ll)d*(p-1)/pr[j]%(p-1),p-1);
				for (k=1;k<=pr[0];++k)
					if (pr[k]%x==0) u[k]=1;
				break;
			}
		for (i=pr[0];i;i--)
		{
			f[i]=(p-1)/pr[i];
			for (j=i+1;j<=pr[0];++j)
				if (pr[j]%pr[i]==0) f[i]-=f[j];
			ans+=u[i]*f[i];
		}
		printf("%d\n",ans);
}