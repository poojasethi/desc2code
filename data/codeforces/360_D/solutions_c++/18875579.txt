#include<cstdio>
#include<cstdlib>
#include<cstring>

#include<iostream>
#include<algorithm>
using namespace std;

const int _N=10010;

int n,m,p,s[_N],d[_N],f[_N];

inline int power(long long d,long long t)
{
    static long long re;
    re=1;
    while(t)
    {
        if(t&1)
            re=re*d%p;
        d=d*d%p,t>>=1;
    }
    return re;
}

int main()
{
    static int T;
    T=1;
    for(int Case=1;Case<=T;Case++)
    {
        static int b;
        scanf("%d%d%d",&n,&m,&p),b=p-1,f[0]=d[0]=0;
        for(int i=1;i<=n;i++)
            scanf("%d",s+i);
        for(int i=m;i;i--)
            scanf("%d",&m),b=__gcd(b,m);
        for(int i=1;i*i<p;i++)
            if((p-1)%i==0)
            {
                d[++d[0]]=i;
                if(i*i!=p-1)
                    d[++d[0]]=(p-1)/i;
            }
        sort(d+1,d+d[0]+1);
        for(int i=1;i<=n;i++)
            for(int j=1;j<=d[0];j++)
                if(power(s[i],(long long)b*d[j])==1)
                {
                    s[i]=d[j];
                    break;
                }
        sort(s+1,s+n+1),m=unique(s+1,s+n+1)-s-1;
        for(int i=1;i<=m;i++)
        {
            f[i]=s[i];
            for(int j=1;j<i;j++)
                if(s[i]%s[j]==0)
                    f[i]-=f[j];
            f[0]+=f[i];
        }
        printf("%d\n",f[0]);
    }
    return 0;
}