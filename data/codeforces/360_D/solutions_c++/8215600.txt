#include <stdio.h>
#include <stdlib.h>
#include <algorithm>
using namespace std;

int n,m,p,g,tot,i,j,k,ans;
int d[10005],a[10005],b[10005],f[10005];

int gcd(int a,int b){if(!b)return a;return gcd(b,a%b);}
int Power(int a,int b)
{
	int ans=1;
	while(b)
	{
		if(b&1)ans=(long long)ans*a%p;
		a=(long long)a*a%p;
		b>>=1;
	}
	return ans;
}

int main()
{
	scanf("%d%d%d",&n,&m,&p);
	for(i=1;i<=n;++i)scanf("%d",&a[i]);
	for(g=p-1,i=1;i<=m;++i)scanf("%d",&k),g=gcd(k,g);
	for(i=1;i*i<p;++i)
	if((p-1)%i==0)
	{
		d[++tot]=i;
		if((p-1)/i!=i)d[++tot]=(p-1)/i;
	}
	sort(d+1,d+tot+1);
	for(i=1;i<=n;++i)
	for(j=1;j<=tot;++j)
	if(Power(a[i],(long long)g*d[j]%(p-1))==1)
	{
		b[i]=(p-1)/d[j];
		break;
	}
	sort(b+1,b+n+1);
	tot=unique(b+1,b+n+1)-(b+1);
	for(i=tot;i>=1;--i)
	{
		f[i]=(p-1)/b[i];
		for(j=i+1;j<=tot;++j)if(b[j]%b[i]==0)f[i]-=f[j];
		ans+=f[i];
	}
	printf("%d\n",ans);
}