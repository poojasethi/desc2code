#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
typedef long long ll;
bool v[100001];
int i,j,k,n,m,a[20001],f[100001],d[100001],ans,g,p,q,tot;
int gcd(int a,int b){
	int r;
	do{
		r=a%b;a=b;b=r;
	}while (r);
	return a;
}
int pw(ll b,ll p,ll mm){
	ll res=1;
	for (;p;p>>=1,b=b*b%mm)
	 if (p&1) res=res*b%mm;
	return res;
}
int main(){
	scanf("%d%d%d",&n,&m,&p);q=p-1;
	for (i=1;i<=n;i++) scanf("%d",&a[i]);
	for (i=1,g=p-1;i<=m;i++) scanf("%d",&k),g=gcd(g,k);
	for (i=1;i<=n;i++) a[i]=pw(a[i],g,p);
	for (i=1,tot=0;i*i<=q;i++)
	 if (q%i==0){
	 	d[++tot]=i;
	 	if (i*i<q) d[++tot]=q/i;
	 }
	sort(d+1,d+1+tot);memset(v,0,sizeof(v));
	for (i=1;i<=n;i++)
	 for (j=1;;j++)
	  if (pw(a[i],d[j],p)==1){
	  	v[tot-j+1]=1;break;
	  }
	for (i=1;i<=tot;i++)
	 if (v[i])
	  for (j=i+1;j<=tot;j++)
	   if (d[j]%d[i]==0) v[j]=1;
	for (ans=0,i=tot;i;i--)
	 if (v[i]){
	 	f[i]=q/d[i];
	 	for (j=i+1;j<=tot;j++)
		 if (d[j]%d[i]==0) f[i]-=f[j];
		ans+=f[i];
	 }
	printf("%d\n",ans);
	return 0;
}