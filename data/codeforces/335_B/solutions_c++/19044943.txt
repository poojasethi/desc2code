#include<cstdio>
#include<algorithm>
#include<cmath>
#include<cstdlib>
#include<iostream>
#include<cstring>
using namespace std;
int L,i,j,l,p,q,f[5201][5201],fr[5201][5201];
bool c[5201][5201];
char s[500001];
void go(int x,int y,int z)
{
	if ((!x && !y) || (x==y && z)) return;
	if (c[x][y]) printf("%c",s[x]);
	go(fr[x][y]/10000,fr[x][y]%10000,z);
	if (c[x][y] && x!=y) printf("%c",s[x]);
}

int main()
{
		scanf("%s",s+1);
		L=strlen(s+1);
		L=min(L,5200);
		for (i=1;i<=L;i++) f[i][i]=c[i][i]=1;
		for (i=p=q=1;i<L;i++)
		{
			if (s[i]==s[i+1]) f[i][i+1]=2,c[i][i+1]=1;
			else f[i][i+1]=1,fr[i][i+1]=i*10001;
			if (f[i][i+1]>f[p][q]) p=i,q=i+1;
		}
		for (l=3;l<=L;l++)
			for (i=1;i<=L-l+1;i++)
			{
				j=i+l-1;
				if (f[i+1][j]>f[i][j-1]) f[i][j]=f[i+1][j],fr[i][j]=(i+1)*10000+j;
				else f[i][j]=f[i][j-1],fr[i][j]=i*10000+j-1;
				if (s[i]==s[j] && f[i+1][j-1]+2>f[i][j]) c[i][j]=1,f[i][j]=f[i+1][j-1]+2,fr[i][j]=(i+1)*10000+j-1;
				if (f[i][j]>=100)
				{
					go(i,j,f[i][j]-100);
					return 0;
				}
				if (f[i][j]>f[p][q]) p=i,q=j;
			}
		go(p,q,0);
}
