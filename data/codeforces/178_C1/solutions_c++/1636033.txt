#include <map>
#include <iostream>
using namespace std;

bool u[200000];
map<int, int> p;

int main() {
	int h, m, n, j, g;
	char c;
	unsigned long long int k = 0;

	cin >> h >> m >> n;

	for (int i = 0; i < n; ++i) {
		cin >> c >> j;
		if (c == '+') {
			cin >> g;
			while (u[g]) {
				g = (g + m)%h;
				++k;
			}
			p[j] = g;
			u[g] = true;
		}
		else
			u[p[j]] = false;
	}

	cout << k;

	return 0;
}
