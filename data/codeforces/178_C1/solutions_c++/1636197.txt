#include<cstdio>
#include<iostream>
using namespace std;
int main(){
	int h,m,n;
	scanf("%d%d%d",&h,&m,&n);
	int t[200010]={0};
	char s[2];
	int a,b,c=0;
	for(int z=0;z<n;z++){
		scanf("%s",s);
		if(s[0]=='+'){
			scanf("%d%d",&a,&b);
			if(t[b]==0)
				t[b]=a;
			else{
				while(t[b]!=0){
					b=((b+m)%h);
					c++;
				}
				t[b]=a;
			}
		}
		else{
			scanf("%d",&a);
			for(int j=0;j<h;j++){
				if(t[j]==a){
					t[j]=0;
					break;
				}
			}
		}
	}
	printf("%d",c);
	return 0;

}

