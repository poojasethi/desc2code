#include<iostream>
#include<cstdio>
#include<cmath>
#include<cstdlib>
#include<string.h>
#include<vector>
#include<map>
#define mod 1000000009
using namespace std;
map <int,int> ind;
bool used[5003];
int main()
{
    int h,m,n;
    scanf("%d %d %d",&h,&m,&n);
    m%=h;
    char s[3];
    int nom,ha;
    int ans=0;
    int i,j;
    for(i=0;i<n;i++)
    {
        scanf("%s",s);
        if(s[0]=='+')
        {
            scanf("%d %d",&nom,&ha);
            for(j=0;used[ha];j++)
            {
                ha+=m;
                if(ha>h-1)
                    ha-=h;
            }
            used[ha]=true;
            ind[nom]=ha;
            ans+=j;
        }
        else
        {
            scanf("%d",&nom);
            used[ind[nom]]=false;
        }
    }
    printf("%d\n",ans);
    return 0;
}
/*

*/
