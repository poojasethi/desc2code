#include <iostream>
#include <string>

using namespace std;

int ha[5000];

int main(void)
{
    int h, m, n, a, b, ans = 0;
    string op;
    cin >> h >> m >> n;
    for (int i = 0; i < h; ++i)
        ha[i] = -1;
    for (int i = 0; i < n; ++i)
    {
        cin >> op >> a;
        if (op == "+")
            cin >> b;
        if (op == "+")
        {
            b %= h;
            while (ha[b] != -1)
            {
                b = (b + m) % h;
                ++ans;
            }
            ha[b] = a;
        }
        else
        {
            for (int i = 0; i < h; ++i)
                if (ha[i] == a)
                {
                    ha[i] = -1;
                    break;
                }
        }
    }
    cout << ans;
    return 0;
}
