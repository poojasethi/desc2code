#include<map>
#include<string>
#include<iostream>

using namespace std;

#define		MAX		200010

bool vis[MAX];

int main(){
	
	map<int,int> mp;
	string s;
	int h,m,n,id,res = 0,r;
	cin >> h >> m >> n;
	for (int t=0;t<n;t++){
		cin >> s >> id;
		if (s=="-") vis[mp[id]] = false;
		else{
			cin >> r;
			while(vis[r]) {
				r = (r+m)%h;
				res++;
			}
			vis[r] = true;
			mp[id] = r;
		}
	}

	cout << res << endl;

	return 0;
}