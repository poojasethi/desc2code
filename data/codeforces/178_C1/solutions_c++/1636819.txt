#include <stdio.h>

using namespace std;

#include <map>

long long int dummy;

bool hash[200000];

int h,m,n;

map<int, int> ids;

int main() {
  scanf ("%d%d%d",&h,&m,&n);          
  
  for (int i = 0; i < h; i++) hash[i] = true;
  
  char op;
  int id,t;    
  
  dummy = 0;
  
  for (int i = 1; i <= n; i++) {
    scanf ("%c %c %d",&op,&op,&id);
    if (op == '+') {      
      scanf("%d",&t);
      int j =0;
      while (true) {
        int cell = (t+ j*m) % h;
        if (hash[cell]) {
          ids[id] = cell;
          hash[cell] = false;
          break;
        }
        else j++;
      }
      
      dummy += j;
    }
    else hash[ids[id]] = true;      
  }       
  
  printf ("%I64d\n",dummy);
    
  return 0;
}
