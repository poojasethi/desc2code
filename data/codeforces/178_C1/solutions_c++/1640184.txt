#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>
#include <map>

using namespace std;

const int MAXN=200010;

int h,n,m,ans;
bool hash[MAXN];
int val,hval;
char cmd[2];
map<int,int> place;

int insert(int key)
{
    while(hash[key])
    {
        key=(key+m)%h;
        ans++;
    }
    hash[key]=true;
    return key;
}
void dlt(int key)
{
    hash[key]=false;
}
int main()
{
//    freopen("in.txt","r",stdin);
    scanf("%d%d%d",&h,&m,&n);
    ans=0;
    memset(hash,false,sizeof(hash));
    for(int i=0;i<n;++i)
    {
        scanf("%s",cmd);
        if(cmd[0]=='+')
        {
            scanf("%d%d",&val,&hval);
            place[val]=insert(hval);
        }
        else
        {
            scanf("%d",&val);
            dlt(place[val]);
        }
    }
    printf("%d\n",ans);
    return 0;
}
