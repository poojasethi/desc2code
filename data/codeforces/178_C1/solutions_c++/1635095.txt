#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<iostream>
#include<algorithm>
#include<vector>
#include<queue>
#include<set>
#include<map>
#include<bitset>
#include<string>
#include<cmath>
#define pb push_back
#define mp make_pair
using namespace std;
typedef __int64 big;
const int N=200020;
map<int,int>in;
int h[N],n,m,H,ans=0;
void ins(int id,int t)
{
	int i;
	for(i=t;i<H;i+=m,i%=H,ans++)
	{
		if(h[i]==-1)
		{
			h[i]=id;
			break;
		}
	}
	in[id]=i;
}
int main()
{
	int i,id,t;
	memset(h,-1,sizeof(h));
	char cmd[3];
	scanf("%d%d%d",&H,&m,&n);
	while(n--)
	{
		scanf("%s",cmd);
		if(cmd[0]=='+')
		{
			scanf("%d%d",&id,&t);
			ins(id,t);
		}
		else 
		{
			scanf("%d",&id);
			h[in[id]]=-1;
		}
	}
	printf("%d\n",ans);
}
