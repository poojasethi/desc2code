#include<iostream>
#include<map>

using namespace std;

int main()
{
  int htb[200001];
  for(int i=0;i<200001;i++)
    htb[i]=-1;
  int h,m,n,d=0;
  cin>>h>>m>>n;
  map<int,int> hashto;
  for(int i=0;i<n;i++)
  {
    char x;
    int id;
    cin>>x>>id;
    if(x=='-')
    {
      htb[hashto[id]]=-1;
    }
    else
    {
      int hash;
      cin>>hash;
      while(htb[hash]!=-1)
      {
	d++;
	hash=(hash+m)%h;
      }
      htb[hash]=id;
      hashto[id]=hash;
    }
    //cout<<d<<"\n";
  }
  cout<<d<<"\n";
  return 0;
}