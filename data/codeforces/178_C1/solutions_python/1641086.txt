#include<iostream>
#include<cstdio>

#include<cstring>
using namespace std;
int n,m,k,ans,p,q;
int num[10000];
string w;
void add(int a,int b){
   int w=0;
   while(true){
      if(num[(b+w*k)%n]==-1){
         num[(b+w*k)%n]=a;
         ans+=w;
         return ;
      }
      w++;
   }
}
void del(int a){
   for(int i=0;i<n;i++)
     if(num[i]==a){
        num[i]=-1;
        return ;
     }
}
int main(){
   cin>>n>>k>>m;
   memset(num,-1,sizeof(num));
   ans=0;
   while(m--){
      cin>>w;
      //cout<<w<<endl;
      if(w[0]==43){
        cin>>p>>q;
        add(p,q);
     }
      else {
          cin>>p;
          del(p);
      }
   }
   cout<<ans;
}
