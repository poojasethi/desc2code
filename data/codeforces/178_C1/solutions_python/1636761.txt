# include <iostream>
# include <cstdio>
# include <cstring>
# include <algorithm>
# include <cmath>
# include <cstdlib>
# include <map>
using namespace std;
typedef long long ll;
const int e=200100;
int a, b, m, n, h, hash[e], ans;
map<int, int> Map;

int main()
{
	scanf("%d%d%d",&h,&m,&n);
	memset(hash, 0, sizeof(hash));
	for (int i=0; i<n; i++)
	{
		char ch=getchar();
		while (ch!='+' && ch!='-') ch=getchar();
		if (ch=='-') 
		{
			scanf("%d",&a);
			map<int,int> :: iterator it = Map.find(a);
			hash[it->second]=0;
		} else 
		{
			scanf("%d%d",&a,&b);
			while (hash[b]) b=(b+m)%h, ans++;
			Map.insert(pair<int,int>(a,b));
			hash[b]=1;
		}
	}
	cout << ans << endl;
	return 0;
}
