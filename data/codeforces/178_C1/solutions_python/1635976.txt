//============================================================================
// Name        : C1.cpp
// Author      : Kang Ning
// Version     :
// Copyright   : copyright c Kang Ning 2012~2013
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
#include <map>
using namespace std;

int h, m, n;
map<int, int> id;
bool table[200000] = {0};
int result = 0;

int main() {
	cin >> h >> m >> n;

	while (n--) {
		char type;
		cin >> type;

		if (type == '+') {
			int no, value;
			cin >> no >> value;

			while (table[value]) {
				result++;
				value = (value + m) % h;
			}

			table[value] = true;
			id[no] = value;
		} else {
			int no;
			cin >> no;

			table[id[no]] = false;
		}
	}

	cout << result << endl;

	return 0;
}
