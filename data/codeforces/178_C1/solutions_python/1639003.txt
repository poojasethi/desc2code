#include <stdio.h>
#include <iostream>
#include <map>

using namespace std;

#define MAX_N 200010

int n, m, h, id, hash;

int use[MAX_N];

map <int, int> M, pos;

long long sol;

void occupy(int id, int hash) {
	for (int i = hash; ; i = (i + m < h) ? i + m : i + m - h)
		if (use[i] == 0) {
			use[i] = 1;
			pos[id] = i;
			break;
		} 
		else
			sol++;
}

int main() {

	#ifndef ONLINE_JUDGE
		freopen("data.in", "r", stdin);
		freopen("data.out", "w", stdout);
	#endif

	scanf("%d %d %d\n", &h, &m, &n);
	
	for (int i = 1; i <= n; i++) {
		char tip;
		scanf("%c", &tip);

		if (tip == '+') {
			scanf("%d %d\n", &id, &hash);
			M[id] = hash;

            occupy(id, hash);
		}
		else {
			scanf("%d\n", &id);
			use[pos[id]] = 0;
		}
	}

	cout << sol << "\n";

	return 0;
}
