#include <map>
#include <iostream>
using namespace std;
const int MAXN=5*1000+10;
int n,h,m,id,x,ans;
bool hash[MAXN];
char c;
map<int,int> M;
int main()
{
	cin >> h >> m >> n;
	for(int i=0;i<n;i++)
	{
		cin >> c;
		if(c=='+')
		{
			cin >> id >> x;
			while(hash[x])
			{
				ans++;
				x+=m;
				x%=h;
			}
			hash[x]=1;
			M[id]=x;
		}
		else
		{
			cin >> id;
			hash[M[id]]=0;
			M.erase(id);
		}
	}
	cout << ans << endl;
	return 0;
}
