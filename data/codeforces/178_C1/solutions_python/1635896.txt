#define MAX 5005
#include <stdio.h>
#include <map>
using namespace std;
int H[MAX];
map<int,int>mp;
int main(){
    int h,m,n,res=0,i,id,t,j;
    char ch;
    scanf("%d%d%d",&h,&m,&n);
    for(i=0;i<h;++i) H[i]=-1;
    for(i=1;i<=n;++i){
        scanf(" %c%d",&ch,&id);
        if(ch=='-'){
            H[mp[id]]=-1;
        }else{
            scanf("%d",&t);
            for(j=0;;++j){
                if(H[(t+j*m)%h]==-1){
                    H[(t+j*m)%h]=id;
                    mp[id]=(t+j*m)%h;
                    break;
                }
            }
            res+=j;
        }
    }
    printf("%d\n",res);
    return 0;
}
