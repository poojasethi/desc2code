#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 110
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
const int a1[4]={1,-1,0,0},a2[4]={0,0,1,-1};
struct ww {
	int x,y;
} g[N*N*100],O,G;
int i,j,k,n,m,K;
int d[30][N][N],ff[N][N],id[N][N];
char p[N][N],s[N*10];
inline int get(int x,int y) {
	return p[x][y]>='1'&&p[x][y]<='9'?p[x][y]-'0':1;
}
int main() {
	scanf("%d%d%d",&n,&m,&K);
	For(i,1,n) scanf("%s",p[i]+1);
	scanf("%d%d%s%d%d",&O.x,&O.y,s+1,&G.x,&G.y);
	For(i,1,n)For(j,1,m) if (p[i][j]>='a'&&p[i][j]<='z') id[i][j]=p[i][j]-'a'+1;
		else if (i==G.x&&j==G.y) id[i][j]=28;
	memset(d,120,sizeof(d));
	For(i,1,n)For(j,1,m) if (id[i][j]) {
		int A=id[i][j];
		d[A][i][j]=0;
		int l,r;
		g[l=r=1]=(ww){i,j};
		for (;l<=r;l++) {
			int x=g[l].x,y=g[l].y,z=d[A][x][y];
			if (l>1&&id[x][y]&&id[x][y]<28) continue;
			ff[x][y]=0;
			For(k,0,3) {
				int X=x+a1[k],Y=y+a2[k];
				if (X&&Y&&X<=n&&Y<=m&&p[X][Y]!='#'&&d[A][X][Y]>z+get(X,Y)) {
					d[A][X][Y]=z+get(X,Y);
					if (!ff[X][Y]) ff[X][Y]=1,g[++r]=(ww){X,Y};
				}
			}
		}
	}
	
	int len=strlen(s+1);
	For(i,1,len+1) {
		int A=i<=len?s[i]-'a'+1:28;
		for (;id[O.x][O.y]!=A;) {
			int x=O.x,y=O.y,z=d[A][x][y],tmp=get(x,y);
			if (tmp>K) {
				printf("%d %d\n",x,y);
				return 0;
			}
			K-=tmp;
			For(j,0,3) {
				int X=x+a1[j],Y=y+a2[j];
				if (X&&Y&&X<=n&&Y<=m&&p[X][Y]!='#'&&d[A][X][Y]+get(x,y)==z) {
					O=(ww){X,Y};
					break;
				}
			}
		}
	}
	printf("%d %d\n",O.x,O.y);
	return 0;
}
