#include <stdio.h>

#define if if (
#define then )
#define do )
#define for for (
#define while while (
#define begin {
#define end }

char ch;
inline void read(int &x)
begin
	x=0;ch=getchar();
	while ch<=32 do ch=getchar();
	while ch>32 do x=x*10+ch-48,ch=getchar();
end;

#define MAXN 105

int n,m,k;
char a[MAXN][MAXN];
int f[MAXN][MAXN];
int X[250],Y[250];
int _x[1005],_y[1005],_tot;

inline int sgn(int x){return x<0?-1:(x>0);}

int main()
begin
	read(n);read(m);read(k);
	int i,j;
	for i=1;i<=n;i++ do begin
		for j=1;j<=m;j++ do begin
			ch=getchar();
			while ch<=32 do ch=getchar();
			a[i][j]=ch;
			if ch>='a' && ch<='z' then begin
				X[ch]=i;Y[ch]=j;
				f[i][j]=1;
			end else if ch!='#' then begin
				f[i][j]=ch-'0';
			end;
		end;
	end;
	int x,y;
	read(x);read(y);
	ch=getchar();
	while ch<=32 do ch=getchar();
	while ch>32 do _x[++_tot]=X[ch],_y[_tot]=Y[ch],ch=getchar();
	read(_x[++_tot]);read(_y[_tot]);
	int now=1,nx=_x[1],ny=_y[1];
	while k do begin
		int t=f[x][y];
		if t>k then break;
		k-=t;
		int dx=sgn(nx-x),dy=sgn(ny-y);
		x+=dx;y+=dy;
		if x==nx && y==ny then begin
			if now==_tot then break;
			++now;
			nx=_x[now];ny=_y[now];
		end;
	end;
	printf("%d %d\n",x,y);
end