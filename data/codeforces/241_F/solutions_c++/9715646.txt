#include <cstdio>
#include <cstring>
#include <algorithm>
#include <queue>
using namespace std;
#define x first
#define y second
typedef pair<int,int> vec;
const int N=105,S=1005,inf=N*N*10;
int m,n,k,l;
char c[N][N];
vec s,t,juc[27];
char seq[S];

int val(vec u){
	char x=c[u.x][u.y];
	if(x=='#') return inf;
	if(x>='a'&&x<='z') return 1;
	return x-'0';
}

int main(){
	scanf("%d%d%d",&m,&n,&k);
	for(int i=1;i<=m;i++) scanf("%s",c[i]+1);
	scanf("%d%d%s%d%d",&s.x,&s.y,seq,&t.x,&t.y);
	for(int i=1;i<=m;i++)
		for(int j=1;j<=n;j++) if(c[i][j]>='a'&&c[i][j]<='z')
			juc[c[i][j]-'a']=vec(i,j);
	juc[26]=t;
	l=strlen(seq);
	for(int i=0;i<l;i++) seq[i]-='a';
	seq[l]=26;
	for(int i=0;i<=l&&k>=0;i++)
		while(s!=juc[seq[i]]){
			if((k-=val(s))<0) break;
			if(s.x<juc[seq[i]].x) s.x++;
			if(s.x>juc[seq[i]].x) s.x--;
			if(s.y<juc[seq[i]].y) s.y++;
			if(s.y>juc[seq[i]].y) s.y--;
		}
	printf("%d %d\n",s.x,s.y);
}
