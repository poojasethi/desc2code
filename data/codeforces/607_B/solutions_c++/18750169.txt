#include <bits/stdc++.h>

using namespace std;

int n, ar[1000001], dp[1001][1001];

int get(int l, int r)
{
    if (l >= r)
        return 1;

    if (dp[l][r] != 0)
        return dp[l][r];

    dp[l][r] = 1e9 + 1;

    if (ar[l] == ar[r])
        dp[l][r] = get(l + 1, r - 1);

    for (int i = l; i <= r; i++)
        dp[l][r] = min(dp[l][r], get(l, i) + get(i + 1, r));

    return dp[l][r];
}

int main ()
{
    cin >> n;
    for (int i = 0; i < n; i++){
        scanf("%d", &ar[i]);
    }
    cout << get(0, n - 1);
    return 0;
}
