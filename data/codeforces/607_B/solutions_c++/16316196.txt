#include<bits/stdc++.h>
using namespace std;

int arr[555];
const int inf = 555;
int memo[555][555];
int solve(int l,int r){
	if(r<=l)return 1;
	int &ret = memo[l][r];
	if(ret  != -1)return ret;
	ret = inf;
	if(arr[l] == arr[r]){
		ret = min(ret, solve(l+1,r-1));
	}
	for(int i=l;i<r;i++){
		ret = min(ret , solve(l,i) + solve(i+1,r) );
	}
	return ret;
}

int main(){
	int n;
	scanf("%d",&n);
	for(int i=0;i<n;i++){
		scanf("%d",arr+i);
	}
	memset(memo,-1,sizeof memo);
	printf("%d", solve(0,n-1));
}
