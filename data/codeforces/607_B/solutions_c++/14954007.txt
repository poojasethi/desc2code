#include <bits/stdc++.h>
using namespace std;

#define mp(x, y) make_pair((x), (y))

typedef long long ll;

int n;
int c[555];
int dp[555][555];

int main()
{
	scanf("%d", &n);
	for(int i=0; i<n; i++) {
		scanf("%d", &c[i]);
	}
	for(int d=0; d<n; d++) {
		for(int i=0; i+d<n; i++) {
			dp[i][i+d]=1+d;
			for(int j=i; j<=i+d; j++) {
				if(c[i]!=c[j]) continue;
				dp[i][i+d]=min(dp[i][i+d], (i+1<=j-1 ? dp[i+1][j-1] : 1)+(j+1<=i+d ? dp[j+1][i+d] : 0));
			}
		}
	}
	printf("%d\n", dp[0][n-1]);

	return 0;
}
