#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int ans,i,j,k,n,m,f[611][611],a[611],len,t1,t2;
int main(){
	scanf("%d",&n);
	for (i=1;i<=n;i++) scanf("%d",&a[i]);
	for (len=1;len<=n;len++)
	 for (i=1;i<=n-len+1;i++){
	 	t1=i;t2=i+len-1;
	 	if (len==1){
	 		f[t1][t2]=1;continue;
		}
		if (len==2){
			f[t1][t2]=(a[t1]==a[t2])?1:2;continue;
		}
		if (a[t1]==a[t2]) f[t1][t2]=f[t1+1][t2-1];else f[t1][t2]=len;
		for (j=t1;j<t2;j++) f[t1][t2]=min(f[t1][t2],f[t1][j]+f[j+1][t2]);
	 }
	ans=f[1][n];
	printf("%d\n",ans);
}