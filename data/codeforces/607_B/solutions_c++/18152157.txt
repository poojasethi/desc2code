#include<cstdio>
#include<cstdlib>
#include<cstring>

#include<iostream>
#include<algorithm>
using namespace std;

const int _N=510;

int n,s[_N],f[_N][_N];

int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
        scanf("%d",s+i);
    for(int j=1;j<=n;j++)
        for(int i=1;i<=j;i++)
        {
            f[i][j]=f[i][j-1]+1;
            for(int k=i;k<j;k++)
                if(s[k]==s[j])
                    f[i][j]=min(f[i][j],f[i][k-1]+max(f[k+1][j-1],1));
        }
    printf("%d\n",f[1][n]);
    return 0;
}