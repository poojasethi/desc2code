#include <bits/stdc++.h>
using namespace std;
int ar[501],dp[501][501];
int sol(int l,int r){
	if(l>=r)return 1;
	int &ret= dp[l][r],i;
	if(ret!=-1)return ret;
	ret=1e9;
	if(ar[l]==ar[r]) 
		ret=sol(l+1,r-1);
	ret= min(1+sol(l+1,r),ret);
	ret=min(1+sol(l,r-1),ret);
	for(i=l;i<=r;++i)
		if(ar[i]==ar[r])
			ret=min(ret,sol(l,i-1)+sol(i,r));
	for(i=r;i>=l;--i)
		if(ar[l]==ar[i])
			ret= min(ret,sol(i+1,r)+sol(l+1,i-1));
	return ret;
}
int main(){
	int n,i;cin>>n;
	for(i=1;i<=n;++i)cin>>ar[i];
	memset(dp,-1,sizeof(dp));
	cout<<sol(1,n)<<endl;
}
