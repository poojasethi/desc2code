#include<bits/stdc++.h>
using namespace std;
int dp[505][505];
int n;
int a[505];
int fun(int i,int j)
{
	if(i>j)
	return 0;
	if(i==j)
	return 1;
	if(i+1==j)
	{
		if(a[i]==a[j])
		return 1;
		else
		return 2;
	}
	if(dp[i][j]!=-1)
	return dp[i][j];
	dp[i][j]=INT_MAX;
	if(a[i]==a[j])
	{
		dp[i][j]=fun(i+1,j-1);
	}
	for(int k=i;k<j;k++)
	{
		dp[i][j]=min(dp[i][j],fun(i,k)+fun(k+1,j));
	}
	return dp[i][j];
}
int main()
{
	cin>>n;
	for(int i=0;i<n;i++)
	{
		cin>>a[i];
	}
	memset(dp,-1,sizeof(dp));
	cout<<fun(0,n-1)<<"\n";
}
