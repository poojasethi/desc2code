#include <bits/stdc++.h>
using namespace std;

const int maxn = 505;

int n,dp[maxn][maxn],ar[maxn];

int solve( int b , int e ){
	if( b > e )		return 0;
	if( b == e )	return 1;
	int &ret = dp[b][e];
	if( ret )		return ret;
	
	ret = solve( b+1 , e ) + 1;
	
	for( int i=b+1 ; i <= e ; i++ )
		if( ar[i] == ar[b] )
			ret = min( ret , solve( b+1 , i-1 ) + (b+1 == i) + solve( i+1 , e ) );
	
	return ret;
}

int main(){
	
	scanf("%d",&n);
	
	for( int i=1 ; i <= n ; i++ )
		scanf("%d",&ar[i]);
	
	printf("%d\n",solve(1 , n));
	
	return 0;
}
