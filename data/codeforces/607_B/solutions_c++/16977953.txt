#include <iostream>
#include <algorithm>
using namespace std;
int n,a[512],m[512][512];
int main(void) {
  cin>>n;
  for(int i=0;i<n;++i)cin>>a[i];
  for(int i=1;i<=n;++i)
    for(int j=i;j-->0;){
      m[j][i]=1+m[j][i-1];
      for(int k=j;k<i;++k)if(a[j]==a[k])m[j][i]=min(m[j][i],max(1,m[j+1][k])+m[k+1][i]);
    }
  cout<<m[0][n]<<endl;
}
