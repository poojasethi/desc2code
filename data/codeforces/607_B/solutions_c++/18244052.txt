#include<bits/stdc++.h>
using namespace std;
int dp[505][505],a[505];
int n;
int solve(int i,int j)
{
    if(j-i<=1){
        if(a[i]==a[j])return 1;
        return 2;
    }
    int &ret=dp[i][j];
    if(ret!=-1)return ret;
    ret=1e9;
    if(a[i]==a[j])ret=solve(i+1,j-1);
    for(int k=i;k<j;++k)ret=min(ret,solve(i,k)+solve(k+1,j));
    return ret;
}
int main()
{
    cin>>n;
    for(int i=0;i<n;++i)cin>>a[i];
    memset(dp,-1,sizeof dp);
    cout<<solve(0,n-1);
}
