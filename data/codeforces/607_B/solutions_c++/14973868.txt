#include <cstdio>
#include <cstring>
#include <algorithm>

using std::min;

int n,c[509];
int f[509][509];

int dps(int l,int r)
{
    int &g=f[l][r];
    if (g!=-1) return g;
    if (l>=r) return g=1;
    if (c[l]==c[r]) g=dps(l+1,r-1);
    else g=1024;
    for (int k=l;k<r;++k) g=min(g,dps(l,k)+dps(k+1,r));
    return g;
}
int main()
{
    scanf("%d",&n);
    for (int i=0;i<n;++i) scanf("%d",c+i);
    memset(f,-1,sizeof f);
    printf("%d\n",dps(0,n-1));
    return 0;
}