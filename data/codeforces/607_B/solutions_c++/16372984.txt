#include<cstdio>
#include<algorithm>
using namespace std;

int n;
int a[555];
int f[555][555];

void update(int &x, int y) {
	if(x>y) x=y;
}

int main() {
	scanf("%d", &n);
	for(int i=1;i<=n;i++) scanf("%d", &a[i]);
	for(int i=1;i<=n;i++)
		for(int j=1;j+i-1<=n;j++) {
			int l = j, r = j+i-1;
			if(l==r) { f[l][r]=1; continue; }
			f[l][r] = min(f[l+1][r], f[l][r-1]) + 1;
			for(int k=l+1;k<=r;k++)
				if(a[l]==a[k])
					update(f[l][r], max(f[l+1][k-1], 1) + f[k+1][r]);
		}
	printf("%d\n", f[1][n]);
	
	return 0;
}