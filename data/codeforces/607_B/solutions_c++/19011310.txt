#include<iostream>
using namespace std;
int n,a[505],dp[505][505];
int main(){
	cin>>n;
	for(int i=0;i<n;i++)cin>>a[i];
	for(int i=0;i<n;i++)dp[i][i]=dp[i+1][i]=1;
	for(int l=1;l<n;l++){
		for(int i=0;i<n-l;i++){
			int mn=505,j=i+l;
			if(a[i]==a[j]) mn=dp[i+1][j-1];
			for(int k=i;k<j;k++){
				mn=min(mn,dp[i][k]+dp[k+1][j]);
			}
			dp[i][j]=mn;
		}
	}
	cout<<dp[0][n-1];
	return 0;
}