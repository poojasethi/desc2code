#include<bits/stdc++.h>
using namespace std;
const int N=511;
int n;
int c[N];
int f[N][N];
int find(int l,int r)
{
	if (f[l][r]!=-1) return f[l][r];
	if (l==r) return 1;
	if (l+1==r)
	{
		if (c[l]==c[r]) return 1;
		else return 2;
	}
	f[l][r]=N;
	if (c[l]==c[r])
	{
		f[l][r]=min(f[l][r],find(l+1,r-1));
	}
	for (int i=l;i<r;i++)
	{
		f[l][r]=min(f[l][r],find(l,i)+find(i+1,r));
	}
	return f[l][r];
}
int main()
{
	cin>>n;
	for (int i=1;i<=n;i++)
	{
		scanf("%d",&c[i]);
	}
	memset(f,-1,sizeof(f));
	cout<<find(1,n);
}
