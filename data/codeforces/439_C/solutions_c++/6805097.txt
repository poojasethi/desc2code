#include<stdio.h>
struct point
{
	int x;
	point *y;
}*v[100013];
int n,k,q,p[100000],i[100000],j,np,ni,x,len[100013];
inline void add(int a, int b)
{
	point *w=new point;
	w->x=a;
	w->y=v[b];
	v[b]=w;
}
int main()
{
	scanf("%d%d%d",&n,&k,&q);
	for(j=0;j<n;++j)
	{
		scanf("%d",&x);
		x%2==0?p[np++]=x:i[ni++]=x;
	}
	for(j=0;j<q;++j)
	{
		if(np>0)
		{
			add(p[--np],j);
			++len[j];
		}
		else
		if(ni>1)
		{
			add(i[--ni],j);
			add(i[--ni],j);
			len[j]+=2;
		}
		else
		{
			printf("NO");
			return 0;
		}
	}
	for(j=q;j<k;++j)
	{
		if(ni>0)
		{
			add(i[--ni],j);
			++len[j];
		}
		else
		{
			printf("NO");
			return 0;
		}
	}
	if(ni%2==1)
	{
		printf("NO");
		return 0;
	}
	printf("YES\n");
	for(j=0;j<np;++j)add(p[j],0),++len[0];
	for(j=0;j<ni;++j)add(i[j],0),++len[0];
	for(j=0;j<k;++j)
	{
		printf("%d",len[j]);
		for(point *w=v[j];w!=NULL;w=w->y)printf(" %d",w->x);
		printf("\n");
	}
	return 0;
}
