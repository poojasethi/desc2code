#include <bits/stdc++.h>
using namespace std;
bool compare (int i, int j)
{
	if(!(j%2) & i%2)
		return true;
	else return false;
}
int main ()
{
	int n, k, p;
	scanf("%i%i%i", &n, &k, &p);
	int arr[100100] = {0}, odds = 0, pos1 = 0, pos2 = n - 1;
	for (int i = 0; i < n; i++)
	{
		scanf("%i", &arr[i]);
		if (arr[i] % 2)
			odds++;
	}
	sort(arr, arr + n, compare);
	vector <int> res[k];
	int i = 0;
	for (; i < n && arr[i] % 2 == 1 && i < k - p; i++)
		res[i].push_back(arr[i]);
	if (i < k - p || (odds - k + p) % 2 || (odds - k + p) / 2 + n - odds < k - i)
	{
		cout<< "NO\n";
		return 0;
	}
	for (int j = i; i < n; j++, i++)
	{
		if (arr[i] % 2)
		{
			res[min(j, k - 1)].push_back(arr[i]);
			i++;
			if (i < n)
				res[min(j, k - 1)].push_back(arr[i]);
		}
		else
			res[min(j, k - 1)].push_back(arr[i]);
	}
	cout<<"YES\n";
	for (int i = 0; i < k; i++, printf("\n"))
	{
		printf("%i ", (int)res[i].size());
		for (int j = 0; j < res[i].size(); j++)
			printf("%i ", res[i][j]);
	}
}
