#include<bits/stdc++.h>
using namespace std;
#define sc(n) scanf("%d",&(n))
#define f(i,k,n) for(int (i)=(k);(i)<(n);(i)++)
#define ll long long
#define pb push_back
int a[100000];
vector<int> vo,ve;
int main()
{
	int n,k,p,o=0,e=0;
	sc(n);sc(k);sc(p);
	f(i,0,n)sc(a[i]);
	f(i,0,n)if(a[i]&1)o++,vo.pb(a[i]);else e++,ve.pb(a[i]);

	int flag=0;
	//for(int i=1;i<=o&&i<=n-k;i+=2)
	//if((o-i)&1==0&&e>=n-k-i)flag=1;
	//cout<<o<<" "<<e<<" "<<k<<" "<<p<<endl;
	if(o>=k-p&&(o-k+p)%2==0&&(o-k+p)/2 +e>=p)flag=1;
	cout<<((flag)?"YES\n":"NO\n");
	if(flag)
	{
		int i=0,ks=0;
		vector<int> even[k];
		for(;i<k-p&&i<vo.size();i++,ks=(ks+1)%k)
		even[ks].pb(vo[i]);
		for(;i<vo.size();i+=2)
		{even[ks].pb(vo[i]);if(i+1<vo.size())even[ks].pb(vo[i+1]);ks=(ks+1)%k;}
		for(i=0;i<ve.size();i++,ks=(ks+1)%k)
		even[ks].pb(ve[i]);

		for(i=0;i<k;i++)
		{
			printf("%lu ",even[i].size());
			for(int j=0;j<even[i].size();j++)
			printf("%d ",even[i][j]);
			printf("\n");
		}
	}
	return 0;
}
