#include<cstdio>
const int N=100002;
int a[N],ia[N],b[N],ib[N],ans[N<<1],ians[N<<1],cnt[N<<1];
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int n,m,i,j;
	while(~scanf("%d",&n))
	{
		for(i=1;i<=n;i++){scanf("%d",&a[i]);ia[i]=i;}
		scanf("%d",&m);
		for(i=1;i<=m;i++){scanf("%d",&b[i]);ib[i]=i+n;}
		a[0]=2,b[0]=2;
		int t,nm=n+m,k=nm;i=n,j=m;
		if(a[n]==0)
		{
			t=a[n];
			while(1)
			{
				if(!k)break;
				while(a[i]==t){ans[k]=t;ians[k--]=ia[i];i--;}
				while(b[j]==t){ans[k]=t;ians[k--]=ib[j];j--;}
				t=1-t;
			}
		}
		else 
		{
			t=b[m];
			while(1)
			{
				if(!k)break;
				while(b[j]==t){ans[k]=t;ians[k--]=ib[j];j--;}
				while(a[i]==t){ans[k]=t;ians[k--]=ia[i];i--;}
				t=1-t;
			}
		}
		for(i=1;i<nm;i++)printf("%d ",ians[i]);printf("%d\n",ians[i]);
		//for(i=1;i<nm;i++)printf("%d ",ans[i]);printf("%d\n",ans[i]);
		t=0;int co=1;
		for(i=2;i<=nm;i++)
		{
			if(ans[i]!=ans[i-1])cnt[t++]=co,co=1;
			else co++;
		}
		if(ans[nm]==1)cnt[t++]=co;
		printf("%d\n",t);
		for(i=1;i<t;i++)cnt[i]+=cnt[i-1];
		for(i=0;i<t-1;i++)printf("%d ",cnt[i]);printf("%d\n",cnt[i]);
	}
	return 0;
}
				 		 	   			 	   		  		