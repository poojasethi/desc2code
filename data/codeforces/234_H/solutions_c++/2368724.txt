#include <iostream>
#include <cstring>
#include <cstdlib>
#include <cstdio>

using namespace std;

int n,m;
int a[200001];
int b[200001];
int c[200001];
int d[200001];
int stack[300001],cnt;
int ans[300001],top;

void solve()
{
	int i=n,j=m,flag=1;
	while(i>=1&&a[i]==0) cnt++,stack[n+m-cnt+1]=i,i--;
	while(j>=1&&b[j]==0) cnt++,stack[n+m-cnt+1]=j+n,j--;
	while(1)
	{
		if(i==0||j==0) break;
		while(i>=1&&a[i]==flag) cnt++,stack[n+m-cnt+1]=i,i--;
		while(j>=1&&b[j]==flag) cnt++,stack[n+m-cnt+1]=j+n,j--;
		flag=1-flag;
	}
	while(i>=1) cnt++,stack[n+m-cnt+1]=i,i--;
	while(j>=1) cnt++,stack[n+m-cnt+1]=j+n,j--;
}

int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i]);
	a[n+m+1]=0;
	scanf("%d",&m);
	for(int i=1;i<=m;i++)
		scanf("%d",&b[i]);
	solve();
	for(int i=1;i<=m;i++)
		a[i+n]=b[i];
	for(int i=1;i<=cnt;i++)
		if(a[stack[i]]!=a[stack[i+1]])
			ans[++top]=i;
	for(int i=1;i<=cnt;i++)
		printf("%d ",stack[i]);
	puts("");
	printf("%d\n",top);
	for(int i=1;i<=top;i++)
		printf("%d ",ans[i]);
	return 0;
}