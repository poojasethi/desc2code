#include<cstdio>
#include<cstring>
const int n=1000005;
int N,M,i,Ans,cnt;
int A[n],B[n],C[n],D[n],E[n],tmp[n],res[n];
void Work(int X)
{
	int c1=0,a1=1,b1=1,d1=0,Cnt;
	if(A[1]!=X&&B[1]!=X) return;
	for(;a1<=N||b1<=M;)
	{
		C[++c1]=X,D[c1]=0;
		for(;a1<=N&&A[a1]==X;++a1) ++D[c1],tmp[++d1]=a1;
		for(;b1<=M&&B[b1]==X;++b1) ++D[c1],tmp[++d1]=b1+N;
		X^=1;
	}
	if(C[c1]==1) Cnt=c1;
	else Cnt=c1-1;
	if(Cnt<Ans)
	{
		Ans=Cnt;
		memcpy(E,D,sizeof(E));
		memcpy(res,tmp,sizeof(res));
	}
}
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d",&N);
	for(i=1;i<=N;++i) scanf("%d",&A[i]);
	scanf("%d",&M);
	for(i=1;i<=M;++i) scanf("%d",&B[i]);
	Ans=1<<30;
	Work(0),Work(1);
	for(i=1;i<N+M;++i) printf("%d ",res[i]);
	printf("%d\n",res[N+M]);
	printf("%d\n",Ans);
	if(Ans==0) printf("\n");
	for(i=1;i<=Ans;++i)
	{
		cnt+=E[i];
		printf("%d",cnt);
		if(i==Ans) printf("\n");
		else printf(" ");
	}
	return 0;
}
