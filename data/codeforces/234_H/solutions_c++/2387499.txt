#include<cstdio>
#include<cstring>
#define maxn 100010
int n,m,ans[maxn<<1],list[maxn<<1];
bool bo1[maxn],bo2[maxn],last,cur;
int main(){
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    int i,j;
    scanf("%d",&n);
    for(i=1;i<=n;i++)scanf("%d",&bo1[i]);
    scanf("%d",&m);
    for(i=1;i<=m;i++)scanf("%d",&bo2[i]);
    i=n;j=m;
    while(i!=0&&j!=0){
        while(!bo1[i]&&i){ans[++ans[0]]=i;i--;}
        while(!bo2[j]&&j){ans[++ans[0]]=n+j;j--;}
        while(bo1[i]&&i){ans[++ans[0]]=i;i--;}
        while(bo2[j]&&j){ans[++ans[0]]=n+j;j--;}
    }
    if(!i)for(;j;j--)ans[++ans[0]]=n+j;
    if(!j)for(;i;i--)ans[++ans[0]]=i;
    printf("%d",ans[ans[0]]);
    if(ans[ans[0]]<=n)last=bo1[ans[ans[0]]];
    else last=bo2[ans[ans[0]]-n];
    for(i=n+m-1;i;i--){
        printf(" %d",ans[i]);
        if(ans[i]<=n)cur=bo1[ans[i]];
        else cur=bo2[ans[i]-n];
        if(cur!=last)list[++list[0]]=ans[0]-(i+1)+1;
        last=cur;
    }
    printf("\n");
    if(last)list[++list[0]]=n+m;
    printf("%d\n%d",list[0],list[1]);
    for(i=2;i<=list[0];i++)printf(" %d",list[i]);
    printf("\n");
}