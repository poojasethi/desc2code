#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
#define pb push_back
using namespace std;
int n,m,d1[200005],d2[200005],res[200005],last,cnt;
int v2[600005];
int s1=0,s2=0,v[600005];
int main ()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	cin >> n;
	for (int i = 1; i <= n; i++)
	{
		cin>>d1[i];
		res[i]=d1[i];
	}
	cin >> m;
	for (int i = 1; i <= m; i++)
	{
		cin>>d2[i];
		res[i+n]=d2[i];
	}
	
	s1=n;
	s2=m;
	while(s1>0 || s2>0)
	{
		while(s1>0 && d1[s1]==last)
		{
			v[cnt++]=s1;
			s1--;
		}
		while(s2>0 && d2[s2]==last)
		{
			v[cnt++]=s2+n;
			s2--;
		}
		last=1-last;
	}
	reverse(v,v+cnt);
	v[cnt]=0;
	for (int i = 0; i < n+m; i++)
	{
		cout << v[i];
		if(i==n+m-1)
		{
			cout<<endl;
		}
		else
		{
			cout<< " ";
		}
	}
	//cout << "asdasd" <<endl;
	cnt=0;
	for (int i = 0; i < n+m;i++)
	{
		if(res[v[i]]!=res[v[i+1]])
			v2[cnt++]=i+1;
	}
	cout << cnt << endl;
	bool ilk=1;
	for (int i = 0; i < cnt; i++)
	{
		if(ilk){cout << v2[i]; ilk=0;continue;}
		cout << " " << v2[i];
	}
	cout <<endl;
}


