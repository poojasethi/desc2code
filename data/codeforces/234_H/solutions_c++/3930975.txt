#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;

#define FOR(it, c) for(__typeof((c).begin()) it = (c).begin(); it != (c).end(); it++)
#define SZ(c) ((int)(c).size())
const int N = 600005;
int c[N], d[N], a[N], b[N];
int main(void) {
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
	int n, m;
	scanf("%d", &n);
	for(int i=1;i<=n;i++) scanf("%d", &a[i]);
	scanf("%d", &m);
	for(int i=1;i<=m;i++) scanf("%d", &b[i]);
	a[n+1]=b[m+1]=0;
	int rn=0, rm=0;
	for(int i=1;i<=n;i++) rn+=(a[i]!=a[i+1]);
	for(int i=1;i<=m;i++) rm+=(b[i]!=b[i+1]);
	int j=1,x,y;
	if(rn < rm) {
		for(x=1,y=1;y<=m;y++) {
			while(x<=n && a[x]==b[y]) { c[j]=x; d[j++]=a[x++]; }
			c[j]=y+n; d[j++]=b[y];
		}
		while(x<=n) {c[j]=x; d[j++]=a[x++]; }
	} else {
		for(x=1,y=1;x<=n;x++) {
			while(y<=m && a[x]==b[y]) { c[j]=y+n; d[j++]=b[y++]; }
			c[j]=x; d[j++]=a[x];
		}
		while(y<=m) { c[j]=y+n; d[j++]=b[y++]; }
	}
	for(x=1;x<=n+m;x++) printf("%d ", c[x]);
	puts("");
	printf("%d\n", max(rn,rm));
	d[n+m+1]=0;
	for(x=1;x<=n+m;x++) if(d[x]!=d[x+1]) printf("%d ", x);
	puts("");
	return 0;
}
