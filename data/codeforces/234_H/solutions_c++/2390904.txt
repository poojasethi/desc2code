
#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;

const int maxn = 200001;
int n, m, a[maxn], b[maxn], ans[maxn], ans2[maxn];

int main() {
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
	scanf("%d", &n);
	for (int i = 1; i <= n; ++i) scanf("%d", &a[i]);
	scanf("%d", &m);
	for (int i = 1; i <= m; ++i) scanf("%d", &b[i]);
	int p1 = n, p2 = m, p3 = n + m, last = 0;
	while (p1 > 0 || p2 > 0) {
		if (p1 > 0 && a[p1] == last) {
			ans[p3] = p1--;
			ans2[p3--] = last;
		} else if (p2 > 0 && b[p2] == last) {
			ans[p3] = n + p2--;
			ans2[p3--] = last;
		} else {
			last = 1 - last;
		}
	}
	for (int i = 1; i <= n + m; ++i) printf("%d ", ans[i]);
	printf("\n");
	int cnt = 0;
	for (int i = 1; i < n + m; ++i) {
		if (ans2[i] != ans2[i + 1]) ++cnt;
	}
	if (ans2[n + m] == 1) ++cnt;
	printf("%d\n", cnt);
	for (int i = 1; i < n + m; ++i) {
		if (ans2[i] != ans2[i + 1]) printf("%d ", i);
	}
	if (ans2[n + m] == 1) printf("%d ", n + m);
	printf("\n");
	return 0;
}
