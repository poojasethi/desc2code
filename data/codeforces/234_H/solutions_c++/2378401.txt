#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<math.h>
using namespace std;

#define MAX 100005

int main()
{
   freopen("input.txt", "r", stdin);
   freopen("output.txt", "w", stdout);

   int m, n, i, j, k, d;
   int a[MAX], b[MAX], c[2*MAX];
   
   cin>>n;
   for(i=1; i<=n; i++) cin>>a[i];
   
   cin>>m;
   for(j=1; j<=m; j++) cin>>b[j];
    
   k = m+n;
   i = n; a[0] = 2;
   j = m; b[0] = 2;
   
   while (k>0)
   {
      if (a[i] == 0)
         c[k--] = i--;
      else if (b[j] == 0)
         c[k--] = n+(j--);
      else 
      {
          while (a[i] == 1)    
             c[k--] = i--;
          while (b[j] == 1)
             c[k--] = n+(j--);
      }  
   }
   
   for(k = 1; k<=n+m; k++)
   {
      cout<< c[k]<<" ";
      if (c[k]<=n)
         c[k] = a[c[k]];
      else
         c[k] = b[c[k]-n];
   }

   d = 0;
   for(k = 2; k<=n+m; k++)
      if (c[k]!= c[k-1]) d++;   
   if (c[n+m] == 1) d++;
   
   cout<<endl<<d<<endl;
   
   for(k = 2; k<=n+m; k++)
      if (c[k]!= c[k-1])    
         cout<< k-1<<" ";
         
   if (c[n+m] == 1) cout<<n+m;   

   //system("pause");
   return 0;
}
