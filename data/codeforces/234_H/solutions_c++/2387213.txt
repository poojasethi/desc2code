#include<iostream>
#include<stdio.h>
#include<vector>
#include<algorithm>
#define mp make_pair
using namespace std;
const int n_max=100005;
int a[n_max],b[n_max],n,m;
int i,x,y,k;

vector<pair<int,int> > v;


main()
{freopen("input.txt","r",stdin);
 freopen("output.txt","w",stdout);
 scanf("%d",&n);
 for(i=1;i<=n;i++)scanf("%d",&a[i]);
 scanf("%d",&m);
 for(i=1;i<=m;i++)scanf("%d",&b[i]);
 
 k=0;
 x=n;
 y=m;
 
 while(x>0 || y>0){
       while(x>0 && a[x]==k){v.push_back(mp(x,k));x--;}
       while(y>0 && b[y]==k){v.push_back(mp(n+y,k));y--;}
       
       k=1-k;
    }
 
 reverse(v.begin(),v.end());
 for(i=0;i<n+m-1;i++)cout<<v[i].first<<' ';
 cout<<v[n+m-1].first<<endl;
 
 v.push_back(mp(0,0));
 k=0;
 for(i=1;i<v.size();i++)
   if(v[i].second!=v[i-1].second)k++;
 cout<<k<<endl;
 for(i=1;i<v.size();i++)
   if(v[i].second!=v[i-1].second)cout<<i<<' ';
   cout<<endl;
// system("pause"); 
      
}
