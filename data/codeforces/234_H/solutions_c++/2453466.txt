#include <fstream>
#define  N 222222
using namespace std;
ifstream fi("input.txt");
ofstream fo("output.txt");
int a[N], b[N], c[N], ans[N], cnt, n, m, s[N], top;
int solve(int now){
    int x = 1, y = 1, k=0;
    while (x<=n || y<=m){
        while (x <= n && a[x] == now)c[++k] = now,ans[k] = x++;
        while (y <= m && b[y] == now)c[++k] = now,ans[k] = y++ + n;
        now = 1 - now;
    }
    int flag = c[1]; top = 0;
    for (int i=2; i<=m+n+1; i++){
        if (c[i-1] == c[i]) continue;
        flag = 1 - flag;
        s[top++] = i - 1;
    }
    return top;
}
int main(){
    fi >> n; for (int i=1; i<=n; i++) fi >> a[i];
    fi >> m; for (int i=1; i<=m; i++) fi >> b[i];
    if (solve(1) < solve (0)) solve(1); else solve(0);
    for (int i=1; i<=m+n; i++) fo << ans[i] << endl;
    fo << top << endl;
    for (int i=0; i<top; i++) fo << s[i] << endl;
    return 0;
}