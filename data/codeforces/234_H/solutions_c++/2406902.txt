#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int a[100001], b[100001], n, m;
int c[200001], opr[600001];

int main(){
	int i, j, k, t;
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
	scanf("%d", &n);
	for (i = 0; i < n; i++)
		scanf("%d", &a[i]);
	scanf("%d", &m);
	for (i = 0; i < m; i++)
		scanf("%d", &b[i]);
	t = 0;
	for (i = n - 1, j = m - 1, k = n + m - 1; i >= 0 && j >= 0;){
		if (a[i] != t && b[j] != t) t = 1 - t;
		if (a[i] == t) c[k--] = i--;
		if (b[j] == t) c[k--] = j-- + n;
	}
	while(i >= 0) c[k--] = i--;
	while(j >= 0) c[k--] = j-- + n;

	for (i = 0; i < n + m; i++){
		printf("%d ", c[i] + 1);
		if (c[i] < n) c[i] = a[c[i]];
		else c[i] = b[c[i] - n];
	}
	printf("\n");
	k = 0;
	for (i = 1; i < n + m; i++)
		if (c[i] != c[i - 1]) opr[k++] = i;
	if (c[n + m - 1] == 1) opr[k++] = n + m;
	printf("%d\n", k);
	for (i = 0; i < k; i++)
		printf("%d ", opr[i]);
	printf("\n");
	return 0;
}