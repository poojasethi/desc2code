#include <stdio.h>
#include <iostream>
#include <string.h>
#include <string>
#include <map>
#define clr(a,b) memset(a,b,sizeof(a))
using namespace std;

const int inf=0x3f3f3f3f;
int n,m;
int a[100005],b[100005],c[200005],d[200005];

int main(){
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    cin>>n;
    for(int i=1;i<=n;i++)cin>>a[i];
    cin>>m;
    for(int i=1;i<=m;i++)cin>>b[i];
    int j=n+m,now=0,la=n,lb=m,cnt=0;
    while(j){
        if(la&&a[la]==now)c[j--]=la--;
        else if(lb&&b[lb]==now)c[j--]=(lb--)+n;
        else {
            now^=1;
            d[cnt++]=j;
        }
    }
    for(int i=1;i<=n+m;i++){
        if(i>1)cout<<" ";cout<<c[i];
    }
    cout<<endl;
    cout<<cnt<<endl;
    for(int i=cnt-1;i>=0;i--){
        cout<<d[i];if(i)cout<<" ";
    }
    cout<<endl;
}
