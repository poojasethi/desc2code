#include<bits/stdc++.h>
using namespace std;
int n,k;
long long dp[100001][20];
long long b[100001][20];
int a[100001];
long long sum(int i,int k)
{
	long long s=0;
	while(i>0)
	{
		s+=b[i][k];
		i-=i&-i;
	}
	return s;
}
void add(int i,long long x,int k)
{
	while(i<=n)
	{
		b[i][k]+=x;
		i+=i&-i;
	}
}
int main()
{
	while(cin>>n>>k)
	{
		for(int i=1;i<=n;++i)
			cin>>a[i];
		memset(dp,0,sizeof(dp));
		memset(b,0,sizeof(b));
		long long ans=0;
		for(int i=1;i<=n;++i)
		{
			dp[a[i]][1]=1;
			add(a[i],1,1);
			for(int j=2;j<=k+1&&j<=i;++j)
			{
				dp[a[i]][j]=sum(a[i]-1,j-1);
				add(a[i],dp[a[i]][j],j);
			}
			ans+=dp[a[i]][k+1];
		}
		cout<<ans<<endl;
	}
	return 0;
}
	  		  	 		  			 				 	  			 	