//In the name of Allah

#include <bits/stdc++.h>
#define ll long long

using namespace std;

const int MAXN=40;
string s[MAXN][MAXN];

int main(){
	ifstream fin("input.txt");
    ofstream fout("output.txt");
	int n,m,k;
	fin>>n>>m>>k;
	string u;
	int x,y;
	for(int i=0;i<k;i++){
		fin>>u;
		if(u=="+1"){
			fin>>x>>y>>u;
			bool flag=false;
			for(int j=0;j<n;j++)
				for(int l=0;l<m;l++){
					if(s[j][l]=="" and flag==false)
					{
						if(j==x-1 and l>=y-1){
							s[j][l]=u;
							flag=true;
						//	cerr<<j<<' '<<l<<' '<<u<<endl;;
						}
						else if(j>x-1){
							s[j][l]=u;
							flag=true;
						//	cerr<<j<<' '<<l<<' '<<u<<endl;;
						}
					}
				}	
		}
		else{
			fin>>u;
			x=-1,y=-1;
			for(int j=0;j<n;j++)
				for(int l=0;l<m;l++)
					if(s[j][l]==u){
						x=j+1,y=l+1;
						s[j][l]="";
					}
			fout<<x<<' '<<y<<endl;
		}
	}
	return 0;
}
   				  	   	 	    	  	 	 	 		