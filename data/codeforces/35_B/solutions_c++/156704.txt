#include <map>
#include <set>
#include <list>
#include <cmath>
#include <queue>
#include <stack>
#include <bitset>
#include <vector>
#include <cstdio>
#include <string>
#include <sstream>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
using namespace std;
int N , M , K ;
string S , T[1000] ;

int main()
{
	freopen( "input.txt" , "r" , stdin ) ;
	freopen( "output.txt" , "w" , stdout ) ;
	cin >> N >> M >> K ;
	int P = N * M ;
	for ( ; K -- ; ) {
		int x , y ;
		cin >> S ;
		if ( S[0] == '+' ) {
			cin >> x >> y >> S ;
			x = ( x - 1 ) * M + ( y - 1 ) ;
			for ( ; x < P ; x ++ )
			if ( T[x] == "" ) {
				T[x] = S ;
				break ;
			}
		} else {
			cin >> S ;
			x = y = -1 ;
			for ( int i = 0 ; i < P ; i ++ )
			if ( T[i] == S ) {
				x = i / M + 1 ;
				y = i % M + 1 ;
				T[i] = "" ;
				break ;
			}
			cout << x << " " << y << endl ;
		}
	}
	return 0 ;
}
