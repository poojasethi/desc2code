#include<cstdio>
#include<algorithm>
using namespace std;
double x[100001][101],tmp[101];
double C(int a,int b){
	double x =1.0L;
	for(int i=1;i<=b;++i)
		x=x*a--/i;
	return x;
}
int a[102400],b[102400],u,v,k,q;
int main(){
	int n;
	double ans =0;
	scanf("%d",&n);
	for(int i=1;i<=n;++i){
		scanf("%d",a+i);
		x[i][b[i]=a[i]]=1.0;
		if(!a[i])ans+=1;
	}
	for(scanf("%d",&q);q--;printf("%.15lf\n",ans)){
		scanf("%d%d%d",&u,&v,&k);
		fill(tmp,tmp+b[u]+1,0.0);
		for(int i=0;i<=b[u]&&i<=a[u];++i)
		for(int j=0;j<=k&&j<=i;++j)if(a[u]-i>=k-j)
			tmp[i-j]+=x[u][i]*C(i,j)*C(a[u]-i,k-j)/C(a[u],k);
		ans+=tmp[0]-x[u][0];
		for(int j=0;j<=b[u];++j)x[u][j]=tmp[j];
		a[u]-=k;a[v]+=k;
	}
}
