#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <algorithm>
#include <cstring>
#include <cmath>
#include <string>
using namespace std;
const int Maxn=100005,Maxa=105;
int n,q,a[Maxn],maxa[Maxn];
double p[Maxn][Maxa],ans=0;

inline int get() {
    char ch;
    while (!isdigit(ch=getchar()));
    int v=ch-48;
    while (isdigit(ch=getchar())) v=v*10+ch-48;
    return v;
}

int main() {
    n=get();
    for (int i=1;i<=n;i++)
        p[i][maxa[i]=a[i]=get()]=1,a[i]==0?++ans:0;
    for (q=get();q;q--) {
        int u=get(),v=get(),k=get(),t=k;
        double *f=p[u];
        ans-=f[0];
        while (k--) {
            for (int j=0;j<=maxa[u];j++)
                f[j]=(a[u]-j)*f[j]/a[u]+(j+1)*f[j+1]/a[u];
            --a[u];
        }
        a[v]+=t;
        ans+=f[0];
        printf("%.10lf\n",ans);
    }
    return 0;
}