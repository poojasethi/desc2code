#include<cstdio>
#include<cstdlib>
#include<algorithm>
#define foru(i,a,b) for(int i=a;i<=b;++i)
#define S(a) scanf("%d",&a)

using namespace std;
double ans,f[100010][110];
int n,m,a[100010],b[100010],aa,bb,cc;
int min(int a,int b){return a<b?a:b;}
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	S(n);
	foru(i,1,n) S(a[i]),f[i][a[i]]=1,b[i]=a[i],ans+=!a[i];
	S(m);
	while(m--)
	{
		S(aa),S(bb),S(cc);
		
		foru(i,1,cc)
		{
			ans-=f[aa][0];
			foru(j,0,min(b[aa],a[aa])) f[aa][j]=(f[aa][j]*(a[aa]-j)+f[aa][j+1]*(j+1))/a[aa];
			--a[aa];
			ans+=f[aa][0];
		}
		//printf("%lf\n",f[aa][0]);
		 a[bb]+=cc;
		printf("%.10lf\n",ans);
	}
	return 0;
}
