#include <iostream>
#include <cstdio>
#include <algorithm>
#define rep(i,a,b) for(int i = a; i <= b; i++)
#define dep(i,a,b) for(int i = a; i >= b; i--)
using namespace std;
const int N = 100010;
int a[N], b[N];
double f[N][102];
int main(){
	int n; scanf("%d",&n);
	double ans = 0;
	rep(i,1,n) {
		scanf("%d",&a[i]), f[i][a[i]] = 1;
		b[i] = a[i];
		ans += f[i][0];
	}

	int q; scanf("%d",&q);
	rep(i,1,q){
		int x, y, k; scanf("%d%d%d",&x,&y,&k);
		int k1 = k;
		ans -= f[x][0];
		while (k--){
			rep(j,0,b[x])
				f[x][j] = f[x][j] *(double) (a[x] - j) / a[x] + f[x][j + 1] * (double)(j + 1) / a[x];
			a[x]--;
		}
		a[y] += k1;
		ans += f[x][0];
		printf("%.12lf\n",ans);
	}
}
