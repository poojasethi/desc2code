#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int N=100005;
const double eps=1e-9;
int w[N],u,v,k,n,m,a[N];
double ans,f[N][105];
int main(){
    scanf("%d",&n);
    for (int i=1;i<=n;i++) scanf("%d",&w[i]),f[i][w[i]]=1,ans+=f[i][0],a[i]=w[i];
    scanf("%d",&m);
    for (int i=1;i<=m;i++){
        scanf("%d%d%d",&u,&v,&k);
        ans-=f[u][0];
        for (int t = 1;t <= k;t++){
            for (int i = 0;i <= a[u];i++)
				f[u][i] = f[u][i]*(w[u]-i)/w[u]+f[u][i+1]*(i+1)/w[u];
			w[u]--;
        }
        w[v]+=k;
        ans+=f[u][0];
        printf("%.10f\n",ans);
    }
    return 0;
}
