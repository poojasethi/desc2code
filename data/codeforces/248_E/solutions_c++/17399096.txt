#include <stdio.h>

double f[100005][105];
double ans = 0;
int n, a[100005], b[100005], q;

int main()
{
	scanf("%d",&n);
	for(int i = 1; i <= n; i++)
	{
		scanf("%d",&a[i]);
		f[i][a[i]] = 1.0;
		ans += f[i][0];
		b[i] = a[i];
	}
	scanf("%d",&q);
	for(int i = 1; i <= q; i++)
	{
		int u, k, v;
		scanf("%d%d%d",&u,&v,&k);
		ans -= f[u][0];
		int tmp = b[u];
		for(int j = 0; j < k; j++)
		{
			for(int w = 0; w <= a[u]; w++)
				f[u][w] = f[u][w] * (tmp - w) / tmp + f[u][w+1] * (w + 1) / tmp;
			tmp--;
		}
		ans += f[u][0];
		b[u] -= k; b[v] += k;
		printf("%.15lf\n",double(ans));
	}
	return 0;
}