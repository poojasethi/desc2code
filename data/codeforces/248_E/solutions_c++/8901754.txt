#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cmath>
#include <cctype>
#include <algorithm>
#include <iostream>
using namespace std;

typedef long double LD;

const int N=100000+5;
const int V=100+5;

int n,m,a[N],b[N];
LD ans,p[N][V];

int main(int argc,char **argv)
{
	#ifndef ONLINE_JUDGE
		if (argc==1) freopen("248E.in","r",stdin),freopen("248E.out","w",stdout);
		else freopen(argv[1],"r",stdin),freopen(argv[2],"w",stdout);
	#endif
	int x,y,w;
	scanf("%d",&n);
	for (int i=1;i<=n;++i) scanf("%d",&a[i]),p[i][b[i]=a[i]]=1.0;
	for (int i=1;i<=n;++i) ans+=p[i][0];
	scanf("%d",&m);
	for (int i=1;i<=m;++i)
	{
		scanf("%d%d%d",&x,&y,&w);
		ans-=p[x][0];
		for (int k=1,t=a[x];k<=w;++k,--t)
			for (int j=0;j<=b[x];++j)
				p[x][j]=p[x][j]*(t-j)/(LD)t+p[x][j+1]*(j+1)/(LD)t;
		ans+=p[x][0];
		a[x]-=w;a[y]+=w;
		printf("%.10f\n",(double)ans);
	}
	return 0;
}
