#include <stdio.h>
#include <string.h>
#include <algorithm>
using namespace std;
double f[101010][102];
int a[101010], b[101010];
int main()
{
	int n;
	scanf("%d", &n);
	double ans = 0;
	for (int i = 1; i <= n; i++)
		scanf("%d", a + i), f[i][a[i]] = 1., b[i] = a[i], ans += f[i][0];
	int q;
	scanf("%d", &q);
	for (int i = 0; i < q; i++)
	{
		int u, v, k;
		scanf("%d%d%d", &u, &v, &k);
		ans -= f[u][0];
		for (int j = 0; j < k; j++, b[u]--)
			for (int l = 0; l <= a[u]; l++)
				f[u][l] = (f[u][l] * (b[u] - l) + f[u][l + 1] * (l + 1)) / b[u];
		ans += f[u][0];
		b[v] += k;
		printf("%.15f\n", ans);
	}
}
