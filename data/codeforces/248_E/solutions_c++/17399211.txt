#include<iostream>
#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<algorithm>
#include<iomanip>
using namespace std;
int n;
const int maxn=101010;
int a[maxn],b[maxn];
double f[maxn][105];
int q;
void init()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		scanf("%d",&a[i]);
		//cin>>a[i];
		b[i]=a[i];
	}
	scanf("%d",&q);
	//cin>>q;
	for(int i=1;i<=n;i++)
		f[i][a[i]]=1;
}
void work()
{
	double ans=0;
	for(int i=1;i<=n;i++)
		ans+=f[i][0];
	//cout<<fixed<<setprecision(10);
	for(int i=1;i<=q;i++)
	{
		int u,v,K;
		cin>>u>>v>>K;
		double *fu=f[u];
		ans-=fu[0];
		for(int k=1;k<=K;k++)
		{
			fu[0]+=fu[1]/b[u];
			for(int j=1;j<=a[u]&&j<=b[u];j++)
				fu[j]=(j+1)*fu[j+1]/b[u]+fu[j]*(b[u]-j)/b[u];
			b[u]--;
		}
		b[v]+=K;
		ans+=fu[0];
		//cout<<ans<<endl;
		printf("%.10lf\n",ans);
	}
}
int main()
{
	//ios::sync_with_stdio(false);
	init();
	work();
	return 0;	
}