#include <iostream>
#include <stdio.h>
#include <algorithm>
using namespace std;

const int maxn=100005;
double dp[maxn][105];
int a[maxn],b[maxn];

int main()
{
	int n,i,j,q,u,v,k,t;double ans=0.0;
	cin>>n;//memset(dp,0,sizeof(dp));
	for(i=1;i<=n;i++) {
		scanf("%d",&a[i]);b[i]=a[i];
		dp[i][0]=0;dp[i][a[i]]=1.0;
		ans+=dp[i][0];
	}
	cin>>q;
	for(i=1;i<=q;i++) {
		scanf("%d%d%d",&u,&v,&k);
		ans-=dp[u][0];t=0;
		while(k--) {
			for(j=0;j<=b[u];j++) dp[u][j]=dp[u][j]*(a[u]-j)/a[u]+dp[u][j+1]*(j+1)/a[u];
			a[u]--;t++;
		}
		ans+=dp[u][0];a[v]+=t;
		printf("%.10lf\n",ans);
	}
	return 0;
}

 			 		 		   	 	  	   	 	 		