#include <cstdio>
#include <algorithm>

using namespace std;

const int N = 100010;

int n, m, a[N], t[N];
double P[N][110], ans;

int main() {
	scanf("%d", &n);
	for (int i = 1; i <= n; ++i) {
		scanf("%d", a + i);
		P[i][t[i] = a[i]] = 1.0;
		ans += P[i][0];
	}
	scanf("%d", &m);
	for (int im = 1; im <= m; ++im) {
		int u, v, k;
		scanf("%d %d %d", &u, &v, &k);
		double *f = P[u];
		ans -= f[0];
		for (int i = 1; i <= k; ++i) {
			for (int j = 1; j <= t[u] && j <= a[u]; ++j) {
				f[j - 1] += f[j] * j / a[u];
				f[j] *= 1.0 * (a[u] - j) / a[u];
			}
			a[u]--;
		}
		ans += f[0];
		a[v] += k;
		printf("%.10lf\n", ans);
	}
}
