#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <algorithm>
#include <cstring>
#include <cmath>
#include <queue>
#ifdef WIN32
#define TAT "%I64d"
#else
#define TAT "%lld"
#endif 
#define int64 long long

using namespace std;

int n,a[100100],size[100100];
double f[100100][110],ans;

int main()
{
	cin >> n;
	for (int i = 1;i <= n;i++)    scanf("%d",&a[i]),f[i][a[i]] = 1,ans += f[i][0],size[i] = a[i];
	int Q = 0,u,v,k;
	cin >> Q;
	while (Q--)
		{
			scanf("%d %d %d",&u,&v,&k);
			ans -= f[u][0];
			for (int t = 1;t <= k;t++)
				{
					for (int i = 0;i <= a[u];i++)
						f[u][i] = f[u][i] * (size[u] - i) / size[u] + f[u][i + 1] * (i + 1) / size[u];
					size[u]--;
				}
			size[v] += k;
			ans += f[u][0];
			printf("%.10lf\n",ans);
		}
}
