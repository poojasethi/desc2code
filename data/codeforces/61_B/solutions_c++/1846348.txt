#include <cctype>
#include <string>
#include <iostream>
using namespace std;

void g(string &a) {
	int i = 0;

	while (i < (int)a.size())
		if (!isalpha(a[i]))
			a.erase(i, 1);
		else {
			a[i] = tolower(a[i]);
			++i;
		}
}

int main() {
	string a, b, c, x;
	int n;
	string t[6];
	bool f;

	cin >> a;
	cin >> b;
	cin >> c;
	g(a);
	g(b);
	g(c);

	t[0] = a + b + c;
	t[1] = a + c + b;
	t[2] = b + a + c;
	t[3] = b + c + a;
	t[4] = c + a + b;
	t[5] = c + b + a;

	cin >> n;
	for (int i = 0; i < n; ++i) {
		cin >> x;
		g(x);

		f = false;
		for (int j = 0; j < 6; ++j)
			if (x == t[j]) {
				f = true;
				break;
			}

		if (f)
			cout << "ACC\n";
		else
			cout << "WA\n";
	}

	return 0;
}
