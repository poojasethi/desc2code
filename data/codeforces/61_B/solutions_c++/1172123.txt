#include <iostream>

using namespace std;

char lc (char c)
{
	if (c >= 'A' && c <= 'Z')
		return c-'A'+'a';
	return c;
}

string check(string s)
{
	string temp = "";
	for (int i = 0 ; i < s.size() ; i++)
		if (s[i] != '-' && s[i] != ';' && s[i] != '_')
			temp += lc(s[i]);
	return temp;
}

int main()
{
	int N;
	string s[3], str;
	for (int i = 0 ; i < 3 ; i++)
	{
		cin >> s[i];
		s[i] = check(s[i]);
	}
	cin >> N;
	for (int i = 0 ; i < N ; i++)
	{
		cin >> str;
		str = check(str);
		if (s[0]+s[1]+s[2] == str || s[0]+s[2]+s[1] == str || s[1]+s[0]+s[2] == str || s[1]+s[2]+s[0] == str || s[2]+s[0]+s[1] == str || s[2]+s[1]+s[0] == str)
			cout << "ACC" << endl;
		else
			cout << "WA" << endl;
	}
	return 0;
}
