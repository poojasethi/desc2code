//In the Name of God

#include<iostream>
#include<vector>

using namespace std;

const int maxn=101000; 
string s1,s2,s3,s[maxn],t[10];
int a[maxn],n;

string f(string t)
{
  string ret;
  for(int i=0;i<t.size();i++)
    if(t[i]!='-' && t[i]!='_' && t[i]!=';')
      ret+=(char)(tolower(t[i]));
  return ret;
}

int main()
{
  cin>>s1>>s2>>s3;
  s1=f(s1);
  s2=f(s2);
  s3=f(s3);
  cin>>n;
  t[0]=s1+s2+s3;
  t[1]=s3+s1+s2;
  t[2]=s2+s3+s1;
  t[3]=s1+s3+s2;
  t[4]=s2+s1+s3;
  t[5]=s3+s2+s1;

  for(int i=0;i<n;i++)
    {
      cin>>s[i];
      s[i]=f(s[i]);
    }
  for(int i=0;i<n;i++)
    for(int j=0;j<6;j++)
      if(s[i]==t[j])
	{
	  a[i]++;
	  break;
	}
  for(int i=0;i<n;i++)
    if(a[i]==1)
      cout<<"ACC"<<endl;
    else
      cout<<"WA"<<endl;
  return 0;
}
