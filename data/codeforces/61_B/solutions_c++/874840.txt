#include <iostream> 
#include <vector>
#include <map>
#include <cmath>
#include <algorithm>
using namespace std;
void ok(string &s){
 int len=s.length();
 for(int i=0;i<len;i++)
  if(s[i]=='_' || s[i]==';' || s[i]=='-'){s.erase(s.begin()+i);i--;}
  else {s[i]=tolower(s[i]);} 
}
int main(){
 int n;
 string f,s,t;
 cin>>f>>s>>t>>n;
 ok(f);ok(s);ok(t);
 
 for(int i=0;i<n;i++){
  string temp;
  cin>>temp;
  ok(temp);
  if(temp==f+s+t || temp==f+t+s || temp==s+f+t || temp==s+t+f || temp==t+f+s ||temp==t+s+f)
  cout<<"ACC"<<endl;
  else cout<<"WA"<<endl; 
 } 
 return 0;  
} 