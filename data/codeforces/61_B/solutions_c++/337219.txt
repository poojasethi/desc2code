#include <iostream>
#include <cctype>
#include <set>
using namespace std;

void fix(string & s) {
	string t = "";
	for (int i = 0; i < s.length(); i++) {
		if (isalpha(s[i])) {
			t += tolower(s[i]);
		}
	}
	s = t;
}

int main() {
	string a, b, c;
	cin >> a >> b >> c;

	fix(a); fix(b); fix(c);

	set<string> ok;
	ok.insert(a+b+c);
	ok.insert(a+c+b);
	ok.insert(b+a+c);
	ok.insert(b+c+a);
	ok.insert(c+a+b);
	ok.insert(c+b+a);

	int n;
	cin >> n;
	for (int i = 0; i < n; i++) {
		string s;
		cin >> s;
		fix(s);
		cout << (ok.find(s) != ok.end() ? "ACC" : "WA") << endl;
	}
	return 0;
}


