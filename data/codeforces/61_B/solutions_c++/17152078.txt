#include <iostream>
#include <cstdio>
#include <string>
using namespace std;
int n;
string s, a, b, c;

string convert(string s)
{
	string t;
	for (int i = 0; s[i]; i++) {
		if (s[i] >= 'A' && s[i] <= 'Z')
			t += 'a' + s[i] - 'A';
		else if (s[i] >= 'a' && s[i] <= 'z')
			t += s[i];
	}
	return t;
}
	
int main() {
	cin >> a >> b >> c >> n;
	a = convert(a);
	b = convert(b);
	c = convert(c);
	while (n--) {
		cin >> s;
		s = convert(s);
		if (s == a + b + c || s == a + c + b || s == b + a + c
		 || s == b + c + a || s == c + a + b || s == c + b + a)
		 	cout << "ACC\n";
		else
			cout << "WA\n";
	}
	
	return 0;
}