#include <iostream>
#include <algorithm>
#include <string>
#include <cctype>
#include <vector>
using namespace std;

string fix(string s) {
	string r;
	for(size_t i=0; i<s.size(); ++i) {
		char c = s[i];
		if (c=='_' || c=='-' || c==';') continue;
		r.push_back(tolower(c));
	}
	return r;
}

int main()
{
	string ss[3];
	for(int i=0; i<3; ++i) {
		string s;
		cin>>s;
		ss[i] = fix(s);
	}
	vector<string> v;
	sort(ss,ss+3);
	do {
		string s;
		for(int i=0; i<3; ++i) s+=ss[i];
		v.push_back(s);
	} while(next_permutation(ss,ss+3));
	int n;
	cin>>n;
	for(int i=0; i<n; ++i) {
		string s;
		cin>>s;
		s = fix(s);
		if (find(v.begin(), v.end(), s) != v.end())
			cout<<"ACC\n";
		else cout<<"WA\n";
	}
}
