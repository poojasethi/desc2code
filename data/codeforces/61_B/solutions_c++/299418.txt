#include <iostream>
#include <cstdio>
#include <string>


using namespace std;


string s1, s2, s3, s;


void make(string &s)
{
	string p;
	
	for (int i=0; i<s.size(); i++)
	{
		s[i] = toupper(s[i]);
		if (s[i] != '_' && s[i] != ';' && s[i] != '-')
			p += s[i];
	}
	
	s = p;
}


void match(string &s)
{
	make(s);
	
	if (s == s1 + s2 + s3 || s == s1 + s3 + s2 || 
		s == s2 + s1 + s3 || s == s2 + s3 + s1 ||
		s == s3 + s1 + s2 || s == s3 + s2 + s1)		cout << "ACC";
	else
		cout << "WA";
}


int n;


int main()
{
	//freopen("input.txt", "r", stdin);
	
	getline(cin, s1);
	getline(cin, s2);
	getline(cin, s3);
	
	make(s1);
	make(s2);
	make(s3);
	
	scanf("%d\n", &n);
	
	for (int i=1; i<=n; i++)
	{
		getline(cin, s);
		match(s);
		cout << endl;
	}
}
