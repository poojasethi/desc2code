#include <iostream>

using namespace std;

void delsign(string& x) {
  int n = x.size();
  for (int i = 0; i < n; i++)
    if (x[i] == ';' || x[i] == '-' || x[i] == '_') {
      x.erase(i, 1);
      i--;
      n--;
    }
    else
      if (x[i] >= 'a')
        x[i] -= ('a' - 'A');
}

int main() {
  string a, b, c;
  cin >> a >> b >> c;
  int n;
  cin >> n;
  
  delsign(a);
  delsign(b);
  delsign(c);
  
  string m[6] = {a + b + c, a + c + b, b + a + c, b + c + a, c + a + b, c + b + a};
  
  for (int i = 0; i < n; i++) {
    string x;
    cin >> x;
    delsign(x);
    cout << (x == m[0] || x == m[1] || x == m[2] || x == m[3] || x == m[4] || x == m[5]? "ACC": "WA") << endl;
  }
}