#include <bits/stdc++.h>
using namespace std;

int main(){
  int n;
  string arr[3];
  for (int i = 0; i < 3; i++){
    cin >> arr[i];
    for (int j = 0; j < arr[i].size(); j++)
      (!isalpha(arr[i][j]))? (arr[i].erase(arr[i].begin() + j), j--): arr[i][j] = tolower(arr[i][j]);
  }
  sort(arr, arr + 3);
  cin >> n;
  for (int i = 0; i < n; i++){
    bool flag = 0;
    string tmp;
    cin >> tmp;
    for (int j = 0; j < tmp.size(); j++)
      (!isalpha(tmp[j]))? (tmp.erase(tmp.begin() + j), j--): tmp[j] = tolower(tmp[j]);
    do{
      string str;
      for (int j = 0; j < 3; j++)
        str += arr[j];
      if (str == tmp)
        flag = 1;
    }
    while(next_permutation(arr, arr + 3));
    (flag)? puts("ACC"): puts("WA");
  }
}