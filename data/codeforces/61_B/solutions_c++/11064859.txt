#include<iostream>
#include<math.h>
#include<algorithm>
#include<stdio.h>
#include<map>
#include<vector>
#include<set>
#define F first
#define S second
#define P system("PAUSE");
#define H return 0;
#define pb push_back
using namespace std;
const long long A=100000000000000LL,N=10000;

string a,b,c,o;
long long i,j,n,m;

string is(string a){
	string o;
	long long n=a.size();
	for(int i=0;i<n;i++)if(a[i]!='-' && a[i]!=';' && a[i]!='_'){
		if(a[i]>='A' && a[i]<='Z')o+=(a[i]-'Z')+'z';else o+=a[i];
	}
	return o;
}

int main(){
	cin>>a;a=is(a);
	cin>>b;b=is(b);
	cin>>c;c=is(c);
	cin>>m;
	for(i=0;i<m;i++){
		cin>>o;o=is(o);
		if(o==a+b+c || o==a+c+b || o==b+a+c || o==b+c+a || o==c+b+a || o==c+a+b)cout<<"ACC\n";else cout<<"WA\n";
	}
}
