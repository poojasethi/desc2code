#include <vector>
#include <algorithm>
#include <cstdio>
#include <string>

using namespace std;

int n;
string a[3];

void readword(string &s) {
	char buf[1024];
	fgets(buf, sizeof(buf), stdin);
	for(char *p = buf; *p; p++)
		if(isalpha(*p)) s.push_back(tolower(*p));
}

int main(void) {
	vector<int> p;
	for(int i = 0; i < 3; i++) readword(a[i]), p.push_back(i);
	scanf("%d\n", &n);
	while(n--) {
		bool ac = false;
		string s;
		readword(s);
		do {
			string t;
			for(int i = 0; i < 3; i++) t += a[p[i]];
			ac |= t == s;
		} while(next_permutation(p.begin(), p.end()));
		printf("%s\n", ac ? "ACC" : "WA");
	}

	return 0;
}
