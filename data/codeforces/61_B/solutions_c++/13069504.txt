#include<bits/stdc++.h>
#include<string.h>
using namespace std;
typedef long long ll;
char ax[1005],b[1005],c[1005];
string get(char *a)
{
	int i,in;
in =0;
	for(i=0;a[i];i++)
{
	if(islower(a[i]))a[in++] = a[i];
	else if(isupper(a[i]))a[in++] = a[i]-'A' + 'a';
}
a[in] = 0;
return a;
}
string s[6];
int main()
{
scanf("%s%s%s",&ax,&b,&c);

string aa,bb,cc;
aa = get(ax);
bb = get(b);
cc = get(c);
s[0] = aa + bb + cc;
s[1] = aa + cc + bb;
s[2] = bb + aa + cc;
s[3] = bb + cc + aa;
s[4] = cc + aa + bb;
s[5] = cc + bb + aa;
int m;
scanf("%d",&m);
char ss[1005];
while(m--)
{
	scanf("%s",&ss);
	string t = get(ss);
	int valid = 0;
	int i;
	for(i=0;i<6;i++)
	if(t==s[i])valid = 1;
	if(valid)printf("ACC\n");
	else printf("WA\n");
}

}