#include <bits/stdc++.h>

using namespace std;

string conv(string s){
  string ret;
  for(int i = 0; i < (int)s.size(); i++){
    if(isalpha(s[i])){
      ret += tolower(s[i]);
    }
  }
  return ret;
}

int main(){
  string arr[4], str;
  set<string> s;
  int n;

  for(int i = 0; i < 3; i++){
    cin >> arr[i];
    arr[i] = conv(arr[i]);
  }

  scanf("%d\n", &n);

  sort(arr, arr + 3);
  do{
    s.insert(arr[0] + arr[1] + arr[2]);
  }while(next_permutation(arr, arr + 3));

  while(n--){
    cin >> str;
    str = conv(str);
    puts(s.count(str) ? "ACC" : "WA");
  }

  return 0;
}
