#include <iostream>
#include <string>
#include <set>

using namespace std;

string S[3];
int N;
set<string> dict;

string fix(string s)
{
	string ret;
	for (int i=0;i<s.size();i++)
		if (isalpha(s[i]))
			ret+=toupper(s[i]);
	return ret;
}

void init()
{
	S[0]=fix(S[0]);
	S[1]=fix(S[1]);
	S[2]=fix(S[2]);
	for (int i=0;i<3;i++)
		for (int j=0;j<3;j++)
			for (int k=0;k<3;k++)
				if (i!=j&&i!=k&&j!=k)
					dict.insert(S[i]+S[j]+S[k]);
}

int main()
{
	cin >> S[0] >> S[1] >> S[2] >> N;
	init();
	for (int i=0;i<N;i++)
	{
		string ans;
		cin >> ans;
		if (dict.count(fix(ans)))
			cout << "ACC" << endl;
		else
			cout << "WA" << endl;
	}
	return 0;
}