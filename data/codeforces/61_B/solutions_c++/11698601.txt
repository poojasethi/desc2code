#include <bits/stdc++.h>
using namespace std;

string convert(string s){
    string ret="";
    for(int i=0;s[i];i++){
        if(s[i]==';' || s[i]=='-' || s[i]=='_' )continue;
        ret+=tolower(s[i]);
    }
    return ret;
}
int main(){
    string a,b,c,temp;
    int n;
    cin>>a>>b>>c;

    a=convert(a);
    b=convert(b);
    c=convert(c);


    cin>>n;
    string all;
    while(n--){
        cin>>all;
        all=convert(all);

        if( all==a+b+c ||  all==a+c+b || all==b+a+c || all==b+c+a || all==c+a+b || all==c+b+a)cout<<"ACC\n";
        else cout<<"WA\n";
    }
}
