#include<bits/stdc++.h>
using namespace std;
string to_lower(string s){
    char c;
    for(int i=0;i<s.size();i++){
        c=s[i];
        if(c>='A'&&c<='Z')s[i]+=32;
        else if(c==';'||c=='_'||c=='-'){
            s.erase(i,1);
            i--;
        }
    }
    return s;
}
bool match(string x,string a,string b,string c){
    if(x==a+b+c||x==a+c+b||x==b+a+c||x==b+c+a||x==c+a+b||x==c+b+a)return 1;
    return 0;
}
int main(){
    string a,b,c,x;
    cin>>a>>b>>c;
    a=to_lower(a);b=to_lower(b);c=to_lower(c);
    int n;cin>>n;
    for(int i=1;i<=n;i++){
        cin>>x;
        x=to_lower(x);
        //cout<<x<<endl<<a<<endl<<b<<endl<<c<<endl;
        if(match(x,a,b,c))cout<<"ACC\n";
        else cout<<"WA\n";
    }
}