#include <iostream>
#include <string>

using namespace std;

void RemoveSigns(string &z){
    string s;
    for (int i = 0; i < z.size(); i++){
        if (z[i] != '-' && z[i] != '_' && z[i] != ',' && z[i] != ';'){
            s += tolower(z[i]);
        }
    }
    z = s;
}

int main(){
    string a, b, c;
    int n;
    cin >> a >> b >> c >> n;
    RemoveSigns(a); 
    RemoveSigns(b); 
    RemoveSigns(c);
    
    for (int i = 0; i < n; i++){
        string z;
        cin >> z;
        RemoveSigns(z);

        if (z == a + b + c || z == a + c + b || z == b + a + c || z == b + c + a || z == c + a + b || z == c + b + a){
            cout << "ACC" << endl;
        }
        else{
            cout << "WA" << endl;
        }
    }
}
