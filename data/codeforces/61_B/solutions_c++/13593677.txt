#include<bits/stdc++.h>
using namespace std;


string filter(string s)
{
	string st="";
	for(int i=0;i<s.length();i++)
	{
		if(s[i]!='-'&&s[i]!='_'&&s[i]!=';')
		{
			st+=char(tolower(s[i]));
		}
	}
	return st;
}

int main()
{
	string s,input[3],all[6];
	int stud;
	for(int i=0;i<3;i++)
	{
		cin>>s;
		input[i]=filter(s);
	}
	sort(input,input+3);
	int cnt=0;
	do
	{
		all[cnt++]=input[0]+input[1]+input[2];
	}
	while(next_permutation(input,input+3));
	cin>>stud;
	while(stud--)
	{
		cin>>s;
		s=filter(s);
		for(int i=0;i<6;i++)
		{
			if(s==all[i])
			{
				cout<<"ACC\n";
				goto end;
			}
		}
		cout<<"WA\n";
		end:;
	}
	
    return 0;
}
