a = [raw_input() for x in range(3)]
def f(s):
  for c in '-;_': s=s.replace(c,'')
  return s.lower()
a,b,c=map(f,a)
r = set([a+b+c,a+c+b,b+a+c,b+c+a,c+b+a,c+a+b])
print "\n".join(['ACC' if f(raw_input()) in r else 'WA' for i in xrange(input())])

