from re import sub
from itertools import permutations
f=lambda x: sub(r"[\-;_\r]","",x).lower()
s1=f(raw_input())
s2=f(raw_input())
s3=f(raw_input())
for i in range(int(raw_input())):
    r=f(raw_input())
    flag=0
    for j in permutations(sorted([s1,s2,s3])):
        if r=="".join(j):
            flag=1
            break
    print "ACC" if flag else "WA"