#!/usr/bin python
from itertools import permutations

rubbish = set([',', '-', ';', '_'])
def remove(s):
    return ''.join((chr(ord(t)|0x20) for t in s if t not in rubbish))

def getcat():
    return permutations(remove(raw_input()) for _ in xrange(3)) 

lex = set(''.join(f) for f in getcat())
for _ in xrange(int(raw_input())):
    print ['WA', 'ACC'][remove(raw_input()) in lex] 