#!/usr/bin/env python

from itertools import *
s = [raw_input() for _ in range(3)]
n = int(raw_input())
p = [raw_input() for _ in range(n)]

for i in range(3):
    s[i] = s[i].lower().replace('_','').replace(';','').replace('-','')

q = [''.join(x) for x in permutations(s,3)]

for i in range(n):
    p[i] = p[i].lower().replace('_','').replace(';','').replace('-','')
    if p[i] in q:
        print 'ACC'
    else:
        print 'WA'



