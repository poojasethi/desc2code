#!/usr/bin/python

import itertools as itt

def rmsp(s):
    a = ''
    for i in s:
        if i not in '-_;':
            a+=i
    return a.lower()

def main():
    s1,s2,s3 = raw_input(),raw_input(),raw_input()
    s = [rmsp(i+j+k) for i,j,k in itt.permutations([s1,s2,s3],3)]
    n = int(raw_input())
    for i in xrange(n):
        if rmsp(raw_input()) not in s:
            print 'WA'
        else:
            print 'ACC'
        

if __name__ == '__main__':
    main()
