#!/usr/bin/env python
# -*- coding: utf-8 -*-

def cls(s):
    return s.lower().replace('-', '').replace(';', '').replace('_', '')

def test(s, src):
    for i in xrange(len(src)):
        for j in xrange(len(src)):
            for k in xrange(len(src)):
                if i != j and i != k and j != k and s == src[i]+src[j]+src[k]:
                    return True
    return False

def main():
    src = [cls(raw_input()) for i in xrange(3)]
    n = int(raw_input())
    for i in xrange(n):
        print "ACC" if test(cls(raw_input()), src) else "WA"
    return 0

if __name__ == '__main__':
    main()
