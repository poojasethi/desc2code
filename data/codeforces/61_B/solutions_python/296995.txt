from itertools import *
a, b, c = raw_input (), raw_input (), raw_input ()
f = lambda s: ''.join ([i for i in s if i not in '-;_']).lower ()
s = [f (i + j + k) for i, j, k in permutations ([a, b, c], 3)]
for _ in xrange (input ()):
    print 'ACC' if f(raw_input ()) in s else 'WA'
