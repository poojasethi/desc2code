def f(s):
	return s.replace(';', '').replace('_', '').replace('-', '').lower()

s1 = f(raw_input())
s2 = f(raw_input())
s3 = f(raw_input())
for i in range(int(raw_input())):
	s = f(raw_input())
	if s == s1+s2+s3:
		print 'ACC'
	elif s == s1+s3+s2:
		print 'ACC'
	elif s == s2+s1+s3:
		print 'ACC'
	elif s == s2+s3+s1:
		print 'ACC'
	elif s == s3+s2+s1:
		print 'ACC'
	elif s == s3+s1+s2:
		print 'ACC'
	else:	
		print 'WA'

