def trim(s):
    return s.replace('_', '').replace(';', '').replace('-', '').lower()
   
s1, s2, s3 = trim(raw_input()), trim(raw_input()), trim(raw_input())
s = set([s1+s2+s3, s2+s1+s3, s1+s3+s2, s2+s3+s1, s3+s1+s2, s3+s2+s1])
for i in range(int(raw_input())):
    print 'ACC' if trim(raw_input()) in s else 'WA'