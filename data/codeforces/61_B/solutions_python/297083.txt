#!/usr/bin/python
import math, random, re, sys

def reads ():
	global r
	s = sys.stdin.readline ().strip ().lower ()
	return re.sub (r, '', s)

def check ():
	global t
	s = reads ()
	if s in t:
		print 'ACC'
	else:
		print 'WA'

r = re.compile ('[-;_]')
a, b, c = reads (), reads (), reads ()
t = [a + b + c, a + c + b, b + a + c, b + c + a, c + a + b, c + b + a]
n = int (sys.stdin.readline ())
for i in range (n):
	check ()
