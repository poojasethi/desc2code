ORIGINAL = []
def process(s):
	for c in ['_', '-', ';']:
		s = s.replace(c, '')
	return s.lower()
for i in xrange(3):
	ORIGINAL.append(process(raw_input()))

import itertools
join = lambda arr: "".join(arr)
possibilities = set(map(join,itertools.permutations(ORIGINAL,3)))
for i in xrange(input()):
	print "WA" if process(raw_input()) not in possibilities else "ACC"