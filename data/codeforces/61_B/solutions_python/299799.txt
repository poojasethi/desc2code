def foo(s):
    r, tp='', '-_;'
    for i in s:
        if i not in tp: r+=i
    return r.lower()
s = sorted([foo(raw_input()) for i in range(3)], key=len, reverse=True)
slen = sum(map(len,s))
n = int(raw_input())
for i in range(n):
    a = foo(raw_input())
    if len(a)==slen:
        for w in s:
            p = a.partition(w)
            if p[1] is w: a=p[0]+','+p[2]
            else: print ('WA'); break
        else: print ('ACC')
    else: print ('WA')