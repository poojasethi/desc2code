#include <stdio.h>
#include <string.h>
#define MAX 1000010
#define MOD 1000000007
#define LI long long int

int n, k;
char ch[MAX];
LI dy[MAX], dy1[MAX], dy2[MAX];
LI answer;

int main(void){
	int conti, i;
	scanf("%d %d", &n, &k);
	scanf("%s", &ch[1]);
	
	conti=0;
	dy[0]=1;
	for (i=0;i<n;i++){
		if (ch[i+1]=='X' || ch[i+1]=='B') conti++;
		else conti=0;

		dy[i+1]=dy[i];
		dy[i+1]%=MOD;
		if (ch[i+1]=='X'){
			dy[i+1]+=dy[i];
			dy[i+1]%=MOD;
		}

		if (conti<k) continue;
		if (i+1==k){
			dy[i+1]-=dy[0];
			if (dy[i+1]<0) dy[i+1]+=MOD;
			dy1[i+1]=dy[0];
		}else if (ch[(i+1)-k]=='W' || ch[(i+1)-k]=='X'){
			dy[i+1]-=dy[i-k];
			if (dy[i+1]<0) dy[i+1]+=MOD;
			dy1[i+1]=dy[i-k];
		}
	}

	conti=0;
	dy[n+1]=1;
	for (i=n;i>=1;i--){
		if (ch[i]=='X' || ch[i]=='W') conti++;
		else conti=0;

		dy[i]=dy[i+1];
		dy[i]%=MOD;
		if (ch[i]=='X'){
			dy[i]+=dy[i+1];
			dy[i]%=MOD;
		}

		dy2[i]=dy2[i+1];
		dy2[i]%=MOD;
		if (ch[i]=='X'){

			dy2[i]+=dy2[i+1];
			dy2[i]%=MOD;
		}
		
		if (conti<k) continue;
		if (i==n-k+1){
			dy[i]-=dy[i+k];
			if (dy[i]<0) dy[i]+=MOD;
			dy2[i]+=dy[n+1];
		}else if (ch[i+k]=='X' || ch[i+k]=='B'){
			dy[i]-=dy[i+k+1];
			if (dy[i]<0) dy[i]+=MOD;
			dy2[i]+=dy[i+k+1];
		}
	}

	for (i=0;i<=n;i++){
		answer+=((long long int)dy1[i]*dy2[i+1]);
		answer%=MOD;
	}

	printf("%I64d\n", answer);
	return false;
}