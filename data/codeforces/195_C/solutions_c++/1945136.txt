

#include <iostream>
#include <string>
#include<cstring>
#include<cstdio>
#include <vector>
#include <algorithm>
using namespace std;

#define ll long long
#define MP make_pair

bool ans = false;

char sig[100],s[100],t[100];

bool solve(){
    bool ret=false;
    while(~scanf("%*[^a-z]%[a-z]",s)&& s[1]!='a'){
        if(s[1] == 'r')
            ret |= solve();
        if(s[1] == 'h'){
            scanf("%*[^a-zA-Z]%[a-zA-Z]",sig);
            ret = true;
        }
    }
    char a[100],b[100];
    scanf("%*[^a-zA-Z]%[a-zA-Z]", a);
    scanf("%*[^\"]\"%[^\"]", b);
    if(ret && !ans&&strcmp(sig,a)==0){
        ans = true;
        cout<<b<<endl;
    }
    return ret;
}

int main(){
    while(~scanf("%*[^a-z]%[a-z]",s) && s[1] == 'r')
        solve();
    if(!ans)
    cout<<"Unhandled Exception"<<endl;
    return 0;
}
