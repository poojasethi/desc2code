#include<stdio.h>
#include<math.h>
#include<algorithm>
#include<stdlib.h>
#include<string.h>
#include<string>
using namespace std;
typedef double db;
const db pi=acos(-1),eps=0.2;
struct p{
    db x,y,z;
}a,b,c,v;
void set(p&a,db x,db y,db z){
    a.x=x;a.y=y;a.z=z;
}
void swap(db&a,db&b){
    db c=a;a=b;b=c;
}
db sqr(db a){
    return a*a;
}
void swap(p&a,p&b){
    p c=a;a=b;b=c;
}
db r,h,l,z;
db dis(p a,p b){
    return sqrt(sqr(a.x-b.x)+sqr(a.y-b.y)+sqr(a.z-b.z));
}
db abs(db x){
    if(x<0)return -x;
    return x;
}
db cc(db a,db b,db z){
    return sqrt(sqr(a)+sqr(b)-2*cos(z)*a*b);
}
db aa(p a){
    return atan2(a.y,a.x);
}
db zt(p a,p b){
    db z=abs(aa(a)-aa(b));
    return min(z,2*pi-z);
}
db zt(db z){
    return z*r/l;
}
db diss(p a,p b){
    return cc(dis(a,v),dis(b,v),zt(zt(a,b)));
}
p rp(db z){
    p o;
    set(o,r*cos(z),r*sin(z),0);
    return o;
}
db ff(p a,p b,db z){
    p o=rp(z);
    return diss(b,o)+dis(a,o);
}
db fff(p a,p b,db z){
    p o=rp(z);
    db ll=aa(b)-eps,rr=aa(b)+eps,m1,m2;
    for(int i=200;i;i--){
        m1=ll+(rr-ll)*0.49;
        m2=ll+(rr-ll)*0.51;
        if(ff(o,b,m1)<ff(o,b,m2))rr=m2;else ll=m1;
    }
    return diss(a,o)+ff(o,b,ll);
}
int main(){
    scanf("%lf%lf",&r,&h);
    scanf("%lf%lf%lf",&a.x,&a.y,&a.z);
    scanf("%lf%lf%lf",&b.x,&b.y,&b.z);
    if(a.z==0&&b.z==0){
        printf("%.15lf\n",dis(a,b));
        return 0;
    }
    set(v,0,0,h);
    l=sqrt(sqr(r)+sqr(h));
    if(a.z> 0&&b.z> 0){
        db lll=aa(a)-eps,rrr=aa(a)+eps,m1,m2;
        for(int i=200;i;i--){
            m1=lll+(rrr-lll)*0.49;
            m2=lll+(rrr-lll)*0.51;
            if(fff(a,b,m1)<fff(a,b,m2))rrr=m2;else lll=m1;
        }
//        printf("%.15lf\n\n",dis(a,rp(aa(a)))+dis(b,rp(aa(b)))+dis(rp(aa(a)),rp(aa(b))));
//        printf("%.15lf\n%.15lf\n\n",sqrt(sqr(a.x)+sqr(a.y)),sqrt(sqr(b.x)+sqr(b.y)));
//        printf("%.15lf\n%.15lf\n\n",diss(a,b),fff(a,b,lll));
        printf("%.15lf\n",min(diss(a,b),fff(a,b,lll)));
        return 0;
    }
    if(b.z==0)swap(a,b);
    db l1,ll=aa(b)-eps,rr=aa(b)+eps,m1,m2;
    for(int i=200;i;i--){
        m1=ll+(rr-ll)*0.49;
        m2=ll+(rr-ll)*0.51;
        if(ff(a,b,m1)<ff(a,b,m2))rr=m2;else ll=m1;
    }
    l1=ll,ll=aa(a)-eps,rr=aa(a)+eps;
    for(int i=200;i;i--){
        m1=ll+(rr-ll)*0.49;
        m2=ll+(rr-ll)*0.51;
        if(ff(a,b,m1)<ff(a,b,m2))rr=m2;else ll=m1;
    }
    if(ff(a,b,ll)<ff(a,b,l1))l1=ll;
    ll=-pi,rr=pi;
    for(int i=200;i;i--){
        m1=ll+(rr-ll)*0.49;
        m2=ll+(rr-ll)*0.51;
        if(ff(a,b,m1)<ff(a,b,m2))rr=m2;else ll=m1;
    }
    printf("%.15lf\n",min(ff(a,b,ll),ff(a,b,l1)));
	return 0;
}