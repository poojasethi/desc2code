#include<iostream>
#include<string.h>
#include<stdio.h>
#define INF 1000000000
using namespace std;

int w[55][55],lx[55],ly[55],a[55];
int mx[55],my[55],d;
bool vx[55],vy[55];
char s1[2000005],s2[2000005];

bool dfs(int x,int n){
	vx[x]=true;
	for(int y=0;y<n;y++){
		if(!vy[y]){
			if(lx[x]+ly[y]==w[x][y]){
				vy[y]=true;
				if(my[y]==-1||dfs(my[y],n)){
					mx[x]=y;
					my[y]=x;
					return true;
				}
			}
			else{
				d=min(d,lx[x]+ly[y]-w[x][y]);
			}
		}
	}
	return false;
}

void KM(int m,int n){
	memset(mx,-1,sizeof(mx));
	memset(my,-1,sizeof(my));
	for(int i=0;i<m;i++){
		for(int j=0;j<n;j++){
			lx[i]=max(lx[i],w[i][j]);
		}
	}
	for(int k=0;k<m;k++){
		memset(vx,false,sizeof(vx));
		memset(vy,false,sizeof(vy));
		d=INF;
		if(dfs(k,n)) continue;
		for(int i=0;i<m;i++) if(vx[i]) lx[i]-=d;
		for(int i=0;i<n;i++) if(vy[i]) ly[i]+=d;
		k--;
	}
}

int getnum(char c){
	if(c>='a'&&c<='z') return c-'a';
	return c-'A'+26;
}

char getc(int x){
	if(x>=0&&x<26) return x+'a';
	return x-26+'A';
}

int main(){
	int n,k;
	scanf("%d%d",&n,&k);
	scanf("%s%s",s1,s2);
	for(int i=0;i<n;i++){
		int p=getnum(s1[i]),q=getnum(s2[i]);
		w[p][q]++;
	}
	KM(k,k);
	int ans=0;
	for(int i=0;i<k;i++){
		ans+=w[i][mx[i]];
	}
	printf("%d\n",ans);
	for(int i=0;i<k;i++){
		printf("%c",getc(mx[i]));
	}
	return 0;
}	
