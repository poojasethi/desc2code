#include<iostream>
#include<cstring>
#include<cstdio>
#include <algorithm>
#include <vector>
#define mod 55566677
using namespace std;
typedef long long ll;
#define N 55
#define inf 0x3f3f3f3f
int w[N][N];
int n;
int lx[N],ly[N];
int LEFT[N];
bool s[N],t[N];
bool match(int i)
{
    s[i]=1;
    for(int j=1;j<=n;j++)
    {
        if(lx[i]+ly[j]==w[i][j]&&!t[j])
        {
            t[j]=1;
            if(!LEFT[j]||match(LEFT[j])){
                LEFT[j]=i;
                return 1;
            }
        }
    }
    return 0;
}
void update()
{
    int a=inf;
    for(int i=1;i<=n;i++)
    {
        if(s[i])
        {
            for(int j=1;j<=n;j++)
            {
                if(!t[j])
                    a=min(a,lx[i]+ly[j]-w[i][j]);
            }
        }
    }
    for(int i=1;i<=n;i++)
    {
        if(s[i])
            lx[i]-=a;
        if(t[i])
            ly[i]+=a;
    }
}
void KM()
{
    for(int i=1;i<=n;i++)
    {
        LEFT[i]=lx[i]=ly[i]=0;
        for(int j=1;j<=n;j++)
            lx[i]=max(lx[i],w[i][j]);
    }
    for(int i=1;i<=n;i++)
    {
        for(;;)
        {
            for(int j=1;j<=n;j++)
                s[j]=t[j]=0;
            if(match(i))
                break;
            else
                update();
        }
    }
}
char str1[2000010],str2[2000010];
int Map[2333];
void init()
{
    for(int i='a';i<='z';i++)
        Map[i]=i-'a'+1;
    for(int i='A';i<='Z';i++)
        Map[i]=i-'A'+27;
}
int idx[2333];
void print(int x)
{
    if(x>=1&&x<=26)
        printf("%c",'a'+x-1);
    else
        printf("%c",'A'+x-27);
}
int main()
{
    int len;
    init();
    scanf("%d%d",&len,&n);
    scanf("%s%s",str1,str2);
    memset(w,0,sizeof(w));
    for(int i=0;i<len;i++){
        w[Map[str1[i]]][Map[str2[i]]]++;
        //w[Map[str2[i]]][Map[str1[i]]]++;
    }
    KM();
    int ans=0;
    for(int i=1;i<=n;i++)
        ans+=w[LEFT[i]][i];
    printf("%d\n",ans);
    for(int i=1;i<=n;i++)
        idx[LEFT[i]]=i;
    for(int i=1;i<=n;i++)
        print(idx[i]);
    puts("");
}
