N, K = map(int, raw_input().split())
a = map(int, raw_input().split())
p = 0
ret = 0
mp = {}
for i in range(0, N):
    if mp.has_key(a[i]) == False:
        mp[a[i]] = 0
    mp[a[i]] += 1
    while p <= i and mp[a[i]] >= K:
        ret += N - i
        mp[a[p]] -= 1
        p += 1
print ret
