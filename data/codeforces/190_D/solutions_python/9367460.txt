R=lambda:map(int,raw_input().split())
n,k=R()
a=R()
c={}
p,s=0,0
for i,x in enumerate(a):
  c[x]=(c.get(x) or 0)+1
  while c[x]>=k:
    s+=n-i
    c[a[p]]-=1
    p+=1
print s