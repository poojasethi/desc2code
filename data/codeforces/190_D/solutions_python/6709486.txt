n,k = map(int, raw_input().split())
a = map(int, raw_input().split())
from collections import *
cnt = Counter()
ans,x,y = 0,0,0
while y<n:
    cnt[a[y]] +=1
    if cnt[a[y]] >= k:
        ans += n-y
        cnt[a[x]]-=1
        x+=1
        cnt[a[y]] -=1
        y-=1
    y+=1
    
print ans
