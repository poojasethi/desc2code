n, k = map(int, raw_input().split())
a = map(int, raw_input().split())

mp = {}
res = 0
j = 0
t = 0;

for i in range(0, n):
    if mp.has_key(a[i]) == True:
        mp[a[i]] += 1
    else:
        mp[a[i]] = 1
    while j <= i and k <= mp[a[i]]:
        mp[a[j]] -= 1
        res += n - i
        j += 1
print res
    
