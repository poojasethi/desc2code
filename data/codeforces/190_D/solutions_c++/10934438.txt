#include<bits/stdc++.h>
using namespace std;
map<int,int>mp ;
int a[500005] ;
int main()
{
    int n , k;
    scanf("%d%d",&n,&k);
    for(int i = 0 ;i < n ; i++){
        scanf("%d",&a[i]) ;
    }
    int j = 0 ;
    
    long long ans = 0 ;
    for(int i = 0 ;i < n ; i++){
        mp[a[i]] ++ ;
        while(mp[a[i]]>=k&& j < n){
            mp[a[j]] -- ;
            ans += (n-i) ;
            j++;
        }
    }
    cout << ans ;
    return 0;
}
