#include<iostream>
#include<map>
using namespace std;
map <long long,long long> b;
long long a[500000],n,k,l,ans,i;

main ()
{
 cin>>n>>k;
 l=1;
 for (i=1;i<=n;i++)
  {
   cin>>a[i];
   b[a[i]]++;
   while (b[a[i]]>=k)
    {
     ans+=n-i+1;
     b[a[l]]--;
     l++;
    }
  }
 cout<<ans<<endl;
} 
