#include <iostream>
#include <vector>
#include <map>
#include <cmath>

using namespace std;

typedef long long int ll;

int main()
{
  ios_base::sync_with_stdio(false);
  int n,k;
  cin>>n>>k;
  vector<int> v(n);
  for (int i=0;i<n;i++)
    cin>>v[i];
  ll total=0;
  map<int,vector<int> > m;
  int ant=-1;
  for (int i=0;i<n;i++) {
    vector<int> &aux=m[v[i]];
    aux.push_back(i);
    if (int(aux.size())>=k)
      ant=max(ant,aux[int(aux.size())-k]);
    total+=ant+1;
  }
  cout<<total<<endl;
}
