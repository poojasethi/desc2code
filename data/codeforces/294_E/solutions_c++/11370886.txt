#include<bits/stdc++.h>

using namespace std;

#define foreach(i,x) for(type(x)i=x.begin();i!=x.end();i++)
#define type(x) __typeof(x.begin())
#define st first
#define nd second
#define mp make_pair
#define pb push_back
#define pii pair<int,int>
#define mod ((int)1e9+7)
#define inf mod
#define sol (root>>1)
#define sag ((root>>1)+1)
#define orta ((bas+son)>>1)
#define ll long long
#define N (int)1e6+10
#define endl '\n'

int w,x,y,v,i,n;
int s[2];
int C[5005];

ll mn[2],ans=1000000000000000000LL,anss[2];

vector<pii> V[5005];
pair<int,pair<int,int> > Edges[5005];

inline int f(int x,int root){
	
	++s[1];

	C[x]=1;

	foreach(it,V[x])	
		if(it->st!=root)
			C[x]+=f(it->st,x);
	
	return C[x];
}

inline long long f2(int x,int root){

	long long t=0;

	foreach(it,V[x])	
		if(it->st!=root){
			anss[w]+=(ll)it->nd*C[it->st]*(s[w]-C[it->st]);
			t+=(ll)it->nd*C[it->st]+f2(it->st,x);
		}

	return t;
}

inline void f3(int x,int root,long long atans){
	
	long long q;

	foreach(it,V[x])
		if(it->st!=root){
			q=atans;
			q+=(ll)it->nd*(s[w]-C[it->st])-(ll)it->nd*C[it->st];
			mn[w]=min(mn[w],q);
			f3(it->st,x,q);
		}
}

inline void f4(int x,int root){
	
	foreach(it,V[x])
		if(it->st!=root){
			f4(it->st,x);
		}

}

int main(){

	scanf("%d",&n);

	for(i=1 ; i<=n-1 ; i++){
		
		scanf("%d %d %d",&x,&y,&v);

		V[x].pb(mp(y,v));
		V[y].pb(mp(x,v));
		Edges[i]=(mp(v,mp(x,y)));

	}
	
	for(i=1 ; i<=n-1 ; i++){
		
		s[0]=s[1]=0;

		x=Edges[i].nd.st;
		y=Edges[i].nd.nd;

		f(x,y);
		s[0]=s[1];
		s[1]=0;
		f(y,x);

		anss[0]=anss[1]=0;
		
		w=0;
		mn[0]=f2(x,y);
		w=1;
		mn[1]=f2(y,x);

		w=0;
		f3(x,y,mn[0]);
		w=1;
		f3(y,x,mn[1]);

//		w=0;
//		f4(x,y);
//		w=1;
//		f4(y,x);

		ans=min(ans,(ll)s[0]*s[1]*Edges[i].st+(ll)s[0]*mn[1]+(ll)s[1]*mn[0]+anss[0]+anss[1]);

	}

	printf("%lld",ans);

	return 0;

}
