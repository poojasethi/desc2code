#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>
#include <vector>
#include <map>
#define LL long long
using namespace std;
#define mod 1000000007
#define x first
#define y second
#define pb push_back
#define mp make_pair
#define LL long long
const LL INF = 1e17;
vector<pair<int,int> >g[5010];
int u[5010],v[5010],w[5010];
LL d[5010],sum,minn,ans;
LL son[5010];

void dfs(int u,int rt){
    son[u] = 1; d[u] = 0;
    for(int i = 0; i < g[u].size(); i++){
        int v = g[u][i].x;
        LL w = g[u][i].y;
        if(v == rt) continue;
        dfs(v,u);
        son[u] += son[v];
        d[u] += d[v]+ w*son[v];
    }
}

void dfs2(int u,int fa,int rt){
    minn = min(minn,d[u]);
    for(int i = 0; i < g[u].size(); i++){
        int v = g[u][i].x;
        LL w = g[u][i].y;
        if(v == fa) continue;
        sum += w*(son[rt]-son[v])*son[v];
        d[v] = d[u]-w*son[v]+w*(son[rt]-son[v]);
        dfs2(v,u,rt);
    }
}


int main(){
    int n;
    scanf("%d",&n);
    for(int i = 0; i <= n; i++) g[i].clear();
    memset(d,0,sizeof(d));
    memset(son,0,sizeof(son));
    for(int i = 1; i < n; i++){
        scanf("%d%d%d",&u[i],&v[i],&w[i]);
        g[u[i]].pb(mp(v[i],w[i]));
        g[v[i]].pb(mp(u[i],w[i]));
    }
    int x,y,z;
    ans = INF;
    for(int i = 1; i < n; i++){
        x = u[i],y = v[i],z = w[i];
        sum = 0;
        minn = INF;
        dfs(x,y);
        dfs2(x,y,x);
        sum += minn*(n-son[x]);
        minn = INF;
        dfs(y,x);
        dfs2(y,x,y);
        sum += minn*(n-son[y]);
        sum += z * son[x]* son[y];
        ans = min(ans,sum);
    }
    cout<<ans<<endl;
    return 0;
}


