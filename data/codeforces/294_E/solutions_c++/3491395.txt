#include<stdio.h>

int a[5100],b[5100],g[5100],s[5100],map[21000],next[21000],num[3],n,tot;
long long sum,ans,mm[3],c[5100],l[21000],now;
long long min(long long a,long long b) {return a<b?a:b;}
void add(int a,int b,long long c)
  {
  	next[++tot]=g[a]; g[a]=tot; map[tot]=b; l[tot]=c;
  }
int dfs(int a,int b)
{
    s[a]=1;
	for (int i=g[a];i>0;i=next[i])
	  if (map[i]!=b) s[a]+=dfs(map[i],a);
	return s[a]; 
} 
void dp(int a,int b,int c)
{
	for (int i=g[a];i>0;i=next[i])
	  if (map[i]!=b) 
	    {
	       now+=l[i]*((s[map[i]]+num[c])*(n-s[map[i]]-num[c])-s[map[i]]*(n-s[map[i]]));
		   mm[c]=min(mm[c],now);
		    dp(map[i],a,c);
		   now-=l[i]*((s[map[i]]+num[c])*(n-s[map[i]]-num[c])-s[map[i]]*(n-s[map[i]])); 	
	    }
}
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	scanf("%d",&n);
	for (int i=1;i<=n-1;++i) scanf("%d%d%I64d",&a[i],&b[i],&c[i]);
	for (int p=1;p<=n-1;++p)
	{
		for (int i=1;i<=n;++i) g[i]=0; tot=0;
		for (int i=1;i<=n-1;++i)
		  if (i!=p)
		  {
		  	add(a[i],b[i],c[i]); add(b[i],a[i],c[i]);
		  }
		num[1]=dfs(b[p],0); num[2]=dfs(a[p],0); mm[1]=0; mm[2]=0;
		dp(a[p],0,1); dp(b[p],0,2);
		ans=min(ans,mm[1]+mm[2]); sum+=c[p]*num[1]*num[2];
	}
	printf("%I64d\n",sum+ans);
}
