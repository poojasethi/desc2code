#include <map>
#include <set>
#include <list>
#include <ctime>
#include <cmath>
#include <queue>
#include <stack>
#include <bitset>
#include <vector>
#include <cstdio>
#include <string>
#include <cstring>
#include <sstream>
#include <iomanip>
#include <cstdlib>
#include <iostream>
#include <algorithm>
using namespace std;
int a[5005],b[5005],c[5005],n,m;
long long g[5005],s,p;
vector<pair<int,int> > q[5005];
void work (int x,int y) {
	int i,t;
	m++;
	for (i=0;i<q[x].size();i++) {
		t=q[x][i].first;
		if (t!=y) work(t,x);
	}
}
long long dfs (int x,int y,long long z) {
	int i,t;
	long long r,w=z;
	g[x]=1;
	for (i=0;i<q[x].size();i++) {
		t=q[x][i].first;r=q[x][i].second;
		if (t!=y) {
			w+=dfs(t,x,r+z);
			g[x]+=g[t];
			s+=r*g[t]*(m-g[t]);
		}
	}
	return w;
}
void find (int x,int y,long long z) {
	int i,t;
	long long r;
	p=min(p,z);
	for (i=0;i<q[x].size();i++) {
		t=q[x][i].first;r=q[x][i].second;
		if (t!=y) find(t,x,r*(m-2*g[t])+z);
	}
}
int main ( ) {
	int i,x,y;
	long long mymin=1e+17;
	scanf("%d",&n);
	for (i=0;i<n-1;i++) {
		scanf("%d%d%d",&a[i],&b[i],&c[i]);
		a[i]--;b[i]--;
		q[a[i]].push_back(pair<int,int>(b[i],c[i]));
		q[b[i]].push_back(pair<int,int>(a[i],c[i]));
	}
	for (i=0;i<n-1;i++) {
		m=0;s=0;work(a[i],b[i]);
		x=m;y=n-m;m=x;
		p=dfs(a[i],b[i],0);
		find(a[i],b[i],p);
		s+=p*y;m=y;
		p=dfs(b[i],a[i],0);
		find(b[i],a[i],p);
		s+=p*x;
		mymin=min(mymin,s+1ll*x*y*c[i]);
	}
	printf("%I64d\n",mymin);
	return 0;
}
/*
Sample test(s)

input

3
1 2 2
1 3 4

output

12

input

6
1 2 1
2 3 1
3 4 1
4 5 1
5 6 1

output

29

input

6
1 3 1
2 3 1
3 4 100
4 5 2
4 6 1

output

825
*/
