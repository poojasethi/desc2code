#include <bitset>
#include <cstdio>
using namespace std;
#define P 1000000007
int N,M,T,ans,b[125];
bitset<125>F;

void dfs(int t,bitset<125> f,int s)
{
	(ans+=s)%=P;
	for (int i=t; i+i<=M; i++) if (b[i]&&!f[i]&&!f[M-i]) dfs(i+1,f|(f<<i)|(f>>i)|(f<<M-i)|(f>>M-i),1ll*s*b[i]%P);
}

int main()
{
	scanf("%d%d%d",&T,&M,&N),F[0]=1;
	for (int i=1,x; i<=N; i++) scanf("%d",&x),x%=M,b[x+x<M?x:M-x]++;
	dfs(0,F,1),printf("%d\n",ans);
}