#include<iostream>
#include<bitset>
using namespace std;
int n,m,t,a[120],i,x,p=1000000007;
bitset<120> s=1; 
void dfs(int x,bitset<120> s,int y)
{
	if(x>m/2) {t=(t+y)%p; return;}
	dfs(x+1,s,y);
	if(a[x]&&!s[x]) dfs(x+1,s|s<<x|s>>x|s<<m-x|s>>m-x,(__int64)y*a[x]%p);
} 
int main()
{
	cin>>n>>m>>t;
	for(i=1;i<=t;i++) cin>>x,x%=m,a[min(x,m-x)]++;
	t=0,dfs(0,s,1);
	cout<<t<<endl;
}