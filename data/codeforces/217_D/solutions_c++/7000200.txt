#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <bitset>
#define N 10010
#define mo 1000000007
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,K,an;
int a[N];
bitset<120> b,c;
void dfs(int x,bitset<120> e,int s) {
	if (x>m-x) {
		an=(an+s)%mo;
		return;
	}
	int i;
	dfs(x+1,e,s);
	if (a[x]&&!e[x]&&!e[m-x]) dfs(x+1,e|e<<x|e>>x|e<<(m-x)|e>>(m-x),1ll*s*a[x]%mo);
}
int main() {
	scanf("%d%d%d",&n,&m,&K);
	For(i,1,K) {
		scanf("%d",&k),k%=m;
		if (k>m-k) k=m-k;
		a[k]++;
	}
	For(i,0,m-1) c[i]=1;
	b[0]=1;
	dfs(1,b,1);
	printf("%d\n",an);
	//for(;;);
	return 0;
}
