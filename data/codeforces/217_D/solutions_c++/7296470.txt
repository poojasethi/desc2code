#include<cstdio>
#include<cstdlib>
#include<bitset>
using namespace std;
#define MOD 1000000007
int n,m,K,ans,cnt[125];
void dfs(bitset<125>bit,int x,int res){
	ans=(ans+res)%MOD;
	for (int i=x;i<=m/2;i++)
	if(cnt[i]&&!bit[i]&&!bit[m-i]) dfs(bit|bit<<i|bit>>m-i|bit>>i|bit<<m-i,i+1,1LL*res*cnt[i]%MOD);
}
int main(){
	scanf("%d%d%d",&n,&m,&K);
	for (int i=1;i<=K;i++){
		int x; scanf("%d",&x);
		cnt[min(x%m,m-x%m)]++;
	}
	bitset<125> bit;
	bit[0]=1;
	dfs(bit,1,1);
	printf("%d\n",ans);
}