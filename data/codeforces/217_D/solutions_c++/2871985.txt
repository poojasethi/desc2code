#include<cstdio>
#include<bitset>
#include<algorithm>
using namespace std;
const int mo=1000000007;
int n,m,k,res=0;
int ans[62];
void dfs(int i,bitset<120> s,int pre){
    if (i>(m+1)/2) res=(res+pre)%mo; else{
        dfs(i+1,s,pre);
        if (ans[i] && !s[i])
            dfs(i+1,s|s<<i|s>>i|s<<m-i|s>>m-i,pre*(long long)ans[i]%mo);
    }
}
int main(){
    for (n=0;n<62;ans[n++]=0);
    for (scanf("%d%d%d",&n,&m,&k);k;k--)
        ++ans[scanf("%d",&n),min(n%m,m-n%m)];
    bitset<120> s;
    s[0]=1;
    dfs(1,s,1);
    printf("%d\n",res);
    return 0;
}
