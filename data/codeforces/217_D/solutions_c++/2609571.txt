#include <cstdio>
#include <bitset>
using namespace std;
const int mo=1000000007;
int n,m,i,x,y,s[120];
long long ans;
void gc(int t,long long k,bitset<120> set)
{
	if (t>m/2) {ans+=k;ans%=mo;return;}
	gc(t+1,k,set);
	if ((s[t]>0)&&(!set[t])) gc(t+1,k*s[t]%mo,set|(set<<t)|(set>>t)|(set<<(m-t))|(set>>(m-t)));
}
int main()
{
	scanf("%d%d%d",&n,&m,&n);
	for (i=1;i<=n;++i)
	{
		scanf("%d",&x);y=x%m;
		if (m-y<y) y=m-y;++s[y];
	}
	bitset<120> set;set[0]=1;
	gc(1,1,set);
	printf("%d\n",ans);
}
