#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<time.h>
#include<math.h>
#include<iostream>
#include<algorithm>
#include<bitset>
using namespace std;
#define p 1000000007
#define N 120
bitset<N> s=1;
int cnt[N],n,m,ans=0;
void dfs(int x,const bitset<N> &s,int sum){
	if (x>(m>>1)){ans=(ans+sum)%p;return;}
	dfs(x+1,s,sum);
	if (cnt[x]&&!s[x])dfs(x+1,s|s<<x|s>>x|s<<m-x|s>>m-x,(long long)sum*cnt[x]%p);
}
int main()
{
	//freopen("1.in","r",stdin);
	//freopen("1.out","w",stdout);
	int t,x;scanf("%d%d%d",&n,&m,&t);
	for (int i=1;i<=t;++i)scanf("%d",&x),x%=m,++cnt[min(x,m-x)];
	dfs(0,s,1);printf("%d\n",ans);
	//system("pause");
	return 0;
}


