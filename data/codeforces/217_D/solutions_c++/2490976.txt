#include <cstdio>
#include <bitset>

using namespace std;

typedef long long LL;
typedef bitset<120> re;

const int mo = 1000000007;
int n, m, t, tmp, a[120], ans;

void dfs(int x, LL cnt, re cur){
	if (!x)	ans = (ans + cnt) % mo;
	else{
		dfs(x - 1, cnt, cur);
		if (a[x] && !cur[x]) dfs(x - 1, cnt * a[x] % mo,  cur | (cur << x) | (cur >> x) | (cur << (m - x)) | (cur >> (m - x)));
	}
}

int main(){
	for (scanf("%d%d%d", &n, &m, &t); t--;){
		scanf("%d", &tmp);
		tmp %= m; if (tmp > m / 2) tmp = m - tmp;
		a[tmp]++;
	}
	dfs((m + 1) / 2, 1, re(1));
	printf("%d\n", ans);
}
