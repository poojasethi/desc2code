#include <cstdio>
#include <cstring>
#include <algorithm>
#include <bitset>

using namespace std;

typedef long long LL;

const int MOD = 1000000007;

int m,t;
int z,c[120];

void dfs(int x,const bitset<120> &y,LL w)
{
	if(x>m/2) {z=(z+w)%MOD;return;}
	dfs(x+1,y,w);
	if(c[x] && !y[x]) dfs(x+1,y|y>>x|y<<m-x|y<<x|y>>m-x,w*c[x]%MOD);
}
int main()
{
	int p;scanf("%d%d%d",&p,&m,&t);
	for(int i=1;i<=t;i++) scanf("%d",&p),p%=m,c[min(p,m-p)]++;
	dfs(0,bitset<120>(1),1);
	printf("%d\n",z);
	return 0;
}


