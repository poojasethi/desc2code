#include <cstring>
#include <cstdio>
#include <bitset>
#include <iostream>
using namespace std;

const int mod=1000000007;
long long q[1000],cnt[1000];
int n,m,t;

long long dfs(int dep, int last, bitset <120> a)
{
	long long res=1;
	for (int i=1; i<dep; i++) res=res*cnt[q[i]]%mod;
	for (int i=last; i<=m/2; i++)
	{
		if (cnt[i] && !a[i] && !a[m-i])
		{
			q[dep]=i;
			res=(res+dfs(dep+1, i+1, a|(a>>i)|(a>>(m-i))|(a<<i)|(a<<(m-i))))%mod;
		}
	}
	return res;
}

int main()
{
	scanf("%d%d%d",&n,&m,&t);
	for (int i=1; i<=t; i++)
	{
		int x;
		scanf("%d",&x); x%=m;
		if (m-x<x) x=m-x; cnt[x]++;
	}
	bitset<120> a=1;
	
	cout<<dfs(1,1,a)<<endl;
	//for (;;);
	return 0;
}

