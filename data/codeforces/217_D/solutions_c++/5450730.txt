#include<cstring>
#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<bitset>
#define int64 long long
using namespace std;
const int64 mo=1000000007;
int m,a[1200],x,n,i;
int64 ans;
void dfs(bitset <120> v,int l,int res){
	if(!res)return;
	if(l+l>m){
		ans+=res;
		if(ans>mo<<20)ans-=mo<<20;
		return;
	}
	dfs(v,l+1,res);
	if(a[l] && !v[l] && !v[m-l])dfs(v|v<<l|v>>l|v<<m-l|v>>m-l,l+1,(int64)res*a[l]%mo);
}
int main(){
	scanf("%*d%d%d",&m,&n);
	for(i=1;i<=n;++i)scanf("%d",&x),a[min(x%m,m-x%m)]++;
	dfs(1,0,1);
	printf("%I64d\n",ans%mo);
}