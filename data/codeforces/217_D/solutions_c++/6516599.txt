#include<algorithm>
#include<cstring>
#include<cstdio>
#include<bitset>
using namespace std;

typedef long long ll;
const int MAXN=120,Mod=int(1e9)+7;
int ans,n,m,t,tmp,a[MAXN+1];

void Dfs(int p,int sum,bitset<120> opt) {
	if (p>m/2) ans=(ans+sum)%Mod;
	else {
		Dfs(p+1,sum,opt);
		if (a[p]&&!opt[p]) Dfs(p+1,(ll)sum*a[p]%Mod,opt|opt<<p|opt>>p|opt<<m-p|opt>>m-p);
	}
	return ;
}

int main() {
	scanf("%d%d%d",&n,&m,&t);
	for (int i=1;i<=t;++i) {
		scanf("%d",&tmp); tmp%=m;
		++a[min(tmp,m-tmp)];
	}
	Dfs(0,1,1);
	printf("%d\n",ans);
	return 0;
}
