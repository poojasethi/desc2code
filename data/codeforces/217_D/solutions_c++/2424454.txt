#include<cstdio>
#include<iostream>
#include<bitset>

using namespace std;

const int MaxN=124;
const int MOD=1000000007;

int n,m,k;
long long v[MaxN];
int ans;

void DFS(int now,int way,bitset<MaxN> s)
{
	if (now>n)
	{
		ans+=way;
		if (ans>=MOD) ans-=MOD;
		return;
	}
	DFS(now+1,way,s);
	if (v[now]&&!s[now])
		DFS(now+1,way*v[now]%MOD,s|(s<<now)|(s>>now)|(s<<(m-now))|(s>>(m-now)));
}

int main()
{
	cin>>n>>m>>k;
	while (k--)
	{
		int x;
		scanf("%d",&x);
		x%=m;
		++v[min(x,m-x)];
	}
	n=(m+1)/2;
	bitset<MaxN> s;
	s.reset();
	s[0]=1;
	DFS(1,1,s);
	cout<<ans<<endl;
	return 0;
}
