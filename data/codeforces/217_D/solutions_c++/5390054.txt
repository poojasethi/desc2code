#include<cstdio>
#include<bitset>
#define lim 1000000007
using namespace std;
int a[120];
int n,m,c,ans;
void dfs(int dep,bitset<120> S,int s)
{   if (dep>m/2)
    {   ans+=s;
        ans%=lim;
        return;
    }
    dfs(dep+1,S,s);
    if (a[dep]&&!S[dep])
        dfs(dep+1,S|S<<dep|S>>dep|S<<m-dep|S>>m-dep,(long long)s*a[dep]%lim);
}
int main()
{   int i,x;
    scanf("%d%d%d",&n,&m,&c);
    for (i=1;i<=c;++i)
    {   scanf("%d",&x);
        x%=m;
        ++a[min(x,m-x)];
    }
    dfs(0,bitset<120>(1),1);
    printf("%d\n",ans%lim);
}