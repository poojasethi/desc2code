#include <iostream>
#include <cstdio>
#include <bitset>
using namespace std;
const int mod = 1000000007;
typedef long long LL;
bitset<125> a; 
int n,m,ans;
int cnt[1000];
void dfs(bitset<125> a,int x,int s)
{
	ans = (ans + s)%mod;
	for(int i = x;i <= m / 2;i++)
		if(!a[i] && cnt[i] &&  !a[m-i])
		dfs(a|a<<i|a>>i|a<<m-i|a>>m-i,i+1,1LL*s*cnt[i]%mod);
}
int main()
{
	int i,j;
	int x;
	scanf("%d%d%d",&i,&m,&n);
	for(i = 1;i <= n;i++){
		scanf("%d",&x);
		x%=m;
		cnt[x+x>m?m-x:x]++;
	}
	a[0] = 1;
	dfs(a,1,1);
	printf("%d\n",ans);
}
	  	 				    			  			   	 	  		