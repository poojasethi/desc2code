#include<cstdio>
#include<bitset>
using namespace std;
#define ll long long
bitset<125> a; int n,m,x,cnt[125],oo=1000000007; ll ans;
void dfs(bitset<125> a,int x,ll s)
{
	ans=(ans+s)%oo;
	for (int i=x;i<=m/2;i++) if (cnt[i] && !a[i] && !a[m-i])
		dfs(a|(a>>i)|(a<<m-i)|(a>>m-i)|(a<<i),i+1,s*cnt[i]%oo);
}
int main()
{
	scanf("%*d%d%d",&m,&n);
	for (int i=1;i<=n;i++) scanf("%d",&x),x%=m,cnt[x+x>m?m-x:x]++;
	a[0]=1; dfs(a,1,1); printf("%d\n",ans); return 0;
}
