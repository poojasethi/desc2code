#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cstring>
#include<bitset>
using namespace std;
const int mod=1000000007;
int x,m,n,s[120],ans=0;
void dfs(int x,bitset<120>y,long long r){
	if(x>m/2){
        ans=(ans+r)%mod;
        return;
    }
	dfs(x+1,y,r);
	if(s[x]&&!y[x])dfs(x+1,y|y>>x|y<<m-x|y<<x|y>>m-x,r*s[x]%mod);
}
int main(){
    //freopen("AC.in","r",stdin);
    //freopen("AC.out","w",stdout);
    cin>>x>>m>>n;
	while(n--){
		cin>>x;
		x%=m;
		s[min(x,m-x)]++;
    }
	dfs(0,bitset<120>(1),1);
	cout<<ans<<endl;
	return 0;
}
