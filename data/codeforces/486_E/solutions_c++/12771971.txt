// ya allah
#include <bits/stdc++.h>

using namespace std;
const int maxn=1e5+10;


int LIS[maxn],nu[maxn],S[maxn],cp[maxn];
inline int com_LIS(int n)
{
	memset(S,63,sizeof S);
	S[0]*=-1;
	int mx=0;
	for(int i=0;i<n;i++)
	{
		int pos=lower_bound(S,S+maxn,nu[i])-S;
		LIS[i]=pos;
		S[pos]=nu[i];
		mx=max(pos,mx);
	}
	return mx;
}
int cnt[maxn];
int main()
{
	int n;
	cin>>n;
	for(int i=0;i<n;i++)
		cin>>nu[i];
	int mx=com_LIS(n);
	reverse(nu,nu+n);
	for(int i=0;i<n;i++) nu[i]=-nu[i];
	copy(LIS,LIS+n,cp);
	com_LIS(n);
	reverse(LIS,LIS+n);
	for(int i=0;i<n;i++) if(cp[i]+LIS[i]==mx+1)
		cnt[LIS[i]]++;
	for(int i=0;i<n;i++)
		if(cp[i]+LIS[i]-1!=mx)
			cout<<1;
		else if(cnt[LIS[i]]==1)
			cout<<3;
		else
			cout<<2;
	return 0;
}
