#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 100010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,ma;
int a[N],tr[N],f[N],h[N],len[N];
inline void inc(int x,int y) {
	for (;x<N;x+=x&-x) tr[x]=max(tr[x],y);
}
inline int cal(int x) {
	int an=0;
	for (;x;x-=x&-x) an=max(an,tr[x]);
	return an;
}
int main() {
	scanf("%d",&n);
	For(i,1,n) scanf("%d",&a[i]);
	For(i,1,n) {
		f[i]=cal(a[i])+1;
		inc(a[i]+1,f[i]);
	}
	For(i,1,n) ma=max(ma,f[i]),a[i]=100000-a[i]+1;
	memset(tr,0,sizeof(tr));
	for (i=n;i;i--) {
		h[i]=cal(a[i])+1;
		inc(a[i]+1,h[i]);
	}
	For(i,1,n) if (f[i]+h[i]-1==ma) len[f[i]]++;
	For(i,1,n) if (f[i]+h[i]-1!=ma) printf("1");
	else if (len[f[i]]==1) printf("3");
	else printf("2");
	printf("\n");
	return 0;
}
