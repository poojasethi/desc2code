#include <bits/stdc++.h>
#define lowbit(x) ((x)&(-(x)))
using namespace std;

const int N=100000+5;

int n,ans,a[N],cnt[N],F[N+11],G[N+11],f[N],g[N],t[N];

inline void cmax(int& x,int y){if (y>x) x=y;}

inline void modify(int *f,int x,int d)
{
	if (x<=0) return;
	for (;x<=N;x+=lowbit(x)) cmax(f[x],d);
}

inline int getans(int *f,int x)
{
	int rt=0;
	for (;x>0;x-=lowbit(x)) cmax(rt,f[x]);
	return rt;
}

int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;++i) scanf("%d",&a[i]);
	for (int i=1;i<=n;++i)
		modify(F,a[i],f[i]=getans(F,a[i]-1)+1),cmax(ans,f[i]);
	for (int i=n;i>=1;--i)
		modify(G,N-a[i]+1,g[i]=getans(G,N-(a[i]+1)+1)+1);
	for (int i=1;i<=n;++i)
		if (f[i]+g[i]==ans+1) t[i]=2,++cnt[f[i]];else t[i]=1;
	for (int i=1;i<=n;++i)
		if (f[i]+g[i]==ans+1 && cnt[f[i]]==1) t[i]=3;
	for (int i=1;i<=n;++i) printf("%d",t[i]);
	cout<<endl;
	return 0;
}
