#include <bits/stdc++.h>
using namespace std;

const int N=100005;

int n,a[N],l,l2,f[N],f1[N],f2[N],d1[N],d2[N];

int main ()
{
    cin>>n;
    for(int i=0;i<n;i++)
        cin>>a[i];
    l=1;
    l2=1;
    d1[0]=-1;
    d2[0]=999999999;
    for(int i=0;i<n;i++)
    {
        f[i+1]=0;
        d1[i+1]=999999999;
        d2[i+1]=-1;
        f1[i]=1;
        f2[n-i-1]=1;
        for(int j=l;j>=0;j--)
            if(a[i]>d1[j])
                f1[i]=j+1,d1[j+1]=min(d1[j+1],a[i]),j=-1;
        for(int j=l2;j>=0;j--)
            if(a[n-1-i]<d2[j])
                f2[n-1-i]=j+1,d2[j+1]=max(d2[j+1],a[n-1-i]),j=-1;
        l=max(l,f1[i]);
        l2=max(l2,f2[n-i-1]);
    }
    for(int i=0;i<n;i++)
        if(f1[i]+f2[i]==l+1)
            f[f1[i]]++;
    for(int i=0;i<n;i++)
    {
        if(f1[i]+f2[i]<l+1)
            cout<<1;
        else if(f[f1[i]]>1)
            cout<<2;
        else
            cout<<3;
    }
    cout<<endl;
}