#include <bits/stdc++.h>
using namespace std;

const int MAXN = 100000+10;
int n, A[MAXN], B[MAXN], F1[MAXN], F2[MAXN], ans[MAXN];

int main(){
	cin >> n;
	A[0] = 0, A[n+1] = MAXN;
	for(int i=1; i<=n; ++i) cin >> A[i];
	
	int best=0;
	for(int i=1,j=0; i<=n; ++i){
		B[i] = 123456789;
		j = lower_bound(B+1, B+1+i, A[i]) - B;
		B[j] = A[i];
		F1[i] = j;
		best = max(best, j);
	}

	for(int i=n,j=0; i>=1; --i){
		B[n-i+1] = 123456789;
		j = lower_bound(B+1, B+n-i+2, -A[i]) - B;
		B[j] = -A[i];
		F2[i] = j;
	}

	for(int i=1; i<=n; ++i)
		if(F1[i] + F2[i] - 1 == best) ans[i] = 3;
		else ans[i] = 1;

	int val = 0;
	for(int i=1; i<=n; ++i)
		if(ans[i] != 1)
			if( A[i] <= val) ans[i] = 2;
			else val = A[i];
	val = 123456789;
	for(int i=n; i>=1; --i)
		if(ans[i] != 1)
			if( A[i] >= val) ans[i] = 2;
			else val = A[i];
	
	for(int i=1; i<=n; ++i) cout << ans[i];
	cout << endl;
	return 0;
}
