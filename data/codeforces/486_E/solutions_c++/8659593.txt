#include <iostream>

using namespace std;
   
int n, maxl;
int a[141112], f[141112], g[141112], pos[141112], cnt[141112], ans[141112];

int find(int x)
{
	int t=maxl;
	while ((t>0)&&(g[t]>=x)) --t;
	return t; 
}

int main()
{
	cin >> n;
	for (int i=1; i<=n; ++i) cin >> a[i];
	a[0]=0;a[n+1]=100001;
	f[0]=1; g[1]=0; maxl=1;
	for (int i=0; i<=n+1; ++i)
	{               
		f[i]=find(a[i])+1;
		if (maxl<f[i]) {maxl=f[i];g[f[i]]=a[i];}
		if (a[i]<g[f[i]]) g[f[i]]=a[i];
	}
	for (int i=0; i<=maxl; ++i) {g[i]=0;cnt[i]=0;}
	g[maxl]=100001;
	for (int i=n; i>=1; --i)
	{
		if (a[i]>=g[f[i]+1]) ans[i]=1;
		if (a[i]<g[f[i]+1])
		{
			ans[i]=2;
			if (g[f[i]]<a[i]) g[f[i]]=a[i];
			++cnt[f[i]];
		}
	}
	for (int i=1; i<=n; ++i) if (ans[i]==2)
		if (cnt[f[i]]==1) ans[i]=3;
	for (int i=1; i<=n; ++i) cout << ans[i];
	cout << endl;
}
