#include<bits/stdc++.h>
#include <stdio.h>
using namespace std; int n, dizi[100005], f1[100005], f2[100005], f[100005], s[100005]; vector<int> lis; int main(){scanf("%d", &n);for (int i = 0; i < n; i++) scanf("%d", &dizi[i]);for (int i = 0; i < n; i++){int b = lower_bound(lis.begin(), lis.end(), dizi[i]) - lis.begin();f1[i] = b + 1;if (b == lis.size()) lis.push_back(dizi[i]);else lis[b] = dizi[i];}lis.clear();for (int i = 0; i < n; i++) dizi[i] *= -1;reverse(dizi, dizi + n);for (int i =0; i < n; i++){int b = lower_bound(lis.begin(), lis.end(), dizi[i]) - lis.begin();f2[n - i - 1] = b + 1;if (b == lis.size()) lis.push_back(dizi[i]);else lis[b] = dizi[i];}for (int i = 0; i < n; i++) s[i] = 1;for (int i = 0; i < n; i++) if (f1[i] + f2[i] == lis.size() + 1){ f[f1[i]]++; s[i] = 2;}for (int i = 0; i < n; i++) if (f1[i] + f2[i] == lis.size() + 1 && f[f1[i]] == 1) s[i] = 3;for (int i = 0; i < n; i++) printf("%d", s[i]); return 0;}