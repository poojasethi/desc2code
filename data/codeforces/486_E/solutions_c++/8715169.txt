#include<stdio.h>
#include<algorithm>
using namespace std;
int n,i,x[111111],e[111111],dp[111111],M,f[111111],ans[111111],c[111111];
void ad(int a,int val){
    for(;a<=111111;a+=a&-a)f[a]=max(f[a],val);
}
int fi(int a){
    int ret=0;
    for(--a;a>0;a-=a&-a)ret=max(ret,f[a]);
    return ret;
}
int main(){
    scanf("%d",&n);
    for(i=0;i<n;i++){
        scanf("%d",&x[i]);
        dp[i]=fi(x[i])+1;
        ad(x[i],dp[i]);
        M=max(M,dp[i]);
    }
    e[M+1]=11111111;
    for(i=n-1;i>=0;i--){
        if(x[i]<e[dp[i]+1]){
            c[dp[i]]++;
            e[dp[i]]=max(e[dp[i]],x[i]);
        }
        else {
            ans[i]=1;
        }
    }
    for(i=0;i<n;i++){
        if(ans[i]==1)printf("1");
        else {
            if(c[dp[i]]>1)printf("2");
            else printf("3");
        }
    }
    return 0;
}
