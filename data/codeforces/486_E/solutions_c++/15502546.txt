//In the Name of God ;

#include<bits/stdc++.h>

using namespace std;

const int M=1e6;
const int Inf=1e9+7;

int n,a[M],ANS,ans,l[M],r[M],h[M],ted[M],i;

void bs(int l,int r,int x,int t)
{
  if(l>r)return;
  int mid=(l+r)/2;
  if(h[mid]*t>=x*t)
    bs(l,mid-1,x,t);
  else
    ans=mid+1,bs(mid+1,r,x,t);
}

main()
{
  for(cin>>n;cin>>a[i];i++);
  for(i=0;i<n;i++)
    ans=1,h[i+1]=M,bs(0,i+1,a[i],1),l[i]=ans,h[ans]=min(h[ans],a[i]),ANS=max(ANS,ans+1);
  h[0]=M;
  for(i=n-1;i>=0;i--)
    ans=1,h[n-i]=0,bs(0,n-i,a[i],-1),r[i]=ans,h[ans]=max(h[ans],a[i]);
  for(i=0;i<n;i++)
    ted[l[i]]+=(l[i]+r[i]==ANS);
  for(i=0;i<n;i++)
    cout<<((ted[l[i]]>1)?1:2)*(l[i]+r[i]==ANS)+1;
  return 0;
}
