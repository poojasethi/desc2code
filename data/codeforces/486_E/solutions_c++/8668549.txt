#include <bits/stdc++.h>

#define sol pos*2
#define sag pos*2+1
#define st first
#define nd second
#define MAXN 100005

using namespace std;

typedef long long ll;
typedef pair< int,int > pii;

vector< int > V[MAXN];

int N;
int A[MAXN];
int B[MAXN],b;
int res[MAXN];
int temp;
int ans[MAXN];
int mx[MAXN];

int main()
{
	int i,j;

	cin >> N;

	for( i=1; i<=N; i++ )
	{
		scanf("%d",&A[i]);

		j = lower_bound( B+1,B+b+1,A[i] ) - B;
		res[i] = j;

		B[j] = A[i];
		if( j > b ) b = j;
	}

	temp = b;

	for( i=N; i>=1; i-- )
	{
		if( res[i] == b )
		{
			mx[b] = max( mx[b] , A[i] );
			V[b].push_back(i);
		}
		else if( A[i] < mx[ res[i]+1 ] )
		{
			mx[ res[i] ] = max( mx[ res[i] ] , A[i] );
			V[ res[i] ].push_back(i);
		}
		else
			ans[i] = 1;
	}

	for( i=1; i<=b; i++ )
	{
		if( V[i].size() == 1 ) ans[ V[i][0] ] = 3;

		else
			for( j=0; j<V[i].size(); j++ )
				ans[ V[i][j] ] = 2;
	}

	for( i=1; i<=N; i++ )
		printf("%d",ans[i]);

	cout << endl;
}
