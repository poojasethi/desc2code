#include <bits/stdc++.h>

using namespace std;

#define ll long long

const int inf = 100000000;
const int N = 100010;
int x[N], t[N], l1[N], l2[N], res[N], d[N];


int main() {
    int n, i, j, ans(0);
    cin >> n;
    for(i = 1; i <= n; i++)
        cin >> x[i];
    for(i = 1; i <= n; i++) {
        t[i] = inf;
        j = lower_bound(t + 1, t + i + 1, x[i]) - t;
        t[j] = x[i];
        l1[i] = j;
        ans = max(ans, l1[i]);
    }
    for(i = n; i >= 1; i--) {
        t[n - i + 1] = inf;
        j = lower_bound(t + 1, t + n - i + 2, -x[i]) - t;
        t[j] = -x[i];
        l2[i] = j;
    }
    for(i = 1; i <= n; i++)
        if(l1[i] + l2[i] - 1 != ans)
            res[i] = 1;
        else {
            res[i] = 2;
            d[l1[i]]++;
        }
    for(i = 1; i <= n; i++)
        if(res[i] == 2 && d[l1[i]] == 1)
            res[i] = 3;
    for(i = 1; i <= n; i++)
        cout << res[i];
    return 0;
}
