#include <cstdio>
#include <cstring>
#include <algorithm>
#define N 101000
#define inf 0x3f3f3f3f
using namespace std;
int n;
int s[N],a[N],f[N],g[N],js[N],num;
bool in[N];
int main()
{
//	freopen("test.in","r",stdin);
	int i,j,k;
	scanf("%d",&n);
	for(i=1;i<=n;i++)scanf("%d",&s[i]);
	memset(f,0x3f,sizeof(f));
	f[0]=0;
	for(i=1;i<=n;i++)
	{
		int l=0,r=num,mid,ans=0;
		for(j=1;j<=20;j++)
		{
			mid=l+r>>1;
			if(f[mid]<s[i])l=mid+1,ans=mid;
			else r=mid;
		}
		f[ans+1]=min(f[ans+1],s[i]);
		if(ans==num)num++;
		a[i]=ans+1;
	}
//	memset(g,0,sizeof(g));
	g[num+1]=inf;
	for(i=n;i;i--)if(s[i]<g[a[i]+1])
	{
		js[a[i]]++;
		in[i]=1;
		g[a[i]]=max(g[a[i]],s[i]);
	}
	for(i=1;i<=n;i++)
	{
		if(in[i])
		{
			if(js[a[i]]==1)printf("3");
			else printf("2");
		}
		else printf("1");
	}
	puts("");
	return 0;
}
