#include<bits/stdc++.h>
using namespace std;
const int N(1e5+20);
struct hh{
	int f,v;
}a[N];
int n,d[N],f[N],l,top[N],k[N],nowmax,ff[N];
int main()
{
	scanf("%d",&n);
	for(int i(1);i<=n;i++)
		scanf("%d",&a[i].v);
	memset(d,0x3f,sizeof(d));
	for(int i(1);i<=n;i++){
		int t=lower_bound(d+1,d+i+1,a[i].v)-d;
		a[i].f=t;
		d[t]=a[i].v;
		l=max(l,t);
	}
	for(int i(n);i>=1;i--){
		if(a[i].f==l||a[top[a[i].f+1]].v>a[i].v){
			if(!top[a[i].f])top[a[i].f]=i,ff[a[i].f]=3;
			else ff[a[i].f]=2,top[a[i].f]=a[top[a[i].f]].v<a[i].v?i:top[a[i].f];
		}
		else k[i]=1;
	}
	for(int i(1);i<=n;i++)
		printf("%d",k[i]?k[i]:ff[a[i].f]);
	puts("");
	return 0;
}
