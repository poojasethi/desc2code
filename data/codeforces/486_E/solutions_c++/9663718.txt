#include<bits/stdc++.h>
using namespace std;

const int MAXN = 100000;

int n, A[MAXN + 10];
int d1[MAXN + 10], d2[MAXN + 10], g[MAXN + 10], ans[MAXN + 10], c[MAXN + 10];

int main()  {
    scanf("%d", &n);
    for(int i = 1; i <= n; i++)
        scanf("%d", &A[i]);

    g[0] = 0;
    for(int i = 1; i <= n; i++) {
        int k = lower_bound(g + 1, g + g[0] + 1, A[i]) - g;
        d1[i] = k;
        g[k] = A[i];
        g[0] = max(g[0], d1[i]);
    }

    g[0] = 0;
    for(int i = n; i >= 1; i--) {
        int k = lower_bound(g + 1, g + g[0] + 1, -A[i]) - g;
        d2[i] = k;
        g[k] = -A[i];
        g[0] = max(g[0], d2[i]);
    }

    for(int i = 1; i <= n; i++) {
        if(d1[i] + d2[i] != g[0] + 1) ans[i] = 1;
        else ans[i] = 0, c[d1[i]]++;
    }
    for(int i = 1; i <= n; i++)
        if(!ans[i]) ans[i] = c[d1[i]] > 1 ? 2 : 3;
    for(int i = 1; i <= n; i++)
        printf("%d", ans[i]);
    return 0;
}

 		 	         		   	    	 					