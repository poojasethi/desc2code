#include<cstdio>
#include<iostream>
#include<algorithm>
#define MAXN 100000
using namespace std;
int A[MAXN+10];
int dp1[MAXN+10],dp2[MAXN+10];
int g[MAXN+10];
int ans[MAXN+10];
int d[MAXN+10];
int main()
{
	int n,i;
	scanf("%d",&n);
	for(i=1;i<=n;i++)
		scanf("%d",&A[i]);
	for(i=1;i<=MAXN;i++)
		g[i]=1000000;
	int cnt=0;
    for(i=1;i<=n;i++)
	{
		int k=lower_bound(g+1,g+1+n,A[i])-g;
		dp1[i]=k;
		g[k]=A[i];
		if(cnt<dp1[i]) cnt=dp1[i];
	}
	for(i=n;i>=1;i--)
	{
		int k=lower_bound(g+1,g+1+n,-A[i])-g;
		dp2[i]=k;
		g[k]=-A[i];
	}
	cnt++;
	for(i=1;i<=n;i++)
	{
		if(dp1[i]+dp2[i]!=cnt) ans[i]=1;
		else d[dp1[i]]++;
	}
	for(i=1;i<=n;i++)
	{
		if(!ans[i])
		{
			if(d[dp1[i]]>1) ans[i]=2;
			else ans[i]=3;
		}
		printf("%d",ans[i]);
	}
	printf("\n");
}
 	  	  				 	   			 	 			 		 		