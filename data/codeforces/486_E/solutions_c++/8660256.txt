#include <stdio.h>
const int maxn = 100005;
int a[maxn];
int b[maxn];
int next[maxn];
int id[maxn];
int ma[maxn];
int coin[maxn];
int find(int l, int r, int k){
	if(l == r) return l;
	int m = (l + r) / 2;
	if(b[m] < k) return find(m + 1, r, k);
	return find(l, m, k);
}
int main(){
	
	int n,m = 0, j;
	scanf("%i",&n);
	for(int i = 1; i <= n; i ++){
		scanf("%i",&a[i]);
		b[i] = maxn;
	}
	for(int i = 1; i <= n; i ++){
		j = find(1,n,a[i]);
		b[j] = a[i];
		id[i] = j;
		if(j > m) m = j;
	}
//	for(int i = 1; i <= n; i ++) printf("%i ",b[i]);
//	puts("");
	ma[m + 1] = maxn;
	//printf("%i\n",id[4]);
	for(int i = n; i > 0; i --){
		if(a[i] < ma[id[i] + 1]){
			coin[id[i]] ++;
			if(ma[id[i]] < a[i]) ma[id[i]] = a[i];
		}else a[i] = 0;
	}
	for(int i = 1; i <= n; i ++){
		if(a[i] == 0) printf("1");
		else if(coin[id[i]] == 1) printf("3");
		else printf("2");
	}
	return 0;
}