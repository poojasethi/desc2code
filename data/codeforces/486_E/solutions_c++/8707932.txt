#include <bits/stdc++.h>

using namespace std;

int arr[100005], aux[100005], n;
int start[100005], end[100005], cnt[100005];

int main() {
  scanf("%d", &n);
  for (int i = 0; i < n; ++i) scanf("%d", &arr[i]);
  int sz = 0, lis = 0;
  for (int i = 0; i < n; ++i) {
    int x = lower_bound(aux, aux+sz, arr[i]) - aux;
    if (x == sz) ++sz;
    end[i] = x+1;
    lis = max(lis, x+1);
    aux[x] = arr[i];
  }
  sz = 0;
  for (int i = n-1; i >= 0; --i) {
    int x = lower_bound(aux, aux+sz, arr[i], greater<int>()) - aux;
    if (x == sz) ++sz;
    start[i] = x+1;
    aux[x] = arr[i];
  }
  for (int i = 0; i < n; ++i) {
    if (start[i] + end[i] - 1 == lis) {
      cnt[start[i]]++;
    }
  }
  for (int i = 0; i < n; ++i) {
    if (start[i] + end[i] - 1 != lis) putchar('1');
    else if (cnt[start[i]] != 1) putchar('2');
    else putchar('3');
  }
  puts("");
  return 0;
}
