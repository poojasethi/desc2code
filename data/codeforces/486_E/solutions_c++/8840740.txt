#include <iostream>
#include <cstdlib>
#include <algorithm>
#include <utility>
#include <vector>
#include <cstring>
#define MAXN 100010

using namespace std;

int n,a[MAXN];
int len[MAXN],b[MAXN],maxlen;
int ans[MAXN],ct[MAXN];

int main() {
    cin >> n;
    for (int i = 1; i <= n; i++) {
        cin >> a[i];
        b[i] = MAXN;
    }
    for (int i = 1; i <= n; i++) {
        len[i] = lower_bound(b,b+n+1,a[i]) - b;
        b[len[i]] = min(b[len[i]],a[i]);
        maxlen = max(maxlen,len[i]);
    }
    memset(b,0,sizeof(b));
    b[maxlen+1] = MAXN;
    for (int i = n; i > 0; i--) {
        if (a[i] < b[len[i]+1]) {
            b[len[i]] = max(b[len[i]],a[i]);
            ct[len[i]]++;
            ans[i] = 1;
        }
    }
    for (int i = 1; i <= n; i++) {
        if (ans[i] && ct[len[i]] == 1) cout << 3;
        else cout << ans[i]+1;
    }
    cout << '\n';
}
