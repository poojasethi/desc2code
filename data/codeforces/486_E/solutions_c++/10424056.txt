#include <bits/stdc++.h>
typedef long long LL;
#define rep(i,n) for(int i = 0;i < n;i ++)
using namespace std;

const int N = 100010;
int a[N], d[N], f[N];
int l[N], r[N];
int ans[N], L;
void Go(int *a, int *f, int *d, int n) {
	fill(f, f + n, 1e9);
	rep(i, n) {
		int k = lower_bound(f, f + n, a[i]) - f;
		d[i] = k + 1;
		f[k] = a[i];
		L = max(L, d[i]);
	}
}
int cnt[N];
int main() {
	int n;
	scanf("%d", &n);
	rep(i, n)
		scanf("%d", a + i);
	Go(a, f, l, n);
	reverse(a, a + n);
	rep(i, n)	a[i] *= -1;
	Go(a, f, r, n);
	reverse(r, r + n);
	rep(i, n) {
		if(l[i] + r[i] - 1 == L) {
			cnt[l[i]] ++;
		} else
			ans[i] = 1;
	}
	rep(i, n) if(l[i] + r[i] - 1 == L) {
		ans[i] = cnt[l[i]] == 1 ? 3: 2;
	}
	rep(i, n)
		printf("%d", ans[i]);
	puts("");
	return 0;
}

