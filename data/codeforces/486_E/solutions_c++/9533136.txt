#include<bits/stdc++.h>
#define f(i,x,y) for (int i = x; i < y; i++)
#define fd(i,x,y) for(int i = x; i>= y; i--)
#define all(v) (v).begin(), (v).end()
#define clr(A,x) memset(A, x, sizeof A)
#define pb push_back
#define cua(x) (x)*(x)
#define eps (1e-9)
#define oo (1<<30)
#define MAXN 100005
using namespace std;
int F1[MAXN], F2[MAXN], a[MAXN], b[MAXN];
int n;
int main(){
	cin >> n;
	f(i,0,n) {
		cin >> a[i];
		b[i]=a[i]*(-1);
	}
	int mini[MAXN];
	int sz=0;
	//Primer LIS
	f(i,0,n){
		int j = lower_bound(mini,mini+sz,a[i])-mini;
		if(j==sz)sz++;
		mini[j]=a[i];
		F1[i]=j+1;
	}
	//Segundo LIS
	sz=0;
	for(int i=n-1;i>=0;i--){
		int j = lower_bound(mini,mini+sz,b[i])-mini;
		if(j==sz)sz++;
		mini[j]=b[i];
		F2[i]=j+1;
	}
	int aux[MAXN];
	clr(aux,0);
	int ans[MAXN];
	clr(ans,-1);
	f(i,0,n)
		if(F1[i]+F2[i]-1<sz) ans[i]=1;
	f(i,0,n)
		if(ans[i]==-1) aux[F1[i]]++;
	f(i,0,n){
		if(ans[i]==-1&&aux[F1[i]]!=1) ans[i]=2;
		else if(ans[i]==-1) ans[i]=3;
	}
	f(i,0,n) cout << ans[i];
	cout << endl;
}

