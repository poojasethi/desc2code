#include<bits/stdc++.h>
using namespace std;
#define N 123456
int a[N],b[N],c[N];
int good[N];
int dp[N];
int now[N];

int main()
{
    int n;
    cin>>n;
    for (int i=1;i<=n;i++) cin>>a[i];

    int t=0;
    for (int i=1;i<=n;i++)
    {
        if (a[i]>b[t]) {b[++t]=a[i];dp[i]=t;}
        else
        {
           int x=lower_bound(b+1,b+t+1,a[i])-b;
           b[x]=a[i];
           dp[i]=x;
        }
    }

    int mx=t;

    for (int i=n;i>=1;i--)
    if (dp[i]==mx||now[dp[i]+1]>a[i])
    {
        good[i]=dp[i];
        c[good[i]]++;
        now[dp[i]]=max(now[dp[i]],a[i]);
    }

    for (int i=1;i<=n;i++)
    {
        if (c[good[i]]==0) cout<<1;
        else if (c[good[i]]==1) cout<<3;
        else cout<<2;
    }
    return 0;
}
