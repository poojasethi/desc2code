#include <cstdio>
#include <algorithm>
#define FOR(i,l,r) for (int i=l; i<=r; i++)
const int maxn=1e5;
using namespace std;
typedef int iarrN[maxn+1];
int N;
iarrN A, Fx, BIT, maxA, cnt, ans;

void inout(){

    scanf("%d",&N);
    FOR(i,1,N)scanf("%d",&A[i]);
}

int getBIT(int i){
    int v=0;
    for(i=i; i>0; i-=(i &(i ^(i-1))))
        v=max(v,BIT[i]);
    return v;
}

void update(int i, int v){
    for(i=i; i<=maxn; i+=(i &(i ^(i-1))))
        BIT[i]=max(BIT[i],v);
}

int main(){
    inout();
    int maxv=0;
    FOR(i,1,N){
        int v=getBIT(A[i]-1);
        Fx[i]=v+1;
        update(A[i],v+1);
        maxv=max(maxv,v+1);
    }
    for(int i=N; i>=1; i--){
        if (Fx[i]==maxv || maxA[Fx[i]+1]>A[i]){
            cnt[Fx[i]]++;
            maxA[Fx[i]]=max(maxA[Fx[i]],A[i]);
        } else ans[i]=1;
    }
    FOR(i,1,N) if (ans[i]==1) printf("%d",1); else
        if (cnt[Fx[i]]==1) printf("%d",3); else printf("%d",2);
}
