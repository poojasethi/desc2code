#include<cstdio>
#include<algorithm>
#include<cstring>
#define N 100010
#define lowbit(_x) (_x & (-_x))
using namespace std;
int n, i, mx, a[N], c[N], t[N], f[N], g[N];
void add(int p, int x)
{
	for (;p <= mx; p += lowbit(p))
		c[p] = max(c[p], x);
}
int query(int x)
{
	int w = 0;
	for (x; x >= 1; x -= lowbit(x))
		w = max(w, c[x]);
	return w;
}
int main()
{
	scanf("%d", &n);
	for (i = 1; i <= n; i++)
		scanf("%d", &a[i]), mx = max(a[i], mx);
	for (i = 1; i <= n; i++)
		f[i] = query(a[i] - 1) + 1, add(a[i], f[i]);
	memset(c, 0, sizeof(c));
	for (i = n; i >= 1; i--)
		g[i] = query(mx - a[i]) + 1, add(mx - a[i] + 1, g[i]);
	mx = 0;
	for (i = 1; i <= n; i++)
		mx = max(f[i], mx);
	for (i = 1; i <= n; i++)
		if (f[i] + g[i] - 1 == mx) t[f[i]]++;
	for (i = 1; i <= n; i++)
		if (f[i] + g[i] <= mx) printf("1");
		else if (t[f[i]] > 1) printf("2");
		else printf("3");
	return 0;
}