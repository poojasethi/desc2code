//In the Name of God ;

#include<bits/stdc++.h>

using namespace std;

const int Maxn=1<<20;
const int Inf=1e9+7;

int n;
int a[Maxn];
int ANS,ans;
int l[Maxn],r[Maxn];
int h[Maxn],ted[Maxn];

void bs(int l,int r,int x,int t)
{
  if(l>r)
    return;
  int mid=(l+r)/2;
  if(h[mid]*t>=x*t)
    bs(l,mid-1,x,t);
  else
    ans=mid+1,bs(mid+1,r,x,t);
}

int main()
{
  ios_base::sync_with_stdio(0),cout.tie(0),cin.tie(0);
  cin>>n;
  for(int i=0;i<n;i++)
    cin>>a[i];
  for(int i=0;i<n;i++)
    ans=1,h[i+1]=Inf,bs(0,i+1,a[i],1),l[i]=ans,h[ans]=min(h[ans],a[i]),ANS=max(ANS,ans);
  h[0]=Inf;
  for(int i=n-1;i>=0;i--)
    ans=1,h[n-i]=0,bs(0,n-i,a[i],-1),r[i]=ans,h[ans]=max(h[ans],a[i]);
  //for(int i=0;i<n;i++)
    //cout<<l[i]<<" "<<r[i]<<endl;
  ANS++;
  for(int i=0;i<n;i++)
    if(l[i]+r[i]==ANS)
      ted[l[i]]++;
  for(int i=0;i<n;i++)
    if(l[i]+r[i]==ANS)
      cout<<((ted[l[i]]>1)?2:3);
    else
      cout<<1;
  return 0;
}
