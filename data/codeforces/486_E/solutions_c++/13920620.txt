#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int a[100003],d1[100003],d2[100003],g[100003],ans[100003],c[100003];

int main()
{
  int n;scanf("%d",&n);
  for(int i=1;i<=n;i++)
  	scanf("%d",&a[i]);
  memset(g,127,sizeof(g));
  int ml=0;
  for(int i=1;i<=n;i++)
  {
  	int k=lower_bound(g+1,g+n+1,a[i])-g;
  	d1[i]=k;g[k]=a[i];
  	ml=max(ml,d1[i]);
  }
  for(int i=n;i>=1;i--)
  {
  	int k=lower_bound(g+1,g+n+1,-a[i])-g;
  	d2[i]=k;g[k]=-a[i];
  }
  memset(c,0,sizeof(c));
  for(int i=1;i<=n;i++)
  	if(d1[i]+d2[i]!=ml+1) ans[i]=1;
  	else ans[i]=0,c[d1[i]]++;
  for(int i=1;i<=n;i++)
  	if(!ans[i])	ans[i]=c[d1[i]]>1?2:3;
  for(int i=1;i<=n;i++)
  	printf("%d",ans[i]);
  return 0;
}
 	
