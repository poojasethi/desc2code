#include <bits/stdc++.h>
#define maxn 100009
using namespace std;
const int INF=1e9;
int n,a[maxn],d[maxn],g[maxn],mx;
int f[maxn],type[maxn],is[maxn],pos[maxn];
vector<int>G[maxn];
int main()
{
	scanf("%d",&n);
	for(int i=0;i<n;i++)
		scanf("%d",&a[i]);
	for(int i=1;i<=n;i++)g[i]=INF;
	for(int i=0;i<n;i++)
	{
		int k=lower_bound(g+1,g+n+1,a[i])-g;
		d[i]=k;
		g[k]=a[i];
	}
	memset(f,-1,sizeof(f));
	for(int i=0;i<n;i++)
		mx=max(mx,d[i]);
	d[n]=mx+1; f[mx+1]=INF;pos[mx+1]=n;is[n]=1;
	for(int i=n-1;i>=0;i--)
	{	
		if(f[d[i]+1]>a[i])
			is[i]=1;
		if(is[i]&&a[i]>f[d[i]])
		{
			f[d[i]]=a[i];
			pos[d[i]]=i;
		}
		if(is[i]==0)
			type[i]=1;
		else
		{
			G[d[i]].push_back(i);
		}
	}
	for(int i=1;i<=mx;i++)
	{
		if((int)G[i].size()==0||(int)G[i].size()>1)
			continue;
		type[G[i][0]]=3;
	}
	for(int i=0;i<n;i++)
	{
		if(type[i]==0)
			type[i]=2;
		printf("%d",type[i]);
	}
	//system("pause");
	return 0;
}