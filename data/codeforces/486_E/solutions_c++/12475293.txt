#include<bits/stdc++.h>
using namespace std;
struct node{
	int value;
	int s;
}a[100005];
int d[100005],top[100005],k[100005],f[100005];
int main(){
	int n;
	cin>>n;
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i].value);
	memset(d,0x3f,sizeof(d));
	int len=0;
	for(int i=1;i<=n;i++){
		int t=lower_bound(d+1,d+i+1,a[i].value)-d;
		a[i].s=t;
		d[t]=a[i].value;
		len=max(len,t);
	}
	for(int i=n;i>=1;i--){
		if(a[i].s==len||a[top[a[i].s+1]].value>a[i].value){
			if(top[a[i].s]==0){
				k[a[i].s]=3;
				top[a[i].s]=i;
			}
			else{
				k[a[i].s]=2;
				top[a[i].s]=a[top[a[i].s]].value<a[i].value?i:top[a[i].s];
			}
		}
		else
			f[i]=1;
	}
	for(int i=1;i<=n;i++)
		if(f[i])
			cout<<f[i];
		else
			cout<<k[a[i].s];
	cout<<endl;
	return 0;
}
		  	 							 		   	 				     	