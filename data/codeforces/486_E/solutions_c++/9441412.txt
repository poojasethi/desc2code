#include <cstdio>
#include <queue>
using namespace std;
#define MAXN 100010
#define INF 0x3f3f3f3f
#define MAX(a,b) (a>b?a:b)
int n,L,Max;
int a[MAXN],b[MAXN],next[MAXN],adj[MAXN];
int sta[MAXN],f[MAXN];
int cnt[MAXN];
bool vis[MAXN];
queue <int> q;
void Work()
{
    int i,k;
    scanf("%d",&n);
    for(i=1;i<=n;++i){
        scanf("%d",a+i);
        for(k=L;k && a[i]<=sta[k];--k);
        f[i]=adj[k];
        sta[++k]=a[i];
        next[i]=adj[k]; adj[k]=i;
        L=MAX(L,k);
    }
    for(k=adj[L];k;k=next[k]){
        b[k]=L; ++cnt[L];
        q.push(k); vis[k]=true;
    }
    while(!q.empty()){
        i=q.front(); q.pop();
        for(k=f[i];k;k=next[k])
            if(!vis[k] && a[k]<a[i]){
                b[k]=b[i]-1;
                ++cnt[b[k]];
                vis[k]=true;
                q.push(k);
            }
    }
}
int main()
{
    Work();
    for(int i=1;i<=n;++i)
        printf("%d",b[i]?(cnt[b[i]]==1?3:2):1);
    return 0;
}

 	 			 							 		  	  		   		