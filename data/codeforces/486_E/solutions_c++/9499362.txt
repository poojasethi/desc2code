#include<stdio.h>
#include<algorithm>
#include<string.h>
using namespace std;
const int N=100005,mod=1e9+7;
typedef __int64 LL;
	
inline void read(int &x){
	#define CH getchar()
	char ch;int t=0;x=0;for(ch=CH;ch<'0'||ch>'9';ch=CH) if(ch=='-') t=1;
	for(;ch>='0'&&ch<='9';x=x*10+ch-48,ch=CH);if(t) x=-x;
}	
int a[N],dp[N],ans[N],b[N],c[N];
int main(){
	int i,q,p,j,l,k,T,op,n,m,x,y,t;
	read(n);
	for(i=0;i<n;i++) read(a[i]);
	for(m=i=0;i<n;i++){
		if(a[i]>ans[m]) ans[++m]=a[i],dp[i]=m;
		else{
			p=lower_bound(ans+1,ans+m+1,a[i])-ans;
			ans[p]=a[i];dp[i]=p;
		}
	}
	for(ans[m+1]=N,t=m,i=n-1;i>=0;i--){
		if(dp[i]==t&&a[i]<ans[t+1]) b[dp[i]]++,c[i]=1,ans[t--]=a[i];
		else if(dp[i]>t&&a[i]<ans[dp[i]+1]) b[dp[i]]++,c[i]=1,ans[dp[i]]=max(ans[dp[i]],a[i]);
	}
	for(i=0;i<n;i++){
		if(!c[i]) printf("1");
		else if(b[dp[i]]==1) printf("3");
		else if(b[dp[i]]>1) printf("2");
		else printf("X");
	}
//	system("pause");
	return 0;
}	