#include <iostream>
#include <vector>

using namespace std;

int main () {
  int n, k=1;
  cin >> n;
  vector<int> a(n), l(n), d(n), best(n+1,-1), cnt_valid(n+1,0), answer(n,1);
  for (int i=0; i<n; i++) cin >> a[i];
  l[0]=1, d[0]=a[0];
  
  for (int i=1; i<n; i++) {
    if (a[i]<=d[0]) d[0]=a[i], l[i]=1;
    else {
      int lo=0, hi=k;
      while (lo<hi-1) {
	int m = (hi+lo)/2;
	if (a[i]>d[m]) lo=m;
	else hi = m;
      };
      d[lo+1]=a[i];
      l[i]=lo+2;
      if (lo+1==k) k++;
    }
  };

  for (int i=n-1; i>=0; i--) {
    if (l[i]==k || a[i]<best[l[i]+1]) {
      answer[i] = 3;
      best[l[i]] = max(best[l[i]],a[i]);
      cnt_valid[l[i]]++;
    };
  };

  for (int i=0; i<n; i++) 
    if (answer[i]==3 && cnt_valid[l[i]]>1) 
      answer[i] = 2;
  
  for (int i=0; i<n; i++) cout << answer[i];
  cout << endl;

  return 0;
};
