#include <iostream>
using namespace std;
int a[110], x1[110], y1[110], x2[110], y2[110], n, ans = 0;
bool flag = true;
int main()
{
  cin >> n;
  for(int i = 0; flag && i < n; i++)
  {
    cin >> x1[i] >> y1[i] >> x2[i] >> y2[i];
    if (x1[i] > x2[i]) swap(x1[i], x2[i]);
    if (y1[i] > y2[i]) swap(y1[i], y2[i]);
    a[i] = x2[i] - x1[i];
    flag = true;
    long long m = 0, x = 0, y = 0;
    for(int j = i; flag && j > 0; j--)
    {
      m += 2 * a[j] * a[j] * a[j];
      x += a[j] * a[j] * a[j] * (x1[j] + x2[j]);
      y += a[j] * a[j] * a[j] * (y1[j] + y2[j]);
      flag = (x1[j - 1] * m <= x && x <= x2[j - 1] * m && y1[j - 1] * m <= y && y <= y2[j - 1] * m);
    }
    ans += flag;
  }
  cout << ans;
  return 0;
}
