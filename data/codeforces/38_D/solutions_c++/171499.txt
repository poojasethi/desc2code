#include<cstdio>
#include<algorithm>
#include<vector>
#include<queue>
using namespace std;

const int N=101;
int x1[N],x2[N],y1[N],y2[N];
int n;
double eps=1e-9;

double cube(double x){return x*x*x;}

bool stable(int h){
	if(h<=1) return true;
	double xm=0,ym=0,c,mass=0,x,y;
	for(int i=h-1; i>0; i--){
		x=(x2[i]+x1[i]); x/=2.;
		y=(y2[i]+y1[i]); y/=2.;
		mass+= c=cube(y2[i]-y1[i]);
		xm+=x*c; ym+=y*c;
		x=xm/mass; y=ym/mass;
		if(x+eps<x1[i-1] || x-eps>x2[i-1] || y+eps<y1[i-1] || y-eps>y2[i-1]) 
			return false;
	}
	return true;
}

main(){
	scanf("%d",&n);
	for(int i=0; i<n; i++) {
		scanf("%d %d %d %d", &x1[i], &y1[i], &x2[i], &y2[i]);
		if(x1[i]>x2[i]) swap(x1[i],x2[i]);
		if(y1[i]>y2[i]) swap(y1[i],y2[i]);
	}
	int res=0;
	for(int h=1; h<=n; h++){
		if(stable(h)) res=h;
		else break;
	}
	printf("%d\n",res);
}
