#include<cstdio>
#include<algorithm>
#define fo(i,a,b) for(i=a;i<=b;++i)
using namespace std;
const int mn=251000,ml=21;
int a[mn],b[mn],h[mn][ml],f[mn][ml];
int bi[ml],log[mn];
int n,i,j,k,L;
long long ans;
bool cmp(int i,int j){return b[i]<b[j];}
int query(int l,int r)
{
    if(l<1)return 0;
    int k=log[r-l+1];
    return min(h[l][k],h[r-bi[k]+1][k],cmp);
}
int main()
{
    scanf("%d",&n);
    fo(i,1,n)scanf("%d",a+i);
    fo(i,1,n)a[i+n]=a[i];
    fo(i,1,n+n)b[i]=i-a[i];
    fo(i,1,n+n)h[i][0]=i;
    log[1]=0;
    fo(i,2,n+n)log[i]=log[i>>1]+1;
    for(L=0;(1<<L)<=n+n;++L);
    fo(i,0,L)bi[i]=1<<i;
    fo(j,1,L)
        fo(i,1,n+n-bi[j]+1)
            h[i][j]=min(h[i][j-1],h[i+bi[j-1]][j-1],cmp);
    fo(i,1,n+n)f[i][0]=query(b[i],i);
    fo(j,1,L)
        fo(i,1,n+n)
            f[i][j]=f[f[i][j-1]][j-1];
    fo(i,n+1,n+n)
    {
        if(b[i]<=i-n+1){++ans;continue;}
        k=i;
        for(k=i,j=L;j>=0;--j)
            if(b[f[k][j]]>i-n+1)k=f[k][j],ans+=bi[j];
        ans+=2;
    }
    printf("%I64d\n",ans);
    return 0;
}