#include <iostream>
#include <cstdio>
#include <vector>
#include <cmath>
#include <set>
#include <cmath>
#include <algorithm>
#define pb push_back
using namespace std;
int n,m,a,b,g,ok,low,l,r,i;
long long lft[55],rgt[55],tot[55],gen[55];
int main()
{
cin>>n>>m;int len,num;
for (i=0;i<n;i++)
	{
	cin>>len;int mx=-(1<<30); int sum=0;
	for (int j=0;j<len;j++)
		{  cin>>num;
		tot[i]+=num;
		lft[i]=max(lft[i],tot[i]);
		rgt[i]=min(rgt[i],tot[i]);
		mx=max(mx,num);
		sum+=num;
		if (sum<0)
			sum=0;
		else mx=max(mx,sum);
        }
    gen[i]=mx;
    rgt[i]=tot[i]-rgt[i];
	}
long long cur=0;long long best=(long long)(-1e18);long long d=0,e;
while (m--)
{
cin>>i;i--;
best=max(best,gen[i]);
if (cur)
	best=max(best,cur+lft[i]);
e=max(rgt[i],cur+tot[i]);
cur=max(d,e);
}
cout<<best;
return 0;
}
