#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;
#define ll long long int
struct t{
	ll p,w,e,maxi;
}ar[1000];
int main(){
	int n,m,c,k;
	ll ret= -(1LL<<62);
	cin>>n>>m;
	for(int i=0;i<n;++i){
		cin>>c;
		vector<ll> vv;ll sum = 0;
		for(int j=0;j<c;++j){
			cin>>k; sum+= k;vv.push_back(sum);
		}
		ll least= vv[0];ar[i].maxi=ar[i].e= least;ar[i].maxi= sum;
		for(int j=1;j<vv.size();++j){
			ar[i].maxi = max(ar[i].maxi,max(vv[j]-least,vv[j]));
			if(j==vv.size()-1) ar[i].e = max(sum-least,sum);
			least= min(vv[j],least);
		}
		ll maxi = *max_element(vv.begin(),vv.end()), mini = *min_element(vv.begin(),vv.end());
		ar[i].p = maxi,ar[i].w= sum;
	}
	ll con = 0;
	for(int i=0;i<m;++i){
		cin>>c;--c;
		ret= max(ret,max(con+ar[c].p,ar[c].maxi));
		con = max(con+ar[c].w , ar[c].e);
	}
	ret= max(con,ret);
	cout<<ret<<endl;
}	
