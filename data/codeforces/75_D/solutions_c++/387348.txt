/* DP */

#include<cstdio>
#include<algorithm>

#define	rep(i,n)	for(int i=0;i<(n);i++)

using namespace std;

typedef	long long	ll;

const ll INF=1LL<<61;

int a[50][5000],idx[250000];
ll sum[50],lsum[50],rsum[50],csum[50];

int main(){
	int n,m;	scanf("%d%d",&n,&m);
	rep(i,n){
		int l;	scanf("%d",&l);
		rep(j,l){
			scanf("%d",a[i]+j);
			sum[i]+=a[i][j];
		}

		lsum[i]=a[i][0];
		ll tmp=0;
		rep(j,l){
			tmp+=a[i][j];
			lsum[i]=max(lsum[i],tmp);
		}

		rsum[i]=a[i][l-1];
		tmp=0;
		for(int j=l-1;j>=0;j--){
			tmp+=a[i][j];
			rsum[i]=max(rsum[i],tmp);
		}

		csum[i]=a[i][0];
		tmp=0;
		rep(j,l){
			tmp=max(tmp+a[i][j],(ll)a[i][j]);
			csum[i]=max(csum[i],tmp);
		}
	}

	ll ans=-INF,tmp=0;
	rep(i,m){
		scanf("%d",idx+i);
		idx[i]--;
		ans=max(ans,csum[idx[i]]);
		ans=max(ans,tmp+lsum[idx[i]]);
		tmp=max(rsum[idx[i]],tmp+sum[idx[i]]);
	}
	printf("%I64d\n",ans);

	return 0;
}
