#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

const int N = 55, M = 15005;
typedef long long LL;
LL pre[N], suf[N], maxl[N], sum[N];
int a[M];

int main() {
    int n, m;
    scanf("%d%d", &n, &m);
    for (int I = 1; I <= n; ++I) {
	int L;
	scanf("%d", &L);
	for (int i = 1; i <= L; ++i) 
	    scanf("%d", &a[i]);
	pre[I] = maxl[I] = a[1];
	suf[I] = a[L];
	LL p = 0, q = 0;
	for (int i = 1; i <= L; ++i) {
	    p += a[i];
	    pre[I] = max(pre[I], p);
	    maxl[I] = max(maxl[I], p - q);
	    q = min(q, p);
	}
	sum[I] = p;
	p = 0;
	for (int i = L; i; --i) {
	    p += a[i];
	    suf[I] = max(suf[I], p);
	}
    }
    LL p = 0, ans;
    for (int i = 1; i <= m; ++i) {
	int x;
	scanf("%d", &x);
	if (i == 1) ans = maxl[x];
	ans = max(ans, maxl[x]);
	ans = max(ans, p + pre[x]);
	p = max(p + sum[x], suf[x]);
	p = max(0LL, p);
    }
    cout << ans << endl;
    return 0;
}
