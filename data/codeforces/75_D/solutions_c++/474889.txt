#include<cstdio>
#include<algorithm>
using namespace std;

const int maxn=250000+10;
long long L[maxn],R[maxn],SUM[maxn],V[maxn],VV[maxn];
int tmp[maxn];
int A[maxn];
int n,m,cnt;

int main()
{
    scanf("%d%d",&n,&m);
    for (int i=1;i<=n;i++)
    {
        scanf("%d",&cnt);
        for (int j=1;j<=cnt;j++) scanf("%d",&tmp[j]);
        VV[i]=-1000000000000000000LL;
        long long S1=0,S2=0,S3=0;
        for (int j=1;j<=cnt;j++)
        {
            S1+=tmp[j];
            S2+=tmp[j];
            S3+=tmp[cnt-j+1];
            L[i]=max(L[i],S1);
            R[i]=max(R[i],S3);
            V[i]=max(V[i],S2);
            S2=max(S2,0LL);
            VV[i]=max(VV[i],(long long)tmp[j]);
        }
        SUM[i]=S1;
    }
    long long S=0,res=0,xxx=-1000000000000000000LL;
    for (int k;m--;)
    {
        scanf("%d",&k);
        res=max(res,V[k]);
        res=max(res,L[k]+S);
        S=max(S+SUM[k],R[k]);
        res=max(res,S);
        xxx=max(xxx,VV[k]);
    }
    if (xxx<0) res=xxx;
    printf("%I64d\n",res);
}
