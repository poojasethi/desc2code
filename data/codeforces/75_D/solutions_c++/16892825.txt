#include <bits/stdc++.h>
#define int long long
#define inf 1e18
using namespace std;
const int N = 100;
int sum[N], mn[N], mx[N], solve[N];
main()
{
    int n, m, i, j, ans = -inf, x;
    cin >> n >> m;
    for(i = 1; i <= n; i ++)
    {
        int l;
        cin >> l;
        int s = 0, cnt = 0, mos = -inf, sol = -inf;
        for(j = 1; j <= l; j ++)
        {
            cin >> x;
            s += x;
            sol= max(sol, s - cnt);
            mos = max(mos, s);
            cnt = min(cnt, s);
        }
        solve[i] = sol;
        sum[i] = s;
        mn[i] = cnt;
        mx[i] = mos;
    }
    int s = 0, cnt = 0;
    for(i = 1; i <= m; i ++)
    {
        cin >> x;
        ans = max(ans, solve[x]);
        ans = max(ans, s - cnt + mx[x]);
        s += mn[x];
        ans = max(ans, s - cnt);
        cnt = min(cnt, s);
        if(mn[x] != sum[x])
        {
            s -= mn[x];
            s += sum[x];
            ans = max(ans, s - cnt);
            cnt = min(cnt, s);
        }
    }
    cout << ans;
}
