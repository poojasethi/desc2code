#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

main ()
{
	int n,m;
	cin >> n >> m;

	long long start[n];
	long long end[n];
	long long full[n];
	long long mid[n];

	for (int i = 0; i < n; i++)
	{
		int l;
		cin >> l;

		long long arr[l];
		for (int j = 0; j < l; j++) cin >> arr[j];
		
		start[i] = arr[l-1];
		long long x = arr[l-1];
		for (int j = l-2; j >= 0; j--)
		{
			x += arr[j];
			start[i] = max(start[i],x);
		}
	
		end[i] = arr[0];
		x = arr[0];
		for (int j = 1; j < l; j++)
		{
			x += arr[j];
			end[i] = max(end[i],x);
		}
	
		full[i] = 0;
		for (int j = 0; j < l; j++)
		{
			full[i] += arr[j];
		}

		mid[i] = arr[0];
		x = arr[0];
		for (int j = 1; j < l; j++)
		{
			x = max(arr[j],x+arr[j]);
			mid[i] = max(mid[i],x);
		}
	}


	int seq[m];

	for (int i = 0; i < m; i++)
	{
		cin >> seq[i];
		seq[i]--;
	}

	long long ans = mid[seq[0]];
	for (int i = 0; i < m; i++) ans = max(ans,mid[seq[i]]);

	long long x = start[seq[0]];
	for (int i = 1; i < m; i++)
	{
		ans = max(x,ans);
		ans = max(x+end[seq[i]],ans);
		x = max(x+full[seq[i]],start[seq[i]]);
	}

	cout << ans << "\n";
}	
