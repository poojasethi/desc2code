#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
using namespace std;

typedef long long LL;
LL sum[55], minval[55], maxleft[55], maxright[55], maxseg[55];
int a[55][5005], na[55];
int main(void) {
	LL ans=0; bool flag=0;
	int n, m;
	scanf("%d%d", &n, &m);
	for(int i=1;i<=n;i++) {
		scanf("%d", &na[i]);
		for(int j=0;j<na[i];j++) scanf("%d", &a[i][j]);
		sum[i] = minval[i] = maxleft[i] = maxseg[i] = a[i][0];
		for(int j=1;j<na[i];j++) {
			sum[i] += a[i][j];
			maxseg[i] = max(maxseg[i], sum[i]-min(0LL,minval[i]));
			maxright[i] = sum[i] - min(0LL,minval[i]);
			minval[i] = min(minval[i], sum[i]);
			maxleft[i] = max(maxleft[i], sum[i]);
		}
	}
	int x=0;
	LL s=0;
	for(int i=0;i<m;i++) {
		scanf("%d", &x);
		if(!flag) {flag=1; ans = maxseg[x];}
		if(i) {
			ans = max(ans, maxseg[x]);
			ans = max(ans, s + maxleft[x]);	
		}
		s = max(s+sum[x], maxright[x]);
	}
	printf("%I64d\n", ans);
	return 0;
}

