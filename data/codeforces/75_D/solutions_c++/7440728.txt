#include <cstdio>
#include <algorithm>

using namespace std;
typedef long long ll;
const int N = 5005;
const int M = 55;
ll ans[M], top[M], end[M], sum[M];
int a[N];
int main() {
	int n, m, size;
	scanf("%d%d", &n, &m);
	for(int i = 1; i <= n; i ++) {
		scanf("%d", &size);
		for(int j = 1; j <= size; j ++) {
			scanf("%d", &a[j]);
			sum[i] += a[j];
		}
		ll sur = 0, Max = -1111;
		for(int j = 1; j <= size; j ++) {
			sur += a[j];
			if(sur > Max) {
				Max = sur;
			}
			if(sur < 0) sur = 0;
		}
		ans[i] = Max;

		top[i] = -1111;
		sur = 0;
		for(int j = 1; j <= size; j ++) {
			sur += a[j];
			if(sur > top[i]) top[i] = sur;
		}
		
		end[i] = -1111;
		sur = 0;
		for(int j = size; j >= 1; j --) {
			sur += a[j];
			if(sur > end[i]) end[i] = sur;
		}
	}
	int x;
	ll sur = 0, Max = -1111;
	while(m-- > 0) {
		scanf("%d", &x);
		if(ans[x] > Max) Max = ans[x];
		
		if(sur + top[x] > Max) Max = sur + top[x];
		
		sur = max(sur + sum[x], end[x]);
	}
	printf("%I64d\n", Max);
	return 0;
}
 		 			 	 	 	 			 	 	 	