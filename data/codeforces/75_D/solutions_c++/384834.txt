#include<stdio.h>
#include<string.h>
int ml[55],mr[55],a[5005],d1[5005],d2[5005],mv[55],dp[5005],sum[55];
int main()
{
	int i,j,l,id,n,m;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)
	{
		scanf("%d",&l);
		int m1,m2;
		m1=m2=-1000000000;
		d1[0]=0;
		d2[l+1]=0;
		for(j=1;j<=l;j++)
		{
			scanf("%d",a+j);
			sum[i]+=a[j];
			d1[j]=d1[j-1]+a[j];
			if(d1[j]>m1)m1=d1[j];
		}
		for(j=l;j>0;j--)
		{
			d2[j]=d2[j+1]+a[j];
			if(d2[j]>m2)m2=d2[j];
		}
		ml[i]=m1;
		mr[i]=m2;
		int m3=-1000000000;
		for(j=1;j<=l;j++)
		{
			if(dp[j-1]>0)dp[j]=dp[j-1]+a[j];
			else dp[j]=a[j];
			if(dp[j]>m3)m3=dp[j];
		}
		mv[i]=m3;
	}
	__int64 res=0,r=0,rr;
	scanf("%d",&id);
	res=mv[id];
	r=mr[id];
	for(i=1;i<m;i++)
	{
		scanf("%d",&id);
		if(r>0)
			rr=r+ml[id];
		else rr=ml[id];
		if(res<rr)res=rr;
		if(res<mv[id])res=mv[id];
		
		if(r+sum[id]>mr[id])r=r+sum[id];
		else r=mr[id];
	}
	printf("%I64d\n",res);
}
