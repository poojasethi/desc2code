#include<bits/stdc++.h>
#define MP make_pair
#define R second
#define L first
using namespace std;
typedef long long lint;
const int maxn=50+5, maxm=250000+1000, maxl=5000+100;
lint mx[maxn], mn[maxn], sum[maxn], best[maxn];

int main(){
	int n, m;
	cin >> n >> m;
	for(int i=0;i<n;i++){
		int Ni;
		cin >> Ni;
		best[i]=mx[i]=-10000000000000000ll;
		for(int j=0;j<Ni;j++){
			int x;
			cin >> x;
			sum[i]+=x;
			mx[i]=max(mx[i], sum[i]);
			best[i]=max(best[i], sum[i]-mn[i]);
			mn[i]=min(mn[i], sum[i]);
		}
	}
	lint s=0, res=-10000000000000000ll, MIN=0;
	for(int i=0;i<m;i++){
		int x;
		cin >> x;
		x--;
		res=max(res, best[x]);
		res=max(res, mx[x]+s-MIN);
		MIN=min(MIN, s+mn[x]);
		s+=sum[x];
	}
	cout << res << endl;
}
