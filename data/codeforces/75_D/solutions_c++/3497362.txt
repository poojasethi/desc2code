#include <stdio.h>
#include <limits.h>

#define LLMAX(x, y) ((x) > (y) ? (x) : (y))

typedef long long int lint;

int main(void)
{
    lint sum[64], front[64], back[64], mss[64];
    lint maxi, t;
    int aid;
    int n, m;
    int i, j;

    scanf("%d %d", &n, &m);
    for (i = 1; i <= n; i++){
        int ai, an;
        lint sumi;

        front[i] = mss[i] = LLONG_MIN;
        sumi = sum[i] = 0;

        scanf("%d", &an);
        for (j = 0; j < an; j++){
            scanf("%d", &ai);
            sum[i] += ai;
            sumi += ai;

            front[i] = LLMAX(sum[i], front[i]);
            mss[i] = LLMAX(sumi, mss[i]);
            sumi = LLMAX(0, sumi);
        }
        back[i] = sumi;
    }

    maxi = LLONG_MIN;
    t = 0;
    while (~scanf("%d", &aid)){
        maxi = LLMAX(mss[aid], maxi);
        maxi = LLMAX(t + front[aid], maxi);

        t = LLMAX(t + sum[aid], back[aid]);
        t = LLMAX(0, t);
    }
    printf("%I64d\n", maxi);

    return (0);
}
