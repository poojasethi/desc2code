#include<bits/stdc++.h>
using namespace std;

typedef long long ll;

ll pre[55], suf[55], maxl[55], sum[55], inp[5005];

int main(){
    int n,m; cin >> n >> m;
    for(int i=1;i<=n;i++){
        int len; cin >> len;
        for(int j=1;j<=len;j++) cin >> inp[j];
        pre[i] = maxl[i] = inp[1];
        ll p = 0, q = 0;
        for(int j=1;j<=len;j++){
            p += inp[j];
            pre[i] = max(pre[i],p);
            maxl[i] = max(maxl[i],p - q);
            q = min(q,p);
        }
        sum[i] = p; p = 0;
        for(int j=len;j>0;j--){
            p += inp[j];
            suf[i] = max(suf[i],p);
        }
    }
    ll p = 0,ans;
    for(int i=1;i<=m;i++){
        int x; cin >> x;
        if(i == 1) ans = maxl[x];
        ans = max(ans,maxl[x]);
        ans = max(ans,p + pre[x]);
        p = max(p + sum[x], suf[x]);
        p = max(0LL, p);
    }
    cout << ans << '\n';
    return 0;
}
