#include <iostream>
#include <cstring>
#include <cstdio>
#include <algorithm>
using namespace std;

const int INF = 0x3fffffff;
typedef long long LL;

int n, m;
LL gen[50], lft[50], rght[50], tot[50];

int main()
{
	scanf("%d%d", &n, &m);
	int len, num;
	for (int i = 0; i < n; i++)
	{
		scanf("%d", &len);
		int mx = -INF;
		int sum = 0;
		for (int j = 0; j < len; j++) 
		{
			scanf("%d", &num);
			tot[i] += num;
			lft[i] = max(lft[i], tot[i]);
			rght[i] = min(rght[i], tot[i]);
			mx = max(mx, num);
			sum += num;
			if (sum < 0)
				sum = 0;
			else
				mx = max(mx, sum);
		}
		gen[i] = mx;
		rght[i] = tot[i] - rght[i];
	}
	LL cur = 0;
	LL ans = -((LL)INF)*((LL)INF);
	while (m--) 
	{
		int i;
		scanf("%d", &i);
		i--;
		ans = max(ans, gen[i]);
		if (cur)
			ans = max(ans, cur + lft[i]);
		cur = max(0LL, max(rght[i], cur + tot[i]));
	}
	cout << ans << endl;
	return 0;
}

   	 	 	 	 			 					     	