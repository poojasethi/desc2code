#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cmath>
#include <cstring>
using namespace std;
#define p(x) cout<<#x<<":"<<x<<"\n"
#define ll long long
#define lim 51
#define lim2 5001

ll n,m,mx,s,z,i,j,x;
ll S[lim],M[250001],X[250001],A[lim2],L[lim2],R[lim2],C[lim],MX[lim];

int main()
{
  scanf("%I64d%I64d",&n,&m);
  for(i=1;i<=n;i++)
  {
    MX[i]=-1001;
    scanf("%I64d",&S[i]);  
    for(j=1,s=z=0,R[i]=0;j<=S[i];j++)
    {
      scanf("%I64d",&A[j]);
      s+=A[j];
      z+=A[j];
      if(j==1 || z>L[i])
        L[i]=z;
      if(j<S[i] && z<R[i])
        R[i]=z;
      MX[i]=max(MX[i],s);
      s=max(s,0ll);
    }
    R[i]=z-R[i];
    C[i]=z;
  }
  for(i=1,mx=-1001;i<=m;i++)
  {
    scanf("%I64d",&x);
    mx=max(mx,MX[x]);
    X[i]=x;
    M[i]=C[x]+M[i-1];
  }
  i=m-1;
  x=M[i]+L[X[i+1]];
  for(;i>=1;i--)
    {
      x=max(x,M[i]+L[X[i+1]]);
      mx=max(mx,x+R[X[i]]-M[i]);
    }
  printf("%I64d",mx);
  return 0;
}
