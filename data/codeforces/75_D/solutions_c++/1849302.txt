#include <cstdio>
#include <algorithm>

using namespace std;

const long long inf=1ll<<63;
int a[51][5001];
long long s[51],f[51],l[51],r[51];
bool fl[51],fr[51];

int main(void)
{
  int n,m;
  scanf("%d %d",&n,&m);
  for(int i=1;i<=n;++i)
  {
    int k;
    scanf("%d",&k);
    long long t=0;
    f[i]=-inf;
    for(int j=1;j<=k;++j)
    {
      scanf("%d",&a[i][j]);
      s[i]+=a[i][j];
      if(s[i]>=l[i])
      {
        l[i]=s[i];
        fl[i]=true;
      }
      t+=a[i][j];
      f[i]=max(f[i],t);
      t=max(t,0ll);
    }
    t=0;
    for(int j=k;j>0;--j)
    {
      t+=a[i][j];
      if(t>=r[i])
      {
        r[i]=t;
        fr[i]=true;
      }
    }
  }
  long long ans=-inf,sum=0;
  bool flag=false;
  for(int i=1;i<=m;++i)
  {
    int k;
    scanf("%d",&k);
    ans=max(ans,f[k]);
    if(flag||fl[k])
      ans=max(ans,sum+l[k]);
    sum+=s[k];
    flag=true;
    if(r[k]>sum)
    {
      sum=r[k];
      flag=fr[k];
    }
    if(sum<0)
    {
      sum=0;
      flag=false;
    }
  }
  printf("%I64d\n",ans);
  return 0;
}