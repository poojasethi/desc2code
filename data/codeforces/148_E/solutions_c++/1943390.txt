#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>

using namespace std;
const int N=110;
int a[N],res[N*N],w[N];

int main()
{
    int o,m,k,i,j,n,s=0;
    scanf("%d%d",&o,&m);
    for (k=1; k<=o; k++)
    {
        scanf("%d",&n);
        for (i=1; i<=n; i++) {scanf("%d",&a[i]); a[i]+=a[i-1];}
        memset(w,0,sizeof(w));
        for (i=0; i<=n; i++)
         for (j=n+1; j>i; j--)
          w[i+n+1-j]=max(w[i+n+1-j],a[i]+a[n]-a[j-1]);
        for (j=s; j>=0; j--)
         if (res[j]>0 || j==0)
          for (i=1; i<=n; i++)
           if (j+i<=m)
            res[i+j]=max(res[i+j],res[j]+w[i]);
        s+=n;
        if (s>m) s=m;
    }
    printf("%d\n",res[m]);
}
