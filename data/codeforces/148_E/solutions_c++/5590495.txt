#include <iostream>
#include <cstdlib>
#include <cstring>
#include <string>
#include <vector>
#include <utility>
#include <algorithm>
#include <cmath>

using namespace std;

int n,m,x,v[110],p[10010],dp[110][10010];

int main() {
	cin >> n >> m;
	for (int i = 1; i <= n; i++) {
		memset(p,0,sizeof(p));
		cin >> x;
		for (int j = 1; j <= x; j++) {
			cin >> v[j];
			v[j] += v[j-1];
		}
		for (int j = 0; j <= x; j++) {
			for (int k = 0; k <= j; k++) {
				p[j] = max(p[j],v[k] + v[x]-v[x-j+k]);
			}
		}
		for (int j = 1; j <= m; j++) {
			for (int k = max(j-x,0); k <= j; k++) {
				dp[i][j] = max(dp[i][j],dp[i-1][k] + p[j-k]);
			}
		}
	}
	cout << dp[n][m];
}