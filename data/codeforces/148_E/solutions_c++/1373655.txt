#include <iostream>

using namespace std;

const int Maxn = 100 + 10;

int d[Maxn][Maxn * Maxn];
int a[Maxn][Maxn], siz[Maxn];
int v[Maxn][Maxn], n ,m;

int main()
{
	cin >> n >> m;
	for(int i=0; i<n; i++)
	{
		cin >> siz[i];
		for(int j=0; j<siz[i]; j++)
			cin >> a[i][j];
	}

	for(int i=0; i<n; i++)
		for(int j=1; j<=siz[i]; j++)
		{
			int s = 0;
			for(int k=0; k<j; k++)
				s+=a[i][k];
			s += a[i][j];
			for(int k=0; k<=j; k++)
			{
				s += a[i][siz[i] - k] - a[i][j - k];
				v[i][j] = max(v[i][j], s);
			}
		}


	for(int i=0; i<n; i++)
		for(int j=0; j<=siz[i]; j++)
			for(int k=0; k<=m; k++)
				d[i + 1][j + k] = max(d[i + 1][j + k], d[i][k] + v[i][j]);

	cout << d[n][m] << endl;
	return 0;	
}
