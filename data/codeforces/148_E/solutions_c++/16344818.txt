#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

int dp[10500], s[120], a[120];

int main()
{
	int n, m, nn;
	cin >> n >> m;
	memset(dp, 0, sizeof(dp));
	for (int i = 0; i < n; i++) {
		cin >> nn;
		a[0] = 0;
		for (int j = 1; j <= nn; j++) {
			cin >> a[j];
			a[j] += a[j-1];
		}
		memset(s, 0, sizeof(s));
		for (int j = 0; j < nn; j++) {
			for (int k = 0; k <= nn- j; k++) {
				s[j+k] = max(s[j+k], a[nn] - a[nn-k] + a[j]);
			}
		}
		for (int j = m; j > 0; j--) {
			for (int k = min(j, nn); k > 0; k--) {
				dp[j] = max(dp[j], dp[j-k] + s[k]);
			}
		}
	}
	cout << dp[m] << endl;
}