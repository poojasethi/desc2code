#include <iostream>
#include <stdio.h>

using namespace std;

int n,m,a[110][110]={0},s[110];
int p[110][110],dp[110][10010];

int main()
{ // freopen("i.txt","r",stdin);
 cin>>n>>m;
 for (int i=1; i<=n;i++)
  {
    cin>>s[i];
    a[i][0]=0;
    for (int j=1; j<=s[i];j++)
     {cin>>a[i][j];a[i][j]+=a[i][j-1];}
  }

 for (int i=1; i<=n;i++)
   for (int j=1; j<=s[i];j++)
     for (int k=0;k<=j;k++)
       p[i][j]=max(p[i][j],a[i][k]+a[i][s[i]]-a[i][s[i]-j+k]);


 for (int i=1; i<=n;i++)
   for (int j=0; j<=m;j++)
     for (int k=0;k<=j&&k<=s[i];k++)
      dp[i][j]=max(dp[i][j],dp[i-1][j-k]+p[i][k]);
cout<<dp[n][m];
return 0;
}
