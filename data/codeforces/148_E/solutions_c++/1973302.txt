#include <iostream>
#include <cstring>
#include <algorithm>
using namespace std;
#define rep(a,b) for(int a=0;a<b;a++)
int dp[10001];
int num[100], mx[100][101];
void calc(int *a, int n, int *s){
	int sum[101]={};
	rep(i,n)sum[i+1]=sum[i]+s[i];

	for(int i=1;i<=n;i++){
		rep(l,i+1)a[i]=max(a[i], sum[l]+sum[n]-sum[n-i+l]);
	}
}

int main()
{
	int n, m;
	cin>>n>>m;
	rep(i,n){
		int s[100];
		cin>>num[i];
		rep(j,num[i])cin>>s[j];
		calc(mx[i], num[i], s);
	}
	memset(dp,-1,sizeof(dp));
	dp[0]=0;

	rep(i,n)for(int j=m;j>=0;j--)if(dp[j]>=0){
		rep(k,num[i]+1)if(j+k<=m)dp[j+k]=max(dp[j+k], dp[j]+mx[i][k]);
	}
	cout<<dp[m]<<endl;
	return 0;
}
 		  	     					 	 		 		 	