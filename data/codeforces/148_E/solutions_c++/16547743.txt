#include<cstdio>
int t[100],s[101],d[100][101],dp[10001][100];
int max(int a,int b){if(a>b)return a;return b;}
int main()
{
	int i,j,k,n,m,a,ans;
	scanf("%d%d",&n,&m);
	for(i=0;i<n;i++)
	{
		scanf("%d",&t[i]);
		for(j=1;j<=t[i];j++)
		{
			scanf("%d",&a);
			s[j]=s[j-1]+a;
		}
		d[i][t[i]]=s[t[i]];
		for(j=1;j<=t[i];j++)
		{
			for(k=j;k<=t[i];k++)
				d[i][t[i]-k+j-1]=max(d[i][t[i]-k+j-1],s[j-1]+s[t[i]]-s[k]);
		}
	}
	for(i=1;i<=t[0];i++)
		dp[i][0]=d[0][i];
	for(i=1;i<n;i++)
	{
		for(j=0;j<=t[i];j++)
		{
			for(k=m;k>=j;k--)
				dp[k][i]=max(dp[k][i],dp[k-j][i-1]+d[i][j]);
		}
	}
	ans=0;
	for(i=0;i<n;i++)
	{
		ans=max(ans,dp[m][i]);
	}
	printf("%d\n",ans);
	return 0;
}
 		 	 	  	  	 	 						 			 	 	