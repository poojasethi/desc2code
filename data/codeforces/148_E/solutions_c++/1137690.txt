#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int n, m, l;
int s[105], a[105], best[105],  dp[10005];

int main(){
	scanf("%d%d", &n, &m);
	
	while (n--){
		scanf("%d", &l);
		s[0] = 0;
		for (int i=0; i<l; i++){
			scanf("%d", &a[i]);
			s[i+1] = s[i] + a[i];
		}

		memset(best, 0, sizeof(best));
		best[l] = s[l];
		for (int i=0; i<l; i++)
		for (int j=i; j<l; j++){
			best[l-(j-i+1)] = max(best[l-(j-i+1)], s[l] - s[j+1] + s[i]);
		}
		
		for (int i=m; i>=0; i--)
		for (int j=1; j<=l && j<=i; j++) dp[i] = max(dp[i], dp[i-j] + best[j]);
	}
	
	printf("%d\n", dp[m]);
	return 0;
}
