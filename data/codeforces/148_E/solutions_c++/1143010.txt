//leandro
#include <cstdio>
#include <iostream>
#include <vector>
using namespace std;

int n, m, s;
int list[10002];
int dp[2][10002];

int main()
{
	cin >> n >> m;
	for (int i = 0; i < n; i++)
	{
		cin >> s;
		for (int j = 1; j <= s; j++)
		{
			cin >> list[j];
			list[j] += list[j-1];
		}

		for (int j = 0; j <= m; j++)
			dp[i&1][j] = dp[1-(i&1)][j];

		for (int j = 1; j <= s; j++)
		{
			int best = 0;
			for (int l = 0; l <= j; l++)
				best = max(best, list[l] + list[s]-list[s-(j-l)] );
			//
			for (int k = m; k >= j; k--)
				dp[i&1][k] = max(dp[i&1][k], dp[1-(i&1)][k-j] + best);
		}
	}

	cout << dp[(n-1)&1][m] << endl;

	return 0;
}
