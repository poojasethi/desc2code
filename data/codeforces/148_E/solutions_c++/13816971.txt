#include<bits/stdc++.h>
using namespace std;
#define ll long long
int dp[105][10005];
int sum[105][105];
int qu[105][10005];
int size[105];
int main(){
	int m,n,i,j,k;
	memset(sum,0,sizeof(sum));
	scanf("%d %d",&m,&n);
	for(i=1;i<=m;i++){
		int x,y;
		scanf("%d",&x);
		size[i]=x;
		for(j=1;j<=x;j++){
			scanf("%d",&y);
			sum[i][j]=sum[i][j-1]+y;
		}
		for(j=1;j<=x;j++){
			for(k=0;k<=j;k++){
				qu[i][j]=max(qu[i][j],sum[i][k]+sum[i][x]-sum[i][x-(j-k)]);
			}
		}
	}
	/*for(i=1;i<=m;i++){
		for(j=0;j<=4;j++) cout<<qu[i][j]<<' ';
		cout<<endl;
	} */
	for(i=1;i<=m;i++){
		for(j=n;j>=0;j--){
			for(k=0;k<=size[i];k++){
				if(j-k>=0) dp[i][j]=max(dp[i][j],dp[i-1][j-k]+qu[i][k]);
			}
		}
	}
	cout<<dp[m][n]<<endl;
}
 	  	  			  		  		 	    		  			