#include<bits/stdc++.h>

using namespace std;

int Mn[102][102],S[102],A[102][102],M[102][10004],E[102],n,k,i,j,l,s,t;

int f(int l, int j){
    
	if(j == k)
		return 0;

	if(j > k || l == n+1)
		return -1000000009;

    int &r = M[l][j];

	if(r != -1)
		return r;

	int i;

	for(i=0;i<=E[l];i++)
		r = max(r , f(l+1 , j+i) + S[l] - Mn[l][ E[l] - i ]);
		
	return r;
}

int main(){


	cin >> n >> k;

	for(i=1;i<=n;i++){
		cin >> E[i];
	    for(j=1;j<=E[i];j++){
			cin >> A[i][j];
			S[i] += A[i][j];
		}
	}

	for(i=1;i<=n;i++,t=0)
		for(j=1;j<=E[i];j++){
			t += A[i][j];
	        for(Mn[i][j]=s=t,l=j+1;l<=E[i];l++){
				s = s + A[i][l] - A[i][l-j];
				Mn[i][j] = min(Mn[i][j] , s);
			}
		}

	memset(M , -1 , sizeof M);
	cout << f(1,0);

	return 0;
}
