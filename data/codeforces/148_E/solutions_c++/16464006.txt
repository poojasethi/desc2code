/*
coded by @just_code21
Â© to Prakhar Srivastava
*/
#include<bits/stdc++.h>
#define ll long long int
#define MAX 102
using namespace std;

int main()
{
	int n,m,size,ans[MAX*100]={0};
	scanf("%d %d",&n,&m);
	for(int i=0;i<n;i++)
	{
		scanf("%d",&size);
		int arr[MAX]={0};
		int dp[MAX]={0};
		for(int j=1;j<=size;j++)
		{
			scanf("%d",&arr[j]);
			arr[j]+=arr[j-1];
		}
		for(int j=1;j<=size;j++)
			for(int k=0;k<=j;k++)
				dp[j]=max(dp[j],arr[k]+arr[size]-arr[size-j+k]);
	
		for(int j=m;j>=1;j--)
			for(int k=1;k<=min(j,size);k++)
				ans[j]=max(ans[j],dp[k]+ans[j-k]);
	}
	printf("%d",ans[m]);
	return 0;
}
/*

*/

