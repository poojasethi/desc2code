#include<cstdio>
#include<iostream>
#include<algorithm>
using namespace std;
int a[120],s[120],l,n,m,v;
int f[10020];
int main()
{
    int i,j,k;
    scanf("%d %d",&n,&m);
    for(i=0;i<n;i++)
    {
        scanf("%d",&l);
        for(j=1;j<=l;j++){
            scanf("%d",&a[j]);
            a[j]+=a[j-1];
            s[j] = 0;
                         }
       s[0] = s[l+1] = 0;
        for(j=0;j<l;j++)
            for(k=j;k<=l;k++)
                s[l-k+j]=max(s[l-k+j],a[l]-a[k]+a[j]);
        for(j=m;j;j--)
            for(k=min(j,l);k;k--)
                f[j]=max(f[j],f[j-k]+s[k]);
    }
    printf("%d\n",f[m]);
    return 0;
}
