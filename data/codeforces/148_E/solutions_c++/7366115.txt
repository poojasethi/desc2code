#include <cstdio>
const int N = 110;
int n,m,a[N][N],s[N][N],c[N][N],f[N][10010];
int main(){
	scanf("%d%d",&n,&m);
	for (int i = 1;i <= n;++i){
		scanf("%d",&a[i][0]);
		for (int j = 1;j <= a[i][0];++j) scanf("%d",&a[i][j]),s[i][j] = s[i][j - 1] + a[i][j];
		for (int j = 0;j <= a[i][0];++j)
			for (int k = 0;j + k <= a[i][0];++k) if (s[i][j] - s[i][a[i][0] - k] + s[i][a[i][0]] > c[i][j + k])
				c[i][j + k] = s[i][j] - s[i][a[i][0] - k] + s[i][a[i][0]];
	}
	for (int i = 1;i <= n;++i)
		for (int j = 0;j <= m;++j)
			for (int k = 0;k <= j && k <= a[i][0];++k)
				if (f[i - 1][j - k] + c[i][k] > f[i][j]) f[i][j] = f[i - 1][j - k] + c[i][k]; 
	printf("%d\n",f[n][m]);
	return 0;
}
