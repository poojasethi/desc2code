#include <iostream>
#include <cstdio>
#include <cmath>
#include <algorithm>

#define MAXN 110

using namespace std;

int n, m, l[MAXN], a[MAXN][MAXN], b[MAXN], c[MAXN];
int tot[MAXN * MAXN];

int main() {
	cin >> n >> m;
	for(int i = 0; i < n; i++) {
		cin >> l[i];
		for(int j = 0; j < l[i]; j++) {
			cin >> b[j];
			c[j + 1] = c[j] + b[j];
		}
		for(int j = 0; j < l[i]; j++) {
			for(int k = j; k < l[i] + 1; k++) {
				a[i][l[i] + j - k] = max(a[i][l[i] + j - k], c[l[i]] - c[k] + c[j]);
			}
		}
		for(int j = m; j > 0; j--) {
			for(int k = 1; k <= min(l[i], j); k++) {
				tot[j] = max(tot[j], tot[j - k] + a[i][k]);
			}
		}
	}
	cout << tot[m];
	return 0;
}