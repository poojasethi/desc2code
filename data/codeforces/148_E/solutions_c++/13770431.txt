#include<bits/stdc++.h>
using namespace std;
#define FOR(ii,aa,bb) for(int ii=aa;ii<=bb;ii++)
#define ROF(ii,aa,bb) for(int ii=aa;ii>=bb;ii--)
#define N (int)(2e5+10)
int n,m,x,pre[N],dp[N],DP[N];
main(){
		cin >> n >> m;
		FOR(aa,1,n){
			cin >> x;
			FOR(i,1,x) cin >> pre[i],pre[i]+=pre[i-1];
			memset(dp,0,sizeof dp);
			FOR(i,0,x-1)
				FOR(j,i,x)
					dp[x-(j-i)] = max(dp[x-(j-i)] , pre[x]-pre[j]+pre[i]);
			ROF(i,m,1)
				ROF(j,min(x,i),1)
					DP[i] = max(DP[i] , DP[i-j]+dp[j]);
		}
		cout << DP[m] << endl;
}
