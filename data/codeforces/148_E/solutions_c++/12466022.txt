#include <stdio.h>
#include <iostream>

using namespace std;

int sum[101], dp[101][101], sol[101][10001], d[101];

int main(void) {
	int n, m;
	scanf("%d %d", &n, &m);
	
	for (int i = 0; i < n; i++) {
		scanf("%d", &d[i]);
		
		for (int j = 1; j <= d[i]; j++) {
			scanf("%d", &sum[j]);
			sum[j] += sum[j - 1];
		}	
		
		for (int j = 1; j <= d[i]; j++) {
			for (int k = 0; k <= j; k++) {
				dp[i][j] = max(dp[i][j], sum[k] + sum[d[i]] - sum[d[i] - (j - k)]);
			}
		}
	}	
	
	for (int i = 1; i <= n; i++) {
		for (int j = 0; j <= m; j++) {
			for (int k = 0; k <= d[i - 1] && k <= j; k++) {
				sol[i][j] = max(sol[i][j], dp[i - 1][k] + sol[i - 1][j - k]); 
			}
		}
	}
	
	printf("%d\n", sol[n][m]);		

	return 0;
}
