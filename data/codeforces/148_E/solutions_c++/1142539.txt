#include<iostream>
using namespace std;
int main()
{
int n,m,k[105],a[105][105],d[105][105],i,j,s[105],b[10005]={0},c[10005]={0},l;
cin>>n>>m;
for(i=1;i<=n;i++)
{
a[i][0]=s[0]=0;
cin>>k[i];
for(j=1;j<=k[i];j++)
{
cin>>d[i][j];
s[j]=s[j-1]+d[i][j];
}
for(j=1;j<=k[i];j++)
{
for(l=0;l<=j;l++)
{
a[i][j]=max(a[i][j],s[k[i]]-s[k[i]-j+l]+s[l]);
}
}
}
for(i=1;i<=n;i++)
{
for(j=1;j<=k[i];j++)
{
for(l=j;l<=m;l++)
{
c[l]=max(c[l],b[l-j]+a[i][j]);
}
}
for(j=1;j<=m;j++) b[j]=c[j];
}
cout<<b[m];
return 0;
}