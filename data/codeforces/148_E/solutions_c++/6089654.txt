#include <stdio.h>
#define N 105
#define M 10007
int a[N][N],s[N][N],dp[N][M],c[N];
int main()
{
	int i,j,k,n,m,t;
	scanf("%d %d",&n,&m);
	for(i=1;i<=n;i++)
	{
		scanf("%d",&c[i]);
		for(j=1;j<=c[i];j++)
			scanf("%d",&a[i][j]);
	}
	for(i=1;i<=n;i++)
		for(j=1;j<=c[i];j++)
		{
			for(k=c[i];k>c[i]-j;k--)s[i][j]+=a[i][k];
			t=s[i][j];
			for(k=1;k<=j;k++)
			{
				t+=a[i][k]-a[i][c[i]-j+k];
				if(t>s[i][j])s[i][j]=t;
			}
		}
        int ss=0;
	for(i=1;i<=n;i++)
        {
                ss+=c[i];
		for(j=1;j<=ss;j++)
			for(k=0;k<=c[i]&&k<=j;k++)
			{
				t=dp[i-1][j-k]+s[i][k];
				if(t>dp[i][j])dp[i][j]=t;
			}
        }
	printf("%d\n",dp[n][m]);
	return 0;
}
		 	   	 	 	  	 		  		 		