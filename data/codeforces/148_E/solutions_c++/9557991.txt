#include<iostream>
using namespace std;

int v[101][101],w[101][101],dp[101][10001],x[101];
int main()
{
    int n,m;
    cin>>n>>m;
    //int i=3;
    for(int i = 1;i <= n;i++)
    {
        cin>>x[i];
        for(int j = 1;j <= x[i];j++)
        {
            cin>>v[i][j];
            v[i][j]+=v[i][j-1];
        }
    }
    for(int i = 1;i <= n;i++)
      for(int j = 1;j <= x[i];j++)
        for(int k = 0;k <= j;k++)
           w[i][j] = max(w[i][j],v[i][k]+v[i][x[i]]-v[i][x[i]-j+k]);
    for(int i = 1;i <= n;i++)
      for(int j = m;j >= 0;j--)
        for(int k = 0;k <= x[i]&&k <= j;k++)
        dp[i][j] = max(dp[i][j],dp[i-1][j-k]+w[i][k]);
        cout<<dp[n][m];
}


 	 	 	  		 	    		   	 		 				