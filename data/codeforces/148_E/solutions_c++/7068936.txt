#include<cstdio>
int n,m,len[101],f[10001],sum[101],g[101][101],x;
inline void Maxx(int &a,const int b) { if (a<b) a=b; }
int main(){
	scanf("%d%d",&n,&m);
	for (int i=1;i<=n;++i){
		scanf("%d",&len[i]);
		sum[0]=0;
		int tot=len[i];
		for (int j=1;j<=tot;++j) scanf("%d",&x),sum[j]=sum[j-1]+x;
		for (int j=1;j<=tot;++j)
		     for (int k=0;k<=j;++k) 
			 	 Maxx(g[i][j],sum[k]+sum[tot]-sum[tot-j+k]);
	}
	for (int i=1;i<=n;++i)
	  for (int j=m;j>=1;--j)
	    for (int k=1;k<=len[i];++k)
	      if (j>=k)  Maxx(f[j],f[j-k]+g[i][k]);
	printf("%d\n",f[m]);
}
	    
	
	


