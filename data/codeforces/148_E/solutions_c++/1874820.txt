#include <cstdio>
#include <iostream>
#include <set>
#include <algorithm>
using namespace std;
int main(void) {
    int kase=1000000000;
    //scanf("%d",&kase);
    for(int i=0,n,m;i<kase&&2==scanf("%d %d",&n,&m);++i) {
        int a[128],t[10100]={0};
        for(int i=0,k;i<n&&1==scanf("%d",&k);++i) {
            int s=0,b[128]={0},c[128]={0};
            for(int j=0;j<k;++j)scanf("%d",&a[j]),s+=a[j];
            for(int j=0;j<=k;++j) {
                for(int u=0;u<=k-j;++u)c[k-j]=max(c[k-j],s-b[u]);
                for(int u=0;u<k-j;++u)b[u]+=a[u+j];
            }
            for(int j=m;j>0;--j)for(int u=min(k,j);u>0;--u)t[j]=max(t[j],t[j-u]+c[u]);
        }
        printf("%d\n",t[m]);
    }
}