#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>
#include <queue>
#include <math.h>
#include <algorithm>
#define ll long long
using namespace std;
const int N=109,M=10009;
int n,m,ar[N];
int DP[M],dp[N];
int main()
{
	cin>>n>>m;
	int tot=0;
	while(n--)
	{
		int num;cin>>num;
		tot=min(tot+num,m);
		for(int i=1;i<=num;i++)cin>>ar[i],ar[i]+=ar[i-1];
		memset(dp,0,sizeof(dp));
		for(int i=1;i<=num;i++) 
		{
			for(int j=0;j<=i;j++) dp[i]=max(ar[j]+ar[num]-ar[num-(i-j)],dp[i]);
		}
		for(int i=tot;i>=0;i--)
		{
			for(int j=0;j<=i&&j<=num;j++) 
			DP[i]=max(DP[i],DP[i-j]+dp[j]);
		}
	}
	cout<<DP[m]<<endl;
    return 0;
}