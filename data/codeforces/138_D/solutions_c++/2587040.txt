#include<cstdio>
#include<cstring>
#define fo(i,a,b) for(i=a;i<=b;++i)
const int mn=50;
int n,m,ans,s1,s2,nc,tt=0;
int f[mn][mn][mn][mn],v[mn][mn][mn][mn];
char g[mn][mn];
int calc(int l,int r,int x,int y,int c)
{
    if(l>r||x>y)return 0;
    if(v[l][r][x][y]==nc)return f[l][r][x][y];
    v[l][r][x][y]=nc;
    int p=++tt,i,j,a,b,k;
    bool vis[mn];
    memset(vis,0,sizeof(vis));
    fo(i,0,n-1)
        fo(j,0,m-1)
        {
            if((i+j)%2!=c)continue;
            a=i+j,b=i-j+m;
            if(l<=a&&a<=r&&x<=b&&b<=y)
            {
                if(g[i][j]=='L')
                    k=calc(l,a-1,x,y,c)^calc(a+1,r,x,y,c);
                else if(g[i][j]=='R')
                    k=calc(l,r,x,b-1,c)^calc(l,r,b+1,y,c);
                else
                {
                    k=calc(l,a-1,x,b-1,c)^calc(l,a-1,b+1,y,c);
                    k^=calc(a+1,r,x,b-1,c)^calc(a+1,r,b+1,y,c);
                }
                vis[k]=1;
            }
        }
    for(k=0;vis[k];++k);
    return f[l][r][x][y]=k;
}
int main()
{
    int i,j;
    scanf("%d%d",&n,&m);
    fo(i,0,n-1)scanf("%s",g[i]);
    nc=1;
    s1=calc(0,n+m,0,n+m,0);
    nc=2;
    s2=calc(0,n+m,0,n+m,1);
    if(s1^s2)puts("WIN");
    else puts("LOSE");
    return 0;
}