#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
using namespace std;
int i,j,n,m,t1,t2;
int f[22][22][22][22],nmap[22][22];
bool used[22][22][22][22];
char map[22][22];
inline int ch(char c){
  if (c=='L') return 1;
  if (c=='R') return 2;
  if (c=='X') return 3;
  return 4;
  }
int dp(int a,int b,int c,int d){
  if ((a>b)||(c>d)) return 0;
  if (used[a][b][c][d]) return f[a][b][c][d];
  int i,j;bool ysed[410];
  memset(ysed,0,sizeof(ysed));
  for (i=a;i<=b;i++)
    for (j=c;j<=d;j++) if (nmap[i][j]){
      if (nmap[i][j]==1)
        ysed[dp(a,i-1,c,d)^dp(i+1,b,c,d)]=1;
      if (nmap[i][j]==2)
        ysed[dp(a,b,c,j-1)^dp(a,b,j+1,d)]=1;
      if (nmap[i][j]==3)
        ysed[dp(a,i-1,c,j-1)^dp(a,i-1,j+1,d)^dp(i+1,b,c,j-1)^dp(i+1,b,j+1,d)]=1;
      }
  used[a][b][c][d]=true;
  for (i=0;i<=405;i++) if (!ysed[i])
    return f[a][b][c][d]=i;
  }
int main(){
  scanf("%d%d\n",&n,&m);
  for (i=1;i<=n;i++)
    scanf("%s",map[i]+1);
  memset(nmap,0,sizeof(nmap));
  for (i=1;i<=n;i++)
    for (j=1;j<=m;j++) if (((i+j)&1)==0)
      nmap[(i+j)/2][(j-i+n+1)/2]=ch(map[i][j]);
  memset(used,0,sizeof(used));
  t1=dp(1,(n+m)/2,1,(n+m)/2);
  memset(nmap,0,sizeof(nmap));
  for (i=1;i<=n;i++)
    for (j=1;j<=m;j++)  if ((i+j)&1)
      nmap[(i+j)/2][(j-i+n+1)/2]=ch(map[i][j]);
  memset(used,0,sizeof(used));
  t2=dp(1,(n+m)/2,1,(n+m)/2);
  if (t1!=t2) printf("WIN\n");else
    printf("LOSE\n");
  return 0;
  }
