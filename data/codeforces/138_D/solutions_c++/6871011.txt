//shjj-138d

#include <iostream>
#include <cstring>
#include <cstdio>
#include <cstdlib>

using namespace std;

const int N=40;
int bh[20+3][20+3],f[N+3][N+3][N+3][N+3],Wx[400+3],Wy[400+3],b[400+3],It[300],Lei[400+3],n,m,Now;
char s[30];
int Get(int x1,int y1,int x2,int y2)
{
if (x2<x1||y2<y1) return 0;
int &x=f[x1][y1][x2][y2];
if (x>=0) return x;
bool Tmp[400];memset(Tmp,0,sizeof(Tmp));
for (int i=1;i<=n*m;i++)
  if (Lei[i]==Now&&Wx[i]>=x1&&Wx[i]<=x2&&Wy[i]>=y1&&Wy[i]<=y2)
    {
	int x;
	if (b[i]==1) x=Get(x1,y1,Wx[i]-1,y2)^Get(Wx[i]+1,y1,x2,y2);
	if (b[i]==2) x=Get(x1,y1,x2,Wy[i]-1)^Get(x1,Wy[i]+1,x2,y2);
	if (b[i]==3) x=Get(x1,y1,Wx[i]-1,Wy[i]-1)^Get(x1,Wy[i]+1,Wx[i]-1,y2)^Get(Wx[i]+1,y1,x2,Wy[i]-1)^Get(Wx[i]+1,Wy[i]+1,x2,y2);
	Tmp[x]=1;
	}
x=0;for (;Tmp[x];x++);
//printf("%d %d %d %d %d\n",x1,y1,x2,y2,x);
return x;
}

int main()
{
scanf("%d%d",&n,&m);
It['L']=1;It['R']=2;It['X']=3;
int tmp=0;for (int i=1;i<=n;i++) for (int j=1;j<=m;j++) bh[i][j]=++tmp,Lei[tmp]=(i+j)&1;
for (int i=1;i<=n;i++)
  {
  scanf("%s",s+1);
  for (int j=1;j<=m;j++) b[bh[i][j]]=It[s[j]];
  }
int sx=1,sy=n;
for (int i=1;i<=m;i++,sx++,sy++)
  for (int j=1,wx=sx,wy=sy;j<=n;j++,wx++,wy--) Wx[bh[j][i]]=wx,Wy[bh[j][i]]=wy;
memset(f,130,sizeof(f));
Now=0;
int X1=Get(1,1,n+m-1,n+m-1);
memset(f,130,sizeof(f));
Now=1;
int X2=Get(1,1,n+m-1,n+m-1);
if (X1^X2) puts("WIN");
  else puts("LOSE");
}