#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
using namespace std;

int N,M,n,b[25][25],f[25][25][25][25],s[25][25];
char a[25][25];

void init()
{
	for (int i=1; i<=N; i++) scanf("%s",a[i]+1);
	n=(N+M)/2;
}

int work(int u,int d,int l,int r)
{
	if (u>d||l>r) return 0;
	if (s[d][r]-s[u-1][r]-s[d][l-1]+s[u-1][l-1]==0) return 0;
	if (f[u][d][l][r]>-1) return f[u][d][l][r];
	bool g[1005];
	memset(g,0,sizeof(g));
	for (int i=u; i<=d; i++)
		for (int j=l; j<=r; j++) if (b[i][j])
		{
			if (b[i][j]==2) g[work(u,d,l,j-1)^work(u,d,j+1,r)]=1;
			else if (b[i][j]==1) g[work(u,i-1,l,r)^work(i+1,d,l,r)]=1;
			else g[work(u,i-1,l,j-1)^work(i+1,d,l,j-1)^work(u,i-1,j+1,r)^work(i+1,d,j+1,r)]=1;
		}
	int x=0;
	for (;g[x]; x++);
	return f[u][d][l][r]=x;
}

int BG(int bg)
{
	memset(b,0,sizeof(b));
	memset(f,-1,sizeof(f));
	memset(s,0,sizeof(s));
	for (int i=1; i<=N; i++)
		for (int j=1; j<=M; j++) if ((i+j)%2==bg) b[(i+j)/2][(j-i+N+1)/2]=a[i][j]=='L'?1:a[i][j]=='R'?2:3;
	for (int i=1; i<=n; i++)
		for (int j=1; j<=n; j++) s[i][j]=b[i][j]+s[i-1][j]+s[i][j-1]-s[i-1][j-1];
	int x=work(1,n,1,n);
	return x;

}

int main()
{
	int T;
	for (;scanf("%d%d",&N,&M)!=EOF;)
	{
		init();
		puts(BG(0)^BG(1)?"WIN":"LOSE");
	}
	return 0;
}