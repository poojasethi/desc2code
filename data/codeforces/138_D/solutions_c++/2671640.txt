#include<cstdio>
#include<cstring>
int now,N,M,L,i,Ans;
int B[105],C[55][55],f[55][55][55][55];
char S[25][25],A[55][55];
int mex()
{
	int i;
	for(i=0;B[i]==now;++i);
	return i;
}
void Work(int p)
{
	int i,j,x,y,dx,dy;
	memset(A,' ',sizeof(A)),memset(f,0,sizeof(f)),memset(C,0,sizeof(C));
	for(i=0;i<N;++i)
		for(j=0;j<M;++j)
			if((i+j)%2==p)
				A[i+j+1][i-j+M]=S[i][j],++C[i+j+1][i-j+M];
	for(i=L;i;--i)
		for(j=L;j;--j)
			C[i][j]+=C[i+1][j]+C[i][j+1]-C[i+1][j+1];
	for(i=1;i<L;++i)
		for(j=1;j<L;++j)
			for(x=1;x+i<=L;++x)
				for(y=1;y+j<=L;++y)
					if(C[x][y]+C[x+i][y+j]-C[x+i][y]-C[x][y+j])
					{
						for(dx=x;dx<x+i;++dx)
							for(dy=y;dy<y+j;++dy)
							{
								if(A[dx][dy]=='L') B[f[x][y][dx][y+j]^f[dx+1][y][x+i][y+j]]=now;
								if(A[dx][dy]=='R') B[f[x][y][x+i][dy]^f[x][dy+1][x+i][y+j]]=now;
								if(A[dx][dy]=='X') B[f[x][y][dx][dy]^f[dx+1][y][x+i][dy]^f[x][dy+1][dx][y+j]^f[dx+1][dy+1][x+i][y+j]]=now;
							}
						f[x][y][x+i][y+j]=mex(),++now;
					}
	Ans^=f[1][1][L][L];
}
int main()
{
	now=1;
	scanf("%d%d",&N,&M),L=N+M;
	for(i=0;i<N;++i) scanf("%s",S[i]);
	Work(0),Work(1);
	if(Ans) printf("WIN\n");
	else printf("LOSE\n");
	return 0;
}

