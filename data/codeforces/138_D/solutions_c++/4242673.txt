#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int f[45][45][45][45][5];
char a[25][25];
int v[10005];
int n,m,c;
int sg(int x1,int y1,int x2,int y2,int k)
{	int i,j,x,y;
	if (f[x1][y1][x2][y2][k]!=-1)
		return f[x1][y1][x2][y2][k];
	for (i=1;i<=n;++i)
		for (j=1;j<=m;++j)
		{	x=i+j-1,y=n-i+j;
			if ((x&1)==k&&x>=x1&&x<=x2&&y>=y1&&y<=y2)
				if (a[i][j]=='L')
					sg(x1,y1,x-1,y2,k),sg(x+1,y1,x2,y2,k);
				else if (a[i][j]=='R')
					     sg(x1,y1,x2,y-1,k),sg(x1,y+1,x2,y2,k);
					 else sg(x1,y1,x-1,y-1,k),sg(x1,y+1,x-1,y2,k),sg(x+1,y1,x2,y-1,k),sg(x+1,y+1,x2,y2,k);
		}
	++c;
	for (i=1;i<=n;++i)
		for (j=1;j<=m;++j)
		{	x=i+j-1,y=n-i+j;
			if ((x&1)==k&&x>=x1&&x<=x2&&y>=y1&&y<=y2)
				if (a[i][j]=='L')
					v[sg(x1,y1,x-1,y2,k)^sg(x+1,y1,x2,y2,k)]=c;
				else if (a[i][j]=='R')
					     v[sg(x1,y1,x2,y-1,k)^sg(x1,y+1,x2,y2,k)]=c;
					 else v[sg(x1,y1,x-1,y-1,k)^sg(x1,y+1,x-1,y2,k)^sg(x+1,y1,x2,y-1,k)^sg(x+1,y+1,x2,y2,k)]=c;
		}
	i=0;
	while (v[i]==c)
		++i;
	f[x1][y1][x2][y2][k]=i;
	return f[x1][y1][x2][y2][k];
}
int main()
{	int i;
	scanf("%d%d",&n,&m);
	for (i=1;i<=n;++i)
		scanf("%s",a[i]+1);
	memset(f,-1,sizeof(f));
	if (sg(1,1,n+m-1,n+m-1,0)^sg(1,1,n+m-1,n+m-1,1))
		printf("WIN\n");
	else printf("LOSE\n");
	return 0;
}

	  			   		  		   		   	 	