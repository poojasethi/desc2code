#include<stdio.h>
#include<string.h>
const int N=50;
int sg[N][N][N][N][2];
int n,m,nn;
char g[N][N];
int dfs(int l1,int r1,int l2,int r2,int u){
    int i,j,s;
    int vis[500];
    if (r1<l1||r2<l2) return 0;
    s=sg[l1][r1][l2][r2][u];
    if (s>=0) return s;
    memset(vis,0,sizeof(vis));
    for (i=0;i<n;i++)
        for (j=0;j<m;j++)
            if ((i+j)%2==u&&i+j>=l1&&i+j<=r1&&j-i+n-1>=l2&&j-i+n-1<=r2){
                if (g[i][j]=='L') vis[dfs(l1,i+j-2,l2,r2,u)^dfs(i+j+2,r1,l2,r2,u)]=1;
                if (g[i][j]=='R') vis[dfs(l1,r1,l2,j-i+n-3,u)^dfs(l1,r1,j-i+n+1,r2,u)]=1;
                if (g[i][j]=='X') vis[dfs(l1,i+j-2,l2,j-i+n-3,u)^dfs(l1,i+j-2,j-i+n+1,r2,u)^
                                      dfs(i+j+2,r1,l2,j-i+n-3,u)^dfs(i+j+2,r1,j-i+n+1,r2,u)]=1;
            }
    for (i=0;vis[i]>0;i++);
    sg[l1][r1][l2][r2][u]=i;
    return i;
}
int main(){
   // freopen("d.in","r",stdin);
    int i,j;
    int t,f1,f2;
    scanf("%d%d",&n,&m);
    for (i=0;i<n;i++) scanf("\n%s",g[i]);
    memset(sg,-1,sizeof(sg));
    t=n+m-2;
    f1=dfs(0,t,0,t,0);
    f2=dfs(0,t,0,t,1);
    if (f1^f2) puts("WIN");
    else puts("LOSE");
    return 0;
}
