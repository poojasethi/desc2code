#include <bits/stdc++.h>
using namespace std;
vector<int> g[100010],ans;
int a[100010],d[100010];
bool flag;
void dfs(int u,int p){
int size=g[u].size(),i;
for(i=0;i<size;i++){
int v=g[u][i];
if(v==p)continue;
if(a[v]!=v&&a[v]!=a[u]){
flag=true;
return;
}
dfs(v,u);
//ans.push_back(a[v]);
}
if(a[u]==u)
ans.push_back(a[u]);
}
int main(){
//freopen("test","r",stdin);
int i,j,k,n,m,u,v;
flag=false;
scanf("%d%d",&n,&m);
for(i=1;i<=m;i++){
scanf("%d%d",&u,&v);
g[u].push_back(v);
g[v].push_back(u);
d[v]++;
}
for(i=1;i<=n;i++)
scanf("%d",a+i);
for(i=1;i<=n;i++)
if(!d[i])
dfs(i,0);
if(flag)
printf("-1\n");
else{
printf("%lu\n",ans.size());
for(i=0;i<ans.size();i++)
printf("%d\n",ans[i]);
}
return 0;
}