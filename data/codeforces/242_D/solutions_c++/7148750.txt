#include<cstdio>
#define N 200005
using namespace std;
struct arr{int go,next;}a[N];
int n,i,m,x,y,q[N*20],A[N],end[N],ans[N],cnt,now,h,t,tot;
inline void add(int u,int v){a[++cnt].go=v;a[cnt].next=end[u];end[u]=cnt;}
int main()
{
  scanf("%d%d",&n,&m);
  for (i=1;i<=m;i++)
    scanf("%d%d",&x,&y),add(x,y),add(y,x);
  for (i=1;i<=n;i++)
  {
    scanf("%d",&A[i]);
    if (!A[i]) q[++t]=i;
  }
  while (h<t)
  {
    now=q[++h];ans[++tot]=now;
    for (i=end[now];i;i=a[i].next)
      if (!(--A[a[i].go])) q[++t]=a[i].go;
  }
  printf("%d\n",tot);
  for (i=1;i<=tot;i++) printf("%d ",ans[i]);
  return 0;
}
