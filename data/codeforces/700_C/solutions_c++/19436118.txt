#include<algorithm>
#include<cstdio>
#include<cmath>
#include<iostream>
#include<string.h>
#include<vector>
using namespace std;
#define ll __int64
const int N=1010;
const int M=3e4+10;
struct Edge{
    int to,next,w;
}edge[M*2];
int head[N],tot;
void init(){
    tot=0; memset(head,-1,sizeof(head));
}
void add(int u,int v,int w){
    edge[tot].to=v; edge[tot].w=w;
    edge[tot].next=head[u]; head[u]=tot++;
}
int n,m,st,ed,vis[M*2],use[M*2];
int pre[N][2];
void dfs(int u){
    vis[u]=1;
    for(int i=head[u];i!=-1;i=edge[i].next){
        int v=edge[i].to;
        if(vis[v]) continue;
        pre[v][0]=u; pre[v][1]=i; dfs(v);
    }
}
int ans,dfn[M],low[M],tmp1,tmp2;
int sta[N],top,insta[N];
vector<int>bns;
void update(){
    if(tmp2!=-1){
        if(edge[tmp1*2].w+edge[tmp2*2].w<ans){
            ans=edge[tmp1*2].w+edge[tmp2*2].w;
            bns.clear(); bns.push_back(tmp1); bns.push_back(tmp2);
        }
    }
    else{
        if(edge[tmp1*2].w<ans){
            ans=edge[tmp1*2].w;
            bns.clear(); bns.push_back(tmp1);
        }
    }
}
void tarjan(int u,int lastid,int &tim){
    dfn[u]=low[u]=++tim;
    sta[++top]=u;  insta[u]=1;
    for(int i=head[u];i!=-1;i=edge[i].next){
        if(use[i>>1]==0) continue;
        if(lastid!=-1&&(i^lastid)==1) continue;
        int w=edge[i].w, v=edge[i].to;

        if(dfn[v]==0) tarjan(v,i,tim);
        if(insta[v]){
            low[u]=min(low[u],low[v]);
        }
        if(low[v]>dfn[u]){
            if(dfn[ed]>=dfn[v]){
                //printf("tmp2=%d\n",tmp2);
                tmp2=i>>1; update();
            }
        }
    }
    if(dfn[u]==low[u]){
        while(1){
            int y=sta[top--]; insta[y]=0;
            if(y==u) break;
        }
    }
}
void del(int u){
    //printf("u=%d last=%d\n",u,pre[u][0]);
    if(u==st) return;
    del(pre[u][0]);
    int id=pre[u][1]>>1; use[id]=0;
    tmp1=id; tmp2=-1;
    int tim=0;
    //printf("tmp1=%d tmp2=%d\n",tmp1,tmp2);
    for(int i=0;i<=n;i++) dfn[i]=0;
    tarjan(st,-1,tim);
    if(!dfn[ed]) update();
    use[id]=1;
    //printf("**\n");
}
int main(){
#ifdef gh546
freopen("a.in","r",stdin);
#endif // gh546
    while(scanf("%d%d",&n,&m)!=EOF){
        scanf("%d%d",&st,&ed); init();
        for(int i=0;i<m;i++){
            int u,v,w; scanf("%d%d%d",&u,&v,&w);
            add(u,v,w); add(v,u,w);
            use[i]=1;
        }
        dfs(st);
        if(!vis[ed]){
            printf("0\n0\n\n"); continue;
        }
        ans=2e9+10;
        del(ed);
        if(ans==2e9+10){
            printf("-1\n"); continue;
        }
        printf("%d\n",ans);
        printf("%d\n",bns.size());
        for(int i=0;i<bns.size();i++){
            if(i) printf(" ");
            printf("%d",bns[i]+1);
        }printf("\n");
    }
    return 0;
}
