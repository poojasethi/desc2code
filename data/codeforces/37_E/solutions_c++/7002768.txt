#include <cstdio>
#include <cstring>
#include <algorithm>
#define maxn 61
using namespace std;
const int X[4] = { 1,-1,0,0 };
const int Y[4] = { 0,0,1,-1 };
char S[maxn][maxn];
int i,j,k,l,m,n,s,t,ans;
int sta[maxn * maxn * 2],stb[maxn * maxn * 2];
int dis[maxn][maxn],vis[maxn][maxn];

void solve(int a,int b) {
	int A = a, B = b;
	int x,y; bool mark = (a == 1 && b == 1);
	for (int i = 1; i <= n; i++)
		for (int j = 1; j <= m; j++) vis[i][j] = 0;
    dis[a][b] = 0;
	s = n * m; t = n * m + 1; sta[t] = a; stb[t] = b;
	while (s < t) {
		//if (mark) printf("%d\n",s);
		a = sta[++s]; b = stb[s];
		vis[a][b] = 1;
		for (int i = 0; i < 4; i++) {
			x = a + X[i]; y = b + Y[i];
			if (x < 1 || x > n || y < 1 || y > m) continue;
			if (vis[x][y]) continue; vis[x][y] = 1;
			if (S[x][y] != S[a][b]) {
				dis[x][y] = dis[a][b] + 1;
				sta[++t] = x; stb[t] = y;
			}
			else {
				dis[x][y] = dis[a][b];
				sta[s] = x; stb[s--] = y;
			}
		}
	}
	
	if (S[sta[t]][stb[t]] == 'B') dis[sta[t]][stb[t]]++;
	ans = min(ans,dis[sta[t]][stb[t]]);
}

int main() {
	scanf("%d %d",&n,&m); ans = 1 << 30;
	for (i = 1; i <= n; i++) scanf("%s",S[i] + 1);
	for (i = 1; i <= n; i++)
		for (j = 1; j <= m; j++) solve(i,j);
	printf("%d",ans);
	return 0;
}