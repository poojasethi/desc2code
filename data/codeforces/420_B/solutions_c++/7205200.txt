#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <set>
using namespace std;
int n,m,a[100005],b[100005],s[100005],t[100005],cnt;
set<int> pre;
int main()
{
    scanf("%d%d",&n,&m);
    for(int i=0;i<m;++i)
        scanf("\n%c %d",&a[i],&b[i]);
    for(int i=0;i<m;++i)
        if(a[i]=='-'&&!s[b[i]]) t[b[i]]=1;
        else if(a[i]=='+') ++s[b[i]];
        else --s[b[i]];
    memset(s,0,sizeof(s));
    for(int i=0;i<m;++i) s[b[i]]=1;
    for(int i=1;i<=n;++i) if(!s[i]) pre.insert(i);
    for(int i=1;i<=n;++i) if(t[i]) {pre.insert(i); ++cnt;}
    if(a[0]=='+'&&!cnt) pre.insert(b[0]);
    for(int i=0;i<m;++i)
        if(a[i]=='-')
        {
            --cnt;
            if((cnt||i+1<m&&b[i+1]!=b[i])&&pre.count(b[i]))
                pre.erase(b[i]);
        }
        else ++cnt;
    printf("%d\n",pre.size());
    for(set<int>::iterator i=pre.begin();i!=pre.end();++i)
        printf("%d ",*i);
    printf("\n");
    return 0;
}
