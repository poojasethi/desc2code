#include<cstdio>
#include<cstdlib>
#define N 504
#define inf 10001
#define MIN(a,b) if(b<a)a=b
int son[N],next[2*N],ed[2*N];
long long dis[N][N];
bool vis[N];
int S,F[N][N],D,n,size[N],g[N],a[N],h[N];
short f[N][N][N];
void dfs(int x){
    int i,j,k,l,y;
    vis[x]=1;
    for (i=son[x];i;i=next[i]) if(!vis[ed[i]]) dfs(ed[i]);
    for (i=1;i<=S;i++) F[x][i]=inf;
    //计算f[x][j][1--s] 
    for (j=1;j<=n;j++) if(dis[x][j]<=D){
        size[x]=1;
        g[1]=a[j]; for (k=2;k<=S;k++) g[k]=inf; //g,k为f[x][j]的滚动数组 
        for (i=son[x];i;i=next[i]){
            y=ed[i];
            if(!vis[y]){
                for (k=1;k<=S;k++) h[k]=inf;
                for (k=1;k<=size[x];k++)
                    for (l=1;l<=size[y]&&k+l-1<=S;l++){
                        MIN(h[k+l],g[k]+F[y][l]);
                        if(dis[y][j]<=D) MIN(h[k+l-1],g[k]+f[y][j][l]-a[j]);
                    }
                for (k=1;k<=S;k++) g[k]=h[k];
                size[x]+=size[y];
            }
        }
        for (k=1;k<=S;k++){
            f[x][j][k]=g[k]; MIN(F[x][k],g[k]);
        }
    }
    vis[x]=0;
}
int main(){
    int i,j,k,x,y,z,cnt=0;
    scanf("%d%d",&n,&D);
    for (i=1;i<=n;i++){
        scanf("%d",&a[i]);
        S+=a[i];
        a[i]=1-a[i];
    }
    for (i=1;i<=n;i++)
        for (j=1;j<=n;j++)
        if(i!=j) dis[i][j]=10000000000LL;
    for (i=1;i<n;i++){
        scanf("%d%d%d",&x,&y,&z);
        next[++cnt]=son[x]; son[x]=cnt; ed[cnt]=y;
        next[++cnt]=son[y]; son[y]=cnt; ed[cnt]=x;
        dis[x][y]=dis[y][x]=z;
    }
    for (k=1;k<=n;k++)
        for (i=1;i<=n;i++)
            for (j=1;j<=n;j++)
            MIN(dis[i][j],dis[i][k]+dis[k][j]);
//  for (i=1;i<=n;i++,printf("\n"))
//      for (j=1;j<=n;j++) printf("%d ",dis[i][j]);
    dfs(1);
    if(F[1][S]>=inf) F[1][S]=-1;
    printf("%d\n",F[1][S]);
}
