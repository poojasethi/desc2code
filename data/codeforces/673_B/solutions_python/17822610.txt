import sets

n, m = map(int, raw_input().split())
l, r = 0, n
seen = sets.Set([])
for c in xrange (m):
	a, b = map(int, raw_input().split())
	l = max(l, min(a, b))
	r = min(r, max(a, b))
	seen.add(max(a, b))

print max(0, min(r - l, n - 1))