R = lambda: map(int, raw_input().split())
n, m = R()
v = [0]*(n+1)
k1, k2 = 1, n
for i in range(m):
    a, b = R()
    if a > b: a, b = b,a
    if v[a] == 2 or v[b] == 1:
        print 0
        exit()
    v[a], v[b] = 1, 2
    k1 = max(k1, a)
    k2 = min(k2, b)
print max(0, k2-k1)
