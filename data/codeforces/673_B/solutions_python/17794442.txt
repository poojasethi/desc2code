n, m = map(int, raw_input().split())
p = [tuple(map(int, raw_input().split())) for _ in xrange(m)]
d = [0] * (n+1)

smallest_div_1, largest_div_2 = n+1, 0
for u, v in p:
    d[max(u, v)] |= 1
    d[min(u, v)] |= 2
    smallest_div_1 = min(max(u, v), smallest_div_1)
    largest_div_2 = max(min(u, v), largest_div_2)

if m == 0:
    print n-1
elif d.count(3) > 0 or smallest_div_1 < largest_div_2:
    print '0'
else:
    print d[largest_div_2+1:smallest_div_1].count(0) + 1