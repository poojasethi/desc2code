__author__ = 'Azad'

n, m  = map(int, raw_input().split())
if m == 0:
    print n-1
    exit()
all_pair = [tuple(map(int, raw_input().split())) for x in xrange(m)]

ai = [(a,b) if a < b else (b,a) for (a,b) in all_pair]

div1 = {a for (a,b) in ai}
div2 = {b for (a,b) in ai}

if len(div1&div2):
    print 0

else:
    mn = min(div2)
    mx = max(div1)

    if mn>=mx:
        print mn-mx
    else:
        print 0