def main():
    n,m = map(int, raw_input().split(' '))
    max_div2 = 0
    min_div1 = 100001
    for i in xrange(m):
        x, y = map(int, raw_input().split(' '))
        if x > y:
            max_div2 = max(max_div2, y)
            min_div1 = min(min_div1, x)
        else:
            max_div2 = max(max_div2, x)
            min_div1 = min(min_div1, y)

    if m == 0:
        print n-1
    else:
        print max(min_div1 - max_div2, 0)




if __name__ == '__main__':
    main()