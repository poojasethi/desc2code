n, m = map(int, raw_input().split())


left = []
right = []
for i in xrange(m):
    u, v = map(int, raw_input().split())

    left.append(min(u, v))
    right.append(max(u, v))

if left:
    r = min(right) - max(left)
    print r if r > 0 else 0
else:
    print n - 1


