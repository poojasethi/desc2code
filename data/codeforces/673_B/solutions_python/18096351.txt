n,m = map(int, raw_input().split())
minHard = n
maxNormal = 1
for i in range(m):
	a = sorted(map(int, raw_input().split()))
	minHard = a[1] if a[1] < minHard else minHard
	maxNormal = a[0] if a[0] > maxNormal else maxNormal

if m==0:
	print n-1
else:
	if minHard > maxNormal:
		print minHard - maxNormal
	else:
		print 0
	
