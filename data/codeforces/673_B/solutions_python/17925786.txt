import sys

n, m = map(int, sys.stdin.readline().split())
if m == 0:
    print(n - 1)
    exit(0)
r1, l2 = -1, 999999999
for i in xrange(m):
    t1, t2 = map(int, sys.stdin.readline().split())
    t1, t2 = min(t1, t2), max(t1, t2)
    r1 = max(r1, t1)
    l2 = min(l2, t2)
print(0 if l2 <= r1 else l2 - r1)
