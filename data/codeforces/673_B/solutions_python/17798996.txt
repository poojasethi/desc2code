n, m = raw_input().split()

n = int(n)
m = int(m)

av = []
bv = []

for i in range(m):
    t = raw_input()
    
    a, b = t.split()
    a = int(a)
    b = int(b)
    
    # a is the div 2 
    if a > b: a, b = b, a
    
    av.append(a)
    bv.append(b)
    
if m == 0:
    print(n-1)
    exit()
    
res = min(bv) - max(av)

if res <= 0: res = 0
print(res)
    