n, m = map(int, raw_input().split())

start = [False]*n
end = [False]*n
for i in range(m):
    u, v = map(int, raw_input().split())
    if u < v:
        start[u-1] = True
        end[v-1] = True
    else:
        start[v-1] = True
        end[u-1] = True

ls = 0
fe = n-1
for i in range(n):
    if start[i]:
        ls = i
    if end[i] and fe == n-1:
        fe = i

print max(fe - ls, 0)
