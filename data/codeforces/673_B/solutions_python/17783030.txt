
import sys
#sys.stdin=open("data.txt")
input=sys.stdin.readline

n,m=map(int,input().split())

min1=n-1    # easiest hard problem
max2=0      # hardest easy problem

# get pairs
for _ in range(m):
    u,v=map(lambda i:int(i)-1,input().split())
    if u>v: u,v=v,u
    max2=max(max2,u)
    min1=min(min1,v)

print(max(0,min1-max2))