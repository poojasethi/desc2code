n, m = [int(x) for x in raw_input().split()]
uv = []
upper = n
lower = 1
for i in range(m):
    uv = [int(x) for x in raw_input().split()]
    u = min(uv[0], uv[1])
    v = max(uv[0], uv[1])

    lower = max(lower, u)
    upper = min(upper, v)

    if lower >= upper:
        print 0
        break
else:
    print upper - lower


