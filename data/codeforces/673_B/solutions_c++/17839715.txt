#include<bits/stdc++.h>

using namespace std;

int main(){
int n,m,i,u,v;
cin>>n>>m;
if(m==0){
    cout<<n-1<<endl;
}
else{
int minv=1000000;int maxv=0;
for(i=0;i<m;i++){
    cin>>u>>v;
    if(u>v) swap(u,v);
    if(u>maxv) maxv=u;
    if(v<minv) minv=v;
}
cout<<max(0,minv-maxv)<<endl;
}
return 0;
}
