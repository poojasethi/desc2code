#include <cstdio>
#define swap(a, b) {int _a=a; a=b; b=_a;}
#define max(a,b) (a<b?b:a)

int main(){
	int n, m, a, b, u, v;
	scanf("%d %d", &n, &m);
	a = 1;
	b = n;
	while(m-->0){
		scanf("%d %d", &u, &v);
		if (v<u) swap(u,v);
		if (u>a) a=u;
		if (v<b) b=v;
	}
	printf("%d\n", max(0, b-a));
	return 0;
}