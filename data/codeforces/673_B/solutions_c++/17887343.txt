#include<iostream>
using namespace std;
int main()
{

		int m, n, x, y, Min = 1, Max;
		cin >> n >> m;
		Max = n;
		while (m--)
		{
			cin >>x >>y;
			if (x > y)swap(x, y);
			if (x > Min)Min = x;
			if (y < Max)Max = y;

		}
		if (Max-Min > 0)
			cout <<Max-Min;
		else cout <<0;
	return 0;
}