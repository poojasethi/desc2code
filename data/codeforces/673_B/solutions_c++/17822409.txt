#include <iostream>

using namespace std;

int n,m,A,B,mima,mami;

int main()
{
    cin >> n >> m;
    mima=n; mami=0;
    for (int i=0; i<m; i++)
    {
        cin >> A >> B;
        mima=min(mima,max(A,B)); mami=max(mami,min(A,B));
    }
    if (m==0) cout << (n-1); else
        cout << max(0,mima-mami);
}
