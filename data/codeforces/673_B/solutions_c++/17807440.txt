
#include<bits/stdc++.h>
using namespace std;
long long v[100006]={0};
int main()
{
  long long n,m,a,b,i;
  cin>>n>>m;
  long long  l=1,r=n,c=0;
  for(i=0;i<m;i++)
  {
     cin>>a>>b;
     l=max(min(a,b),l);
     r=min(max(a,b),r);
  }
  cout<<max(r-l,c);



}


