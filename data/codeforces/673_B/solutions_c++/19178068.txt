#include<iostream>

using namespace std;

int main(){

	int n, m, f, g, mine , maxe ;
	cin >> n >> m;
	mine = 1;
	maxe = n;
	for( int i = 0 ; i < m; i++)
		{
			cin >> f >> g;
			if( f > g )
				swap(f, g);
			mine = max (mine , f);
			maxe = min( maxe , g);
		}
	cout << max( 0 , maxe - mine);
	
	}

