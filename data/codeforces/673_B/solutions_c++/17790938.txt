#include<bits/stdc++.h>
#define ll long long int
using namespace std;
int main()
{
    ll n,m,x,y,l,r;
    cin>>n>>m;
    l=1;r=n;
    while(m--)
    {
        cin>>x>>y;
        l=max(l,min(x,y));
        r=min(r,max(x,y));
    }
    if(l>=r) cout<<"0";
    else cout<<(r-l);
    return 0;
}
