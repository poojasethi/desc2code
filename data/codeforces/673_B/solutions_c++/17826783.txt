#include<iostream>
#include<cstdio>
using namespace std;
int main()
{
	int n,m,x,y;
	cin>>n>>m;
	int l=1,r=n;
	while(m--)
	{
		scanf("%d%d",&x,&y);
		if(x>y) swap(x,y);
		l=max(l,x);
		r=min(r,y);
	}
	cout<<max(0,r-l);
}