#include<cstdio>
#include<iostream>
using namespace std;
int main(){
    int n,m;
    scanf("%d%d",&n,&m);
    int vl=1,vr=n;
	for(int i=1;i<=m;i++){
    	int t1,t2;
    	scanf("%d%d",&t1,&t2);
    	if(t2<t1) swap(t1,t2);
    	vl=max(vl,t1);
    	vr=min(vr,t2);
	}
	int ans=max(0,vr-vl);
	printf("%d",ans);
    return 0;
}
