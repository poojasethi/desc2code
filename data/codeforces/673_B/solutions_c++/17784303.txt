#include <cstdio>
#include <algorithm>
#include <cmath>
using namespace std;
int main()
{
	int x=0,y=100005;
	int n,m,p,q;
	scanf("%d %d",&n,&m);
	for (int i=0;i<m;i++)
	{
		scanf("%d %d",&p,&q);
		x=max(x,min(p,q));
		y=min(y,max(p,q));
	}
	if (m==0) printf("%d",n-1);
	else if (y-x>0) printf("%d",y-x);
	else printf("0");
}