#include <iostream>
#include <string.h>
#include <algorithm>

using namespace std;

int main()
{	
	int n, m;
	cin >> n >> m;
	int l = n, r = 1;
	while (m--)
	{
		int t1, t2;
		cin >> t1 >> t2;
		if (t1 < t2)
			swap(t1, t2);
		l = min(l, t1);
		r = max(r, t2);
	}
	cout << max(l - r, 0);
}