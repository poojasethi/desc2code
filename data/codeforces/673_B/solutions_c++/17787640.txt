#include<bits/stdc++.h>
using namespace std;

main() {

    int n, m;
    cin>>n>>m;
    int l=1, r=n;

    for (int i=1; i<=m; i++) {
        int u, v;
        cin>>u>>v;
        if (v<u) swap(u, v);
        l = max(u, l);
        r = min(r, v);
    }

    cout<<max(0, r-l)<<endl;
}
