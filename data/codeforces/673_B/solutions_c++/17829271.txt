#include <iostream>
#include <stdio.h>
using namespace std;
int n, m, u, v, &a = n, b = 1;
int main(){
	cin >> n >> m;
//	a = n;
	for (int i = 0; i < m; i ++){
		cin >> u >> v;
		if(u < v) 
		    swap(u, v);
		a = min(a, u);
		b = max(b, v);
	}
	cout << max(a - b, 0);
}
