n = int(raw_input())

zero_cards = []

points = 0
counter = 1
for qq in xrange(n):
	[a, b] = map(int, raw_input().split())
	if b != 0:
		points += a
		counter += b - 1
	else:
		zero_cards.append(a)

points += sum(sorted(zero_cards, reverse=True)[:min(counter, len(zero_cards))])
print points;
