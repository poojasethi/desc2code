n=input()
a=[map(int,raw_input().split()) for _ in range(n)]
t=filter(lambda x:x[1]>0,a)
y=sorted([x[0] for x in a if x[1]==0])[::-1]
r=0
c=1
for x in t:
    r+=x[0]
    c+=x[1]-1
for i in range(min(len(y),c)):
    r+=y[i]
print r