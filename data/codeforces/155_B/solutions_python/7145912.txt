n = int(raw_input())
r = [[int(c) for c in raw_input().split()] for i in xrange(n)]
totturns = 1 + sum(b for a,b in r)
remturns = totturns - sum(b and 1 for a,b in r)
bonus = sum(b and a for a,b in r)
remcards = [not b and a for a,b in r]
remcards.sort(reverse=True)
print bonus + sum(remcards[:remturns])