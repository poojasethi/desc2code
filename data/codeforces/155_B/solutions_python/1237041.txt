n=int(raw_input())
l=[]
s,c=0,1
for i in xrange(n):
	a,b=map(int,raw_input().split())
	if b==0:
		l.append(a)
	else:
		c+=b-1
		s+=a
l.sort()
print s+sum(l[::-1][:c])
