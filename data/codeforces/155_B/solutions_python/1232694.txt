n=input()
s=[tuple(map(int,raw_input().split())) for i in xrange(n)]
a=sorted([x[0] for x in s if x[1]==0],reverse=True)
b=filter(lambda x:x[1]>0,s)
ans=0
f=1
for i,j in b:
    f+=j-1
    ans+=i
ans+=sum(a[:f])
print ans