#!/usr/bin/env python
#coding:utf-8
#author:skyhacker
#link:http://codeforces.com/problemset/problem/155/B

l = []
n = int(raw_input())

s, c = 0, 1

for i in xrange(n):
    a, b = map(int, raw_input().split())
    if b==0:
	l.append(a)
    else:
	c += b-1
	s += a

l.sort()
sum = s + sum(l[::-1][:c])
print sum
    
	


