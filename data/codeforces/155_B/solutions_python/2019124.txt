s=sorted([map(int,raw_input().split()) for i in [0]*input()],reverse=True)
i,I=0,1

for a,b in s:
    if b:
        i+=a
        I+=b-1
i+=sum([ a for a,b in s if not b][:I])


print i