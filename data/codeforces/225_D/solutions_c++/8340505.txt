#include<stdio.h>
#include<algorithm>
#include<iostream>
#include<sstream>
#include<string>
#include<cstring>
#include<queue>
#include<set>
#include<map>
#include<vector>
#include<cmath>

using namespace std;

int dx[4]={0,0,1,-1};
int dy[4]={1,-1,0,0};

int main()
{
  //  freopen("exam.in","r",stdin);

    int n,m,x,sz=0;
    string str;
    int a[16][16],y;

    memset(a,-1,sizeof(a));
    vector<vector<int> > b;
    vector<int> c;
    for(int i=0; i<=10; i++) { c.push_back(0); }
    b.push_back(c);
    scanf("%d%d",&n,&m);
    for(int i=1; i<=n; i++)
    {
        cin>>str;
        for(int j=1; j<=m; j++)
            if(str[j-1]=='.') a[i][j]=0;
            else if(str[j-1]=='#') a[i][j]=-1;
            else if(str[j-1]=='@') a[i][j]=10;
            else
            {
                x=str[j-1]-'0';
                a[i][j]=x;
                b[0][x]=i*100+j;
                sz=max(sz,x);
            }
    }

    map<vector<int>,bool> mp;
    int ind=0,cnt=0;
    mp[b[0]]=true;
    vector<int> p;
    p.push_back(0);
    do
    {
        for(int i=2; i<=sz; i++) { c[i]=b[ind][i-1]; a[c[i]/100][c[i]%100]=i; }
        a[b[ind][sz]/100][b[ind][sz]%100]=0;


        x=b[ind][1]/100;
        y=b[ind][1]%100;
        for(int i=0; i<4; i++)
        {
            if(a[ x+dx[i] ][ y+dy[i] ] == 10) { printf("%d\n",p[ind]+1); return 0; }
            if(a[ x+dx[i] ][ y+dy[i] ] == 0)
            {
                c[1]=(x+dx[i])*100+y+dy[i];
                if(mp[c]) continue;
                mp[c]=true;
                cnt++;
                p.push_back(p[ind]+1);
                b.push_back(c);
            }
        }
        for(int i=2; i<=sz; i++) { c[i]=b[ind][i-1]; a[c[i]/100][c[i]%100]=0; }
        a[b[ind][sz]/100][b[ind][sz]%100]=0;
        ind++;
    }while(ind<=cnt);
    printf("-1\n");
    return 0;
}

		  				 	  		   	   	 		  		