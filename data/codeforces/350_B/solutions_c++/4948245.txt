#include <stdio.h>
#include <algorithm>
#define For(i,b,e) for(int i=b; i<=e; ++i)
using namespace std;
int pre[100010]={0},n,obj[100010],max_k=0,ans=0,lead[100010]={0};
int main(){
#ifndef ONLINE_JUDGE
	freopen("prob.in","r",stdin);
#endif
	scanf("%d",&n);
	For(i,1,n)scanf("%d",&obj[i]);
	For(i,1,n){scanf("%d",&pre[i]);lead[pre[i]]++;}
	For(i,1,n)
		if(obj[i]){
			int k=1,cur=pre[i];
			while(cur&&!obj[cur]&&lead[cur]==1){
				cur=pre[cur];
				k++;
			}
			if(max_k<k){
				max_k=k;
				ans=i;
			}
		}
	printf("%d\n",max_k);
	int print[100010];
	for(int i=1; i<=max_k; i++){
		print[max_k-i+1]=ans;
		ans=pre[ans];
	}
	For(i,1,max_k)printf("%d ",print[i]);
	return 0;
}
