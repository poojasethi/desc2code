#include <stdio.h>

const int N = 111111;

int n, t[N], deg[N], next[N], sol[N];

int main()
{
	scanf("%d", &n);
	for (int i=1;i<=n;++i) scanf("%d",t+i);
	for (int i=1;i<=n;++i) {
		scanf("%d",next+i);
		++deg[next[i]];
	}
	
	int ans = -1;
	int last = -1;
	for (int i=1;i<=n;++i) {
		if (t[i]==1) {
			int len = 1;
			int cur = next[i];
			while (cur!=0 && t[cur]==0 && deg[cur]==1) {
				++len;
				cur = next[cur];
			}
			if (ans < len) {
				ans = len;
				last = i;
			}
		}
	}
	
	int sz = ans;
	sol[sz--] = last;
	int cur = next[last];
	while (cur!=0 && t[cur]==0 && deg[cur]==1) {
		sol[sz--] = cur;
		cur = next[cur];
	}
	
	printf("%d\n",ans);
	for (int i=1;i<=ans;++i) printf("%d ",sol[i]);

	return 0;
}
