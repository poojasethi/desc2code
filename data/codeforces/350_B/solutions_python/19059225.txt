N = int(raw_input())
objetos = map(int, raw_input().split())
caminhos = map(int, raw_input().split())

# flag
for i in xrange(N):
	if caminhos[i] == 0: caminhos[i] = -1

vizinhos = [0] * (N+1)
vis = [-1] * N
for i in range(N): 
	if caminhos[i] != -1: vizinhos[caminhos[i]] += 1

maior_caminho = []
len_maior_caminho = 0
indice = -1


for i in xrange(N):
	if objetos[i] == 1:
		cont = 1
		loop = False
		vertice_atual = i
		while (caminhos[vertice_atual] > -1 and vizinhos[caminhos[vertice_atual]] < 2 and vis[caminhos[vertice_atual]-1] != i):
			cont += 1
			vis[vertice_atual] = i
			vertice_atual = caminhos[vertice_atual]-1
			
		if cont > len_maior_caminho:
			len_maior_caminho = cont
			indice = i

for i in xrange(len_maior_caminho):
	maior_caminho.append(indice+1)
	indice = caminhos[indice] - 1

print len_maior_caminho
for e in maior_caminho[::-1]: print e,