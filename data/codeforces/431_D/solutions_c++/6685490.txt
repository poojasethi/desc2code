# include <stdio.h>
# include <limits.h>

typedef long long lld;

lld dp[109][109];
lld m, k;

lld F(lld x){
	lld ret = 0;
	int cnt = 0;
	
	for(lld i=61; i>=0; i--)
		if(((1LL<<i) & x) != 0)
			ret += dp[i][k - cnt], cnt++;
	
	ret += cnt == k;
	
	return ret;
}

int main(){
	dp[0][0] = 1;
	
	for(int i=1; i<64; i++)
		for(int k=0; k<=i; k++)
			for(int j=0; j<2; j++)
				if(k-j >= 0)
					dp[i][k] += dp[i-1][k-j];
	
	scanf("%lld %lld",&m,&k);
	
	lld ans = 0;
	
	for(lld i=59; i>=0; i--)
		if((ans + (1LL<<i)) <= lld(1e18)  &&   F((ans + (1LL<<i))*2LL) - F(ans + (1LL<<i)) <= m)
			ans += (1LL<<i);
	
	printf("%lld",ans);
}
