#include <stdio.h>
#include <string.h>
long long dp[100][100],m,ans;
int k,a[100];
bool Find ;
void dfs(int i,int p,long long sum)
{
	if (sum==m)
	{
		for (int j=61;j>=1;j--) ans = ans * 2 + a[j];
		if (ans<=1e18) Find = true;
		else ans = 0;
		return;
	}
	if (Find) return;
	if (i<0) return ;
	if (sum>m) return;
	if (p<0) return;
	a[i] = 1;
	dfs(i-1,p-1,sum+dp[i-1][p]);
	a[i] = 0;
	dfs(i-1,p,sum);
}
int main()
{
	scanf("%I64d%d",&m,&k);
	if (m==0) 
	{
		printf("1\n");
		return 0;
	}
	memset(dp,0,sizeof(dp));
	dp[0][0] = 1;
	for (int i=1;i<=61;i++)
	{
		dp[i][0] = 1;
		for (int j=1;j<=i;j++)
			dp[i][j] = dp[i-1][j] + dp[i-1][j-1];
	}
	memset(a,0,sizeof(a));
	ans = 0;
	Find = false;
	dfs(61,k-1,0);
	printf("%I64d\n",ans);
	return 0;
}