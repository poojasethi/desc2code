m, y, n = input(), 0.0, 1.0
for p in sorted(map(float, raw_input().split()))[::-1]:
	t = n*p + (1-p)*y
	if t > y: y, n = t, n*(1-p)
print "%.9f" % y