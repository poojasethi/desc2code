n = input()
p = map(float, raw_input().split())
p.sort(reverse = True)
if p[0] == 1:
    print 1
else:
    A, B = 1.0, 0.0
    for i in range (n):
        A *= 1 - p[i]
        B += p[i] / (1 - p[i])
        if B > 1 or i == n-1:
            print A * B
            break
