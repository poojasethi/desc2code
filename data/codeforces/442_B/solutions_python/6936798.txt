n = int(raw_input())
a = map(float, raw_input().split())
a.sort(reverse=True)
z, o = 1.0, 0.0
ans = 0.0
for x in a:
    o = o * (1.0 - x) + z * x
    ans = max(ans, o)
    z *= (1.0 - x)
print "%.12f" % ans
