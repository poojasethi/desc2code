n = input()
arr = map(float,raw_input().split())
arr.sort()

temp=[]
for i in arr:
	if i<=0.5:
		temp.append(i)
ans=max(arr)
if temp!=[]:
	temp.sort()
	temp=temp[::-1]
	p1,p0=temp[0],1-temp[0]
	#print temp
	ans=max(ans,p1)
	for i in temp[1:]:
		p1 = i*p0+(1-i)*p1 
		p0 = p0*(1-i)
		ans=max(ans,p1)
print ans