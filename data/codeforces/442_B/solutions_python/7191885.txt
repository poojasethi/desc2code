st = raw_input()
n=int(st)

st = raw_input()
st = st.split(" ")

for i in range (0, len(st)):
    st[i]=float(st[i])

st.sort(reverse=True)
a0=1.0
a1=0.0
a2=0.0
for i in st:
    b0=a0*(1-i)
    b1=a0*i+a1*(1-i)
    b2=a2+a1*i
    if a1>b1:
        break
    else:
        a0=b0
        a1=b1
        a2=b2

print a1


