n = int(raw_input())
p = map(float,raw_input().split(' '))
p.sort(key=lambda x:-x)
ans = p[0]
tmult = 1-p[0]
for tp in p[1:]:
    tans = ans * (1-tp) + tmult * tp
    if tans < ans:
        break
    tmult *= (1-tp)
    ans = tans

print ans


