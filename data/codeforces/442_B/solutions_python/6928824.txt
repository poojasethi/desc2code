n = int(raw_input())
ps = map(float, raw_input().split())

ps.sort(reverse=True)

p0 = 1
p1 = 0
ans = 0

for p in ps:
    p0, p1 = p0 * (1 - p), p1 * (1 - p) + p0 * p
    ans = max(ans, p1)

print ans
