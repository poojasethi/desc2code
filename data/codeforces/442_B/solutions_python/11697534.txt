n = input()
arr = map(float,raw_input().split())
arr.sort()
arr=arr[::-1]
prob=[[0,0] for i in range(n)]
# p=[]
ans=0
for i in range(len(arr)):
	prob[i][1]=arr[i]
	prob[i][0] = 1-arr[i]
	s=[prob[i][0],prob[i][1]]
	c=1
	for j in range(i+1,len(arr)):
		if (s[0]*arr[j]+s[1]*(1-arr[j]))>=s[1]:
			s[1] = (s[0]*arr[j]+s[1]*(1-arr[j]))
			s[0]=s[0]*(1-arr[j])
			c+=1
	ans=max(ans,s[1])
print ans