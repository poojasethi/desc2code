n = int(raw_input())
a = map(float, raw_input().split())
a.sort(reverse=True)
ans = 0.0
z = 1.0 
for x in a:
	temp = ans * (1.0 - x) + z * x 
	if (ans >= temp):
		break
	else: 
		ans = temp
	z *= (1.0 - x)
print "%.12f" % ans

