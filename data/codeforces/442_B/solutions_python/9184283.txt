from sys import stdin
from operator import mul

p = [float(x) for x in stdin.readlines()[1].split()]
n = len(p)

if 1.0 in p:
    print "%.10f" % 1.0
else:
    p.sort()
    print "%.10f" % max([sum([p[j] / (1 - p[j]) for j in range(i, n)]) * reduce(mul, [1 - p[j] for j in range(i, n)]) for i in range(n)])