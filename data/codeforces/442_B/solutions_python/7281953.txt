m, p, y, n = input(), sorted(map(float, raw_input().split()))[::-1], 0.0, 1.0
for pi in p:
	ty = n*pi + (1-pi)*y
	if ty > y: y, n = ty, n*(1-pi)
print "%.9f" % y