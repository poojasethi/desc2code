def readarray(f): return map(f, raw_input().split())
def readint(): return int(raw_input())
def printlist(l): print ' '.join(map(str, l))

n = readint()
P = readarray(float)

P.sort()

if P[-1] >= 0.5:
  print P[-1]
  exit()

def f(i):
  res = 0.0
  for j in range(i, n):
    p = P[j]
    for k in range(i, n):
      if k == j: continue
      p *= (1 - P[k])
    res += p
  return res

best = 0.0
for i in range(n):
  best = max(best, f(i))
print best
