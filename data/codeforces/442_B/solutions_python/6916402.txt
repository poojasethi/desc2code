n = int(raw_input())
a = map(float,raw_input().split())
a.sort()
a.reverse()

p0 = [1.0]
p1 = [0.0]

for i in range(n):
    p0.append(p0[i]*(1-a[i]))
    p1.append(p1[i]*(1-a[i])+p0[i]*a[i])
    
print max(p1)
