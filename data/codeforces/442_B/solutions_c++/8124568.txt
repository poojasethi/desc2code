#include <cstdio>
#include <iostream>
#include <algorithm>
using namespace std;

int n;
double p[111];

int main() {
	cin>>n;
	for(int i=0;i<n;i++) cin>>p[i];
	sort(p, p+n);
	reverse(p, p+n);
	if(p[0] == 1) {
		cout << 1 << endl;
		return 0;
	}
	double sum=0, prod=1;
	for(int i=0;i<n;i++) if(sum < 1) {
		sum += p[i]/(1-p[i]);
		prod *= 1-p[i];
	}
	printf("%.12lf\n", sum*prod);
	return 0;
}
