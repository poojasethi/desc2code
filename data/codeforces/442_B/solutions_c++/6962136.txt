#include<iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
using namespace std;

double p[100],ans1,ans0;

int main()
{
	int n;
	scanf("%d",&n);
	for(int i=0;i<n;++i) scanf("%lf",p+i);
	sort(p,p+n);
	ans0=1;ans1=0;
	for(int i=n-1;i>=0;--i){
		double now=ans1*(1-p[i])+ans0*p[i];
		if(now>ans1){
			ans1=now;
			ans0=ans0*(1-p[i]);
		}
		else break;
	}
	printf("%.10f\n",ans1);
}
