#include<bits/stdc++.h>
using namespace std;


int main(){
	int N;cin>>N;
	vector<double> prob(N);
	for(int i=0;i<N;i++) cin>>prob[i];
	double p1 = 0;
	double p2 = 0;
	sort(prob.rbegin(),prob.rend());
	p1 = prob[0],p2 = 1.0-prob[0];
	int i = 1;
	while(p1 < p2 && i<N){
		p1 = p1*(1-prob[i]) + p2*(prob[i]);
		p2 = p2*(1-prob[i]);
		i++;
	}
	printf("%0.9lf\n",p1);
	
	return 0;
}
