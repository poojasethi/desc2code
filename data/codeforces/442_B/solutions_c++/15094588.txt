#include<bits/stdc++.h>
using namespace std;
double p[103];
long double S=0,P=1;
int main()
{
	int n;
	cin>>n;
	for(int i=0;i<n;i++)
		scanf("%lf",&p[i]);
	sort(p,p+n);
	if(p[n-1]==1)
	{
		cout<<1<<endl;
		return 0;
	}
	for(int i=n-1;i>=0 && S<1;i--)
	{
		S+=(long double)p[i]/((long double) (1-p[i]));
		P*=(long double)(1-p[i]);
	}
	printf("%.12lf\n",(double)(S*P));
	return 0;
}
