#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;

const int N = 121;
double p[N];

int main()
{
	int n; cin >> n;
	for(int i = 0; i < n; i++)
		cin >> p[i];
	double p0 = 1.0;
	double p1 = 0.0;
	double ans = 0.0;
	sort(p, p+n);
	for(int i = n-1; i >= 0; i--)
	{
		p1 += p[i]*(p0-p1);
		p0 *= (1-p[i]);
		ans = max(ans, p1);
	}
	printf("%.10f\n", ans);
	return 0;
}