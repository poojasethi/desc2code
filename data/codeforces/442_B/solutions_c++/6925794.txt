#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
double t1,t2,a[111];
int i,j,k,n;
int main(){
	scanf("%d",&n);
	for (i=1;i<=n;i++) scanf("%lf",&a[i]);
	sort(a+1,a+1+n);
	if (a[n]==1){
		puts("1.0");return 0;
	}
	for (i=n,t1=1,t2=0;i&&t2<1;i--){
		t1*=(1-a[i]);t2+=(a[i])/(1-a[i]);
	}
	printf("%.10lf\n",t1*t2);
	return 0;
}