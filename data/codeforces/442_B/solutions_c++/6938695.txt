#include "bits/stdc++.h"
using namespace std;
main(){

    int n;
    cin>>n;
    long double ans=0,mult_nodo=1,a[n],mult_do=0;
    for(int i=0;i<n;i++) cin>>a[i];
    sort(a,a+n);

    for(int i=n-1;i>=0;i--){
        mult_do=mult_do*(1-a[i])+mult_nodo*a[i];
        mult_nodo*=1-a[i];
        ans=max(ans,mult_do);
    }

    cout.precision(9);
    cout<<ans;

    return 0;
}
