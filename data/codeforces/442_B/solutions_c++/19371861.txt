#include<bits/stdc++.h>
using namespace std;
int main(){

	int i,n;long double a[105],y,x;bool cond=false;
	cin>>n;
	for(i=1;i<=n;i++){
		cin>>a[i];
		if(a[i]==1){
			cond = true;
		}
	}
	if(!cond){
		sort(a+1,a+n+1);
		for(i=n,x=0,y=1;i>=1;i--){
			if(x<1){
				x += (a[i]/(1-a[i]));
				y *= (1-a[i]);
			}else
				break;
		}
	}else{
		x = y = 1;
	}
	cout<<fixed<<setprecision(12)<<x*y<<endl;
	return 0;
}