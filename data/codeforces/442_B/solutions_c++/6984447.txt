#include <algorithm>
#include <stdio.h>
using    namespace std;

int n;
double x,y;
double ar[100];

int main()
{
  scanf("%d",&n);
  for(int i=0 ; i<n ; i++)
    scanf("%lf",&ar[i]);
  sort(ar,ar+n);
  x=ar[n-1];
  y=1-ar[n-1];
  for(int i=n-2 ; i>=0 ; i--)
  {
    double tmp=x*(1-ar[i])+y*ar[i];
    if(tmp<x) break;
    x=tmp;
    y*=1-ar[i];
  }
  printf("%.10lf\n",x);
  return 0;
}
