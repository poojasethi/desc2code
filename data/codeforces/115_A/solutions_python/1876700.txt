#!/usr/bin/env python
n=int(raw_input())
l = [[] for i in xrange(n)]
s = []
for x in xrange(n):
	y=int(raw_input())-1
	if y != -2:
		l[y].append(x)
	else:
		s.append(x)
max = 0

stack = []
for x in s:
	stack.append((x,1))
	while len(stack)>0:
		y,n = stack.pop()
		if n > max:
			max = n
		for i in l[y]:
			stack.append((i,n+1))
print max