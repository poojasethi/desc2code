n = input()

parent = n * [0]
depth = n * [None]
for j in xrange(n):
    p = input()
    parent[j] = p - 1 if p != -1 else None
    depth[j] = None if p != -1 else 1

for j in xrange(n):
    stack = []
    while depth[j] == None:
        stack.append(j)
        j = parent[j]

    cur = depth[j]
    for i in reversed(stack):
        cur += 1
        depth[i] = cur

print max(depth)
