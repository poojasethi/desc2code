#include<stdio.h>
#include<iostream>
#include<string.h>

using namespace std;

int dp[5000][5000];
int p[5000][5000];

int main()
{
	int i,j,n;
	char s[10000];
	cin>>s;
	cin>>n;
	int l = strlen(s);

	for(j=0;j<l;j++)
		dp[j][j]=p[j][j]=1;

	for(i=l-2;i>=0;i--)
	{
		for(j=i+1;j<l;j++)
		{

			dp[i][j]=dp[i+1][j]+dp[i][j-1];
			if(i+1<=j-1)
				dp[i][j]-=dp[i+1][j-1];
			if(s[i]==s[j])
			{
				if(i+1<=j-1 && !p[i+1][j-1])
				{
				}
				else
				{
					dp[i][j]++;
					p[i][j]=1;
				}
			}

		}
	}

	int x,y;
	for(i=0;i<n;i++)
	{
		cin>>x>>y;
		x--;y--;
		cout<<dp[x][y]<<'\n';
	}

	return 0;
}
