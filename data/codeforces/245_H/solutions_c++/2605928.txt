#include<cstdio>
#include<cstring>
int dp[5010][5010];
int is[5010][5010];
char s[5010];
int main(){
    int i,len,q,a,b;
    scanf("%s",s);
    len=strlen(s);
    for(i=0;i<len;++i)
        dp[i][i]=is[i][i]=1;
    for(i=2;i<=len;++i){
        for(a=0;a<len+1-i;++a){
            b=a+i-1;
            if((a+1>b-1 || is[a+1][b-1]) && s[a]==s[b])
                is[a][b]=1;
            dp[a][b]=dp[a+1][b]+dp[a][b-1]-dp[a+1][b-1]+is[a][b];
        }
    }
    scanf("%d",&q);
    while(q--){
        scanf("%d%d",&a,&b);
        printf("%d\n",dp[a-1][b-1]);
    }
    return 0;
}