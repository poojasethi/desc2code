#include <bits/stdc++.h>
using namespace std;
int dp[5005][5005];
char a[5005];
int main()
{
	cin>>a+1;
	int n = strlen(a+1);
	int m,l,r;
	for(int i=1;i<=n;i++)
	{
		int j,k;
		for(j=i,k=i;j>=1 && k<=n && a[j]==a[k];j--,k++)dp[j][k]++;
		for(j=i,k=i+1;j>=1 && k<=n && a[j]==a[k];j--,k++)dp[j][k]++;
	}
	for(int i=1;i<=n;i++)
	{
		for(int j=i+1;j<=n;j++)
			dp[i][j] += dp[i][j-1];
	}
	for(int i=1;i<=n;i++)
	{
		for(int j=i-1;j>=1;j--)
			dp[j][i] += dp[j+1][i];
	}
	cin>>m;
	while(m--)
	{
		scanf("%d%d",&l,&r);
		printf("%d\n",dp[l][r]);
	}
	return 0;
}