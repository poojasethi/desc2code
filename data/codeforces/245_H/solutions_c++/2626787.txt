#include<stdio.h>
#include<string.h>
char s[5005];
int dp[5005][5005];
bool f[5005][5005];
int main()
{
	int i, j, k;
	int len = strlen(gets(s+1));
	for(i = 1; i <= len; i++)
		dp[i][i] = 1, f[i][i] = 1, f[i][i-1] = 1;
	for(int l = 2; l <= len; l++)
		for(i = 1, j = l; j <= len; i++, j++)
		{
			f[i][j] = f[i+1][j-1] && (s[i] == s[j]);
			dp[i][j] = dp[i][j-1] + dp[i+1][j] - dp[i+1][j-1] + f[i][j];
		}
	int Q, x, y;
	scanf("%d", &Q);
	while(Q--)
	{
		scanf("%d%d", &x, &y);
		printf("%d\n", dp[x][y]);
	}
	return 0;
}
