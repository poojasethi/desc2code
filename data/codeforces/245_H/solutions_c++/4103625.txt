#include<stdio.h>
#include<string.h>
char s[5003];
int dp[5003][5003];
int main()
{
int i,j,k;
int x,y;
int a,b,c,d;
int len,q; 
gets(s+1);
len=strlen(s+1);
for(i=1;i<=len;i++) 
{
for(j=i,k=i;j>=1&&k<=len&&s[j]==s[k];j--,k++)dp[j][k]++;
for(j=i,k=i+1;j>=1&&k<=len&&s[j]==s[k];j--,k++)dp[j][k]++;
}
for(i=1;i<=len;i++)
for(j=i+1;j<=len;j++)dp[i][j]+=dp[i][j-1];
for(i=1;i<=len;i++)
for(j=i-1;j>=1;j--)
dp[j][i]+=dp[j+1][i];
scanf("%d", &q);
while(q--)
{
scanf("%d%d",&x, &y);
printf("%d\n",dp[x][y]);
}
return 0;
}
						  	 	          	    	