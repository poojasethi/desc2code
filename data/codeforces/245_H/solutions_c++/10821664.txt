#include<bits/stdc++.h>

using namespace std;

int n,i,l,j,m,x,y;
int DP[5005][5005];
int isPal[5005][5005];

string str;

int main(){

	cin >> str;

	n=str.size();

	for(i=0 ; i<n ; i++){
		isPal[i][i]=1;
		DP[i][i]=1;
		isPal[i+1][i]=1;
	}

	for(l=2 ; l<=n ; l++)
		for(i=0 ; i<=n-l ; i++){
			j=i+l-1;
			isPal[i][j] = isPal[i+1][j-1] & (str[i]==str[j]);
			DP[i][j] = DP[i][j-1] + DP[i+1][j] - DP[i+1][j-1] + isPal[i][j];
		}

	cin >> m;

	for(i=1 ; i<=m ; i++){
		scanf("%d %d",&x,&y);
		printf("%d\n",DP[x-1][y-1]);
	}
	
	return 0;
}
