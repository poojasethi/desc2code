#include<stdio.h>
#include<string.h>

char s[21000];
int cnt[5010][5010];
int len;
void cal(int i,int j)
{
	while(i>=0&&j<len&&s[i]==s[j])
		cnt[i][j]++,i--,j++;
}
int main()
{
	int i,j,k;
	scanf("%s",s);
	len=strlen(s);
	for(i=0;i<len;i++)
		cal(i,i);
	for(i=0;i<len-1;i++)
		cal(i,i+1);
	for(i=0;i<len;i++)
		for(j=i+1;j<len;j++)
			cnt[i][j]+=cnt[i][j-1];
	for(i=len-1;i>=0;i--)
		for(j=i+1;j<len;j++)
			cnt[i][j]+=cnt[i+1][j];
	int q;
	scanf("%d",&q);
	while(q--)
		scanf("%d%d",&i,&j),printf("%d\n",cnt[i-1][j-1]);
}
