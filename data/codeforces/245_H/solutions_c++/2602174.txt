#include <cstdio>
#include <cstring>
#include <iostream>

using namespace std;

const int MAXN = 5010;

char str[MAXN];

int m;

int ar[MAXN][MAXN];

void pal(int x,int y)
{
	for(int i=x,j=y;i>0 && j<=m;i--,j++)
		if(str[i]==str[j])
			ar[i][j]++;
		else
			break;
}

int main(){
	
	scanf("%s",str+1);
	
	m=strlen(str+1);
	
	for(int i=1;i<=m;i++)
		pal(i,i);
	for(int i=1;i<m;i++)
		pal(i,i+1);
	
	for(int i=m;i>=1;i--)
		for(int j=1;j<=m;j++)
			ar[i][j]+=ar[i+1][j]+ar[i][j-1]-ar[i+1][j-1];
	
	int n;
	
	scanf(" %d",&n);
	
	for(int i=1,a,b;i<=n;i++)
	{
		scanf("%d %d",&a,&b);
		printf("%d\n",ar[a][b]);
	}
	
	return 0;
	
}
