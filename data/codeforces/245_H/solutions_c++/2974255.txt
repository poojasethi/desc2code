#include<cstdio>
#include<cstring>
#define Z 5001
char a[Z];
int dp[Z][Z],P[Z][Z];

int ispalin(int i,int j)
{
	if(i>=j)
		return 1;
	int &t=P[i][j];
	if(t)
		return t;
	if(a[i]==a[j])
		t=ispalin(i+1,j-1);
	else
		t=2;
	return t;
}

int rec(int i,int j)
{
	if(i>j)
		return 0;
	int &t=dp[i][j];
	if(t)
		return t;
	if(ispalin(i,j)==1)
		t++;
	t+=rec(i+1,j);
	t+=rec(i,j-1);
	t-=rec(i+1,j-1);
	return t;
}
int main()
{
	int l,q,x,y;
	scanf("%s",&a);
	l=strlen(a);
	rec(0,l-1);
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d%d",&x,&y);
		x--;y--;
		printf("%d\n",rec(x,y));
	}
	return 0;
}
