#include<stdio.h>
#include<cstring>
#include<algorithm>
using namespace std;

int p[5001][5001] , dp[5001][5001] , q , l , r , n ;
char a[5001] ;

int  main()
{    
   scanf("%s",&a) ; n=strlen(a) ;
   for(int i=0 ; i<n ; i++) for(int j=0 ; j<n-i ; j++) 
   {
      if(!i) { p[j][i+j]=dp[j][i+j]=1 ; continue ; }        
      p[j][i+j]=(a[j]==a[i+j] && (i<2 || p[j+1][i+j-1])) ;
      dp[j][i+j]=dp[j][i+j-1]+dp[j+1][i+j]-dp[j+1][i+j-1]+p[j][i+j] ;
   } 
   
   scanf("%d",&q) ;
   while(q--)
   {
       scanf("%d%d",&l,&r) ;
       printf("%d\n",dp[l-1][r-1]) ;
   }
     
 return 0;
}