#include<iostream>
using namespace std;
string s;
bool is[5005][5005];
int k[5005][5005],i,j,l,p,n;
int main()
{
cin>>s;
n=s.length();
for(i=0;i<n;i++) is[i][i]=1;
for(l=1;l<n;l++)
{
for(i=0;i<n-l;i++)
{
if((l==1 || is[i+1][i+l-1]) && s[i]==s[i+l]) is[i][i+l]=1;
}
}
for(l=0;l<n;l++)
{
for(i=0;i<n-l;i++)
{
j=i+l;
k[i][j]=k[i][j-1]+k[i+1][j]-k[i+1][j-1]+is[i][j];
}
}
cin>>p;
for(i=1;i<=p;i++)
{
cin>>j>>l;
cout<<k[j-1][l-1]<<endl;
}
return 0;
}