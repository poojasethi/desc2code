#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#define foru(i,a,b) for(int i=a;i<=b;++i)

using namespace std;
int f[5100][5100],ll,rr,n,m;
char st[5100];
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	scanf("%s",&st); n=strlen(st)-1;
	foru(i,0,n) f[i][i]=1;
	foru(l,1,n)
	  foru(i,0,n-l) f[i][i+l]=(i+1<=i+l-1?f[i+1][i+l-1]:1)*(st[i]==st[i+l]);
	foru(l,1,n)
	  foru(i,0,n-1) f[i][i+l]+=f[i+1][i+l]+f[i][i+l-1]-f[i+1][i+l-1];
	scanf("%d",&m);
	while(m--) scanf("%d%d",&ll,&rr),printf("%d\n",f[ll-1][rr-1]);
	return 0;
}
