#include<cstdio>
#include<cstring>
char a[5001];
bool isp[5001][5001];
int f[5001][5001],q,l,h;
int main()
{
    scanf("%s%d",a+1,&q);
    int n=strlen(a+1);
    for(int len=1;len<=n;++len)
        for(int i=1;i+len-1<=n;++i)
        {
            int j=i+len-1;
            isp[i][j]=((a[i]==a[j] && isp[i+1][j-1]) || len==1 || (len==2 && a[i]==a[i+1]));
            if(len==1) f[i][j]=1;
            else f[i][j]=f[i+1][j]+f[i][j-1]-f[i+1][j-1]+isp[i][j];
        }
    while(q--) {
            scanf("%d%d",&l,&h);
            printf("%d\n",f[l][h]);
    }
    return 0;
}
 	 		 	 	 					 	   					