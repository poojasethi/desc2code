#include<stdio.h>
#include<string.h>
int ans[5001][5001]={0};
char a[5001];
int l;
void f(int i, int j)
{
   if(i<0||j>=l||a[i]!=a[j])return;
   ans[i][j]=1;
   f(i-1,j+1);
}
int main()
{
    gets(a);
    l = strlen(a);
    int i,j;
    for(i=0;i<l;f(i,i),f(i,i+1),i++);
    for(i=0;i<l;i++)
     for(j=i;j>=0;j--)
         ans[j][i]+=ans[j+1][i];
    for(i=0;i<l;i++)
     for(j=i;j<l;j++)
         ans[i][j]+=ans[i][j-1];
    int n,k1,k2;
    scanf("%i",&n);
    while(n--){
       scanf("%i %i",&k1,&k2);
       printf("%i\n",ans[k1-1][k2-1]);
    }
}
