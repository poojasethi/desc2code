#include<bits/stdc++.h>
using namespace std;
int n,dp[5001][5001],ispal[6000][6000],q1,q2,uz;
char ar[1000001];
int main(){
	scanf("%s %d",ar+1,&n);
	uz=strlen(ar+1);
	for(int j=1; j<=uz ; j++){
		dp[j][j]=1;
		ispal[j][j]=1;
		ispal[j+1][j]=1;
	}
	for(int i=2 ; i<=uz ; i++){
		for(int j=1 ; j+i-1<=uz ; j++){
			ispal[j][j+i-1]=ispal[j+1][j+i-2]& ar[j]==ar[j+i-1];
		//	printf("%d\n",ispal[j][j+i-1]);
			dp[j][j+i-1]=dp[j][j+i-2]+dp[j+1][j+i-1]-dp[j+1][j+i-2]+ispal[j][j+i-1];
		}
	}
	for(int i=1 ; i<=n ; i++){
		scanf("%d %d",&q1,&q2);
		printf("%d\n",dp[q1][q2]);
	}
	return 0;
}
