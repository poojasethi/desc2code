#include<stdio.h>
#include<string.h>
#define fo(i,x,y) for(int i=x;i<=y;i++)

char str[5005];
int dp[5005][5005];
int hui[5005][5005];

int main()
{
    int len=strlen(gets(str+1));
    fo(i,1,len)
      hui[i][i]=dp[i][i]=hui[i][i-1]=1;
    fo(l,2,len)
      for(int i=1,j=l;j<=len;i++,j++)
      {
          hui[i][j]=hui[i+1][j-1]&&str[i]==str[j];
          dp[i][j]=dp[i+1][j]+dp[i][j-1]-dp[i+1][j-1]+hui[i][j];
      }
    int Q;
    scanf("%d",&Q);
    while(Q--)
    {
        int x,y;
        scanf("%d %d",&x,&y);
        printf("%d\n",dp[x][y]);
    }
    return 0;
}
