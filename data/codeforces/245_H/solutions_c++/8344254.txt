#include <bits/stdc++.h>
using namespace std;
const int maxn=5555;
int L,R,m,n,i,j,c[maxn][maxn],b[maxn][maxn];
char s[maxn];
int main(){
    //freopen("input.txt","r",stdin);
    scanf("%s",s+1),n=strlen(s+1);
    for(i=n;i>=1;--i)for(j=i;j<=n;++j){
        if(s[i]==s[j]&&(b[i+1][j-1]-b[i+2][j-1]==1||i+1>j-1))++b[i][j];
        b[i][j]+=b[i+1][j],c[i][j]=c[i][j-1]+b[i][j]-b[i-1][i];
    }
    scanf("%d",&m);
    for(i=1;i<=m;++i)scanf("%d%d",&L,&R),printf("%d\n",c[L][R]);
    return 0;
}