#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>
using namespace std;
char st[5005];
int d[5005][5005],i,j,k,a,b,n,dp[5005][5005],q,l,r;
int main(){
	scanf("%s",st+1);
	n=strlen(st+1);
	for(i=1;i<=n;i++)
	dp[i][i]=1;
	for(i=1;i<n;i++)
	dp[i][i+1]=(st[i]==st[i+1]);
	for(i=2;i<=n;i++){
		for(j=1;j+i<=n;j++)
		dp[j][j+i]= (st[j]==st[j+i] ? dp[j+1][j+i-1] : 0);
	}
	for(i=1;i<=n;i++)
		for(j=1;j<=n;j++)
		    d[i][j]= dp[j][i]+d[i-1][j]+d[i][j-1]-d[i-1][j-1];
    scanf("%d",&q);
    for(i=1;i<=q;i++){
		scanf("%d %d",&l,&r);
		printf("%d\n",d[r][r]-d[l-1][r]-d[r][l-1]+d[l-1][l-1]);
	} 
	return 0;
}
