//In The Name Of God ;

#include<bits/stdc++.h>


using namespace std;

const int Maxn=5e3+7;

bool pal[Maxn][Maxn];
int dp[Maxn][Maxn];
int i,j,l,r,q,n;
string s;

int main()
{
  cin>>s;
  n=s.size();
  for(i=0;i<n;i++)
    for(j=i-1,pal[i][i]=pal[i][i-1]=1;j>=0;j--)
      pal[j][i]|=(s[i]==s[j] && pal[j+1][i-1]);
  for(i=0;i<n;i++)
    for(j=i-1,dp[i][i]=1;j>=0;j--)
      dp[j][i]=dp[j+1][i]+dp[j][i-1]-dp[j+1][i-1]+pal[j][i];
  scanf("%d",&q);
  for(;q--;)
    {
      scanf("%d%d",&l,&r);
      printf("%d\n" , dp[l-1][r-1]);
    }
  return 0;
}
