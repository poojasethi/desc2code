#include <iostream>
#include <cstring>

using namespace std;

typedef long long LL;

char s[5050],f[5050][5050];
int n,q,w[5050][5050];

int main(void) {
  cin>>s>>q;
  n=strlen(s);
  for(int i=0;i<n;++i)f[0][i]=f[1][i]=w[1][i]=1;
  for(int i=2;i<=n;++i)
    for(int j=0;j+i<=n;++j)
      w[i][j]=w[i-1][j]+w[i-1][j+1]-w[i-2][j+1]+(f[i][j]=s[j]==s[j+i-1]?f[i-2][j+1]:0);
  for(int i=0,a,b;i<q&&cin>>a>>b;cout<<w[b-a+1][a-1]<<endl);
  return 0;
}