#include<iostream>
#include<stdio.h>
#include<algorithm>
#include<string.h>
using namespace std;
int dp[5005][5005]={0};
bool is[5005][5005]={0};
int main()
{
	int cas,a,b,i,j,l;
	char s[5005];
    scanf("%s",s);
    l=strlen(s);
    for(i=0;i<l;i++)
    {
		dp[i][i]=1;
		is[i][i]=1;
		is[i+1][i]=1;
    }
    for(i=1;i<=l;i++)
    {
    	for(j=0;j<l-i;j++)
    	{
			if(s[j]==s[j+i]&&is[j+1][j+i-1])
	    	is[j][i+j]=1;
	    	dp[j][j+i]=dp[j+1][j+i]+dp[j][j+i-1]-dp[j+1][j+i-1]+is[j][j+i];
	    }
    }
    scanf("%d",&cas);
	while(cas--)
	{
		scanf("%d%d",&a,&b);
		printf("%d\n",dp[a-1][b-1]);
	}
}
  	 	    	   	 				 			 	