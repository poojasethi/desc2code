#include<iostream>
#include<stdio.h>
#include<algorithm>
#include<string.h>
using namespace std;
int dp[5005][5005]={0};
bool is[5005][5005]={0};
int main()
{
	int cas,a,b,i,j,l;
	char s[5005];
    scanf("%s",s+1);
    l=strlen(s+1);
    for(i=1;i<=l;i++)
    {
		dp[i][i]=1;
		is[i][i]=1;
		is[i+1][i]=1;
    }
    for(i=1;i<=l;i++)
    {
    	for(j=1;j<=l-i;j++)
		{
			if(s[j]==s[i+j]&&is[j+1][i+j-1])
				is[j][i+j]=1;
			dp[j][i+j]=dp[j+1][i+j]+dp[j][i+j-1]-dp[j+1][i+j-1]+is[j][i+j];
		}
    }
		
    scanf("%d",&cas);
	while(cas--)
	{
		scanf("%d%d",&a,&b);
		printf("%d\n",dp[a][b]);
	}
}
	 				 					   	  	 		   	