#include<bits/stdc++.h>
using namespace std;


int main(){
    //freopen("in.txt","r",stdin);
    int i;
    int n;
    int counts[30002];
    int pos[30002];
    int pro1[30002][4];
    int pro2[30002][4];
    int id[30002][4];
    
    priority_queue <pair <int, int> > pri;

    cin >> n;
    for(i=0;i<4*n;i++){
        int a,b,c;
        scanf("%d %d %d", &a, &b, &c);
        a--; 
        b--; 
        c--;
        pro1[a][pos[a]] = b;
        pro2[a][pos[a]] = c;
        id[a][pos[a]] = i;
        pos[a]++;
    }
    for(i=0;i<n;i++) counts[i]=8;
    for(i=0;i<n;i++) pri.push(make_pair(-8, i));
    for(i=0;i<n;i++) pos[i] = 0;
    vector <int> result;
    while(!pri.empty()){
        int x = pri.top().second;
        pri.pop();
        if(pos[x] == 4 || counts[x] == 9) continue;
        
        int y = pro1[x][pos[x]];
        int z = pro2[x][pos[x]];
        
        pos[x]++;
        result.push_back(id[x][pos[x]-1]);
        
        counts[x]++;
        pri.push(make_pair(-counts[x], x));
        counts[y]--; 
        pri.push(make_pair(-counts[y], y)); 
        counts[z]--;
        pri.push(make_pair(-counts[z], z));
    }
    
    printf("YES\n");
    for(i=4*n-1;i>=0;i--){
        printf("%d ", result[i] + 1);
    }
    printf("\n");
    
    return 0;
}