#include <bits/stdc++.h>

#define rep(i,j) for(int i = 0 ; i < (int)j ; i++)
#define forit(x) for(__typeof(x.begin()) it = x.begin() ; it!=x.end() ; it++)
#define all(x) x.begin() , x.end()
#define mms(a,x) memset(a, x, sizeof(a))
#define read(x) freopen(x,"r",stdin)
#define write(x) freopen(x,"w",stdout)
#define mp(x,y) make_pair(x,y)
#define sp " "
#define pb push_back

using namespace std;

typedef long long ll;
typedef unsigned long long ull;
typedef pair<string, int> si;
typedef pair<int, int> ii;
typedef pair<int, string> is;
typedef map<string, int> msi;
typedef vector<int> vi;
typedef vector<string> vs;
typedef vector<ii> vii;
typedef vector<ll> vll;
typedef vector<float> vf;
typedef vector<double> vd;

int n,a,b,c;
map<int,int> ram;
vector<pair<int,ii> > rem;
vi order;
vi ans;

bool isIt(int a , int b, int c){
    return (a == b && a == c && ram[a] <= 8) || (b==c && ram[b] <= 7) || (b!=c && ram[b]<9 && ram[c]<9);
}

int main(){

    
    cin>>n;
    rep(I,n) ram[I+1] = 4;
    
    rep(I,4*n){
        cin>>a>>b>>c;
        if(isIt(a,b,c)) ram[a]--,ram[b]++,ram[c]++,ans.pb(I+1);
        else rem.pb(pair<int,ii>(a,ii(b,c))),order.pb(I+1);
        // cout<<I+1<<endl<<a<<sp<<ram[a]<<endl<<b<<sp<<ram[b]<<endl<<c<<sp<<ram[c]<<endl<<endl;
    }
    
    // forit(ans) cout<<*it<<sp;
    // cout<<endl;
    // forit(ram) cout<<it->first<<sp<<it->second<<endl;
    // forit(rem) cout<<(*it).first<<sp<<(*it).second.first<<sp<<(*it).second.second<<endl;
    
    while(rem.size()){
        bool can = 0;
        
        rep(I,rem.size()){
            // cout<<rem[I].first<<sp<<rem[I].second.first<<sp<<rem[I].second.second<<endl;
            // cout<<ram[rem[I].first]<<sp<<ram[rem[I].second.first]<<sp<<ram[rem[I].second.second]<<endl;
            
            if(isIt(rem[I].first,rem[I].second.first,rem[I].second.second))
                ram[rem[I].first]--, ram[rem[I].second.first]++,    ram[rem[I].second.second]++, 
                can = can||1,
                rem.erase(rem.begin()+I), ans.pb(order[I]), order.erase(order.begin()+I);
            
            else can = can || 0;
        }
        
        if(!can){
            cout<<"NO"<<endl;
            return 0;
        }
    }
    
    cout<<"YES"<<endl;
    forit(ans) cout<<*it<<sp;
    cout<<endl;
    
    return 0;
}