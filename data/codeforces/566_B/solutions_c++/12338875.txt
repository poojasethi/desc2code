#include <cstdio>
#include <iostream>
#include <iomanip>
#include <string>
#include <string.h>
#include <vector>
#include <queue>
#include <set>
#include <map>
#include <utility>
#include <time.h>
#include <algorithm>
#include <cmath>

#define F first
#define S second
#define mp make_pair
#define pb push_back

using namespace std;

const int INF = 1000000000;
const long long INFll = 1000000000000000000ll;
const long double EPS = 1e-13;
const int MOD = 1000000007;

struct e{
    int a, b, c, num;
};

int k[1000100];

int main()
{
    cin.tie();
    ios_base::sync_with_stdio();
    #ifdef LOCAL
        freopen("input.txt", "r", stdin);
        freopen("output.txt", "w", stdout);
    #endif
    int n;
    cin >> n;
    for (int i = 1; i <= n; i++) {
        k[i] = 4;
    }
    vector<e> v(4 * n);
    for (int i = 0; i < 4 * n; i++) {
        cin >> v[i].a >> v[i].b >> v[i].c;
        v[i].num = i + 1;
    }
    int it = 0;
    vector<int> ans;
    while (!v.empty()) {
        if (it == v.size()) it = 0;
        k[v[it].a]--;
        k[v[it].b]++;
        k[v[it].c]++;
        if (k[v[it].a] >= 0 && k[v[it].b] < 10 && k[v[it].c] < 10) {
            ans.pb(v[it].num);
            v[it] = v.back();
            v.pop_back();
            continue;
        }
        k[v[it].a]++;
        k[v[it].b]--;
        k[v[it].c]--;
        it++;
    }
    cout << "YES" << endl;
    for (int i = 0; i < ans.size(); i++) {
        cout << ans[i] << " ";
    }
    return 0;
}


