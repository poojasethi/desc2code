#include<cmath>
#include<cstdio>
#include<cstring>
#include<algorithm>

using namespace std;

const int N=30000;

int s[N+7];
int a[4*N+7],b[4*N+7],c[4*N+7],pre[4*N+7],next[4*N+7];

int main()
{
	#ifdef waltz
		freopen("input.txt","r",stdin);
		freopen("output.txt","w",stdout);
	#endif
	int n;scanf("%d",&n);
	for (int i=1;i<=4*n;i++) scanf("%d%d%d",&a[i],&b[i],&c[i]);
	for (int i=1;i<=n;i++) s[i]=4;
	for (int i=1;i<=4*n;i++) {pre[i]=i-1;next[i]=i+1;}
	int head=1;next[4*n]=0;
	printf("YES\n");
	while (head)
	{
		int p=head;
		while (p)
		{
			if (s[a[p]])
			{
				s[a[p]]--;
				s[b[p]]++;
				s[c[p]]++;
				if (s[b[p]]<=9&&s[c[p]]<=9)
				{
					printf("%d ",p);
					if (next[p]) pre[next[p]]=pre[p];
					if (pre[p]) next[pre[p]]=next[p]; else head=next[p];
					p=next[p];
				}
				else
				{
					s[a[p]]++;
					s[b[p]]--;
					s[c[p]]--;
					p=next[p];
				}
			}
			else
				p=next[p];
		}
	}
	return 0;
}
