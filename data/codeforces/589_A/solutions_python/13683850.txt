import sys
n=input()
ans={}
for i in xrange(n):
	s=raw_input()
	fin=s.lower()
	if fin[-10:]=="@bmail.com":
		i=0
		fin2=""
		while i<len(s) and fin[i]!='@':
			if fin[i]=='+':
				while fin[i]!='@':
					i+=1
				break
			if fin[i]!='.':
				fin2+=fin[i]
			i+=1
		fin2+=fin[i:]
		fin=fin2
	if fin in ans:
		ans[fin][0]+=1
		ans[fin][1].append(s)
	else:
		ans[fin]=[1,[s]]
print len(ans)
for i in ans:
	print ans[i][0],
	for j in ans[i][1]:
		print j,
	print
