n = int(input())
k = []
j = {}
for i in range(0,n):
	tmp = raw_input()
	k.append(tmp)

for i in k:
	if i.lower()[-10:] == "@bmail.com":
		a,b  = i.split("@")
		l = a.split("+")[0].lower().replace(".","") + "@bmail.com"
		if l not in j:
			j[l] = list()
		j[l].append(i)
	else:
		l = i.lower()
		if l not in j:
			j[l] = list()
		j[l].append(i)

print len(j)
for k,v in j.iteritems():
	print len(v),
	for i in v:
		print i,
	print
