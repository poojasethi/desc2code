#include<bits/stdc++.h>
using namespace std;
#define st first
#define nd second
#define mp make_pair
#define mp3(x,y,z) mp(x,mp(y,z))
#define endl '\n'
#define endll puts("")
#define mod 1000000007
#define pb push_back
#define pii pair< int , int > 
typedef long long ll;
const int N = 1e5+7;
int n,m,i,j,k,t,s,x,y,z,h[N],hh[N],d,l,ii,jj,u;
map <string , vector< string > >	MP;
string str,str1,str2;
int main()
{	
	ios_base::sync_with_stdio(false);
	cin>>n;
	for(j=0;j<n;j++)
	{
		cin>>str;
		str1=str;
		u=str.size();
		for(i=0;i<u;i++)
			if(str1[i]>='A' and str1[i]<='Z')
				str1[i]-='A'-'a';
		string str3="";
		if(u>9)
		{
			for(i=u-10;i<u;i++)str3+=str1[i];
		}
		//cout<<str3<<endl;
		if(u>9 and str3=="@bmail.com")
		{
			str2="";
			for(i=0;i<u;i++)
			{
				if(str1[i]=='@' or str1[i]=='+')break;
				if(str1[i]!='.')str2+=str1[i];
			}
			MP[str2].pb(str);
		}
		else
			MP[str1].pb(str);

	}
	s=0;
	map <string , vector< string > > ::iterator it;
	for(it=MP.begin();it!=MP.end();it++)s++;
	cout<<s<<endl;
	for(it=MP.begin();it!=MP.end();it++)
	{
		u=(it -> nd).size();
		cout<<u;
		for(i=0;i<u;i++)cout<<' '<<(it->nd)[i];
		cout<<endl;
	}
}
