#include<cstdio>
#include<vector>
#include<set>
#include<string>
#include<cstring>
#include<algorithm>

using namespace std;

char s[112];
pair<string,string> a[22223];
string t;

int main()
{
	int i,j,n;
	scanf("%d",&n);
	for(i=0;i<n;i++)
	{
		scanf("%s",s);
		a[i].first=a[i].second=s;
		for(j=0;j<a[i].first.size();j++)if(a[i].first[j]>='A'&&a[i].first[j]<='Z')a[i].first[j]+=32;
		if(a[i].first.size()>10&&a[i].first.substr(a[i].first.size()-10,a[i].first.size())=="@bmail.com")
		{
			t=a[i].first;
			a[i].first="";
			for(j=0;j<t.size();j++)
			{
				if(t[j]=='@'||t[j]=='+')break;
                if(t[j]=='.')continue;
                a[i].first+=t[j];
			}
			while(t[j]!='@')j++;
			while(j<t.size())a[i].first+=t[j++];
		}
	}
	std::sort(a,a+n);
	j=1;
	for(i=1;i<n;i++)if(a[i].first!=a[i-1].first)j++;
	printf("%d\n",j);
	for(i=j=0;i<n;)
	{
		while(a[j].first==a[i].first)j++;
		printf("%d",j-i);
        while(i<j)printf(" %s",a[i++].second.c_str());
        puts("");
	}
//system("pause");
return 0;
}