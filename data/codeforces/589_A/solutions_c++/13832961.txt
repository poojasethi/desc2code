#include<bits/stdc++.h>
using namespace std;
char s[111];
pair<string,string> a[22222];
string t;
int main()
{
    int i,j,n;
    cin>>n;
    for (i=0;i<n;i++)
    {
        cin>>s;
        a[i].first=a[i].second=s;
        for (j=0;j<a[i].first.size();j++)
        {
            if (a[i].first[j]>='A' && a[i].first[j]<='Z')
            {
                a[i].first[j]+=32;
            }
        }
        if (a[i].first.size()>10 && a[i].first.substr(a[i].first.size()-10,a[i].first.size())=="@bmail.com")
        {
            t=a[i].first;
            a[i].first="";
            for (j=0;j<t.size();j++)
            {
                if (t[j]=='@' || t[j]=='+') break;
                if (t[j]=='.') continue;
                a[i].first+=t[j];
            }
            a[i].first+="@bmail.com";
        }
    }
    sort(a,a+n);
    j=1;
    for (i=1;i<n;i++)
    {
        if (a[i].first!=a[i-1].first) j++;
    }
    cout<<j<<endl;
    for (i=j=0;i<n;)
    {
        while(a[i].first==a[j].first) j++;
        cout<<j-i<<" ";
        while(i<j) cout<<a[i++].second<<" ";
        cout<<endl;
    }
    return 0;
}
