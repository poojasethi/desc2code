#include<stdio.h>
#include<set>
#include<vector>
using namespace std;
set<int> upper;
set<int> lower[500000];
vector<int> e[500000];
vector<int> q[500000][3];
int ans[500000];

int dfs(int v,int p){
    int r=v;
    int i;
    for(i=0;i<q[v][0].size();i++)upper.insert(q[v][0][i]);
    for(i=0;i<q[v][1].size();i++)lower[r].insert(q[v][1][i]);
    for(i=0;i<e[v].size();i++){
        int u=e[v][i];
        if(u==p)continue;
        int s=dfs(u,v);
        if(lower[r].size()<lower[s].size()){
            int t=r;r=s;s=t;
        }
        for(set<int>::iterator it=lower[s].begin();it!=lower[s].end();it++){
            int tmp=*it;
            lower[r].insert(tmp);
        }
    }
    for(i=0;i<q[v][2].size();i++){
        int t=q[v][2][i];
        int vup=-2,vlow=-1;
        set<int>::iterator up=upper.upper_bound(t);
        if(up!=upper.begin()){
            up--;
            vup=*up;
        }
        set<int>::iterator low=lower[r].upper_bound(t);
        if(low!=lower[r].begin()){
            low--;
            vlow=*low;
        }
        if(vup>vlow)ans[t]=1;
        else ans[t]=0;
    }
    for(i=0;i<q[v][0].size();i++)upper.erase(q[v][0][i]);
    return r;
}

int main(){
    int n,m,i;
    scanf("%d",&n);
    for(i=0;i<n-1;i++){
        int a,b;
        scanf("%d %d",&a,&b);
        a--;b--;
        e[a].push_back(b);
        e[b].push_back(a);
    }
    scanf("%d",&m);
    for(i=0;i<m;i++){
        int t,v;
        scanf("%d %d",&t,&v);
        q[v-1][t-1].push_back(i);
    }
    for(i=0;i<m;i++)ans[i]=-1;
    dfs(0,-1);
    for(i=0;i<m;i++)if(ans[i]!=-1)printf("%d\n",ans[i]);
    return 0;
}
