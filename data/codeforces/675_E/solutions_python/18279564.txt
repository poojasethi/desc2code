from math import log
n = input()
a = [int(v) - 1 for v in raw_input().split()] + [n-1]
J = int(log(n) / log(2.0))

rmq = [[]] * (J+1)
rmq[0] = [(a[i], i) for i in range(n)]
for k in range(1, J+1):
    rmq[k] = [max(rmq[k-1][i], rmq[k-1][i+(1<<(k-1))]) for i in range(0, n-(1<<k)+1)]

dp = [0] * n
for i in xrange(n-2, -1, -1):
    k = int(log(a[i] - i) / log(2.0))
    u, v = max(rmq[k][i+1], rmq[k][a[i]-(1<<k)+1])
    dp[i] = dp[v] - (a[i] - v) + n - 1 - i

print sum(dp)
