#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int maxn=200000+1000;
int maxv[maxn*2],ql,qr,p,v,pos,c[maxn];
int n,a[maxn];
long long f[maxn];
void query(int o,int l,int r)
{
	if (ql<=l&&r<=qr)
	{
		if (c[maxv[o]]>c[pos]) pos=maxv[o];
		return ;
	}
	int mid=(l+r)/2;
	if (ql<=mid) query(2*o,l,mid);
	if (qr>mid) query(2*o+1,mid+1,r);
}
void updata(int o,int l,int r)
{
	if (l==r) {c[l]=v;maxv[o]=l;return ;}
	int mid=(l+r)/2;
	if (p<=mid) updata(2*o,l,mid);
	else
	    updata(2*o+1,mid+1,r);
	if (c[maxv[2*o]]>c[maxv[2*o+1]]) maxv[o]=maxv[2*o];
	else
	    maxv[o]=maxv[2*o+1];
}
int main()
{
	cin>>n;
	for (int i=1;i<n;i++) scanf("%d",&a[i]);
	long long ans=1;
	f[n-1]=1;
	p=n-1;v=n;
	updata(1,1,n);
	for (int i=n-2;i>=1;i--)
	{
		ql=1;qr=a[i];pos=0;
		query(1,1,n);
		int j=pos;
		p=i;v=a[i];
		updata(1,1,n);
		f[i]=f[j]+n-i-(a[i]-j);
		ans+=f[i];
	}
	cout<<ans;
	return 0;
}
	   		 			 	 			  			 		 	 	 		