#include<cstdio>
#include<algorithm>
#include<cstring>
#define ll long long
using namespace std;
const int maxn=1e5+5;

int l[maxn];
int q[maxn],t;
ll f[maxn];
int n;

int main(){
	scanf("%d",&n);
	for(int i=1;i<n;i++) scanf("%d",&l[i]);
	
	q[++t]=-n;
	for(int i=n-1;i>=1;i--){
		int x=-q[lower_bound(q+1,q+t+1,-l[i])-q];
		while(t&&l[-q[t]]<=l[i]) t--;
		f[i]=f[x]-(l[i]-x)+(n-i);
		q[++t]=-i;
	}
	
	ll sum=0;
	for(int i=1;i<=n;i++) sum+=f[i];
	printf("%I64d\n",sum);
	return 0;
}
