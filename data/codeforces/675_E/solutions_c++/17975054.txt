#define N (1<<17)
#define LL long long
#define PII pair<int,int>
#include <bits/stdc++.h>
using namespace std;

int n,x;
LL dp[N],sum;
PII f[N][17];

void InitST()
{
	for(int i=n;i>=1;i--)
		for(int j=1;j<17;j++)
			if(i+(1<<(j-1))>n) f[i][j]=f[i][j-1];
			else f[i][j]=max(f[i][j-1],f[i+(1<<(j-1))][j-1]);
}

PII query(int L,int R)
{
	PII res=PII(0,0);
	for(int i=16;i>=0;i--)
		if(L+(1<<i)-1<=R) res=max(res,f[L][i]),L+=1<<i;
	return res;
}

int main()
{
	cin>>n;
	for(int i=1;i<n;i++)
		scanf("%d",&x),f[i][0]=PII(x,i);
	f[n][0]=PII(n,n),InitST();

	for(int i=n-1;i>=1;i--)
	{
		PII res=query(i+1,f[i][0].first);
		dp[i]=dp[res.second]+res.second-i+n-f[i][0].first,sum+=dp[i];
	}
	cout<<sum<<endl;
	return 0;
}
