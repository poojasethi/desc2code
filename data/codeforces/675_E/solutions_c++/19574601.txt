#include<bits/stdc++.h>
using namespace std;

const int maxn = 1e5+5;
int n,f[maxn*4],a[maxn];
typedef long long ll;
ll dp[maxn];

void build(int i, int l, int r){
    if(l == r) {
        f[i] = l;
        return;
    }
    int mid = (l+r)/2;
    build(i*2,l,mid);
    build(i*2+1,mid+1,r);
    if(a[f[i*2]] > a[f[i*2+1]]) f[i] = f[i*2];
    else f[i] = f[i*2+1];
}

int get(int i,int l,int r,int u,int v){
    if(v < l || r < u) return INT_MIN;
    if(u <= l && r <= v) return f[i];
    int mid = (l+r)/2;
    int id1 = get(i*2,l,mid,u,v), id2 = get(i*2+1,mid+1,r,u,v);
    return a[id1]>a[id2]? id1 : id2;
}

int main(){
  //  freopen("input.txt","r",stdin);
    scanf("%d",&n);
    for(int i = 1; i < n; ++i) scanf("%d",a+i);
    build(1,1,n);
    for(int i = n - 1; i >= 1; --i){
        int v = get(1,1,n,i+1,a[i]);
        dp[i] = v - i + n - a[i] + dp[v];
    }
    ll res = 0;
    for(int i = 1; i <= n; ++i) res+= dp[i];
    cout<<res<<"\n";
}
