#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<iostream>
#include<algorithm>
#define maxn 100010

using namespace std;

long long mn[4*maxn],dp[maxn],ans;
int a[maxn];
int n;

void modify(int i,int l,int r,int x,long long d)
{
	if (l==r) {mn[i]=d;return;}
	int mid=(l+r)>>1;
	if (x<=mid) modify(i<<1,l,mid,x,d); else modify(i<<1|1,mid+1,r,x,d);
	mn[i]=min(mn[i<<1],mn[i<<1|1]);
}

long long query(int i,int l,int r,int L,int R)
{
	if (L<=l && r<=R) return mn[i];
	int mid=(l+r)>>1;
	if (R<=mid) return query(i<<1,l,mid,L,R);
	else if (L>mid) return query(i<<1|1,mid+1,r,L,R);
	else return min(query(i<<1,l,mid,L,R),query(i<<1|1,mid+1,r,L,R));
}

int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n-1;i++) scanf("%d",&a[i]);
	dp[n]=0;modify(1,1,n,n,n);
	for (int i=n-1;i>=1;i--)
	{
		dp[i]=(long long)query(1,1,n,i+1,a[i])-a[i]+n-i;
		modify(1,1,n,i,dp[i]+i);
		ans+=dp[i];
	}
	printf("%I64d\n",ans);
	return 0;
}

