#include<bits/stdc++.h>
		 
using namespace std;
#define foreach(i,x) for(type(x)i=x.begin();i!=x.end();i++)
#define FOR(ii,aa,bb) for(int ii=aa;ii<=bb;ii++)
#define ROF(ii,aa,bb) for(int ii=aa;ii>=bb;ii--)

#define dbg(x) cerr << (#x) << " --> " << (x) << endl
#define ll long long
#define pii pair<int,int>
#define mod 1000000007
#define N (int)(2e5+10)
#define mp make_pair
#define pb push_back
#define sd second
#define ft first
#define endll puts("")
#define endl '\n'
#define inf mod
int n,a[N],l,r,q,logn;
ll dp[N];
pii rmq[N][20];
void init(){
	logn = log2(n);
	FOR(i,1,logn)
  		FOR(j,1,n)
			rmq[j][i] = max(rmq[j][i-1] , rmq[min(n,j+(1<<(i-1)))][i-1]);
}
int que(int l,int r){
	logn = log2(r-l+1);
	return max(rmq[l][logn] , rmq[r - (1<<logn)+1][logn]).sd;
}
int main(){
	cin >> n;
	FOR(i,1,n){
		a[i] = n;
		if(i!=n)
			scanf("%d",&a[i]);
		rmq[i][0] = mp(a[i],i);
	}
	init();
	ll ans=0;
	ROF(i,n-1,1){
		int t = que(i+1,a[i]);
		dp[i] = dp[t] + (n-a[i]) + (t-i);
		ans += dp[i];
	}
	cout << ans << endl;
}
