#include<cstdio>
#include<iostream>
#define LL long long
#define N 200005
using namespace std;
int n,a[N],tr[N*4];
LL dp[N];
LL ans;
void build(int p,int l,int r){
	if(l==r){
		tr[p]=l;
		return ;
	}
	int mid=(l+r)>>1;
	build(p<<1,l,mid);build(p<<1^1,mid+1,r);
	if(a[tr[p<<1]]>a[tr[p<<1^1]])tr[p]=tr[p<<1];else tr[p]=tr[p<<1^1];
}
int get(int p,int l,int r,int x,int y){
	if(l>y||x>r) return 0;
	if(x<=l&&r<=y){
		return tr[p];
	}
	int mid=(l+r)>>1;
	int u1=get(p<<1,l,mid,x,y);
	int u2=get(p<<1^1,mid+1,r,x,y);
	if(a[u1]>a[u2]) return u1;
	else return u2;
}
int main(){
//	freopen("1.in","r",stdin);freopen("1.out","w",stdout);
	scanf("%d",&n);
	for(int i=1;i<n;i++) scanf("%d",&a[i]);
	a[n]=n;
	build(1,1,n);
	dp[n]=0;
	for(int i=n-1;i>=1;i--){
		int u=get(1,1,n,i+1,a[i]);
		dp[i]=dp[u]+n-i-(a[i]-u);
		ans+=dp[i];
	}
	printf("%I64d\n",ans);
}