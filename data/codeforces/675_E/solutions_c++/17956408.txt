#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define MAXN 100005
#define pii pair<int,int>
#define X first
#define Y second
#define mp(a,b) make_pair(a,b)
pair<int,int> t[4*MAXN];
ll dp[MAXN];
int a[MAXN];
void build(int v,int tl,int tr)
{
	if(tl==tr)
	{
		t[v]=pii(a[tl],tl);
		return ;
	}
	int L=v<<1,R=L+1,tm=(tl+tr)>>1;
	build(L,tl,tm);
	build(R,tm+1,tr);
	t[v]=max(t[L],t[R]);
}
pii query(int v,int tl,int tr,int l,int r)
{
	if(tl==l&&tr==r)
		return t[v];
	int L=v<<1,R=L+1,tm=(tl+tr)>>1;
	if(r<=tm)
		return query(L,tl,tm,l,r);
	else if(l>tm)
		return query(R,tm+1,tr,l,r);
	else return max(query(L,tl,tm,l,tm),query(R,tm+1,tr,tm+1,r));
}


int main()
{	
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);

	int n;
	cin>>n;
	for(int i=1;i<n;i++)
		cin>>a[i];
	build(1,1,n);

	dp[n]=0;
	ll ans=0;
	for(int i=n-1;i>=1;i--)
	{
		int m=query(1,1,n,i+1,a[i]).Y;
		dp[i]=dp[m]+(ll)(m-i)+(ll)(n-a[i]);

	}
	for(int i=1;i<=n;i++)
		ans+=dp[i];
	cout<<ans<<endl;



	return 0;
}