#include <bits/stdc++.h>
using namespace std;
#define DEBUG(x) cerr << #x << " = " << x << endl;

typedef long long LL;
typedef pair<int, int> II;

const int N = (int) 1e5 + 10;
int n, a[N];
II spT[N][20];
LL dp[N];

int Find(int i, int j) {
	int k = (int) log2(j - i + 1);
	return max(spT[i][k], spT[j - (1 << k) + 1][k]).second;
}

int main() {
#ifdef LOCAL
	freopen("Data.inp", "r", stdin);
	freopen("Data.out", "w", stdout);
#endif

	scanf("%d", &n);
	for (int i = 1; i <= n - 1; ++i) scanf("%d", &a[i]); a[n] = n;

	for (int i = 1; i <= n; ++i) spT[i][0] = II(a[i], i);
	for (int j = 1; 1 << j <= n; ++j)
		for (int i = 1; i <= n - (1 << j) + 1; ++i)
			spT[i][j] = max(spT[i][j - 1], spT[i + (1 << (j - 1))][j - 1]);

	dp[n] = 0;
	for (int i = n - 1; i >= 1; --i) {
		int j = Find(i + 1, a[i]);
		dp[i] = dp[j] + n - i - (a[i] - j);
	}

	LL ans = 0;
	for (int i = 1; i <= n; ++i) ans += dp[i];

	cout << ans;
	return 0;
}