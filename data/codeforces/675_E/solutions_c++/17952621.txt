#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef long double ld;
typedef pair<ll,ll> pii; 

#define mp make_pair
#define F first
#define S second

const ll N = 6e5;
const ll M = 20;
const ll SQ = 320;
const ll INF = 1e16;
const ll MOD = 1e9+7;

ll n;
ll a[N];
ll dp[N];
pii seg[N];

void Set(int v,int l,int r,int x,pii val)
{
	if (x<l || x>=r) return;
	if (r-l<2)
	{
		seg[v] = val;
		return;
	}
	int mid = (l+r)/2;
	Set(2*v,l,mid,x,val);
	Set(2*v+1,mid,r,x,val);
	seg[v] = max(seg[2*v],seg[2*v+1]);
}

pii get(int v,int l,int r,int s,int e)
{
	if (e<=l || s>=r) return mp(0,0);
	if (s<=l && e>=r) return seg[v];
	int mid = (l+r)/2;
	return max(get(2*v,l,mid,s,e),get(2*v+1,mid,r,s,e));
}

int main()
{
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	
	cin >> n;
	Set(1,0,n,n-1,mp(n-1,n-1));
	for (int i = 0; i<n-1; i++)
		cin >> a[i];
	ll ans = 0;
	for (ll i = n-2; i>=0; i--)
	{
		pii t = get(1,0,n,i+1,a[i]);
		dp[i] = dp[t.S]+(n-a[i])+(t.S-i);
	//	cout << t.S << ' ' << dp[i] << '\n';
		ans += dp[i];
		Set(1,0,n,i,mp(a[i],i));
	}
	cout << ans << '\n';

	return 0;
}


