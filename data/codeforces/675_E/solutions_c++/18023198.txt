#include<stdio.h>
typedef long long LL;

LL f[100100][20];
LL arr[100100];
LL dp[100100];

int high_bit(int x){
	int res=0,t=1;
	while(t<=x){
		res++;
		t<<=1;
	}
	return res-1;
}

int RMQ(int a,int b){
	int k=high_bit(b-a+1),i=f[a][k],j=f[b-(1<<k)+1][k];
	return arr[i]>arr[j]?i:j;
}

int main() {
  int n;
  scanf("%d",&n);
  for(int i=0;i<n-1;i++) scanf("%d", arr+i), arr[i]--;
  arr[n-1]=0;
  for(int i=0;i<n;i++)
    f[i][0]=i;
  for(int k=1;k<20;k++)
    for(int i=0;i+(1<<(k-1))<n;i++){
      int a=f[i][k-1];
      int b=f[i+(1<<(k-1))][k-1];
      f[i][k]=arr[a]>arr[b]?a:b;
    }
  dp[n-1]=0;
  LL res = 0;
  for (int i=n-2;i>=0;i--) {
    int j=RMQ(i+1,arr[i]);
    dp[i]=dp[j]-(arr[i]-j)+(n-arr[i]-1)+(arr[i]-i);
    res += dp[i];
  }
  printf("%I64d\n",res);
  return 0;
}
