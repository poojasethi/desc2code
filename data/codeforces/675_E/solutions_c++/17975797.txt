#include <bits/stdc++.h>
using namespace std;
typedef long long LL;
class Solution {
public:
	deque<int> q;
	vector<int> a;
	vector<LL> dp;
	int run() {
		int n;
		scanf(" %d",&n);
		a = vector<int>(n);
		for(int i=0;i<n-1;i++){
			scanf(" %d",&a[i]);
			a[i]--;
		}

		dp=vector<LL>(n);
		dp[n-2]=1;
		q.push_back(n-2);
		LL ret = 1;
		for(int i=n-3;i>=0;i--){
			int x = upper_bound(q.begin(),q.end(),a[i])-q.begin()-1;
			int m = q[x];
			ret += dp[i] = dp[m]+(n-1-i)-(a[i]-m);
			while(!q.empty()&&a[i]>=a[q.front()]) q.pop_front();
			q.push_front(i);
		}
		printf("%I64d\n",ret);
		return ret;
	}
};
int main() {
	(new Solution())->run();
	return 0;
}
/*
 4
 4 4 4

5
2 3 5 5
 */
