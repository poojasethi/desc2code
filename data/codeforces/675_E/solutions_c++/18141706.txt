#include<bits/stdc++.h>

using namespace std;

#define mp make_pair
#define pb push_back 
#define nd second
#define st first
#define sol (node*2)
#define sag ((node*2)+1)
#define orta (bas+son)/2

typedef long long ll;
typedef long long int lli;
typedef long long unsigned llu;
typedef pair < int,int > pii;
typedef pair < lli,lli > plli;

const int MAX = 5e5+7;

int n;
int a[MAX];
int rmq[MAX][25];
lli dp[MAX];
lli ans;

int q(int ii,int jj)
{
	int k = log2(jj-ii+1);
	return (a[rmq[ii][k]]>a[rmq[jj-(1<<k)+1][k]]) ? rmq[ii][k] : rmq[jj-(1<<k)+1][k];
}
int cal()
{
   	for(int j=0; j<=17; j++)
   		for(int i=1; i<=(1<<17); i++)
   			rmq[i][j] = j ? a[rmq[i][j-1]]>a[rmq[i+(1<<(j-1))][j-1]] ? rmq[i][j-1] : rmq[i+(1<<(j-1))][j-1] : i;
}

int main()
{
	cin>>n;
	for(int i=1; i<=n-1; i++)
		cin>>a[i];
	
	cal();

	dp[n-1] = 1;
	ans = 1;
	for(int i=n-2; i>=1; i--)
	{
		int k = q(i+1,a[i]);	
		dp[i] = (n-k) + dp[k] + a[i] - i - 2*(a[i] - k);
		ans += dp[i];
	}
	cout<<ans;
}
