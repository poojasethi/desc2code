#include <bits/stdc++.h>

using namespace std;

#define N 100005

typedef long long LL;

int nt[N];
LL tot[N];
int mx[20][N];

int cmax(int a, int b) {
    int cnt = b - a + 1, D;
    for (D = 0; (1 << D) <= cnt; D ++); D --;
    int x = mx[D][a], y = mx[D][b - (1 << D) + 1];
    if (nt[x] > nt[y]) return x;
    return y;
}

main() {
    int n;
    scanf("%d", &n);
    for (int i = 1; i < n; i ++) scanf("%d", nt + i);
    nt[n] = n + 1;
    for (int i = 1; i <= n; i ++) mx[0][i] = i;
    for (int j = 1; (1 << j) <= n; j ++) {
        int k = 1 << (j - 1);
        for (int i = 1; i + (1 << j) - 1 <= n; i ++) {
            int a = mx[j - 1][i], b = mx[j - 1][i + k];
            if (nt[a] > nt[b]) mx[j][i] = a;
            else mx[j][i] = b;
        }
    }
    LL rlt = 0;
    for (int i = n - 1; i; i --) {
        int j = cmax(i + 1, nt[i]);
        tot[i] = tot[j] + (n - i) - (nt[i] - j);
        rlt += tot[i];
    }
    printf("%I64d\n", rlt);
}
