#include<bits/stdc++.h>
using namespace std;
const int k=16;
const int N=1e5;
# define l long long
# define rep(i,a,b) for(l i=a;i<b;i++)
struct tab{
	l val;
	l pos;
};
tab table[N][k+1];
tab zero={0,-1}; 
tab F(tab a,tab b)
{
	tab ans;
	if(a.val>b.val){ans.val=a.val; ans.pos=a.pos;}
	else{ans.val=b.val; ans.pos=b.pos;}
	return ans;
}
void build(l n)
{
	rep(j,1,k+1){ 
		rep(i,0,n-(1<<j)+1) table[i][j]=F(table[i][j-1],table[i+(1<<(j-1))][j-1]);
	}
}
tab query(l lf,l rt)
{
	tab ans=zero;
	for(l j=k;j>=0;j--)
		if(lf+(1<<j)-1<=rt){
			ans=F(ans,table[lf][j]);
			lf+=(1<<j);
		}
	return ans;
}

int main()
{
	l n;
	l arr[N];
	cin>>n;
	rep(i,0,n-1) {cin>>arr[i]; table[i][0].val=arr[i]-1; table[i][0].pos=i;}
	arr[n-1]=n-1; table[n-1][0].val=n-1;table[n-1][0].pos=n-1;
	build(n);
	l dp[100005];
	dp[n-1]=0;
	l sum=0;
	tab maxi;
	for(l i=n-2;i>=0;i--)
	{
		maxi=query(i+1,arr[i]-1);
		dp[i]=dp[maxi.pos]+ n-arr[i]+maxi.pos-i;
		sum+=dp[i];
	}
	cout<<sum<<"\n";
	return 0;
}