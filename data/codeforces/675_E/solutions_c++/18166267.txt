#include<cstdio>
#include<iostream>
#define maxn 100000
using namespace std;
int a[maxn+10],d[maxn+10][20],l2[maxn+10];
long long f[maxn+10];
void init(int n){
	for(int i=1;i<=n;i++)d[i][0]=i;
	for(int j=1;1<<j<=n;j++)
		for(int i=1;i+(1<<j)<=n+1;i++)d[i][j]=a[d[i][j-1]]>a[d[i+(1<<j-1)][j-1]]?d[i][j-1]:d[i+(1<<j-1)][j-1];
}
int query(int l,int r){
	int k=l2[r-l+1];
	return a[d[l][k]]>a[d[r-(1<<k)+1][k]]?d[l][k]:d[r-(1<<k)+1][k];
}
int main(){
	#ifndef ONLINE_JUDGE
	freopen("675E.in","r",stdin);
	#endif
	int n;
	scanf("%d",&n);
	for(int j=0;1<<j<=n;j++)
		for(int i=1<<j;i<min(1<<j+1,maxn+1);i++)l2[i]=j;
	for(int i=1;i<n;i++)scanf("%d",&a[i]);
	a[n]=n;
	init(n);
	for(int i=n-1;i>0;i--){
		int m=query(i+1,a[i]);
		f[i]=f[m]+m+n-a[i]-i;
	}
	for(int i=n-2;i>0;i--)f[i]+=f[i+1];
	cout<<f[1]<<endl;
	return 0;
}
