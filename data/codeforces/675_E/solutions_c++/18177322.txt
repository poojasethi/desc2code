#include <stdio.h>
__int64 sum[100010],seg[400000];
int a[100010];
int pos(int p,int lb,int rb,int l,int r){
    if(lb==l&&rb==r){
        return seg[p];
	}
	int m=(lb+rb)/2,p1,p2;
	if(r<=m) return pos(p*2+1,lb,m,l,r);
	else if(l>m) return pos(p*2+2,m+1,rb,l,r);
	else{
	    p1=pos(p*2+1,lb,m,l,m);
	    p2=pos(p*2+2,m+1,rb,m+1,r);
	    if(a[p1]>a[p2]) return p1;
	    else return p2;
	}
}
int main(){
	int n,ly,bd,i,tmpv;
	__int64 tot;
	scanf("%d",&n);
	for(ly=0;(1<<ly)<n;ly++);
	for(i=0;i<n-1;i++){
	    scanf("%d",a+i);
	    a[i]--;
	}
	bd=(1<<ly)-1;
	for(i=bd;i<=2*bd;i++) seg[i]=i-bd;
	for(i=bd-1;i>=0;i--){
	    if(a[seg[i*2+1]]>a[seg[i*2+2]]) seg[i]=seg[i*2+1];
	    else seg[i]=seg[i*2+2];
	}
	sum[n-1]=0;
	for(i=n-2;i>=0;i--){
	    tmpv=pos(0,0,bd,i+1,a[i]);
	    sum[i]=sum[tmpv]+n-1-i-a[i]+tmpv;
	}
	tot=0;
	for(i=0;i<n;i++) tot+=sum[i];
	printf("%I64d\n",tot);
    return 0;
}