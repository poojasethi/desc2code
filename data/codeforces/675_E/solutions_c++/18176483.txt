#include<cstdio>
#include<queue>
#include<stack>
#include<map>
#include<set>
#include<cmath>
#include<cstring>
#include<algorithm>
using namespace std;
int n,a[100010],i,j,f[100010][20],q[100010][20];
long long ans,d[100010];
int main(){
	scanf("%d",&n);
	for(i=1;i<n;i++)scanf("%d",a+i),f[i][0]=a[i],q[i][0]=i;
	for(j=1;j<=log(n-1)/log(2);j++)
		for(i=0;i<=n-(1<<j)+1;i++)
			if(f[i][j-1]>f[i+(1<<(j-1))][j-1]){
				f[i][j]=f[i][j-1];
				q[i][j]=q[i][j-1];
			}
			else{
				f[i][j]=f[i+(1<<(j-1))][j-1];
				q[i][j]=q[i+(1<<(j-1))][j-1];
			}
	d[n-1]=1;
	for(i=n-2;i;i--){
		j=log(a[i]-i)/log(2);
		if(f[i+1][j]>f[a[i]-(1<<j)+1][j])j=q[i+1][j];
		else j=q[a[i]-(1<<j)+1][j];
		d[i]=n-i+d[j]-a[i]+j;
	}
	for(i=1;i<n;i++)ans+=d[i];
	printf("%I64d",ans);
	return 0;
}