#include <cstdio>
#include <iostream>
#include <cstring>

using namespace std;

const int N = 110000;

typedef long long ll;

ll p[N],id[N],tot = 0;

ll dp[N],val[N];

ll get(ll x){
	ll l = 1,r = tot,ans = 0;
	do{
		ll mid = (l + r) >> 1;
		if (id[mid] <= x) r = mid - 1,ans = mid;
		else l = mid + 1;
	}while(l <= r);
	return val[ans];
}

int ins(ll idx,ll x){
	while(tot && val[tot] >= x) tot--;
	val[++tot] = x;
	id[tot] = idx;
}

int main(){
	int n;
	cin >> n;
	for (int i = 1;i < n;i++){
		scanf("%I64d",&p[i]);
	}
	dp[n] = 0;
	id[++tot] = n;
	val[tot] = n;
	ll ans = 0;
	for (int i = n - 1;i;i--){
		ll v = get(p[i]);
		dp[i] = n - i + v - p[i];
		//for (int i = 1;i <= tot;i++)
         //   printf("%d ",val[i]);
       // cout << dp[i] << endl;
        ins(i,dp[i] + i);
		ans += dp[i];
	}
	cout << ans << endl;
}
