#include<iostream>
#include<algorithm>
#include<cstdlib>
#include<cstdio>
#include<deque>
using namespace std;
typedef long long Ld;
const int mx=(int)1e5+100;
deque<int>q;
Ld sum[mx];
int n,to[mx];
int main()
{
// freopen("tt.in","r",stdin);
 scanf("%d",&n);
 for(int i=1;i<n;++i) scanf("%d",&to[i]);
 Ld as=0;
 q.push_back(n-1),sum[n-1]=as=1;
 for(int i=n-2;i;--i){
 	int x=upper_bound(q.begin(),q.end(),to[i])-q.begin()-1;
 	sum[i]=n-i+sum[q[x]]-(to[i]-q[x]);
 	as+=sum[i];
 	while(!q.empty()&&to[i]>=to[q.front()]) q.pop_front();
 	q.push_front(i);
 }
 cout<<as<<endl;
 return 0;
}
