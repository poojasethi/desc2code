#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int maxn=100000+1000;
int c[maxn];
int n,a[maxn];
long long f[maxn];
int lowbit(int x)
{
	return x&(-x);
}
int query(int x)
{
	int k=0;
	while (x)
	{
		if (a[c[x]]>a[k]) k=c[x];
		x-=lowbit(x);
	}
	return k;
}
void updata(int x,int d)
{
	int y=x;
	while (x<=n)
	{
		if (d>a[c[x]]) c[x]=y;
		x+=lowbit(x);
	}
}
int main()
{
	cin>>n;
	for (int i=1;i<n;i++) scanf("%d",&a[i]);
	long long ans=1;
	f[n-1]=1;
	updata(n-1,n);
	for (int i=n-2;i>=1;i--)
	{
		int j=query(a[i]);
		f[i]=f[j]+n-i-(a[i]-j);
		ans+=f[i];
		updata(i,a[i]);
	}
	cout<<ans;
	return 0;
}
