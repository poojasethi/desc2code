#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int maxn=200000+1000;
int tr[maxn*2],ql,qr,pos;
int n,a[maxn];
long long f[maxn];
void build(int o,int l,int r)
{
	if (l==r) {tr[o]=l;return ;}
	int mid=(l+r)/2;
	build(2*o,l,mid);
	build(2*o+1,mid+1,r);
	tr[o]=a[tr[2*o]]>a[tr[2*o+1]]?tr[2*o]:tr[2*o+1];
}
void query(int o,int l,int r)
{
	if (ql<=l&&r<=qr) {pos=a[tr[o]]>a[pos]?tr[o]:pos;return ;}
	int mid=(l+r)/2;
	if (ql<=mid) query(2*o,l,mid);
	if (qr>mid) query(2*o+1,mid+1,r);
}
int main()
{
	cin>>n;
	for (int i=1;i<n;i++) scanf("%d",&a[i]);
	build(1,1,n);
	long long ans=1;
	f[n-1]=1;
	for (int i=n-2;i>=1;i--)
	{
		ql=i+1;qr=a[i];pos=0;
		query(1,1,n);
		int j=pos;
		f[i]=f[j]+n-i-(a[i]-j);
		ans+=f[i];
	}
	cout<<ans;
	return 0;
}
					 	 			  	 				 			  	  	