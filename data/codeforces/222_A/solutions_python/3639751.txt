r=lambda:map(int,raw_input().split())
n,k=r()
a=r()
if len(set(a[k-1:]))!=1:
    print -1
elif len(set(a[:]))==1:
    print 0
else:
    t=a[:k-1][::-1]
    x=0
    while(True):
        if t[x]!=a[k-1]:break
        x+=1
    print len(a[:k-1])-x