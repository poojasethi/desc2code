#include <stdio.h>
#define MAX_N 300005
int P[MAX_N];
int main(void)
{
	int a,b,c = 0,l,r,N,K,MAX = 0,MAX_POS = 0;
	scanf("%d%d",&N,&K);
	for(a = 1;a <= N;a++){
		scanf("%d",&b);
		P[a] = c+b;
		c += b;
	}
	//[l,r] including ends
	for(l = 1,r = 1;r <= N;r++){
		while(l < r && (r - l + 1)-( P[r] - P[l-1]) > K)
			l++;
		if((r - l + 1)-( P[r] - P[l-1]) <= K && (a = r - l + 1) > MAX){
			MAX_POS = l;
			MAX = a;
		}
	}
	printf("%d\n",MAX);
	for(a = 1;a <= N;a++){
		if(a >= MAX_POS && a < MAX_POS + MAX)
			printf("1 ");
		else
			printf("%d ",P[a] - P[a-1]);
	}
	return 0;
}
