#include<cstdio>
#include<cstring>

typedef long long LL;

int n, x;

bool isPrime(int a){
	for(int i = 2; i * i <= a; i ++)
		if(a % i == 0)
			return false;
	return true;
}

int fastPow(int b, int p, int m){
	int ans = 1, cur = b % m;
	while(p){
		if(p & 1)
			ans = (int)((LL)ans * cur % m);
		p >>= 1;
		cur = (int)((LL)cur * cur % m);
	}
	return ans;
}

bool check(){
	if(x % (n + 1) == 0)
		return false;
	for(int i = 2; i * i <= n; i ++){
		if(n % i == 0 && (fastPow(x, n / i, n + 1) == 1 ||
					fastPow(x, i, n + 1) == 1))
			return false;
	}
	return true;
}

int main(){
#ifndef ONLINE_JUDGE
	freopen("test.in", "r", stdin);
	freopen("test.out", "w", stdout);
#endif
	scanf("%d%d", &n, &x);
	if(!isPrime(n + 1))
		printf("-1\n");
	else{
		for(-- x; x > 1; x --)
			if(check()){
				printf("%d\n", x);
				return 0;
			}

		printf("-1\n");
	}

	return 0;
}


