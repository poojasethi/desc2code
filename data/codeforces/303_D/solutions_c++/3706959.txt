#include <iostream>
#include <cstdio>

using namespace std;

bool isprime(int n)
{
    for (int i = 2; i * i <= n; i++)
        if (n % i == 0) return 0;
    return 1;
}

long long powm(int x, int y, int m)
{
    if (y == 0) return 1 % m;
    if (y == 1) return x % m;
    long long tmp = powm(x, y / 2, m);
    tmp = (tmp * tmp) % m;
    if (y % 2 == 1) tmp = (tmp * x) % m;
    return tmp;
}

bool isroot(int x, int p)
{
    for (int i = 2; i * i <= p - 1; i++)
        if ((p - 1) % i == 0)
            if (powm(x, i, p) == 1 || powm(x, (p - 1) / i, p) == 1)
                return 0;
    return 1;
}

int main()
{
    int n, x;
    cin >> n >> x;
    if (isprime(n + 1))
    {
        for (int i = x - 1; i >= 2; i--)
            if (isroot(i, n + 1))
            {
                cout << i << endl;
                return 0;
            }
    }
    cout << -1 << endl;
    return 0;
}
