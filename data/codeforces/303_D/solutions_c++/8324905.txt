#include <bits/stdc++.h>
#define ll long long
using namespace std;

int n,N,X,P,q[25];

ll Pow(ll a,int b)
{
	ll c=1;
	for (;b; b>>=1,a=a*a%P) if (b&1) c=c*a%P;
	return c;
}

void doit()
{
	scanf("%d%d",&N,&X),P=N+1;
	for (int i=2; i*i<=P; i++) if (P%i==0) {puts("-1"); return;}
	for (int x=N,i=2; x>1; i++) if (x%i==0)
		for (q[++n]=N/i; x%i==0; x/=i);
	for (int i=X-1; i>1; i--)
	{
		bool ok=1;
		for (int j=1; ok&&j<=n; j++) if (Pow(i,q[j])==1) ok=0;
		if (ok) {printf("%d\n",i); return;}
	}
	puts("-1");
}

int main()
{
	doit();
	return 0;
}
