#include <iostream>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <algorithm>
using namespace std;
int n,m;
int Quick_Power(int x,int y)
 {
 	int z=1,P=n+1;
 	while (y)
 	 {
 	 	if (y&1) z=1ll*z*x%P;
 	 	x=1ll*x*x%P;
 	 	y >>= 1;
 	 }
 	return z;
 }
int main()
 {
 	cin >>n>>m;
 	for (int i=2;i*i<=n+1;i++)
 	  if ((n+1)%i==0) {puts("-1");return 0;}
 	for (int i=m-1;i>1;i--)
 	 {
 	 	if (i%(n+1)==0) continue;
 	 	bool flag=true;
 	 	for (int j=2;j*j<=n;j++)
 	 	 if (n%j==0&&(Quick_Power(i,j)==1||Quick_Power(i,n/j)==1))
 	 	   {flag=false;break;}
 	 	if (flag) {printf("%d\n",i);return 0;}
 	 }
 	puts("-1");
 	return 0;
 }