#include <cstdio>
using namespace std;
int n,x,m,p[30];
int qpower(int a,int k)
{
	long long ret=1,p=a;
	for (;k;k/=2,p=p*p%(n+1)) if (k%2) ret=ret*p%(n+1);
	return (int)ret;
}
int main()
{
	int i,j; scanf("%d%d",&n,&x);
	for (i=2;i*i<=n+1;i++)
	    if ((n+1)%i==0) {printf("-1\n"); return 0;}
	for (j=n,i=2,m=0;j!=1;i++)
	    if (j%i==0) {p[++m]=i; while (j%i==0) j/=i;}
	for (i=x-1;i>1;i--)
	{
		if (i%(n+1)==0) continue;
		bool flag=true;
		for (j=1;j<=m;j++) if (qpower(i,n/p[j])==1) {flag=false; break;}
		if (flag) {printf("%d\n",i); return 0;}
	}
	printf("-1\n");
	return 0;
}