#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<cstring>
#define MAXN 100005
using namespace std ;
typedef long long LL ;

int N, X, B ;
int p[MAXN], cnt ;

int Ksm(int x, int t, int mod)
{
	int tmp = 1 ;
	for(x; t; t >>= 1, x = (LL)x*x%mod)
		if(t&1) tmp = (LL)tmp*x%mod ;
	return tmp ;
}

void end(int x)
{
	printf("%d\n", x) ;
	exit(0) ;
}

int main()
{
	int i, j ;
	scanf("%d %d", &N, &X) ;
	if(N == 1) 
	{
		if(X == 2) end(-1) ;
		end(X-1) ;
	}
	for(i = 2, N ++; i*i <= N; i ++)
		if(N%i==0) end(-1) ;
	N-- ;
	for(i = 2; i*i <= N; i ++)
		if(N%i == 0) p[++cnt] = N/i ;
	int Mx = max(2, X-100000) ;
	for(i = X-1; i >= Mx; i --)
		if(Ksm(i, N, N+1) == 1)
		{
			for(j = 1; j <= cnt; j ++)
				if(Ksm(i%(N+1), p[j], N+1) == 1) break ;
			if(j > cnt) end(i) ;
		}
	end(-1) ;
	//system("pause") ;
	return 0 ;
}
