#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cmath>
#include <cctype>
#include <algorithm>
#include <iostream>
using namespace std;

typedef long long LL;

int a[100000+11],cnt,n,m,x;

inline LL quickpow(LL x,int y,int p)
{
	LL rt;
	for (rt=1;y;y>>=1)
	{
		if (y&1) rt=rt*x%p;
		x=x*x%p;
	}
	return rt;
}

inline bool isroot(int x)
{
	for (int i=1;i<=cnt;++i)
		if (quickpow(x,a[i],m)==1) return 0;
	return 1;
}

int main(int argc,char **argv)
{
	#ifndef ONLINE_JUDGE
		if (argc==1) freopen("303D.in","r",stdin),freopen("303D.out","w",stdout);
		else freopen(argv[1],"r",stdin),freopen(argv[2],"w",stdout);
	#endif
	scanf("%d%d",&n,&x);m=n+1;
	for (int i=2;i*i<=m;++i)
		if (!(m%i)){printf("-1\n");return 0;}
	for (int i=2;i*i<=n;++i)
		if (!(n%i)) a[++cnt]=i,a[++cnt]=n/i;
	for (--x;x>1;--x)
		if (isroot(x%m)) break;
	printf("%d\n",x>1?x:-1);
	return 0;
}
