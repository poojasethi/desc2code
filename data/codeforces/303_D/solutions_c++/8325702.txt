#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define int64 long long
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m;
inline int64 pow(int64 x,int64 y) {
	int64 an=1;
	for (;y;y>>=1) {
		if (y&1) an=an*x%n;
		x=x*x%n;
	}
	return an;
}
inline bool ju(int x) {
	int i,p=n-1;
	for (i=1;i*i<=n;i++) if (p%i==0) {
		if (i<p&&pow(x,i)==1) return 0;
		if (p/i<p&&pow(x,p/i)==1) return 0;
	}
	return 1;
}
int main() {
	scanf("%d%d",&n,&m);
	n++;
	for (i=2;i*i<=n;i++) if (n%i==0) {
		printf("-1\n");
		return 0;
	}
	for (m--;m>1;m--) if (ju(m)) {
		printf("%d\n",m);
		return 0;
	}
	printf("-1\n");
	return 0;
}
