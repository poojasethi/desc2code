#include<cstdio>
using namespace std;
int ksm(int x,int y,int mod)
{
	if(!y)return 1;
	int t=ksm(x,y>>1,mod);
	if(y&1)
		return (long long)t*t%mod*x%mod;
	return (long long)t*t%mod;
}
int main()
{
	int n,m;
	scanf("%d%d",&n,&m);
	if(n==1)return printf("%d\n",m>2?m-1:-1),0;
	for(int i=2;i*i<=n+1;i++)
		if((n+1)%i==0)
			return puts("-1"),0;
	for(int i=m-1;i>1;i--)
		if(i%(n+1))
		{
			for(int j=2;j*j<=n;j++)
				if(n%j==0&&ksm(i,n/j,n+1)==1)
					goto fail;
			return printf("%d\n",i),0;
			fail:;
		}
	puts("-1");
}