#include <cstdio>
#include <algorithm>

using namespace std;

int n, m, sv[233333], svt;

bool isprime(int n) {
	for (int i = 2; i * i <= n; ++i)
		if (n % i == 0) return 0;
	return 1;
}
int fpm(int a, int b, int p) {
	int w = 1;
	for (a %= p; b; b >>= 1, a = 1LL * a * a % p)
		if (b & 1) w = 1LL * w * a % p;
	return w;
}
bool check(int x) {
	for (int i = 1; i <= svt; ++i)
		if (fpm(x, sv[i], n + 1) == 1) {
			return 0;
		}
	return 1;
}
int main() {
	scanf("%d %d", &n, &m);
	if (!isprime(n + 1)) {
		printf("-1\n");
		return 0;
	}
	for (int i = 2; i * i <= n; ++i)
		if (n % i == 0) {
			sv[++svt] = i;
			if (n / i != i)
				sv[++svt] = n / i;
		}
	for (int x = m - 1; x >= 2; --x)
		if (check(x)) {
			printf("%d\n", x);
			return 0;
		}
	printf("-1\n");
}
