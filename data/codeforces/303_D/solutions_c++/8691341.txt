#include <cstdio>
int n,phi,x,p[100],P;
int power(int x,int k,int MOD)
{
	int res = 1;
	for (; k; k /= 2,x = 1ll * x * x % MOD)
		if (k & 1) res = 1ll * res * x % MOD;
	return res;
}
bool isprime(int x)
{
	for (int i = 2; i * i <= x; ++i)
		if (x % i == 0) return false;
	return true;
}
bool check(const int g)
{
	if (g == 0) return false;
	for (int i = 1; i <= p[0]; ++i)
		if (power(g,phi / p[i],P) == 1) return false;
	return true;
}
int main()
{
	#ifndef ONLINE_JUDGE
	freopen("303D.in","r",stdin);
	freopen("303D.out","w",stdout);
	#endif
	scanf("%d%d",&n,&x);
	if (!isprime(n + 1)) return puts("-1");
	phi = n; P = n + 1;
	for (int i = 2; i * i <= n; ++i)
		if (n % i == 0) {
			p[++p[0]] = i;
			while (n % i == 0) n /= i;
		}
	if (n > 1) p[++p[0]] = n;
	for (int i = x - 1; i > 1; --i)
		if (check(i % P)) {printf("%d\n",i);return 0;}
	puts("-1");
}
