#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 20000
#define inf 1000000000
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,S,T,t,num,an;
int a[N],b[N],c[N],next[N],head[N],g[N*100],gg[N],ff[N],F[N],pre[N];
inline void add(int x,int y,int A,int B) {
	a[++t]=y,b[t]=A,c[t]=B,next[t]=head[x],head[x]=t;
	a[++t]=x,b[t]=0,c[t]=-B,next[t]=head[y],head[y]=t;
}
inline void bfs() {
	int l,r,v;
	g[l=r=1]=S; F[S]=++num; gg[S]=0;
	for (;l<=r;l++)
		for (ff[g[l]]=0,v=head[g[l]];v;v=next[v])
		if (b[v]&&(F[a[v]]!=num||gg[a[v]]>gg[g[l]]+c[v])) {
			F[a[v]]=num; gg[a[v]]=gg[g[l]]+c[v]; pre[a[v]]=v;
			if (!ff[a[v]]) ff[a[v]]=1,g[++r]=a[v];
		}
}
inline void flow() {
	int i,mi=inf;
	for (i=T;i!=S;i=a[pre[i]^1]) mi=min(mi,b[pre[i]]);
	if (gg[n]) an++,m-=gg[n],mi=1;
	else an+=mi;
	for (i=T;i!=S;i=a[pre[i]^1]) b[pre[i]]-=mi,b[pre[i]^1]+=mi;
}
int main() {
	scanf("%d%d",&n,&m);
	S=1,T=n,t=1;
	For(i,1,n)For(j,1,n) {
		scanf("%d",&k);
		if (!k) continue;
		add(i,j,k,0);
		add(i,j,inf,1);
	}
	
	{
		for (;;) {
			bfs();
			if (F[n]!=num||gg[n]>m) break;
			flow();
		}
	}
	
	printf("%d\n",an);
	//for(;;);
	return 0;
}