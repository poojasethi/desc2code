#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <iostream>
using namespace std;

const int oo=0x7fffffff;
int n,m;
int mxf,ex,p[63];
int c[63][63],f[63][63];
int q[1024],h,t;
unsigned g[63][63],s[63];
bool u[63];

bool bfs()
{
	memset(p,0,sizeof(p));
    for (q[h=t=0]=1;h<=t;h++)
    {
        int i=q[h];
        for (int j=2;j<n;j++)
        if (!p[j])
        {
        	if (f[i][j]<c[i][j]) p[q[++t]=j]=i;
        	if (f[j][i]>0) p[q[++t]=j]=-i;
        }
        if (f[i][n]<c[i][n]) return p[n]=i;
    }
     return false;
}

int main()
{
	cin>>n>>m;
	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++) cin>>c[i][j];
	while (bfs())
    {
        ex=oo;
        for (int i=n;i!=1;)
        {
        	if (p[i]>0) ex=min(ex,c[p[i]][i]-f[p[i]][i]),i=p[i];
           	else ex=min(ex,f[i][-p[i]]),i=-p[i];
        }
        for (int i=n;i!=1;)
        {
            if (p[i]>0) f[p[i]][i]+=ex,i=p[i];
            else f[i][-p[i]]-=ex,i=-p[i];
        }
		mxf+=ex;
    }
    while (m>0)
    {
    	for (int i=1;i<=n;i++) for (int j=1;j<=n;j++)
			g[i][j]=c[i][j]?c[i][j]==f[i][j]?1:0:oo;
    	memset(u,0,sizeof(u));
	    s[0]=oo;
	    for (int i=1;i<=n;i++)
		{
			p[i]=1;
			s[i]=g[1][i];
		}
	    for (int i=1;i<=n;i++)
	    {
	        int k=0;
	        for (int j=1;j<=n;j++) if (!u[j] && s[j]<s[k]) k=j;
	        u[k]=true;
	        for (int j=1;j<=n;j++) if (s[k]+g[k][j]<s[j])
			{
				p[j]=k;
				s[j]=g[k][j]+s[k];
			}
	    }
	    if ((m-=s[n])>=0)
		{
			for (int i=n;i!=1;i=p[i]) c[p[i]][i]=max(c[p[i]][i],++f[p[i]][i]);
			++mxf;
		}
	}
	cout<<mxf;
	return 0;
}


