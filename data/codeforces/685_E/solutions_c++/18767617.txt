#include <algorithm>
#include <iostream>
#include <cstring>
#include <cstdio>
using namespace std;

const int N = 2e5 + 10, M = 1e3 + 10;

struct Data {
	 int l, r, u, v, id;
};

inline bool cmp(const Data &a, const Data &b) {
	return a.r < b.r;
}

int n, m, q, e[N][2], ans[N], f[M][M];
Data a[N];

int main() {

	scanf("%d %d %d", &n, &m, &q);
	for (int i = 1; i <= m; ++i) {
		int &u = e[i][0], &v = e[i][1];
		scanf("%d %d", &u, &v);
	}
	for (int i = 1; i <= q; ++i) {
		int &l = a[i].l, &r = a[i].r, &u = a[i].u, &v = a[i].v;
		scanf("%d %d %d %d", &l, &r, &u, &v);
		a[i].id = i;
	}
	sort(a + 1, a + q + 1, cmp);
	for (int i = 1, l = 1; i <= m; ++i) {
		int u = e[i][0], v = e[i][1];
		f[u][v] = f[v][u] = i;
		for (int j = 1; j <= n; ++j) {
			int &a = f[u][j], &b = f[v][j];
			a = b = max(a, b);
		}
		for (; l <= q && a[l].r == i; ++l) {
			int u = a[l].u, v = a[l].v;
			ans[a[l].id] = (f[v][u] >= a[l].l);
		}
	}
	for (int i = 1; i <= q; ++i) {
		if (ans[i]) 
			puts("Yes"); 
		else
			puts("No");
	}

	return 0;
}
