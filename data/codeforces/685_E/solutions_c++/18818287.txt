#include<cstdio>
#include<algorithm>
std::pair<int,int>e[200001];
struct query
{
	int l,r,s,t,id;
	operator<(const query&o)
	const{ return l<o.l; }
}Q[200001];
bool ans[200001];
int dp[1001][1001];
int main()
{
	int n,m,q,i;scanf("%d%d%d",&n,&m,&q);
	for(i=1;i<=m;i++)scanf("%d%d",&e[i].first,&e[i].second);
	for(i=1;i<=q;i++)scanf("%d%d%d%d",&Q[i].l,&Q[i].r,&Q[i].s,&Q[i].t),Q[i].id=i;
	std::sort(Q+1,Q+q+1);
	int now=m+1,cur=q,u,v;
	for(u=1;u<=n;u++)
	for(v=1;v<=n;v++)
		dp[u][v]=now;
	while(--now)
	{
		u=e[now].first;
		v=e[now].second;
		dp[u][v]=dp[v][u]=now;
		for(i=1;i<=n;i++)
			if(dp[v][i]<dp[u][i])
				dp[u][i]=dp[v][i];
			else dp[v][i]=dp[u][i];
		while(cur&&Q[cur].l==now)
			ans[Q[cur].id]=dp[Q[cur].s][Q[cur].t]<=Q[cur].r,cur--;
	}
	for(i=1;i<=q;i++)
		puts(ans[i]?"Yes":"No");
	return 0;
}