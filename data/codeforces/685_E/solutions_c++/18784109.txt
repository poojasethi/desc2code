#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
#define fo(i,a,b) for(int i=a;i<=b;i++)
#define fd(i,a,b) for(int i=a;i>=b;i--)
#define max(a,b) (((a) > (b)) ? a : b)
#define maxn 1005
#define maxm 200005
using namespace std;

int f[maxn][maxn];

struct note{
	int x,y;
}a[maxm];

int head[maxm],next[maxm],sum;

struct ask{
	int l,r,s,t;
}p[maxm];

int n,m,q;

bool ans[maxm];

int Read(){
	int ret=0,ff=1;
	char c=getchar();
	while (c<'0' || c>'9') {
		if (c=='-') ff=-1;
		c=getchar();
	}
	while (c>='0' && c<='9') {
		ret=ret * 10+c-'0';
		c=getchar();
	}
	return ret*ff;
}

int main(){
	n=Read();
	m=Read();
	q=Read();
	fo(i,1,m) a[i].x=Read(),a[i].y=Read();
	fo(i,1,q) {
		p[i].l=Read();
		p[i].r=Read();
		p[i].s=Read();
		p[i].t=Read();
		next[i]=head[p[i].r];
		head[p[i].r]=i;
	}
	fo(i,1,m) {
		int x=a[i].x;
		int y=a[i].y;
		f[x][y]=f[y][x]=i;
		fo(j,1,n) f[x][j]=f[y][j]=max(f[x][j],f[y][j]);
		for(int tmp=head[i];tmp;tmp=next[tmp]) 
			ans[tmp]=p[tmp].l<=f[p[tmp].t][p[tmp].s];
	}
	fo(i,1,q) puts(ans[i] ? "Yes" : "No");
	return 0;
}