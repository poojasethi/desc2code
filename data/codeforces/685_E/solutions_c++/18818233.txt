#include<cstdio>
#include<algorithm>
inline void read(int&r)
{
	char c;r=0;bool flag=false;
	do c=getchar();while(c!='-'&&(c<'0'||c>'9'));
	if(c=='-')flag=true,c=getchar();
	do r=r*10+c-'0',
	   c=getchar();while(c>='0'&&c<='9');
	if(flag)r*=-1;
}
inline void read(int&r,int&s){ read(r),read(s); }
inline void read(int&r,int&s,int&t){ read(r),read(s),read(t); }
inline void read(int&r,int&s,int&t,int&u){ read(r),read(s),read(t),read(u); }
//srt:2016 6 30 14:35
//end:2016 6 30 14:53

std::pair<int,int>e[200001];
struct query
{
	int l,r,s,t,id;
	operator<(const query&o)
	const{ return l<o.l; }
}Q[200001];
bool ans[200001];
int dp[1001][1001];
int main()
{
	int n,m,q,i;read(n,m,q);
	for(i=1;i<=m;i++)read(e[i].first,e[i].second);
	for(i=1;i<=q;i++)read(Q[i].l,Q[i].r,Q[i].s,Q[i].t),Q[i].id=i;
	std::sort(Q+1,Q+q+1);
	int now=m+1,cur=q,u,v;
	for(u=1;u<=n;u++)
	for(v=1;v<=n;v++)
		dp[u][v]=now;
	while(--now)
	{
		u=e[now].first;
		v=e[now].second;
		dp[u][v]=dp[v][u]=now;
		for(i=1;i<=n;i++)
			if(dp[v][i]<dp[u][i])
				dp[u][i]=dp[v][i];
			else dp[v][i]=dp[u][i];
		while(cur&&Q[cur].l==now)
			ans[Q[cur].id]=dp[Q[cur].s][Q[cur].t]<=Q[cur].r,cur--;
	}
	for(i=1;i<=q;i++)
		puts(ans[i]?"Yes":"No");
	return 0;
}