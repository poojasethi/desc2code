#include <cstdio>
#include <algorithm>
using namespace std;

int d[1000][1000];
int N,M,Q;

int l[200000],r[200000],s[200000],t[200000],cid[200000];

int ea[200000],eb[200000];

int cmp(int a,int b)
{
	return r[a]<r[b];
}

int ans[200000];

int main()
{
	scanf("%d %d %d",&N,&M,&Q);
	for(int i=0;i<M;i++)
	{
		scanf("%d %d",&ea[i],&eb[i]);
		ea[i]--,eb[i]--;
	}
	for(int i=0;i<Q;i++)
	{
		scanf("%d %d %d %d",&l[i],&r[i],&s[i],&t[i]);
		l[i]--,r[i]--,s[i]--,t[i]--;
		cid[i] = i;
	}
	sort(cid,cid+Q,cmp);
	for(int i=0;i<N;i++)
	{
		for(int j=0;j<N;j++)
			d[i][j] = -1;
		d[i][i] = M;
	}
	int j = 0;
	for(int i=0;i<Q;i++)
	{
		while(j <= r[cid[i]])
		{
			int start = ea[j];
			int end = eb[j];
			for(int k=0;k<N;k++)
			{
				d[start][k] = max(d[start][k],d[end][k]);
				d[end][k] = d[start][k];
			}
			d[start][end] = d[end][start] = j;
			j++;
		}
		ans[cid[i]] = (d[t[cid[i]]][s[cid[i]]] >= l[cid[i]]);
	}
	for(int i=0;i<Q;i++)
	{
		if(ans[i]) printf("Yes\n");
		else printf("No\n");
	}
}