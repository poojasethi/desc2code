a=map(lambda x: (x[0],int(x[1]), int(x[2])), [raw_input().split() for _ in range(input())])
print max([min(x) for x in [reduce(lambda d,x: (d[0]+('F'==x[0]), d[1]+('M'==x[0])) if x[1]<=i<=x[2] else d, a, (0,0)) for i in range(1,367)]])<<1
