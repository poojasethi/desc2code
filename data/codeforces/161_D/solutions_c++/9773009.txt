#include<iostream>
#include<stdio.h>
#include<math.h>
#include<string>
#include<queue>
#include<algorithm>
#include<vector>
using namespace std;
int a,s,d[50002][502],f,g,h,j,k,l,w,e,r,i,n,m;
vector<int> v[50003];
int ans(int q,int par){
d[q][0]++;
for(vector<int>::iterator it=v[q].begin();it!=v[q].end();it++){
    if(*it==par) continue;
    ans(*it,q);
    for(int i1=0;i1<m;i1++){
     f+=d[q][i1]*d[*it][m-1-i1];
    }
    for(int i1=1;i1<m;i1++){
    d[q][i1]+=d[*it][i1-1];
    }

}

}
main(){

cin>>n>>m;
for(i=0;i<n-1;i++){
cin>>a>>s;
v[a].push_back(s);
v[s].push_back(a);
}
ans(1,-1);
cout<<f;
}
