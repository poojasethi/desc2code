#include <bits/stdc++.h>
using namespace std;
vector<int> g[50005];
int ans = 0,dp[50005][505],n,k,u,v;;
void dfs(int a,int prev)
{
 dp[a][0] = 1;      
 for(vector<int>::iterator it=g[a].begin();it != g[a].end();++it)
 {
  if(*it == prev) continue;
  dfs(*it,a);
  for(int i=0;i<k;++i)
   ans += dp[a][i]*dp[*it][k-i-1];  
  for(int i=1;i<=k;++i)
   dp[a][i] += dp[*it][i-1];
 }
}
int main()
{
 cin >> n >> k;
 for(int i=1;i<n;++i)
 {
    cin >> u >> v;
    g[u].push_back(v);
    g[v].push_back(u);
 }
 dfs(1,-1);
 cout << ans << endl;
}