#include<cstdio>
#include<vector>
#include<cstring>
using namespace std;
typedef unsigned long long lld;
lld dp[50002][502];
lld ans;
vector<int> g[50002];
int k;
void dfs(int u,int fa)
{
	int i,j;
	dp[u][0]=1;
	for(i=0;i<g[u].size();i++)
	{
		int v=g[u][i];
		if(v==fa) continue;
		dfs(v,u);
		for(j=1;j<=k;j++) ans+=dp[u][j-1]*dp[v][k-j];//加上剛好k-1
		for(j=1;j<=k;j++) dp[u][j]+=dp[v][j-1];//當前邊
	}
}
int main()
{
	int n,i,j,a,b;
	scanf("%d%d",&n,&k);
	for(i=0;i<n-1;i++)
	{
		scanf("%d%d",&a,&b);
		g[a].push_back(b);
		g[b].push_back(a);
	}
	memset(dp,0,sizeof(dp));
	ans=0;
	dfs(1,0);
	printf("%I64d\n",ans);
	return 0;
}
