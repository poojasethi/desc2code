#include<bits/stdc++.h>
using namespace std;
vector<int> v[50005];
int fl[50005];
int di[50005][505];
int n,k;
long long ans;
typedef long long ll;
void dfs(int x, int pr=-1)
{
	di[x][0] = 1;
	int i,ii;
	for(i=0;i<v[x].size();i++)
	{
		int y = v[x][i];
		if(y==pr)continue;
			dfs(y,x);
			for(ii=0;ii+1<=k;ii++)
			ans+= (ll)di[y][ii] * di[x][k-ii-1];
			for(ii=0;ii<k;ii++)
			di[x][ii+1]+=di[y][ii];
		
	}
}
int main()
{

scanf("%d%d",&n,&k);
int x,y,i;
ans = 0;
for(i=1;i<n;i++)
{
scanf("%d%d",&x,&y);
v[x].push_back(y);
v[y].push_back(x);
}
dfs(1);
cout<<ans;
return 0;
}