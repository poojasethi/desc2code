#include <bits/stdc++.h>
using namespace std;

typedef long long ll;
int n, k, a, b;
ll ans, d[50005][505];
vector <int> G[50005];

void dp(int u, int f) {
	d[u][0]=1;
	for(int i=0; i<G[u].size(); i++) {
		int v=G[u][i];
		if(v == f) continue;
		dp(v, u);
		for(int j=1; j <= k; j++) ans += d[u][j-1]*d[v][k-j];
		for(int j=1; j <= k; j++) d[u][j] += d[v][j-1];
	}
}

int main() {
	scanf("%d%d", &n, &k);
	for(int i=0; i<n-1; i++) {
		scanf("%d%d", &a, &b);
		G[a].push_back(b);
		G[b].push_back(a);
	}
	memset(d, 0, sizeof(d));
	dp(1, 0);
	printf("%I64d\n", ans);
	return 0;
}
	 	  			     	   			   			  		