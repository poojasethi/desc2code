#include <bits/stdc++.h>
using namespace std;int dp[50009][509], n, k;long long ans = 0;vector<int> v[50009];void dfs(int p, int prev){int u;dp[p][0] = 1;for (int i = 0; i < v[p].size(); i++) {u = v[p][i];if (u == prev) continue;dfs(u, p);for (int i = 0; i < k; i++) ans += dp[p][i] * dp[u][k - i -1]; for (int i = 0; i < k; i++) dp[p][i + 1] += dp[u][i];}}main()
{scanf("%d%d", &n, &k);for (int i = 0; i < n - 1; i++) {        int x, y;        scanf("%d%d", &x, &y);        v[x].push_back(y);        v[y].push_back(x);    }dfs(n, -1);printf("%I64d", ans);return 0;
}

 		 	  	   		    	  	 	 		