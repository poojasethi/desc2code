#include<string.h>
#include<iostream>
#include<vector>
long  ans=0;
using namespace std;
long  dp[50005][505];
int n,k;
vector<int> arr[50005];
int dfs(int u, int par){
int v;
memset(dp[u],0,sizeof(dp[u]));
dp[u][0]=1;

for(int j=0;j<arr[u].size();j++){
v = arr[u][j];
if(v==par) continue;
dfs(v,u);
for(int i=0;i<k;i++){
ans+=  dp[u][i]*dp[v][k-i-1];
}
for(int i=1;i<=k;i++)
dp[u][i]+=dp[v][i-1];
}
return ans;
}


int main(){
int u,v;
cin >> n >> k;
for(int i=1;i<n;i++){
cin >> u >> v;
arr[u].push_back(v);
arr[v].push_back(u);
}



dfs(1,0);
cout << ans;
//printf("%I64d\n", ans);


return 0;
}