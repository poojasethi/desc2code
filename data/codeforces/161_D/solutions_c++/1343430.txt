#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
using namespace std;

vector<int> a[50005];
int dp[50005][505];
int n, k;
long long ans;

void go(int x, int from=-1) {
	dp[x][0] = 1;
	for(int i=0;i<(int)a[x].size();i++)
		if(a[x][i]!=from) {
			int c=a[x][i];
			go(c, x);
			for(int j=0;j<k;j++) ans += dp[x][j] * dp[c][k-j-1];
			for(int j=0;j<k;j++) dp[x][j+1] += dp[c][j];
		}
}

int main(void) {
	scanf("%d%d", &n, &k);
	for(int i=0;i<n-1;i++) {
		int x, y;
		scanf("%d%d", &x, &y);
		a[x].push_back(y);
		a[y].push_back(x);
	}
	go(1);
	printf("%I64d\n", ans);
	return 0;
}

