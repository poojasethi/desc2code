#include<stdio.h>
#include<algorithm>
#include<vector>
#include<string.h>
using namespace std;
vector<int> g[50005];
int n,k;
long long dp[50005][505];
long long ans=0;
void dfs(int now,int f){
	dp[now][0]=1;
	int le=g[now].size();
	for(int i=0;i<le;i++){
		int nex=g[now][i];
		if(nex==f)
			continue;
		dfs(nex,now);
		for(int j=0;j<k;j++)
			ans+=(dp[nex][j]*dp[now][k-j-1]);
		for(int j=1;j<=k;j++)
			dp[now][j]+=dp[nex][j-1];
	}
}
int main(){
	scanf("%d%d",&n,&k);
	for(int i=1;i<=n-1;i++){
		int a,b;
		scanf("%d%d",&a,&b);
		g[a].push_back(b);
		g[b].push_back(a);
	}
	dfs(1,-1);
	printf("%I64d\n",ans);
}
