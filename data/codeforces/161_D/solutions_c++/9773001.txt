#include<iostream>
#include<algorithm>
#include<math.h>
#include<vector>

using namespace std;

int n,m,k,l,i,j,a,b,res,d[50005][505];
vector<int>v[50005];

int dfs(int w, int e){
    d[w][0]++;
    for(int i1=0;i1<v[w].size();i1++){
        int q=v[w][i1];
        if(q==e) continue;
        dfs(q,w);

        for(int i1=0;i1<m;i1++){
            res+=d[w][i1]*d[q][m-i1-1];
        }

        for(int i1=0;i1<m;i1++){
            d[w][i1+1]+=d[q][i1];
        }
    }
}

main(){

cin>>n>>m;

for(i=0;i<n-1;i++){
    cin>>a>>b;
    v[a].push_back(b);
    v[b].push_back(a);
}

dfs(1,-1000);
cout<<res;
}
