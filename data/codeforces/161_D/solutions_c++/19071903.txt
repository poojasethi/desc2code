#include <algorithm>
#include <cstdio>
int to[100010],ne[100010],fi[50005],f[50005][505],
	u[50005],i,n,k,x,y,ans=0,tot;
void add(int x,int y)
{
	to[++tot]=y;ne[tot]=fi[x];fi[x]=tot;
}
void dfs(int x)
{
	f[x][0]=1;u[x]=1;
	for (int i=fi[x],j;i;i=ne[i])
	if (!u[to[i]])
	{
		dfs(to[i]);
		for (j=0;j<k;++j) ans+=f[x][j]*f[to[i]][k-1-j];
		for (j=0;j<k;++j) f[x][j+1]+=f[to[i]][j];
	}
}
int main()
{
	scanf("%d%d\n",&n,&k);
	for (i=1;i<n;++i)
	{
		scanf("%d%d\n",&x,&y);
		add(x,y);add(y,x);
	}
	dfs(1);
	printf("%d\n",ans);
}
