#include<cstdio>
#include<vector>
using namespace std;
int v[50000]={0},c[50000]={0},b[50000][500]={0},i1;
long long sm;
vector<int> i[50000];
void dfs(int p)
{
	int a,s,x;
	v[p]=1;
	b[p][0]=1;
	for(a=0;a<c[p];a++)
	{
		x=i[p][a];
		if( v[x]==1 ) continue;
		dfs(x);
		for(s=0;s<i1;s++) sm+=b[p][s]*b[x][i1-s-1];
		for(s=0;s<i1-1;s++) b[p][s+1]+=b[x][s];
	}
}
int main()
{
	int a,n,x,y;
	scanf("%d%d",&n,&i1);
	for(a=0;a<n-1;a++)
	{
		scanf("%d%d",&x,&y); x--; y--;
		i[x].push_back(y);
		i[y].push_back(x);
	}
	for(a=0;a<n-1;a++) c[a]=i[a].size();
	dfs(0);
	printf("%I64d\n",sm);
//for(;;);
	return 0;
}
