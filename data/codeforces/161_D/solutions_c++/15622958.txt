#include "bits/stdc++.h"
using namespace std;
typedef long long LL;
LL n, k, f[50001][501], ans;
vector<LL> g[50001];
void dfs(LL c, LL p) {
	f[c][0] = 1;
	for (size_t i = 0; i < g[c].size(); i++) {
		if (p == g[c][i]) continue;
		dfs(g[c][i], c);
		for (int j = 0; j < k; j++)
			ans += f[c][j] * f[g[c][i]][k-1-j];
		for (int j = 0; j < k; j++)
			f[c][j+1] += f[g[c][i]][j];
	}
}
int main() {
	LL i, x, y;
	scanf("%I64d%I64d", &n, &k);
	for (i = 1; i < n; i++) {
		scanf("%I64d%I64d", &x, &y);
	   	g[x].push_back(y);
		g[y].push_back(x);
	}
	dfs(1, 0);
	printf("%I64d\n", ans);
    return 0;
}
