#include<stdio.h>
#include<vector>
using namespace std;
int n, k;
int dp[50005][505];
vector<int> edge[50005];
int ans;
void dfs(int u, int fa)
{
	int i, j, v;
	dp[u][0] = 1;
	for(i = 0; i < edge[u].size(); i++)
	{
		v = edge[u][i];
		if(v == fa) continue;
		dfs(v, u);
		for (j = 1; j <= k; j++) 
			ans += dp[u][j-1] * dp[v][k-j];
		for(j = 1; j <= k; j++)
			dp[u][j] += dp[v][j-1];

	}
}
int main()
{
	int i, j, x ,y;
	scanf("%d%d", &n, &k);
	for(i = 1; i < n; i++)
	{
		scanf("%d%d", &x, &y);
		edge[x].push_back(y);
		edge[y].push_back(x);
	}
	dfs(1, -1);
	printf("%d\n", ans);
	return 0;
}
  				 	   	 				  			    	