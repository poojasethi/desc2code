infile = open('input.txt')
outfile = open('output.txt', 'w')
def nums():
    return map(int, infile.readline().rstrip().split())
m, k = nums()
favs = set(nums())
n = nums()[0]
class Movie:
    def __init__(self):
        self.name = infile.readline().rstrip()
        self.num = nums()[0]
        self.actors = nums()
        self.favCnt = sum(1 for x in self.actors if x in favs)
        self.unknownCnt = sum(1 for x in self.actors if x == 0)
        self.best = min(k, self.favCnt + self.unknownCnt)
        b = sum(1 for x in xrange(1, m+1) if x not in favs and x not in self.actors)
        self.worst = self.favCnt + max(0, self.unknownCnt - b)
    def __str__(self):
        return 'name:%s best:%d worst:%d(%s)' %(
                self.name, self.best, self.worst, self.actors)

movies = [Movie() for i in xrange(n)]
for v1 in movies:
    best = True
    canBe = True
    for v2 in movies:
        if v1 is not v2:
            if v1.best < v2.worst:
                canBe = False
            if v1.worst < v2.best:
                best = False
    # print v1
    if best:
        print >> outfile, 0
    elif canBe:
        print >> outfile, 2
    else:
        print >> outfile, 1
