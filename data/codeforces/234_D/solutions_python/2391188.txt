import sys
sys.stdin=file('input.txt','r')
sys.stdout=file('output.txt','w')
R=lambda:map(int,raw_input().split())
m,k=R()
f=R()
n=input()
def p():
  raw_input()
  z=input()
  a=R()
  x,y=a.count(0),len(filter(lambda x:x in f, a))
  w=z-x-y
  return (z-(min(m-k-w,x)+w),min(k-y,x)+y)
v=[p() for _ in xrange(n)]
for i in xrange(n):
  print 1 if filter(lambda x:x[0]>v[i][1],v[:i]+v[i+1:]) else 0 if v[i][0]>=max(map(lambda x:x[1],v[:i]+v[i+1:])+[0]) else 2
