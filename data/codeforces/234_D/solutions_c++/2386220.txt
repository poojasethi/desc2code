#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<time.h>
#include<math.h>
#include<iostream>
#include<algorithm>
using namespace std;
#define N 100005
int f[N],Max[N],Min[N],n,m,k;
char s[N];
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d",&m,&k);
	for (int i=1;i<=k;++i){
		int x;scanf("%d",&x);f[x]=1;
	}
	scanf("%d",&n);
	for (int i=1;i<=n;++i){
		int a,b=0,c=0;
		scanf("%s",&s);
		scanf("%d",&a);
		for (int j=1;j<=a;++j){
			int x;scanf("%d",&x);b=b+f[x];
			if (x==0)++c;
		}
		Max[i]=min(b+c,k);
		Min[i]=max(b,a-(m-k));
	}
	int ans;
	for (int i=1;i<=n;++i){
		ans=0;
		for (int j=1;j<=n;++j)if (i!=j)ans=max(ans,Max[j]);
		if (Min[i]>=ans){printf("0\n");continue;}
		ans=0;
		for (int j=1;j<=n;++j)if (i!=j)ans=max(ans,Min[j]);
		if (Max[i]<ans){printf("1\n");continue;}
		printf("2\n");
	}
	//system("pause");for (;;);
	return 0;
}