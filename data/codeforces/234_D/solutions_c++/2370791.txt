//By momo
#include<cstdio>
#include<algorithm>
#define N 110
using namespace std;

int n, m, k, may[N], det[N], lke[N];

int main(){
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
	scanf("%d%d", &m, &k);
	for(int i = 0, x; i < k; i++) scanf("%d", &x), lke[x] = 1;
	
	scanf("%d", &n);
	if(n == 1) return puts("0"), 0;
	for(int i = 0; i < n; i++){

		char nu[20];
		int d, yes = 0, no = 0, my = 0;
		scanf("%s%d", nu, &d);
		for(int j = 0; j < d; j++){
			int app; scanf("%d", &app);
			if(app == 0){ my++; continue; }

			if(lke[app]) yes++;
			else no++;
		}

		int dno = no, dyes = yes, dmy = my;
		if(k   < yes+my) dno  += yes+my-k,    dmy -= dno-no;
		if(m-k < no+my ) dyes += no+my-(m-k), dmy -= dyes-yes;
	
		may[i] = dyes+dmy;
		det[i] = dyes;
	}

	for(int i = 0; i < n; i++){

		int ans = -1, ans2 = -1;
		for(int j = 0; j < n; j++){
			if(i == j) continue;
			ans = max(ans, may[j]);
			ans2 = max(ans2, det[j]);
		}

		if(det[i] >= ans) puts("0");
		else if(may[i] >= ans2) puts("2");
		else puts("1");
	}
}
