#include<cstdio>
#include<cstring>
int N,M,Q,i,j,Max,X,Cnt,cnt,Num;
char s[100006];
int L[105],R[105],f[105];
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d",&N,&M);
	for(i=1;i<=M;++i) scanf("%d",&X),f[X]=1;
	scanf("%d",&Q);
	for(i=1;i<=Q;++i)
	{
		scanf("%s", s);
		scanf("%d",&Num);
		cnt=Cnt=0;
		for(j=1;j<=Num;++j)
		{
			scanf("%d",&X);
			Cnt+=f[X];
			if(!X) ++cnt;
		}
		if(Cnt>Num-N+M) L[i]=Cnt;
		else L[i]=Num-N+M;
		if(Cnt+cnt<M) R[i]=Cnt+cnt;
		else R[i]=M;
	}
	for(i=1;i<=Q;++i)
	{
		Max=0;
		for(j=1;j<=Q;++j) if(i!=j)
			if(R[j]>Max) Max=R[j];
		if(L[i]>=Max)
		{
			printf("0\n");
			continue;
		}
		Max=0;
		for(j=1;j<=Q;++j) if(i!=j)
			if(L[j]>Max) Max=L[j];
		if(R[i]<Max)
		{
			printf("1\n");
			continue;
		}
		printf("2\n");
	}
	return 0;
}
