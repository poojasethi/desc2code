#include <stdio.h>

int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int k,m,n,fa[1000],x,d,a,b,c,mi[1000],ma[1000],aa,bb;
	char s[100];
	scanf("%d%d",&m,&k);
	aa=k;bb=m-k;
	for(int i=1;i<=m;i++)fa[i]=0;
	for(int i=1;i<=k;i++){
		scanf("%d",&x); fa[x]=1;
	}
	scanf("%d",&n);
	for(int i=1;i<=n;i++){
		scanf("%s",s);
		scanf("%d",&d);
		a=b=c=0;
		for(int j=1;j<=d;j++){
			
			scanf("%d",&x);
			if(x==0)c++;
			else if(fa[x])a++;
			else b++;
		}
		mi[i]=a;
		if(c>bb-b)mi[i]+=c-(bb-b);
		ma[i]=a+c;
		if(ma[i]>aa)ma[i]=aa;
	}
	
	
	for(int i=1;i<=n;i++){
		int mark=1;
		for(int j=1;j<=n;j++){
			if (i==j) continue;
			if(mi[i]<ma[j]){mark=0;break;}
		}
		if (mark) {printf("0\n"); continue;}
		mark=0;
		for(int j=1;j<=n;j++){
			if (i==j) continue;
			if(ma[i]<mi[j]){mark=1;break;}
		}
		if(mark) {printf("1\n"); continue;}
	
		
		printf("2\n");	
	}

	
	return 0;
}
	   		    	 			        		