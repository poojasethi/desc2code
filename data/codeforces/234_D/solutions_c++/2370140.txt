#include<iostream>
#include<fstream>
#include<set>
using namespace std;
int main()
{
freopen("input.txt","r",stdin);
freopen("output.txt","w",stdout);
int n,m,k,a,b[105][105],c[105],i,j,mn[105],mx[105],z,p,mn1=0,mn2=0,mx1=0,mx2=0;
string s[105];
set<int> v;
cin>>m>>k;
for(i=1;i<=k;i++) cin>>a,v.insert(a);
cin>>n;
for(i=1;i<=n;i++)
{
cin>>s[i]>>c[i];
z=0;
for(j=1;j<=c[i];j++)
{
cin>>b[i][j];
if(v.count(b[i][j])) z++;
}
p=min(m-k,c[i]-z);
mn[i]=c[i]-p;
if(mn[i]>=mn1)
{
mn2=mn1;
mn1=mn[i];
}
else if(mn[i]>=mn2) mn2=mn[i];
z=0;
for(j=1;j<=c[i];j++) if(b[i][j]>0 && v.count(b[i][j])==0) z++;
p=min(k,c[i]-z);
mx[i]=p;
if(mx[i]>=mx1)
{
mx2=mx1;
mx1=mx[i];
}
else if(mx[i]>=mx2) mx2=mx[i];
}
for(i=1;i<=n;i++)
{
//cout<<mn[i]<<" "<<mx[i]<<endl;
if(mn[i]>=mx1 || mx1==mx[i] && mn[i]>=mx2) cout<<0;
else if(mx[i]<mn2 || mn[i]!=mn1 && mx[i]<mn1) cout<<1;
else cout<<2;
cout<<endl;
}
return 0;
}