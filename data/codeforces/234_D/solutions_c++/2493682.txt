#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;

#define FOR(it, c) for(__typeof((c).begin()) it = (c).begin(); it != (c).end(); it++)
#define SZ(c) ((int)(c).size())

int a[105];
int les[105], mor[105];
int main(void) {
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
	int m, k, n;
	scanf("%d%d", &m, &k);
	for(int i=0;i<k;i++) {
		int x;
		scanf("%d", &x);
		a[x] = 1;
	}
	scanf("%d", &n);
	for(int i=0;i<n;i++) {
		int d, x;
		scanf("%*s%d", &d);
		int r[3]={};
		while(d--) { scanf("%d", &x); r[(x==0?2: a[x])]++; }
		les[i] = r[1] + max(0, r[2]-(m-k-r[0]));
		mor[i] = r[1] + min(r[2], k-r[1]);
	}
	for(int i=0;i<n;i++) {
		int w1 = 0, w2 = 0;
		for(int j=0;j<n;j++) if(j!=i) w1=max(w1, mor[j]);
		for(int j=0;j<n;j++) if(j!=i) w2=max(w2, les[j]);
	//	printf("<%d,%d>\n", les[i], mor[i]);
		w1 = (les[i] < w1);
		w2 = (mor[i] >= w2);
		if(!w1 && w2) puts("0");
		else if(w1 && !w2) puts("1");
		else puts("2");
	}
	return 0;
}
