#include<stdio.h>
#include<string.h>
#include<algorithm>

using std::max;
using std::min;

const int MAXN=100+9;

int n,minf[MAXN],maxf[MAXN];
bool check0(int u)
{
	int i;
	for(i=1;i<=n;++i)
		if(i!=u && maxf[i]>minf[u])
			return 0;
	return 1;
}
bool check1(int u)
{
	int i;
	for(i=1;i<=n;++i)
		if(i!=u && minf[i]>maxf[u])
			return 1;
	return 0;
}

bool favo[MAXN],h[MAXN];
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int m,k,d,b,i,j;
	int favo0,favo1,nosure;
	scanf("%d%d",&m,&k);
	for(i=1;i<=k;++i)
	{
		scanf("%d",&j);
		favo[j]=1;
	}
	scanf("%d",&n);
	for(i=1;i<=n;++i)
	{
		scanf("%*s%d",&d);
		favo0=favo1=nosure=0;
		for(j=1;j<=d;++j)
		{
			scanf("%d",&b);
			if(b)
			{
				if(favo[b])
					++favo1;
				else ++favo0;
			}
			else ++nosure;
		}
		minf[i]=favo1+max(0,nosure-(m-k-favo0));
		maxf[i]=min(k,favo1+nosure);
//		printf("%d: %d %d %d\n%d %d\n\n",i,favo0,favo1,nosure,minf[i],maxf[i]);
	}
	for(i=1;i<=n;++i)
		if(check0(i))
			puts("0");
		else if(check1(i))
			puts("1");
		else puts("2");
	return 0;
}
