//lasha-buxo

#include<iostream>
#include<stdio.h>
#include<cstdlib>
#include<math.h>
#include<algorithm>
#include<fstream>
#include<string>
#include<stack>
#include <iomanip>
#define PI 3.141592653589793
using namespace std;
int n,m,T;
int v[200];
int a1[200],a2[200],a3[200];
int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d",&n,&m);
	for(int i=1,x;i<=m;i++)
		scanf("%d",&x),v[x]=1;
	scanf("%d",&T);
	for(int k=1;k<=T;k++){
		int x,y;
		scanf("%*s");
		scanf("%d",&x);
		for(int i=1;i<=x;i++){
			scanf("%d",&y);
			if(y==0) a2[k]++;
			else if(v[y]) a1[k]++;
		}
		a3[k]=a1[k]+max(0,min(m-a1[k],a2[k]));
		a1[k]+=max(0,a2[k]-(n-m-(x-a1[k]-a2[k])));
	}
	for(int k=1;k<=T;k++){
		int flag=0;
		for(int j=1;j<=T;j++)
			if(j!=k&&a1[k]<a3[j])
				flag=1;
		if(!flag) {printf("0\n");continue;}
		flag=0;
		for(int j=1;j<=T;j++)
			if(j!=k&&a3[k]<a1[j])
				flag=1;
		if(flag) printf("1\n");
		else printf("2\n");
	}
	return 0;
}