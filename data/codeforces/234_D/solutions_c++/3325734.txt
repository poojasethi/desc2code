#include <stdio.h>
#include <string.h>

int m,k,n,d;
int fac[110];
int l[110],r[110];

int main()
{
	int i,j,sum1,sum2,temp,max,min;
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d",&m,&k);
	memset(fac,0,sizeof(fac));
	for(i=1;i<=k;i++)
	{
		scanf("%d",&temp);
		fac[temp]=1;
	}
	scanf("%d",&n);
	for(i=1;i<=n;i++)
	{
		sum1=sum2=0;
		scanf("%*s");
		scanf("%d",&d);
		for(j=1;j<=d;j++)
		{
			scanf("%d",&temp);
			if(fac[temp]) sum1++;//like
			else if(temp==0) sum2++;//not sure
		}
		l[i]=(sum1+sum2>=k)?k:sum1+sum2;
		r[i]=(m-k-d+sum1+sum2>=sum2)?sum1:k+d-m;
		//printf("%d  %d\n",l[i],r[i]);
	}
	for(i=1;i<=n;i++)
	{
		max=min=-1;
		for(j=1;j<=n;j++)
		{
			if(i!=j)
			{
				if(l[j]>max) max=l[j];
				if(r[j]>min) min=r[j];
			}
		}
		if(r[i]>=max) printf("0\n");
		else if(l[i]<min) printf("1\n");
		else printf("2\n");
	}
	return 0;
}

   					 	  		      		 	