#include <iostream>
#include <cstdio>
#include <string>
using namespace std;

int M,K,N;
int f[110];
bool fav[110];
char str[15];
int minfav[110];
int maxfav[110];
main()
{
 int p,q,i,j,k,d,nz;
 freopen("input.txt","r",stdin);
 freopen("output.txt","w",stdout);
 scanf("%d %d",&M,&K);
 for(i=0;i<K;i++)
 {
  scanf("%d",&f[i]);
  fav[f[i]]=true;
 }
 
 scanf("%d",&N);
 for(i=0;i<N;i++)
 {
  scanf("%s",str);
  scanf("%d",&d);
  nz = 0;
  for(j=0;j<d;j++)
  {
    scanf("%d",&k);
    if(fav[k]) minfav[i]+=1;
    if(k==0) nz+=1;                  
  }
  p = K - minfav[i];
  q = M-K-((d-nz)-minfav[i]);
  maxfav[i] = min(K,minfav[i] + nz);
  minfav[i] += max(nz-q,0);
  
 }
 int ans=0;
 for(i=0;i<N;i++)
 {
  ans = 0;
 // cout << minfav[i] << ' ' << maxfav[i] << endl;
  for(j=0;j<N;j++)
   if(i!=j)
   {
    if(minfav[j]>maxfav[i]) { ans = 1; break;}
    if(ans == 0 && minfav[i]>=maxfav[j]) ans = 0;
    else ans = 2;       
   }
 cout << ans << endl;
 }
}
