#include<cstdio>
#include<cstring>
#define maxn 110
int a[maxn][2],n,m,T;
char s[20];
bool like[maxn],bo;
int min(int a,int b){return a<b?a:b;}
int get(int x){
    int i;
    bo=true;
    for(i=1;i<=T;i++)
        if(i!=x&&a[i][1]>a[x][0]){
            bo=false;
            break;
        }
    if(bo)return 0;
    for(i=1;i<=T;i++)
        if(i!=x&&a[i][0]>a[x][1])return 1;
    return 2;            
}
int main(){
    freopen("input.txt","r",stdin);freopen("output.txt","w",stdout);
    int i,x,j,k,cnt,notsure;
    scanf("%d%d",&n,&m);
    for(i=1;i<=m;i++){
        scanf("%d",&x);
        like[x]=true;
    }
    scanf("%d",&T);
    for(i=1;i<=T;i++){
        scanf("%s%d",s,&k);
        cnt=notsure=0;
        for(j=1;j<=k;j++){
            scanf("%d",&x);
            if(!x)notsure++;
            else if(like[x])cnt++;
        }
        a[i][0]=cnt+notsure-min(notsure,n-m-(k-notsure-cnt));
        a[i][1]=cnt+min(notsure,m-cnt);
    }
    for(i=1;i<=T;i++)printf("%d\n",get(i));
}