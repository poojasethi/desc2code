#include <cstdlib>
#include <iostream>
#include <fstream>

using namespace std;

FILE *f;

int all(int a, int b)
{
	if (a<b) return a; else return b;
}

int main()
{
 f=fopen("input.txt","r");
 ofstream g("output.txt");
 int al,np,cur,nn,all,d,i,m,k,n,j,mm[102],mx[102];
 char nm[102][20];
 fscanf(f,"%d %d",&m, &k);
 bool fav[105];
 for (i=1;i<=m;++i) fav[i]=false;
 for (i=1;i<=k;i++) {
  fscanf(f,"%d ",& j);
  fav[j]=true;
 }
 fscanf(f,"%d",& n);
 for (i=1;i<=n;i++)
 {
  fscanf(f,"%s", nm[i]);
  fscanf(f,"%d",& d);
  al=m-k;all=k;cur=0;np=0;
  for (j=1;j<=d;j++)
  {
	 fscanf(f,"%d",& nn);
	 if (nn==0) np++;
	 else if (fav[nn])
	 {
		++cur;--all;
			} else --al;
		}
	mm[i]=cur+(np-min(al,np));mx[i]=cur+min(all,np);
 }
 bool ok;
 for (i=1;i<=n;i++)
 {
	ok=true;
	for (j=1;j<=n;++j) if (mm[i]<mx[j] && i!=j) ok=false;
	if (ok) g<<0<<endl; else
	{
	  ok=false;
	  for (j=1;j<=n;++j) if (i!=j && mx[i]<mm[j]) ok=true;
	  if (ok) g<<"1"<<endl; else g<<"2"<<endl;
	}
		}
}
