#include<stdio.h>
int min(int x,int y)
{
	if(x>y)return y;else return x;
}
int max(int x,int y)
{
	if(x>y)return x;else return y;
}
int main()
{
	int n,k,i,j,m,t,tt,f1,f2,x,q;
	int t1[10000],t2[10000],f[10000];
	char s[10000];
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout); 

	scanf("%d%d",&n,&k);
	for(i=1;i<=k;i++)
	{
		scanf("%d",&x);
		f[x]=1;
	}
	scanf("%d",&m);
	for(i=1;i<=m;i++)
	{
		t=tt=0;
		scanf("%s",s);
		scanf("%d",&q);
		for(j=1;j<=q;j++)
		{
			scanf("%d",&x);
			if(x==0)t++;
			if(f[x])tt++;
		}
		t1[i]=max(tt,q-(n-k));t2[i]=min(k,t+tt);
	}
	for(i=1;i<=m;i++)
	{
		f1=1;f2=1;
		for(j=1;j<=m;j++)
		if(j!=i)
		{
			if(t1[i]<t2[j])f1=0;
			if(t2[i]<t1[j])f2=0;
		}
		if(f1==1&&f2==1)printf("0\n");
		else if(f1==0&&f2==1)printf("2\n");
		else if(f1==0&&f2==0)printf("1\n");
		else printf("\n");
	}
}
		 	  					    	 	  	   		