#include<iostream>
#include<cstdio>
#include<vector>
#include<string>
using namespace std;
const int N(105);
int n,m,i,ti,t,p,k,nt,cnt;
int a[2*N],b[2*N];
int c[N],bo[N];
int d[N][N];
string str[N];
vector<int> point[N];
int mate(int x) {return x<n?x+n:x-n;}
void output()
{
     int i,j;
     for (i=0;i!=n;++i) {
         cout<<point[i].size();
         for (j=0;j!=point[i].size();++j) cout<<" "<<str[point[i][j]];
         cout<<endl;
     }
}
int main()
{
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    cin>>n>>ti;
    for (i=0;i!=n;++i) cin>>a[i]>>b[i]>>a[i+n]>>b[i+n];
    cin>>m;
    for (i=0;i!=m;++i) cin>>str[i]>>c[i];
    for (p=k=0;;p=(p+1)%(2*n)) {
        for (t=ti;;) {
            for (;bo[k];k=(k+1)%m);
            nt=max(1,c[k]-(a[p]+b[mate(p)])-d[p%n][k]);
            if (nt<t) {
               t-=nt;
               point[p%n].push_back(k);
               bo[k]=1; ++cnt;
               if (cnt==m) {
                  output();
                  return 0;
               }
            }
            else if (nt==t) {
                 point[p%n].push_back(k);
                 bo[k]=1; ++cnt; 
                 if (cnt==m) {
                    output();
                    return 0;
                 }
                 break;
            }
            else {
                 d[p%n][k]+=t;
                 k=(k+1)%m; break;
            }
        }
    }
    return 0;
}
