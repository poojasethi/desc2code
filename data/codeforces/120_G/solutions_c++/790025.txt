#include <iostream>
#include <cstdio>
#include <vector>

using namespace std;

int n, t, m;
int a[200][200], b[200][222];
int c[200], d[200][200];
string s[200];
vector <int> win[200];
bool u[200];

int main ()
{
	freopen ("input.txt", "r", stdin);
	freopen ("output.txt", "w", stdout);

	cin >> n >> t;
	for (int i = 0; i < n; i++) 
		cin >> a[i][0] >> b[i][0] >> a[i][1] >> b[i][1];
	cin >> m;
	for (int i = 0; i < m; i++) 
		cin >> s[i] >> c[i];
	int team = 0, id = 0, card = 0, tt = t; 
	int num = m;
	while (num>0) {
		tt = t;
		while (tt > 0 && num > 0) {
			int x = max(1, c[card]-(a[team][id]+b[team][id^1])-d[team][card]);
			//printf ("team[%d], player[%d], time = %d, x = %d\n", team+1, id+1, tt, x);
			if (x <= tt) {
				tt -= x;
				win[team].push_back(card);
				u[card] = 1;
				num--;			
			}else d[team][card] += tt, tt = 0;
			if (!num) break;
			do{
				card++;
				card %= m;
			}while (u[card]);
		}
		team++;
		if (team == n) team = 0, id ^= 1;
	}
	for (int i = 0; i < n; i++) {
		cout << win[i].size() << " ";
		for (int j = 0; j < win[i].size(); j++) cout << s[win[i][j]] << " ";
		cout << endl;
	}
	return 0;
}

