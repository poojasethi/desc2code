#include<iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
#include<map>
#include<set>
#include<iomanip>
#include<vector>
#include<cstring>
#include<string>
#include<cstdlib>
#include<fstream>

#define cin fin
#define cout fout

using namespace std;

ifstream fin("input.txt");
ofstream fout("output.txt");

const int maxn=120;

int n,t,m,s[maxn];
string name[maxn];
int c[maxn];
int d[maxn][maxn];
int a[maxn][2],b[maxn][2];
int top;
vector<int> v[maxn];


void remake(){
	int tmp=s[top-1];
	for(int i=top-1;i>0;i--)
		s[i]=s[i-1];
	s[0]=tmp;
}

int main(){
	cin >> n >> t;
	for(int i=0;i<n;i++)
		cin >> a[i][0] >> b[i][0] >> a[i][1] >> b[i][1];
	cin >> m;
	for(int i=0;i<m;i++)
		cin >> name[i] >> c[i];
	for(int i=0;i<m;i++)
		s[top++]=i;
	reverse(s,s+top);
	int turn=0;
	while(true){
		for(int i=0;i<n;i++){
			int tm=t;
			while(top > 0 && tm > 0){
		//		cout << top << " " << tm << endl;
				int ind=s[top-1];
				int tmp=max(1,c[ind]-(a[i][turn]+b[i][!turn])-d[i][ind]);
	//			cerr << i << " " << ind << " " << tm << " " << tmp << endl;
				if(tmp > tm){
					d[i][ind]+=tm;
					remake();
					break;
				}else{
					v[i].push_back(ind);
					tm-=tmp;
					top--;
				}
			}
		}
		if(top == 0)
			break;
		turn = !turn;
	}
	for(int i=0;i<n;i++){
		cout << v[i].size();
		for(int j=0;j<v[i].size();j++)
			cout << " " << name[v[i][j]];
		cout << endl;
	}
	return 0;
}
