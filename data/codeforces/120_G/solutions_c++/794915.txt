#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<string>
#include<vector>
#include<set>
#include<queue>
#include<map>
#include<cmath>

using namespace std;


char s[110][30];
int a[110],c[110];
int aa[110][110];
vector<int>q;
vector<int>ans[110];

int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	int n,t;
	while(scanf("%d%d",&n,&t)==2)
	{
		for(int i=0;i<n;i++)
		{
			int a1,b1,a2,b2;
			scanf("%d%d%d%d",&a1,&b1,&a2,&b2);
			a[i] = a1+b2;
			//scanf("%d%d",&a1,&a2);
			a[i+n] = a2+b1;
			ans[i].clear();
		}
		
		q.clear();
		int m;
		scanf("%d",&m);
		for(int i=0;i<m;i++)
		{
			scanf("%s%d",s[i],c+i);
			q.push_back(i);
			for(int j=0;j<n;j++)
				aa[i][j] = c[i];
		}
		
		int i = 0,n2 = n+n;
		while(!q.empty())
		{
			int tmp,id = q[0];
			int lef = t;
			while((tmp = max(1,aa[id][i%n] - a[i]))<=lef)
			{
				lef -= tmp;
				q.erase(q.begin());
				ans[i%n].push_back(id);
				if(q.size()<=0)	break;
				id = q[0];
			}
			
			if(lef>0&&q.size()>0)
			{
				id = q[0];
				aa[id][i%n] -= lef;
				q.push_back(id);
				q.erase(q.begin());
			}
		
			i++;
			i%=n2;
		}
		
		for(int i=0;i<n;i++)
		{
			printf("%d",ans[i].size());
			for(int j=0;j<ans[i].size();j++)
				printf(" %s",s[ans[i][j]]);
			putchar('\n');
		}
	}
	return 0;
}
 										 	  			   		   	