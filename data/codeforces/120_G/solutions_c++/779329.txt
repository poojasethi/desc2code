#include<iostream>
#include<fstream>
#include<vector>
using namespace std;
int main()
{
freopen("input.txt","r",stdin);
freopen("output.txt","w",stdout);
int n,m,t,tt,a[105][3],b[105][3],d[105][105],i,j,p[105],r,l,u[105],e[105];
string s[105];
vector<string> v[105];
cin>>n>>t;
for(i=1;i<=n;i++)
{
u[i]=1;
cin>>a[i][1]>>b[i][1]>>a[i][2]>>b[i][2];
}
cin>>m;
r=m;
for(i=1;i<=m;i++)
{
e[i]=0;
for(j=1;j<=n;j++) d[j][i]=0;
cin>>s[i]>>p[i];
}
i=j=0;
while(1)
{
tt=t;
i++;
if(i>n) i=1;
l:j++;
if(j>m) j=1;
while(e[j]!=0)
{
j++;
if(j>m) j=1;
}
l=max(1,p[j]-(a[i][u[i]]+b[i][3-u[i]])-d[i][j]);
if(l<=tt) r--,e[j]=i,tt-=l,v[i].push_back(s[j]);
else d[i][j]+=tt,tt=0;
if(r==0) break;
if(tt) goto l;
u[i]=3-u[i];
}
for(i=1;i<=n;i++)
{
cout<<v[i].size()<<" ";
for(j=0;j<v[i].size();j++) cout<<v[i][j]<<" ";
cout<<endl;
}
return 0;
}