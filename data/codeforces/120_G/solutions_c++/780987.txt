#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<vector>
#include<queue>
using namespace std;

int n,T;
int a[105][105];
int b[105][105];
vector<int> ans[105];
int m;
char s[105][105];
int c[105];
int d[105][105];

int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	scanf("%d%d",&n,&T);
	for(int i=0;i<n;i++)
		for(int j=0;j<2;j++)
			scanf("%d%d",&a[i][j],&b[i][j]);
	scanf("%d",&m);
	queue<int> Q;
	for(int i=0;i<m;i++)
	{
		scanf("%s",s[i]);
		scanf("%d",&c[i]);
		Q.push(i);
	}
	int i=0,j=0;
	while(!Q.empty())
	{
		int nowT=T;
		while(nowT>0&&!Q.empty())
		{
			int t=Q.front();
			Q.pop();
			int tmp=max(1,c[t]-(a[i][j]+b[i][j^1])-d[i][t]);
			if(tmp<=nowT)
			{
				ans[i].push_back(t);
				nowT-=tmp;
			}
			else
			{
				d[i][t]+=nowT;
				Q.push(t);
				break;
			}
		}
		i++;
		if(i==n)
		{
			i=0;
			j=!j;
		}
	}
	for(int i=0;i<n;i++)
	{
		int tmp=ans[i].size();
		printf("%d",tmp);
		for(int j=0;j<tmp;j++)
			printf(" %s",s[ans[i][j]]);
		puts("");
	}
	return 0;
}


