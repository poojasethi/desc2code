#include<cstdio>
#include<string>
#include<vector>
#include<algorithm>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

int main(){
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);

	int n,t_ini; scanf("%d%d",&n,&t_ini);
	int a[100][2],b[100][2];
	rep(i,n) rep(j,2) scanf("%d%d",a[i]+j,b[i]+j);

	int m; scanf("%d",&m);
	char card[100][21];
	int c[100];
	rep(k,m) scanf("%s%d",card[k],c+k);

	int d[100][100]={};
	bool got[100]={};
	int ans[100]={};
	vector<string> s_ans[100];
	for(int i=0,j=0,k=0;;){
		int t=t_ini,q=1-j;
		while(t>0){
			int need=max(1,c[k]-(a[i][j]+b[i][q])-d[i][k]);
			if(t>=need){
				got[k]=true;
				ans[i]++;
				s_ans[i].push_back(card[k]);
				t-=need;
			}
			else{
				d[i][k]+=t;
				t=0;
			}

			if(count(got,got+m,true)==m) goto END;

			do{ k=(k+1)%m; }while(got[k]!=0);
		}

		if(i<n-1) i++;
		else      i=0, j=q;
	}

	END:
	rep(i,n){
		printf("%d",ans[i]);
		rep(j,ans[i]) printf(" %s",s_ans[i][j].c_str());
		putchar('\n');
	}

	return 0;
}
