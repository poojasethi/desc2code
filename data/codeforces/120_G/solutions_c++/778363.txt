#include<cstdio>
#include<algorithm>
#include<string>
#include<iostream>
using namespace std;

const int maxn=200+10;
int a[maxn][2],b[maxn][2];
int c[maxn],d[maxn][maxn];
char name[maxn][55];
int que[1000000];
int n,m,T;
int res[maxn][maxn];

int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	
	scanf("%d%d",&n,&T);
	for (int i=0;i<n;i++) scanf("%d%d%d%d",&a[i][0],&b[i][0],&a[i][1],&b[i][1]);
	scanf("%d",&m);
	for (int i=0;i<m;i++) scanf("%s%d",name[i],&c[i]);

	int l=0,r=m-1;
	for (int i=0;i<m;i++) que[i]=i;
	for (int now=0;l<=r;now++)
	{
		if (now==n*2) now=0;
		int t=T;
		for (;l<=r && t;)
		{
			int k=que[l],tt;l++;
			if (now<n) tt=max(1,c[k]-(a[now][0]+b[now][1])-d[now][k]);
			else tt=max(1,c[k]-(a[now-n][1]+b[now-n][0])-d[now-n][k]);
			if (tt<=t)
				res[now%n][++res[now%n][0]]=k,t-=tt;
			else 
			{
				d[now%n][k]+=t,que[++r]=k;
				break;
			}
		}
	}
	for (int i=0;i<n;i++)
	{
		printf("%d",res[i][0]);
		for (int j=1;j<=res[i][0];j++) printf(" %s",name[res[i][j]]);
		printf("\n");
	}
}

	
