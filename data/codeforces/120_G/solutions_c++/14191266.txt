#include <iostream>
#include <fstream>
#include <string>
#include <algorithm>
#include <cmath>
using namespace std;
int main()
{
	ifstream fin("input.txt");
	ofstream fout("output.txt");
	int t,n,a[102][3],b[102][3],k=0,c[102]={0};
	string s[102],sj[102][102];
	int d[102][102]={0},ans[102]={0};
	fin>>n>>t;
	for(int i=0;i<n;i++)
		fin>>a[i][0]>>b[i][0]>>a[i][1]>>b[i][1];
	fin>>k;
	for(int i=0;i<k;i++)
		fin>>s[i]>>c[i];
	for(int i=0;i<n;i++)
		for(int j=0;j<k;j++)
			d[i][j]=0;
	int l=0;
	int tk=k;
	int t2=t;
	while(tk)
	for(int j=0;j<2 && tk;j++)
	for(int i=0;i<n && tk;i++)
	{
		t=t2;
		while(t && tk)
		{
			long h=max(1,c[l]-(a[i][j]+b[i][(j+1)%2])-d[i][l]);
			if(t>=h && c[l])
			{
				t-=h;
				sj[i][ans[i]++]=s[l];
				c[l]=0;
				tk--;
				l=(l+1)%k;
			}
			else if(c[l])
			{
				d[i][l]+=t;
				t=0;
				l=(l+1)%k;
			}
			else
				l=(l+1)%k;
		}
	}
	for(int i=0;i<n;i++)
	{
		fout<<ans[i]<<" ";
		for(int j=0;j<ans[i];j++)
			fout<<sj[i][j]<<" ";
		fout<<endl;
	}
	return 0;
}
