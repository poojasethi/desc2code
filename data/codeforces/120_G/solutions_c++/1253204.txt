#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
#include <string>
#include <queue>
#include <iostream>
using namespace std;

int n, t;
int a[105][2], b[105][2];
vector<string> vs[105];
string r[105];
int c[105], d[105][105];

int main(void) {
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
	scanf("%d%d", &n, &t);
	for(int i=1;i<=n;i++)
		scanf("%d%d%d%d", &a[i][0], &b[i][0], &a[i][1], &b[i][1]);
	int m;
	scanf("%d", &m);
	for(int i=0;i<m;i++)
		cin >> r[i] >> c[i];
	queue<int> q;
	for(int i=0;i<m;i++) q.push(i);
	int team=1, rem=t, f=0;
	while(!q.empty()) {
		if(rem<=0) { ++team; rem=t; }
		if(team>n) { team=1, f^=1; }
		int x = q.front(); q.pop();
		int st = max(1, c[x]-(a[team][f]+b[team][1-f])-d[team][x]);
		if(st <= rem) { rem -= st; vs[team].push_back(r[x]); }
		else { d[team][x] += rem; rem = 0; q.push(x); }
	}
	for(int i=1;i<=n;i++) {
		printf("%d", (int)vs[i].size());
		for(int j=0;j<(int)vs[i].size();j++)
			printf(" %s", vs[i][j].c_str());
		printf("\n");
	}
	return 0;
}

