#include<iostream>
#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>

using namespace std;
const int N=105;
int a[N][3],b[N][3],c[N],v[N],d[N];
int res[N][N],f[N][N];
char name[N][30];

int main()
{
    freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    int n,m,t,i,j,s;
    scanf("%d%d",&n,&t);
    for (i=1; i<=n; i++)
      {
          scanf("%d%d%d%d",&a[i][1],&b[i][1],&a[i][2],&b[i][2]);
          d[i]=1;
      }
    scanf("%d",&m);
    for (i=1; i<=m; i++)
     scanf("%s %d",name[i],&c[i]);
    i=1; j=0; s=t;
    while (1)
    {
         if (s==0)
         {
             d[i]=3-d[i];
             i++; if (i>n) i=1;
             s=t;
         }
         j++; if (j>m) j=1;
         int tj=0;
         while (v[j]==1) {j++; if (j>m) j=1; tj++; if (tj>m) break;}
         if (tj>m) break;
         //cout<<i<<' '<<j<<endl;
         int x=max(1,c[j]-(a[i][d[i]]+b[i][3-d[i]])-f[i][j]);
         if (x<=s) {s-=x; v[j]=1; res[i][++res[i][0]]=j;}
         else {f[i][j]+=s; s=0;}
    }
    for (i=1; i<=n; i++)
    {
        printf("%d",res[i][0]);
        for (j=1; j<=res[i][0]; j++)
        printf(" %s",name[res[i][j]]);
        printf("\n");
    }
}
