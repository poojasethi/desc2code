#include<cstdio>
#define rep(i,n) for (int i=1;i<=n;++i)
const int N=405;
int n,m,ans,f[N][N],a[N][N];
short o[N][160005];
inline int max(int a,int b){return a>b?a:b;}
int main()
{
	scanf("%d%d",&n,&m); rep(i,n) rep(j,m) scanf("%d",a[i]+j);
	rep(i,n){
		rep(j,m) rep(l,m-j+1){
			int r=l+j-1;
			if (l==r) f[l][r]=max(f[l][r],o[l][a[i][l]]);
			else{
				f[l][r]=max(f[l][r],max(max(f[l][r-1],f[l+1][r]),max(o[l][a[i][r]],o[r][a[i][l]])));
				if (a[i][l]==a[i][r]) f[l][r]=i;
			}
			ans=max(ans,(r-l+1)*(i-f[l][r]));
		}
		rep(j,m) o[j][a[i][j]]=i;
	}
	printf("%d\n",ans); return 0;
}

