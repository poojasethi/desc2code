#include <cstdio>
#define rep(i, n) for (int i = 1; i <= n; i++)
#define MX 405

short p[MX][MX * MX];
int ans, f[MX][MX], a[MX][MX];
int n, m;

main() {
	scanf("%d%d", &n, &m);
	rep(i, n) rep(j, m) scanf("%d", a[i] + j);
	rep(i, n) {
		rep(j, m)
			rep(st, m - j + 1) {
				int en = j + st - 1;
				if (st == en) {
					if (f[st][en] < p[st][a[i][st]])
						f[st][en] = p[st][a[i][st]];
				} else if (a[i][st] == a[i][en]) {
					f[st][en] = i;
				} else {
					if (f[st][en] < f[st + 1][en]) f[st][en] = f[st + 1][en];
					if (f[st][en] < f[st][en - 1]) f[st][en] = f[st][en - 1];
					if (f[st][en] < p[st][a[i][en]]) f[st][en] = p[st][a[i][en]];
					if (f[st][en] < p[en][a[i][st]]) f[st][en] = p[en][a[i][st]];	
				}
				if (j * (i - f[st][en]) > ans) ans = j * (i - f[st][en]);
			}
		rep(j, m) p[j][a[i][j]] = i;
	}
	printf("%d\n", ans);
}
