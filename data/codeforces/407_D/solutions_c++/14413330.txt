#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>

#define N 402

using namespace std;

int n, m, d[N][N];
short int f[N][N], pre[N][N*N];

int main() {
#ifndef ONLINE_JUDGE
	freopen("submat.in","r",stdin);
	freopen("submat.out","w",stdout);
#endif
	scanf("%d%d", &n, &m);
	for (int i=1;i<=n;i++) for (int j=1;j<=m;j++) scanf("%d", &d[i][j]);
	int ans = 0;
	for (int i=1;i<=n;i++) {
		for (int j=1;j<=m;j++) {
			f[j][j] = max(f[j][j], pre[j][d[i][j]]);
			pre[j][d[i][j]] = i;
		}
		for (int l=1;l<=m;l++)
			for (int r=l+1;r<=m;r++) {
				f[l][r] = max(f[l][r], pre[l][d[i][r]]);
				f[l][r] = max(f[l][r], pre[r][d[i][l]]);
			}
		for (int j=2;j<=m;j++)
			for (int l=1;l<=m-j+1;l++) {
				int r = l+j-1;
				f[l][r] = max(f[l][r], f[l][r-1]);
				f[l][r] = max(f[l][r], f[l+1][r]);
			}
		for (int j=1;j<=m;j++)
			for (int k=j;k<=m;k++)
				ans = max((i-f[j][k]) * (k-j+1), ans);
	}
	printf("%d\n", ans);
	return 0;
}
 		 		  			    	  	 				  		 		