#include<cstdio>
#include<cstdlib>
#include<map>
#include<algorithm>
using namespace std;
#define rep(i,n) for(int i=1;i<=n;i++)
short g[405][405*405];
int f[405][405],a[405][405],d[405][405];
int n,m,ANS;
int main(){
    scanf("%d%d",&n,&m);
    rep(i,n) rep(j,m) scanf("%d",&a[i][j]);
    rep(j,m){
        for (int l=n;l>=1;l--)
            for (int r=l;r<=n;r++){
                f[l][r]=max((int)max(g[l][a[r][j]],g[r][a[l][j]]),max(f[l+1][r],f[l][r-1]));
                if(l!=r&&a[l][j]==a[r][j]) f[l][r]=j;
                d[l][r]=max(d[l][r],f[l][r]);
                ANS=max(ANS,(r-l+1)*(j-d[l][r]));
            }
        rep(i,n) g[i][a[i][j]]=j;
    }
    printf("%d\n",ANS);
}