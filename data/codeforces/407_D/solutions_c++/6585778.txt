#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
#include <vector>
#include <numeric>
#include <vector>
#define inf 0x3fffffff
#define rep(i,s,e) for (int i=(s);i<(e);i++)
/*memset(dp[cur],127,sizeof dp[cur]);*/
using namespace std;

const int maxn=402;

int f[maxn][maxn],d[maxn][maxn],a[maxn][maxn],p[maxn][160001];

int main()
{
    int n,m;
    cin>>n>>m;
    rep(i,1,n+1)
        rep(j,1,m+1) cin>>a[i][j];
    int ans=0;
    rep(j,1,m+1) {
            for (int l=n; l>=1; l--)
                for (int r=l; r<=n; r++) {
                        f[l][r]=max( max(p[r][a[l][j]],p[l][a[r][j]]) , max(f[l+1][r],f[l][r-1]) );
                        if (l<r && a[l][j]==a[r][j]) f[l][r]=j;
                        d[l][r]=max(d[l][r],f[l][r]);
                        ans=max(ans,(r-l+1)*(j-d[l][r]));
                }
            rep(i,1,n+1) p[i][a[i][j]]=j;
    }
    cout<<ans<<endl;
    return 0;
}
