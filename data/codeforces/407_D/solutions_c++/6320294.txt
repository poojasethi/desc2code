#include<cstdio>

const int N=405;

void upmax(int &v,int x){if(x>v)v=x;}
int up[N*N][N];
int a[N][N],n,m,f[N][N];

int main(){
  scanf("%d%d",&n,&m);
  for(int i=1;i<=n;i++) 
    for(int j=1;j<=m;j++)
      scanf("%d",&a[i][j]);
  int ans=0;    
  for(int i=1;i<=n;i++){
    for(int j=1;j<=m;j++)
      upmax(f[j][j],up[a[i][j]][j]),    
      upmax(up[a[i][j]][j],i);
    for(int j=1;j<m;j++)
      for(int k=j+1;k<=m;k++)
         upmax(f[j][k],up[a[i][j]][k]),
         upmax(f[j][k],up[a[i][k]][j]);
    for(int j=m-1;j>=1;j--)
      for(int k=j+1;k<=m;k++)
        upmax(f[j][k],f[j+1][k]),
        upmax(f[j][k],f[j][k-1]);
    for(int j=1;j<=m;j++)
      for(int k=j;k<=m;k++)
        upmax(ans,(k-j+1)*(i-f[j][k]));         
  }
  printf("%d\n",ans);  
}
