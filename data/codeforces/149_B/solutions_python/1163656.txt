h,m=raw_input().split(':')
digits ='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'
t = []

def val(x,r):
  res=0
  for i in range(len(x)):
    res *= r
    res += digits.find(x[i])
  return res
  
for radix in range(1,100):
  ok = True
  for d in h+m:
    ok &= d in digits[:radix]
  if ok:
    if val(h,radix)<24 and val(m,radix)<60:
      t.append(radix)
if len(t)==0:
  print 0
elif 99 in t:
  print -1
else:
  for r in t:
    print r,
  print
