def conv(s,b):
	x=0
	for c in s:
		v=0
		if c.isdigit():
			v=ord(c)-ord("0")
		else:
			v=ord(c)-ord("A")+10;
		if v>=b:
			return -1;
		x=x*b+v;
	return x;
s1,s2=raw_input().split(":")
c1=conv(s1,500)
c2=conv(s2,500)
if c1>=0 and c1 <= 23 and c2>=0 and c2<=59:
	print -1
	exit(0);
l=[]
for i in xrange(2,1000):
	c1=conv(s1,i)
	c2=conv(s2,i)
	if c1>=0 and c1 <= 23 and c2>=0 and c2<=59:
		l.append(i);
if len(l)==0:
	print 0
else:
	for i in l:
		print i,
	print

