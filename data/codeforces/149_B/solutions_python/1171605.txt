h, m = raw_input().split(':')

def conv(s, b):
    if not s: return 0
    if b <= 36: return int(s, b)
    return conv(s[:-1], b) * b + int(s[-1], 36)

def judge(k):
    try: a, b = conv(h, k) < 24, conv(m, k) < 60
    except ValueError: return False
    return a and b

res = filter(judge, range(2, 61))
if not res: print 0
elif res[-1] == 60: print -1
else: print ' '.join(map(str, res))
