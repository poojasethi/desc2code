def ltn(c):
    if '0'<=c<='9':
        return ord(c)-ord('0')
    else:
        return ord(c)-ord('A')+10
def stn(s,rad):
    retv=0
    for i in s:
        retv=retv*rad+ltn(i)
    return retv

s1,s2=raw_input().split(':')
mnum=ltn(max(s1+s2))+1
if (stn(s1,mnum)>=24 or stn(s2,mnum)>=60):
    print 0
else:
    if s1[-2::-1]=='0'*(len(s1)-1) and s2[-2::-1]=='0'*(len(s2)-1):
        print -1
    else:
        while stn(s1,mnum)<24 and stn(s2,mnum)<60:
            print mnum,
            mnum+=1