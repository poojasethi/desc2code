#!/usr/bin.python
aa,bb=raw_input().split(':')

def digit(char):
    if char<'A':
        return int(char)
    else:
        return ord(char)-55

def cal(s,radix):
    if len(s)==1:
        return digit(s)
    return reduce(lambda a,b: digit(a)*radix+digit(b), s)

a=map(digit,aa)
b=map(digit,bb)

rad=max(max(a),max(b))+1
if rad==1:
    rad=2

if cal(aa,rad)>24 or cal(bb,rad)>60:
    print 0
else:
    if cal(aa,rad)<rad and cal(bb,rad)<rad:
        print -1
    else:
        i=0
        while cal(aa,rad)<24 and cal(bb,rad)<60:
            print rad,
            rad+=1