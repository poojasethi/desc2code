#include <iostream>
#include <cstdlib>
#include <queue>
#include <set>
#include <map>
#include <algorithm>
#include <vector>
#include <string>

#define For(i,a,n) for(int i = a ; i < n ; ++i )
#define n(x) (int)x.size()
#define pb(i) push_back(i)
#define all(x) x.begin(),x.end()

using namespace std;
string kol;
string h,m;
vector<int> ans;

int tod(char ch)
{
	if (ch < '9'+1 && ch >= '0')
		return ch-'0';
	return ch-'A'+10;
}
int num(string s,int base)
{
	int sss=0;
	int dti;
	For(i,0,n(s))
	{
		dti = tod(s[i]);
		if(dti >= base)
			return 60;
		sss*=base;
		sss+=dti;
		if(sss > 60)
			return 60;
	}
	return sss;
}

int main()
{
	cin >> kol;
	int ind = kol.find_first_of(":");
	h = kol.substr(0,ind);
	m = kol.substr(ind+1);
	For(i,1,62)
		if(num(h,i) < 24&& num(m,i) < 60)
			ans.pb(i);
	if(ans.empty())
	{
		cout << 0 << endl;
		return 0;
	}
	if(ans.back() > 60)
	{
		cout << -1 << endl;
		return 0;
	}
	For(i,0,n(ans))
		cout << ans[i] << " ";
	cout << endl;
	return 0;
}
