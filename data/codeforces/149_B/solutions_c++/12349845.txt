#include<bits/stdc++.h>
using namespace std;
char a[55];
int valid(int m)
{
//	printf("in base %d it is \n",m);
	int h,mi;
	h = mi = 0;
	int i;
	for(i=0;a[i]!=':';i++)
	{
		int cur;
		if(a[i]>='0' && a[i]<='9')cur = a[i] - '0';
		else cur = a[i]-'A' + 10;
		if(cur >=m)return 0;
		h = h*m + cur;
	}
//	printf("%d hour \n",h);
	if(h>23)return 0;
	for(i++;a[i];i++)
	{
		int cur ;
		if(a[i]>='0' && a[i]<='9')cur = a[i]-'0';
		else cur = a[i]-'A' + 10;
		if(cur>=m)return 0;
		mi = mi*m + cur;
	}
//	printf("%d minute\n",mi);
	if(mi > 59)return 0;
	return 1;
	
}
int main()
{
	int i;
while(scanf("%s",&a)==1){
vector<int> v;
for(i=2;i<=63;i++)
{
	if(valid(i))
	v.push_back(i);
}

int n = v.size();
if(n)
{
	if(v[n-1]==63)printf("-1\n");
	else for(i=0;i<n;i++)
	printf("%d ",v[i]);
	printf("\n");
}
else printf("0\n");
}
}