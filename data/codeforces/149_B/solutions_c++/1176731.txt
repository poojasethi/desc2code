#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int n,m,a[10],b[10],ans,out[70];
char ch[20];
bool check(int num){
    for(int i=1;i<=n;++i)if(a[i]>=num)return 0;
    for(int i=1;i<=m;++i)if(b[i]>=num)return 0;
    int res=0;
    for(int i=1;i<=n;++i){
        res=res*num+a[i];
        if(res>=24)return 0;
    }
    res=0;
    for(int i=1;i<=m;++i){
        res=res*num+b[i];
        if(res>=60)return 0;
    }
    return 1;
}
int main(){
    scanf("%s",ch);
    int l=strlen(ch),i;
    for(i=0;ch[i]!=':';++i);
    n=i;m=l-i-1;
    for(int j=0;j<i;++j)a[j+1]=(ch[j]>='A'&&ch[j]<='Z'?ch[j]-'A'+10:ch[j]-'0');
    for(int j=i+1;j<l;++j)b[j-i]=(ch[j]>='A'&&ch[j]<='Z'?ch[j]-'A'+10:ch[j]-'0');
    if(check(61))printf("-1");
    else{
        for(int i=1;i<=60;++i)
            if(check(i))out[++ans]=i;
        if(ans)for(int i=1;i<=ans;++i)printf("%d ",out[i]);
        else printf("0\n");
    }
    return 0;
}
