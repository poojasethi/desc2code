#include "stdio.h"
#include "string.h"

char s[1024];

inline int c2i(char c)
{
	if(c >= 'A')
		return c - 'A' + 10;
	return c - '0';
}

int s2d(char *s, int b)
{
	int r = 0;
	for(; *s; s ++)
	{
		int k = c2i(*s);
		if(k >= b)
			return -1;
		r = r * b + k;
	}
	return r;
}

bool onebit(char *s)
{
	while(*s == '0')
		s ++;
	return !*s || !*(s + 1);
}

int main()
{
	bool b = false;
	gets(s);
	char *p = strchr(s, ':');
	*(p ++) = '\0';
	if(onebit(p) && onebit(s))
	{
		if(c2i(s[strlen(s) - 1]) > 23)
			printf("0\n");
		else
			printf("-1\n");
		return 0;
	}
	for(int i = 2; i <= 99; i ++)
	{
		int h = s2d(s, i), m = s2d(p, i);
		if(h >= 0 && h <= 23 && m >= 0 && m <= 59)
		{
			printf(b ? " %d" : "%d", i);
			b = true;
		}
	}
	if(!b)
		printf("0");
	printf("\n");
	return 0;
}

