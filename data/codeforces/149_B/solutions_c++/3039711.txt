
#include <iostream>
#include <cstdlib>
#include <cstring>
#include <cstdio>
#include <algorithm>
#include <cmath>
#include <vector>
#include <queue>
#define FOR(it,c) for ( __typeof((c).begin()) it=(c).begin(); it!=(c).end(); it++ )

typedef long long int LL;

using namespace std;

char *h,*d;
char c[100];
int hl,dl;
int ans[100],an;

void input(){
	scanf("%s",c);
	int l=0;
	while(c[l]!=':')l++;
	c[l]=0;
	h=c;
	d=c+l+1;
}
bool good(char* r,int l,int th,int k){
	LL ans=0;
	int ad;
	for(int i=0; i<l; i++){
		if('0'<=r[i] && r[i]<='9')ad=r[i]-'0';
		else ad=r[i]-'A'+10;
		if(ad>=k)return false;
		ans=ans*k + ad; 
		if(ans>=th)return false;
	}
	return true;
}
void solve(){
	hl = strlen(h);
	dl = strlen(d);
	an=0;
	for(int i=2;i<=61;i++){
		if(good(h,hl,24,i) && good(d,dl,60,i)) ans[an++]=i;
	}
	if(an==0)printf("0\n");
	else if(ans[an-1]==61)printf("-1\n");
	else {
		for(int i=0;i<an;i++)printf("%d%c",ans[i],i==an-1?'\n':' ');
	}
}
int main(){

	input();
	solve();

	return 0;
}
