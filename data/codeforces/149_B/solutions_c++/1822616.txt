#include <iostream>
#include <string>
using namespace std;
int i=1,ma=0,j,ans=0,a[111];
string s;
int o(char c)
{
	if ((c>='0')&&(c<='9'))
		return c-'0';
	else return c-'A'+10;
}
int main()
{
	getline(cin,s);
	while ((s[0]=='0')&&(s[1]!=':'))
		s.erase(0,1);
	while (s[i-1]!=':') i++;
	while ((s[i]=='0')&&(i+1<s.size()))
		s.erase(i,1);
	for(i=0;i<s.size();i++)
		if ((s[i]!=':')&&(o(s[i])>ma))
			ma=o(s[i]);
	for(i=ma+1;i<100;i++)
	{
		int x=0,y=0;
		for(j=0;s[j]!=':';j++)
		{
			x=x*i+o(s[j]);
			if (x>23) break;
		}
		for(j++;j<s.size();j++)
		{
			y=y*i+o(s[j]);
			if (y>59) break;
		}
		if ((x<24)&&(y<60))
		{
			a[ans]=i;
			if (i==99)
			{
				cout<<-1<<endl;
				return 0;
			}
			ans++;
		}
	}
	if (ans==0)
		cout<<0<<endl;
	for(i=0;i<ans;i++)
		cout<<a[i]<<" ";
	return 0;
}