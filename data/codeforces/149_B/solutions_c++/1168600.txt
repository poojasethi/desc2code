#include<iostream>
#include<vector>
using namespace std;
vector<int> v;
int main()
{
int i,j,k=0,x,y;
string s;
cin>>s;
for(i=0;i<s.length();i++)
{
if(s[i]==':');
else if(s[i]>='0' && s[i]<='9') k=max(k,s[i]-'0');
else k=max(k,s[i]-'A'+10);
}
while(1)
{
k++;
x=y=0;
for(i=0;s[i]!=':';i++)
{
x=x*k;
if(x>23) break;
if(s[i]>='0' && s[i]<='9') x+=s[i]-'0';
else x+=s[i]-'A'+10;
}
for(i=i+1;i<s.length();i++)
{
y=y*k;
if(y>59) break;
if(s[i]>='0' && s[i]<='9') y+=s[i]-'0';
else y+=s[i]-'A'+10;
}
if(x>=0 && x<24 && y>=0 && y<60) v.push_back(k);
else if(k>10000) break;
if(v.size()>10000)
{
cout<<-1;
return 0;
}
}
for(i=0;i<v.size();i++) cout<<v[i]<<" ";
if(!v.size()) cout<<0;
return 0;
}