#include <cstdio>
char a[10],b[10];
int i,c1,c2;
char c;

int nr (char a[10],int bs) {
int sol=0,p=1,i;

for (i=a[0];i>=1;i--,p*=bs) {
	if (a[i]>='0'&& a[i]<='9') {
		if (a[i]-'0'>=bs) return -1;
		sol=sol+(a[i]-'0')*p;
		}
	else {
		if (a[i]-'A'+10>=bs) return -1;
		sol=sol+(a[i]-'A'+10)*p;
		}
	}
return sol;
}

int main() {

a[0]=0;
b[0]=0;

scanf("%c",&c);
while (c!=':') {
	a[++a[0]]=c;
	scanf("%c",&c);
	}
scanf("%c",&c);
while ( (c>='0' && c<='9') || (c>='A' && c<='Z')) {
	b[++b[0]]=c;
	scanf("%c",&c);
	}

c1=nr(a,65); 
c2=nr(b,65);
if (c1>=0 && c1<=23 && c2>=0 && c2<=60) {
	printf("-1");
	return 0;
	}
int ok;
for (i=2,ok=0;i<=60;i++) {
	c1=nr(a,i); c2=nr(b,i);
	if (c1>=0 && c1<=23 && c2>=0 && c2<=59) {
		printf("%d ",i);
		ok=1;
		}
	}

if(ok==0) 
	printf("0");
return 0;
}