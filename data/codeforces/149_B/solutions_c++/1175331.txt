#include <iostream>
#include <cstring>
#include <stdio.h>

using namespace std;
int per(string s, int q)
{
 int a=0;
 for (int i=0; i<s.size();i++)
     a=a*q+ ((s[i]>='0'&&s[i]<='9')  ? (s[i]-'0') :(s[i]-'A'+10));
 return a;
}


int main()
{ string s,s1,s2;
 int q=1;
 cin>>s;
  for (int i=0; i<s.size();i++)
  { int q1;
  if (s[i]!=':')
   if (s[i]>='0'&&s[i]<='9') q1=s[i]-'0'; else q1=s[i]-'A'+10;
   q=max(q,q1);
  }
 q++;

int i=s.find(':');
s1=s.substr(0,i);
s.erase(0,i+1);
s2=s;
while(s1[0]=='0') s1.erase(0,1);
while(s2[0]=='0') s2.erase(0,1);

if(per(s1,q)<=23&&s1.size()<=1&&s2.size()<=1) {cout<<"-1"; return 0;}
if(per(s1,q)>23||per(s2,q)>59) {cout<<"0"; return 0;}

while (per(s1,q)<=23&&per(s2,q)<=59) 
{
   cout<<q<<" ";q++;
}
  return 0;
 }
