#include <iostream>
#include <cstdio>
#include <string>
#include <vector>
using namespace std;

int conv(string s, int base) {
    int res = 0, tmp;
    for (int i = 0; i < s.size(); ++i) {
        tmp = (s[i] >= '0' && s[i] <= '9') ? (s[i] - '0') : (s[i] - 'A' + 10);
        if (tmp >= base) return 100;
        res = res * base + tmp;
        if (res > 100) return 100;
    }
    return res;
}

int main () {
    string s, s1, s2;
    int i;
    size_t f;
    vector<int> v;
    cin >> s;
    f = s.find(":", 0);
    s1 = s.substr(0, f);
    s2 = s.substr(f+1);
    for (i = 2; i < 1000; ++i)
        if (conv(s1, i) < 24 && conv(s2, i) < 60)
            v.push_back(i);
    if (v.size() == 0)
        cout << 0;
    else if (v.size() >= 100)
        cout << -1;
    else
        for (i = 0; i < v.size(); ++i)
            cout << v[i] << " ";
    return 0;
}
