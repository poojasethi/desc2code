#include <iostream>
#include <algorithm>
#include <string>
#include <vector>
#include <cmath>
#include <fstream>

using namespace std;
vector<int> v;

int F(string s,int k)
{
	int i,t=0;
	int kk=1;
	int n=s.size();
	for(i=n-1;i>=0;i--)
	{
		if(s[i] >= '0' && s[i] <= '9') t+=(s[i]-'0')*kk;
		else t+=(s[i]-'A'+10)*kk;
		kk*=k;
	}
	return t;
}

int main()
{
	string s,ss,sss;
	cin >> s;
	int i,n=s.size(),m=0;
	bool flag=false;
	for(i=0;i<n;i++)
	{
		if(s[i] == ':'){ flag=true; continue;}
		if(s[i] >= '0' && s[i] <= '9') {if(s[i]-'0' > m) m=s[i]-'0';}
		else if(s[i]-'A'+10 > m) m=s[i]-'A'+10;
		if(!flag) ss+=s[i];
		else sss+=s[i];
	}
	int a;
	flag=false;
	for(i=m+1;i<=100;i++)
	{
		a=F(ss,i);
		if(a>23){ flag=true;break;}
		a=F(sss,i);
		if(a>59) {flag=true;break;}
		v.push_back(i);
	}
	if(!v.size())
	{
		cout << "0" << endl;
	}
	else if(v.size() && !flag)
	{
		cout << "-1" << endl;
	}
	else
	{
		for(i=0;i<v.size();i++) cout << v[i] << " ";
		cout << endl;
	}
	return 0;
}
