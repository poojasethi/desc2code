#include<iostream>
#include<string>
#include<vector>
using namespace std;
vector<int>v;
int getnum(string s,int b)
 {
 int i,j=0,k;
 for( i=0;i<s.size();i++)
    {
    if(s[i]>='0'&& s[i]<='9')
    k=s[i]-'0';
    else
    k=s[i]-'A'+10;
    if(k>=b)
     return 61;
    j*=b;
    j+=k;
    if(j>60)
    return 61;
    }
    return j;
 }

int main()
{
string s,a,b;
cin>>s;

 a=s.substr(0,s.find(":"));
 b=s.substr(s.find(":")+1);

 for(int i=2;i<200;i++)
   if(getnum(a,i)<24 && getnum(b,i)<60)
    v.push_back(i);
  if(v.size()==0)
  cout<<"0";
  else if(v.size()> 100)
  cout<<"-1";
  else
  for(int i=0;i<v.size();i++)
  cout<<v[i]<<" ";
}
