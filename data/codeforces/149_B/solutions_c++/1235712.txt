#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
using namespace std;

char a[1005], b[1005];

int parse(char *s, int base) {
    int v=0;
    for(int i=0;s[i];i++) {
        int t=s[i];
        if(s[i]<='9') t -= '0';
        if(s[i]>='A') t = t-'A'+10;
        if(base <= t) return -1;
        v = v * base + t;
    }
    return v;
}

int main(void) {
    scanf("%[^:]:%s", a, b);
    vector<int> r;
    for(int i=2;i<=120;i++) {
        int h = parse(a, i);
        int m = parse(b, i);
        if(h<0 || m<0) continue;
        if(h<24 && m<60) { r.push_back(i); }
    }
    if(r.empty()) puts("0");
    else if(r.back()>=60) puts("-1");
    else {
        for(int i=0;i<(int)r.size();i++) printf("%d ", r[i]);
        puts("");
    }
    return 0;
}