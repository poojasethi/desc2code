#include<cstdio>
#include<cstring>
char s[100];
int i,j,S,l,k,Min,b[10],f[100],c[200];
int main()
{
	gets(s);
	l=strlen(s);
	for(i='0';i<='9';i++) c[i]=i-'0';
	for(i='A';i<='Z';i++) c[i]=i-'A'+10;
	Min=2;
	for(i=0;i<l;i++) if(s[j]!=':'&&c[s[i]]+1>Min) Min=c[s[i]]+1;
	for(i=Min;i<=60;i++)
	{
		b[0]=b[1]=0,k=0;
		for(j=0;j<l;j++)
		{
			if(s[j]==':') k++;
			else b[k]=b[k]*i+c[s[j]];
		}
		if(b[0]<24&&b[1]<60)
			S++,f[i]=1;
	}
	if(S==0) printf("0\n");
	else if(S==61-Min) printf("-1\n");
		else
		{
			for(i=2;i<=60;i++)
				if(f[i])
				{
					S--;
					if(S) printf("%d ",i);
					else printf("%d\n",i);
				}
		}
	return 0;
}
