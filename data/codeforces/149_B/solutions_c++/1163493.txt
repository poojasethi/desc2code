#include <stdio.h>
#include <algorithm>
#include <string>
#include <iostream>
#include <vector>
using namespace std;

vector<int> v;


int getnum(string A,int b)
{
	int i,j=0,k;
	
	for (i=0;i<A.size();i++)
	{
		if (A[i]<='9') k=A[i]-'0';
		else k=A[i]-'A'+10;
		if (k>=b) return 61;
		
		j*=b;
		j+=k;
		if (j>60) return 61;
	}
	return j;
}

main()
{
	int i,j,k;
	
	string S;
	string A,B;
	
	cin >> S;
	
	A=S.substr(0,S.find(":"));
	B=S.substr(S.find(":")+1);
	for (i=2;i<=200;i++)
		if (getnum(A,i)<24 && getnum(B,i)<60)
			v.push_back(i);
	
	if (v.size()==0) printf("0\n");
	else if (v.size()>100) printf("-1\n");
	else
		for (i=0;i<v.size();i++)
			printf("%d%c",v[i],i==v.size()-1 ? '\n' : ' ');
}
