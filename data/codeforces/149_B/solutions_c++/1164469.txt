#include <cstdio>
#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <set>
#include <queue>
#include <vector>
#include <map>
#include <cmath>
#include <ctime>
using namespace std;

#define MP make_pair
#define lch(n) ((n)<<1)
#define rch(n) (((n)<<1)+1)
#define N 10005

int n,k,num;
char a[N];
int b[N];
int main() {
	gets(a);n=strlen(a);
	for (int i=0;i<n;i++) 
	if (a[i]==':') k=i;else {
		if (a[i]>='0' && a[i]<='9') b[i]=a[i]-'0';
		else b[i]=a[i]-'A'+10;
		num=max(num,b[i]);
	}
	int ans=0;
	for (int i=num+1;i<=100;i++) {
		int k1=0,k2=0;
		bool yes=1;
		for (int j=0;j<k;j++) {
			k1=k1*i+b[j];
			if (k1>=24) yes=0;
		}
		for (int j=k+1;j<n;j++) {
			k2=k2*i+b[j];
			if (k2>=60) yes=0;
		}
		if (!yes) break;
		ans=i;
	}
	if (ans==100) puts("-1");else {
		if (!ans) 
		printf("%d\n",ans);
		else for (int i=num+1;i<=ans;i++) printf("%d ",i);
	}
	return 0;
}
			




	
