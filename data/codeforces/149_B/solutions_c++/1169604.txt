#include <cstdio>
#include <iostream>
#include <algorithm>
#include <map>
#include <string> 
#include <vector>
#define rep(i,n) for(i=0;i<n;i++)
#define show(n) {cout<<mostrar[0];for(int i=1;i<n;i++)cout<<" "<<mostrar[i];} 

using namespace std;
int main(){
string c,a,b;
int i,j,n1,n2,camb,camb1,pos,bas,monto,k;
int lista[100];
for(i='0';i<='9';i++)lista[i]=i-'0';
for(i='A';i<='Z';i++)lista[i]=i-'A'+10;

double monto1,monto2;
vector <int> cad1;
vector <int> cad2;
vector <int> mostrar;
getline(cin,c);
pos=c.find(":");
a=c.substr(0,pos);
b=c.substr(pos+1,c.length());
for(i=2;i<=60;i++){
    n1=0;for(j=0;j<a.size();j++){n1=n1*i+lista[a[j]];if(lista[a[j]]>=i){n1=24;break;}}
    n2=0;for(j=0;j<b.size();j++){n2=n2*i+lista[b[j]];if(lista[b[j]]>=i){n2=60;break;}}
    if(n1<24 && n2<60)mostrar.push_back(i);
}
if(!mostrar.size())cout<<0<<endl;
else if(!(mostrar.back()-60))cout<<-1<<endl;
else {
    show(mostrar.size());
}

return 0;
}