#include<stdio.h>
#include<string.h>
#include<algorithm>
using namespace std;
int f(char x){
	if(x>='A')return x-'A'+10;
	return x-'0';
	}
int get(char *a,int up){
	int i,len=strlen(a);
	int res=0;
	for(i=0;i<len;i++){
		res*=up;
		res+=f(a[i]);
		}
	return res;
	}
int main(){
	char s[999],a[999],b[999];
	while(scanf("%s",s)!=EOF){
		int i,j;
		for(i=0;i<strlen(s);i++)if(s[i]==':')s[i]=' ';
		sscanf(s,"%s%s",a,b);
		int lena=strlen(a),lenb=strlen(b);
		int up=2;
		for(i=0;i<lena;i++)up=max(up,f(a[i])+1);
		for(i=0;i<lenb;i++)up=max(up,f(b[i])+1);
		if(get(a,up)>=24)	{printf("0\n");continue;}
		if(get(b,up)>=60)	{printf("0\n");continue;}
		int flag0=1;
		for(i=0;i<lena-1;i++)if(a[i]!='0')flag0=0;
		for(i=0;i<lenb-1;i++)if(b[i]!='0')flag0=0;
		if(flag0)			{printf("-1\n");continue;}
		for(i=up;;i++){
			if(get(a,i)<24&&get(b,i)<60)printf("%d ",i);
			else break;
			}
		printf("\n");
		}
	return 0;
	}

 	 			 	  		  			 	 	 		 	