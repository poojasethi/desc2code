#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;
char a[1000];
int n,m,ans[1000];
int getnum(char c)
{
	if (c>='0' && c<='9') return c-'0';
	else if (c>='A' && c<='Z') return c-'A'+10;
}
int main()
{
	scanf("%s",a);
	n=strlen(a);
	for (int i=1;i<=70;++i)
	{
		int x=0,y=0,j=0;
		for (;a[j]!=':';++j)
		{
			if (getnum(a[j])>=i) x=44;
			else x=x*i+getnum(a[j]);
		}
		j++;
		for (;j<n;++j)
		{
			if (getnum(a[j])>=i) y=77;
			else y=y*i+getnum(a[j]);
		}
		if (x>=0 && x<=23 && y>=0 && y<=59) 
			ans[++ans[0]]=i;
	}
	if (ans[ans[0]]==70) cout<<-1;
	else if (ans[0]==0) cout<<0;
	else for (int i=1;i<=ans[0];++i) cout<<ans[i]<<" ";
	cout<<endl;
	return 0;
}
