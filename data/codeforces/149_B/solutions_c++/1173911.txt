#include <iostream>
#include <algorithm>
#include <stdio.h>
using namespace std;
int per(string s, int g)
{
 int a=0;
 for (int i=0;i<s.size();i++)
    a=a*g+(s[i]>='0'&&s[i]<='9'? s[i]-'0':s[i]-'A'+10);
  return a;
}
int main()
{ string s1,s2;
 cin>>s2;
int g=1;
for (int i=0; i<s2.size();i++)
 {
   int g1;
   if (s2[i]!=':')
   if (s2[i]>='0'&&s2[i]<='9') g1=s2[i]-'0'; else g1=s2[i]-'A'+10;
   g=max(g,g1);
 }
 g++;
 int i=s2.find(':');
 s1=s2.substr(0,i);
 s2.erase(0,i+1);
while (s1[0]=='0') s1.erase(0,1);
while (s2[0]=='0') s2.erase(0,1);
if (s1.size()<=1&&s2.size()<=1&&per(s1,g)<=23&&per(s1,g)<=59) {cout<<"-1"; return 0;}
if (per(s1,g)>23|| per(s2,g)>59) {cout<<0; return 0;}
 else
  { cout<<g<<" ";
    g++;
    while (per(s1,g)<=23&& per(s2,g)<=59) {cout<<g<<" ";g++;}
  }
return 0;
}
