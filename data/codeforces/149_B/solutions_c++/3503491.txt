#include<stdio.h>
#include<string.h>
bool f(char *x,char *y,int n)
{
	int i,m=0,len,term;
	len=strlen(x);
	for(i=0;i<len;i++)
	{
		if(x[i]<='9')term=x[i]-'0';
		else term=x[i]-'A'+10;
		if(term>=n)return false;
		m=m*n+term;
	}
	if(m>=24)return false;
	len=strlen(y);
	
	m=0;
	for(i=0;i<len;i++)
	{
		if(y[i]<='9')term=y[i]-'0';
		else term=y[i]-'A'+10;
		if(term>=n)return false;
		m=m*n+term;
	}
	if(m>=60)return false;
	return true;
}
int main()
{
	int q,i;
	char str1[15],str2[10];
	scanf("%s",str1);
	for(i=0;str1[i]!=':';i++);
	sscanf(str1+i+1,"%s",str2);
	str1[i]='\0';
	if(f(str1,str2,60))
	{
		printf("%d\n",-1);
		return(0);
	}
	for(i=2,q=0;i<60;i++)
	{
		if(f(str1,str2,i))
		{
			if(q==0)printf("%d",i);
			else printf(" %d",i);
			q=1;
		}
	}
	if(q==0)printf("0\n");
	else printf("\n");
	return(0);
}
 					  		   	 			 			 	 	