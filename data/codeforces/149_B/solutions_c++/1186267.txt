#include<cstdio>
#include<cstring>
#include<cctype>
#include<iostream>
#include<string>
using  namespace  std;
int ck(string x,int b){
	int res=0;
	for(int i =0 ;i<x.size();i++)
	{
		int d=isdigit(x[i])?x[i]-'0':x[i]-'A'+10;
		if(d>=b)return -1;
		res*=b; res+=d;
	}
	return res;
}
void run()
{
	string in, a, b;
	cin>>in;
	int p=in.find(":");
	a=in.substr(0,p); b=in.substr(p+1);
	bool infi=0, any=0;
	if(ck(a,100)==ck(a,99)&&ck(b,100)==ck(b,99))infi=1;
	for(int i=2;i<=70;i++){
		if(0<=ck(a,i)&&ck(a,i)<=23&&0<=ck(b,i)&&ck(b,i)<=59){
			if(infi){
				cout<<-1<<endl;
				return;
			}
			if(any)cout<<" ";
			cout<<i;
			any=1;
		}
	}
	if(!any)cout<<0;
	cout<<endl;
}
int  main()
{    run();
     return   0;
}
