#include<bits/stdc++.h>

#define FI(i,a,b) for(int i=(a);i<=(b);i++)
#define FD(i,a,b) for(int i=(a);i>=(b);i--)

#define LL long long

using namespace std;

int n,a[6],b[6],ta,tb,len,p;

char s[19];

int tr(char x){
  if(x<='9') return x-'0';
  else return x-'A'+10;
}

vector<int> res;

bool ok(int bb){
  FI(i,0,ta-1) if(a[i]>=bb) return false;
  FI(i,0,tb-1) if(b[i]>=bb) return false;
  LL ca=0,cb=0,r;
  r=1;
  FD(i,ta-1,0) ca+=r*a[i],r*=bb;
  r=1;
  FD(i,tb-1,0) cb+=r*b[i],r*=bb;
  return ca<24 && cb<60;
}
int main(){
  scanf("%s",s);
  len=strlen(s);
  FI(i,0,len-1){
    if(s[i]==':'){
      p=i;
      break;
    }
    a[ta++]=tr(s[i]);
  }
  FI(i,p+1,len-1) b[tb++]=tr(s[i]);
  FI(i,2,100) if(ok(i)) res.push_back(i);
  if(res.size()==0) printf("0\n");
  else if(res.size()>60) printf("-1\n");
  else{
    FI(i,0,res.size()-1) printf("%d%c",res[i],i==res.size()-1?'\n':' ');
  }
  return 0;
}