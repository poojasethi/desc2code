#include <stdio.h>
#include <memory.h>
int min(int a,int b){
    if (a<b)
        return a;
    return b;
}
int dist[60][60];
int MAX[100];
int MIN[100];
long long f[60][60];//33
int a;
int main(){
    int n,m;
    scanf("%d%d",&n,&m);
    memset(dist,50,sizeof(dist));
    for (int i=0;i<m;i++){
        int v,u,c;
        scanf("%d%d%d",&v,&u,&c);
        dist[v-1][u-1]=c;
        dist[u-1][v-1]=c;
        dist[v-1][v-1]=0;
        dist[u-1][u-1]=0;
        
    }
    int g1,g2,s1,s2;
    scanf("%d%d%d%d",&g1,&g2,&s1,&s2);
    for (int k=0;k<n;k++)
        for (int i=0;i<n;i++)
            for (int j=0;j<n;j++)
                dist[i][j]=min(dist[i][j],dist[i][k]+dist[k][j]);
    for (int i=0;i<n;i++)
        for (int j=0;j<n;j++)
            dist[i][j]=dist[i][j]*100+i;
    for (int i=0;i<n;i++)
        for (int j=0;j<n;j++)
            for (int k=j+1;k<n;k++)
                if (dist[i][j]>dist[i][k])
                {
                    int t=dist[i][j];
                    dist[i][j]=dist[i][k];
                    dist[i][k]=t;
                }
    for (int i=0;i<n;i++)
        for (int j=0;j<n-1;j++)
            dist[i][j]=dist[i][j+1];
    for (int i=0;i<n;i++)
    {
        MAX[i]=dist[i][n-1];
        MIN[i]=dist[i][0];
    }  
    long long rez=0;
    int g[60],b[60],s[60];
    for (int A=0;A<n;A++)
        for (int B=0;B<n;B++)
            if (A!=B&&MIN[A]<MAX[B])
        {
                for (int i=0;i<n;i++)
                    g[i]=b[i]=s[i]=0;
                for (int i=0;i<n;i++)
                    if (MIN[i]<MIN[A])
                        g[i]=1;
                for (int i=0;i<n;i++)
                    if (MAX[i]>MAX[B])
                        b[i]=1;
                for (int i=0;i<n;i++)
                    for (int j=0;j<n-1;j++)
                        if (dist[i][j]>MIN[A]&&dist[i][j]<MAX[B])
                            s[i]=1;
                    g[A]=1;
                    b[A]=s[A]=0;
                    g[B]=0;
                    s[B]=0;
                    b[B]=1;
                    memset(f,0,sizeof(f));
                    f[0][0]=1;
                    for (int k=0;k<n;k++)
                        for (int i=n;i>=0;i--)
                            for (int j=n;j>=0;j--){
                                if (g[k])
                                    f[i+1][j]+=f[i][j];
                                if (s[k])
                                    f[i][j+1]+=f[i][j];
                                if (!b[k])
                                    f[i][j]=0;
                                
                            }
                     for (int i=g1;i<=g2;i++)
                         for (int j=s1;j<=s2;j++)
                             rez+=f[i][j];
        }
    printf("%lld",rez);
}