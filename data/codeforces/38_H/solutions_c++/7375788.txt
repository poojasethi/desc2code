#include<cstdio>
#include<algorithm>
using namespace std;
int dis[51][51],n,m,lo[51],hi[51],g[51],s[51],b[51],g1,g2,s1,s2;
long long dp[52][52],ans;
int main(){
    scanf("%d%d",&n,&m);    
    for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
            dis[i][j] = (i == j ? 0 : 1e7);
    for(int i=0;i<m;i++){
        int a,b,c;
        scanf("%d%d%d",&a,&b,&c);
        dis[a][b] = dis[b][a] = min(dis[a][b],c);
    }
    scanf("%d%d%d%d",&g1,&g2,&s1,&s2);
    for(int k=1;k<=n;k++)
        for(int i=1;i<=n;i++)
            for(int j=1;j<=n;j++)
                dis[i][j] = min(dis[i][j],dis[i][k]+dis[k][j]);
    for(int i=1;i<=n;i++){
        lo[i] = 1e7; hi[i] = 0;
        for(int j=1;j<=n;j++)
            if(i != j){
                dis[i][j] = dis[i][j]*100+i;
                lo[i] = min(lo[i],dis[i][j]);
                hi[i] = max(hi[i],dis[i][j]);
            }
    }
    for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
            if(i != j && lo[i] < hi[j]){
                for(int k=1;k<=n;k++)
                    g[k] = s[k] = b[k] = 0;
                for(int r1=1;r1<=n;r1++)
                    for(int r2=1;r2<=n;r2++)
                        if(r1 != r2){
                            if(dis[r1][r2] < lo[i]) g[r1] = 1;
                            else if(dis[r1][r2] > hi[j]) b[r1] = 1;
                            else s[r1] = 1;
                        }
                g[i] = 1, s[i] = b[i] = 0;
                b[j] = 1, g[j] = s[j] = 0;
                for(int r1=0;r1<=g2;r1++)
                    for(int r2=0;r2<=s2;r2++)
                        dp[r1][r2] = 0ll;
                dp[0][0] = 1ll;
                for(int r1=1;r1<=n;r1++)
                    for(int r2=g2;r2>=0;r2--)
                        for(int r3=s2;r3>=0;r3--){
                            if(g[r1]) dp[r2+1][r3] += dp[r2][r3];
                            if(s[r1]) dp[r2][r3+1] += dp[r2][r3];
                            if(!b[r1]) dp[r2][r3] = 0;
                        }
                for(int r1=g1;r1<=g2;r1++)
                    for(int r2=s1;r2<=s2;r2++)
                        ans += dp[r1][r2];
            }
    printf("%I64d\n",ans);
    return 0;
}