
// Program  :  School Personal Contest #1 (WSC 2010/11) Problem H

#include <algorithm>
#include <cstring>
#include <cstdio>

using namespace std;

const int inf = 1000000000;

int dist[51][51], minv[51], maxv[51];
bool chk_g[51], chk_s[51], chk_b[51];
long long f[51][51][51];

int main()
  {
    int n, m, i, j, k, g, b, g1, g2, s1, s2, a, w;
    long long ans = 0;
    
    //freopen("input.txt", "r", stdin);
    //freopen("output.txt", "w", stdout);
    
    scanf("%d%d", &n, &m);
    for (i = 1; i <= n; i ++)
      for (j = 1; j <= n; j ++)
        dist[i][j] = inf;
    for (i = 1; i <= m; i ++)
      {
        scanf("%d%d%d", &a, &b, &w);
        dist[a][b] = min(dist[a][b], w);
        dist[b][a] = min(dist[b][a], w);
      }
    scanf("%d%d%d%d", &g1, &g2, &s1, &s2);
    
    for (k = 1; k <= n; k ++)
      for (i = 1; i <= n; i ++)
        for (j = 1; j <= n; j ++)
          dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j]);
    for (i = 1; i <= n; i ++)
      {
        minv[i] = inf, maxv[i] = -inf;
        for (j = 1; j <= n; j ++)
          if (i != j)
            {
              minv[i] = min(minv[i], dist[i][j]);
              maxv[i] = max(maxv[i], dist[i][j]);
            }
      }
    
    for (g = 1; g <= n; g ++)
      for (b = 1; b <= n; b ++)
        if (g != b && (minv[g] < maxv[b] || minv[g] == maxv[b] && g < b))
          {
            memset(chk_s, false, sizeof(chk_s));
            for (i = 1; i <= n; i ++)
              {
                chk_g[i] = minv[i] < minv[g] || minv[i] == minv[g] && i <= g;
                chk_b[i] = maxv[i] > maxv[b] || maxv[i] == maxv[b] && i >= b;
                for (j = 1; j <= n; j ++)
                  if (i != j)
                    if (dist[i][j] > minv[g] || dist[i][j] == minv[g] && i > g)
                      if (dist[i][j] < maxv[b] || dist[i][j] == maxv[b] && i < b)
                        chk_s[i] = true;
              }
            chk_s[g] = chk_b[g] = false;
            chk_g[b] = chk_s[b] = false;
            
            memset(f, 0, sizeof(f)), f[0][0][0] = 1;
            for (i = 0; i < n; i ++)
              for (j = 0; j <= n; j ++)
                for (k = 0; k <= n; k ++)
                  if (f[i][j][k])
                    {
                      if (j < n && chk_g[i+1]) f[i+1][j+1][k] += f[i][j][k];
                      if (k < n && chk_b[i+1]) f[i+1][j][k+1] += f[i][j][k];
                      if (chk_s[i+1]) f[i+1][j][k] += f[i][j][k];
                    }
            for (i = g1; i <= g2; i ++)
              for (j = s1; j <= s2; j ++)
                ans += f[n][i][n-i-j];
          }
    
    printf("%I64d\n", ans);
    
    return 0;
  }
