#include <cstdio>
#include <algorithm>
using namespace std;

#define INF 1000000000

int n, m, r, d[65][65], a[65][65][65], x, y, z;

int main() {
	scanf("%d%d%d", &n, &m, &r);
	for (int i=0; i<=n; ++i) 
		for (int j=0; j<n; ++j) 
			for (int k=0; k<n; ++k) a[i][j][k] = INF;
	for (int i=0; i<m; ++i) {
		for (int j=0; j<n; ++j) 
			for (int k=0; k<n; ++k) 
				scanf("%d", &d[j][k]);
		for (int l=0; l<n; ++l) 
			for (int j=0; j<n; ++j) 
				for (int k=0; k<n; ++k) 
					d[j][k] = min(d[j][k], d[j][l]+d[l][k]);
		for (int j=0; j<n; ++j)
			for (int k=0; k<n; ++k) 
				a[0][j][k] = min(a[0][j][k], d[j][k]);
	}
	for (int i=0; i<n; ++i) 
		for (int l=0; l<n; ++l) 
			for (int j=0; j<n; ++j) 
				for (int k=0; k<n; ++k) 
					a[i+1][j][k] = min(a[i+1][j][k], a[i][j][l]+a[0][l][k]);
	while (r--) {
		scanf("%d%d%d", &x, &y, &z);
		z = min(z, n);
		printf("%d\n", a[z][x-1][y-1]);
	}
	return 0;
}
