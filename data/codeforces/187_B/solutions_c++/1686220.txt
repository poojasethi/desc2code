#include<iostream>
#define rep(i,n) for(int i=1;i<=n;i++)
using namespace std;
const int MAXN=60+5;
int a[MAXN][MAXN][MAXN]; // s,t,r s to t car k
int f[MAXN][MAXN][MAXN]; // s,t,k s to k not exceeding k cars
int n,m,r;
int main(){
     ios::sync_with_stdio(false);
     cin>>n>>m>>r;
     rep(k,m) rep(i,n) rep(j,n) cin>>a[i][j][k];
     rep(k,m) rep(t,n) rep(i,n) rep(j,n) 
	  a[i][j][k]=min(a[i][j][k],a[i][t][k]+a[t][j][k]); //1.MIN time for each car
     rep(i,n) rep(j,n){
	  f[i][j][0]=a[i][j][1];
	  rep(k,m)f[i][j][0]=min(f[i][j][0],a[i][j][k]); //2.MIN time for each i,j
     }
     rep(k,n) rep(i,n) rep(j,n){
	  f[i][j][k]=f[i][j][k-1];
	  rep(t,n) f[i][j][k]=min(f[i][j][k],f[i][t][k-1]+f[t][j][0]);//3.MIN time for i,j, k cars
     }
     while(r--){
	  int x,y,z; cin>>x>>y>>z;
	  cout<<f[x][y][min(z,n)/*ATT*/]<<endl;
     }
     return 0;
}

