#include <cstdio>
#include <iostream>

using namespace std;

const int MAXN = 62;

int N,M,R;

int Car[MAXN][MAXN][MAXN];

int ar[MAXN][MAXN][MAXN];

int main(){
	
	scanf("%d %d %d",&N,&M,&R);
	
	for(int i=1;i<=M;i++){
		
		for(int j=1;j<=N;j++)
			for(int t=1;t<=N;t++)
				scanf(" %d",&Car[i][j][t]);
		
		for(int x=1;x<=N;x++)
			for(int y=1;y<=N;y++)
				for(int z=1;z<=N;z++)
					Car[i][y][z]=min(Car[i][y][z],Car[i][y][x]+Car[i][x][z]);
							
	}
	
	for(int x=1;x<=M;x++)
		for(int i=1;i<=N;i++)
			for(int j=1;j<=N;j++)
				if(x==1 || Car[x][i][j]<ar[0][i][j])
					ar[0][i][j]=Car[x][i][j];
	
	for(int i=1;i<=N;i++)
		for(int x=1;x<=N;x++)
			for(int y=1;y<=N;y++)
			{
				ar[i][x][y]=ar[i-1][x][y];
				for(int z=1;z<=N;z++)
					ar[i][x][y]=min(ar[i][x][y],ar[i-1][x][z]+ar[0][z][y]);
			}
	
	for(int i=1,a,b,c;i<=R;i++)
	{
		scanf("%d %d %d",&a,&b,&c);
		printf("%d\n",ar[min(c,N)][a][b]);
	}
	
	return 0;
	
}
