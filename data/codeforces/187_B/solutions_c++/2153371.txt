#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

#define rep(I,L,R) for(int I=L;I<=R;++I)

const int N = 62;

int dp[N][N][N], dis[N][N], tmp[N][N], n, m, q;

int main ()
{
#ifdef LOCAL
	freopen("in", "r", stdin);
#endif
	scanf("%d%d%d", &n, &m, &q);
	memset(dis, 0x3f, sizeof dis);
	rep(i, 1, m)
	{
		rep(x, 1, n) rep(y, 1, n) scanf("%d", &tmp[x][y]);
		rep(z, 1, n) rep(x, 1, n) rep(y, 1, n)
			if (tmp[x][z] + tmp[z][y] < tmp[x][y])
				tmp[x][y] = tmp[x][z] + tmp[z][y];
		rep(x, 1, n) rep(y, 1, n)
			if (tmp[x][y] < dis[x][y]) dis[x][y] = tmp[x][y];
	}
	memset(dp, 0x3f, sizeof dp);
	rep(x, 1, n) rep(y, 1, n) dp[0][x][y] = dis[x][y];
	rep(i, 1, n) rep(x, 1, n) rep(y, 1, n) rep(z, 1, n)
		dp[i][x][y] = min(dp[i][x][y], dp[i - 1][x][z] + dis[z][y]);
	rep(_, 1, q)
	{
		int s, t, k;
		scanf("%d%d%d", &s, &t, &k);
		printf("%d\n", dp[min(k, n)][s][t]);
	}
	return 0;
}

