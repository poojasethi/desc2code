#include <cstdio>
#include <algorithm>
#include <queue>
using namespace std;
#define FOR(i, a, n) for(int i=(a);i<=(n);i++)
#define inf 1000000000
#define N 61
int e[N][N][N];
int f[N][N][N];
int n, m, r, u, v, K;
int main(){  
  while(scanf("%d%d%d",&n,&m,&r)!=EOF){
  FOR(i, 0, N-1) FOR(j, 0, N-1) FOR(k, 0, N-1)                   f[i][j][k] = e[i][j][k] = inf;
  FOR(k, 1, m) FOR(i, 1, n) FOR(j, 1, n)                         scanf("%d", &e[k][i][j]);
  FOR(l, 1, m) FOR(k, 1, n) FOR(i, 1, n) FOR(j, 1, n)            e[l][i][j] = min(e[l][i][j], e[l][i][k] + e[l][k][j]);
  FOR(i, 1, n) FOR(j, 1, n) FOR(l, 1, m)                         f[i][j][0] = min(f[i][j][0], e[l][i][j]);
  FOR(u, 1, n) FOR(k, 1, n) FOR(i, 1, n) FOR(j, 1, n)            f[i][j][u] = min(f[i][j][u], f[i][k][u-1] + f[k][j][0]);
  while(r--){
    scanf("%d%d%d",&u,&v,&K);
    printf("%d\n", f[u][v][min(n, K)]);
  }}
  return 0;
}
