#include<iostream>
#include<cstdio>
#include<memory.h>
using namespace std;
int n,m,r,i,j,p,q,a1,a2,a3,a[61][61][61],mi[61][61],f[1002][61][61];
int main()
{
	scanf("%d%d%d",&n,&m,&r);
	for (i=1;i<=m;i++)
	for (j=1;j<=n;j++)
	for (p=1;p<=n;p++)
	scanf("%d",&a[i][j][p]);
	for (i=1;i<=m;i++)
	for (j=1;j<=n;j++)
	for (p=1;p<=n;p++)
	for (q=1;q<=n;q++)
	if (a[i][p][j]+a[i][j][q]<a[i][p][q])
	a[i][p][q]=a[i][p][j]+a[i][j][q];
	for (i=1;i<=n;i++)
	for (j=1;j<=n;j++)
	{
		mi[i][j]=10000000;
		for (p=1;p<=m;p++)
		if (a[p][i][j]<mi[i][j])
			mi[i][j]=a[p][i][j];
	}
	memset(f,1,sizeof(f));
	for (i=1;i<=n;i++)
	for (j=1;j<=n;j++)
	f[0][i][j]=mi[i][j];
	for (i=1;i<=1000;i++)
	for (j=1;j<=n;j++)
	for (p=1;p<=n;p++)
	for (q=1;q<=n;q++)
	if (f[i-1][p][j]+mi[j][q]<f[i][p][q])
	f[i][p][q]=f[i-1][p][j]+mi[j][q];
	for (i=1;i<=r;i++)
	{
		scanf("%d%d%d",&a1,&a2,&a3);
		printf("%d\n",f[a3][a1][a2]);
	}
	return 0;
}
