#include <cstdio>
#include <algorithm>
#define N 65
#define FI(a, b, c) for(int a = (b); a <= (c); a++)
using namespace std;

int n, m, q, e[N][N][N], d[N][N][N];

int main(){
	scanf("%d %d %d", &n, &m, &q);
	FI(i, 1, n) FI(j, 1, n) FI(k, 0, n) d[i][j][k] = 1e9;
	
	FI(i, 1, m){
		FI(j, 1, n) FI(k, 1, n) scanf("%d", &e[i][j][k]);
		FI(w, 1, n) FI(j, 1, n) FI(k, 1, n) e[i][j][k] = min(e[i][j][k], e[i][j][w] + e[i][w][k]);
		FI(j, 1, n) FI(k, 1, n) d[j][k][0] = min(d[j][k][0], e[i][j][k]);
	}
	
	FI(z, 1, n) FI(k, 1, n) FI(i, 1, n) FI(j, 1, n) d[i][j][z] = min(d[i][j][z], min(d[i][k][z - 1] + d[k][j][0], d[i][k][0] + d[k][j][z - 1]));
	
	while(q--){
		int a, b, c;
		scanf("%d %d %d", &a, &b, &c);
		c = min(c, n);
		printf("%d\n", d[a][b][c]);
	}
	scanf("\n");
}
