#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 70
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,q,u;
int d[N][N][N],b[N][N],f[N][N][N];
int main() {
	scanf("%d%d%d",&n,&m,&q);
	memset(b,120,sizeof(b));
	For(u,1,m) {
		For(i,1,n)For(j,1,n) scanf("%d",&d[u][i][j]);
		For(k,1,n)For(i,1,n)For(j,1,n)
			d[u][i][j]=min(d[u][i][j],d[u][i][k]+d[u][k][j]);
		For(i,1,n)For(j,1,n) b[i][j]=min(b[i][j],d[u][i][j]);
	}
	memset(f,120,sizeof(f));
	For(i,1,n) {
		For(j,1,n) f[i][j][0]=b[i][j];
		For(k,0,n)For(j,1,n)For(u,1,n)
			f[i][u][k+1]=min(f[i][u][k+1],f[i][j][k]+b[j][u]);
	}
	For(i,1,q) {
		int x,y,z;
		scanf("%d%d%d",&x,&y,&z);
		z=min(z,n);
		printf("%d\n",f[x][y][z]);
	}
	return 0;
}
