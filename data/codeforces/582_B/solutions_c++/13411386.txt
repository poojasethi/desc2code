#include <iostream>  
#include <cstdio>  
#include <cstring>  
#include <algorithm>  
#include <map>  
#include <vector>  
using namespace std;  
int a[305],num[305],b[200005],dp[2000005];
int main(){
    int m,n,i,j,k,t,max1=0,max2=0;
    scanf("%d %d",&m,&t);
    for(i=1;i<=m;i++) scanf("%d",&a[i]); 
    for(i=1;i<=m;i++) num[a[i]]++;
    for(i=1;i<=300;i++) max2=max(max2,num[i]);
    int now=min(200,t);
    for(i=0;i<now;i++){
        for(j=1;j<=m;j++) b[i*m+j]=a[j]; 
    }
    for(i=1;i<=now*m;i++){
        dp[i]=1;
        for(j=1;j<i;j++){
            if(b[i]>=b[j]) dp[i]=max(dp[i],dp[j]+1);
        }
        max1=max(max1,dp[i]);
    }
    printf("%d\n",max1+(t-now)*max2);
} 