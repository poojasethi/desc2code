#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<iostream>
#include<algorithm>
#define maxn 10010

using namespace std;

long long num[310],f[maxn];
long long n,T,ans;
int a[maxn];

int main()
{
	scanf("%I64d%I64d",&n,&T);
	for (int i=1;i<=n;i++) {scanf("%d",&a[i]);num[a[i]]++;}
	for (int i=n+1;i<=n*n;i++) a[i]=a[i-n];
	for (int i=1;i<=min(n*n,n*T);i++)
	{
		for (int j=1;j<i;j++) if (a[j]<=a[i]) f[i]=max(f[i],f[j]);
		f[i]++;ans=max(ans,f[i]);
	}
	if (T>n)
	{
		long long mx=0;
		for (int i=1;i<=300;i++) mx=max(mx,num[i]);
		ans+=mx*(T-n);
	} 
	printf("%I64d\n",ans);
	return 0;
}
