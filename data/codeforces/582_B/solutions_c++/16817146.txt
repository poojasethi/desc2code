#include <bits/stdc++.h>
using namespace std;
const int MAXN = 10010;

int num[MAXN], cnt[MAXN], lis[MAXN];

int main() {
    int n, t, mxlen = 0;
    scanf("%d %d", &n, &t);
    for(int i = 0; i < n; i++) {
        scanf("%d", num+i);
        mxlen = max(mxlen, ++cnt[num[i]]);
    }
    int clen = (t > n ? n*n : n*t);
    for(int i = n; i < clen; i++) num[i] = num[i-n];
    int len = 0;
    for(int i = 0; i < clen; i++) {
        int pos = upper_bound(lis, lis+len, num[i]) - lis;
        if(pos == len) lis[len++] = num[i];
        else lis[pos] = num[i];
    }
    if(t > n) len += (t-n)*mxlen;
    printf("%d\n",len);
    return 0;
}




	 		  	  	 	 	    	   	   		  	