#include <bits/stdc++.h>

using namespace std;

const int MAXN = (int)1e5 + 10;
int n, t, a[MAXN], f[MAXN], cnt[400];
int mx;

int main()
{
    cin >> n >> t;
    for (int i = 0; i < n; ++i)
    {
        cin >> a[i];
        cnt[a[i]]++;
        mx = max(mx, cnt[a[i]]);
        for (int j = 1; j < min(n, t); ++j)
            a[i + j*n]  = a[i];
    }



    int ans = 0;
    for (int i = 0; i < n * min(n, t); ++i)
    {
        int cur_d = 1;
        for (int j = 0; j < i; ++j)
            if (a[i] >= a[j]) cur_d = max(cur_d, f[j] + 1);
        f[i] = cur_d;
        ans = max(ans, f[i]);
    }

    cout << ans + mx * (t - min(n,t))<< endl;
    return 0;
}
