#include<bits/stdc++.h>
#define f(i,x,y) for (int i = x; i < y; i++)
#define fd(i,x,y) for(int i = x; i>= y; i--)
#define all(v) (v).begin(), (v).end()
#define clr(A,x) memset(A, x, sizeof A)
#define pb push_back
#define cua(x) (x)*(x)
#define eps (1e-9)
#define oo (1<<30)
using namespace std;
int T;
int n;
int a[1000005];
int lis[1000005];
int b[105];
int f[305];
int j;
int maxi=-1;
int q;
int main(){
	cin >> n >> T;
	f(i,0,n){ cin >> b[i]; f[b[i]]++; }
	f(i,0,n*n) a[i]=b[i%n];
	long long sz=0;
	f(i,0,301) maxi=max(maxi,f[i]);
	f(i,0,n*min(T,n)){
		j=upper_bound(lis,lis+sz,a[i])-lis;
		if(j==sz) { sz++;}
		lis[j]=a[i];
	}
	if(T<=n){cout << sz <<endl; return 0;} 
	sz+=maxi*(T-n);
	cout << sz <<endl;
}

