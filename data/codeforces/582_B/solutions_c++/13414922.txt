#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;
int arr[100], fre[301];
int lis(int len,int k){
	int c,i,h,pos=0;vector<int> A(len*k);
	for(c=0;c<len*k;++c){
 		h = arr[c%len];
		for(i=pos-1;i>=0;--i)
			if(A[i]<=h) 
				break;
		if(i+1==pos)++pos;A[i+1]=h;
	}
	return pos;
}
int main(){
	int n,m,z=0;
	cin>>n>>m;
	for(int i=0;i<=300;++i)fre[i]=0;
	for(int i=0;i<n;++i){
		cin>>arr[i];
		z= max(z,++fre[arr[i]]);
	}
	cout<<lis(n,min(n,m))+max(m-n,0)*z<<endl;
}
