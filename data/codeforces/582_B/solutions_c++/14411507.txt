#include <bits/stdc++.h>

using namespace std;

int dp[1000000],arr[1000000],arr2[300],n,t,maxn=1,mx=1;


int main()
{
	cin>>n;
	cin>>t;
	for (int i = 0; i<n; ++i)
	{
		cin>>arr[i];
		arr2[arr[i]]++;
		mx=max(mx,arr2[arr[i]]);
		dp[i]=1;
		
	}


int k=min(n,t);
	for (int i = n; i <n*k; ++i)
	{
		arr[i]=arr[i-n];
		dp[i]=1;
		/* code */
	}


	for (int i = 0; i <n*k; ++i)
	{
		for(int j=0;j<i;j++){
			if(arr[i]>=arr[j]){
				dp[i]=max(dp[i],dp[j]+1);
			maxn=max(maxn,dp[i]);
			}
		}
		/* code */
	}
	if(t>n){
		maxn+=mx*(t-n);
	}
	cout<<maxn<<endl;

	return 0;
}