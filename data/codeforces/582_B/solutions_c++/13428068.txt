#include <bits/stdc++.h>
#define MAXN 1000000
using namespace std;
int n,t,l,mx;
int a[MAXN],d[MAXN],cnt[500];

int lcs(){
	memset(d,0,sizeof(d));
	int ret =1;
	for(int i=0;i<l;i++) {
		d[i]=1;
		for(int j=0;j<i;j++) {
			if(a[i]>=a[j]) {d[i]=max(d[i],d[j]+1);}
		}
		ret = max(d[i],ret);
	}
    return ret;
}

void solve(){
	int ans=0;
	memset(cnt,0,sizeof(cnt));
	l = min(n*n,t*n);
	int k = min(n,t);
		for(int i=n;i<k*n;i++){
			a[i]=a[i%n];
			
		}

	
	
	ans = lcs();
	if(t>n) ans+=(mx*(t-n));
    cout << ans << endl;
}

int main(){
	
	cin >> n >> t;
	for(int i=0;i<n;i++)
		{cin >> a[i];
		cnt[a[i]]++;}

	mx = 1;
	for(int i=0;i<n;i++) {
		mx = max(mx,cnt[a[i]]);
	}

	solve();
	return 0;
}