#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
const int N=505,M=100005;
int a[N],c[M],b[M],f[M],ans,n,m,T,cnt[N],rem;
int main()
{
    cin>>n>>T;
    for(int i=1;i<=n;i++)scanf("%d",&a[i]);
    for(int i=1;i<=T;i++){
        for(int j=1;j<=n;j++)b[m+j]=a[j];m+=n;
        if(m+n>=M||i==T){T-=i;break;}
    }
    for(int i=1,t=0;i<=m;i++){
        int x=upper_bound(c+1,c+t+1,b[i])-c;
        c[x]=b[i];f[i]=x;ans=max(ans,x);if(x>t)t++;
    }
    for(int i=1;i<=n;i++)cnt[a[i]]++;
    for(int i=0;i<N;i++)rem=max(rem,cnt[i]);
    ans+=rem*T;cout<<ans;
}


