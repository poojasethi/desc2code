#include<bits/stdc++.h>
using namespace std;
int n,a[1007];
bool b[1007];
int main() {

	scanf("%d", &n);
	for (int i = 0; i < n; ++i)
		scanf("%d", &a[i]);
	int c = 0;
	for (int i = 0; i < n*n; ++i) {
		int t = (i / n) % 2;
		int p = i % n;
		if (t) p = n - p - 1;
		if (!b[p] && c >= a[p]) {
			b[p] = 1;
			c ++;
		}
		if (c == n) {
			return printf("%d\n", i/n), 0;
		}
	}
}
