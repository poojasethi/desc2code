#include<cstdio>
#include<cstring>
#include<queue>
#include<vector>
#include<iostream>
#include<algorithm>
using namespace std;

vector<int>r[12][210000];
int cnt[12];
void gao(int n)
{
	cnt[1]=1;
	r[1][0].push_back(1);
	for(int i=1,ii=2;i<n;++i,(ii<<=1))
	{
		for(int j=0;j<cnt[i];++j)
		{
			int mm=cnt[i+1],nn=r[i][j].size();
			for(int k=0;k<=nn;++k)
			{
				for(int kk=0;kk<nn;++kk)
					r[i+1][cnt[i+1]].push_back(r[i][j][kk]);
				cnt[i+1]++;
			}
			if((j&1)^1)
			{
				for(int k=0;k<nn;++k)
					r[i+1][k+mm][k]|=ii;
				r[i+1][nn+mm].push_back(ii);
			}
			else
			{
				r[i+1][mm].push_back(ii);
				for(int k=nn-1;k>=0;--k)
					r[i+1][nn-k+mm][k]|=ii;
			}
		}
		//printf("%d\n",cnt[i+1]);
	}
}
void out(int n,int st)
{
	printf("{");
	bool fir=true;
	for(int i=0;i<n;++i)if((st>>i)&1)
	{
		if(!fir)	printf(",");
		fir=false;
		printf("%d",i+1);
	}
	printf("}");
}		
int main()
{
	int n;
	cin>>n;
	gao(n);
	cout<<cnt[n]<<endl;
	for(int i=0;i<cnt[n];++i)
	{
		for(int j=0;j<r[n][i].size();++j)
		{
			if(j)	printf(",");
			out(n,r[n][i][j]);
		}
		puts("");
	}
	return 0;
}
 			 		 		 		    			  		  	