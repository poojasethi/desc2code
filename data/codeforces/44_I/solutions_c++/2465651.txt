#include<cstdio>
#include<cstring>
#include<algorithm>
#define fo(i,a,b) for(i=a;i<=b;++i)
#define fd(i,a,b) for(i=a;i>=b;--i)
using namespace std;
const int mn=20,mm=250000;
int f[mn][mn],s[mn],l;
int a[mm][mn],r,h,h1;
int n,m,i,j,ans;
bool fl;
int next(int i){return (i+1)%mm;}
int main()
{
    scanf("%d",&n);
    f[0][0]=1;
    fo(i,1,n)
        fo(j,1,i)
            f[i][j]=f[i-1][j-1]+f[i-1][j]*j;
    fo(i,1,n)ans+=f[n][i];
    printf("%d\n",ans);
    r=0,h=1;a[0][1]=0,a[0][0]=0;
    fo(l,2,n)
    {
        fl=1;
        for(h1=h;r!=h;++r)
        {
            if(fl)
            {
                fo(i,0,a[r][0]+1)
                {
                    memcpy(a[h1],a[r],l*sizeof(int));
                    a[h1][l]=i,a[h1][0]=max(a[h1][0],i);
                    h1=next(h1);
                }
            }
            else
            {
                fd(i,a[r][0]+1,0)
                {
                    memcpy(a[h1],a[r],l*sizeof(int));
                    a[h1][l]=i,a[h1][0]=max(a[h1][0],i);
                    h1=next(h1);
                }
            }
            fl=!fl;
        }
        r=h,h=h1;
    }
    while(r!=h)
    {
        memset(s,0,sizeof s);
        fo(i,1,n)
        {
            f[a[r][i]][++s[a[r][i]]]=i;
        }
        fo(i,0,a[r][0])
        {
            if(i)printf(",");
            printf("{");
            fo(j,1,s[i])
            {
                if(j!=1)printf(",");
                printf("%d",f[i][j]);
            }
            printf("}");
        }
        printf("\n");
        r=next(r);
    }
    return 0;
}