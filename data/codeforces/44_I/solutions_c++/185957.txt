#include <iostream>
#include <algorithm>
#include <cstdio>
#include <vector>
#include <utility>
#include <cstring>
#include <set>
#include <string>
#include <cmath>

using namespace std;

#define PB push_back

int elementos;

vector<vector<int> > rec(int n) {
    if(n == 1)
        return vector<vector<int> >(1,vector<int>(1,1));

    vector<vector<int> > prev = rec(n-1), r;


    int last = 1;
    for(int i = 0; i < prev.size(); i++)
    {
        if(last == 1)
        {
            for(int j = 1; j<n; j++) {
                if(prev[i][j-1] == j) {
                    r.PB(prev[i]);
                    r[r.size()-1].PB(j);
                }
            }
            r.PB(prev[i]);
            r[r.size()-1].PB(n);
            last = n;
        }else
        {
            r.PB(prev[i]);
            r[r.size()-1].PB(n);
            for(int j = n-1; j>=1; j--) {
                if(prev[i][j-1] == j) {
                    r.PB(prev[i]);
                    r[r.size()-1].PB(j);
                }
            }
            last = 1;
        }
    }

    return r;
}

int main () {
    int n;
    cin >> n;

    vector<vector<int> > r = rec(n);

    cout << r.size() << endl; 

    for(int i = 0; i < r.size(); i++) {
        for(int j = 0; j < r[0].size(); j++) {
            if(r[i][j]==j+1) {
                if(j!=0) printf(",");
                printf("{");
                for(int z = j; z < r[0].size(); z++) if(r[i][z] == j+1){
                    if(z!=j) printf(",");
                    printf("%d", z+1);
                }
                printf("}");
            }
        }
        printf("\n");
    }

    return 0;
}
