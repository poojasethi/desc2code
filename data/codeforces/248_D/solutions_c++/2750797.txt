//By momo
#include<cstdio>
#include<vector>
#include<algorithm>
#define INF 999999999
using namespace std;

int n, t;
int hme, shp;
char s[500010];

void input(){
	scanf("%d%d%s", &n, &t, s);
	for(int i = 0; i < n; i++){
		if(s[i] == 'H') hme++;
		if(s[i] == 'S') shp++;
	}
}

int get(int k){
	int gve = 0, can = k, num = n;
	for(int i = 0; i < n; i++){
		if(s[i] == 'H') gve ++;
		if(s[i] == 'S') can ++;
		if(gve == hme && can >= gve){ num = i+1; break; }
	}return num;
}

int main(){
	input();
	int lb = hme-shp-1, rb = hme+1;
	while(lb != rb-1){
		int k = (lb+rb)/2, ans = INF;
		int num = get(k);
		int can = k, res = 0;
		int prv = -1, nd = 0;
		for(int i = 0; i < num; i++){
			if(s[i] == 'H'){
				if(prv < 0) ans = min(ans, res+num-i-1);
				if(can > 0) can--;
				else{
					if(prv < 0) prv = i;
					nd++;
				}
			}
			if(s[i] == 'S'){
				can++;
				if(prv != -1 && nd <= can){
					res += 2*(i-prv); can -= nd;
					prv = -1, nd = 0;
				}
			}
		}

		if(ans+num <= t) rb = k;
		else lb = k;
	}
	if(rb == hme+1) puts("-1");
	else printf("%d\n", max(rb, 0));
}
