#include<cstdio>
#include<cstdlib>
#include<algorithm>
#define foru(i,a,b) for(int i=a;i<=b;++i)

using namespace std;
char st[2100000];
int n,t,m,x[2100000],y[2100000];
bool check(int a)
{
	int l=0,now=a,tt=t,min=210000000,end,sum=0,cnt=0;
	foru(i,0,n-1)
	{
		--tt;
		if(st[i]=='H')
		  if(--now==-1) l=i;
		if(st[i]=='S')
		  if(++now==0) x[++cnt]=(i-l),y[cnt]=l;
		end=i;
		if(i>=m&&now>=0) break;
	}
	if(now<0) return 0;
	min=end-y[1];
	if(!cnt) min=0; y[cnt+1]=end;
	foru(i,1,cnt)
	{
		sum+=2*x[i];
		min=min>sum+end-y[i+1]?sum+end-y[i+1]:min;
	}
	return now>=0&&tt-min>=0;
}
int ans()
{
	int l=0,r=n,mid;
	if (!check(n)) return -1;
	while(l+1<r)
	{
		mid=(l+r)>>1;
		if (check(mid)) r=mid;
		else l=mid;
	}
	return check(l)?l:r;
}
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	scanf("%d%d",&n,&t);
	scanf("%s",&st);
	foru(i,0,n-1) 
	  if(st[i]=='H') m=i;
	printf("%d\n",ans());
	return 0;
}
