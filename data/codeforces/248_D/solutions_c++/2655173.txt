#include <cstdio>
#include <cstring>
#define N 500050
int n,maxt,h;
char st[N],s[N];

int check(int k) {
  int time=0,candy=k,home=h;

  int i,p,q;
  for (i=1,p=0,q=0;i<=n;i++) {
    p+=s[i]=='H';
    q+=s[i]=='S';
    if (p==h&&k+q>=h) break;
  }
  if (!(p==h&&k+q>=h)) return 0;
  if (i*2-1<=maxt) return 1;

  for (int i=1,j,k;i<=n;i++) {
    if (!home) return time<=maxt;
    if (++time>maxt) return 0;
    if (s[i]=='S') {
      candy++;
    }
    if (s[i]=='H') {
      if (candy) {
        candy--;
        home--;
        continue;
      }
      int h2=0;
      for (j=i,k=0;j<=n;j++) {
        if (s[j]=='H') k++,h2++;
        if (s[j]=='S') k--,s[j]='.';
        if (k==0) break;
      }
      if (k) return 0;
      time+=2*(j-i);
      candy+=h2;
      i--; time--;
    }
  }
  //printf("k=%d time=%d\n",k,time);
  return time<=maxt;
}

int main() {
  scanf("%d%d%s",&n,&maxt,st+1);
  for (int i=1;i<=n;i++) {
    h+=st[i]=='H';
  }

  int l=0,r=n,m,ans=-1;
  while (l<=r) {
    m=l+r+1>>1;
    memcpy(s,st,sizeof(s));
    if (check(m)) {
      ans=m;
      r=m-1;
    } else l=m+1;
  }
  printf("%d\n",ans);
  return 0;
}
