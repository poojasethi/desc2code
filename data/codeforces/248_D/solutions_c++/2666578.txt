#include<stdio.h>
char a[500001];
int start[500001];
int stop[500001];
int n,t,end;
bool f(int s)
{
   int l=0,i,T=0,END,t1=0,t2=0;
   for(i=0;i<=end||s<0;i++)
   {
      if(a[i]=='S')
      {
         s++;
         if(s==0)stop[l++] = i;
         stop[l]=0;
      }else
      if(a[i]=='H')
      {
         s--;
         if(s==-1)start[l] = i;
         start[l+1]=0;
      }
   }
   if(l==0)return i<=t;
   T = i;
   END = i-1;
   for(i=l-1;i>=0;i--)
   {
      t1 += (stop[i]-start[i])*2;
      t2 = END - start[i];
      if(t2<t1)
      {
          T+=t2;
          t1=0;
          t2=0;
          END = start[i];
      }
   }
   if(t1)T+=t1;
   return T<=t;
}
int main()
{
  int  i ,H=0,S=0,ans=-1,left,right;
  int t1,t2,T,middle,m;
  scanf("%i %i %s",&n,&t,a);
  for(i=0;i<n;H+=a[i]=='H',S+=a[i]=='S',i++)if(a[i]=='H')end=i;
  left = H>S ? (H-S) : 0 ;
  right = H;
  while(left<=right)
  {
     T=0;t1=0;t2=0;
     middle=(left+right)>>1;
     if(f(middle))
     {
        ans=middle;
        right = middle-1;
     }
     else left = middle+1;
  }
  printf("%i",ans);
  return 0;
}
