#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int dat[500010],n,m,num[500010],t,last,o;
char c[500010];
bool OK(int mid)
{
    int tmp=1e9,res=0;
    num[0]=mid;
    m=last;
    for(int i=1;i<=n;++i)
    {
        num[i]=num[i-1]+dat[i];
        if(num[i]==0 && num[i-1]==-1)m=max(m,i);
    }
    if(m==0)return 1;
    for(int i=1;i<=m;++i)
    {
        if(num[i-1]==0 && num[i]==-1)
        {
            o=i;
            tmp=min(tmp,res+(m-i)*2);
        }
        if(num[i-1]==-1 && num[i]==0)
        {
            if(i==m)tmp=min(tmp,res+m-o);
            res+=(i-o)*2;
        }
        res++;
    }
    tmp=min(tmp,res-1);
    return tmp+1<=t;
}
int main()
{
    while(~scanf("%d%d%s",&n,&t,c+1))
    {
        for(int i=1;i<=n;++i)dat[i]=c[i]=='H'?-1:c[i]=='S'?1:0;
        int l=0,r=0;
        for(int i=1;i<=n;++i)
        {
            if(dat[i]==-1)r++,last=i;
            if(dat[i]==1)l--;
        }
        l+=r;
        if(l<0)l=0;//shop ��
        if(last>t){ puts("-1");continue; }
        while(l<r)
        {
            int mid=(l+r)/2;
            if(OK(mid)) r=mid;
            else l=mid+1;
        }
        printf("%d\n",r);
    }
}
