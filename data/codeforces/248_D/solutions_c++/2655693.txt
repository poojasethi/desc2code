#include <iostream>
#include <algorithm>
#include<stdio.h>
#include<string.h>
#include<numeric>
#include<queue>
#include<cmath>
#include<sstream>
#include<set>
#include<map>
#include<vector>
#define N 500010
#define inf 1000000
//#define mp make_pair
#define pb push_back
#define pii pair<int,int>
#define X first
#define Y second
#define lst p<<1,l,mid
#define rst p<<1|1,mid+1,r
#define ll long long
#define vi vector<int>
#define mod 1000000007
using namespace std;
vi h,s;
int main()
{
 //freopen("in.txt","r",stdin);
 int n,i,t,maxH;char ss[N];
 while(~scanf("%d%d%s",&n,&t,ss))
 {
  h.clear(),s.clear();
  for(i=0;i<n;i++)
  if(ss[i]=='H')
  maxH=i+1,h.pb(i+1);
  else if(ss[i]=='S')s.pb(i+1);
  int numS=s.size(),numH=h.size();
  if(maxH>t){printf("-1\n");continue;}
  h.pb(1000000000);
  int mi=0,mx=numH;
  if(numH>numS)mi=numH-numS;
  while(mi<mx)
  {
   int mid=(mi+mx)>>1,need=0,ans=2*n;
   for(i=mid;i<numH;i++)
   {
    if(ans>need+max(0,2*(s[numH-1-mid]-maxH))+2*maxH-h[i])
    ans=need+max(0,2*(s[numH-1-mid]-maxH))+2*maxH-h[i];
    need+=2*max(0,min(h[i+1]-h[i],s[i-mid]-h[i]));
   }
   //if(ans>need+maxH)ans=need+maxH;
   if(ans<=t)mx=mid;
   else mi=mid+1;
  }
  printf("%d\n",mi);
 }
 return 0;
}
