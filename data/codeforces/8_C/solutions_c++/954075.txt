#include<stdio.h>
#define INF 1<<20
int d[1<<24], pre[1<<24];
int main ()
{
    int i, j, k, n, t, f, l, m;
    int hx, hy, x[32], y[32], a[32][32];
    scanf ("%d %d", &hx, &hy);
    scanf ("%d", &n);
    x[n] = hx; y[n] = hy;
    for (i = 0; i < n; i++)
	scanf ("%d %d", &x[i], &y[i]);
    for (i = 0; i <= n; i++)
	for (j = 0; j <= n; j++)
	    a[i][j] = (x[i] - x[j])*(x[i] - x[j]) + (y[i] - y[j])*(y[i] - y[j]); 

    for (i = 1; i < (1<<24); i++) d[i] = INF;
    for (i = 0; i < (1<<n); i++) if (d[i] != INF) {
	    for (j = 0; j < n; j++) if ((i & (1<<j)) == 0) {
		    f = i | (1<<j);
		    l = d[i] + a[n][j] + a[j][n];
		    if (d[f] > l) d[f] = l, pre[f] = i;
		    for (k = j + 1; k < n; k++) if ((f & (1<<k)) == 0) {
			    t = f | (1<<k);
			    l = d[i] + a[n][j] + a[j][k] + a[k][n];
			    if (d[t] > l) d[t] = l, pre[t] = i;
			}
		    break;
		}
	}
    m = (1<<n) - 1;
    printf ("%d\n0", d[m]);
    for (;m;m = pre[m]) {
	for (i = 0; i < n; i++)
	    if ((m^pre[m])&(1<<i))
		printf (" %d", i + 1);
    printf (" 0\n");
    }
    return 0;
}
