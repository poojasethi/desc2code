#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <stdio.h>
using namespace std;
int l(int q,int w,int e,int r){
  return (q-e)*(q-e)+(w-r)*(w-r);
}
int main(){
  //freopen("input.txt","r",stdin);
  //freopen("output.txt","w",stdout);
  int q,q1,w,e,r,t,y,u,*a=new int[16777216],*s=new int[16777216],d[24][24],f[24][24],f1[24][24],g[24],h[24],d1[24];
  cin>>y>>u;
  cin>>q;
  for(w=0;w<q;w++)
   cin>>g[w]>>h[w];
  for(w=0;w<q;w++)
   for(e=0;e<q;e++){
    d[w][e]=l(y,u,g[w],h[w])+l(y,u,g[e],h[e])+l(g[w],h[w],g[e],h[e]);
    f[w][e]=w*q+e;
    f1[w][e]=(1<<w)|(1<<e);}
  q1=1<<q;
  for(w=0;w<q1;w++)
   a[w]=2000000000;
  a[q1-1]=0;
  for(w=q1-1;w>0;w--){
   t=0;
   for(e=0,r=w;e<q;e++,r>>=1)
    if((r&1)==1){
     d1[t]=e;
     t++;}
   for(e=t-1;e>=0;e--){
    r=w^f1[d1[t-1]][d1[e]];
    if(a[r]>a[w]+d[d1[t-1]][d1[e]]){
     a[r]=a[w]+d[d1[t-1]][d1[e]];
     s[r]=f[d1[t-1]][d1[e]];}}}
  cout<<a[0]<<"\n";
  for(w=0;w<q1-1;){
   cout<<"0 "<<(s[w]%q)+1<<" ";
   if(s[w]/q!=s[w]%q)
    cout<<(s[w]/q)+1<<" ";
   w|=(1<<(s[w]/q))|(1<<(s[w]%q));}
  cout<<0;
  return 0;}
