#include <bits/stdc++.h>
#define inf 0x3f3f3f3f
#define pb push_back
#define sq(a) (a*a)
using namespace std;
int mask[1<<24];
int p[1<<24]={0},q[1<<24]={0},r[1<<24]={0};
int d[50][50],d0[50];
int main()
{
int x1[30],y1[30],y,z;
mask[0]=0;
int a,b,n;
scanf("%d%d%d",&a,&b,&n);
for(int i=0;i<n;i++){scanf("%d%d",&x1[i],&y1[i]);x1[i]-=a;y1[i]-=b;}
for(int i=0;i<n;i++){
    for(int j=0;j<n;j++){
        d[i][j]=sq((x1[i]-x1[j]))+sq((y1[i]-y1[j]));}}
for(int i=0;i<n;i++)d0[i]=sq(x1[i])+sq(y1[i]);
for(int x=0;x<(1<<n);x++)mask[x]=inf;
mask[0]=0;
for(int x=0;x<(1<<n)-1;x++){
    for(int i=0;i<n;i++){if((x^(1<<i))>x){
        y=x^(1<<i);if(mask[y]>mask[x]+2*d0[i]){mask[y]=mask[x]+2*d0[i];p[y]=0;q[y]=i;}
        for(int j=i+1;j<n;j++){if((x^(1<<j))>x){
         z=y^(1<<j);if(mask[z]>mask[x]+d[i][j]+d0[i]+d0[j]){mask[z]=mask[x]+d[i][j]+d0[i]+d0[j];p[z]=1;q[z]=i;r[z]=j;}
        }
        }break;}}}
 z=(1<<n);
z--;cout<<mask[z]<<endl<<"0 ";
while(z>0)
{ int m=z;
        if(p[z]){cout<<r[z]+1<<" ";m^=(1<<(r[z]));}
        cout<<q[z]+1<<" "<<"0 ";
        m^=(1<<(q[z]));
        z=m;
}    return 0;}
