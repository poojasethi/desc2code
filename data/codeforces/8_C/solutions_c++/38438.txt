#include <stdio.h>
#define rep(i, n) for(int i=0; i<(int)(n); i++)
#define sq(a) ((a)*(a))
#define N (1<<24)

int dp[N], f[N];
int d[24], dd[24][24];
int x[24], y[24];

int main() {
    int bx, by;
    scanf("%d%d", &bx, &by);
    int n;
    scanf("%d", &n);
    rep(i, n) scanf("%d%d", x+i, y+i);
    rep(i, n) d[i] = sq(x[i]-bx)+sq(y[i]-by);
    rep(i, n) rep(j, n) dd[i][j] = sq(x[i]-x[j])+sq(y[i]-y[j]);
    int m=1<<n;
    rep(i, m) if(i==0 || dp[i]>0) {
        rep(j, n) if(!(i&(1<<j))) {
            int ni = i|(1<<j);
            if(dp[ni]==0 || dp[ni]>dp[i]+2*d[j]) {
                dp[ni] = dp[i]+2*d[j];
                f[ni] = i;
            }
            rep(k, n) if(!(ni&(1<<k))) {
                int nni = ni|(1<<k);
                int nc = dp[i]+d[j]+d[k]+dd[j][k];
                if(dp[nni]==0 || dp[nni]>nc) {
                    dp[nni] = nc;
                    f[nni] = i;
                }
            }
            break;
        }
    }
    printf("%d\n", dp[m-1]);
    int p = m-1;
    while(p>0) {
        printf("0 ");
        int t = p-f[p];
        rep(i, n) if(t&(1<<i)) printf("%d ", i+1);
        p = f[p];
    }
    printf("0\n");
}
