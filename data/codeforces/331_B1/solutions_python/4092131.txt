#include <cstdio>
#include <algorithm>
#include <vector>
using namespace std;

int N, Q, x[100002], A[ 100002 ];
int cmd, a, b;

int solve() {
    int ret = 1;
    for( int i = a+1; i <= b; ++i )
        if( A[i]  < A[i-1] ) ++ret;
    return ret;
}

int main( void ) {
    
    scanf( "%d", &N );
    for( int i = 0; i < N; ++i ) {
        scanf( "%d", &x[i] );
        --x[i];
        A[x[i]]=i;
    }
    
    scanf( "%d", &Q );
    while( Q-- ) {
        scanf( "%d%d%d", &cmd, &a, &b );
        --a; --b;
        if( cmd == 2 ) {
            swap( x[a],x[b] );  
            swap( A[x[a]], A[x[b]] );
        }
        else printf( "%d\n", solve() );
    }
    
    return 0;
}