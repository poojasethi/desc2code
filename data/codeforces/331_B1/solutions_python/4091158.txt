#include <iostream>
#include <cstring>
#include <cstdio>

using namespace std;

const int N=106;

int n, A[N], q, pos[N];

int deal(int x, int y)
{
	int ans=1, Min=-1;
	for(int i=x; i<=y; i++)
	{
		if(pos[i]<Min) ans++, Min=pos[i];
		else Min=pos[i];
	}
	return ans;
}

int main()
{
	scanf("%d", &n);
	for(int i=1; i<=n; i++) scanf("%d", &A[i]), pos[A[i]]=i;
	scanf("%d", &q);
	for(int i=0, fg, x, y; i<q; i++)
	{
		scanf("%d%d%d", &fg, &x, &y);
		if(fg==1) printf("%d\n", deal(x, y));
		else swap(pos[A[x]], pos[A[y]]), swap(A[x], A[y]);
	}
	return 0;
}
