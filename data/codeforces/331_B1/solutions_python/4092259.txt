#include<stdio.h>
int n,i,j,a[400000]={0},p,x,y,q,te,r,s[400000]={0};
int main()
{
    scanf("%d",&n);
    for(i=1;i<=n;i++) scanf("%d",&a[i]);
    scanf("%d",&q);
    for(i=1;i<=n;i++)
        s[a[i]]=i;
    while(q--)
    {
        scanf("%d %d %d",&p,&x,&y);
        if(p==2)
        {
            te=a[x];a[x]=a[y];a[y]=te;
            for(i=1;i<=n;i++)
                s[a[i]]=i;
        }
        else if(p==1)
        {
            for(r=1,i=x;i<y;i++)
                if(s[i]>s[i+1]) r++;
            printf("%d\n",r);
            //for(i=1;i<=n;i++) printf("%d ",s[i]);printf("\n");
        }
    }
    return 0;
}
