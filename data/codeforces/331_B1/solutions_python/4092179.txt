#include <stdio.h>
#include <algorithm>
using namespace std;
int v[128],pos[128];
int main()
{
    int n,q,t,x,y;
    scanf("%d",&n);
    for(int i=1;i<=n;++i){
        scanf("%d",&v[i]);
        pos[v[i]]=i;
    }
    scanf("%d",&q);
    while(q--){
        scanf("%d%d%d",&t,&x,&y);
        if(t==1){
            int c=1,mn=pos[x];
            for(int i=x+1;i<=y;++i)
                if(pos[i]<mn){
                    ++c;
                    mn=pos[i];
                }else
                    mn=max(mn,pos[i]);
            printf("%d\n",c);
        }else{
            pos[v[x]]=y;
            pos[v[y]]=x;
            swap(v[x],v[y]);
        }
    }
    return 0;
}