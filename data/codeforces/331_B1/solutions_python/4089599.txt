#include <iostream>
#include <vector>
#include <utility>
#include <algorithm>

using namespace std;

int main(){
	ios_base::sync_with_stdio(false);
	int n;
	cin >> n;
	vector<int> a(n);
	for(int i = 0; i < n; ++i){
		cin >> a[i];
		--a[i];
	}
	int q;
	cin >> q;
	vector<int> s(n);
	while(q--){
		int t, x, y;
		cin >> t >> x >> y;
		--x; --y;
		if(t == 1){
			int z = 0;
			fill(s.begin(), s.end(), 0);
			for(int i = 0; i < n; ++i){
				if(a[i] < x || y < a[i]){ continue; }
				if(a[i] == 0 || s[a[i] - 1] == 0){ ++z; }
				s[a[i]] = 1;
			}
			cout << z << endl;
		}else{
			swap(a[x], a[y]);
		}
	}
	return 0;
}
