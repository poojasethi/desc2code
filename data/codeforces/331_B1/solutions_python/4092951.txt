#include <cstdio>
#include <iostream>
using namespace std;
int position[105],a[105];
int main()
{
	int n, q;
	cin >> n;
	for(int i = 1; i <= n; i++)
	{
		cin >> a[i];
		position[a[i]] = i;
	}
	cin >> q;
	for(int i = 0; i < q; i++)
	{
		int p, x, y;
		cin >> p >> x >> y;
		if(p == 1)
		{
			int ret = 1;
			int ind = position[x];
			for(int i = x + 1; i <= y; i++)
			{
				if(ind > position[i]) ret++;
				ind = position[i];
			}
			cout << ret << endl;
		}
		else
		{
			swap(position[a[x]], position[a[y]]);
			swap(a[x], a[y]);
		}
	}
	return 0;
}