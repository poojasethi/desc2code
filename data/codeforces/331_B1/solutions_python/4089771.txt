#include<iostream>
using namespace std;
const int N = 105;
int a[N],p[N];
int main(){
	int n, tst;
	cin >> n;
	for(int i = 1; i <= n; i++){
		cin >> a[i]; p[a[i]] = i;}
	cin >> tst;
	while(tst--){
		int c, l,r;
		cin >> c >> l >> r;
		if(c == 2){
			int x = a[l], y=a[r];
			swap(p[x],p[y]);
			swap(a[l],a[r]);
		} else {
			int last = -1, ans = 1;
			for(int i= l; i <= r; i++){
				int pos = p[i];
				if(pos < last) last = -1, ans ++;
				last = pos;
			}
			cout<< ans << endl;
		}
	}
}
