#include<cstdio>
#include<cstdlib>
#include<cstring>

using namespace std;

int n,m,k,a,b,sq[200],ps[200];
int main()
{
    scanf("%d",&n);
    for (int i =1 ;i <= n; i++) 
     scanf("%d",&sq[i]), 
     ps[sq[i]] = i;
     
    scanf("%d",&m);
    while (m--)
    {
      scanf("%d%d%d",&k,&a,&b);
      if (k==1)
      {
         int s = 0;
         while (a <= b)
         {
           s++;
           while (ps[a+1] > ps[a]) a++;
           a++;
         }
         printf("%d\n",s);
      }
      else {
             int va = sq[a], vb = sq[b];
             ps[va]= b,ps[vb] =a;
             sq[a] = vb,sq[b] = va;
           }
    }
    //system("pause");
    return 0;
}
