#include <bits/stdc++.h>
using namespace std;

int main(){
	//freopen("input.inp", "r", stdin);
	int n, q;
	scanf("%d", &n);
	int a[n+1], pos[n+1];
	for(int i=1; i<=n; i++){
		scanf("%d", a+i);
		pos[a[i]]=i;
	}
	scanf("%d", &q);
	while(q--){
		int p, x, y;
		scanf("%d%d%d", &p, &x, &y);
		if(p==2){
			pos[a[x]]=y;
			pos[a[y]]=x;
			swap(a[x], a[y]);
		}
		else {
			int cnt=0;
			for(int i=x; i<y; i++) if(pos[i+1]<pos[i]) cnt++;
			printf("%d\n", cnt+1);
		}
	}
}
