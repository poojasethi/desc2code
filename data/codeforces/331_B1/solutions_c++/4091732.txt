#include <iostream>
#include <cstdlib>
#include <cstdio>

using namespace std;

int u[100500], uc = 1;
int pos[100500];

int main()
{
	int n, q;
	int a[1000];
	cin >> n;
	for (int i = 0 ;i < n; i++)	cin >> a[i], a[i]--, pos[a[i]] = i;
	cin >> q;
	int t, x, y;
	while (q--) {
		cin >>  t >> x >> y;
		x--,y--;
		if (t == 1) {
			int k = 1;
			//for (int i = x; i <= y; i++)cout << i+1 << " " << pos[i]+1 << endl;
			for (int i = x+1; i <= y; i++)
				if (pos[i] < pos[i-1]) k++;
			cout << k << endl;				
		}else {
			for (int i = 0; i < n; i++)
				if (pos[i] == x) pos[i] = y;
				else if (pos[i] == y) pos[i] = x;
		}             
	}
	
	return 0;
}