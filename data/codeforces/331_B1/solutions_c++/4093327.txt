#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
int main()
{
	int n;
	while(scanf("%d",&n)==1)
	{
		int a[105],b[105];
		int i;
		for(i=1;i<=n;i++)
		{
			scanf("%d",a+i);
			b[a[i]]=i;
		}
		int k,t,x,y;
		scanf("%d",&k);
		for(i=0;i<k;i++)
		{
			scanf("%d%d%d",&t,&x,&y);
			if(t==1)
			{
				int cnt=0;
				//cout<<"fehwui"<<endl;
				while(x<y)
				{
					int j=b[x],tmp=b[x+1];
					while(j<tmp){x++;j=b[x];tmp=b[x+1];}
					x++;
					cnt++; 
					
				}
				if(b[y]<b[y-1])cnt++;
				printf("%d\n",cnt);
			}
			else
			{
                 swap(a[x],a[y]);//swap(b[x],b[y]);
                 for(int m=1;m<=n;m++)
                 b[a[m]]=m;
			}
		}
	}
	return 0;
}