#include<cstdio>
#include<vector>
#include<cmath>
#include<queue>
#include<set>
#include<map>
#include<iostream>
#define X 300010
using namespace std;
const int inf=1e9+10;
int a[110];
int s[110],top;
int main(){
    int i,j,n,m,t,q,x,y;
    scanf("%d",&n);
    for(i=1;i<=n;i++){
        scanf("%d",&t);
        a[i]=t;s[t]=i;
    }
    scanf("%d",&q);
    while(q--){
        scanf("%d%d%d",&t,&x,&y);
        if(t==1){
            top=0;m=1;
            for(i=x+1;i<=y;i++)
                if(s[i]<s[i-1])
                    m++;
            printf("%d\n",m);
        }
        else {
            swap(a[x],a[y]);
            s[a[x]]=x;
            s[a[y]]=y;
        }
    }
    return 0;

}
