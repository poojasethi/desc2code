#include <stdio.h>
#define N 101

int a[N];
int pos[N];

int main() {
	int n, q, i, t, x, y, cnt, tmp;
//	freopen ("in.txt", "r", stdin);
	scanf("%d", &n);
	for (i=0; i<n; i++) {
		scanf("%d", a+i);
		a[i]--;
		pos[a[i]]=i;
	}
	scanf("%d", &q);
	while (q--) {
		scanf("%d %d %d", &t, &x, &y);
		x--, y--;
		if (t==2) {
			tmp=a[x], a[x]=a[y], a[y]=tmp;
			pos[a[x]]=x, pos[a[y]]=y;
		}
		else {
			cnt=0;
			for (i=x; i<=y; i++)
				if (i==x || pos[i]<pos[i-1]) cnt++;
			printf("%d\n", cnt);
		}
	}
	return 0;
}
