#include<iostream>
#include<stdio.h>
#include<string>

using namespace std;

int main()
{
	long long n,i,j;
	
	cin>>n;
	
	long long a[n+1],b[n+1];
	
	for(i=1;i<=n;i++)	cin>>a[i];	
	
	
	long long m,q,l,r,x;
	cin>>m;		
	
	while(m--)
	{
		cin>>q>>l>>r;
		
		if(q==2)	swap(a[l],a[r]);
		else
		{
			for(i=1;i<=n;i++)
				b[a[i]]=i;
			
			x=1;
			
			for(i=l;i<r;i++)	
				if(b[i+1]<b[i])	x++;
			
			cout<<x<<endl;
		}
		
	}		
	
	return 0;
}