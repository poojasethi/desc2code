#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int N = 3e5+7;
int a[N];
int main(){
    int n,q,i,j,op,x,y;
    scanf("%d", &n);
    for (i=1; i<=n; i++ ) scanf("%d", &a[i]);
    scanf("%d", &q);
    while (q--){
        scanf("%d%d%d", &op, &x, &y);
        if (op==2) swap(a[x], a[y]);
        else{
            int cnt=0;
            while (x<=y){
                for (i=1; i<=n; i++)
                  if (a[i]==x) x++;
                cnt++;
                //printf("#%d\n", x);
            }
            printf("%d\n", cnt);
        }
    }
    //for (i=1; i<=n; i++) printf("%d\n", a[i]);


    return 0;
}
