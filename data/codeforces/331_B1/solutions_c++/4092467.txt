#include<iostream>
#include<fstream>
#include<cstdlib>
#include<iomanip>
#include<vector>
using namespace std;
vector<int> a, b;
int n;
int ans(int l, int r){
  int cur;
  int ans;
  cur = -1;
  ans = 1;
  for (int i = l; i <=r; i++){
    if (b[i] < cur){ans++;}
    cur = b[i];
  }
  return ans;
}

int main(void){
  cin >> n;
  a.resize(n);
  b.resize(n+1);
  for (int i =0; i < n; i++){
    cin >> a[i];
    b[a[i]] = i;
  }
  int q;
  cin >> q;
  int h1, h2, h3;
  int l, r;
  for (int i= 0; i < q; i++){
    cin >> h1 >> h2 >> h3;
    if (h1==1) cout<<ans(h2, h3)<<endl;
    else {
      h2--;
      h3--;
      l  = a[h2];
      r =  a[h3];
      swap(a[h2], a[h3]);
      swap(b[l], b[r]);
      
    }
  }
}
