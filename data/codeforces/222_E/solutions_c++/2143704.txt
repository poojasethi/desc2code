#include <cstdio>
#include <cstring>
#define LL long long
using namespace std;

const int mo=1000000007;
struct atype{int a[66][66];} zero,f;
int m,k,ans;
LL n;

atype operator * (atype a,atype b) {
    atype res;
    memset(res.a,0,sizeof(res.a));
    for (int k=1;k<=m;++k)
        for (int i=1;i<=m;++i)
            for (int j=1;j<=m;++j)
                res.a[i][j]=(int)(((LL)res.a[i][j]+(LL)a.a[i][k]*(LL)b.a[k][j])%(LL)mo);
    return res;
}

int JS(char c) {
    if (('a'<=c)&&(c<='z')) return ((int)c-(int)'a')+1;
        else return ((int)c-(int)'A')+27;
}

void WORK() {
    --n;
    for (int i=1;i<=m;++i) f.a[i][i]=1;
    for (n;n;n>>=1ll) {
        if (n&1ll) f=f*zero;
        zero=zero*zero;
    }
    for (int i=1;i<=m;++i)
        for (int j=1;j<=m;++j) ans=(ans+f.a[i][j])%mo;
}

int main() {
    scanf("%I64d%d%d",&n,&m,&k);
    for (int i=1;i<=m;++i)
        for (int j=1;j<=m;++j) zero.a[i][j]=1;
    for (int i=1;i<=k;++i) {
        char c=getchar(),c1=getchar(),c2=getchar();
        zero.a[JS(c1)][JS(c2)]=0;
    }
    WORK();
    printf("%d\n",ans);
    return 0;
}