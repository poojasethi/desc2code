#include <iostream>
#include <string>
#include <vector>
using namespace std;

#define rep(i, n) for(int i = 0; i < (int)(n); ++i)

typedef long long ll;
typedef vector<int> vec;
typedef vector<vec> mat;

const int MOD = 1000000007;

int m, k;

int num(char c)
{
    if('a' <= c && c <= 'z') return c - 'a';
    return c - 'A' + 26;
}

mat mul(mat &A, mat &B)
{
    mat C(m, vec(m));
    rep(i, m) rep(j, m) rep(k, m)
        C[i][j] = (C[i][j] + (ll)A[i][k] * B[k][j]) % MOD;
    return C;
}

mat pow(mat A, ll n)
{
    mat B(m, vec(m));
    rep(i, m) B[i][i] = 1;
    while(n > 0) {
        if(n & 1) B = mul(B, A);
        A = mul(A, A);
        n >>= 1;
    }
    return B;
}

int main()
{
    ll n, ans = 0;
    string s;
    cin >> n >> m >> k;
    mat A(m, vec(m, 1));
    rep(i, k) cin >> s, A[num(s[0])][num(s[1])] = 0;
    A = pow(A, n - 1);
    rep(i, m) rep(j, m) ans += A[i][j];
    cout << ans % MOD << endl;
}
