#include <iostream>
#include <vector>
using namespace std;

const int M = 1000000007;

int f(char c) { return c >= 'a' && c <= 'z' ? c - 'a' : c - 'A' + 26; }

void mul(vector< vector<int> >& a, const vector< vector<int> >& b, int m)
{
	vector< vector<int> > c = a;
	for (int i = 0; i < m; ++i) {
		for (int j = 0; j < m; ++j) {
			c[i][j] = 0;
			for (int k = 0; k < m; ++k) {
				c[i][j] = ((long long) c[i][j] + (long long) a[i][k] * b[k][j]) % M;
			}
		}
	}
	c.swap(a);
}

int main()
{
	long long n;
	int m, k;
	cin >> n >> m >> k;
	--n;
	vector< vector<int> > a(m, vector<int>(m, 1));
	for (int i = 0; i < k; ++i) {
		char c1, c2;
		cin >> c1 >> c2;
		a[f(c2)][f(c1)] = 0;
	}

	vector< vector<int> > p = a;
	for (int i = 0; i < m; ++i) for (int j = 0; j < m; ++j) p[i][j] = i == j;
	for (; n; n /= 2) {
		if (n & 1) {
			mul(p, a, m);
		}
		mul(a, a, m);
	}

	long long result = 0;
	for (int i = 0; i < m; ++i) for (int j = 0; j < m; ++j) result += p[i][j];

	cout << result % M << endl;
}
