#include <cstdio>
#include <cstring>
#include <iostream>
#include <cstdlib>
#include <algorithm>
using namespace std;
typedef long long LL;
const int INF=1000000007;
LL n;
int m,kk;
LL w1[4][55][55];
int Change(char xx)
{
	if (xx >= 'a' && xx <= 'z') return (xx-96); else return (xx-38);
}
void Jc(int u,int v,int w)
{
	int i,j,k;
	for (i=1;i<=m;++i)
		for (j=1;j<=m;++j)
		{
			w1[u][i][j]=0;
			for (k=1;k<=m;++k)
				w1[u][i][j]=(w1[u][i][j]+w1[v][i][k]*w1[w][k][j])%INF;
		}
}
int main()
{
	char ch[5];
	int i,j,xx,yy;
	memset(w1,0,sizeof(w1));
	cin>>n>>m>>kk;
	for (i=1;i<=m;++i)
		for (j=1;j<=m;++j)
			w1[0][i][j]=1;
	for (i=1;i<=kk;++i)
	{
		scanf("%s",ch);
		xx=Change(ch[0]);
		yy=Change(ch[1]);
		w1[0][xx][yy]=0;
	}
	for (i=1;i<=m;++i)
		w1[2][i][1]=1;
	xx=0,yy=2;
	for (--n;n;n>>=1,xx^=1)
	{
		if (n & 1)
		{
			Jc(yy^1,xx,yy);
			yy^=1;
		}
		Jc(xx^1,xx,xx);
	}
	LL ans=0;
	for (i=1;i<=m;++i)
		ans=(ans+w1[yy][i][1])%INF;
	cout<<ans<<endl;
	return 0;
}
