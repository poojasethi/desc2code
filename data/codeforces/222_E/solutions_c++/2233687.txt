//program 222-E

#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>

using namespace std;

const int Mod=1000000007;

int Get()
{
  char c;while(c=getchar(),(c<'A'||c>'Z')&&(c<'a'||c>'z'));
  return c-((c<'a')?39:97);
}

int main()
{
  long long N;int M,K;
  cin>>N>>M>>K;N--;
  static long long G[50][52][52];
  memset(G,0,sizeof(G));
  for(int i=0;i<M;i++)
    for(int j=0;j<M;j++)
      G[0][i][j]=1;
  while(K--)
    {
      int X=Get(),Y=Get();
      G[0][X][Y]=0;
    }
  for(int T=1;(1LL<<T)<=N;T++)
    for(int i=0;i<M;i++)
      for(int j=0;j<M;j++)
        for(int k=0;k<M;k++)
          G[T][i][j]=(G[T][i][j]+G[T-1][i][k]*G[T-1][k][j])%Mod;
  static long long A[52];
  for(int i=0;i<M;i++)A[i]=1;
  for(int T=0;T<50;T++)
    if((1LL<<T)&N)
      {
        static long long B[52];
        memset(B,0,sizeof(B));
        for(int i=0;i<M;i++)
          for(int j=0;j<M;j++)
            B[j]=(B[j]+A[i]*G[T][i][j])%Mod;
        for(int i=0;i<M;i++)A[i]=B[i];
      }
  int Ans=0;
  for(int i=0;i<M;i++)
    Ans=(Ans+A[i])%Mod;
  printf("%d\n",Ans);
  return 0;
}
