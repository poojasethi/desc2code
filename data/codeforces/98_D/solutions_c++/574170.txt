#include <iostream>
#include <cstdio>
#include <vector>
using namespace std;
typedef pair<int,int> pii;
const int maxN = 20 + 5;
int n;
int d[maxN];
vector <pii> ans;
inline void unOrder (int s , int e , int start , int end , int mid){
    if (d[s]==d[e]){        
        for (int i=s; i<=e; i++)
            ans.push_back (pii(start,end));
        return;
    }
    int poi=s;
    while (d[s]==d[poi]) poi++;
    unOrder(poi,e,start,mid,end);
    for (int i=s; i<poi; i++)
        ans.push_back (pii(start,end));
    unOrder(poi,e,mid,end,start);
}

inline void order (int s , int e , int start , int end , int mid){
    if (d[s]==d[e]){
        for (int i=s+1;i<=e;i++) ans.push_back (pii(start,mid));
        ans.push_back(pii(start,end));
        for (int i=s+1;i<=e;i++) ans.push_back (pii(mid,end));
        return;
    }
    if (d[s]!=d[s+1]){
        unOrder(s,e,start,end,mid);
        return;
    }
    int poi=s; 
    while (d[s]==d[poi]) poi++;
    unOrder(poi,e,start,end,mid);
    for (int i=s;i<poi;i++) ans.push_back (pii(start,mid));
    unOrder(poi,e,end,start,mid);
    for (int i=s;i<poi;i++) ans.push_back (pii(mid,end));
    order(poi,e,start,end,mid);
}
int main(){
    ios::sync_with_stdio(false);
    cin >> n;
    for (int i=1; i<=n; i++) 
        cin >> d[i];
    order (1,n,1,3,2);
    cout << ans.size() << endl;
    for (int i=0; i<(int)ans.size(); i++)
        cout << ans[i].first << ' ' << ans[i].second << endl;
    return 0;
}