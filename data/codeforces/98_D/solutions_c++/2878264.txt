#include <cstdio>
#include <iostream>
#include <vector>
#include <cstring>
#include <algorithm>
#define pb push_back
#define fi first
#define se second
using namespace std;

const int MAXN = 25;

typedef pair<int,int> PII;

vector<PII> yaz;
vector<int> tas;
int ar[MAXN];

void f(int kfaj,int yet,int gited,bool x)
{
	if(kfaj==tas.size()) return ;
	if(tas[kfaj]==1) x=1;
	int tmp=1+2+3-gited-yet;
	if(x)
    {
		f(kfaj+1,yet,tmp,1);
		for(int i=1;i<=tas[kfaj];i++)
			yaz.pb(PII(yet,gited));
		f(kfaj+1,tmp,gited,1);
	}
	else
    {
		if(kfaj==tas.size()-1)
		{
			for(int i=1;i<tas[kfaj];i++)
				yaz.pb(PII(yet,tmp));
			yaz.pb(PII(yet,gited));
			for(int i=1;i<tas[kfaj];i++)
				yaz.pb(PII(tmp,gited));
			return ;
		}
		f(kfaj+1,yet,gited,1);
		for(int i=1;i<=tas[kfaj];i++)
			yaz.pb(PII(yet,tmp));
		f(kfaj+1,gited,yet,1);
		for(int i=1;i<=tas[kfaj];i++)
			yaz.pb(PII(tmp,gited));
		f(kfaj+1,yet,gited,x);
	}
	
}

int main()
{
    //freopen("AC.in","r",stdin);
    //freopen("AC.out","w",stdout);   	
	int N,c;
	scanf(" %d",&N);
	for(int i=1;i<=N;i++)
		scanf(" %d",&ar[i]);
	for(int i=1;i<=N;i++)
	{
		c=1;
		for(;i<N && ar[i]==ar[i+1];c++,i++);
		tas.pb(c);
	}
	f(0,1,3,0);
	cout << yaz.size() << endl;
	for(int i=0;i<(int)yaz.size();i++)
		cout << yaz[i].fi << " ",
		cout << yaz[i].se << endl;
	return 0;
}
