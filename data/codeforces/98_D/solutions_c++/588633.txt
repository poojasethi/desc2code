#include <cstdio>
#include <iostream>
#include <vector>

#define pb push_back
#define fi first
#define se second
using namespace std;

const int MAXN = 25;

typedef pair<int,int> ii;

vector<ii> yaz;
vector<int> tas;
int ar[MAXN];

void f(int kim,int yer,int git,bool x){
	
	if(kim==tas.size())
		return ;
	
	if(tas[kim]==1)
		x=1;
	
	int tmp=1+2+3-git-yer;
	
	if(x){
		f(kim+1,yer,tmp,1);
		for(int i=1;i<=tas[kim];i++)
			yaz.pb(ii(yer,git));
		f(kim+1,tmp,git,1);
	}
	else{
		if(kim==tas.size()-1)
		{
			for(int i=1;i<tas[kim];i++)
				yaz.pb(ii(yer,tmp));
			yaz.pb(ii(yer,git));
			for(int i=1;i<tas[kim];i++)
				yaz.pb(ii(tmp,git));
			return ;
		}
		f(kim+1,yer,git,1);
		for(int i=1;i<=tas[kim];i++)
			yaz.pb(ii(yer,tmp));
		f(kim+1,git,yer,1);
		for(int i=1;i<=tas[kim];i++)
			yaz.pb(ii(tmp,git));
		f(kim+1,yer,git,x);
	}
	
}

int main(){
	
	int N,c;
	
	scanf(" %d",&N);
	
	for(int i=1;i<=N;i++)
		scanf(" %d",&ar[i]);
	
	for(int i=1;i<=N;i++)
	{
		c=1;
		for(;i<N && ar[i]==ar[i+1];c++,i++);
		tas.pb(c);
	}
	
	f(0,1,3,0);
	
	cout << yaz.size() << endl;
	for(int i=0;i<(int)yaz.size();i++)
		cout << yaz[i].fi << " ",
		cout << yaz[i].se << endl;
	
	return 0;
}
