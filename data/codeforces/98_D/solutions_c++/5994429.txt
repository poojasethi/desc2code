#include <cstdio>
int ans[2000000][2],cnt,a[100],n;
void move(const int num,const int s,const int t)
{
    for (int i = 0; i < num; ++i) ans[++cnt][0] = s,ans[cnt][1] = t;
}
void work(const int i,const int s,const int t,const bool b,const bool b2)
{
    if (!i) return;
    int j = 1;
    for (; a[i - j] == a[i]; ++j);
    if (b) {
        if (j == 1) {
            work(i - j,s,s ^ t,false,false);
            move(1,s,t);
            work(i - j,s ^ t,t,false,false);
        }else {
            if (i == j) {
                move(i - 1,s,s ^ t);
                move(1,s,t);
                move(i - 1,s ^ t,t);
            }else {
                work(i - j,s,t,false,b2);
                move(j,s,s ^ t);
                work(i - j,t,s,false,b2);
                move(j,s ^ t,t);
                work(i - j,s,t,true & b2,b2);
            }
        }
    }else {
        work(i - j,s,s ^ t,false,b2);
        move(j,s,t);
        work(i - j,s ^ t,t,false,b2);
    }
}
int main()
{
    #ifndef ONLINE_JUDGE
    freopen("monks.in","r",stdin);
    freopen("monks.out","w",stdout);
    #endif
    scanf("%d",&n);
    for (int i = n; i; --i) scanf("%d",a + i);
    work(n,1,3,1,1);
    printf("%d\n",cnt);
    for (int i = 1; i <= cnt; ++i) printf("%d %d\n",ans[i][0],ans[i][1]);
}
