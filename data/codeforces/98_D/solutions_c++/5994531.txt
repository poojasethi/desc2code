#include<cstdio>
#include<algorithm>
#include<string>
#include<cstring>
#include<cmath>
#include<map>
#include<queue>
#include<iostream>
#define LL long long
#define INF 99999999
#define EPS 1e-9
int ans,n,plan[1<<20][2],a[23];
void get(int s,int t,int cnt){
	for(int i=1;i<=cnt;i++) {
		++ans;
		plan[ans][0]=s;
		plan[ans][1]=t;
	}
}
void move(int now,int s,int t,int ok){
	if(now>n) return;
	int j,mid=s^t,cnt=0;
	for(j=now;j<=n&&a[now]==a[j];++j);
	cnt=j-now;
	if(j==n+1&&ok){
		get(s,mid,cnt-1);
		get(s,t,1);
		get(mid,t,cnt-1);
		return;
	}
	if(cnt==1||!ok){
		move(j,s,mid,false);
		get(s,t,cnt);
		move(j,mid,t,false);
	}else{
		move(j,s,t,false);
		get(s,mid,cnt);
		move(j,t,s,false);
		get(mid,t,cnt);
		move(j,s,t,true);
	}
}
int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++) scanf("%d",&a[i]);
	move(1,1,3,true);
	printf("%d\n",ans);
	for(int i=1;i<=ans;i++)
		printf("%d %d\n",plan[i][0],plan[i][1]);
}

 			  		 			  	  			 		 		