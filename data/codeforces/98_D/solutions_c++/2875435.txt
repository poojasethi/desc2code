#include<cstdio>
#include<cstdlib>

void Get(int &T)
{
	char C;bool F=0;
	for(;C=getchar(),C<'0'||C>'9';)if(C=='-')F=1;
	for(T=C-'0';C=getchar(),C>='0'&&C<='9';T=T*10+C-'0');
	F&&(T=-T);
}

int N;
int Size[25];
int Cnt[25];

void Init()
{
	Get(N);
	for(int i=1;i<=N;i++)
		Get(Size[i]);
	
	int Top=0;
	for(int i=1;i<=N;i++)
	{
		if(Size[i]!=Size[i-1])
			Top++;
		Cnt[Top]++;
	}
	
	N=Top;
}

int Ans;

int AnsX[1048576];
int AnsY[1048576];

void Print(int Fr,int To,int Time)
{
	for(int i=1;i<=Time;i++)
	{
		if(AnsY[Ans]==Fr)
		{
			AnsY[Ans]=To;
			if(AnsY[Ans]==AnsX[Ans])
				Ans--;
		}
		else
		{
			Ans++;
			AnsX[Ans]=Fr;
			AnsY[Ans]=To;
		}
	}
}

void DFS1(int Depth,int Fr,int Via,int To,int Double)
{
	if(Depth>N) return;
	if(Cnt[Depth]==1||Double==1)
	{
		DFS1(Depth+1,Fr,To,Via,1);
		Print(Fr,To,Cnt[Depth]);
		DFS1(Depth+1,Via,Fr,To,1);
	}
	else
	{
		DFS1(Depth+1,Fr,Via,To,1);
		Print(Fr,Via,Cnt[Depth]);
		DFS1(Depth+1,To,Via,Fr,1);
		Print(Via,To,Cnt[Depth]);
		DFS1(Depth+1,Fr,Via,To,Double);
	}
}

void Work()
{
	DFS1(1,1,2,3,0);
}

void Output()
{
	printf("%d\n",Ans);
	for(int i=1;i<=Ans;i++)
		printf("%d %d\n",AnsX[i],AnsY[i]);
}

int main()
{
	Init();
	Work();
	Output();
	return 0;
}