#include <cstring>
#include <cstdio>
using namespace std;
const int maxn=1100000;
int ans1[maxn],ans2[maxn],cnt[100],a[100],len,N,n;

void add(int x, int y){ans1[++len]=x, ans2[len]=y;}

void dfs(int dep, int a, int b, int c)
{
	if (dep==N)
	{
		for (int i=1; i<=cnt[dep]; i++) add(a,b);
		return;
	}
	dfs(dep+1,a,c,b);
	for (int i=1; i<=cnt[dep]; i++) add(a,b);
	dfs(dep+1,c,b,a);
}
int main()
{
	scanf("%d",&n);
	for (int i=1; i<=n; i++) scanf("%d",&a[i]);
	for (int i=1; i<=n; i++)
		if (a[i]==a[i-1]) cnt[N]++; else cnt[++N]=1;
	
	for (int i=1; i<=N; i++)
	{
		if (i==N)
		{
			for (int j=1; j<cnt[i]; j++) add(1,2);
			add(1,3);
			for (int j=1; j<cnt[i]; j++) add(2,3);
		}
		else if (cnt[i]==1)
		{
			dfs(i+1,1,2,3);
			add(1,3);
			dfs(i+1,2,3,1);
			break;		
		}
		else
		{
			dfs(i+1,1,3,2);
			for (int j=1; j<=cnt[i]; j++) add(1,2);
			dfs(i+1,3,1,2);
			for (int j=1; j<=cnt[i]; j++) add(2,3);
		}
	}
	printf("%d\n",len);
	for (int i=1; i<=len; i++) printf("%d %d\n",ans1[i], ans2[i]);
	//for (;;);
}
