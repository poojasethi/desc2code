#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<vector>

using namespace std;

int n,z[100];

vector< pair < int , int > > ans;

void dfs2(int p,int a,int b,int c)
{
	int nextp=p;
	while (nextp<=n && z[nextp]==z[p])
		nextp++;
	if (nextp>n)
	{
		for (int d=p;d<nextp;d++)
			ans.push_back(make_pair(a,c));
	}
	else
	{
		dfs2(nextp,a,c,b);
		for (int d=p;d<nextp;d++)
			ans.push_back(make_pair(a,c));
		dfs2(nextp,b,a,c);
	}
}

void dfs1(int p,int a,int b,int c)
{
	int nextp=p;
	while (nextp<=n && z[nextp]==z[p])
		nextp++;
	if (nextp>n)
	{
		for (int d=p;d<nextp-1;d++)
			ans.push_back(make_pair(a,b));
		ans.push_back(make_pair(a,c));
		for (int d=p;d<nextp-1;d++)
			ans.push_back(make_pair(b,c));
	}
	else
	{
		if (nextp==p+1) dfs2(p,a,b,c);
		else
		{
			dfs2(nextp,a,b,c);
			for (int d=p;d<nextp;d++)
				ans.push_back(make_pair(a,b));
			dfs2(nextp,c,b,a);
			for (int d=p;d<nextp;d++)
				ans.push_back(make_pair(b,c));
			dfs1(nextp,a,b,c);
		}
	}
}

int main()
{
	scanf("%d",&n);
	for (int a=1;a<=n;a++)
		scanf("%d",&z[a]);
	dfs1(1,1,2,3);
	printf("%d\n",(int)ans.size());
	for (int a=0;a<(int)ans.size();a++)
		printf("%d %d\n",ans[a].first,ans[a].second);

	return 0;
}
