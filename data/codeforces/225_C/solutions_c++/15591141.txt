#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
using namespace std;
int f[1010][2];	//0 不减 1 减 
int a[1010],s[1010],n,m,x,y;
char ss[1010][1010];
int main()
{
	scanf("%d%d%d%d",&n,&m,&x,&y);
	for(int i=1;i<=n;++i)
		scanf("%s",ss[i]+1);
	for(int i=1;i<=m;++i)
	{
		for(int j=1;j<=n;++j)
			a[i]+=ss[j][i]=='#'?1:0;
		s[i]=s[i-1]+a[i];
	}
	memset(f,0x3f,sizeof f);
	for(int i=x;i<=y;++i)
		f[i][0]=s[i],f[i][1]=i*n-s[i];
	for(int i=1;i<=m;++i)
		for(int j=max(1,i-y);j<=i-x;++j)
			f[i][0]=min(f[i][0],f[j][1]+s[i]-s[j]),
			f[i][1]=min(f[i][1],f[j][0]+n*i-s[i]+s[j]-n*j);
	printf("%d\n",min(f[m][0],f[m][1]));
//	system("pause");
	return 0;
}