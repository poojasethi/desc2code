#include <stdio.h>
#include <string.h>

int Map[502][502];
int xline[255000],yline[255000],faline[255000],l,r,rr,next[505][505],now;
int main(){
	int n,m,a,b;
	scanf("%d%d",&n,&m);
	memset(next,0,sizeof(next));
	for(int i=1;i<=m;i++){
		scanf("%d%d",&a,&b);
		next[a][++next[a][0]]=b;
		next[b][++next[b][0]]=a;
	}
	l=r=rr=1;
	xline[l]=1;yline[l]=n;
	
	memset(Map,-1,sizeof(Map));
	Map[1][n]=0;
	now=1;
	int fina=0;
	while(l<=r){		
		int nowx=xline[l];
		int nowy=yline[l];
		for(int i=1;i<=next[nowx][0];i++)
		for(int j=1;j<=next[nowy][0];j++){
			if(Map[next[nowx][i]][next[nowy][j]]==-1&&next[nowx][i]!=next[nowy][j]){
				Map[next[nowx][i]][next[nowy][j]]=now;
				r++;
				xline[r]=next[nowx][i];
				yline[r]=next[nowy][j];
				faline[r]=l;
				if(xline[r]==n&&yline[r]==1)fina=r;
			}
		}
		if(fina)break;
		l++;
		if(l>rr){now++; rr=r;}
	}
	printf("%d\n",Map[n][1]);
	if(Map[n][1]==-1) return 0;
	now=fina;
	while(now>1){
		printf("%d ",yline[now]);
		now=faline[now];
	}
	printf("%d\n",yline[now]);	
	now=fina;
	while(now>1){
		printf("%d ",xline[now]);
		now=faline[now];
	}
	printf("%d\n",xline[now]);	
	return 0;
}

						  		 		 	 	 						 	