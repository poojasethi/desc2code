#include<algorithm>
#include<bitset>
#include<cctype>
#include<climits>
#include<cmath>
#include<cstdio>
#include<cstring>
#include<iostream>
#include<map>
#include<queue>
#include<set>
#include<sstream>
#include<stack>
#include<string>
#include<vector>

using namespace std;

const int maxn=100001;

typedef long long LL;
typedef long double LD;
typedef int array[maxn];

int n;
int mi[9];
int a[maxn];
char s[maxn][10];

int main()
{
#ifndef ONLINE_JUDGE
	freopen("data.in","r",stdin);
// 	freopen("data.out","w",stdout);
#endif
	cin>>n;
	for(int i=1;i<=n;i++)
		scanf("%s",s[i]);
	a[0]=0;
	mi[0]=1;
	for(int i=1;i<=8;i++)
		mi[i]=mi[i-1]*10;
	for(int i=1;i<=n;i++)
	{
		int l=strlen(s[i]),maxv=0;
		for(int j=0;j<l;j++)
			if(s[i][j]=='?')
				maxv=maxv*10+9;
			else
				maxv=maxv*10+s[i][j]-'0';
		for(int j=0;j<l;j++)
			if(s[i][j]=='?')
			{
				for(int k=j==0?1:0;k<=9;k++)
					if(maxv-mi[l-j-1]*(9-k)>a[i-1])
					{
						maxv-=mi[l-j-1]*(9-k);
						break;
					}
			}
		if(maxv>a[i-1])
			a[i]=maxv;
		else
		{
			cout<<"NO"<<endl;
			return 0;
		}
	}
	cout<<"YES"<<endl;
	for(int i=1;i<=n;i++)
		printf("%d\n",a[i]);
	return 0;
}
