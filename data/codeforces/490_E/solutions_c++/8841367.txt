#include <iostream>
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <cmath>
#include <algorithm>
#include <queue>
#include <map>
#include <set>
#include <vector>
#include <string>
#include <stack>
#include <bitset>
#define INF 0x3f3f3f3f
#define eps 1e-8
#define FI first
#define SE second
using namespace std;
typedef long long LL;
char s[20];
int ans[100005];

inline int get_max()
{
    int v,res=0;
    for(int i=0;s[i];++i)
    {
        if(s[i]=='?') v=9;
        else v=s[i]-'0';
        res*=10; res+=v;
    }
    return res;
}

inline int solve(int pre)
{
    if(get_max()<=pre) return -1;
    for(int i=0;s[i];++i) if(s[i]=='?')
    {
        for(int j=0;j<10;++j)
        {
            if(i==0&&j==0) continue;
            s[i]='0'+j;
            if(get_max()>pre) break;
        }
    }
    return get_max();
}

int main()
{
    int n,pre=0;
    scanf("%d",&n);
    for(int i=0;i<n;++i)
    {
        scanf("%s",s);
        pre=solve(pre);
        if(pre==-1) return puts("NO");
        ans[i]=pre;
    }
    puts("YES");
    for(int i=0;i<n;++i) printf("%d\n",ans[i]);
    return 0;
}
