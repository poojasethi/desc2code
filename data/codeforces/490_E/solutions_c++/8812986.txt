#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
#define fo(i,a,b) for (int i = (a); i < (b); i++)

int n, at = 1, lenat = 1, pow10[] = {1,10,100,1000,10000,100000,1000000,10000000}, ans[123456];
char pat[123456][11], sat[11] = {'1'};
void add() {
    at++;
    int dat = 0;
    while (1) {
        sat[dat]++;
        if (sat[dat]=='9'+1) {
            sat[dat] = '0'; dat++;
        }
        else break;
    }
    if (dat >= lenat) lenat++;
}
bool good(int j) {
    fo(i,0,lenat) if (pat[j][i] != '?' && pat[j][i] != sat[lenat-i-1]) return false;
    return true;
}
int main() {
    fo(i,1,11) sat[i] = '0';
    scanf("%d", &n);
    fo(i,0,n) scanf("%s", pat[i]);
    fo(i,0,n) {
        if (i) add();
        int len = strlen(pat[i]);
        while (lenat < len) add();
        if (lenat > len) {
            puts("NO"); return 0;
        }

        while (!good(i)) {
            add();
            if (lenat > len) {
                puts("NO"); return 0;
            }
        }
        ans[i] = at;
    }
    puts("YES");
    fo(i,0,n) printf("%d\n", ans[i]);

    return 0;
}