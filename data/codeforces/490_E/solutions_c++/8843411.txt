#include <iostream>
#include <string>
#include <cstdio>
using namespace std;
string s[1000000+6];
int ten[9];
int a[1000000+6];
int main(){
    int n;
    scanf("%d",&n);
    for(int i=1;i<=n;i++) cin>>s[i];
    ten[0]=1;
    for(int i=1;i<9;i++) ten[i]=ten[i-1]*10;
    for(int i=1;i<=n;i++) {
        int len=s[i].size();
        int v=0;
        for(int j=0;j<len;j++) {
            if(s[i][j]=='?') v=v*10+9;
            else {
                v=v*10+s[i][j]-'0';
            }
        }
        for(int j=0;j<len;j++) {
            if(s[i][j]=='?') {
                for(int k=(!j)?1:0;k<=9;k++) {
                    if(v-ten[len-1-j]*(9-k)>a[i-1]) {
                        v-=ten[len-1-j]*(9-k);
                        break;
                    }
                }
            }
        }
        if(v>a[i-1]) a[i]=v;
        else {cout<<"NO"<<endl;return 0;}
    }
    cout<<"YES"<<endl;
    for(int i=1;i<=n;i++) cout<<a[i]<<endl;
    return 0;
}