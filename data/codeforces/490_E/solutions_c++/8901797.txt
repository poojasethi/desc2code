#include<stdio.h>
#include<string.h>
const int e[9]={1,10,100,1000,10000,100000,1000000,10000000,100000000};
char c[100000][9];
bool st(int*a,int*l,char b[])
{
    int i,t=0,lb=strlen(b);
    if(*l>lb)return 1;
    if(*l==lb)
    {
        bool bo[9];memset(bo,0,9);
        for(i=0;i<lb;i++)
        {
            if(b[i]=='?')
            {
                b[i]='9';
                bo[i]=1;
            }
            t=10*t+b[i]-'0';
        }
        if(*a>=t)return 1;
        for(i=0;i<lb;i++)
            if(bo[i])
            {
                while(*a<t&&b[i]>='0')
                {t-=e[lb-i-1];b[i]--;}
                t+=e[lb-i-1];b[i]++;
            }
    }
    else
    {
        if(b[0]=='?')b[0]='1';
        for(int i=0;i<lb;i++){if(b[i]=='?')b[i]='0';t=10*t+b[i]-'0';}
    }
    *a=t;*l=lb;
    return 0;
}
int main()
{
    int n,i,m=0,l=0;
    scanf("%d",&n);gets(c[0]);
    for(i=0;i<n;i++)
    {
        gets(c[i]);
        if(st(&m,&l,c[i])){printf("NO");return 0;}
    }
    printf("YES\n");
    for(i=0;i<n;i++)puts(c[i]);
}
