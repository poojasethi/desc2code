#include <bits/stdc++.h>
using namespace std;

const int maxn = 1e5+1;
string s[maxn];
int a[maxn];
int n;
int get(string &ss)
{
    int ret = 0;
    for (int i = 0; i < ss.size(); ++i){
        if (ss[i] != '?') ret = ret * 10 + ss[i]-'0';
        else ret = ret * 10 + 9;
    }
    return ret;
}
int check(string &s,int high)
{
    if (get(s)<= high) return -1;
    for (int i = 0; i < s.size(); ++i){
        if (s[i] != '?') continue;
        int l = 0,r = 9;
        if (i == 0) l = 1;
        for (int j = l; j <= r; ++j){
            s[i] = j+'0';
            if (get(s) > high) break;}

        }
    return get(s);
}
int main()
{
    cin >> n;
    a[0]=0;
    for (int i = 1; i <= n; ++i){
        cin >> s[i];
        if ( (a[i] = check(s[i],a[i-1])) != -1) continue; else {cout << "NO\n"; return 0;}
    }
    cout << "YES\n";
    for(int i = 1; i <= n; ++i) cout << a[i] << endl;
    return 0;
}
