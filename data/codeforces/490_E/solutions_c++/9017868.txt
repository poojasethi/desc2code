#include <bits/stdc++.h>
using namespace std;
int n, l, b[10], ans[100005];
char a[10];

int f() {
    int i, s = 0;
    for (i = 0; i < l; i++) {
        s = s * 10 + b[i];
    }
    return s;
}

int main() {
//    freopen("input.txt", "r", stdin);
    int i, j, k;
    cin >> n;
    gets(a);
    for (i = 1; i <= n; i++) {
        gets(a);
        l = strlen(a);
        for (j = 0; j < l; j++) {
            if (a[j] == '?') b[j] = 9;
            else b[j] = a[j] - '0';
        }
        if (f() <= ans[i - 1]) {puts("NO"); return 0;}
        for (j = 0; j < l; j++) {
            if (a[j] == '?') {
                for (k = 8; k >= 0; k--) {
                    if (k == 0 && j == 0) break;
                    b[j] = k;
                    if (f() <= ans[i - 1]) {
                        b[j]++;
                        break;
                    }
                }
            }
        }
        ans[i] = f();
    }
    puts("YES");
    for (i = 1; i <= n; i++) {
        printf("%d\n", ans[i]);
    }
}
