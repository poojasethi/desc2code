#include <bits/stdc++.h>
using namespace std;
int itos(string s)
{
	int res=0;
	for(int i=0;i<s.size();i++)
		res=res*10+s[i]-'0';
	return res;
}
int e[9];

int f(int x)
{return e[x];}
int main()
{
	int w=1;
	for(int i=0;i<10;i++)
		e[i]=w,w*=10;
	int n;
	cin>>n;
	int xx =0;
	string s;
	vector<string> res;
	for(int z=1;z<=n;z++)
	{
		cin>>s;
		int maxi[10]={0};
		int m = s.size();
		int y=0;
		int pt=1;
		for(int i=m-1;i>0;i--)
		{
			if(s[i]!='?')
			{
				y=y+pt*(s[i]-'0');
				pt*=10;
				maxi[i]=y;
			}
			else 
			{
				y=y+pt*9;
				pt*=10;
				maxi[i]=y;
			}
		}
		int val[10];
		int x=0;
		for(int i=0;i<m;i++)
		{
			if(s[i]!='?')
			{
				val[i]=x*10+s[i]-'0';
				x=val[i];	
			}
			else 
			{
				int j;
				for(j=0;j<10;j++)
				{
					val[i]=x*10+j;
					if(val[i]*(f(m-i-1))+maxi[i+1]>xx)break;
				}
				if(j>9)
				{
					cout<<"NO"<<endl;
					return 0;
				}
				if(j==0&&i==0)
					j=1;
				x=x*10+j;
				s[i]=j+'0';
			}
		}
		if(itos(s)<=xx)
		{
			cout<<"NO"<<endl;
			return 0;
		}
		res.push_back(s);
		xx=itos(s);
	}
	cout<<"YES"<<endl;
	for(int i=0;i<n;i++)
		cout<<res[i]<<endl;
}
