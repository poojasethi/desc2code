#include <cstdio>
#include <cstring>
const int N = 100010;
int n, last, m, ans[N];
char s[20], t[20];
bool succ = true;
int calc(){
	int ans = 0;
	for (int i = 1; i <= m; ++i) ans = ans * 10 + s[i] - '0';
	return ans;
}
int main(){
	scanf("%d", &n);
	for (int i = 1; i <= n; ++i){
		scanf("%s", t + 1);
		m = strlen(t + 1);
		for (int j = 1; j <= m; ++j){
			s[j] = t[j];
			if (s[j] == '?') s[j] = '9';
		}
		if (calc() <= last){
			succ = false;
			break;
		}
		for (int j = 1; j <= m; ++j) if (t[j] == '?'){
			for (int k = '9'; k >= '0'; --k){
				if (j == 1 && k == '0') break;
				s[j] = k;
				//printf("%d %c %d\n", j, k, calc());
				if (calc() <= last){
					s[j] = k + 1;
					break;
				}
			}
		}
		last = ans[i] = calc();
	}
	if (!succ) printf("NO\n");
	else{
		printf("YES\n");
		for (int i = 1; i <= n; ++i) printf("%d\n", ans[i]);
	}
	return 0;
}
