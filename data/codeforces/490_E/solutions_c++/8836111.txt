#include <bits/stdc++.h>
using namespace std;

const int maxn = 1e5+1;
string s[maxn];
int a[maxn];
int n;

int Max(string &a){
    int n=a.size();
    int ret=0;
    for(int i=0; i<n; ++i){
        ret=ret*10;
        if(a[i]=='?') ret+=9;
        else ret+=a[i]-'0';
    }
    return ret;
}

int cal(string &x, int v){
    if(Max(x)<=v) return -1;
    int n=x.size();
    for(int i=0; i<n; ++i){
        if(x[i]!='?') continue;
        int l=0, r=9;
        if(!i) l=1;
        for(int j=l; j<=r; ++j){
            x[i]=j+'0';
            if(Max(x)>v) break;
        }
    }
    return Max(x);
}

int main(){
    scanf("%d",&n);
    for(int i=1; i<=n; ++i) cin>>s[i];
    a[0]=0;

    for(int i=1; i<=n; ++i){
        a[i]=cal(s[i],a[i-1]);
        if(a[i]==-1){
            printf("NO\n");
            return 0;
        }
    }

    printf("YES\n");
    for(int i=1; i<=n; ++i){
        printf("%d\n",a[i]);
    }
    return 0;
}
