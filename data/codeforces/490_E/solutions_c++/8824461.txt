#include <cstdio>
#include <cstring>

using namespace std;
const int bin[9] = {1, 10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000};
const int N = 100005;

int n, len, len_last;
char st[10];
int ans[N];

int work(int p) {
	int res = 0, i, j;
	if (len_last > len) return 0;
	if (len_last < len) {
		for (i = 1; i <= len; ++i)
			if (st[i] == '?')
				if (i == 1) res = 1; else res *= 10;
			else (res *= 10) += st[i] - '0';
		return res;
	}
	for (i = 1; i <= len; ++i)
		if (st[i] == '?')
			(res *= 10) += 9;
		else (res *= 10) += st[i] - '0';
	if (res <= ans[p - 1]) return 0;
	for (i = 1; i <= len; ++i) 
		if (st[i] == '?')
			for (j = 1; j <= 9; ++j)
				if (res - bin[len - i] <= ans[p - 1]) break;
				else res -= bin[len - i];
	return res;
		
}

int main() {
	int i;
	scanf("%d\n", &n);
	ans[0] = 0;
	len = 0;
	for (i = 1; i <= n; ++i) {
		scanf("%s\n", st + 1);
		len_last = len, len = strlen(st + 1);
		if (!(ans[i] = work(i))) {
			puts("NO");
			return 0;
		}
	}
	puts("YES");
	for (i = 1; i <= n; ++i)
		printf("%d\n", ans[i]);
	return 0;
}
