#include<bits/stdc++.h>

using namespace std;

int gmax(string s)
{
    int ans=0;
    for(int i=0;i<s.size();i++)
    {
        if(s[i]=='?')ans=ans*10+9;
        else ans=ans*10+s[i]-'0';
    }
    return ans;
}

 int n;
   string s[100010];

main()
{
    //freopen("a.txt","r",stdin);
  cin>>n;
  for(int i=0;i<n;i++)cin>>s[i];
  bool pos=true;
  int pre=0;
  for(int i=0;i<n;i++)
  {
      if(gmax(s[i])<=pre)pos=false;
      for(int j=0;j<s[i].size();j++)
      if(s[i][j]=='?')
      for(int k=0;k<10;k++)
      {

              if(j==0 and k==0)continue;
              s[i][j]=k+'0';
              if(gmax(s[i])>pre)break;

      }
      pre=gmax(s[i]);
  }
   if(pos)
   {
       cout<<"YES"<<endl;
       for(int i=0;i<n;i++)cout<<s[i]<<endl;
   }

   else cout<<"NO"<<endl;

}













