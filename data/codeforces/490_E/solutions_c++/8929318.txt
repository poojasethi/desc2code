#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

int n, len, a[10], ans[100005];
char b[10];
bool t;
int f() {
	int i, s = 0;
	for (i = 0; i < len; i++) {
		s = s * 10 + a[i];
	}
	return s;
}
int main()
{
    int i, j;
//    freopen ("input.txt", "r", stdin);
    cin >> n;

    for (i = 1; i <= n; i++) {
        scanf ("%s", &b);
		len = strlen(b);
		for (j = 0; j < len; j++) {
			if (b[j] == '?') a[j] = 9;
			else a[j] = b[j] - '0';
		}
		if (f() <= ans[i - 1]) {
			puts("NO");
			return 0;
		}
		for (j = 0; j < len; j++) {
			if (b[j] == '?') {
				for (int k = 8; k >= 0; k--) {
					if (j == 0 && k == 0) break;
					a[j] = k;
					if (f() <= ans[i - 1]) {
						a[j]++;
						break;
					}
				}
			}
		}
		ans[i] = f();
    }


//    for (i = 0; i <= n; i++) {
//        cout << a[i] << endl;
//    }
	puts("YES");
    for (i = 1; i <= n; i++) {
        printf("%d\n", ans[i]);
    }
    return 0;
}
