#include<cstdio>
#include<cstdlib>
#include<cmath>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;

int n;
double a[200005],b[200005],l,r;
inline double calc(double x) {
	b[1]=a[1]-x;
	for (int i=2;i<=n;i++) b[i]=b[i-1]+a[i]-x;
	double ans1=0,ans2=0;
	for (int i=1;i<=n;i++) ans1=max(ans1,b[i]),ans2=min(ans2,b[i]);
	return ans1-ans2;
}
int main() {
	scanf("%d",&n);
	for (int i=1;i<=n;i++) scanf("%lf",&a[i]);
	l=-1e4; r=1e4;
	while (r-l>1e-12) {
		double mid1=l+(r-l)/3,mid2=mid1+(r-l)/3;
		if (calc(mid1)<calc(mid2)) r=mid2; else l=mid1;
	}
	printf("%.10lf\n",calc(l));
	return 0;
}
