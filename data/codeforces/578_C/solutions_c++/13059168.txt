#include<iostream>
#include<cstdio>
#include<cmath>
using namespace std;
double max(double x,double y)
{
	if(x>y)return x;
	return y;
}
double min(double x,double y)
{
	if(x<y)return x;
	return y;
}
int main()
{
	int n;
	cin>>n;
	double a[n],x,y;
	double ans=1000000000000,beg=-10000,end=10000;
	for(int i=0;i<n;i++)cin>>a[i],ans+=a[i];
	while(abs(beg-end)>1e-12)
	{
		double mid=(beg+end)/2;
		y=x=a[0]-mid;
		double maxx=x,miny=y;
		for(int i=1;i<n;i++)
		{
			x=max(0,x)+a[i]-mid;
			y=min(0,y)+a[i]-mid;
			miny=min(miny,y);
			maxx=max(maxx,x);
		}
		ans=min(ans,max(maxx,-miny));
		if(maxx+miny>0)beg=mid;
		else end=mid;
	}
	printf("%.12lf",ans);
}
