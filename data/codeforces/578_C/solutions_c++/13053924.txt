#include<bits/stdc++.h>
using namespace std;
int n;
long long a[200010];
long double b[200010],c,d,e;
long double cal(long double k){
    for (int i=1; i<=n; i++) b[i]=a[i]-k; 
    c=0; d=0; e=0;
    for (int i=1; i<=n; i++){
        if (c+b[i]<0) c=0;
        else c+=b[i];
        if (d+b[i]>0) d=0;
        else d+=b[i];
        e=max(e,c);
        e=max(e,-d);
    }
    return e;
}
int main(){
    scanf("%d",&n);
    for (int i=1; i<=n; i++) scanf("%I64d",&a[i]);
    long double l=-10000,r=10000,m1,m2;
    while (r-l>0.000000000001){
        m1=(l+l+r)/3; m2=(l+r+r)/3;
        if (cal(m1)>cal(m2)) l=m1;
        else r=m2;
    }
    printf("%.15f",(double)cal(l));
}