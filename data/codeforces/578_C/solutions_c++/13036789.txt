#include <cstdio>
#include <algorithm>
#include <cmath>
#define REP(i,n) for (int i=1;i<=n;++i)
using namespace std;

int n;
double a[200020];
double b[200020];
double ax, in, l, r;

double calc(double x) {
	REP(i, n) b[i] = a[i] - x;
	REP(i, n) b[i] += b[i - 1];
	ax = 0;
	in = 0;
	REP(i, n) ax = max(ax, b[i]);
	REP(i, n) in = min(in, b[i]);
	return ax - in;
}

int main() {
	scanf("%d",&n);
	REP(i, n) scanf("%lf",&a[i]);
	l = -1000000000;
	r = 1000000000;
	for (int i = 1; i <= 200; ++i) {
		double p = l + (r - l) / 3;
		double q = l + (r - l) / 3 * 2;
		if (calc(p) < calc(q)) r = q;
		else l = p;
	}
	printf("%.20lf\n",calc(l));
	return 0;
}