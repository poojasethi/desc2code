#include <cstdio>
#include <set>
int n,a[200001];

long double calc(long double x)
{
	long double ans=-1,sumposnow=0,sumnegnow=0;
	for(int i=1;i<=n;i++)
	{
		sumposnow+=a[i]-x;
		if(sumposnow>0&&sumposnow>ans)ans=sumposnow;
		if(sumposnow<0)sumposnow=0;

		sumnegnow+=a[i]-x;
		if(sumnegnow<0&&-sumnegnow>ans)ans=-sumnegnow;
		if(sumnegnow>0)sumnegnow=0;
	}
	return ans;
}

int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)scanf("%d",&a[i]);
	long double l=-10001,r=10001,pt1,pt2,v1,v2;
	while((r-l)>1e-13)
	{
		pt1=(l*2+r)/3;
		pt2=(l+2*r)/3;
		v1=calc(pt1);
		v2=calc(pt2);
		if(v1>v2)l=pt1;
		else r=pt2;
	}
	double ans=calc((r+l)/2);
	printf("%.15lf\n",ans);
}