#include <iostream>
#include <map>
#include <cstdio>
#include <cmath>
using namespace std;
int n, a[200001];
double calc(double x)
{
	double ans=0.0, sum=0.0;
	double mi=0.0, ma=0.0;
	for(int i=1;i<=n;i++){
		sum+=a[i]-x;
		ma=max(ma, sum), mi=min(mi, sum);
		ans=max(ans, max(fabs(sum-mi), fabs(sum-ma)));
	}
	return ans;
}
int main()
{
	scanf("%d", &n);
	for(int i=1;i<=n;i++)scanf("%d", &a[i]);
	double l=-20000.0, r=20000.0;
	for(int i=0;i<=100;i++)
	{
		double lm=l+(r-l)/3.0, rm=l+(r-l)/3.0*2.0;
		double sl=calc(lm), sr=calc(rm);
		if(sl < sr)r=rm; else l=lm;
	}
	printf("%.9lf\n", calc(l));
}