#include <iostream>
#include <cstdio>
#include <cmath>
#include <iomanip>

using namespace std;

long double maxi,mini,l,r,mid,ma,mi,ta,ti;
long double b[200001];
long double a[200001];
int n;

int main(){
	scanf("%d",&n);
	for (int i=1;i<=n;i++)
		cin>>a[i];
	l=-10000,r=10000;
	for (int k=1;k<=100;k++){
		mid=(l+r)/2;
		for (int i=1;i<=n;i++)
			b[i]=a[i]-mid;
		ma=ta=0;
		for (int i=1;i<=n;i++){
			ta=ta+b[i];
			if (ta>ma) ma=ta;
			if (ta<0) ta=0;
		}
		mi=ti=0;
		for (int i=1;i<=n;i++){
			ti=ti+b[i];
			if (ti<mi) mi=ti;
			if (ti>0) ti=0;
		}
		if (ma+mi>0) l=mid; else r=mid;
	}
	cout<<fixed<<setprecision(10)<<ma<<endl;
	return 0;
}
