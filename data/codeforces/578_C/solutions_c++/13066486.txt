#include <cstdio>
#include <cmath>

const double lam=1e-8;

int n,cnt,a[200009];
double l,r,u,v,s,t;

double calc(double x)
{
	double ret=0.0,p=0.0,q=0.0;
	for (int i=0;i<n;++i)
	{
		if (p<0) p=0;
		if (q>0) q=0;
		p+=a[i]-x;
		q+=a[i]-x;
		if (ret<+p) ret=+p;
		if (ret<-q) ret=-q;
	}
	return ret;
}
int main()
{
	scanf("%d",&n);
	for (int i=0;i<n;++i) scanf("%d",a+i);
	l=-10000;
	r=+10000;
	while (cnt++<200)
	{
		u=(l*2+r)/3;
		v=(l+r*2)/3;
		s=calc(u);
		t=calc(v);
		if (fabs(s-t)<lam) l=u,r=v;
		else if (s<t) r=v;
		else l=u;
	}
	printf("%.8f\n",calc(l));
	return 0;
}
