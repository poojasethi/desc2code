# include <stdio.h>
using namespace std;
int u[200010];
double l=-10000,r=10000,Max,Min,mid,t1,t2;
int main() {
	int n;
	//freopen("weakness.in","r",stdin);
	//freopen("weakness.out","w",stdout);
	scanf("%d",&n);
	for (int i=0;i<n;++i) scanf("%d",u+i);
	for(int i=1;i<=300;i++)
	{
		mid=(l+r)/2;	
		Max=-10001;
		Min=10001;
		t1=t2=0;
		for (int i=0;i<n;++i) {
			t1+=u[i]-mid;
			if(t1<0) t1=0;
			if(t1>Max) Max=t1;
			t2+=u[i]-mid;
			if(t2>0) t2=0;
			if(t2<Min) Min=t2;
		}
		if(Max+Min>0) l=mid;
		else r=mid;
	}
	printf("%.9f\n",Max);
	return 0;
}