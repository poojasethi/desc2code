#include <iostream>
#include <stdio.h>

using namespace std;

double s[2000000],n;

double f(double x)
{
    double nmax=0,nmin=0;
    for (int i=1;i<=n;i++)
        nmax=max(nmax,s[i]-i*x),nmin=min(nmin,s[i]-i*x);
    return nmax-nmin;
}

int main()
{
    cin >> n;
    for (int i=1;i<=n;i++)
    {
        cin >> s[i];
        s[i]+=s[i-1];
    }
    double ll=-100000,rr=100000;
    double ml=(ll+ll+rr)/3,mr=(ll+rr+rr)/3;
    for (int i=1;i<=100;i++)
    {
        if (f(ml)>f(mr)) ll=ml;
        else rr=mr;
        ml=(ll+ll+rr)/3,mr=(ll+rr+rr)/3;
    }
    double res=f((ll+rr)/2);
    printf("%.12f",res);
}
