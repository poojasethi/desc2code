#include <iostream>
#include <set>
#include <map>

#define rep(i,n) for(int i=0;i<n;i++)
#define pi pair<int,int>
#define ll long long
#define MOD 1000000009L

using namespace std;

int n,x[100010],y[100010];
int u[100010][3],d[100010],e[100010],cu[100010],cd[100010],dx[3]={-1,0,1},nx,ny,b,p,q,v;
map< pi, int> m;
set< int > s;
ll r,k[100010];
set<int>::iterator it;

bool check(int t){
  bool f = true;
  if(e[t]==1)return false;
  rep(j,3){
    v = u[t+1][j];
    if(e[v-1]==1)continue;
    if(v!=0 && cd[v]==1)f=false;
  }
  return f;
}



int main(){
  cin>>n;
  rep(i,n){
    cin>>x[i]>>y[i];
    m[pi(x[i],y[i])] = i+1;
  }
  rep(i,n){
    rep(j,3){
      nx = x[i] + dx[j];
      ny = y[i] + 1;
      p = m[pi(nx,ny)];
      if(p!=0){
        u[i+1][j]=p;
        cd[p]++;
      }
    }
  }

  rep(i,n)if(check(i)){
    s.insert(i);
  }

  k[0] = 1; rep(i,100010)k[i+1] = k[i]*n%MOD;
  r=0;

  while(!s.empty()){
    b++;
    if(b%2){
      it = s.end();it--;
      p = *it;
      s.erase(it);
    }
    else {
      it = s.begin();
      p = *it;
      s.erase(it);
    }
    if(!check(p)){
      b--;
      continue;
    }
    check(p);
    e[p] = 1;
    rep(j,3){
      q = u[p+1][j];
      if(q!=0){
        cd[q]--;q--;
        if(check(q)){
          s.insert(q);
        }
      }
      nx = x[p]+dx[j];
      ny = y[p]-1;
      q = m[pi(nx,ny)];
      if(q!=0){
        u[q][2-j] = 0; q--;
        if(check(q)){
          s.insert(q);
        }
      }
    }
    r = (r+k[n-b]*p%MOD)%MOD;
  }
  cout<<r<<endl;
}
