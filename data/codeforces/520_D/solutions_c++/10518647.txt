#include<iostream>
#include<math.h>
#include<algorithm>
#include<stdio.h>
#include<string>
#include<map>
#include<vector>
#include<set>
#define F first
#define S second
#define P system("PAUSE");
#define pb push_back
#define mp make_pair
using namespace std; 
const long long A=100000000000000LL,N=100000;

set<long long> t;
map<pair<long long,long long>,long long> d;
long long h,k,g,_n,v[N],i,o,j,n,m,x[N],y[N];

int f(long long t){
	if(t<0)return 0;
	long long i,j,ret,h;
	for(i=0;i<3;i++){
		h=d[make_pair(x[t]+i-1,y[t]+1)]-1;
		if(h>=0 && !v[h]){
			ret=0;
			for(j=0;j<3;j++){
				h=d[make_pair(x[t]+i-1+j-1,y[t])]-1;
				if(h>=0 && !v[h])ret++;
			}
			if(ret==1)return 0;
		}
	}
	return 1;
}

int main(){
	cin>>n;_n=n;
	for(i=0;i<n;i++)cin>>x[i]>>y[i],d[mp(x[i],y[i])]=i+1;
	for(i=0;i<n;i++)if(f(i))t.insert(i);
	o=0;
	while(t.size()){
		if(k)g=*t.begin();else g=*t.rbegin();
		t.erase(g);
		if(!f(g))continue;
		v[g]=1;
		o=(o*_n+g)%((int)1e9+9);
		for(i=0;i<3;i++){
			h=d[make_pair(x[g]+i-1,y[g]-1)]-1;
			if(h>=0 && f(h) && !v[h])t.insert(h);
		}
		k++,k%=2;
	}
	cout<<o;
}		
