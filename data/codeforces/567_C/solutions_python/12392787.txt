from collections import defaultdict
devour = lambda : map(int,raw_input().split())
n,k = devour()
l = devour()

first_gp_element  = defaultdict(int)
second_gp_element = defaultdict(int)

ans = 0

for element in l:
    if element%(k*k) == 0:
        ans += second_gp_element[element/k]
    if element % k == 0:
        second_gp_element[element] += first_gp_element[element/k];
    
    first_gp_element[element]+=1

print ans               
    
