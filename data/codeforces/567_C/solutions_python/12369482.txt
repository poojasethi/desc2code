n, k = map(int, raw_input().split())
xs = map(int, raw_input().split())
ys = [0]*n
zs = [0]*n
one = dict()
two = dict()
three = dict()
for i in range(n):
    x = xs[i]
    if x%k == 0 and x/k in one:
        ys[i] = one[x/k]
    if x not in one: one[x] = 0
    one[x] += 1

for i in range(n):
    x = xs[i]
    if x%k == 0 and x/k in two:
        zs[i] = two[x/k]
    if ys[i] > 0:
        if x not in two: two[x] = 0
        two[x] += ys[i]

print sum(zs)