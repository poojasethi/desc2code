#include <iostream>
#include <map>
#define ll long long
using namespace std;

int main() {
   map<ll,ll> c1,c2;
   ll n,i,a,t,k=0,m=0;
   cin>>n>>k;t=0;
   for(i=0;i<n;i++){
   	 cin>>a;
   	 if(a%(k*k)==0)		m+=c1[a/k];
   	 if(a%k==0) { c1[a]+=c2[a/k];}
   			c2[a]++;}
   			cout<<m;
	return 0;
}