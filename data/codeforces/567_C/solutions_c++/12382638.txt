#include <iostream>
#include <map>
using namespace std;
#define ll long long 
map<ll int ,ll int > m1,m2;
ll int n,k,i,t,ans;
int main()
{
    cin>>n>>k;
    while(n--)
    {
        cin>>t;
        if(t%k==0)
        {
            ans+=m2[t/k];
            m2[t]+=m1[t/k];
        }
        m1[t]++;
    }
    cout<<ans<<endl;
    return 0;
}