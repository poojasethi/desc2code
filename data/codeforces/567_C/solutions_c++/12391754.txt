#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
#define F "%I64d"
map<ll,ll>m,a;
int main()
{
    ll n,k,ans=0;
    scanf(F,&n);
    scanf(F,&k);
    while(n--)
    {
        ll i;
        scanf(F,&i);
        if(abs(i)%k==0)ans+=a[i/k],a[i]+=m[i/k];
        m[i]++;
    }
    printf(F,ans);
    printf("\n");
    return 0;
}
