#include <iostream>
#include <string>
#include <map>
using namespace std;

int main()
{ int n,k, a;
long long res=0;
  map<long long,long long>kol,kol2;
   cin>>n>>k;
   for(int i=0;i<n;i++) {
    cin>>a;

    if(a%(k*k)==0){res+=kol2[a/k];}
       if(a%k==0){kol2[a]+=kol[a/k];}

    kol[a]++;
   }
  
   cout<<res;

}