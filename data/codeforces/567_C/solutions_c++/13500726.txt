#include <bits/stdc++.h>
using namespace std;
#define ll long long
ll n,k,a,ans;
map <ll,ll> m1,m2;
int main()
{
   	cin>>n>>k;
   	for(int i=0;i<n;i++)
	{
	 	cin>>a;
		if(a%k==0)
			ans+=m2[a/k],m2[a]+=m1[a/k];
		m1[a]++;
		 	
	}
   	cout<<ans;
	
    return 0;
}









			 		     	 	 	   	 		   					