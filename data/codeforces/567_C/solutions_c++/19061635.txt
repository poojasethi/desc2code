#include<cstdio>
#include<map>
using namespace std;
typedef long long LL;
map<int,LL>s1,s2;
int main(){
    int n,k;
    scanf("%d%d",&n,&k);
    LL ans=0;
  for(int i=0;i<n;i++)
  {
      int x;
      scanf("%d",&x);
      if(x%k==0) {ans+=s2[x/k];s2[x]+=s1[x/k];}
       s1[x]++;
  }
  printf("%lld\n",ans);
	return 0;
}

   				    	         				 	 		