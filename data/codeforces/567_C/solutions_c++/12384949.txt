# include<map>
# include<iostream>
using namespace std;
typedef long long ll;

int main() {
    map<int,ll> m,dp;
    int n,k,x; cin>>n>>k;
    ll ret=0;
    for (int i=0; i<n; i++) {
        cin>>x;
        if(x%k==0)
            ret+=dp[x/k],
            dp[x]+=m[x/k];
        m[x]++;
    }
    cout << ret << endl;
    return 0;
}
