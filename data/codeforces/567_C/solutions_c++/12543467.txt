#include<bits/stdc++.h>
#define ll long long
using namespace std;

int main()
{

    ll n,k,i,j,ans=0,x;
    cin>>n>>k;
    map<ll,ll> a,b;
    for(i=0;i<n;i++)
    {
        cin>>x;
        if(x%k==0&&a[x/k])
            ans+=b[x/k];
        if(x%k==0)
            b[x]+=a[x/k];
        a[x]++;
    }
    cout<<ans<<endl;
    return 0;
}
