#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define pb push_back
ll x,n,i,ans,k;
map<ll,ll>m,m1;
int main()
{
    cin>>n>>k;
   while(n--)
   {
       cin>>x;
       if(x%(k*k)==0)
        ans+=m1[x/k];
       if(x%k==0)
        m1[x]+=m[x/k];
       m[x]++;
   }
    cout<<ans;
}

