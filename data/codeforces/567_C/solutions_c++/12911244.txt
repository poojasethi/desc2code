#include<cstdio>
#include<map>
using namespace std;
#define ll long long
map<int,ll>mp[2];
int main()
{
    int m,k,a;ll o=0;
    scanf("%d%d",&m,&k);
    for(;m--;++mp[0][a])
    {
        scanf("%d",&a);if(a%k)continue;
        o+=mp[1][a/k];mp[1][a]+=mp[0][a/k];
    }
    printf("%I64d\n",o);
}