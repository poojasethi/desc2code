#include<algorithm>
#include<iostream>
#include<cstdio>
#include<map> 
using namespace std;
map<int,long long> a[2];
int main()
{
	int n,m,x;
	long long ans=0;
	scanf("%i %i",&n,&m);
	for(int i=0;i<n;i++)
	{
		scanf("%i",&x);
		if(x%m==0)
		{
			ans+=a[1][x/m];
			a[1][x]+=a[0][x/m];
		}
		a[0][x]++;
	}
	cout<<ans<<endl;
}
