#include<iostream>
#include<map>
using namespace std;
long long n,ans,x,k;
map<long long, long long> mp1,mp2;

int main(){
	cin>>n>>k;
	for(int i=0;i<n;i++){
		cin>>x;
		if(x%k==0)ans+=mp2[x/k],mp2[x]+=mp1[x/k];
		mp1[x]++;
	}
	cout<<ans;
}