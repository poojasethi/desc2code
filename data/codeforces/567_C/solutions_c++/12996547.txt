#include <iostream>
#include <map>
using namespace std;
map<long long,long long > a,aa;
int main(){
	long long int res=0,n,k,x;
	cin>>n>>k;
	for (int i = 0; i < n; ++i){
		cin>>x;
		if(x%k==0){
			res+=a[x/k];
			a[x]+=aa[x/k];
		}
		aa[x]++;
	}
	cout<<res;

	return 0;
}