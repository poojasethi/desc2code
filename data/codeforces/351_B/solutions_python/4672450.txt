n = int(raw_input())
p = map(int, raw_input().split())
a = [0] * 4096
k = n * (n - 1) / 2
def s(x):
    res = 0
    while x > 0:
        res += a[x]
        x = x & (x - 1)
    return res
def add(x):
    while x < 4096:
        a[x] += 1
        x += x - (x & (x - 1))
for x in p:
    k -= s(x)
    add(x)
if k % 2:
    print 1.0 * (2 * k - 1)
else:
    print 2.0 * k
