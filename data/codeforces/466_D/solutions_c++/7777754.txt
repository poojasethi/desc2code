#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
typedef long long LL;
const LL MOD(1e9+7);
int n,h,d[2020];
int main()
{
    cin>>n>>h;
    for(int i(1);i<=n;i++)
        cin>>d[i],d[i]=h-d[i];
    LL ans(1);
    for(int i(1);i<=n+1;i++)
    {
        if(d[i]<0||abs(d[i]-d[i-1])>1)
        {
            puts("0");
            return 0;
        }
        if(d[i]==d[i-1]||d[i]==d[i-1]-1)(ans*=(d[i]+1))%=MOD;
    }
    cout<<ans<<endl;
    return 0;
}
