#include <bits/stdc++.h>

using namespace std;

typedef long long int Lint;
Lint N,M,ar[2200],dn[2200][2200];
const Lint MOD=1e9+7;

Lint f( int x , int y ){
	if( dn[x][y] != -1 ) return dn[x][y];
	if( y < 0 ) return 0;
	if( x > N && y ) return 0;
	if( x > N ) return 1;
	if( ar[x]+y==M ) return dn[x][y]=(f( x+1 , y )+(1LL*y*f( x+1 , y-1 ))%MOD)%MOD;
	if( ar[x]+y==M-1 ) return dn[x][y]=(f( x+1 , y+1 )+(1LL*(y+1)*f( x+1 , y ))%MOD)%MOD;
	return dn[x][y]=0;
}

int main(){
	
	cin >> N >> M;
	for( int i=1 ; i<=N ; i++ ) scanf(" %I64d",&ar[i]);
	memset( dn , -1 , sizeof dn );
	cout << f( 1 , 0 ) << endl;
	
	return 0;
	
}
