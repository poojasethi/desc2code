#include<iostream>
using namespace std;
 int n,h;int a[2005];
int f(){
	long long mod=1000000007;
	long long ans=1;
	 a[0]=a[n+1]=0;
 for(int i=1;i<=n+1;i++){
   int k=a[i]-a[i-1];
   if(k>1||k<-1)return 0;
   if(k==0)ans=ans*(a[i]+1)%mod;
   if(k==-1)ans=ans*(a[i-1])%mod;
   }
  return ans;
}
int main(){
   while(cin>>n>>h){
   int falg=0;
   for(int i=1;i<=n;i++){
   cin>>a[i];a[i]=h-a[i];
   if(a[i]<0)falg=1;
   }
   if(falg){cout<<"0"<<endl;continue;}
   cout<<f()<<endl;
   }
return 0;}
    							 			     				  	   	