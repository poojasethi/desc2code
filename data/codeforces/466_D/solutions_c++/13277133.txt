#include <iostream>
#define mod 1000000007
using namespace std;

int n,h,a[2010],dp[2010][2010]; bool v[2010][2010];

int rec(int k, int t){
    if (k>n){
        if (t==0) return 1;
        return 0;
    }

    if (v[k][t]) return dp[k][t];
    v[k][t]=1;
    if (a[k]+t==h){
        dp[k][t]=(rec(k+1,t)+1LL*t*rec(k+1,t-1))%mod;
    }
    else if (a[k]+t+1==h) dp[k][t]=(rec(k+1,t+1)+rec(k+1,t)+1LL*t*rec(k+1,t))%mod;
    return dp[k][t];
}


int main(){
    cin >> n >> h;

    int i;
    for (i=1; i<=n; i++) cin >> a[i];

    cout << rec(1,0) << "\n";
    return 0;
}

 		 		 		   			  		       	  	