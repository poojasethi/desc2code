#include<bits/stdc++.h>
using namespace std;




int *arr;

int main(){
    int n,h;
    cin>>n>>h;
    arr = new int [n+1];
    for(int i=0;i<n;i++){
        cin>>arr[i];
        arr[i] = h-arr[i];
    }
    arr[n] = 0;
    int mod = 1000000007 ;
    long long ans = 1 ;

    for(int i=0;i<n;i++){
        if(arr[i]-arr[i+1] == 1){
            ans *= arr[i];
            ans%=mod;
        }else if(arr[i]-arr[i+1] == 0){
            ans *= arr[i]+1;
            ans %=mod;
        }else if(arr[i] - arr[i+1] != -1)ans = 0;
    }
    cout<<ans<<endl;
}
