#include<iostream>
#include<stdio.h>
#include<string.h>
using namespace std;
#define M 1000000007

int a[2005];
int b[2005];

int main(){
	int n,h,i,j;
	int x;
	scanf("%d%d",&n,&h);
	for(i=1;i<=n;i++){
		scanf("%d",&x);
		a[i]=h-x;
	}
	for(i=1;i<=n+1;i++){
		b[i]=a[i]-a[i-1];
	}
	long long ans=1;
	long long cnt=0;
	for(i=1;i<=n+1;i++){
		if(b[i]==0){
			ans=ans*(cnt+1)%M;
		}
		else if(b[i]==1){
			cnt++;
		}
		else if(b[i]==-1){
			ans=ans*cnt%M;
			cnt--;
		}
		else{
			ans=0;
			break;
		}
	}
	cout<<ans<<endl;
	return 0;
}
