#include <iostream>
using namespace std;
typedef long long ll;
const ll mod=(int)1e9+7;
ll a[2005];
ll b[2005];
int n,h;
int main() {
	cin>>n>>h;
	for(int i=1;i<=n;i++) cin>>a[i],a[i]=h-a[i];
	for(int i=1;i<=n+1;i++) {
		b[i]=a[i]-a[i-1];
	}

	ll ans=1;
	ll cnt=0;
	for(int i=1;i<=n+1&&ans;i++) {
		if(a[i]<0) {ans=0;break;}
		if(b[i]==1) cnt++;
		else {
			if(b[i]==0) {
				if(cnt)
				ans=ans*(cnt+1)%mod;
			}
			else {
				if(b[i]==-1) ans=ans*cnt%mod,cnt--;
				else ans=0;
			}
		}
	}
	if(cnt) ans=0;
	cout<<ans<<endl;
	return 0;
}