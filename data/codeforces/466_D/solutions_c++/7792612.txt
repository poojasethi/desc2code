#include <cstdio>

const int N = 2003;

int mod = 1000*1000*1000 + 7;
long long int dp[N];
int tab[N];

int main()
{
	int n,h;
	scanf("%d%d",&n,&h);
	for (int i=1;i<=n;i++) scanf("%d",&tab[i]);
	for (int i=1;i<=n;i++) tab[i] = h - tab[i];
	dp[0] = 1;
	for (int i=1;i<=n+1;i++)
	{
		if (tab[i] == tab[i-1])
			dp[i] = ( dp[i-1] * (tab[i-1]+1) )%mod;
		if (tab[i] == tab[i-1] + 1)
			dp[i] = dp[i-1];
		if (tab[i] == tab[i-1] - 1)
			dp[i] = ( dp[i-1] * tab[i-1] )%mod;
		if (tab[i] < 0) dp[i] = 0;
	}
	printf("%lld\n",dp[n+1]);
}
