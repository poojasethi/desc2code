#include<cstdio>
#define MOD 1000000007
using namespace std;
typedef long long ll;
ll n,h,i,b[2010],a[2010],cnt,ans;
int main()
{
 scanf("%I64d%I64d",&n,&h);
 for (i=1;i<=n;i++)
  scanf("%I64d",&a[i]),a[i]=h-a[i];
 for (i=1;i<=n+1;i++)b[i]=a[i]-a[i-1];
 ans=1;
 for (i=1;i<=n+1;i++)
      {if (b[i]==1)cnt++;
       else if (b[i]==0)ans=ans*(cnt+1)%MOD;
         else if (b[i]==-1){ans=ans*cnt%MOD;
                            cnt--;
                           }
      else {ans=0;break;}
      }
 printf("%I64d\n",ans);
 return 0;
}
