#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <cmath>

#define LL long long
using namespace std;

const LL mod=1000000007;

bool flag;
int n,h,a[23333];
LL f[23333],ans;

int main()
{
    scanf("%d %d",&n,&h);
    for(int i=1;i<=n;i++){scanf("%d",&a[i]);a[i]=h-a[i];}ans=1;flag=true;
    for(int i=1;i<=n+1;i++){
        if(abs(a[i]-a[i-1])>1){flag=false;break;}
        if(a[i]<0){flag=false;break;}
        if(a[i]!= a[i-1]+1 )ans=ans*(a[i]+1)%mod;
    }
    if(!flag)printf("0");else printf("%I64d",ans);
    return 0;
}
