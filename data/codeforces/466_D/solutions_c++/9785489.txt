#include <iostream>
#include <cstdio>

using namespace std;

int n,h;
long long t,ans,a[2003],b[2003];
int main()
{
    scanf("%d%d",&n,&h);
    for (int i=1;i<=n;i++)
    {
        scanf("%d",&t);
        a[i]=h-t;
    }
    for (int i=1;i<=n+1;i++) b[i]=a[i]-a[i-1];
    t=0; ans=1;
    for (int i=1;i<=n+1;i++)
    {
        if (b[i]==1) t++;
        else if (b[i]==-1) ans*=t--;
        else if (b[i]==0) ans*=(t+1);
        else
        {
            cout <<0<<endl;
            return 0;
        }
        ans=ans%1000000007;
    }
    cout <<ans<<endl;
    return 0;
}
