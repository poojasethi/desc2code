#include<stdio.h>
#include<string.h>
#include<iostream>
using namespace std;
typedef long long ll;
#define mod 1000000007
#define N 2222
int a[N],b[N];


int main()
{
    int n,h;
    cin>>n>>h;
    ll ans=1;
    ll cnt=0;
    for (int i=1;i<=n;i++) cin>>a[i],a[i]=h-a[i];
    for (int i=1;i<=n+1;i++) b[i]=a[i]-a[i-1];

    for (int i=1;i<=n+1;i++)
    {
        if (b[i]==1) cnt++;
        else if (b[i]==0) ans=ans*(cnt+1)%mod;
        else if (b[i]==-1) ans=ans*cnt%mod,cnt--;
        else
        {
            ans=0;
            break;
        }
    }
    cout<<ans<<endl;
    return 0;
}
