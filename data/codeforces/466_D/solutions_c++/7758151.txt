#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 2010
#define mo 1000000007
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,an;
int a[N],f[N];
inline void fail() {
	printf("0\n");
	exit(0);
}
int main() {
	scanf("%d%d",&n,&m);
	For(i,1,n) scanf("%d",&a[i]);
	f[0]=1; a[0]=a[n+1]=m;
	For(i,1,n+1) {
		int A=m-a[i];
		if (A<0) fail();
		For(j,0,N-5) f[j]=(1ll*f[j+1]*(j+1)+f[j])%mo;
		for (j=N-5;j;j--) f[j]=(f[j]+f[j-1])%mo;
		For(j,0,N-5) if (j!=A) f[j]=0;
	}
	printf("%d\n",f[0]);
	return 0;
}
