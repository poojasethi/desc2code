#include <iostream>
#include <cstdio>
using namespace std;
const int maxn=2345;
const int MOD=1e9+7;
int n,m,ai[maxn];
int main()
{
    scanf("%d%d",&n,&m);
    for(int i=1;i<=n;i++)scanf("%d",&ai[i]);
    for(int i=1;i<=n;i++)ai[i]=m-ai[i];
    ai[0]=0;
    ai[n+1]=0;
    long long ans=1;
    bool ju=1;
    for(int i=1;i<=n+1;i++){
        int can=ai[i]-ai[i-1];
        if(can==1)continue;
        if(can==-1||can==0)ans=(ans*(ai[i]+1))%MOD;
        else{
                ju=0;
            printf("0\n");
        break;
        }
    }
    if(ju)printf("%I64d\n",ans);
    return 0;
}
