#include <stdio.h>
#include <string.h>
#include <iostream>
using namespace std;
typedef long long ll;
int mod =1e9+7;
#define N 2222
int n,h;
int a[N];
int main()
{
	cin>>n>>h;
	for(int i=1;i<=n;i++)
		cin>>a[i];
	for(int i=1;i<=n;i++)
		a[i]=h-a[i];
	a[0]=0,a[n+1]=0;
	ll ans=1;
	for(int i=1;i<=n+1;i++){
		if(a[i-1]-a[i]>1){
			ans=0;break;
		}
		else if(a[i]-a[i-1]==0)
			ans*=(a[i]+1),ans%=mod;
		else if(a[i-1]-a[i]==1){
			ans*=a[i-1],ans%=mod;
			//cout<<a[i-1]<<endl;
		}
		//cout<<i<<endl;	
	}
	cout<<ans<<endl;
		

}