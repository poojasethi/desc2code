//In the Name of God

#include<iostream>
#define int long long

using namespace std;

const int M=1e9+7;
int n,H,a[3000],dp[3000][3000];

main()
{
  cin>>n>>H;
  for(int i=1;i<=n;i++)
    cin>>a[i];
  dp[0][0]=1;
  for(int i=1,j=H-a[1];i<=n;i++,j=H-a[i])
    {  
      dp[i][j]+=dp[i-1][j];
      dp[i][j-1]+=(dp[i-1][j-1]*j)%M;
      dp[i][j]+=dp[i-1][j-1];
      dp[i][j-1]+=(dp[i-1][j]*j)%M;
      dp[i][j]%=M;
      dp[i][j-1]%=M;
    }
  cout<<dp[n][0]<<endl;
  return 0;
}
