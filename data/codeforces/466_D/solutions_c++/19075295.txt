#include <cstdio>
using namespace std;
typedef long long LL;
const int N=2005,mod=1e9+7;
int dp[N],a[N],n,h;
int main(){
    scanf("%d%d",&n,&h);
    for(int i=0;i<n;i++){
        scanf("%d",a+i);
        a[i]=h-a[i];
        if(a[i]<0){puts("0");return 0;}
    }if(a[0]>1){puts("0");return 0;}
    dp[a[n++]=0]=1;
    for(int i=1;i<n;i++){
        if(a[i]==a[i-1]+1)dp[i]=dp[i-1];
        if(a[i]==a[i-1]){
            dp[i]=(LL)dp[i-1]*(a[i-1]+1)%mod;
        }if(a[i]==a[i-1]-1)dp[i]=(LL)dp[i-1]*a[i-1]%mod;
    }printf("%d\n",dp[n-1]);
    return 0;
}
  	 				  	  		   	 			 		 	 		