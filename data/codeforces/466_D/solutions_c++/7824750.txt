#include <cstdio>
#include <cstdlib>
#define mod 1000000007
using namespace std;
long long dp[2005][2005];
int main(){
    long long n,m,xx,i;
    scanf("%lld %lld",&n,&m);
    scanf("%lld",&xx);
    if(xx==m) dp[0][0]=1;
    if(xx==m-1) dp[0][1]=dp[0][0]=1;
    for(i=1;i<n;i++)
    {
        scanf("%lld",&xx);
        long long t=m-xx;
        if(t>=0){
            dp[i][t]=dp[i-1][t];
            if(t-1>=0) {
                dp[i][t]=(dp[i][t]+dp[i-1][t-1])%mod;
                dp[i][t-1]=(dp[i][t]*t)%mod;
            }
        }
    }
    printf("%lld\n",dp[n-1][0]);
}
