#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <queue>
#include <map>
#include <string.h>

const int N=100010;
const int inf=0x3f3f3f3f;

using namespace std;

int n,k,d[11];
string s[11];

bool check(string &str)
{
	for(int i=1;i<k;i++)
	{
		int cnt=0;
		for(int j=0;j<n;j++)
			cnt+=!(str[j]==s[i][j]);
		if(cnt!=d[i]) return 0;
	}
	//cout<<str<<endl;
	return 1;
}

void dfs(int x,int y,string &str,int w,int &ans)
{
	if(x==n)
	{
		if(y==w) ans+=check(str);
		return ;
	}
	str[x]=s[0][x];
	dfs(x+1,y,str,w,ans);
	if(y==w) return ;
	if(str[x]=='0') str[x]='1';
	else str[x]='0';
	dfs(x+1,y+1,str,w,ans);
}

int main()
{
	cin>>n>>k;
	for(int i=0;i<k;i++)
		cin>>s[i]>>d[i];
	int ans=0;
	string str(n,'0');
	dfs(0,0,str,d[0],ans);
	cout<<ans<<endl;
	return 0;
}
