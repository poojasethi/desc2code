#include <iostream>
#include <vector>
#include <map>

using namespace std;

const int MAXN=111111;

map<long long,int> t;

long long num;

int maxDepth;

int n,m,i,j,c;
string s;

void generateAll(int depth=0, int prevv=-1){
    if (depth==maxDepth){
        t[num]++;
        return;
    }
    for (int i=prevv+1;i<n;i++){
        num^=1LL<<i;
        generateAll(depth+1,i);
        num^=1LL<<i;
    }
}

int main()
{
    cin >> n >> m;

    for (i=0;i<m;i++){
        cin >> s >> c;
        maxDepth=c;
        num=0LL;
        for (j=0;j<n;j++)
            num=(num*2LL)+1LL-(s[j]-'0');
        generateAll();
    }
    int ans=0;
    for (map<long long,int>::iterator it=t.begin();it!=t.end();it++)
        if (it->second==m) ans++;

    cout << ans;

    return 0;
}
