#include<cstdio>

const int x='0'+'1';
int n,m,s,t[15],l;
char a[15][40],*b,c[40];

inline bool j()
{
	int i,j,k;
	for(i=0;i<m;i++)
	{
		for(k=j=0;j<n;j++)
			if(a[i][j]==c[j])
				k++;
		if(k!=t[i])
			return 0;
	}
	return 1;
}

void dfs(int i)
{
	if(i>=n)
	{
		s+=j();
		return;
	}
	if(i+l<n)
	{
		c[i]=x-b[i];
		dfs(i+1);
	}
	if(l)
	{
		c[i]=b[i];
		l--;
		dfs(i+1);
		l++;
	}
}

int main()
{
	int i;
	for(scanf("%d%d",&n,&m),i=0,l=10;i<m;i++)
	{
		scanf("%s%d",a[i],&t[i]);
		if(t[i]<l)
			b=a[i],l=t[i];
	}
	dfs(0);
	printf("%d\n",s);
	return 0;
}

	 		   	  			 			 		  				