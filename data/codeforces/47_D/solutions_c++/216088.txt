#include <cstdlib>
#include <cctype>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <vector>
#include <string>
#include <iostream>
#include <sstream>
#include <map>
#include <set>
#include <queue>
using namespace std;

int n , m ;
string s[10] ;
int c[10];
int dfs(int deep , int cnt , string str) {
	if (deep == n) {
		for (int i = 0 ; i < m ; i ++) {
			int temp = 0;
			for (int j = 0 ; j < n ; j ++) {
				temp += (s[i][j] == str[j]);
			}
			if (temp != c[i]) return 0;
		}
		return 1;
	}
	int ret = dfs(deep + 1 , cnt , str + (char)('0' + '1' - s[0][deep]));
	if (cnt < c[0]) ret += dfs(deep + 1 , cnt + 1 , str + s[0][deep]);
	return ret;
}
int main() {
	cin >> n >> m;
	for (int i = 0 ; i < m ; i ++) cin >> s[i] >> c[i];
	cout << dfs(0 , 0 , "") << endl;
	return 0;
}