from itertools import combinations
def gernal(s, c):
    q = int(s, 2)
    for t in combinations(xrange(len(s)), c):
        a = q
        for tt in t:
            a ^= 1 << tt
        yield a
n, m = map(int, raw_input().split())
res = []
for i in xrange(m):
    x, y = raw_input().split()
    if not res: res = gernal(x, int(y))
    else:
        q = int(x, 2)
        y = int(y)
        res = [tmp for tmp in res if bin(q^tmp).count('1') == y]
print len(list(res))
