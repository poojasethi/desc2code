t,k = map(int,raw_input().split())
m = 1000000007 
dp = [1] * k
ans = [0]
for x in xrange(k,100001):
    dp.append((dp[x-1]+dp[x-k])%m)
for x in dp:
    ans.append((ans[-1]+x)%m)
for x in xrange(t):
    i,j = map(int,raw_input().split())
    print (ans[j+1] - ans[i]) % m