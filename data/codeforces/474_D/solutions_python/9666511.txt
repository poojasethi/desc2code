def iarr(): return map(int,raw_input().split())
mod = 1000000007
[t,k] = iarr()
m = [1]*k
for i in xrange(k,100006):
    m.append((m[-1] + m[-k])% mod)
for i in xrange(1,100004):
    m[i] = (m[i] + m[i-1]) % mod
for j in xrange(t):
    [a,b] = iarr()
    print (mod + m[b] - m[a-1]) % mod
 	    		 			  	  				 	     			