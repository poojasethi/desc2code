t,k=map(int,raw_input().split())

ma=100001
mo=1000000007
l=[]
r=[1]*k
for i in range(k,ma):
    r.append((r[i-1]+r[i-k])%1000000007)
ans=[]
ans.append(1)
for i in range(1,ma):
    ans.append((ans[i-1]+r[i])%1000000007)


for i in range(t):
    a,b=map(int,raw_input().split())
    print (ans[b]-ans[a-1])%1000000007 
