MOD = 1000000007
MAXN = 100000

t, k = map(int, raw_input().split())
d = [0]*(MAXN+1)
d[0] = 1
for i in range(1, MAXN+1):
    d[i] = d[i-1]
    if i-k >= 0:
        d[i] = (d[i]+d[i-k])%MOD
for i in range(1, MAXN+1):
    d[i] = (d[i]+d[i-1])%MOD
for i in range(t):
  a, b = map(int, raw_input().split())
  print (d[b]-d[a-1]+MOD)%MOD
