t, k = map(int, raw_input().split())
n = 1
qs = []
MOD = 1000000007

for i in xrange(t):
  a, b = map(int, raw_input().split())
  qs.append((a, b))
  n = max([n, a, b])

ans = [0] * (n + 1)
for i in xrange(n + 1):
  if i < k:
    ans[i] = 1
  elif i == k:
    ans[i] = 2
  else:
    ans[i] = (ans[i - 1] + ans[i - k]) % MOD

pref = [0] * (n + 2)
for i in xrange(n + 2):
  pref[i] = (pref[i - 1] + ans[i - 1]) % MOD

for (a, b) in qs:
  print (pref[b + 1] - pref[a] + MOD) % MOD


