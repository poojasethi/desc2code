mod = 1000000007
(n, m) = map(int, raw_input().split(' '))
r, w, ans = [0 for i in range(0, 10**5+10)], [0 for i in range(0, 10**5+10)], [0 for i in range(0, 10**5+10)]
r[0] = 1
for i in range(1, 10**5+10):
    r[i] = (r[i-1] + w[i-1]) % mod
    if i >= m:
        w[i] = (r[i-m] + w[i-m]) % mod
    ans[i] = (ans[i-1] + r[i] + w[i]) % mod
for i in range(0, n):
    (a, b) = map(int, raw_input().split(' '))
    print (ans[b] - ans[a-1] + mod) % mod
