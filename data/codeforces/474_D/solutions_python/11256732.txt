# import sys
# sys.stdin = open('d1.in')

t, k = [int(v) for v in raw_input().split()]
MAXN = 100001
MOD = 1000000007
dp = [1] * MAXN

for i in xrange(k, MAXN):
	dp[i] = (dp[i - 1] + dp[i - k]) % MOD

for i in xrange(1, MAXN):
	dp[i] += dp[i - 1]

for _ in xrange(t):
	a, b = [int(v) for v in raw_input().split()]
	print((dp[b]-dp[a-1]) % MOD)