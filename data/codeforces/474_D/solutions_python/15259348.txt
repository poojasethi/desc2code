mod = (10**9)+7
t,k = map(int,raw_input().split())
dp =[0]*(10**5 + 4)
for i in xrange(k):
    dp[i]=1
for i in xrange(k,10**5 + 4):
    dp[i]=dp[i-1]+dp[i-k]
    dp[i]%=mod
for i in xrange(1,10**5 + 4):
    dp[i]+=dp[i-1]
    dp[i]%=mod
for _ in xrange(t):
    x,y = map(int,raw_input().split())
    ans = dp[y]-dp[x-1]
    while(ans<0):
        ans+=mod
    print ans
