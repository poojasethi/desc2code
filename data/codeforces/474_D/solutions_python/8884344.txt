from sys import stdin

MAX_N = 100000
Mod = 1000000007

tests, k = map(int, stdin.readline().split())

ways = [ 0 ] * (MAX_N + 1)
ways[0] = 1
ways_sum = [ 0 ] * (MAX_N + 1)

for i in xrange(1, MAX_N + 1):
    ways[i] = ways[i - 1] # Choose R
    if i >= k:
        ways[i] = (ways[i] + ways[i - k]) % Mod # Choose k W
    ways_sum[i] = (ways[i] + ways_sum[i - 1]) % Mod

for i in xrange(tests):
    a, b = map(int, stdin.readline().split())
    print ((ways_sum[b] - ways_sum[a - 1] + Mod) % Mod)
