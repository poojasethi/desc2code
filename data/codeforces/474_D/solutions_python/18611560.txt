t,k=map(int,raw_input().split())
arr=[1]*(100001)
for i in range(k,100001):
    arr[i]=(arr[i-1]+arr[i-k])%1000000007
for i in range(1,100001):
    arr[i]=(arr[i-1]+arr[i])%1000000007
for i in range(t):
    a,b=map(int,raw_input().split())
    print((arr[b]-arr[a-1])%1000000007)
