mod = 1000000007 
(t,k) = map(int,raw_input().split())

dp = [0 for x in range(100111)]
dp[0] = 1
for i in range(1,100111):
    if i >= k: dp[i] = (dp[i-1] + dp[i-k])%mod
    else: dp[i] = dp[i-1]
ans = [1]
for i in range(1,100111):
    ans.append((ans[i-1] + dp[i])%mod)
   
for i in range(0,t):
    (a,b) = map(int,raw_input().split())
    res = (ans[b] - ans[a-1])
    if (res < 0): res = res + mod
    print res
