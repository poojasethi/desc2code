prime = int(1e9) + 7
maxim = int(1e5)+1
t,k = [int(i) for i in raw_input().split()]
total = [1]
for i in xrange(1,maxim):
	total.append(total[i-1])
	if i >= k:
		total[i] = (total[i] + total[i-k]) % prime
for i in xrange(1,maxim):
	total[i] = (total[i] + total[i-1]) % prime
for i in xrange(t):
	a,b = [int(ip) for ip in raw_input().split()]
	if a > 0:
		print (total[b] - total[a-1] + prime) % prime
	else:
		print total[b]