
MOD = 1000000007

def main():
	dp1 = [0 for i in range(0, 100001)]
	dp2 = [0 for i in range(0, 100001)]
	t, k = map(int, raw_input().split())
	for i in range(0, 100001):
		if i < k:
			dp1[i] = 1
		else:
			dp1[i] = (dp1[i - 1] + dp1[i - k])%MOD
		if i > 0:
			dp2[i] = (dp2[i - 1] + dp1[i])%MOD
	for i in range(0, t):
		a, b = map(int, raw_input().split())
		print ((dp2[b] - dp2[a - 1] + MOD)%MOD + MOD)%MOD

main()