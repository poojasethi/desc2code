#include<iostream>

using namespace std;
int main()
{
int n,k,t,a,b,i,j,c[100001],m=1000000007,ans;
cin>>t>>k;
for(i=1;i<k;i++)
c[i]=1;
c[0]=0;
c[k]=2;
for(i=k+1;i<=100000;i++)
c[i]=(c[i-1]+c[i-k])%m;
for(i=1;i<=100000;i++)
c[i]=(c[i]+c[i-1])%m;

for(i=1;i<=t;i++)
{cin>>a>>b;
ans=(c[b]-c[a-1])%m;
if(ans<0)
ans=ans+m;
cout<<ans<<endl;
}

}