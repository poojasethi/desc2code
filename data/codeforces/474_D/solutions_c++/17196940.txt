#include<bits/stdc++.h>
using namespace std;
#define Int long long
#define p 1000000007
Int dp[100005],sum[100005];
int main(){
	Int a,b,k,t,i;
	cin>>t>>k;
	dp[0] = sum[0] = 1;
	for(i=1;i<=100001;i++){
		if(i<k){
			dp[i] = 1;
		}else{
			dp[i] = (dp[i-1] + dp[i-k])%p;
		}
		sum[i] = (sum[i-1] + dp[i])%p;
	}
	while(t--){
		cin>>a>>b;
		cout<<(sum[b]-sum[a-1]+p)%p<<endl;
	}
	return 0;
}