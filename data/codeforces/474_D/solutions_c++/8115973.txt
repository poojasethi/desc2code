#include<iostream>
using namespace std;
#define mod 1000000007
#define mm 100010
int main()
{

int t,k;
cin>>t>>k;
long long ar[mm];
ar[0]=0;
for(int i=1;i<k;i++)
ar[i]=1;
ar[k]=2;
for(int i=k+1;i<mm;i++)
{
	ar[i] = (ar[i-1]+ar[i-k])%mod;
}
for(int i=1;i<mm;i++)
	ar[i] = (ar[i]+ar[i-1]);
for(int p=0;p<t;p++)
{
	int a,b;
	cin>>a>>b;
	cout<<(ar[b]-ar[a-1])%mod<<endl;
}
return 0;
}
