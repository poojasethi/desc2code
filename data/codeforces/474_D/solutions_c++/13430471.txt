#include <iostream>

using namespace std;

int n,k,dp[100001],s[100001];

int main(){
  cin>>n>>k;
  for(int i=0;i<k;i++)
    dp[i]=1;
  for(int i=k;i<=100000;i++)
    dp[i]=(dp[i-1]+dp[i-k])%1000000007;
  s[0]=dp[0];
  for(int i=1;i<=100000;i++)
    s[i]=(s[i-1]+dp[i])%1000000007;
  while(n--){
    int a,b;
    cin>>a>>b;
    cout<<(s[b]-s[a-1]+1000000007)%1000000007<<endl;
  }
}
