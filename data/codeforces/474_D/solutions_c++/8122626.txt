#include <bits/stdc++.h>
using namespace std;
#define LL long long
#define MOD 1000000007
LL dp[100010];
int main()
{

	int T,A,B,K;
	cin>>T>>K;
	dp[0] = 1;
	for(int i = 1;i<=100000;i++)
	{
		dp[i] = dp[i-1];
		if(i-K>=0)
			dp[i]+=dp[i-K];
		dp[i]%=MOD;
	}
	for(int i = 1;i<=100000;i++){
		dp[i]+=dp[i-1];
		dp[i]%=MOD;
	}
	while(T--)
	{
		cin>>A>>B;
		cout<<(dp[B] - dp[A-1] + MOD)%MOD<<"\n";
	}
	return 0;
}