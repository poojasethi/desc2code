#include <cstdio>
#define REP(i,n) for (int i=1;i<=n;++i)
using namespace std;

const int MO=1000000007;
int n,m,k,l,r;
int f[100010];

int main() {
	n=100000;
	scanf("%d%d",&m,&k);
	f[0]=1;
	REP(i,n) {
		f[i]=f[i-1];
		if (i>=k) (f[i]+=f[i-k])%=MO;
	}
	REP(i,n)
		{
		f[i]+=f[i-1];
		f[i]%=MO;
	}
	REP(i,m) {
		scanf("%d %d",&l,&r);
		printf("%d\n",((f[r]-f[l-1])%MO+MO)%MO);
	}
	return 0;
}
