#include<stdio.h>
int main(){
int t,k,mod=1000000007,i;
scanf("%d%d",&t,&k);
int dp[100005];
dp[0]=0;
for(i=1;i<k;i++)
dp[i]=1;
dp[i]=2;
for(i++;i<=100000;i++)
	dp[i]=(dp[i-1]+dp[i-k])%mod;
int h[100005]={0};
for(i=1;i<=100000;i++)
h[i]=(h[i-1]+dp[i])%mod;
while(t--){
int a,b;
scanf("%d%d",&a,&b);
printf("%d\n",((h[b]-h[a-1])<0)?mod+(h[b]-h[a-1]):(h[b]-h[a-1]));
}
return 0;
}
