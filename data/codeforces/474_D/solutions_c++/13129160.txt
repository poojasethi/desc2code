#include<bits/stdc++.h>
#define MOD 1000000007
using namespace std;
int sum[100005];
int arr[100005];	
int main()
{
	int t,k;
	cin>>t>>k;
		
	arr[0]=1;
	for(int i=1;i<=100000;i++)
	{
		arr[i]=( arr[i-1] +   (i>=k?arr[i-k]:0)     )%MOD;
		sum[i]=(sum[i-1]+arr[i])%MOD;		
	}
	while(t--)
	{
		int a,b;
		cin>>a>>b;
		cout<<((sum[b]-sum[a-1]+MOD)%MOD)<<endl;
	}
	return 0;
}
