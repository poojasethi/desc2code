#include <bits/stdc++.h>
#define MAX 1000000007
using namespace std;
int dp[100007]={0},sum[100007]={0};
int main()
{
	int t,k,a,b,i;
	scanf("%d%d",&t,&k);
	dp[0]=1;
	sum[0]=0;
	for(i=1;i<=100000;i++)
	{
		dp[i] = dp[i-1];
		if(i>=k)
			dp[i] = (dp[i] + dp[i-k])%MAX;
		sum[i]=(dp[i]+sum[i-1])%MAX;
	}
	while(t--)
	{
		scanf("%d%d",&a,&b);
		printf("%d\n",(sum[b]-sum[a-1]+MAX)%MAX);
	}
	return 0;
}
