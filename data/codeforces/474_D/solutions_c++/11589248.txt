#include <stdio.h>

int main(){
	int t,n=100001,k,i,j,a,b,m=1000000007;

	int s[n];

	scanf("%d%d", &t, &k);

	for(i=0;i<k;i++)
		s[i]=1;

	for(;i<n;i++){
		s[i]=s[i-1]+s[i-k];

		if(s[i]<m);
		else
			s[i]-=m;
	}

	for(i=1;i<n;i++){
		s[i]+=s[i-1];

		if(s[i]<m);
		else
			s[i]-=m;
	}

	while(t--){
		scanf("%d%d", &a, &b);

		k=s[b]-s[a-1];

		if(k<0)
			k+=m;

		printf("%d\n", k);
	}

	return 0;
}