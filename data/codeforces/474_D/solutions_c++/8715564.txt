#include<iostream>
using namespace std;
#define N 1000000007

int main(void)
{
	long long n,k,i,j,p,t;
	long long a[100020];
	cin>>t>>k;
	a[0]=0;
	for(i=1;i<k;i++) a[i]=1;
	a[k]=2;
	for(i=k+1;i<=100000;i++) a[i]=(a[i-k]+a[i-1]) % N;
	for(i=1;i<=100000;i++) a[i]=(a[i-1]+a[i])%N;
	for(i=1;i<=t;i++)
	{
		cin>>j>>k;
		p=(a[k]-a[j-1]+N) % N;
		cout<<p<<endl;
	}
	return 0;
}