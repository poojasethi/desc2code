#include <stdio.h>
long long int s[200002];
main()
{
	int n,k;
	scanf("%d %d",&n,&k);
	int a,b;
	s[0]=1;
	for(int i=0;i<200000;i++)
	{
		if(i<k)
		{
			s[i+1]=s[i]+1;	
		}
		else
		{
			s[i+1]=(2*s[i]-s[i-1]+s[i-k+1]-s[i-k])%1000000007;
		}	
	}
	for(int i=0;i<n;i++)
	{
		scanf("%d %d",&a,&b);
		printf("%lld\n",(((s[b+1]-s[a])%1000000007)+1000000007)%1000000007);
	}
	
}

    	  		  	   		  		 			  		 	