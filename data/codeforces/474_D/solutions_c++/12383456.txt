#include<bits/stdc++.h>
using namespace std;

typedef long long ll;
const int mod=1000000007;
const int mx=100005;

int main() {
	ll t,k, a[mx], b[mx]; cin>>t>>k;
	for (int i=0; i<mx; i++) {
		if(i<k) a[i]=1;
		else a[i]=(a[i-1]+a[i-k])%mod;
		b[i]=(a[i]+b[i-1])%mod;
	}

	for (int i=0; i<t; i++) {
		int x,y; cin>>x>>y;
		cout << (b[y]-b[x-1]+mod)%mod << endl;
	}
	
	return 0;
}
