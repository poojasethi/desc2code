#include<cstdio>
using namespace std;
#define mod 1000000007
int a1[100001];
int main()
{
	int n,k,a,b;
	scanf("%d%d",&n,&k);
	for(int i=0;i<k;++i)
		a1[i]=1;
	for(int i=k;i<100001;++i)
		a1[i]=(a1[i-1]+a1[i-k])%mod;
	a1[0]=0;
	for(int i=2;i<100001;++i)
		a1[i]=(a1[i]+a1[i-1])%mod;
	while(n--)
	{
		scanf("%d%d",&a,&b);
		printf("%d\n",(a1[b]-a1[a-1]+mod)%mod);
	}
}