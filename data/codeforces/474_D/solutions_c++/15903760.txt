#include<iostream>
int dp[100001],n,k,i,x,y;
const int mod =1e9+7;
using namespace std;
int main()
{
cin>>n>>k;

for(i=0;i<k;i++)
dp[i]=1;
for(i=k;i<100001;i++)
dp[i]=(dp[i-1]+dp[i-k])%mod;
dp[0]=0;
for(i=2;i<100001;i++)
dp[i]=(dp[i]+dp[i-1])%mod;
while(n--)
 {
 cin>>x>>y;
 cout<<(dp[y]-dp[x-1] +mod)%mod<<"\n";
 }
return 0;
}
