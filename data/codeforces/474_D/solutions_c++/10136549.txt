#include<bits/stdc++.h>
#define mod 1000000007
using namespace std;
int main()
{
	int t,k,a[100001]={0},x,y,i;
	scanf("%d%d",&t,&k);
	for(i=1;i<k;i++)
		a[i]=1;
	a[k]=2;
	for(i=k+1;i<=100000;i++)
		a[i]=(a[i-k]+a[i-1])%mod;
	for(i=1;i<=100000;i++)
		a[i]=(a[i]+a[i-1])%mod;
	while(t--)
	{	
		scanf("%d%d",&x,&y);
		printf("%d\n",(a[y]-a[x-1]+mod)%mod);
	}	
	return 0;
}
