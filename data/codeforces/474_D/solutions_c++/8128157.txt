#include<iostream>
#define mod 1000000007
using namespace std;
typedef long long ll;
ll a[100005];
ll sm[100005];
int main()
{
	int i,j,k,t,K;
	ll an;
	cin>>t>>K;
	a[0]=1;
	sm[0]=1;
	for(i=1;i<=100000;i++)
	{
		a[i]=a[i-1];
		if(i-K>=0)a[i]+=a[i-K];
		a[i]%=mod;
		sm[i]=(sm[i-1]+a[i])%mod;
	}
	while(t)
	{
		t--;
		cin>>j>>k;
		an=sm[k]-sm[j-1];
		if(an<0)an+=mod;
		cout<<an<<endl;
	}
	return 0;
}
