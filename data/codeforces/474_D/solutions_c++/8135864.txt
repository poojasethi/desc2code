#include <bits/stdc++.h>
#define ll long long int
#define eps 1000000007

using namespace std;

int main()
{
	ll i,t,k,a[100001],b[100001],aa,bb;
	cin>>t>>k;
	for(i=0;i<=100000;i++)
	{
		if(i<k)
			a[i]=1;
		else
			a[i]=(a[i-1]+a[i-k])%eps;
		b[i]=(a[i]+b[i-1])%eps;
	}
	for(i=0;i<t;i++)
	{
		cin>>aa>>bb;
		cout<<(b[bb]-b[aa-1]+eps)%eps<<endl;
	}
	return 0;
}