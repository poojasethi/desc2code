#include<cstdio>
#define P 1000000007
using namespace std;
int n,k,i,l,r,f[100005],sum[100005];
int main()
{
  scanf("%d%d",&n,&k);
  f[0]=1;
  for (i=1;i<=100000;i++)
    f[i]=(f[i-1]+((i-k>=0)?f[i-k]:0))%P,sum[i]=(sum[i-1]+f[i])%P;
  for (i=1;i<=n;i++)
    scanf("%d%d",&l,&r),printf("%d\n",(sum[r]-sum[l-1]+P)%P);
}
