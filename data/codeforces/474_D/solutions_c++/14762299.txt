#include<iostream>
using namespace std;
int main()
{int t,k;
cin>>t>>k;long long int a[100001];a[0]=0;
long long int mod=1000000007;
for(int i=1;i<=100000;i++)
{if(i<k)a[i]=1;else if(i==k)a[i]=2;
else a[i]=(a[i-1]+a[i-k])%mod;
}
for(int i=2;i<=100000;i++)
{a[i]=(a[i-1]+a[i]);
}
while(t--)
{int p,b;
cin>>p>>b;
cout<<(a[b]-a[p-1])%mod<<endl;
}
}