#include<cstdio>
#include<vector>
using namespace std;

#define maxn 100010

vector<int> g[maxn],q[maxn];
int p[maxn][2];
int ans[maxn];
int n,m;
int ti;

void dfs(int v,int fa)
{
    p[v][0]=++ti;
    for(int i=0;i<g[v].size();i++)
        if (g[v][i]!=fa) dfs(g[v][i],v);
    p[v][1]=ti;
}

int tag[maxn<<3];
int sum[maxn<<3];

void update(int x,int l,int r)
{
    if (tag[x])
        sum[x]=r-l+1;
    else
        sum[x]=sum[x<<1]+sum[x<<1|1];
}

void modify(int L,int R,int x,int l,int r,int k)
{
    if (l<=L && R<=r)
    {
        tag[x]+=k;
        if (l==r)
            sum[x]= tag[x]>0;
        else
            update(x,L,R);
        return;
    }
    int mid=(L+R)>>1;
    if (l<=mid) modify(L,mid,x<<1,l,r,k);
    if (mid<r) modify(mid+1,R,x<<1|1,l,r,k);
    update(x,L,R);
}

void solve(int v,int fa)
{
    for(int i=0;i<q[v].size();i++)
        modify(1,ti,1,p[q[v][i]][0],p[q[v][i]][1],1);
    ans[v]=sum[1];
    for(int i=0;i<g[v].size();i++)
        if (g[v][i]!=fa) solve(g[v][i],v);
    for(int i=0;i<q[v].size();i++)
        modify(1,ti,1,p[q[v][i]][0],p[q[v][i]][1],-1);
}

int main()
{
    scanf("%d%d",&n,&m);
    int x,y;
    for(int i=1;i<n;i++)
    {
        scanf("%d%d",&x,&y);
        g[x].push_back(y);
        g[y].push_back(x);
    }
    for(int i=1;i<=m;i++)
    {
        scanf("%d%d",&x,&y);
        q[x].push_back(x);q[x].push_back(y);
        q[y].push_back(x);q[y].push_back(y);
    }
    dfs(1,0);
    solve(1,0);
    for(int i=1;i<=n;i++)
        printf("%d ",max(ans[i]-1,0));
    return 0;
}