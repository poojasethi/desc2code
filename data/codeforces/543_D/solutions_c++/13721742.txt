#include <cstdio>

#define N 200010
#define MOD 1000000007

#ifdef WIN32
	#define LL "%I64d"
#else
	#define LL "%lld"
#endif

int GetInt()
{
	register int aa = 0, bb = 1;
	register char ch = getchar();
	while ((ch < '0' || ch > '9') && ch != '-')
		ch = getchar();
	ch == '-' ? aa = 0, bb = -1 : aa = ch - '0';
	while (ch = getchar(), ch >= '0' && ch <= '9')
		aa = (aa << 1) + (aa << 3) + ch - '0';
	return bb == 1 ? aa : -aa;
}

int n, Fa[N], Et[N], Ep[N], Last[N], En;
long long Ans[N], LS[N], RS[N], tmp;

void insert(int f, int t)
{
	Et[++En] = t;
	Ep[En] = Last[f];
	Last[f] = En;
}

int main()
{
	register int i, j;
	n = GetInt();
	Ans[1] = 1;
	for (i = 2; i <= n; i++)
		Ans[i] = 1, Fa[i] = GetInt();
	for (i = n; i >= 2; i--)
	{
		RS[i] = Ans[Fa[i]];
		(Ans[Fa[i]] *= Ans[i] + 1) %= MOD;
		insert(Fa[i], i);
	}
	for (i = 1; i <= n; i++)
	{
		Ans[i] = 1;
		for (j = Last[i]; j; j = Ep[j])
		{
			LS[Et[j]] = Ans[i];
			(Ans[i] *= Ans[Et[j]] + 1) %= MOD;
		}
	}
	LS[1] = RS[1] = 1;
	for (i = 1; i <= n; i++)
	{
		tmp = LS[i] * RS[i] % MOD * Ans[Fa[i]] % MOD + 1;
		printf(LL " ", Ans[i] * tmp % MOD);
		Ans[i] = tmp;
	}
}