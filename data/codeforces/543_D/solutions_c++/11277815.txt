#include<cstdio>
#include<cstring>
#include<algorithm>
#include<vector>
#define fi first
#define se second
#define fo(i,a,b) for(int i=a;i<=b;i++)
#define fd(i,a,b) for(int i=a;i>=b;i--)
using namespace std;
typedef long long LL;
typedef pair<LL,LL> PI;

const int Mo = 1000000007;
const int N = int(2e5)+5;

int n;
LL f[N] , ans[N];
int adj[N<<1] , next[N<<1] , g[N] , tot;
int fa[N];
int bf[N];
int tp[N] , cnt;
LL L[N] , R[N] , Fa[N];

void Ins(int x,int y)
{
	adj[++tot]=y; next[tot]=g[x]; g[x]=tot;
}

void Init()
{
	scanf("%d",&n);
	fo(i,2,n)
	{
		int x;
		scanf("%d",&x);
		Ins(x,i);
	}
}

void Work()
{
	fd(i,n,1)
	{f[i] = 1 ; for(int p=g[i];p;p=next[p]) (f[i] *= f[adj[p]]+1) %= Mo;}
	fo(i,1,n)
	{
		cnt = 0;
		ans[i] = (Fa[i] + 1) % Mo;
		for(int p=g[i];p;p=next[p]) tp[++cnt] = adj[p] , (ans[i] *= f[adj[p]]+1) %= Mo;
		LL tmp = 1;
		fo(j,1,cnt) L[tp[j]] = tmp , (tmp *= f[tp[j]]+1) %= Mo;
		tmp = 1;
		fd(j,cnt,1) Fa[tp[j]] = (Fa[i]+1) * tmp % Mo * L[tp[j]] % Mo , (tmp *= f[tp[j]]+1) %= Mo;
	}
	fo(i,1,n) printf("%I64d ",ans[i]);
}

int main()
{
	
	Init();
	Work();
	
	return 0;
}
 					        	 	    	 	 	 	 	