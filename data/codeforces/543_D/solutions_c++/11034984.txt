#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<string>
#include<queue>
#include<stack>
#include<vector>
using namespace std;

const int maxn = 400010, mod = 1000000007;
int f[maxn], p[maxn];
int N, y;

vector <int> g[maxn];

int main()
{
  //freopen("text.in","r",stdin);
  //freopen(".out","w",stdout);
  cin >> N;
  for (int i=2; i<=N; i++)
  	scanf ("%d", &y), g[y].push_back (i);
  for (int i=N; i>=1; i--)
  	{
  		f[i] = 1;
			for (int j=0; j<g[i].size(); j++)
				f[i] = 1LL*f[i]*(f[g[i][j]]+1)%mod;
		}
	fill (p+1, p+N+1, 1);
	for (int i=1; i<=N; i++)
		{
			printf ("%d ", 1LL*f[i]*p[i]%mod);
			int now = 1;
			for (int j=0; j<g[i].size(); j++)
				{
					int u = g[i][j];
					p[u] = 1LL*p[u]*now%mod;
					now = 1LL*now*(f[u]+1)%mod;
				}
			now = p[i];
			for (int j=g[i].size()-1; j>=0; j--)
				{
					int u = g[i][j];
					p[u] = 1LL*p[u]*now%mod+1%mod;
					now = 1LL*now*(f[u]+1)%mod;
				}
		}
	return 0;
}

