#include<cstdio>
#include<vector>
#define N 200005
using namespace std;
const int P=1000000007;
vector<int>a[N],L[N],R[N];int f[N],last[N],g[N],n,i,x;
int mul(int x,int y){return 1ll*x*y%P;}
//void div(int x,int y){return 1ll*x*Pow(y,P-2)%P;}
void DP(int k)
{
    f[k]=1;
    for (int i=0,x;i<a[k].size();i++)
    {
        x=a[k][i];DP(x);
        f[k]=mul(f[k],f[x]+1);
        L[k].push_back(mul(i?L[k][i-1]:1,f[x]+1));
        R[k].push_back(0);
  }
    for (int i=a[k].size()-1;i>=0;i--)
        R[k][i]=mul(i==a[k].size()-1?1:R[k][i+1],f[a[k][i]]+1);
} 
void DQ(int k)
{
    for (int i=0,x;i<a[k].size();i++)
    {
        x=a[k][i];
        last[x]=mul(i?L[k][i-1]:1,i==a[k].size()-1?1:R[k][i+1]);
        last[x]=mul(last[x],last[k]+1);
        g[x]=mul(last[x]+1,f[x]);
        DQ(x);
  }
}
int main()
{
    scanf("%d",&n);
    for (i=2;i<=n;i++)
        scanf("%d",&x),a[x].push_back(i);
    DP(1);
    g[1]=f[1];//last[1]=1;
    DQ(1);
    for (i=1;i<=n;i++)
        printf("%d ",g[i]);
}