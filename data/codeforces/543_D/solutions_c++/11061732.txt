#include<algorithm>
#include<bitset>
#include<cctype>
#include<climits>
#include<cmath>
#include<cstdio>
#include<cstring>
#include<iostream>
#include<map>
#include<queue>
#include<set>
#include<sstream>
#include<stack>
#include<string>
#include<vector>

using namespace std;

const int maxn=200001,mod=1000000007;

typedef long long LL;
typedef long double LD;
typedef int array[maxn];

int n,m,e;
array fa;
LL f[maxn],g[maxn];
vector<int> son[maxn];

int main()
{
#ifndef ONLINE_JUDGE
	freopen("data.in","r",stdin);
// 	freopen("data.out","w",stdout);
#endif
	cin>>n;
	for(int i=2;i<=n;i++)
	{
		scanf("%d",&fa[i]);
		son[fa[i]].push_back(i);
	}
	for(int i=n;i>=1;i--)
	{
		f[i]=1;
		for(int j=0;j<int(son[i].size());j++)
			f[i]=f[i]*(1+f[son[i][j]])%mod;
	}
	for(int i=1;i<=n;i++)
	{
		for(int j=0;j<int(son[i].size());j++)
			g[son[i][j]]=g[i]+1;
		LL sum=1;
		for(int j=0;j<int(son[i].size());j++)
			g[son[i][j]]=g[son[i][j]]*sum%mod,sum=sum*(f[son[i][j]]+1)%mod;
		sum=1;
		for(int j=int(son[i].size())-1;j>=0;j--)
			g[son[i][j]]=g[son[i][j]]*sum%mod,sum=sum*(f[son[i][j]]+1)%mod;
	}
	for(int i=1;i<=n;i++)
		printf("%I64d%c",f[i]*(g[i]+1)%mod,i==n?'\n':' ');
	return 0;
}
