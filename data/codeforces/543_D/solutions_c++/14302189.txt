//In the Name of God

#include<iostream>
#include<vector>
#define int long long

using namespace std;

const int M=1e9+7;
const int maxn=200200;
int n,dpd[maxn],dpu[maxn];
vector<int> g[maxn];

void init()
{
  for(int i=0;i<maxn;i++)
    dpd[i]=dpu[i]=1;
}

void dfs(int v)
{
  for(int u,i=0;i<g[v].size();i++)
    {
      u=g[v][i];
      dfs(u);
      dpd[v]=(dpd[v]*(dpd[u]+1))%M;
    }	
}

void gfs(int v)
{
  int c=dpu[v];
  for(int i=0;i<g[v].size();i++)
    dpu[g[v][i]]=c,c=(c*(dpd[g[v][i]]+1))%M;
  c=1;
  for(int i=(int)g[v].size()-1;i>=0;i--)
    dpu[g[v][i]]=(dpu[g[v][i]]*c)%M,c=(c*(dpd[g[v][i]]+1))%M;
  for(int i=0;i<g[v].size();i++)
    dpu[g[v][i]]++,gfs(g[v][i]);
}

main()
{
  ios_base::sync_with_stdio(0);
  init();
  cin>>n;
  for(int p,i=1;i<n;i++)
    {
      cin>>p;
      p--;
      g[p].push_back(i);
    }
  dfs(0);
  gfs(0);
  for(int i=0;i<n;i++)
    cout<<(dpd[i]*dpu[i])%M<<" ";
  cout<<endl;
  return 0;
}
