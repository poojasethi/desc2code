#include <iostream>
#include <cstdio>
#include <algorithm>
#include <vector>
#define N 200001
#define MOD 1000000007
using namespace std;
typedef long long ll;
int n,fa[N];
ll num[N],prod[N],dorp[N],f[N];
vector <int> v[N];
void build(int u)
{
	int i;
	num[u]=1;
	for(i=0;i<v[u].size();i++)
	{
		int to=v[u][i];
		build(to);
		num[u]=num[u]*(num[to]+1)%MOD;
	}
}
void dp(int u)
{
	if(!v[u].size())return;
	int i;
	prod[v[u][0]]=1;
	for(i=1;i<v[u].size();i++)
		prod[v[u][i]]=prod[v[u][i-1]]*(num[v[u][i-1]]+1)%MOD;
	dorp[v[u][v[u].size()-1]]=f[u];
	for(i=v[u].size()-2;i>=0;i--)
		dorp[v[u][i]]=dorp[v[u][i+1]]*(num[v[u][i+1]]+1)%MOD;
	for(i=0;i<v[u].size();i++)
	{
		int to=v[u][i];
		f[to]=(prod[to]*dorp[to]+1)%MOD;
		dp(to);
	}
}
int main()
{
	int i;
	scanf("%d",&n);
	for(i=2;i<=n;i++)
	{
		scanf("%d",&fa[i]);
		v[fa[i]].push_back(i);
	}
	build(1);
	f[1]=1;
	dp(1);
	for(i=1;i<n;i++)
		printf("%d ",num[i]*f[i]%MOD);
	printf("%d\n",num[n]*f[n]%MOD);
	return 0;
}