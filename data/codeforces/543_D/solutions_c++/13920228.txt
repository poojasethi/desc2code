#include<bits/stdc++.h>

using namespace std;

#define md 1000000007

vector < long long > V[200005],W[200005],W2[200005];

long long T[200005],L[200005],n,i,x;

void g(int x, int ata){

	int i;

	for(i=0;i<V[x].size();i++)
		if(V[x][i] != ata){
			 long long t=1;
			if(i) t *= W[x][i-1];
			t %= md;
			if(i != W2[x].size()-1) { t *= W2[x][i+1];  }
			t %= md;
			T[V[x][i]] *= (t * L[x] + 1)%md;
			T[V[x][i]] %= md;
			L[V[x][i]] = L[x]*t+1;
			L[V[x][i]] %= md;

			g(V[x][i],x);
		}
}
void f(int x, int ata){

	int i;

	for(i=0;i<V[x].size();i++)
	    if(V[x][i] != ata){
			
			f(V[x][i],x);

			T[x] *= T[ V[x][i] ] + 1;
			T[x] %= md;

			W[x].push_back(T[x]);
			long long t = T[ V[x][i] ]+1;
			W2[x].push_back(t);
		}
	    else{
			W[x].push_back(1);
			W2[x].push_back(1);
		}

	for(i=W2[x].size()-2;i>=0;i--){
		W2[x][i] *= W2[x][i+1];
		W2[x][i] %= md;
	}
}

int main(){

	cin >> n;

	for(i=2;i<=n;i++){
		cin >> x;
		V[i].push_back(x);
		V[x].push_back(i);
		L[i] = T[i] = 1;
	}
	L[1] = T[1] = 1;
	
	f(1,0);

	g(1,0);

	for(i=1;i<=n;i++)
		cout << (T[i]+md)%md << " ";

	return 0;
}

