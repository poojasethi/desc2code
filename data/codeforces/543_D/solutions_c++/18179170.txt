#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>

#define ll long long
#define inf 1e9
#define eps 1e-8
#define md 1000000007
#define N 200010
using namespace std;
struct yts { int x,t,ne;} e[2*N];
ll f[N],g[N],ans[N],qian[N],hou[N];
int v[N],fa[N],q[N];
int num=0;

void put(int x,int y)
{
	num++; e[num].x=x; e[num].t=y;
	e[num].ne=v[x]; v[x]=num;
}

void dfs1(int x)
{
	f[x]=1;
	for (int i=v[x];i;i=e[i].ne)
	{
		dfs1(e[i].t);
		f[x]=f[x]*(f[e[i].t]+1)%md;
	}
}

void dfs2(int x)
{
	int w=0;
	if (fa[x]) q[++w]=fa[x];
	for (int i=v[x];i;i=e[i].ne) q[++w]=e[i].t;
	qian[0]=hou[w+1]=1;
	for (int i=1;i<=w;i++) qian[i]=qian[i-1]*(f[q[i]]+1)%md;
	for (int i=w;i;i--) hou[i]=hou[i+1]*(f[q[i]]+1)%md;
	for (int i=1;i<=w;i++) g[q[i]]=qian[i-1]*hou[i+1]%md;
	ans[x]=qian[w];
	for (int i=v[x];i;i=e[i].ne)
	{
		int y=e[i].t;
		f[x]=g[y]; dfs2(y);
	}
}

int main()
{
	int n; scanf("%d",&n);
	for (int i=2;i<=n;i++)
	{
		scanf("%d",&fa[i]);
		put(fa[i],i);
	}
	dfs1(1);
	dfs2(1);
	for (int i=1;i<=n;i++) printf("%lld ",ans[i]); printf("\n");
	return 0;
}
