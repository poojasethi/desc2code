#include<cstdio>
#include<algorithm>
#include<cstdlib>
#include<cmath>
#include<iostream>
const long long mo=1e9+7;
const int N=200001;
using namespace std;
struct st{int to,next;} e[N<<1];
int n,m,i,x,cnt,fi[N],b[N];
long long f[N],g[N];
bool vis[N];
void add(int x,int y)
{
	e[++cnt].to=y; e[cnt].next=fi[x]; fi[x]=cnt;
	e[++cnt].to=x; e[cnt].next=fi[y]; fi[y]=cnt;
}

void dp1(int x)
{
	int y;
	vis[x]=f[x]=1;
	for (int i=fi[x];i;i=e[i].next)
		if (!vis[e[i].to])
		{
			dp1(y=e[i].to);
			f[x]=(f[x]*(f[y]+1))%mo;
		}
}

void dp2(int x)
{
	vis[x]=m=0;
	for (int i=fi[x];i;i=e[i].next) 
		if (vis[e[i].to]) b[++m]=e[i].to;
	for (int i=1,t=1;i<=m;i++)
	{
		g[b[i]]=(t*g[x])%mo;
		t=(t*(f[b[i]]+1))%mo;
	}
	for (int i=m,t=1;i;i--)
	{
		g[b[i]]=(g[b[i]]*t+1)%mo;
		t=(t*(f[b[i]]+1))%mo;
	}
	for (int i=fi[x];i;i=e[i].next)
		if (vis[e[i].to]) dp2(e[i].to);
}

int main()
{
		scanf("%d\n",&n);
		for (i=2;i<=n;i++)
		{
			scanf("%d",&x);
			add(x,i);
		}
		dp1(1);
		dp2(g[1]=1);
		for (i=1;i<=n;i++) printf("%I64d ",(f[i]*g[i])%mo);
}
