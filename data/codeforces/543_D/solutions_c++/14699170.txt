#include <bits/stdc++.h>
using namespace std;
const int N = 2e5+2;
const int mod= 1e9+7;
vector<int> adj[N];
#define ll long long
ll rv[N],allv[N];

void dfs(int root){
	ll ret=1;int i;
	for(i=0;i<adj[root].size();++i){
		dfs(adj[root][i]);
		ret= (ret * (rv[adj[root][i]]+1))%mod;
	}
	rv[root]=ret;
}
void dfs2(int root,ll prev){
	vector<pair<ll,int> >x(adj[root].size());
	allv[root]= ((prev+1)*rv[root])%mod;
	int i,j;
	for(i=0;i<adj[root].size();++i)
		x[i]= make_pair(rv[adj[root][i]],adj[root][i]);
	sort(x.begin(),x.end());
	ll result,p=-1;
	for(i=0;i<x.size();++i){
		if(p==x[i].first)
			dfs2(x[i].second,  ((prev+1)*(result))%mod);
		else{
			bool f=true;
			result= 0;
			p =x[i].first;
			for(j=0;j<x.size();++j)
				if(i!=j){
					if(f)result = 1,f=false;
					result = (result *(1+x[j].first))%mod;
				}
			if(f)
				result = 1;
			dfs2(x[i].second, ( (prev+1)*(result) )%mod);
		}
	}
}
int main(){
	int n,i,a;cin>>n;
	for(i=2;i<=n;++i)
		cin>>a,adj[a].push_back(i);
	dfs(1);
	dfs2(1,0);
	cout<<rv[1]<<" ";
	for(i=2;i<=n;++i)
		cout<<allv[i]<<" ";
	cout<<endl;
}
