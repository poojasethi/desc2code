#include <algorithm>
#include <cstdio>
const int mo=1e9+7,N=200005;
int a[N],b[N],c[N],f[N],g[N],to[N],ne[N],fi[N],i,n,x,t,tot;
void add(int x,int y)
{
	to[++tot]=y;ne[tot]=fi[x];fi[x]=tot;
}
void dfs(int x)
{
	f[x]=1;a[++t]=x;
	for (int i=fi[x];i;b[to[i]]=to[ne[i]],i=ne[i])
	{
		dfs(to[i]);
		f[x]=1ll*f[x]*(f[to[i]]+1)%mo;
		
	}
}
void dfs2(int x,long long y)
{
	g[x]=(++y)*f[x]%mo;
	for (int i=fi[x];i;i=ne[i])
	{
		dfs2(to[i],1ll*y*c[b[to[i]]]%mo);
		y=y*(f[to[i]]+1)%mo;
	}
}
int main()
{
	scanf("%d\n",&n);
	for (i=2;i<=n;++i)
	{
		scanf("%d",&x);add(x,i);
	}
	dfs(1);c[0]=1;
	for (i=n;i;--i) c[a[i]]=1ll*(f[a[i]]+1)*c[b[a[i]]]%mo;
	dfs2(1,0);
	for (i=1;i<=n;++i) printf("%d ",g[i]);
}
