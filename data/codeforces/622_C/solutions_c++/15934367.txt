#include<bits/stdc++.h>
using namespace std;
int a[200010];
int k[200010];
int main(){
	int n, m;
	scanf("%d%d",&n,&m);
	int i;
	k[0] = 0;
	for(i=1;i<=n;i++){
		scanf("%d",&a[i]);
		if(i!=1){
			if(a[i]==a[i-1])
				k[i] = k[i-1];
			else
				k[i] = i-1;	
		}
	}
	int l, r, x;
	while(m--){
		scanf("%d%d%d",&l,&r,&x);
		int ans;
		if(a[r]!=x)ans = r;
		else ans = k[r];
		if(ans>=l)
			printf("%d\n",ans);
		else
			puts("-1");
	}
}

