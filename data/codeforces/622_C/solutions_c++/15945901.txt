#include<bits/stdc++.h>
using namespace std;
int main()
{
int n,m;
int i;
scanf("%d%d",&n,&m);
int a[n],b[n];
for(i=0;i<n;i++)
scanf("%d",&a[i]);
for(i=0;i<n;i++)
{
if(i!=0 && a[i]==a[i-1])
{
b[i]=b[i-1];
continue;
}
int j=i;
while(a[j]==a[i])
j++;
b[i]=j;
}
//for(i=0;i<n;i++)
//printf("%d ",b[i]);
int l,r,x;
for(i=0;i<m;i++)
{
scanf("%d%d%d",&l,&r,&x);
if(a[l-1]!=x)
printf("%d\n",l);
else 
{
if((b[l-1]+1)<=r)
printf("%d\n",b[l-1]+1);
else
printf("%d\n",-1);
}
}
return 0;
}
