// 对于每个位置i，记录a[j]!=a[i]的最小j>i

#include<cstdio>

#define ran 222222

int n,m;
int a[ran],x[ran];

int main() {
	scanf("%d%d", &n, &m);
	for(int i=1;i<=n;i++) scanf("%d", &a[i]);
	for(int i=n;i>0;i--) {
		if(a[i]!=a[i+1]) x[i] = i+1;
		else x[i] = x[i+1];
	}
	for(int i=0;i<m;i++) {
		int l,r,v;
		scanf("%d%d%d", &l, &r, &v);
		if(a[l]!=v) printf("%d\n", l);
		else {
			int p = x[l];
			printf("%d\n", p<=r ? p : -1);
		}
	}
	
	return 0;
}