#include <bits/stdc++.h>

using namespace std;


int main()
{
    long long a[200001],o[200001],n,m,z,y,x,p;

	scanf("%I64d%I64d",&n,&m);
	for(int i=1;i<=n;i++) scanf("%I64d",&a[i]);
	o[n]=n+1;
	for(int i=n-1;i>0;i--)
		if (a[i]==a[i+1])o[i]=o[i+1];
		else o[i]=i+1;
	for(int i=1;i<=m;i++){
		scanf("%I64d%I64d%I64d",&x,&y,&z);
		p=x;
		while (p<=y && a[p]==z)p=o[p];
		if (p>y)printf("%d\n",-1);else printf("%I64d\n",p);
	}
}