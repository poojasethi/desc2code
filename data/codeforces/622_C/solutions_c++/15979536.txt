#include<bits/stdc++.h>
using namespace std; 
int n , m , a[200005],b[200005] , l , r ,x;
int main (){
scanf("%d %d",&n,&m);
for(int i = 1 ; i <= n ; i++){
	scanf(" %d",&a[i]);
	if(a[i-1]==a[i])b[i] = b[i-1];
	else b[i] = i-1 ;
	}
for(int j = 0 ; j < m ; j++){
	scanf(" %d %d %d",&l,&r,&x);
	if(a[r]!=x)printf("%d\n",r);
	else if(b[r] >= l && b[r]!=0)printf("%d\n",b[r]);
	else printf("-1\n");

}
return 0 ; 
}