#include <bits/stdc++.h>
using namespace std;
const int N = 1e6+5;
vector<int> ad[N];
vector<int> event[N];
int ar[N],prev[N];
int main(){
	int a,n,i,j,m,l,r,x;
	cin>>n>>m;
	for(i=1;i<=n;++i){
		scanf("%d",&a);ar[i]=a;
		if(ar[i]==ar[i-1])
			prev[i]= prev[i-1];
		else
			prev[i]= i-1;
	}
	while(m--){
		scanf("%d%d%d",&l,&r,&x);
		if(ar[r]!=x)printf("%d\n",r);
		else{
			if(prev[r]<l)printf("-1\n");
			else
				printf("%d\n",prev[r]);
		}
	}
}
