#include <bits/stdc++.h>

using namespace std;

const int N=211111;
long long  a[N] , c[N] ;
int n , m , l , r , x ;


int main()
{
scanf("%d %d",&n,&m);

for(int i=1;i<=n;i++){
        scanf("%d",&a[i]);
c[i]=((a[i]==a[i-1])?c[i-1]:i-1);
}

for(int i=1;i<=m;i++){
    scanf("%d %d %d",&l,&r,&x);

if( a[r]!=x )printf("%d\n",r);
else{
   if( c[r]>=l )printf("%d\n",c[r]);
   else printf("-1\n");
}
}

    return 0;
}
