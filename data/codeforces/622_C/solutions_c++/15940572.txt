#include<iostream>
#include<stdio.h>
using namespace std;
int i,g[200001],q[200001],k,l,r,x,n,m,t;
main()
{
 scanf("%d %d", &n , &t);
 for(i=1;i<=n;i++)
   scanf("%d", &g[i]);
 q[n]=n+1;
 for(i=n-1;i>=1;i--)
  if(g[i+1]==g[i]) q[i]=q[i+1]; else q[i]=i+1;
 while(t--)
  {
    scanf("%d %d %d", &l , &r , &x);
   if(g[l]!=x) printf("%d \n", l); else
   if(q[l]<=r) printf("%d \n", q[l]); else
   printf("-1 \n");	
  } 
}
