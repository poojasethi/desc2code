#include <stdio.h>
int n,m,a[200200],l[200200];
int main(void) {
  scanf("%d%d",&n,&m);
  for(int i=1;i<=n;++i)scanf("%d",&a[i]),l[i]=a[i]==a[i-1]?l[i-1]:i-1;
  for(int i=0,x,y,z;i<m;++i)scanf("%d%d%d",&x,&y,&z),printf("%d\n",a[x]!=z?x:a[y]!=z?y:l[y]<x?-1:l[y]);
}
