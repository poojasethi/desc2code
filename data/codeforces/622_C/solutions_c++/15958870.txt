#include<cstdio>
using namespace std;
int a[1111111],b[1111111];
int main(){
	int n,m,l,r,x,last,num;
	scanf("%d%d",&n,&m);
	num=0;
	for(int i=0;i<n;i++)		scanf("%d",&a[i]);
	b[n-1]=n;
	for(int i=n-2;i>=0;i--){
	if(a[i]!=a[i+1])	b[i]=i+1;
	else b[i]=b[i+1];	
	}
	for(int i=0;i<m;i++){
		scanf("%d%d%d",&l,&r,&x);
		l--;
		r--;
		for(;l<=r;l=b[l]){
			if(a[l]!=x)	break;
		}
		if(l<=r)	printf("%d\n",l+1);
		else printf("-1\n");
	}
	return 0;
}