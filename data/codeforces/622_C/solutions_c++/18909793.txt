#include<stdio.h>
#include<iostream>
using namespace std; 
int a[210000],pre[210000]; 

int main()
{
	int n,m,i,l,r,x; 
	cin>>n>>m; 
	a[0]=0; 
	for (i=1; i<=n; i++)
	{
		scanf("%d",&a[i]); 
		if (a[i]==a[i-1]) pre[i]=pre[i-1]; else pre[i]=i; 
	}
	for (i=1; i<=m; i++)
	{
		scanf("%d%d%d",&l,&r,&x); 
		if (pre[r]<=l && a[r]==x) cout<<"-1"<<endl; 
		else
		{
			 if (a[r]!=x) cout<<r; else cout<<pre[r]-1; 
			 cout<<endl;  
		}
	}
	return 0; 
}
	 	 	 			 	 		     		 			 	  	