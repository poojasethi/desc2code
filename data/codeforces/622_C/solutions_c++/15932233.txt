#include<bits/stdc++.h>
#define N 200200
using namespace std;
int n,m,i,a[N],l[N],r[N],L,R,x;
int main(){
	for(scanf("%d%d",&n,&m),i=1;i<=n;i++){
		scanf("%d",&a[i]);
		if(a[i]==a[i-1])l[i]=l[i-1];else l[i]=i;
	}
	for(i=n;i;i--)if(a[i]==a[i+1])r[i]=r[i+1];else r[i]=i;
	for(i=1;i<=m;i++){
		scanf("%d%d%d",&L,&R,&x);
		if(x==a[L])if(r[L]>=R)puts("-1");else printf("%d\n",r[L]+1);
		else printf("%d\n",L);
	}
}