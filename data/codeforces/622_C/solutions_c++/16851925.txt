#include<bits\stdc++.h>
using namespace std;
int a[200005];
int pre[200005];
int main(){
	
	int n, m;
	cin >> n >> m;
	for( int i=1 ; i<=n ; i++ ){
		scanf("%d", &a[i]);
		if( i>1&&a[i]==a[i-1] ){
			pre[i] = pre[i-1];
		}
		else{
			pre[i] = i-1;
		}
	}
	while( m-- ){
		int l, r, x;
		scanf("%d%d%d", &l, &r, &x);
		if( a[r]!=x ){
			printf("%d\n", r);
			continue;
		}
		else{
			printf("%d\n", pre[r]<l ? -1 : pre[r]);
		}
	}
	return 0;
}