#include <bits/stdc++.h>
using namespace std;

int N, Q, a[200002], jump[200002];

main()
{
    scanf("%d %d", &N, &Q);
    for (int i = 1; i <= N; i++) scanf("%d", &a[i]);
    for (int i = N; i >= 1; i--) jump[i] = (a[i] == a[i + 1]) ? jump[i + 1] : (i + 1);
    for (int l, r, x; Q--; )
    {
        scanf("%d %d %d", &l, &r, &x);
        if (a[l] != x) printf("%d\n", l);
            else printf("%d\n", (jump[l] > r) ? -1 : jump[l]);
    }
}
