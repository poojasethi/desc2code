#include <iostream>
#include <cstdio>
using namespace std;

int n, m, l, r, x, a[200005], b[200005];
int main()
{
	int i;
	cin >> n >> m;
	for (i = 1; i <= n; i++) {
		scanf ("%d", &a[i]);
		if (a[i - 1] != a[i]) b[i] = i - 1;
		else b[i] = b[i - 1];
	}
	for (i = 0; i < m; i++) {
		scanf ("%d %d %d", &l, &r, &x);
		if (a[r] != x) printf("%d\n", r);
		else if (b[r] >= l) printf("%d\n", b[r]);
		else printf("-1\n");
	}
    return 0;
}
