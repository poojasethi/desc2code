#include<cstdio>

using namespace std;

int n,m;
int a[200005],right[200005];

int main()
{
	scanf("%d%d",&n,&m);
	for (int i=1;i<=n;i++)
		scanf("%d",&a[i]);
	right[n]=-1;
	for (int i=n-1;i>=1;i--)
		if (a[i]==a[i+1])
			right[i]=right[i+1];
		else right[i]=i+1;
	for (int i=1;i<=m;i++)
	{
		int l,r,k;
		scanf("%d%d%d",&l,&r,&k);
		if (a[l]!=k) printf("%d\n",l);
		else if (right[l]<=r)
				printf("%d\n",right[l]);
				else printf("-1\n");
	}
}
