#include <cstdio>
int n, m, a[200005], p[200005], l, r, x;

int main() {
	scanf(" %d %d", &n, &m);
	for (int i = 1; i <= n; i++) scanf(" %d", &a[i]);
	p[1] = -1;
	for (int i = 2; i <= n; i++) p[i] = a[i] == a[i-1] ? p[i-1] : i-1;
	for (int i = 0; i < m; i++) {
		scanf(" %d %d %d", &l, &r, &x);
		if (x != a[r]) {
			printf("%d\n", r);
		} else if (l <= p[r]) {
			printf("%d\n", p[r]);
		} else {
			printf("-1\n");
		}
	}
	return 0;
}