#include <stdio.h>

const int MAX = 2e5 + 1;
int n, m, a[MAX], pre[MAX], pos, lef, rig, x;

int main(){
	scanf("%d %d", &n, &m);
	for (int i = 1; i <= n; ++i){
		scanf("%d", a + i);
		if (i == 1 || a[i] != a[i - 1])
			pos = i;
		pre[i] = pos;
	}

	while (m--){
		scanf("%d %d %d", &lef, &rig, &x);
		if (a[rig] != x)
			printf("%d\n", rig);
		else
		if (pre[rig] > lef)
			printf("%d\n", pre[rig] - 1);
		else
			printf("-1\n");
	}

	return 0;
}