#include <iostream>
#include <cstdio>
using namespace std;
int a,b,c,f[1000001],g[1000001],m,n,lt,rt,x;
int main() {
	scanf ("%d %d",&n,&m);
	for (a=1;a<=n;a++) {
		scanf ("%d",&f[a]);
		if (f[a]==f[a-1]) g[a]=g[a-1];
		else g[a]=a-1;
	}
	while (m--) {
		scanf ("%d %d %d",&lt,&rt,&x);
		if (f[rt]==x) {
			if (g[rt]<lt) printf ("-1\n");
			else printf ("%d\n",g[rt]);
		} else printf ("%d\n",rt);
	}
	return 0;
}
