#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;

const int Maxn=2e5+1;

int n,m,a[Maxn],f[Maxn],k,i,j,l,r;

int main() {
	scanf("%d %d",&n,&m);
	k=0;
	for (i=1;i<=n;i++) {
		scanf("%d",&a[i]);
		if (a[i] != a[i-1]) k=i-1;
		f[i]=k;
	}
	while (m--) {
		scanf("%d %d %d",&l,&r,&k);
		if (a[r]!=k) printf("%d\n",r);
		else {
			if (f[r]<l) printf("-1\n");
			else printf("%d\n",f[r]);
		}
	}
	return 0;
}
