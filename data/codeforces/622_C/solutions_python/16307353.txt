import sys
n,m=map(int,raw_input().split())
a=map(int,raw_input().split())
p=[-1]*len(a)
for i in xrange(1,len(a)):
    if(a[i]==a[i-1]):
        p[i]=p[i-1]
    else:
        p[i]=i-1			
result=[]
for i in range(m):
    l,r,x=map(int,raw_input().split())
    if(a[r-1]==x):
        if(p[r-1]>=l-1):
            result.append(str(p[r-1]+1))
        else:
            result.append("-1")
    else:
        result.append(str(r))
for i in result:
    print i
        