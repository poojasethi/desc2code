n, m = map(int, raw_input().split())

arr = map(int, raw_input().split())

queries = []
for i in range(m):
    queries.append(tuple(map(int, raw_input().split())))

dp = [-1]
for i, a in enumerate(arr[1:]):
    if arr[i] != a:
        dp.append(i)
    else:
        dp.append(dp[-1])

for l, r, x in queries:
    l -= 1
    r -= 1
    if arr[r] != x:
        print r + 1
    else:
        if dp[r] >= l:
            print dp[r] + 1
        else:
            print -1