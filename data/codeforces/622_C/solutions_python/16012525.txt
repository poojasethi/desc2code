__author__ = 'aste'


def main():
    n, m = map(int, raw_input().split())
    a = map(int, raw_input().split())

    p = [-1]*n
    for i in range(1, n):
        if a[i - 1] == a[i]:
            p[i] = p[i - 1]
        else:
            p[i] = i - 1

    for i in range(0, m):
        l, r, x = map(int, raw_input().split())
        if a[r - 1] != x:
            print r
        elif p[r - 1] < l - 1:
            print -1
        else:
            print p[r - 1] + 1

main()