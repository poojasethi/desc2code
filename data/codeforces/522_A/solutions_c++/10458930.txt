#include <iostream>
#include <cstdio>
#include <string>
#include <map>
using namespace std;

int n;
map<string,int> msi;
int index;
int ans;

void cl(string &s) {
	for (int i=0;i<s.size();i++)
		if (s[i]<='Z') s[i]+='a'-'A';
}

int main() {
	scanf("%d",&n);
	msi[string("polycarp")]=1;
	for (int i=1,u,v;i<=n;i++) {
		string s1,s2;
		cin>>s1; cl(s1);
		cin>>s2; cin>>s2; cl(s2);
		msi[s1]=msi[s2]+1;
		ans=max(ans,msi[s1]);
	}
	
	cout<<ans<<endl;
	return 0;
}