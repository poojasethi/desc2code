#include <iostream>
#include <map>
using namespace std;
int main()
{
    map<string,int> us;
    string s1,s2,s3;
    int n,ml=0;
    cin >> n;
    for (int i=0; i<n; i++)
    {
        cin >> s1 >> s2 >> s3;
        for (int i=0; i<s1.length();i++) if (s1[i]<'a') s1[i]+='a'-'A';
        for (int i=0; i<s3.length();i++) if (s3[i]<'a') s3[i]+='a'-'A';
        us[s1]=max(us[s3],1)+1;
        ml=max(us[s1],ml);
    }
    cout << ml << endl;
    return 0;
}
