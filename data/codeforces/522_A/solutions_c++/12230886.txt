#include<iostream>
#include<algorithm>
#include<string>
#include<map>
#include<cstdio>
using namespace std;
map<string , int > m;
int main()
{
	int q,r,max=0;
	string a,b,c;
	scanf("%d",&q);
	for(int i=0;i<q;i++)
	{
		cin>>a>>c>>b;
		for(int l=0;l<a.length();l++)if(a[l]>=65 && a[l]<=90)a[l]+=32;
		for(int l=0;l<b.length();l++)if(b[l]>=65 && b[l]<=90)b[l]+=32;
		r=m[b]+1;
		if(r>max)max=r;
		m[a]=r;
	}
	cout<<max+1<<endl;
	//system("pause");
	return 0;
}
