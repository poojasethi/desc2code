//In the name of God

#include <iostream>
#include <map>
#include <cctype>
using namespace std;
map <string,int> m;
int main()
{
  int n;
  cin>>n;
  m["polycarp"]=1;
  int ans=1;
  for(int i=1;i<=n;i++)
    {
      string s,t;
      cin>>s>>t>>t;
      for(int j=0;j<s.length();j++)
	s[j]=tolower(s[j]);
      for(int j=0;j<t.length();j++)
	t[j]=tolower(t[j]);
      m[s]=m[t]+1;
      ans=max(ans,m[s]);
    }
  cout<<ans<<endl;
  return 0;
}
