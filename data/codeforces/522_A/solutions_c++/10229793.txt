#include <bits/stdc++.h>

using namespace std;

string a,reposted,b;
map <string,long long> vk;
long long n,mx;

string touper(string s)
{
    for (int i=0; i<s.length(); i++)
    {
        s[i]=toupper(s[i]);
    }
    return s;
}

int main()
{
    cin>>n;
    vk[touper("Polycarp")]=1;
    for (int i=0; i<n; i++)
    {
        cin>>a>>reposted>>b;
        vk[touper(a)]=vk[touper(b)]+1;
        mx=max(mx,vk[touper(a)]);
    }
    cout<<mx;
}
