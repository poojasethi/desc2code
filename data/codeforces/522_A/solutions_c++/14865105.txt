#include <bits/stdc++.h>
using namespace std;

#define inf 1000000000
#define MAX 405
#define f(i,n) for(i=0;i<n;i++)

map<string,int> co;
int main()
{
int i,j,k,l,m,n,t,sum=0,m1=0,m2=0;
cin>>n;
string a,b,c;
co["polycarp"]=1;
f(j,n){
    cin>>a>>b>>c;
    f(i,a.size()) a[i]=tolower(a[i]);
    f(i,c.size()) c[i]=tolower(c[i]);
    co[a]=co[c]+1;
    m1=max(m1,co[a]);
}
cout<<m1;
	return 0;
}
