#include <bits/stdc++.h>
using namespace std;

 int main(){
     map<string,int>posts;
int maxi=1;
     posts["polycarp"]=1;
     string s,s2,s3,a,b;
     int n;
     cin>>n;
     while(n--){
     a="";b="";
     cin>>s>>s2>>s3;
     for(int i=0;i<s.length();i++)
        a+=tolower(s[i]);
         for(int i=0;i<s3.length();i++)
            b+=tolower(s3[i]);
    posts[a]=posts[b]+1;
    maxi=max(maxi,posts[a]);
     }
     cout<<maxi<<endl;
    return 0;
}
