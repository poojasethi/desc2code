#include <bits/stdc++.h>
#define q string

using namespace std;

int n, k;
q s, z;

map <q, int> m;

q l(q s) {for (int j = 0; j < s.size(); ++j) s[j] = tolower(s[j]); return s;}

int main()
{
    cin >> n;

    m["Polycarp"] = 2;

    for (int i = 0; i < n; ++i){
        cin >> s >> z >> z;
        s = l(s);
        z = l(z);
        m[s] = m[z] + 1;
        k = max(k, m[z] + 1);
    }

    cout << k + 1;

    return 0;
}
