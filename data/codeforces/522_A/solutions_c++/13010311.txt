#include <bits/stdc++.h>

using namespace std;

int n, k;
string s, t, z, j;

map <string, int> m;

int main()
{
    cin >> n;

    m["Polycarp"] = 1;

    for (int i = 0; i < n; ++i){
        cin >> s >> t >> z;
        for (int j = 0; j < s.length(); ++j) s[j] = tolower(s[j]);
        for (int j = 0; j < z.length(); ++j) z[j] = tolower(z[j]);
        m[s] = m[z] + 1;
        if (m[z] + 1 > k) k = m[z] + 1;
    }

    cout << k + 1;

    return 0;
}
