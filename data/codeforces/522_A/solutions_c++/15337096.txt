#include <iostream>
#include <ctype.h>
#include <string>
#include <map>
using namespace std; 

int main(){
	
	int asdf=1;
	map <string,int> m;
	m["polycarp"]=1;
	int a;
	cin>>a;
	for(int i=0; i<a; i++){
		string a;
		string b;
		string c;
		cin>>a>>b>>c;
		for(int j=0; j<a.size(); j++){
			a[j]=(tolower(a[j]));
		}
		for(int j=0; j<c.size(); j++){
			c[j]=(tolower(c[j]));
		}
      	m[a]=m[c]+1;
      	if(m[a]>asdf)asdf=m[a];
	}
	cout<<asdf<<endl;
	return 0;
}