#include <iostream>
#include <map>
#include <string>

using namespace std;

void lower(string &s) {
	int len=s.size();
	int temp;
	for(int i=0;i<len;i++) {
		temp=s[i];
		if(temp<92) s[i]+=32;
	}
}


int main() {
	int n;
	cin>>n;
	map<string,int> adj;
	adj["polycarp"]=1;
	string l,m,r;
	int max=0;
	for(int i=0;i<n;i++) {
		cin>>l>>m>>r;
		lower(l);
		lower(r);
		adj[l]=adj[r]+1;
		if(adj[l]>max) max=adj[l];
	}
	cout<<max<<endl;
}