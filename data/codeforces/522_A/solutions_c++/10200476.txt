#include <bits/stdc++.h>

using namespace std;

int n=0;
map < string , int > mymap;
string fun( string s){
	for( int i=0;i<int(s.size());i++){
		if(s[i] >= 'a')
			s[i]=char(int(s[i])-32);
	}
	return s;	
}
int main(){
	cin >> n;
	int ans=0;
	mymap["POLYCARP"]=1;
	for( int i=0;i<n;i++){
		string s1,s2,s3;
		cin >> s1 >> s2 >> s3;
		s1=fun(s1);
		s3=fun(s3);
		mymap[s1]=mymap[s3]+1;
		ans = max( ans , mymap[s1]);
	}
	cout << ans << endl;
	return 0;
}
