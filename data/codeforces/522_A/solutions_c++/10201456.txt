#include <iostream>
#include <string>
#include <map>
using namespace std;
map <string,int> d;
int n,m(0);
string a,b,c;
string reg(string p) {
	for (int i=0;i<p.size();i++) if (p[i]>'Z') {
		p[i] -= 'a'-'A';
	}
	return p;
}
int main() {
	cin >> n;
	d[reg("Polycarp")] = 1;
	for (int i=0;i<n;i++) {
		cin >> a >> b >> c;
		d[reg(a)] = d[reg(c)]+1;
		m = max(m,d[reg(a)]);
	}
	cout << m << "\n";
	return 0;
}

