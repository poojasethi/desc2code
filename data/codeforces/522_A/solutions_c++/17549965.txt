#include<bits/stdc++.h>
using namespace std;

int main(){
	map<string,int> salman;
	string a,b,dummy;
	int sem,y,res=1,t,tmp;
	
	salman["polycarp"]=1;
	scanf("%d",&t);
	for(tmp=0;tmp<t;tmp++){
		cin>>a>>dummy>>b;
		for(sem=0;sem<a.length();sem++){
			if(a[sem]<=90) a[sem]+=32;
		}
		for(sem=0;sem<b.length();sem++){
			if(b[sem]<=90) b[sem]+=32;
		}
		y=salman[b];
		salman[a]=y+1;
		if(y+1>res) res=y+1;
	}
	printf("%d\n",res);
	
}
	     				  		    	      	 	  	