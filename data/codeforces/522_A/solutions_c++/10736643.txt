#include <bits/stdc++.h>

using namespace std;

map<string, int>altura;

int main(){
	string c;
	int N; string C1, C2, C3;
	C1="POLYCARP";
	altura[C1]=1;
	cin>>N;
	int res=1;
	for(int i=0;i<N;i++){
		cin>>C1>>C2>>C3;
		for(unsigned int i=0;i<C3.size();i++){
			if(C3[i]>='a') C3[i]=C3[i]-'a'+'A';
		}
		for(unsigned int i=0;i<C1.size();i++){
			if(C1[i]>='a') C1[i]=C1[i]-'a'+'A';
		}
		altura[C1]=altura[C3]+1;
		res=max(altura[C1], res);
	}
	cout<<res<<endl;
	return 0;
}
