#include <iostream>
#include <cmath>
#include <map>
using namespace std;

int main()
{
	map <string, int> name;

	int n;
	cin >> n;

	int ans = 1;
	name["polycarp"] = 1;
	for(int i = 0; i < n; i ++)
	{
		string a, b, c;
		cin >> a >> b >> c;

		for(int i = 0; i < a.size(); i ++)
			if(a[i] < 97)
				a[i] += 32;

		for(int i = 0; i < c.size(); i ++)
			if(c[i] < 97)
				c[i] += 32;
					
		name[a] = name[c] + 1;
		ans = max(ans, name[a]);
	}

	cout<< ans << endl;
}