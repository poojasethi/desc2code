#include<bits/stdc++.h>
using namespace std;
map<string,int> match;
int main()
{
    int n,ans=0;
    cin>>n;
    match["polycarp"]=1;
    for(int i=0;i<n;i++)
    {
        string n,r,s;
        cin>>n>>r>>s;
        for(int j=0;j<s.length();j++)
            s[j]=tolower(s[j]);
        for(int j=0;j<n.length();j++)
            n[j]=tolower(n[j]);
        match[n]=max(match[n],match[s]+1);
        ans=max(ans,match[n]);
    }
    cout<<ans<<endl;
    return 0;
}
