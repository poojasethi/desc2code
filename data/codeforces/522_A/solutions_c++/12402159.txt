#include<bits/stdc++.h>
using namespace std;
map<string,int> dp;
int n;
string a,b,c;
int main(){
    dp["polycarp"]=1;
    cin>>n;
    int ret=1;
    for(int i=0;i<n;i++){
        cin>>a>>b>>c;
        for(int i=0;i<a.length();i++) if(a[i]>='A'&&a[i]<='Z') a[i]=a[i]-'A'+'a';
        for(int i=0;i<c.length();i++) if(c[i]>='A'&&c[i]<='Z') c[i]=c[i]-'A'+'a';

        dp[a]=dp[c]+1;
        ret=max(ret,dp[a]);
    }
    cout<<ret<<endl;
    return 0;
}

					 		  	   			    	 	    		