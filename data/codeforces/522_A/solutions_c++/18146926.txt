	#include<bits/stdc++.h>
	using namespace std;
	#define ll long long
	#define MAX 100000 
	#define fr(i,n) for(int i=0;i<n;i++)
	int n;
	map<string,int> m;
	int main(){
		cin>>n;
		m["polycarp"]=1;
		int max1=1;
		fr(i,n){
			string s1,s2,s3;
			cin>>s1>>s2>>s3;
			fr(i,s1.length())s1[i]=tolower(s1[i]);
			fr(i,s3.length())s3[i]=tolower(s3[i]);
			m[s1]=m[s3]+1;
			max1=max(max1,m[s1]);
		}
		cout<<max1<<endl;
	}