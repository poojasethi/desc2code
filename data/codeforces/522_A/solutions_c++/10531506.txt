#include <bits/stdc++.h>
using namespace std;

map <string, int> m;
string s1, s2, r;
int n, mx;

void f(string &s) {
    for (int i = 0;i < s.size();i++)
     s[i] = tolower(s[i]);
}
int main() {
    scanf("%d", &n);
    m["polycarp"] = 1;
    for (int i = 0;i < n;i++) {
        cin>>s1>>r>>s2;
        f(s1), f(s2);
        m[s1] = m[s2]+1;
        mx = max(mx, m[s1]);
    }
    cout<<mx;
    return 0;
}
