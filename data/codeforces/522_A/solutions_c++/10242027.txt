#include <bits/stdc++.h>
using namespace std;

int n;
map <string, int> m;
string a, b, c;

void to_lower()
{
	for(int i = 0; i < a.size(); i++) a[i] = tolower(a[i]);
	for(int i = 0; i < c.size(); i++) c[i] = tolower(c[i]);
}

int main()
{
	cin >> n;
	m["polycarp"] = 1;
	int res = 1;
	while(n--)
	{
		cin >> a >> b >> c;
		to_lower();
		m[a] = m[c] + 1;
		res = max(res, m[a]);
	}
	
	cout << res;
}