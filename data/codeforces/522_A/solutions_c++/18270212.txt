#include<bits/stdc++.h>
using namespace std;
string lower(string s) {
	string res="";
	for(int i=0;i<s.length();i++) {
		if(s[i]>='A' && s[i]<='Z')
			res += s[i]- 'A'+'a';
		else
			res+=s[i];
	}
	return res;
}

int main() {
	int n;
	cin >> n;
	int maxm=0;
	map<string, int> mp;
	string s1, s2, s3;
	for(int i=0;i<n;i++) {
		cin >> s1 >> s2 >> s3;
		s1 = lower(s1);
		s3= lower(s3);
		int cnt = mp[s3];
		mp[s1]= cnt+1;
		if(cnt+1 > maxm)
			maxm= cnt+1;
	}
	cout << maxm+1 << endl;
	return 0;
}
