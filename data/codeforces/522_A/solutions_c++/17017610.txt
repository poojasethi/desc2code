#include <bits/stdc++.h>
#define MOD 1000000007
using namespace std;
int main ()
{
    int n,i,ans=1;
    string s1,s2,s3;
    cin>>n;
    map<string,int> m;
    m["polycarp"]=1;
    for(i=1;i<=n;i++)
    {
        cin>>s1>>s3>>s2;
        transform(s1.begin(),s1.end(),s1.begin(),::tolower);
        transform(s2.begin(),s2.end(),s2.begin(),::tolower);
        m[s1]=m[s2]+1;
        ans=max(ans,m[s1]);
    }
    cout<<ans<<endl;
    return 0;
}
