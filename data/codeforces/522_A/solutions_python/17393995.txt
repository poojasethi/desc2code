n = input()
dic = {'polycarp':1}
for i in xrange(n):
	a,b,c = raw_input().lower().split()
	dic[a] = dic[c] + 1
print max(dic.values())