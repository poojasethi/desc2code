depth = {}
depth["polycarp"] = 1
n = int(raw_input())
for i in range(n):
    a,b,c = raw_input().split()
    a = a.lower()
    c = c.lower()
    depth[a] = depth[c] + 1
print max(depth.values())

