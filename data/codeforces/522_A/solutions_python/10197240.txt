n=raw_input()
dic = {'polycarp': 1}
max=0
for i in range(int(n)):
	s=raw_input()
	s=s.lower()
	t=s.split()
	dic[t[0]]=dic[t[2]]+1
	if dic[t[0]]>max:
		max=dic[t[0]]
print max