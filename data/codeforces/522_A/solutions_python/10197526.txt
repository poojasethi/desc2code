n = int(raw_input())
d = {"polycarp" : 1}
for i in xrange(n):
    s = raw_input().lower().split()
    d[s[0]] = d[s[2]] + 1
print max(d.values())