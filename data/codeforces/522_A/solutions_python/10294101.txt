import sys

n = int(sys.stdin.next())

d = {}
d['polycarp'] = 1

for i in range(n):
    [who, _, whom] = sys.stdin.next().rstrip().split(' ')
    d[who.lower()] = d[whom.lower()] + 1

print(max(d.values()))
