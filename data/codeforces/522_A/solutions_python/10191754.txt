n = int(raw_input())
depth = {"polycarp" : 1}
for i in xrange (0, n):
	(u1, rp, u2) = raw_input().split(" ")
	depth[u1.lower()] = depth[u2.lower()]+1
print max(depth.values())