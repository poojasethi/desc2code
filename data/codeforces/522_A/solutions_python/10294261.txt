from collections import defaultdict

n = int(raw_input())

reposts = {}
reposts['polycarp'] = 1

for i in xrange(n):
    repost = raw_input().split()

    name1, name2 = repost[0].lower(), repost[2].lower()
    reposts[name1] = reposts[name2] + 1

print max(reposts.values())