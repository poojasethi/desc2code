n = int(input())
reposts = {"polycarp": 1}
cur = 1
for i in xrange(n):
    inp = raw_input().split()
    in2 = reposts[inp[2].lower()] + 1
    reposts[inp[0].lower()] = in2
    if cur < in2:
        cur = in2
print(cur)
