n=int(raw_input())
d={'polycarp':1}
maxx=0
for i in range(n):
    m=raw_input().split()
    j=d.get(m[2].lower())
    if j!=None:
        d[m[0].lower()]=j+1
        maxx=max([maxx,j+1])
print maxx