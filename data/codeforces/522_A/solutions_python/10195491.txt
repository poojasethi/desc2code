# -*- coding: utf-8 -*-

import sys


def main():
    joke = {'polycarp': 1}
    sys.stdin.next()
    for line in sys.stdin:
        who, _, whom = line.split()
        joke[who.lower()] = joke[whom.lower()] + 1
    print max(joke.itervalues())


if __name__ == '__main__':
    main()
