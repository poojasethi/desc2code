list =['polycarp']
mas =[]
mas.append(0)
k = input()
st = 1
max = 0



while st<k+1:
    
    s1 = raw_input()
    s1 = s1.lower()
    s = s1.split(' ')
    i = 1
    list.append(s[0])
    mas.append(mas[list.index(s[2])]+1)
    if mas[list.index(s[0])]>max: max=mas[list.index(s[0])]
    st+=1
print max+1
