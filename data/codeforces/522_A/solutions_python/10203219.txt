dp = {'polycarp': 1}
for i in range(int(raw_input())):
    a, tmp, b = raw_input().split()
    dp[a.lower()] = 1 + dp[b.lower()]
print max(dp.values())