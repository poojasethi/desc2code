t = {"polycarp":1}
ans = 0
for _ in range(int(raw_input())):
    a, __, b = raw_input().split()
    a = a.lower()
    b = b.lower()
    t[a] = t[b] + 1
    ans = max(ans, t[a])
print ans