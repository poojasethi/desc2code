posts = {}
posts['polycarp'] = 1
for i in range(input()):
    a = map(str,raw_input().split())
    a = [i.lower() for i in a]
    posts[a[0]] = posts[a[2]] + 1
print max(posts.values())