import sys
import math

def get(f=int):
    return map(f, raw_input().split())

def main():
    n = input()
    i = 0
    chain = {'polycarp': 1}
    while i < n:
        h, _, f = get(lambda x: x.lower())
        chain[h] = chain[f] + 1
        i += 1

    print max(chain.values())

if __name__ == '__main__':
    main()
