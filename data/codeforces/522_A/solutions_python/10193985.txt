num = int(raw_input())
d = {'polycarp':1}
for i in range(0,num):
    name1, reposted, name2 = raw_input().lower().split()
    d[name1] = d[name2]+1
print d[max(d, key=d.get)]