#!usr/bin/env python

n = int(raw_input())

graph = {'polycarp' : 1}
ans = 0

while (n):
    line = raw_input()
    line = line.lower().split(' ')
    a, b = line[0], line[2]
    graph[a] = graph[b] + 1
    ans = max(ans, graph[a])
    n-=1

print ans
