n = int(raw_input())
d = {"polycarp" : 1}
for i in xrange(n):
    a, _, b = raw_input().lower().split()
    d[a] = d[b] + 1

print max(d.values())
