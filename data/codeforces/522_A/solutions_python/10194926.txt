users = dict()
users['polycarp'] = 1
n = int(input())
for i in range(n):
    tmpstr = raw_input()
    a = tmpstr.lower().split(' ')
    users[a[0].lower()] = users[a[2].lower()]+1

print max(users.values())
