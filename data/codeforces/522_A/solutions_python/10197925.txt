import sys

n = int(sys.stdin.readline().strip())
d = {"polycarp" : 1}
ans = 1

for i in xrange(n):
    line = sys.stdin.readline().split();
    line = [l.strip().lower() for l in line]
    v = d[line[2]] + 1
    ans = max(ans, v)
    d[line[0]] = v

print ans
