n = input()
reps = {'polycarp':1}
for i in xrange(n):
    (who,reposted,whom) = raw_input().lower().split(' ')
    reps[who] = reps[whom] + 1
print max(reps.values())