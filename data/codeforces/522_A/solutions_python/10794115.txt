d={}
d['polycarp'],h=1,1
for _ in range(input()):
    a,b,c=raw_input().lower().split()
    d[a]=d[c]+1
    h=max(d[a],h)
print h
