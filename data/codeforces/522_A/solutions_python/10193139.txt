num = int(raw_input())
people_from = set()
people_to = set()
foo = {"polycarp": 1}
for item in range(0, num):
    [a, b] = map(lambda x: x.lower(), raw_input().split(" reposted "))
    foo[a] = foo[b] + 1
    # people_to.add(a)
    # people_from.add(b)

bar = max(foo.values())
print(bar)
