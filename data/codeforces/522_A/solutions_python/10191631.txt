n = input()
curAns = {'polycarp': 1}

for _ in xrange(n):
    st = raw_input().split()
    name1 = st[0].lower()
    name2 = st[2].lower()
    curAns[name1] = curAns[name2] + 1
ans = 0
for (key, value) in curAns.iteritems():
    ans = max(ans, value)

print(ans)