n = input()
a = { 'polycarp': 1 }
for _ in xrange(n):
    name,rp,auth = raw_input().split(' ')
    a[name.lower()] = a[auth.lower()] + 1
print max(a.values())