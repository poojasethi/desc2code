d={'polycarp':1}
for _ in range(input()):
    a,b,c=raw_input().lower().split()
    d[a]=d[c]+1
print max(d.values())
