n=input()
k=0
dicts={'polycarp':1}
for i in range(n):
    a=raw_input().split()
    dicts[a[0].lower()]=dicts[a[2].lower()]+1
    if dicts[a[2].lower()]+1>k:
        k=dicts[a[2].lower()]+1
print k
