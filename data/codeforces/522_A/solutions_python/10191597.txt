""" Task A """
n = int(raw_input())
lib = {'polycarp': 1}
max_l = 1
for i in xrange(n):
    entry = raw_input().lower()
    d = entry.split(' reposted ')
    g = lib[d[0]] = lib[d[1]]+1
    if g > max_l: max_l = g
print max_l

