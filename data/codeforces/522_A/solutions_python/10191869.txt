n=int(raw_input())
reposts={'polycarp':1};
max_reposts=0;
for i in xrange(0,n):
    string =raw_input().split()
    string[2]=string[2].lower()
    string[0]=string[0].lower()
    
    max_reposts=max(reposts[string[2]]+1,max_reposts)
    reposts[string[0]]=reposts[string[2]]+1;
    
print(max_reposts)

