d={}
d['polycarp'],h=1,1
for _ in range(input()):
    a,b,c=[x.lower() for x in raw_input().split()]
    d[a]=d[c]+1
    h=max(d[a],h)
print h
