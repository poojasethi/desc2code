n = int(raw_input())
graph = {"polycarp" : 1}
for i in range(n):
    repost = raw_input().split()
    a = repost[0].lower()
    b = repost[2].lower()
    graph[a] = graph[b] + 1
print max(graph.values())