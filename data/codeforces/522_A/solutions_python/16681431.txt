def solve():
	n = input()
	h = {'polycarp' : 1}
	for _ in range(n):
		st = raw_input().lower().split(' ')
		h[st[0]] = h[st[2]] + 1

	print max(h.values())

solve()
