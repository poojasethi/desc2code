n = int(raw_input())
m = {'polycarp' : 0}
res = 0
for i in range(n):
    s, j, t = raw_input().split()
    m[s.lower()] = m[t.lower()] + 1;
    res = max(res, m[s.lower()])
print res + 1
