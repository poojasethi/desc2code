n = map(int, raw_input().split())
m = {'polycarp': 1}
result = 1

for i in range(n[0]):
	input_ = map(str, raw_input().split())
	name1 = input_[0].lower()
	name2 = input_[2].lower()

	m[name1] = m[name2] + 1
	result = max(m[name1], result)

print result