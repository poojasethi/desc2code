n=input()
c=['polycarp']
p=[1]
for i in range(n):
    s=raw_input().lower().split(' reposted ')
    for i in range(len(c)):
        if(s[1]==c[i]):
            p+=[p[i]+1]
            break
    c+=[s[0]]
print max(p)