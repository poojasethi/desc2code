#include<iostream>
#include<algorithm>
int n,i,a[5005],d[5005];float t;
int main(){
std::cin>>n>>t;
for(;i<n;)std::cin>>a[i]>>t,d[i++]=n+1;
for(i=0;i<n;i++)*std::upper_bound(d,d+n,a[i])=a[i];
for(i--;;i--)if(d[i]<=n)return std::cout<<n-i-1,0;
}