#include<iostream>
#include<algorithm>
using namespace std;
int n,i,j,a[5005],d[5005];float t;
int main(){
cin>>n>>t;
for(;i<n;)cin>>a[i]>>t,d[i++]=n+1;
for(;j<n;j++)*upper_bound(d,d+n,a[j])=a[j];
for(i--;;)if(d[i--]<=n){cout<<n-i-2;break;}
}