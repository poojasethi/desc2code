#include<iostream>
#include<algorithm>
using namespace std;int n,i,j,a[5005],d[5005];float t;main(){cin>>n>>t;for(;i<n;d[i++]=n+1)cin>>a[i]>>t;for(;j<n;j++)*upper_bound(d,d+n,a[j])=a[j];for(i--;d[i--]>n;);cout<<n-i-2;}