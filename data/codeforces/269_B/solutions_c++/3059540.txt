#include<iostream>
#include<algorithm>
using namespace std;
int n,a[5005],d[5005],i;double t;
int main(){
cin>>n>>t;
for(;i<n;)cin>>a[i++]>>t,d[i]=n+5;
for(i=0;i<n;i++)*upper_bound(d,d+n+1,a[i])=a[i];
for(i=n;i;i--)if(d[i]<=n)return cout<<n-i,0;
}