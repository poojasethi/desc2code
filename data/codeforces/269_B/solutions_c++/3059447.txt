#include<iostream>
#include<algorithm>
using namespace std;
int n,a[5005],d[5005];double t;
int main() {
 cin>>n>>t;
 for(int i=0;i<n;i++)cin>>a[i]>>t,d[i+1]=9999;
 for(int i=0;i<n;i++)*upper_bound(d,d+n+1,a[i])=a[i];
 for(int i=n;i>0;i--)if(d[i]<9999)return cout<<n-i,0;
}