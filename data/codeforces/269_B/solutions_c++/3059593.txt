#include<iostream>
#include<algorithm>
int n,a[5005],d[5005],i;float t;
int main(){
std::cin>>n>>t;
for(;i<n;)std::cin>>a[i++]>>t,d[i]=n+1;
for(i=0;i<n;i++)*std::upper_bound(d,d+n+1,a[i])=a[i];
for(i=n;;i--)if(d[i]<n+1)return std::cout<<n-i,0;
}