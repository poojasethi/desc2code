#include <cstdio>
int n, res;
int p2[5001], d[5001];
long long a[5001];

int main()
{
	scanf("%d", &n);
	for (int i = 0; i < n; i++)
	{
		scanf("%I64d", a+i);
		for (; !(a[i]&1); a[i]/=2) p2[i]++;
	}
	a[n] = 1;
	for (int i = 0; i < n; i++)
		d[i] = n+1;
	for (int i = n-1; i >= 0; i--)
		for (int j = i+1; j <= n; j++)
			if (d[j]+j-i <= d[i] && (p2[j]<j-i||(p2[i]+j-i==p2[j])) && a[i]%a[j]==0)
					d[i] = d[j]+j-i-1;
	res=n;
	for (int i = 0; i < n; i++)
		if (res > d[i]+i) res = d[i]+i;
	printf("%d\n", res);
	return 0;
}
