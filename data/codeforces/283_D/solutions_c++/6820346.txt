#include<cstdio>
#include<algorithm>
#include<iostream>
#include<vector>
#include<cstring>
using namespace std;
int n,ans;
typedef long long LL;
LL a[10000];
int f[10000];
int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		scanf("%I64d",&a[i]);
	ans=n;
	for(int i=1;i<=n;i++){
		f[i]=i-1;
		LL now=a[i];
		for(int j=i-1;j>=1;j--){
			if(now%2==1){
				if(a[j]%now==0)
					f[i]=min(f[i],f[j]+i-j-1);
			}else if(a[j]%(now/2)==0&&a[j]/(now/2)%2==1)
				f[i]=min(f[i],f[j]+i-j-1);
			if(now%2==0)now/=2;
		}
		ans=min(ans,f[i]+n-i);
	}cout<<ans<<endl;
}
