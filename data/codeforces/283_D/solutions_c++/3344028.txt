#include <iostream>
#include <cmath>

using namespace std;

typedef long long int lint;

const int tope=6000;

int n;
lint a[tope];
int minnocambia[tope];
int mintotal[tope];

int main()
{
  cin>>n;
  for (int i=0;i<n;i++)
    cin>>a[i];
  for (int i=0;i<n;i++) {
    minnocambia[i]=i;
    for (int j=0;j<i;j++) {
      lint val=a[i];
      for (int k=i;k>j+1;k--)
	if (val%2==0) val/=2;
	else break;
      if (val%2==1) {
	if (a[j]%val==0)
	  minnocambia[i]=min(minnocambia[i],minnocambia[j]+i-j-1);
      } else {
	val/=2;
	if (a[j]%val==0 and a[j]/val%2==1)
	  minnocambia[i]=min(minnocambia[i],minnocambia[j]+i-j-1);
      }
    }
    if (i>0) mintotal[i]=min(mintotal[i-1]+1,minnocambia[i]);
  }
  cout<<mintotal[n-1]<<endl;
}
