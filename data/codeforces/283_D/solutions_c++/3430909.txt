#include<cstdio>
#include<algorithm>
#include<iostream>
using namespace std;
typedef long long u64;
u64 a[5010], x;
int d[5010], ans;

int main() {
    int n, i, j;
    scanf("%d", &n);
    for (i = 0; i < n; ++i)
        cin >> a[i];
    for (i = 0; i < n; ++i) {
        d[i] = 1;
        x = a[i];
        for (j = i - 1; j >= 0; --j) {
            if (((x & 1) && a[j] % x == 0) || ((x & 1) == 0 && a[j] % x == (x >> 1))) {
                d[i] = max(d[i], d[j] + 1);
            }
            if ((x & 1) == 0)
                x >>= 1;
        }
    }
    for (i = 0; i < n; ++i)
        ans = max(ans, d[i]);
    printf("%d\n", n - ans);
    return 0;
}