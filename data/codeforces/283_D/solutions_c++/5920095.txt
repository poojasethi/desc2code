#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define int64 long long
#define N 5010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,an;
int f[N],b[N];
int64 a[N];
inline bool Ju(int l,int r) {
	int k=r-l;
	if (a[l]%a[r]==0) {
		if (k<=b[r]) return b[l]+k==b[r];
		else return 1;
	}
	return 0;
}
int main() {
	scanf("%d",&n);
	For(i,1,n) {
		scanf("%I64d",&a[i]);
		for (;a[i]%2==0;a[i]>>=1) b[i]++;
	}
	For(i,1,n) {
		f[i]=i-1;
		For(j,1,i-1) if (Ju(j,i)) f[i]=min(f[i],f[j]+i-j-1);
	}
	an=n-1;
	For(i,1,n) an=min(an,f[i]+n-i);
	printf("%d\n",an);
	//for(;;);
	return 0;
}
