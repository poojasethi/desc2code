#include <cstdio>

typedef long long ll;

const int MAXN = 5002;

int n;
int p2[MAXN], d[MAXN];
ll a[MAXN];

int main()
{
	scanf("%d", &n);
	for (int i = 0; i < n; i++)
	{
		scanf("%I64d", a+i);
		for (; !(a[i]&1); a[i]>>=1, p2[i]++);
	}

	for (int i = 0; i <= n; i++)
		d[i] = n+1;
	d[n] = 0;

	for (int i = n-1; i >= 0; i--)
		for (int j = i+1; j <= n; j++)
			if (d[j]+j-i <= d[i])
				if (j==n || ((p2[j]<j-i||(p2[i]+j-i==p2[j])) && a[i]%a[j]==0))
					d[i] = d[j]+j-i-1;

	int res=n;
	for (int i = 0; i < n; i++)
		if (res > d[i]+i) res = d[i]+i;
	printf("%d\n", res);

	return 0;
}
