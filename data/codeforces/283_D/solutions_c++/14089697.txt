#include<cstdio>
#include<algorithm>
using namespace std;
#define N 5005
int n,ans,f[N];
long long a[N],x;
int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;i++) scanf("%I64d",a+i);
	for (int i=1;i<=n;i++){
		f[i]=1; x=a[i];
		for (int j=i-1;j;j--){
			if (x&1?(a[j]%x==0):(a[j]%x==x/2)) f[i]=max(f[i],f[j]+1);
			x&1?0:x>>=1;
			}
		}
	for (int i=1;i<=n;i++) ans=max(f[i],ans);
	printf("%d\n",n-ans); return 0;
}
