#include <iostream>
#include <vector>
using namespace std;

struct node
{
	long long v, n2;
};

int main()
{
	long long i, j, n;
	node d[5005];
	int f[5005];
	node temp;
	
	cin >> n;
	for (i =  0; i < n; ++i)
	{
		cin >> temp.v;
		temp.n2 = 0;
		while ((temp.v & 1) == 0)
		{
			temp.n2++;
			temp.v = temp.v >> 1;
		}
		d[i] = temp;
	}
	
	for (i = 0; i < n; ++i)
		f[i] = i;
	for (i = 1; i < n; ++i)
	{
		for (j = 0; j < i; ++j)
		{
			if (((i - j - 1 >= d[i].n2) || (d[i].n2 == d[j].n2 + i - j)) && ((d[j].v % d[i].v) == 0))
				if (i - j - 1 + f[j] < f[i])
					f[i] = i - j - 1 + f[j];
		}
	}
	
	j = n;
	for (i = 0; i < n; ++i)
		if (f[i] + n - i - 1 < j)
			j = f[i] + n - i - 1;
	cout << j << endl;

	return 0;
}
