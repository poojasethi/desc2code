#include<cstdio>
#include<cstdlib>
#include<algorithm>
using namespace std;
#define LL long long
#define N 5005
#define rep(i,n) for(int i=1;i<=n;i++)
LL a[N];
int f[N],ans,n;
int main(){
    scanf("%d",&n);
    rep(i,n) scanf("%I64d",&a[i]);
    
    rep(i,n){
        f[i]=1;
        LL x=a[i];// printf("x %I64d\n",x);
        for (int j=i-1;j>=1;j--){
//          printf("i j %d %d %I64d x %I64dd\n",i,j,a[i],x);
            if(x&1){
                if(a[j]%x==0&&f[i]<f[j]+1) f[i]=f[j]+1;
            }
            else{
                if(a[j]%x==x/2&&f[i]<f[j]+1) f[i]=f[j]+1;
            }
            if(x%2==0) x>>=1;
        }
        ans=max(ans,f[i]);
    }
    printf("%d\n",n-ans);
}