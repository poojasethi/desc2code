#include <cstdio>
typedef	long long	ll;
const	ll	maxn = 5500;
ll	n, ans;
ll	a[maxn], p[maxn], q[maxn], dp[maxn];
int	main()
{
//	freopen("cf283d.in", "r", stdin);
//	freopen("cf283d.out", "w", stdout);
	scanf("%I64d", &n);
	for (ll i=1; i<=n; i++)
	{
		scanf("%I64d", &a[i]);
		for (p[i] = 0, q[i] = a[i]; !(q[i] & 1); q[i] >>= 1) p[i] ++;
	}
	for (ll i=n; i; i--)
	{
		dp[i] = 1;
		for (ll j=i+1; j<=n; j++)
			if ((dp[j] + 1 > dp[i]) && (!(q[i] % q[j])) && ((p[j] - p[i] == j - i) || (p[j] < j - i)))
				dp[i] = dp[j] + 1;
	}
	ans = 0;
	for (int i=1; i<=n; i++) if (dp[i] > ans) ans = dp[i];
	printf("%I64d\n", n - ans);
	return 0;
}