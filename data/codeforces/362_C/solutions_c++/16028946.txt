#include<cstdio>
const int N=5005;
int a[N],id[N];
int dp[N][N];
int main()
{
	int n;
	scanf("%d",&n);
	for(int i=0;i<n;i++)
		{
			scanf("%d",&a[i]);
			id[a[i]]=i;
		}
	for(int i=0;i<n;i++){
		for(int j=n-1;j>=0;j--){
			if(a[j]<i) dp[i][j]=1;
			dp[i][j]+=dp[i][j+1];
		}
	}
	int sum=0;
	for(int i=0;i<n;i++){
		sum+=dp[i][id[i]];
	}
	int Min=sum,step;
	for(int i=0;i<n;i++){
		for(int j=0;j<i;j++){
			int xi=dp[a[i]][j]-dp[a[i]][i];
			int xj=dp[a[j]][j]-dp[a[j]][i];
			int t=sum+xi-(xj-xi)-xj-1;
			if(t<Min){
				Min=t;step=1;
			}
			else if(t==Min){
				step++;
			}
		}
	}
	printf("%d %d\n",Min,step);

	return 0;
}

  			 		 	     			  	 		 	  			