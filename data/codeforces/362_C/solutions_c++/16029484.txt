#include<iostream>
#include<string>
using namespace std;
int a[5001];
int posi[5001];
int num[5001][5001];
int main()
{
	int n,i,j;
	cin>>n;
	for(i=0;i<n;i++)
	{
		cin>>a[i];
		posi[a[i]]=i;
	}
	for(i=0;i<n;i++)
	{
		for(j=n-1;j>=0;j--)
		{
			if(a[j]<i) num[i][j]++;
			num[i][j]+=num[i][j+1];
		}
	}
	int sum=0;
	for(i=0;i<n;i++){
		sum+=num[i][posi[i]];
	}
	int maxn;
	int ss;
	maxn=sum;
	ss=0;
	for(i=0;i<n;i++)
	{
		for(j=0;j<i;j++)
		{
			if(a[i]>a[j]) continue;
			int aa,bb,cc,dd,ns;
			aa=num[a[i]][j]-num[a[i]][i];
			dd=num[a[j]][j]-num[a[j]][i];
			bb=dd-aa;
			cc=(i-j-1)-dd;
			ns=sum+aa-bb-(dd+1);
			if(ns<maxn) {
				maxn=ns;
				ss=1;
			}
			else if(ns==maxn)
			{
				ss++;			
			}
		}
	}
	cout<<maxn<<" "<<ss<<endl;
	return 0;
}
		 	 	 	  	 	 			  		 				 	  	