#include<bits/stdc++.h>
using namespace std;
const int maxn=2002;
char s[maxn],b[maxn],e[maxn],fb[maxn],fe[maxn];
int r[2][maxn],*p=r[0],*q=r[1],h[maxn];
int main() {
  scanf("%s%s%s",s,b,e);
  int ns=strlen(s),nb=strlen(b),ne=strlen(e),nn=nb>ne?nb:ne,w=0;
  for(int i=ns;i-->0;){
    if(!strncmp(s+i,b,nb))fb[i]=1;
    if(!strncmp(s+i,e,ne))fe[i]=1;
  }
  for(int i=0,*t;i<ns;++i,t=p,p=q,q=t)
    for(int j=i;j-->0;)
      {
      q[j+1]=(s[i]==s[j])?(p[j]+1):0;
      if(h[i]<q[j+1]) 
        h[i]=q[j+1];
      }
  for(int i=ns;i-->0;)
    if(fb[i])
     for(int j=i+nn;j<=ns;++j)
       if(fe[j-ne]&&h[j-1]<j-i)
         ++w;
  printf("%d",w);
}
