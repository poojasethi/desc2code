#include <cstdio>
#include <iostream>
#include <vector>
#include <algorithm>
#define sz(x) ((int) (x).size())
using namespace std;

int n,m;
string s,a,b;

long long h[2001],f[2001],v[2001001];
int ca[2001],cb[2001];

int main ()
{
	cin>>s>>a>>b;
	n=sz(s);
	f[0]=1;
	for (int i=0;i<n;i++) f[i+1]=f[i]*10007;
	h[n]=0;
	for (int i=n-1;i>=0;i--) h[i]=h[i+1]*10007+s[i];
	for (int i=0;i+sz(a)<=n;i++)
		if (s.substr(i,sz(a))==a)
			ca[i]=1;
	for (int i=sz(b);i<=n;i++)
		if (s.substr(i-sz(b),sz(b))==b)
			cb[i]=1;
	for (int i=0;i<n;i++)
		for (int j=i+max(sz(a),sz(b));j<=n;j++)
			if (ca[i] && cb[j])
			{
				//cout<<h[i]<<' '<<h[j]<<' '<<f[j-i]<<endl;
				v[m++]=h[i]-h[j]*f[j-i];
			}
	sort(v,v+m);
	printf("%d\n",unique(v,v+m)-v);
	return 0;
}
	  	 	  	 			  						 			  		 	