#include <bits/stdc++.h>
using namespace std;
string st,s1,s2,stemp;
bool flag1[2500],flag2[2500];
long long hasil,maks,temp;
vector <long long> v;
int main(){
    cin>>st;
    cin>>s1;
    cin>>s2;
    maks=max(s1.length(),s2.length());
    for(int i=0;i<st.length();i++){
        if(st.substr(i,s1.size())==s1) flag1[i]=true;
        if(st.substr(i,s2.size())==s2) flag2[i+s2.size()-1]=true;
    }
    for(int i=0;i<st.length();i++){
        if(!flag1[i]) continue;
        if(flag1[i]){
            long long tmp=0;
            for(int j=i;j<st.size();j++)
            {
                tmp=tmp*31+((st[j]-'a')+1);
                if( flag2[j] &&  (j-i+1) >= maks )
                v.push_back( tmp );
            }
        }
    }
    sort(v.begin(),v.end());
    v.resize(unique(v.begin(),v.end())-v.begin());
    cout<<v.size()<<endl;
    /*for(int i=0;i<st.length();i++) cout<<flag1[i]<<" "; cout<<endl;
    for(int i=0;i<st.length();i++) cout<<flag2[i]<<" ";*/
}