#include<cstdio>
#include<cstring>
#include<vector>
#include<algorithm>
#define L 2048
char s[L],b[L],e[L],*B[L],*E[L],*p,*q,*r,**i=B,**j=E,**k;
int l,M[L],J;long long T;
std::vector<long long> S;
#define H(m,O,S)	\
for(p=O,J=-1;*p;++p){\
	for(;~J&&m[J+1]-*p;J=M[J]);\
	if(m[J+1]==*p)++J;S\
}
#define K(m,a) *M=-1;l=strlen(m);H(m,m+1,M[p-m]=J;)H(m,s,if(!m[J+1]){*a++=p-l+1;J=M[J];})
int main(){
	gets(s);gets(b);gets(e);
	K(b,i);K(e,j);
	if((l=strlen(b)-strlen(e))<0)l=0;
	for(i=B,j=E;*i&&*j;++i){
		for(p=*i+l;*j&&*j<p;++j);
		for(k=j,T=0;*k;++k){
			for(;p<*k;++p)T=T*29+*p;
			S.push_back(T);
		}
	}
	std::sort(S.begin(),S.end());
	printf("%d\n",std::unique(S.begin(),S.end())-S.begin());
	return 0;
}
