#include<cstdio>
#include<cstring>
#include<iostream>
const int CHD=26;
const int LMT=2002;
using namespace std;
int gra[(LMT*LMT)>>1][CHD],lb,le,siz,ans;
char sec[LMT],sb[LMT],se[LMT],fe[LMT],fs[LMT];
void search(int beg)
{
	int current=0;
	for(int i=beg;sec[i];i++)
	{
		if(!gra[current][sec[i]-'a'])
		{
			if(fe[i]&&i-le+1>=beg&&i>=beg+lb-1)ans++;
			gra[current][sec[i]-'a']=siz++;
		}
		current=gra[current][sec[i]-'a'];
	}
}
int main()
{
	scanf("%s%s%s",sec,sb,se);
	lb=strlen(sb);le=strlen(se);
	for(int i=0;sec[i];i++)
	{
		if(!strncmp(sec+i,sb,lb))fs[i]=1;
		if(!strncmp(sec+i,se,le))fe[i+le-1]=1;
	}
	siz=1;
	for(int i=0;sec[i];i++)
	if(fs[i])
	search(i);
	cout<<ans<<endl;
	return 0;
}
	  	       		 	  	 	 	 		