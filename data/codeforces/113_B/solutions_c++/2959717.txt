#include <iostream>
#include <cstring>
using namespace std;
char s[2048],b[2048],e[2048],fb[2048],fe[2048];
int r[2][2048],*p=r[0],*q=r[1],h[2048];
int main(void) {
  cin>>s>>b>>e;
  int ns=strlen(s),nb=strlen(b),ne=strlen(e),nn=nb>ne?nb:ne;
  for(int i=0;i<ns;++i){
    if(!strncmp(s+i,b,nb))fb[i]=1;
    if(!strncmp(s+i,e,ne))fe[i]=1;
  }
  for(int i=0,*t;i<ns;++i,t=p,p=q,q=t)
    for(int j=0;j<i;++j){
      q[j+1]=(s[i]==s[j])?(p[j]+1):0;
      if(h[i]<q[j+1])h[i]=q[j+1];
    }
  int w=0;
  for(int i=0;i<ns;++i)if(fb[i])
    for(int j=i+nn;j<=ns;++j)if(fe[j-ne]&&h[j-1]<j-i)++w;
  cout<<w<<endl;
}
