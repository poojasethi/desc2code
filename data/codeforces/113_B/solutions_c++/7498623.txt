#include<bits/stdc++.h>
using namespace std;
#include<tr1/unordered_set>
using namespace tr1;
unordered_set<unsigned long long> mp;

char a[2005],b[2005],c[2005];
vector<int> l;
const unsigned long long sd=13131;
unsigned long long hs[2005],po[2005],pp;

int main()
{
	int i,j,la,lb,lc;
	scanf("%s%s%s",a+1,b,c);
	la=strlen(a+1);lb=strlen(b);lc=strlen(c);
	pp=po[0]=1;
	for(i=1;i<=la;i++)
	{
		hs[i]=hs[i-1]+pp*(a[i]-'0');
		po[i]=pp*=sd;
	}
	for(i=1;i<=la;i++)
		if(!strncmp(a+i,b,lb))
			l.push_back(i);
	l.push_back(10000);
	for(i=1;i<=la;i++)
		if(!strncmp(a+i,c,lc))
			for(j=0;l[j]+max(lb,lc)<=i+lc;j++)
				mp.insert((hs[i+lc-1]-hs[l[j]-1])*po[la-i-lc+1]);
	printf("%d\n",mp.size());
	return 0;
}

				 		  		 					  	 	 	 	