#include <bits/stdc++.h>
using namespace std;
int main(){
    ios_base::sync_with_stdio(0);
    string a,b,c;
    cin >> a >> b >> c;
    vector<int> u,v;
    size_t i=0,j=0;
    while(i!=string::npos){
        i=a.find(b,i);
        if(i!=string::npos) u.push_back(i++);
    }
    i=0;
    while(i!=string::npos){
        i=a.find(c,i);
        if(i!=string::npos) v.push_back(i++);
    }
    vector<long long> h;
    for(i=0;i<u.size();i++){
        int p = u[i]-1;
        long long hh = 0;
        for(j=0;j<v.size();j++){
            if(u[i]>v[j] || u[i]+b.length()>v[j]+c.length()) continue;
            while(p<v[j]) hh = hh*31 + a[++p];
            h.push_back(hh);
        }
    }
    sort(h.begin(),h.end());
    h.resize(unique(h.begin(),h.end()) - h.begin());
    cout << h.size() << "\n";
    return 0;
}
