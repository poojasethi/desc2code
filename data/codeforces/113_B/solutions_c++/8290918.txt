#include<stdio.h>
#include<string.h>
int save[2000005][26];
int main()
{
	char str[2005],beg[2005],end[2005];
	int len,len1,len2,i,j,num,temp,ind,flag1[2005],flag2[2005];
	while(scanf("%s",str) != EOF)
	{
		scanf("%s",beg);
		scanf("%s",end);
		len=strlen(str);
		len1=strlen(beg);
		len2=strlen(end);
		memset(flag1,0,sizeof(flag1));
		memset(flag2,0,sizeof(flag2));
		memset(save,0,sizeof(save));
		for(i=0;i<len;i++)
		{
			if(strncmp(str+i,beg,len1)==0)
				flag1[i]=1;
			if(strncmp(str+i,end,len2)==0)
				flag2[i+len2-1]=1;
		}
		num=0;temp=1;
		for(i=0;i<len;i++)
			if(flag1[i])
			{
				ind=0;
				for(j=i;j<len;j++)
				{
					if(save[ind][str[j]-'a']==0)
					{
						if(flag2[j]&&j>=len1+i-1&&j>=i+len2-1)
							num++;
						save[ind][str[j]-'a']=temp++;
					}
					ind=save[ind][str[j]-'a'];
				}
			}
		printf("%d\n",num);
	}
	return 0;
}
		 	  			   		 	  		  	  		 		