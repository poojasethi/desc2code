#include<cstdio>
#include<cstring>
#define rep(i,n) for(int i=0;i<n;i++)
using namespace std;
char str[2333],a[2333],b[2333];
int ls,la,lb,ans;
bool isa[2333],isb[2333];
int dp[2333],f[2333][2333];
int main(){
	scanf("%s",str);
	scanf("%s",a);
	scanf("%s",b);
	ls=strlen(str);
	la=strlen(a);
	lb=strlen(b);
	for(int i=ls-1;i>=0;i--)
		for(int j=ls-1;j>i;j--){
			if(str[i]==str[j])
				f[i][j]=f[i+1][j+1]+1;
			(f[i][j]>dp[i]) && (dp[i]=f[i][j]);
		}
	rep(i,ls-la+1){
		isa[i]=1;
		rep(j,la)
			if(str[i+j]!=a[j]){
				isa[i]=0;
				break;
			}
	}
	rep(i,ls-lb+1){
		isb[i]=1;
		rep(j,lb)
			if(str[i+j]!=b[j]){
				isb[i]=0;
				break;
			}
	}
	rep(i,ls)
		for(int j=i;j<=ls-lb;j++){
			int len=j+lb-i;
			if(len>=la && len>=lb && isa[i] && isb[j] && dp[i]<len)
				ans++;
		}
	printf("%d\n",ans);
	return 0;
}
