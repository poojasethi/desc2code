#include<vector>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;

typedef unsigned long long llint;

int main() 
{
    string f,a,b;
    cin>>f>>a>>b;
    vector<int> v1,v2;
	vector<llint> ans;
    int p;
    p=0; while(p=f.find(a,p)+1) v1.push_back(p);
    p=0; while(p=f.find(b,p)+1) v2.push_back(p);

    for(int i=0;i<v1.size();i++) 
	{
        int j=0;
        llint h=0;
        for(int k=v1[i];k<=f.size();k++) 
		{
            while(j<v2.size() && v2[j]<k) j++;
            if(j<v2.size() && v2[j]==k && k+b.size()>=v1[i]+a.size()) ans.push_back(h);
            h=h*100000009+(f[k-1]-'a'+1);
        }
    }
    sort(ans.begin(),ans.end());
    vector<llint>::iterator it,pre;
    int count=0;
    if (!ans.empty())
    {
    	count=1;
		pre=ans.begin();
    	for (it=ans.begin();it!=ans.end();it++)
    	{
    		if (it!=ans.begin() && *it!=*pre) count++;
    		pre=it;
    	}
    }
    cout<<count<<endl;
}
