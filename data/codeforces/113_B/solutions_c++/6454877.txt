#include<algorithm>
#include<iostream>
using namespace std;
const long long p=31;
const long long mod=1000000007;
const int N=2001;
int n,l1,l2;
long long res[N][2 * N];
string s,en,beg;
long long h1,h2,h[N];
long long deg[N];
int i,j,d,q[N],ans;
int main(){
cin>>s>>beg>>en;
n=s.length();
l1=beg.length();
l2=en.length();
for(i=0;i<n;++i)h[i+1]=(h[i]*p+s[i]-'a'+1)%mod;
for(i=0;i<l1;++i)h1=(h1*p+beg[i]-'a'+1)%mod;
for(i=0;i<l2;++i)h2=(h2*p+en[i]-'a'+1)%mod;
deg[0]=1;
for(i=0;i<N-1;++i)deg[i+1]=deg[i]*p%mod;
d=max(0,l1-l2);
for(i=0;i<=n-l1;++i)for(j=i+d;j<=n-l2;++j)
if((h[i+l1]-deg[l1]*h[i]%mod+mod)%mod==h1&&(h[j+l2]-deg[l2]*h[j]%mod+mod)%mod==h2)
res[j-i][q[j-i]++]=(h[j+l2]-deg[j+l2-i]*h[i]%mod+mod)%mod;
for(i=0;i<N;++i){
sort(res[i],res[i]+q[i]);
ans+=unique(res[i],res[i]+q[i])-res[i];}
cout<<ans;
return 0;}