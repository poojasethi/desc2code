#include <iostream>
#include <string>
#include <algorithm>
using namespace std;
typedef long long ll;
ll f[2001],h[2001],r[2001*2001];
bool oka[2001],okb[2001];
int main(){
    string str,a,b;
    cin>>str>>a>>b;
    int lens=str.size(),lena=a.size(),lenb=b.size();
    f[0]=1;
    for(int i=0;i<=lens;i++) f[i+1]=f[i]*10007;
    h[lens]=0;
    for(int i=lens-1;i>=0;i--) h[i]=h[i+1]*10007+str[i];
    for(int i=0;i<=lens-lena;i++)
        if(str.substr(i,lena)==a) oka[i]=true;
    for(int i=0;i<=lens-lenb;i++)
            if(str.substr(i,lenb)==b) okb[i+lenb]=true;
    int cnt=0;
    for(int i=0;i<lens;i++)
        for(int j=i+(lena>lenb?lena:lenb);j<=lens;j++)
            if(oka[i]&&okb[j]) r[cnt++]=h[i]-h[j]*f[j-i];
    sort(r,r+cnt);
    cout<<unique(r,r+cnt)-r<<'\n';
}
	  		  	 						 					 	  		 		