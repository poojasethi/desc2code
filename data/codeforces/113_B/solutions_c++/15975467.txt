#include<bits/stdc++.h>

using namespace std;

#define tm (tl + tr >> 1)
#define N 2003

int T[N*1003][32],i,j,l,pos,asd,sz,t;

bool P[N],S[N],h;

string s,a,b;

int main(){

	cin >> s >> a >> b;

	for(i=0; i<s.size(); i++){
		for(l=i,j=0; l<s.size() && j<a.size(); j++, l++)
			if(s[l] != a[j])
				break;

		if(j == a.size())
			P[i] = 1;

		for(l=i,j=b.size()-1; l>=0 && j>=0; j--, l--)
			if(b[j] != s[l])
				break;

		if(j == -1)
			S[i] = 1;
	}

	for(i=0;i<s.size();i++)
		if(P[i]){ if(S[i + a.size()-1]) h=1;

			for(pos=0,j=i + a.size() - 1; j<s.size(); j++){

				t  = s[j] - 'a';
				
				if(T[pos][t])
					pos = T[pos][t];

				else{
					asd += (S[j] && b.size() <= j - i + 1);
					pos = T[pos][t] = ++sz;
				}
			}
		}

	cout << asd;
	return 0;
}
