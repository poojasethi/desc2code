#include<iostream>
#include<cstdio>
#include<set>
#include<cstring>
#include<algorithm>
#include<vector>
using namespace std;

int main()
{

string in,st,ed;

cin>>in>>st>>ed;

bool s[2500],t[2500];

memset( s , 0, sizeof(s) );
memset( t , 0,  sizeof(t) );


for(int i=0;i<in.size();i++)
 {
   if( in.substr(i , st.size() )==st )
       s[i]=true;

   if( in.substr(i , ed.size() ) ==ed )
        t[i + ed.size() -1 ]=true;

 }

vector< long long > ans;

vector<long long> temp;

for(int i=0;i<in.size();i++)
 { 
    if( !s[i] )
    continue;

     long long ha=0;

      for(int j=i;j<in.size();j++)
         {
               ha=ha*3127+in[j];
           if( t[j] &&  (j-i+1) >= st.size() && ( j-i+1 ) >=ed.size() )
             ans.push_back( ha );
          }

        
}

sort(ans.begin() , ans.end() );
ans.resize(unique(ans.begin() , ans.end() ) - ans.begin());

cout<<ans.size()<<endl;
   

return 0;
}
