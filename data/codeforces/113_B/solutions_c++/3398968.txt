#include<iostream>
#include<cstdio>
#include<set>
#include<cstring>
#include<algorithm>
#include<vector>
using namespace std;

bool s[2500],t[2500];


int main()
{

string in,st,en;

cin>>in>>st>>en;


 for(int i=0;i<in.size();i++)
 {
   if( in.substr(i , st.size() )==st )
       s[i]=true;

   if( in.substr(i , en.size() ) ==en )
        t[i + en.size() -1 ]=true;
 }

vector< long long > res;

 for(int i=0;i<in.size();i++)
 {
    if( !s[i] )
    continue;

     long long ha=0;

         for(int j=i;j<in.size();j++)
         {
              ha=ha*31+((in[j]-'a')+1);
              if( t[j] &&  (j-i+1) >= st.size() && ( j-i+1 ) >=en.size() )
             res.push_back( ha );
          }
  }

sort(res.begin() , res.end() );
res.resize(unique(res.begin() , res.end() ) - res.begin());

cout<<res.size()<<endl;
return 0;
}
