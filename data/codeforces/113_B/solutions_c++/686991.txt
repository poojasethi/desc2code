#include <string>
#include <set>
#include <iostream>
#define sz(a) (int) a.size()
using namespace std;

const int max_n = 3000;
const int p = 17239;
const int mdl = 1000007;
bool begin[max_n], end[max_n];
set <long long> used[mdl];

int main() {
	string s, b, e;
	cin >> s >> b >> e;
	for (int i = 0; i < sz(s); ++i) {
		begin[i] = true;
		for (int j = 0; j < sz(b); ++j)
			begin[i] &= (i + j < sz(s)) && (s[i + j] == b[j]);
		end[i] = true;
		for (int j = 0; j < sz(e); ++j)
			end[i] &= (i - sz(e) + 1 + j >= 0) && (s[i - sz(e) + 1 + j] == e[j]);
	}
	int res = 0;
	for (int i = 0; i < sz(s); ++i) {
		long long h = 0;
		for (int j = i; j < sz(s); ++j) {
			h = h * p + s[j];
			int ih = (h % mdl + mdl) % mdl;
			if ((j - i + 1 >= sz(e)) && (j - i + 1 >= sz(b)) && begin[i] && end[j] && (used[ih].find(h) == used[ih].end())) 
				used[ih].insert(h), res++;
		}
	}
	cout << res << endl;
	return 0;
}