#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
char s[2010],b[2010],e[2010];
int l,l1,l2,ans,ll,k1[2010],k2[2010],f[2010][2010],ma[2010];
int main(){
    gets(s);gets(b);gets(e);
    l=strlen(s);l1=strlen(b);l2=strlen(e);
    ll=max(l1,l2);
    for(int i=0,j;i<l-l1+1;++i){
        for(j=0;j<l1&&s[i+j]==b[j];++j);
        if(j==l1)k1[i]=1;
    }
    for(int i=0,j;i<l-l2+1;++i){
        for(j=0;j<l2&&s[i+j]==e[j];++j);
        if(j==l2)k2[i]=1;
    }
    for(int i=0;i<l;++i)
        for(int j=0;j<i;++j){
            if(s[i]==s[j])
                if(!i||!j)f[i][j]=1;
                else f[i][j]=f[i-1][j-1]+1;
            ma[i]=max(ma[i],f[i][j]);
        }
    for(int i=0;i<l-ll+1;++i)
        if(k1[i])for(int j=i+ll-1;j<l;++j)
            if(k2[j-l2+1]&&ma[j]<j-i+1)++ans;
    printf("%d\n",ans);
    return 0;
} 
