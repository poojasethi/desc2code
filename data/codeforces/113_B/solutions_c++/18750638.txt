#include<bits/stdc++.h>
#define P(x) printf("%d",x)
#define pb push_back
#define  MAX 1000007
#define M 10000000000002
#define ll long long
#define rep(i,n) for(i = 0; i<n; i++)
#define ff first
#define ss second
#define S(x) scanf("%d",&x)
#define mp make_pair

using namespace std;


bool vec1[MAX],vec2[MAX];	
vector<ll>v;

int main(){
	string s,sb,se;
	

	cin>>s>>sb>>se;
	
	
	
	int pp =s.size();

	int x= sb.size(),y= se.size();

	

 for(int i=0;i<pp;i++){
        if(s.substr(i,x)==sb) vec1[i]=true;
        if(s.substr(i,y)==se) vec2[i+y-1]=true;
    }
		
	
	for(int i = 0; i<pp;i++){
		ll num = 0;
		if(!vec1[i])
			continue;
		for(int j = i; j<pp; j++){
				num = num*31ll+s[j];
				if(vec2[j] && (j-i+1)>=x && (j-i+1)>=y)
					v.pb(num);

				
		}
	}

	sort(v.begin(),v.end());
    v.resize(unique(v.begin(),v.end())-v.begin());
    cout<<v.size()<<endl;
	



}

