#include<cstdio>
#include<iostream>
#include<map>
#include<string>
#include<vector>
#include<algorithm>
using namespace std;
string a,b,c;
bool pre[5000],last[5000];
int main()
{
   cin>>a;
   cin>>b;
   cin>>c;
   vector<unsigned long long>vec;
   int la = a.size();
   int lb = b.size();
   int lc = c.size();
   for(int i=0;i<la;i++)
   {
    if(a.substr(i,lb)==b)pre[i] = true;
    if(a.substr(i,lc)==c)last[i+lc-1] = true;
   }
	for(int i=0;i<la;i++)
	  if(pre[i])
	  {
	  	unsigned long long x=0;
	  	for(int j=i;j<la;j++)
	  	{
	  	   x=x*31+(a[j]-'a'+1);
	       if(last[j]&&j-i+1>=max(lb,lc))vec.push_back(x);
		}
	  }
	sort(vec.begin(), vec.end());
	vec.resize(unique(vec.begin(), vec.end())-vec.begin());
	printf("%d\n",vec.size());
	return 0;
}
	 			    		  					     	  	 	 	