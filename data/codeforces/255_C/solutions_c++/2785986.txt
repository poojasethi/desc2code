#include<stdio.h>

int num[4010], dp[4010][4010];
int main()
{
    int n, cur, max=0, i, j;
    scanf("%d", &n);
    for(i=1;i<=n;i++)
        scanf("%d", &num[i]);
    for(i=1;i<=n;i++)
        for(j=0, cur=0;j<i;j++)
        {
            dp[i][j]=dp[j][cur]+1;
            if(num[i]==num[j])cur=j;
            if(dp[i][j]>max)max=dp[i][j];
        }
    printf("%d", max);
    return 0;
}
