#include<cstdio>
#define MAXN 4010
int n,a[MAXN],*last,r,*i,*j;
short d[MAXN][MAXN];
main(){
    scanf("%d",&n);
    for(i=a+1;i<=a+n;++i)scanf("%d",i);
    for(i=a+1;i<=a+n;++i)
    for(j=last=a;j<i;++j){
        d[i-a][j-a]=d[j-a][last-a]+1;
        if(a[j-a]==a[i-a])last=j;
        if(d[i-a][j-a]>r)r=d[i-a][j-a];
    }
    printf("%d",r);
}