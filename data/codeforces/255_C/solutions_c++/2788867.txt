#include<cstdio>
#include<algorithm>
#define N 4010
using namespace std;
int n, a[N], dp[N][N], ans;
int main(){
	scanf("%d", &n);
	for(int i = 1; i <= n; i++) scanf("%d", &a[i]);
	for(int i = 1; i <= n; i++){
		for(int j = 0, pv = 0; j < i; j++){
			dp[j][i] = dp[pv][j]+1;
			if(a[j] == a[i]) pv = j;
			ans = max(ans, dp[j][i]);
		}
	}
	printf("%d\n", ans);
}
