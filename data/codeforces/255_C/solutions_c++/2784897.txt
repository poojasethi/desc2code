#include<cstdio>
const int N=4010;
int dp[N][N],num[N],n,ans;
int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;i++) scanf("%d",&num[i]);
    for(int i=1;i<=n;i++)
        for(int j=0,pre=0;j<i;j++)
        {
            dp[i][j]=dp[j][pre]+1;
            if(num[i]==num[j]) pre=j;
            if(dp[i][j]>ans) ans=dp[i][j];
        }
    printf("%d\n",ans);
}
