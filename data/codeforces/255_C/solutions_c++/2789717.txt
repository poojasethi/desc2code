#include <iostream>
#include <algorithm>

using namespace std;

int n,a[4096],v[4096][4096]={{0}};
int main(void) {
  cin>>n;
  int sol=0;
  for(int i=1;i<=n;++i)cin>>a[i];
  for(int i=1;i<=n;++i)for(int j=0,k=0;j<i;++j){
    v[i][j]=v[j][k]+1;
    if(a[i]==a[j])k=j;
    sol=max(sol,v[i][j]);
  }
  cout<<sol<<endl;
  return 0;
}
