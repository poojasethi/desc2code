#include<bits/stdc++.h>

using namespace std;

#define N 4003

int M[N][N],A[N],n,i,j,k,mx=1,pre;

int main(){

	cin >> n;

	for(i=n; i ;i--)
		M[i][0] = 1;

	for(i=1;i<=n;i++){
		cin >> A[i];

	    for(pre=0,j=1; j<i ;j++){

			M[i][j] = M[j][pre] + 1;

			if(A[j] == A[i])
				pre = j;
		}
	}

	for(i=n; i ;i--)
		for(j=i; j ;j--)
			mx = max(mx , M[i][j]);

	cout << mx;
	return 0;
}
