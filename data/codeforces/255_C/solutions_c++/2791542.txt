#include<cstdio>
using namespace std;
const int maxsize=4000+10;
int a[maxsize],dp[maxsize][maxsize],tot=0,n,last;
main(){
   // freopen("input.txt","r",stdin);
    scanf("%d",&n);
    for(int i=1;i<=n;i++)scanf("%d",&a[i]);
    for(int i=1;i<=n;i++)
    for(int j=last=0;j<i;j++){
        dp[i][j]=dp[j][last]+1;
        if(a[i]==a[j])last=j;
        if(dp[i][j]>tot)tot=dp[i][j];
    }
    printf("%d\n",tot);
}
