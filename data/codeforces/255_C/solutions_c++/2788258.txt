#include<stdio.h>

int i, j, k, n, max;
int a[4040], d[4040][4040];

int main()
{
	scanf("%d",&n);

	for (i=1; i<=n; i++)
	scanf("%d",&a[i]);

	for (i=0; i<=n; i++)
	{
		d[0][i] = 0;
		d[i][0] = 0;
	}

	for (i=1, max=0; i<=n; i++)
	for (j=0, k=0; j<i; j++)
	{
		d[j][i] = d[k][j] + 1;
		
		if (a[i] == a[j]) k = j;
			
		if (d[j][i] > max) max = d[j][i];
	}

	printf("%d\n",max);
	
	return 0;
}
