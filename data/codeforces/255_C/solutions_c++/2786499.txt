#include <iostream>
int n,b[4001],last,i,j,ans,d[4001][4001];
using namespace std;
int main() 
{
    cin >> n;
    for (i=1;i<=n;i++)
        cin >> b[i];
    for (i=1;i<=n;i++)
        for (j=last=0;j<i;j++) 
        {
            d[i][j]=d[j][last]+1;
            if (b[j]==b[i]) last=j;
            if (d[i][j]>ans) ans=d[i][j];
        }
    cout<<ans;
    return 0;
}
