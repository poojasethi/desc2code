#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>

using namespace std;

const int MAXN = 100010;

vector <int> bit[MAXN];
pair <int, int> e[MAXN];
vector <int> adj[MAXN];
int h[MAXN];
int cnt[MAXN];
int branch[MAXN];
int root;
int nbranch;
int n, m;

void Init()
{
	memset(bit, 0, sizeof(bit));
	memset(cnt, 0, sizeof(cnt));
	memset(h, 0, sizeof(h));
	for(int i = 0; i < MAXN; i ++)
	{
		adj[i].clear();
	}
}

void DFS(int u, int p){
	branch[u] = nbranch;
	cnt[nbranch] ++;
	h[u] = h[p] + 1;
	for(int i = 0; i < adj[u].size(); i ++){
		int v = adj[u][i];
		if(p != v) {
			DFS(v, u);
		}
	}
}

void update(int pos, int br, int val){
	for(int i = pos; i <= cnt[br]; i += i & (-i)){
		bit[br][i] += val;
	}
}

int getSum(int pos, int br){
	int ret = 0;
	for(int i = pos; i > 0; i -= i & (-i)){
		ret += bit[br][i];
	}
	return ret;
}

int main()
{
	Init();
	scanf("%d", &n);
	int u, v;
	for(int i = 1; i < n; i ++){
		scanf("%d %d", &u, &v);
		e[i] = make_pair(u, v);
		adj[u].push_back(v), adj[v].push_back(u);
	}
	
	root = 1;
	for(int i = 1; i <= n && root == 1; i ++){
		if(adj[i].size() > 2){
			root = i;
		}
	}

	nbranch = 0;
	for(int i = 0; i < adj[root].size(); i ++){
		nbranch ++;
		DFS(adj[root][i], root);
		bit[nbranch].resize(cnt[nbranch] + 1, 0);
	}

	scanf("%d", &m);
	
	int op, id;
	for(int i = 1; i <= m; i ++){
		scanf("%d", &op);
		if(op == 3){
			scanf("%d %d", &u, &v);
			if(branch[u] == branch[v] || u == root || v == root){
				if(h[u] > h[v]) {swap(u, v);}
				int tmp = getSum(h[v], branch[v]) - getSum(h[u], branch[u]);
				printf("%d\n", tmp ? -1 : h[v] - h[u]);
			}
			else{
				int tmp = getSum(h[v], branch[v]) + getSum(h[u], branch[u]);
				printf("%d\n", tmp ? -1 : h[v] + h[u]);
			}
		}else{
				scanf("%d", &id);
				u = e[id].first, v = e[id].second;
				if(h[u] > h[v]){swap(u, v);}
				if(op == 1) {update(h[v], branch[v], -1);}
				else {update(h[v], branch[v], 1);}
		}
	}

	return 0;
}
