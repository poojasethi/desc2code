#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cstdlib>
using namespace std;
const int MAXN = 22,MAXM = 1 << MAXN,oo = ~0U>>1;
char map[MAXN][MAXN];
int c[MAXN][MAXN],tran[MAXN][MAXN],rel[MAXN][MAXN],f[MAXM],n,m,lim;

int main(){
	scanf("%d%d",&n,&m);
	for(int i = 0;i < n;++ i)
		scanf("%s",map[i]);
	for(int i = 0;i < n;++ i)
		for(int j = 0;j < m;++ j)
			scanf("%d",&c[i][j]);
	for(int i = 0;i < n;++ i)
		for(int j = 0;j < m;++ j){
			int mx = 0;
			rel[i][j] = 0; tran[i][j] = 0;
			for(int k = 0;k < n;++ k)
			if(map[k][j] == map[i][j]){
				rel[i][j] |= (1 << k); tran[i][j] += c[k][j];
				if(c[k][j] > mx) mx = c[k][j];
			}
			tran[i][j] -= mx; 
		}
	lim = (1 << n);
	f[0] = 0;
	for(int msk = 1;msk < lim;++ msk){
		f[msk] = oo;
		int p;
		for(p = 0;p < n;++ p)
		if((msk >> p) & 1)
			break;
		for(int i = 0;i < m;++ i){
			if(f[msk & (msk ^ rel[p][i])] + tran[p][i] < f[msk])
				f[msk] = f[msk & (msk ^ rel[p][i])] + tran[p][i];
			if(f[msk ^ (1 << p)] + c[p][i] < f[msk])
				f[msk] = f[msk ^ (1 << p)] + c[p][i];
		}
	}
	printf("%d\n",f[lim - 1]);
	return 0;
}
