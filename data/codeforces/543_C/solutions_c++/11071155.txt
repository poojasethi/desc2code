#define N (1<<5)
#define INF (1<<29)
#include <bits/stdc++.h>
using namespace std;

char s[N][N];
int n,m,a[N][N],mx[N][N],w[N][N],st[N][N],dp[1<<20],lg[1<<20];

int main()
{
	cin>>n>>m;
	for(int i=0;i<n;i++)
		scanf("%s",s[i]);
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
			scanf("%d",&a[i][j]);

	for(int i=0;i<m;i++)
		for(int j=0;j<n;j++)
		{
			for(int k=0;k<n;k++)
				if(s[k][i]==s[j][i])
					st[j][i]|=1<<k,mx[j][i]=max(mx[j][i],a[k][i]),w[j][i]+=a[k][i];
			w[j][i]-=mx[j][i];
		}

	for(int i=0;i<n;i++)
		lg[1<<i]=i;
	for(int i=1;i<1<<n;i++)
		dp[i]=INF;

	for(int i=1;i<1<<n;i++)
	{
		int x=lg[i&-i];
		for(int j=0;j<m;j++)
			dp[i]=min(dp[i],min(dp[i^(1<<x)]+a[x][j],dp[i&~st[x][j]]+w[x][j]));
	}
	cout<<dp[(1<<n)-1]<<endl;
	return 0;
}
