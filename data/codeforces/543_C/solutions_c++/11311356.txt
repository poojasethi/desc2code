#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstring>
#define N 21
#define X 1048576
#define INF 1e9
using namespace std;
int n,m,a[N][N],change[N][N],cost[N][N],f[X],ans=INF;
char s[N][N];
int main()
{
	int i,j,k,l;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)
		scanf("%s",s[i]+1);
	for(i=1;i<=n;i++)
		for(j=1;j<=m;j++)
			scanf("%d",&a[i][j]);
	for(i=1;i<=n;i++)
		for(j=1;j<=m;j++)
		{
			change[i][j]=(1<<i>>1);
			for(k=1;k<=n;k++)
				if(k!=i&&s[i][j]==s[k][j])
					change[i][j]|=(1<<k>>1),cost[i][j]+=a[k][j];
		}
	for(i=0;i<(1<<n);i++)
		f[i]=INF;
	f[0]=0;
	for(i=0;i<(1<<n);i++)
		for(j=1;j<=n;j++)
			if(!(i&(1<<j>>1)))
				for(k=1;k<=m;k++)
				{
					f[i|(1<<j>>1)]=min(f[i|(1<<j>>1)],f[i]+a[j][k]);
					f[i|change[j][k]]=min(f[i|change[j][k]],f[i]+cost[j][k]);
				}
	printf("%d\n",f[(1<<n)-1]);
	return 0;
}