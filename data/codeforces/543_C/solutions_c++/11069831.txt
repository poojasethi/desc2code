#include <cstdio>
#include <algorithm>
using namespace std;
const int N=20,M=N+1,inf=(int)1e9+7;

int n,m;

char str[N][M];
int w[N][M];
int g[N][M],h[N][M];
int lg[1<<N];
int f[1<<N];

int main(){
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;i++) scanf("%s",str[i]);
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
			scanf("%d",&w[i][j]);
	for(int j=0;j<m;j++){
		for(int i=0;i<n;i++){
			int tmp=0;
			for(int ii=0;ii<n;ii++) if(str[ii][j]==str[i][j]){
				h[i][j]|=1<<ii;
				g[i][j]+=w[ii][j];
				tmp=max(tmp,w[ii][j]);
			}
			g[i][j]-=tmp;
		}
	}
	for(int i=0;i<n;i++) lg[1<<i]=i;
	for(int s=1;s<1<<n;s++){
		f[s]=inf;
		int i=lg[s&-s];
		for(int j=0;j<m;j++){
			f[s]=min(f[s],w[i][j]+f[s^(1<<i)]);
			f[s]=min(f[s],g[i][j]+f[s&~h[i][j]]);
		}
	}
	printf("%d\n",f[(1<<n)-1]);
}
