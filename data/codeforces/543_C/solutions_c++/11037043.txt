#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
using namespace std;
#define lim 21
int n,m,i,j,cols;
char S[lim][lim];
int A[lim][lim],M[1<<20];
int solve(int i)
{
  int &res=M[i],j,c,k,mx,s;
  if(res==-1)
  {
    if(i)
    {
      j=0;
      while(!(i&1<<j))
        j++;
      res=1000000000;
      for(c=0;c<cols;c++)
      {
        res=min(res,solve(i&~(1<<j))+A[j][c]);
        for(k=mx=s=m=0;k<n;k++)
          if(S[k][c]==S[j][c])
          {
            m|=1<<k;
            mx=max(mx,A[k][c]);
            s+=A[k][c];
          }
        res=min(res,s-mx+solve(i&~m));
      }
    }
    else
      res=0;
    //printf("%d %d\n",i,res);
  }
  return res;
}
int main()
{
  scanf("%d%d",&n,&cols);
  for(i=0;i<n;i++)
    scanf("%s",S[i]);
  for(i=0;i<n;i++)
    for(j=0;j<cols;j++)
      scanf("%d",&A[i][j]);
  memset(M,-1,sizeof M);
  printf("%d\n",solve((1<<n)-1));
  return 0;
}
