#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
#include <map>
using namespace std;
#define REP(i,j,k) for(register int i=(j);i<=(k);++i)

const int inf = 0x7fffffff;
int n,m;
int a[40][40],f[1<<21],s[40][40],cost[40][40];
char st[40][40];
map<int,int> lg;
int main()
{
	scanf("%d%d\n",&n,&m);
	REP(i,0,n-1)
		scanf("%s",st[i]);
	REP(i,0,n-1)
		REP(j,0,m-1)
			scanf("%d",&a[i][j]);
	REP(j,0,m-1){
		REP(i,0,n-1){
			int mx=0;
			REP(k,0,n-1)
				if(st[i][j]==st[k][j])
					s[i][j]|=1<<k,mx=max(mx,a[k][j]),cost[i][j]+=a[k][j];
			cost[i][j]-=mx;
//			printf("%d %d %d %d\n",i,j,cost[i][j],s[i][j]);
		}
	}
	REP(i,1,1<<n) f[i]=inf;
	REP(i,0,n-1) lg[1<<i]=i;
	REP(i,1,(1<<n)-1){
		int x=lg[i&(-i)];
		REP(j,0,m-1)
			f[i]=min(f[i],min(f[i^(1<<x)]+a[x][j],f[i&(~s[x][j])]+cost[x][j]));
	}
	cout<<f[(1<<n)-1]<<endl;
	return 0;
}
