#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <stdio.h>
using namespace std;
int main(){
  //freopen("input.txt","r",stdin);
  //freopen("output.txt","w",stdout);
  int q,w,e,e1,r,t=1<<30,c,c1,v,v1,i,s[20][20],h[20];
  char a[20][21];
  scanf("%d%d",&q,&w);
  for(e=0;e<q;e++){
   scanf("%s",a[e]);
   h[e]=1<<20;}
  for(e=0;e<q;e++)
   for(r=0;r<w;r++){
    scanf("%d",&s[e][r]);
    h[e]=min(h[e],s[e][r]);}
  i=1<<q;
  int *d=new int[i];
  for(e=1;e<i;e++)
   d[e]=1<<30;
  d[0]=0;
  for(r=0;r<w;r++)
   for(e=0;e<q;e++)
    if(a[e][r]){
     v=1<<e;
     c1=v1=s[e][r];
     for(c=e+1;c<q;c++)
      if(a[c][r]==a[e][r]){
       a[c][r]=0;
       v+=1<<c;
       c1+=s[c][r];
       v1=max(v1,s[c][r]);}
     for(e1=i-1;e1>=0;e1--)
      if(d[e1]<1<<30)
       if(d[e1|v]>d[e1]+c1-v1)
        d[e1|v]=d[e1]+c1-v1;}
  for(e=0;e<i;e++){
   c=d[e];
   for(r=0;r<q;r++)
    if((e&(1<<r))==0)
     c+=h[r];
   t=min(t,c);}
  printf("%d",t);
  return 0;}
