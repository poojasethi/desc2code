#include<cstdio>
#include<algorithm>
#include<cstring>
#include<climits> 
#include<string>
#include<cstring>
#include<iostream>
#define f(i,a,b) for(int i=a;i<=b;i++)
using namespace std;
int A[25][25],N,M,D[1100000],l,n,t,h;
string S[25];
int main(){
    cin>>N>>M;
    f(i,0,N-1)cin>>S[i];
    f(i,0,N-1)f(j,0,M-1)cin>>A[i][j];
    f(i,1,(1<<N)-1)D[i]=50000000;
    f(m,0,(1<<N)-1){
        f(b,0,N-1)if(!(m&(1<<b))){l=b;break;}
        f(c,0,M-1){
            D[m+(1<<l)]=min(D[m+(1<<l)],D[m]+A[l][c]),n=m,t=0,h=0;
            f(i,0,N-1) if(S[l][c] == S[i][c])n|=1<<i,t+=A[i][c],h=max(h,A[i][c]);
            D[n]=min(D[n],D[m]+t-h);
        }
    }cout<<D[(1<<N)-1];
}