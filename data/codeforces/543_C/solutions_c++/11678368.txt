#include<cstdio>
#include<cstring>
#include<algorithm>

using namespace std ;

#define N 22

int n , m , i , j , k , a[N][N] , sum[N][N] , caz[N][N] , f[ 1<<20 ] ;

char s[N][N]  ;

int main() {
	scanf("%d%d",&n,&m ) ;
	for( i=0 ; i<n ; i ++ ) 
		scanf("%s",s[i] ) ;
	for( i=0 ; i<n ; i++ ) {
		for( j=0 ; j<m ; j++ ) scanf("%d",&a[i][j] ) ;
	}
	for( i=0 ; i<n ; i++ ) {
		for( j=0 ; j<m ; j++ ) {
			int ax = 0 ;
			for( k=0 ; k<n ; k++ ) {
				if( s[i][j]==s[k][j] ) {
					sum[i][j] += a[k][j] ;
					ax = max( ax , a[k][j] ) ;
					caz[i][j] |= ( 1<<k ) ;
				}
			}
			sum[i][j] -= ax ;
		}
	}
	memset( f , 119 , sizeof f ) ;
	int inf = f[0] ;
	f[0] = 0 ;
	for( i=1 ; i <= ( 1<<n ) - 1 ; i++ ) {
		int lobi ;
		for( j=0 ; j<n ; j++ ) if( ( i >> j ) & 1 ) {
			lobi = j ;
			break ;
		}
		for( j=0 ; j<m ; j++ ) {
			f[i] = min( f[i] , f[ i & ( i ^ caz[lobi][j] ) ] + sum[lobi][j] ) ;
			f[i] = min( f[i] , f[ i ^ ( 1 << lobi ) ] + a[lobi][j] ) ;
		}
	}	
	printf("%d",f[ ( 1<<n ) - 1 ]  ) ;
}
