#include <iostream>
#include "bits/stdc++.h"
using namespace std;
string s[25];
int n;
int m;
int cost[25][25];
int dp[1<<22];
int solve(int mask)
{
	int res=dp[mask];
	if(res==-1)
	{
		
		if(mask)
		{
			//cout<<"kjb";
			int j=0;
			while(!(mask&(1<<j)))
			    j++;
			    //cout<<j<<" ";
			 res=1000000000;
			for(int c=0;c<m;c++)
			{
				res=min(res,solve(mask&(~(1<<j)))+cost[j][c]);
				int mini=0;int s1=0;int m1=0;
				for(int k=0;k<n;k++)
				{
					if(s[j][c]==s[k][c])
					{
						m1=m1|(1<<k);
						s1=s1+cost[k][c];
						mini=max(mini,cost[k][c]);
					}
				}
				  res=min(res,s1-mini+solve(mask&(~m1)));
			}
		}
		else res=0;
	}
	//cout<<res<<" ";
	return dp[mask]=res;
}
int main() {
    cin>>n>>m;
    for(int i=0;i<n;i++)
    {
    	cin>>s[i];
    }
    for(int i=0;i<n;i++)
      for(int j=0;j<m;j++)
           cin>>cost[i][j];
     memset(dp,-1,sizeof(dp));
     
    cout<<solve((1<<n)-1)<<endl;
	return 0;
}