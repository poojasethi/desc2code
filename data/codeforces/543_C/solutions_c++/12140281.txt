#include<cstdio>
#include<algorithm>
#include<cstring>
#define N 21
using namespace std;char a[N][N];
int f[1<<N],log[1<<N],S,x,i,m,n,j,k,_max;
int cost[N][N],init[N][N],bit[N][N];
int main()
{
	scanf("%d%d",&n,&m);
	for (i=0;i<n;i++)
		scanf("%s",&a[i]);
	for (i=0;i<n;i++)
		for (j=0;j<m;j++)
			scanf("%d",&cost[i][j]);
	for (i=0;i<n;i++)
		for (j=0;j<m;j++)
		{
			init[i][j]=bit[i][j]=_max=0;
			for (k=0;k<n;k++)
				if (a[k][j]==a[i][j])
					bit[i][j]|=1<<k,init[i][j]+=cost[k][j],
					_max=max(_max,cost[k][j]);
			init[i][j]-=_max;
	  }
	memset(f,60,sizeof(f));f[0]=0;
	for (i=0;i<n;i++) log[1<<i]=i;
	for (S=1;S<(1<<n);S++)
		for (x=log[S&-S],j=0;j<m;j++)
		  f[S]=min(f[S],f[S^(S&bit[x][j])]+init[x][j]),
		  f[S]=min(f[S],f[S^(1<<x)]+cost[x][j]);
	printf("%d\n",f[S-1]);
}