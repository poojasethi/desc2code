#include<bits/stdc++.h>

using namespace std;

#define pii pair<int,int>
#define ll long long
#define N (int)(1e5+10)
#define mod 1000000007
#define mp make_pair
#define pb push_back
#define nd second
#define st first
#define inf mod
#define endl '\n'
#define sag (sol|1)
#define sol (root<<1)
#define ort ((bas+son)>>1)
#define bit(x,y) ((x>>y)&1)

int dp[2004][(1<<12)+4][2];
int i,j,k,n,m,x,y,z,arr[N];

int f(int x,int mask,int w){
	
	if(bit(mask,k))
		w=1;

	int &r = dp[x][mask][w];

	if(w)
		mask=0;

	if(x == n+1)
		return w;

	if(r != -1)
		return r;

	if(arr[x]==2)
		return r = f(x+1,mask+2,w);
	if(arr[x]==4){
		if(bit(mask,1))
			return r = f(x+1,4,w);
		return r = f(x+1,mask+4,w);
	}
	r = f(x+1,mask+2,w);

	if(bit(mask,1))
		return r = (r + f(x+1,4,w))%mod;

	return r = (r + f(x+1,mask+4,w))%mod;
}

int main(){
	memset(dp,-1,sizeof dp);

	cin >> n >> k;

	for(i=1 ; i<=n ; i++)
		scanf("%d",arr+i);

	cout << f(1,0,0) << endl;
}
