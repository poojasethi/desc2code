#include <cstdio>
#include <cstring>

using namespace std;

const int MaxN = 2010;
const int MOD = 1000000007;

int f[MaxN][1<<12];
int list[MaxN];
int n,K;

int main()
{
	scanf("%d%d",&n,&K);
	for(int i=1;i<=n;i++) scanf("%d",&list[i]);
	f[0][0]=1;
	for(int i=0;i<n;i++)
		for(int k=0;k<=(1<<K);k++){
			if(list[i+1]==0 || list[i+1]==2){
				int _k=k+2;if(_k>=(1<<K)) _k=1<<K;
				(f[i+1][_k]+=f[i][k])%=MOD;
			}
			if(list[i+1]==0 || list[i+1]==4){
				int _k=(k&2) ? 4 : k+4;if(_k>=(1<<K)) _k=1<<K;
				(f[i+1][_k]+=f[i][k])%=MOD;
			}
		}
	printf("%d\n",f[n][1<<K]);
	return 0;
}
