#include <cstdio>
#include <cstdlib>
#define ljz 1000000007
int n, k;
//0 -> 2
//1 -> 4
//x[0] + 2x[1] + 4x[2] + 8x[3] + ...
//  2       4       8      16    ...
int next(int x, int come){
  if (x & (1 << (k - 1))) return x;
  if (come == 1 && (x & 1)) return 2;
  return x + (1 << come);
}
int f[2020][4100];
int coming[2020];
int main(){
  int i, j, s;
  scanf("%d %d\n", &n, &k);
  for (i = 1; i <= n; i++) scanf("%d", &coming[i]);
  f[0][0] = 1;
  for (i = 0; i < n; i++)
    for (s = 0; s < (1 << k); s++){
      if (coming[i + 1] != 2) f[i + 1][next(s, 1)] = (f[i + 1][next(s, 1)] + f[i][s]) % ljz;
      if (coming[i + 1] != 4) f[i + 1][next(s, 0)] = (f[i + 1][next(s, 0)] + f[i][s]) % ljz;
    }
  j = 0;
  for (s = (1 << (k - 1)); s < (1 << k); s++) j = (j + f[n][s]) % ljz;
  printf("%d\n", j);
  return 0;
}
