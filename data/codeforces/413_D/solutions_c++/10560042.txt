//gskhirtladze

#include <iostream>
#include <stdio.h>

#define M 11
#define P7 1000000007
#define LL long long

using namespace std;

int uni(int a,int b)
 {
  if (b%2 && a) b=0;
  return (1<<a)+b;
 }

int n,k,i,j,a[2050];
LL b[2050],ans[2050][(1<<M)],res;

main()
 {
  cin>>n>>k; k--;
  for (i=1;i<=n;i++)
   cin>>a[i];
   b[n+1]=1;
  for (i=n;i>=1;i--)
   if (!a[i]) b[i]=(b[i+1]*2)%P7; else b[i]=b[i+1];
   
  ans[0][0]=1;
  
  for (i=1;i<=n;i++)
   {
    if (!a[i])
     for (j=0;j<(1<<M);j++)
      ans[i][uni(0,j)]+=ans[i-1][j],
      ans[i][uni(1,j)]+=ans[i-1][j];
    
    if (a[i])
     for (j=0;j<(1<<M);j++)
      ans[i][uni(a[i]/2-1,j)]+=ans[i-1][j];
    
    for (j=0;j<(1<<M);j++)
     {
      ans[i][j]%=P7;
      if ((1<<k)&j) res=(res+ans[i][j]*b[i+1])%P7,ans[i][j]=0;
     }
   }
   
  cout<<res<<endl;
  cin>>n;
 }
