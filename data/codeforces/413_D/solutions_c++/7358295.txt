#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#define PR ((int)1e9+7)

using namespace std;

int dp[2001][1<<13];
long long ans;

int main(){
    int n,k,t;
    scanf("%d %d", &n, &k), dp[0][0]=1;
    for(int i=1;i<=n;i++){
        scanf("%d", &t);
        for(int j=0;j<1<<13;j++){
            if(t<=2) dp[i][j+2]+=dp[i-1][j], dp[i][j+2]%=PR;
            if(!(t&3)){
                int temp=(j&2)&&j<1<<k?4:j+4;
                dp[i][temp]=(dp[i][temp]+dp[i-1][j])%PR;
            }
        }
    }
    for(int j=1<<k;j<1<<13;j++)
        ans+=dp[n][j], ans%=PR;
    printf("%I64d\n", ans);
    //system("pause");
    return 0;
}