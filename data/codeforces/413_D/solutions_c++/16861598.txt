#include<bits/stdc++.h>

using namespace std;

#define st first
#define nd second
#define mp make_pair
#define pb push_back
#define sol (root+root)
#define sag (root+root+1)
#define orta ((bas+son)/2)
#define ll long long
#define pii pair<int,int>
#define type(x) __typeof((x).begin())
#define foreach(it, x) for(type(x) it = (x).begin(); it != (x).end(); it++)

const int N=2e3+5;
const int mod=1e9+7;
const int inf=1e9+7;

int n,k,i;
int A[N],dp[N][1<<12][2];

int f(int x,int mask,int w){

	w|=(mask&(1<<k)?1:0);

	if(w)
		mask=0;

	if(x==n+1)
		return w;

	int &r=dp[x][mask][w];

	if(r!=-1)
		return r;

	r=0;
	int temp=mask;

	if(A[x]==0 or A[x]==2){
		mask+=2;
		r=(r+f(x+1,mask,w))%mod;
	}
	if(A[x]==0 or A[x]==4){
		mask=temp;
		if(mask&2)
			mask=0;
		mask+=4;
		r=(r+f(x+1,mask,w))%mod;
	}
	
	return r;
}

main(){

	scanf("%d %d",&n,&k);

	for(i=1 ; i<=n ; i++)
		scanf("%d",A+i);

	memset(dp,-1,sizeof dp);

	printf("%d\n",f(1,0,0));
}
