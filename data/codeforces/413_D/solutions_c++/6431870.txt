#include<iostream>
#define mod 1000000007
using namespace std;

int dp[1<<13][2048];
int v[1<<13][2048];
int arr[3000],n,k;

int calc(int mask,int st)
{
    if(v[mask][st]) return dp[mask][st];
    int i,j,nwmask;
    if(st==n)
    {
        for(i=k;i<=11;i++) if(mask & (1<<i)) return dp[mask][st]=1*(v[mask][st]=1);
        return dp[mask][st]=0*(v[mask][st]=1);
    }
    dp[mask][st]=0;
    if(arr[st]==0 || arr[st]==2)
    {
        if(mask<(1<<k)) nwmask=mask+2;
        dp[mask][st]=(dp[mask][st]+calc(nwmask,st+1))%mod;
    }
    if(arr[st]==0 || arr[st]==4)
    {
        if(mask & 2) nwmask=4;
        else if(mask<(1<<k)) nwmask=mask+4;
        dp[mask][st]=(dp[mask][st]+calc(nwmask,st+1))%mod;
    }
    v[mask][st]=1;
    return dp[mask][st];
}
int main()
{
    
    cin>>n>>k;
    for(int i=0;i<n;i++) cin>>arr[i];
    cout<<calc(0,0);
    return 0;
}
