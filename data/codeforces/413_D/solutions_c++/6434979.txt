#include <iostream>

#include <cstring>

using namespace std;

#define MOD 1000000007

int N, K;
int MASKOFF;
int A[2004];

int memo[2][2004][1<<11];
int go(int n, int mask, bool won) {
   if (n >= N)
      return won ? 1 : 0;
   int& res = memo[won][n][mask];
   if (res < 0) {
      res = 0;
      if (A[n] == 2 || A[n] == 0) {
         res += go( n+1, (mask + 2) & MASKOFF, won || (mask + 2) >= (1<<K) );
         res %= MOD;
      }
      if (A[n] == 4 || A[n] == 0) {
         if (mask & 2)
            res += go( n+1, 4, won );
         else
            res += go( n+1, (mask + 4) & MASKOFF, won || (mask + 4) >= (1<<K) );
         res %= MOD;
      }
   }
   return res;
}

int main(int argc, char* argv[]) {
   ios_base::sync_with_stdio(false); 
   cin.tie(NULL);

   cin >> N >> K;
   for (int i = 0; i < N; ++i)
      cin >> A[i];

   MASKOFF = (1<<K) - 1;

   memset(memo, -1, sizeof(memo));
   int res = go(0, 0, false);
   
   cout << res << endl;

   return 0;
}