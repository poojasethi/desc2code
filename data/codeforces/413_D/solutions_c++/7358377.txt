#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#define PR ((int)1e9+7)

using namespace std;

int dp[2001][1<<11+1];
long long ans;

int main(){
    int n,k,t;
    scanf("%d %d", &n, &k), dp[0][0]=1;
    for(int i=1;i<=n;i++){
        scanf("%d", &t);
        for(int j=0;j<=1<<k;j++){
            if(t<=2) dp[i][min(j+2,1<<k)]=(dp[i][min(j+2,1<<k)]+dp[i-1][j])%PR;
            if(!(t&3)){
                int temp=(j&2)&&j<1<<k?4:min(j+4,1<<k);
                dp[i][temp]=(dp[i][temp]+dp[i-1][j])%PR;
            }
        }
    }
    printf("%d\n", dp[n][1<<k]);
    return 0;
}