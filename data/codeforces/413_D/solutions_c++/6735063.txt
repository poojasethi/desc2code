#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;

int g[2001],f[2001][1<<11];
int a[2001];
const int P=1000000007;
int K;

void solve(int i,int opt,int k){
	int opt1=0;
	if (opt & ((1<<k)-1)){
		opt1=1<<k;
		f[i+1][opt1]=(f[i+1][opt1]+f[i][opt])%P;
		return ;
	}
	opt1=opt+(1<<k);
	if (opt1==(1<<K)){
		g[i+1]=(g[i+1]+f[i][opt])%P;
		return ;
	}
	//if (f[i][opt])printf("%d %d %d\n",opt,k,opt1);
	f[i+1][opt1]=(f[i+1][opt1]+f[i][opt])%P;
}

int main(){
	int n;
	scanf("%d%d",&n,&K);
	for (int i=0; i<n; ++i) scanf("%d",&a[i]);
	f[0][0]=1;
	for (int i=0; i<n; ++i){
		g[i+1]=g[i]*(1+(a[i]==0))%P;
		for (int opt=0; opt<(1<<K); ++opt){
			if (a[i]) {
				solve(i,opt,a[i]/2);
				continue;
			}
			solve(i,opt,1);
			solve(i,opt,2);
			//if (f[i][opt]) printf("%d %d\n",i,opt);
		}
	}
	printf("%d\n",g[n]);
}
