#include <bits/stdc++.h>
using namespace std;
#define FOR(i,a,b) for(int i=(int)(a),_b=(int)(b);i<=_b;i++)
#define reset(a,x) memset(a,x,sizeof a)
// RFkr
const int MOD = 1000000007;
int dp[1<<12][2],n,k,res=0,x;

int main() {
    cin>>n>>k;
    
    reset(dp,0);
    dp[0][1]=1;
    for(int now=0;n--;now^=1) {
        cin >> x;
        
        FOR(msk,0,1<<k) dp[msk][now] = 0;

        FOR(msk,0,1<<k)
        if(dp[msk][now^1]) {
            
            if(x != 4) {
                int nsk = min(msk+2,1<<k);
                dp[nsk][now] = (dp[msk][now^1]+dp[nsk][now])%MOD;
            }

            if(x != 2) {
                int nsk = min(msk+4,1<<k);
                if(msk & 2) nsk = 4;
                dp[nsk][now] = (dp[msk][now^1]+dp[nsk][now])%MOD;
            }
            
        }
            
        res = dp[1<<k][now];
    }

    cout<<res;
    return 0;
}