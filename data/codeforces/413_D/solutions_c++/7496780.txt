#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std ;

const int MAXM = 2005 ;
const int MAXN = 8005 ;
const int MOD = 1e9 + 7 ;
int dp[MAXM][MAXN] ;//表示前i个元素，合成值为j的种数，（必须使用第i个元素）
int n, k ;

//
void cal(){
    int t ;
    dp[0][0] = 1 ;
    for( int i = 1; i <= n; i++ ){
        scanf("%d",&t) ;
        for( int j = 0; j <= (1<<k); j++ ){
            if( t == 2 || t == 0 ){
                int tmp = min(j+2,1<<k) ;
                dp[i][tmp] = (dp[i][tmp]+dp[i-1][j]) % MOD ;    
            }
            if( t == 4 || t == 0 ){
                int tmp = (j&2)&&j<1<<k?4:min(j+4,1<<k) ;
                dp[i][tmp] = (dp[i][tmp]+dp[i-1][j]) % MOD ; 
            }
        }   
    } 
    printf("%d\n",dp[n][1<<k]) ; 
}
//
int main(){
    //freopen("1234.in","r",stdin) ;
    while( scanf("%d%d",&n,&k) != EOF ){
        memset(dp,0,sizeof(dp)) ;
        cal() ;
    }
    return 0 ;
} 