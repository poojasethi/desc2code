#include<cstdio>
#include<cstring>
const int MAXN = 1e6 + 5;
int a[MAXN], num[MAXN], dp[MAXN];
int main() {
	memset(a, 0, sizeof(a));
	memset(num, 0, sizeof(num));
	memset(dp, 0, sizeof(dp));
	int n, m;
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++) {
		scanf("%d", &a[i]);
		if(a[i] <= m)
			num[a[i]]++;
	}
	for(int i = 1; i <= m; i++)
		for(int j = i; j <= m; j += i)
			dp[j] += num[i];
	int maxv = 0, cnt = -1;
	for(int i = 1; i <= m; i++)
		if(dp[i] > maxv) maxv = dp[i], cnt = i;
	if(cnt == -1) printf("1 0");
	else {
		printf("%d %d\n", cnt, maxv);
		for(int i = 0; i < n; i++)
			if(cnt%a[i] == 0) printf("%d ", i+1);
	}
}
	 	 				    		    	    	    	