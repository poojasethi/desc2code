#include<cstdio>
#include<cstring>

using namespace std;
const int  N=1e6+5;
int a[N],f[N],n,m;
int c[N],x,an,s;
int main()
{
  memset(a,0,sizeof(a));
  scanf("%d%d",&n,&m);
  for(int i=1;i<=n;i++)
  {
     scanf("%d",&c[i]);
     if(c[i]<=m)a[c[i]]++;
  }
  s=0;an=1;
  memset(f,0,sizeof(f));
  for(int i=1;i<=m;i++)
  {
    if(!a[i])continue;
    for(int j=i;j<=m;j+=i)
    {
      f[j]+=a[i];
      if(s<f[j]){an=j;s=f[j];}
    }
  }
  printf("%d %d\n",an,s);
  int i=1;
  while(s>0)
  {
    if(an%c[i]==0&&an>=c[i])
    {
      if(s==1)printf("%d\n",i);
      else printf("%d ",i);
      s--;
    }
    i++;
  }
}

	 	    	 			 			  	 		     	 		