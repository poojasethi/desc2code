#include<bits/stdc++.h>
#define MAX 1000005
using namespace std;

int a[MAX];
int b[MAX];
int cnt[MAX];
int main()
{
    int i,n,j,m,one=0,mx=0;
    scanf("%d%d",&n,&m);
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
        if(a[i]<=m)
            cnt[a[i]]++;
    }
    for(i=2;i<=m;i++)
    {
        if(cnt[i]>0)
        {
            for(j=i;j<=m;j+=i)
                b[j]+=cnt[i];
        }
    }
    one=cnt[1];
    int lcm=1;
    for(i=2;i<=m;i++)
        if(mx<b[i])
            mx=b[i],lcm=i;
    printf("%d %d\n",lcm,mx+one);
    for(i=0;i<n;i++)
        if(lcm%a[i]==0)
            printf("%d ",i+1);


}