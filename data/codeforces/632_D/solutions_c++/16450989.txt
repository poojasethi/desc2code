#include <cstdio>
#define w(c) for(a=1;a<=c;a++)
int n,m,p,q,x[1000005],y[1000005],a,b;int main(){scanf("%d%d",&n,&m);w(n){scanf("%d",&x[a]);if(x[a]<=m)y[x[a]]++;}for(a=m;a;a--)for(b=a*2;b<=m;b+=a)y[b]+=y[a];w(m)if(y[a]>q)p=a,q=y[a];if(q){printf("%d %d\n",p,q);w(n)if(p%x[a]==0)printf("%d ",a);}else printf("1 0\n\n");}