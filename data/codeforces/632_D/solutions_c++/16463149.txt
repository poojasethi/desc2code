#include <set>
#include <map>
#include <ctime>
#include <cmath>
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <iostream>
#include <algorithm>
using namespace std;
#define LL long long
int N,M,ans;
int f[1000010],b[1000010],a[1000010];
int main(){
	scanf("%d%d",&N,&M);
	for (int i=1;i<=N;i++){
		scanf("%d",&a[i]);
		if (a[i]<=M)b[a[i]]++;
	}
	for (int i=1;i<=M;i++)
		for (int j=i;j<=M;j+=i)
			f[j]+=b[i];
	ans=1;
	for (int i=1;i<=M;i++)
		if (f[i]>f[ans])ans=i;
	printf("%d %d\n",ans,f[ans]);
	for (int i=1;i<=N;i++)
		if (ans%a[i]==0)
			printf("%d ",i);
}