#include<bits/stdc++.h>
#define MAX 1000005
using namespace std;
int cnt[MAX];
int a[MAX];
int len[MAX];
int main()
{
    int n,i,j,m;
    scanf("%d %d",&n,&m);
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
        if(a[i]<MAX)cnt[a[i]]++;
    }

    for(i=1;i<=m;i++)
        if(cnt[i]>0)
        {
            for(j=i;j<=m;j+=i)
                len[j]+=cnt[i];
        }
    int ans=0,id=-1;
    for(i=1;i<=m;i++)
        if(len[i]>ans)
            ans=len[i],id=i;
    if(id== -1)
    {
        printf("1 0");
    }
    else
    {
        printf("%d %d\n",id,ans);

        for(i=0;i<n;i++)
            if(id%a[i]==0)
                printf("%d ",i+1);
    }

}
