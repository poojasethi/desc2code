#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
using namespace std;

int a[20], m=0;
vector<int> luk;

bool isluk(int x) {
	while(x>0) {
		if(x%10!=4 &&x%10!=7) return false;
		x/=10;
	}
	return true;
}
int main(void) {
	int n, k;
	scanf("%d%d", &n, &k);
	int r=k;
	--r;
	while(r>0) {
		a[m] = r%(m+1);
		++m;
		r/=m;
	}
	if(m>n) { puts("-1"); return 0; }
	luk.push_back(4);
	luk.push_back(7);
	for(int i=0;luk[i]<444444444;i++) {
		luk.push_back(luk[i]*10+4);
		luk.push_back(luk[i]*10+7);
	}
	int cnt=0;
	for(int i=0;i<(int)luk.size();i++)
		if(luk[i]<=n-m) ++cnt;
	int s[20]={}, u[20]={};
	for(int i=1;i<=m;i++) s[i-1] = n-m+i;
	for(int i=m-1;i>=0;--i) {
		int j=0, t=0;
		for(j=0;j<m;j++)
			if(!u[j] && t++==a[i])
				break;
		u[j]=1;
		if(isluk(n-m+j+1) && isluk(n-i)) ++cnt;
	}
	printf("%d\n", cnt);
	return 0;
}
