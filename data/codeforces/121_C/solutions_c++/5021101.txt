#include <algorithm>
#include <stdio.h>
#include <vector>
#define  maxs      1000000000LL
#define  pb        push_back
using    namespace std;
typedef  long long LL;

int n,k,m,ans;
int fib[20];
bool mark[20];
vector<int>v;

void f(LL x)
{
  if(x>=maxs) return;
  if(x)       v.pb((int)x);
  f(x*10+4);
  f(x*10+7);
}

bool check(int x)
{
  while(x)
  {
    if(x%10!=4 && x%10!=7) return false;
    x/=10;
  }
  return true;
}

int main()
{
  f(0);
  sort(v.begin(),v.end());
  scanf("%d%d",&n,&k);
  fib[0]=1;
  for(int i=1 ; true ; i++)
  {
    LL x=(LL)fib[i-1]*(LL)i;
    fib[m=i]=(int)x;
    if(x>=k) break;
  }
  if(m>n)
  {
    printf("-1\n");
    exit(0);
  }
  for(int i=0 ; i<(int)v.size() && v[i]<=n-m ; i++)  ans++;
  for(int i=n-m+1,cnt=m ; i<=n ; i++,cnt--)
  {
    int curr;
    for(curr=1 ; curr<=m ; curr++)
    {
      if(mark[curr])     continue;
      if(k<=fib[cnt-1])  break;
      k-=fib[cnt-1];
    }
    mark[curr]=true;
    if(check(curr+n-m) && check(i)) ans++;
  }
  printf("%d\n",ans);
  return 0;
}
