#include <stdio.h>
#include <algorithm>

using namespace std;

long long num[100000];
int an;

void search(long long val)
{
	num[an++]=val;
	if (val>=1000000000L) return;
	search(val*10+4);
	search(val*10+7);	
}

int n, k;
int mul[20], a[20];

bool ok(int x)
{
	while (x>0)
	{
		int y=x%10;
		if (y!=4 && y!=7) return false;
		x/=10;
	}
	return true;
}

int main()
{
	int i, j, k, m, d, val;
	long long v;

	an=0;
	search(0LL);
	sort(num, num+an);	
	
	mul[0]=1;
	for (i=1; i<=15; i++)
	  mul[i]=mul[i-1]*i;
	mul[0]=1;  
	scanf("%d%d", &n, &k);
	if (n<=15 && k>mul[n])
	{
		printf("-1\n");
		return 0;
	}
	k--;
	m=0;
	for (i=0; i<=15&&i<n; i++)  a[i]=n-i;
	while (k>0)
	{
		for (i=0; mul[i]<=k; i++);
		i--;
		if (i>m) m=i;
		d=k/mul[i];
		val=a[i-d];
		for (j=i-d; j<i; j++)
		  a[j]=a[j+1];
		a[i]=val;
		k%=mul[i];  
	}
	
//	for (i=n-1; i>=0; i--) 
//	  printf("%d ", a[i]);
//	printf("\n");
	int	ans=0;
	for (i=1; i<an; i++)
	  if (num[i]<n-m) ans++;
	for (i=0; i<=m; i++)
	  if (ok(n-i) && ok(a[i])) ans++;
	printf("%d\n", ans);
	return 0;
}
