//By Lin
#include<cstdio>
#include<cstring>

using namespace std; 
typedef long long LL;

int		n,k,len;
LL		base[20];
int		num[20];
bool	mark[20];

int		solve(int x )
{
	int ret = 0; 
	for ( int L = 1; L<=9; L++ ) 
		for (int i = 0; i<(1<<L); i++){
			int k = 0; 
			for (int j = 0; j<L; j++)  k = k*10 + ((i&(1<<j))?4:7);
			if ( k <= x ) ret ++;
		}
	return ret;
}

bool	lucky(int x) {
	while ( x ) {
		if ( x%10 != 4 && x%10 != 7 ) return false;
		x /= 10;
	}
	return true;
}

int		main()
{
	scanf("%d%d" , &n, &k );
	int ans; 
	if ( k == 1 ) ans = solve( n );
	else {
		k--;
		len = 2; base[1] = base[2] = 1; 
		while ( base[len] <= k ) base[++len] = base[len-1]*(len-1);
		len --; 
		if ( n < len ) { printf("-1\n"); return 0; }
		ans = solve( n-len );

		for (int i = 0; i<len; i++){
			int t = (k/base[len-i])+1;
			k %= base[len-i];
			int j = 0; 
			while ( t-- ) {
				while ( mark[j] ) j++;
				if ( t ) j++;
			}
			mark[j] = true; 
			num[i] = j; 
			if ( lucky(i+n-len+1)&&lucky(num[i]+n-len+1) ) ans++;
		}
	}
	printf("%d\n" , ans ); 
	return 0;
}
