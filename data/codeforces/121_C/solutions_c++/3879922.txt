#include <cstdio>
#include <cstring>
#include <iostream>
#include <set>
#include <vector>
#include <algorithm>

using namespace std;

typedef long long ll ;

ll n,k,m;
ll ed;
ll f[20],cur[20],a[20],vis[20];
ll ans=0;

void solve(ll now){
    if (now>m) return ;
    ans++;
    solve(now*10+4);
    solve(now*10+7);
}

bool legal(ll x){
    while (x>0){
        ll tmp=x%10;
        if (tmp!=4&&tmp!=7) return false;
        x/=10;
    }
    return true;
}

int main(){
    cin>>n>>k;
    ed=1;f[ed]=1;f[0]=1;
    while (f[ed]<k){
        f[ed+1]=f[ed]*(ed+1);
        ++ed;
    }
    m=n-ed;
    if (m<0){
        cout<<-1<<endl;
        return 0;
    }
    memset(vis,false,sizeof(vis));
    for (int i=1;i<=ed;i++){
        cur[i]=(k+f[ed-i]-1)/f[ed-i];
        int cnt=0;
        for (int j=1;;j++){
            if (!vis[j]) cnt++;
            if (cnt==cur[i]){
                a[i]=j;
                vis[j]=true;
                break ;
            }
        }
        k-=f[ed-i]*(cur[i]-1);
    }
    solve(4);
    solve(7);
    for (int i=1;i<=ed;i++)
    {
        ll num = a[i] + m ;
        ll pos = i + m ;
        if (legal(num) && legal(pos)) ans++ ;
    }
    cout<<ans<<endl ;
}

			 		  			 		   	    		 	