#include<stdio.h>
#include<string.h>
#include<iostream>
#include<vector>
#include<algorithm>
#include<map>
using namespace std;

int n,k,fact[15],ans,l,r,b[15],d[15];
vector <int> a;
map <int,int> mp;

void gen(int x)
{
  a.push_back(x); 
  mp[x]=1;
  if (x>100000000) return ;
  gen(x*10+4); 
  gen(x*10+7);
}

int calc(int x)
{
  int r=0;
  while ( r<int(a.size()) && a[r]<=x )
      r++;
  return r;
}

void solve(int k,int n)
{
    k--;
    for (int i=1;i<=n;i++)
    {
        int x=(k+fact[n-i])/fact[n-i];
        int j=0;
        k%=fact[n-i];
        while (x)
        {
            if (!d[++j])
                x--;
        }
        b[i]=j;
        d[j]=1;
    }
}

int main()
{
//    freopen("in.txt","r",stdin);
    fact[0]=1;
    for (int i=1;i<13;i++) 
        fact[i]=fact[i-1]*i;
    gen(4); 
    gen(7);
    sort(a.begin(),a.end());
    cin >> n >> k;
    if (n<13 && k>fact[n])
    {
        printf("-1\n");
        return 0;
    }
    for (r=1;r<13;r++)
        if (fact[r]>=k)
            break;
    l=n-r;
    ans=calc(l);
    solve(k,r);
    for (int i=1;i<=r;i++)
        if (mp[i+l] && mp[b[i]+l])
            ans++;
    cout << ans << endl;
//    while(1);
}