#include <stdio.h>

FILE *in=stdin;
FILE *out=stdout;

int n,a[20],k,lcnt;
__int64 ln[10005];
bool check[20];

int fact(int t)
{
	int i,f=1;
	for(i=1;i<=t;i++) f*=i;
	return f;
}

bool func(int t)
{
	if(t==0) return false;
	while(t!=0)
	{
		if(t%10!=4 && t%10!=7) return false;
		t/=10;
	} 
	return true;
}
void make_lucky(__int64 t, int lev, int lim)
{
	if(lev==lim)
	{
		ln[++lcnt]=t;
		return;
	}
	make_lucky(t*10+4,lev+1,lim);
	make_lucky(t*10+7,lev+1,lim);
}

int main()
{
	int i,x=13,j,cnt=0;
	fscanf(in,"%d %d",&n,&k);
	if(n<x) x=n;

	for(i=1;i<=9;i++) make_lucky(0,0,i);
	for(i=1;i<=x;i++)
	{
		for(j=1;j<=x;j++)
		{
			if(check[j])continue;
			if(fact(x-i)<k) k-=fact(x-i);
			else 
			{
				a[i]=j;
				check[j]=1;
				break;
			}
		}
		if(j>x)
		{
			fprintf(out,"-1");
			return 0;
		}
	}



	if(n>13)
	{
		for(i=1;i<=13;i++)
		{
			if(func(i+n-13)*func(a[i]+n-13)==1) cnt++;
		}
		for(i=1;i<=lcnt;i++)
		{
			if(ln[i]>n-13) break;
			cnt++;
		}
	}
	else
	{
		for(i=1;i<=n;i++)
		{
			if(func(i)*func(a[i])==1) cnt++;
		}
	}


	fprintf(out,"%d",cnt);
	fclose(in);
	fclose(out);
	return 0;
}