#include <cstdio>
inline unsigned int getuint(){
    char w=getchar();
    while (w<'0'||'9'<w) w=getchar();
    unsigned int ans=0;
    for (;'0'<=w&&w<='9';w=getchar()) ans=ans*10+w-'0';
    return ans;
}
int minposs(int m){
    long long s=1;int ans=0;
    while (s<m) s*=++ans;
    return ans;
}
inline bool ok(int n){
    if (n>=10&&!ok(n/10)) return false;
    return n%10==4||n%10==7;
}
int main(){
    //freopen("ex.in", "r", stdin);
    int N=getuint(), k=getuint(), m=minposs(k), n=N-m;
    if (N<m) return puts("-1"), 0;
    int ans=0;
    for (int l=1;l<=9;l++){
        for (int s=0, maxs=1<<l;s<maxs;s++){
            int c=0;for (int i=0;i<l;i++) if (s>>i&1) c=c*10+4; else c=c*10+7;
            if (c<=n) ans++;
        }
    }
    static int a[233], flag[233];
    for (int i=1;i<=m;i++){
        int s=1;
        for (int j=m-i;j;j--) s*=j;
        for (int j=1;j<=m;j++) if (!flag[j]) if (k<=s) {flag[a[i]=j]=1;break;} else k-=s;
        if (ok(N-m+i)&&ok(N-m+a[i])) ans++;
        //printf("%d %d\n", N-m+i, N-m+a[i]);
    }
    printf("%d\n", ans);
    return 0;
}
