#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <vector>
#include <queue>
#include <set>
#include <map>
using namespace std;
#define LL long long

LL p[15] , ans , a[20];
int n , k , m , d;
bool f[20];
void dfs(LL x)
{
  if (x > m) return;
  ++ ans;
  dfs(x * 10 + 4);
  dfs(x * 10 + 7);
}

bool check(int x)
{
  char s[12];
  sprintf(s , "%d" , x);
  for (int i = 0 ; s[i] ; ++ i)
    if (s[i] != '4' && s[i] != '7')
      return 0;
  return 1;
}

void work()
{
  int i , j , x , y;
  cin >> n >> k;
  p[0] = 1;
  for (i = 1 ; i < 15 ; ++ i)
    p[i] = p[i - 1] * i;
  if (n < 15 && k > p[n])
  {
    puts("-1");
    return;
  }
  for (i = 1 ; i < 15 ; ++ i)
    if (p[i] > k)
      break;
  m = n - i , d = i;
  dfs(4) , dfs(7);
  -- k;
  for (i = 1 ; i <= d ; ++ i)
  {
    x = k / p[d - i] , y = 0;
    for (j = 1 ; j <= d ; ++ j)
    {
      if (!f[j])
        ++ y;
      if (y > x) break;
    }
    f[j] = 1 , k %= p[d - i];
    if (check(j + m) && check(i + m)) ++ ans;
   // cout << j;
  }
  cout << ans;


}

int main()
{
//  freopen("input.txt", "r" , stdin);
    work();
  return 0;
}
