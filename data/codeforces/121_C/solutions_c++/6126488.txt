#include<cstdio>
#include<cstdlib>
#include<cstring>
#define LL long long
using namespace std;
bool used[100];
int ans,n,m,k;
void init(){
    ans=0;
    memset(used,0,sizeof(used));
}
void ct_unchanged(LL x){
    if(x<=n-m){
        ++ans;
        ct_unchanged(x*10+4);
        ct_unchanged(x*10+7);
    }
}
bool isok(int n){
    if(!n)return 0;
    while(n){
        if(n%10!=4 && n%10!=7)return 0;
        n/=10;
    }
    return 1;
}
int main(){
    LL fac[30];
    fac[0]=1;
    for(int i=1;i<30;++i)fac[i]=fac[i-1]*i;
    while(~scanf("%d%d",&n,&k)){
        init();
        m=1;
        while(fac[m]<k && m<=n) ++m;
        if(m>n || m>13)puts("-1");//***k range <= 10^9 ,covered by 13!
        else{
            ct_unchanged(4);
            ct_unchanged(7);
            for(int i=1;i<=m;++i){
                int x=0,y=1;
                while(k>fac[m-i])k-=fac[m-i],++y;
                while(y--){
                    ++x;
                    while(used[x])++x;
                }
                used[x]=1;
                if(isok(n-m+i)&&isok(n-m+x))++ans;
            }
            printf("%d\n",ans);
        }
    }
    return 0;
}
