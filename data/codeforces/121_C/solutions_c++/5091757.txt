#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <algorithm>
using namespace std;

int res;
int a[100], ins[100];

int IsLucky(int x)
{
	for ( ; x; x /= 10)
		if (x % 10 != 4 && x % 10 != 7)
			return 0;
	return 1;
}
void Dfs(int now, int lim)
{
	res++;
	if ((long long)now*10+4 <= lim) Dfs(now*10+4, lim);
	if ((long long)now*10+7 <= lim) Dfs(now*10+7, lim);
}
int main()
{
	int n, m, k;
	scanf("%d%d", &n, &m);
	long long cnt = 1;
	for (int i = 1; ; i++) {
		cnt *= i;
		if (cnt >= m) {
			k = i;
			break;
		}
	}
	if (k > n) { puts("-1"); return 0; }
	memset(ins, 0, sizeof(ins));
	for (int i = 0; i < k; i++) {
		cnt = 1;
		for (int j = 1; j < k-i; j++) cnt *= j;
		int ret = (m-1)/cnt;
		m -= ret*cnt;
		for (int j = 0; j < k; j++) if (! ins[j]) {
			if (ret == 0) {
				ins[j] = 1;
				a[i] = j;
				break;
			}
			else ret--;
		}
	}
	res = 0;
	for (int i = 0; i < k; i++)
		if (IsLucky(n-k+1+i) && IsLucky(n-k+1+a[i]))
			res++;
	if (4 <= n-k) Dfs(4, n-k);
	if (7 <= n-k) Dfs(7, n-k);
	printf("%d\n", res);
	return 0;
}

