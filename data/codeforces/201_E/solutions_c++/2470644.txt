#include <cstdio>
#include <algorithm>
using namespace std;
int _,n,m,l,r;
bool check(long long k) {
	long long p=k*m,s=1,c=0,t;
	for (int i=1;i<=p&&i<=k;p-=t*i,i++) {
		t=min(s=s*(k+1-i)/i,p/i);
		if ((c+=t)>=n-1) return 1;
	}
	return 0;
}
int main() {
	for (scanf("%d",&_);_;_--) {
		scanf("%d%d",&n,&m);
		l=0;r=n;
		while (l+1<r) {int mid=(l+r)>>1;if (check(mid)) r=mid;else l=mid;}
		printf("%d\n",n==1?0:r);
	}
}