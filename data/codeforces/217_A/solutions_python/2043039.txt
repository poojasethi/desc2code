n=input()
p=[map(int,raw_input().split()) for _ in range(n)]
yy=[-1]*1024
rt=[i for i in range(1024)]
def root_of(x):
	if x!=rt[x]:rt[x]=root_of(rt[x])
	return rt[x]
for t in p:
	if yy[t[1]]<0:yy[t[1]]=t[0]
	r1,r2=root_of(t[0]),root_of(yy[t[1]])
	rt[r2]=r1
c,uu=0,[False]*1024
for t in p:
	if not uu[t[0]] and root_of(t[0])==t[0]:c+=1
	uu[t[0]]=True
print c-1