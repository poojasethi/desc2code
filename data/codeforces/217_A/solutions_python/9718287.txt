def iarr(): return map(int,raw_input().split())
n = int(input())
nodes = set()
adj = dict()
for i in xrange(n):
    [x,y] = iarr()
    neighbors = [(0,x),(1,y)]
    for node in neighbors:
        if(not node in nodes):
            nodes.add(node)
            adj[node] = []
        adj[node].append(neighbors[1-neighbors.index(node)])
comp = 0
for node in list(nodes):
    if(node in nodes):
        comp +=1
        expand = [node]
        for n in expand:
            if(n in nodes):
                nodes.remove(n)
                for neighbor in adj[n]:
                    if(neighbor in nodes):
                        expand.append(neighbor)
print comp-1
	 	  	 			 		 		   	    	 	 			