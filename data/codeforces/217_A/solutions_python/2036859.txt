n = int(raw_input())
x = []
y = []

for i in xrange(n):
		xx, yy = [int(z) for z in raw_input().split()]
		x.append(xx)
		y.append(yy)

g = []

for i in xrange(n):
		g.append([])
		for j in xrange(n):
				g[i].append(0)
				if x[i] == x[j] or y[i] == y[j]:
						g[i][j] = 1

ok = [0]*n

def dfs(i):
		for j in xrange(n):
				if g[i][j] == 1 and ok[j] == 0:
						ok[j] = 1
						dfs(j)

ans = 0

for i in xrange(n):
		if ok[i] == 0:
				ok[i] = 1
				dfs(i)
				ans += 1

print ans - 1
		
						
