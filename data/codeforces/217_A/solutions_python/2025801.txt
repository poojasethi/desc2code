n=input()
x=[(0,0)]*n
for i in range(n):
  x[i]=map(int,raw_input().split())
  
a = [[] for i in range(n)]  
state = [0 for i in range(n)]  
for i in range(n):
  for j in range(n):
    if x[i][0]==x[j][0] or x[i][1]==x[j][1]:
      a[i].append(j)
def dfs(i):
  if state[i]==0:
    state[i]=1
    for j in a[i]:
      if state[j]==0:
        dfs(j)
r=-1
for i in range(n):
  if state[i]==0:
    dfs(i)
    r+=1
print r
