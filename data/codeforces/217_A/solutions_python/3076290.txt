from collections import defaultdict, deque
from itertools import chain

xp = defaultdict(set)
yp = defaultdict(set)

n = input()
neighs = [[] for _ in xrange(n)]
for p in xrange(n):
  x, y = map(int, raw_input().split())
  for pn in chain(xp[x], yp[y]):
    neighs[p].append(pn)
    neighs[pn].append(p)
  xp[x].add(p)
  yp[y].add(p)


comp = 0
visited = set()
for v in xrange(n):
  if not v in visited:
    comp += 1
    q = deque()
    q.append(v)
    while len(q):
      crt = q.popleft()
      visited.add(crt)
      for neigh in neighs[crt]:
        if not neigh in visited:
          q.append(neigh)

print comp-1
  



