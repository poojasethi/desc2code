n = int(raw_input())
ps = [map(int, raw_input().split()) for i in xrange(n)]
vis = [False] * n
def fill(p):
    head = 0
    que = [p]
    while head < len(que):
        x0, y0 = que[head]
        for i, (x, y) in enumerate(ps):
            if not vis[i] and (x == x0 or y == y0):
                vis[i] = True
                que.append((x, y))
        head += 1
ans = -1
for i in xrange(n):
    if not vis[i]:
        vis[i] = True
        fill(ps[i])
        ans += 1
print ans
            

