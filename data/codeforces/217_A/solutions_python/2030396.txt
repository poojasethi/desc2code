n = input()
m = []
k = [0 for i in range(n)]
q = []
for i in range(n):
    x, y = map(int, raw_input().split())
    m.append((x, y))
cnt = 0
for i in range(n):
    if k[i] == 0:
	k[i] = 1
	q.append(i)
	cnt += 1
    while len(q) > 0:
	p = q[0]
	q = q[1:]
	for j in range(n):
	    if k[j] == 0:
		if m[p][0] == m[j][0] or m[p][1] == m[j][1]:
		    k[j] = 1
		    q.append(j)
print cnt - 1
