#! /usr/bin/env python
#  @author: grastyele

from Queue import Queue

def init():
    n = input()
    points = list()
    for i in xrange(0, n):
        x, y = map(int, raw_input().split())
        points.append([x, y])
    return n, points

def is_link(x, y):
    return x[0] == y[0] or x[1] == y[1]

def solve(n, points):
    used = [False] * n
    result = 0
    for i in xrange(0, n):
        if used[i]: continue
        used[i] = True
        result += 1
        queue = Queue()
        queue.put(points[i])
        while not queue.empty():
            now = queue.get()
            for j in xrange(0, n):
                if used[j]: continue
                if is_link(now, points[j]):
                    queue.put(points[j])
                    used[j] = True
    return result

def display(output):
    print output - 1

if __name__ == "__main__":
    n, points = init()
    block = solve(n, points)
    display(block)
