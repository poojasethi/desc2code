if __name__ == '__main__':
    n = int(raw_input())
    data, xindex, yindex = [], {}, {}
    for i in xrange(n):
        x, y = map(int, raw_input().split())
        if not xindex.get(x):
            xindex[x] = set()
        xindex[x].add(i)
        if not yindex.get(y):
            yindex[y] = set()
        yindex[y].add(i)
        data.append([x, y])

    components = 0
    seen = set()

    while True:
        try:
            i = (i for i in xrange(n) if i not in seen).next()
            queue = [i]
            components += 1
            while queue:
                x, y = data[queue.pop()]
                for collection in [xindex[x], yindex[y]]:
                    for node_id in collection:
                        if node_id not in seen:
                            seen.add(node_id)
                            queue.append(node_id)
        except StopIteration:
            break
    print components - 1
