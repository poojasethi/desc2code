#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <queue>
#define N 500010
#define int64 long long
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,Last;
int a[N],b[N];
priority_queue<int64> xu,tmp;
int64 an,sum;
int main() {
	scanf("%d",&n);
	For(i,1,n) scanf("%d",&a[i]),sum+=a[i];
	sort(a+1,a+n+1); reverse(a+1,a+n+1);
	For(i,1,n) if (i==1||a[i]<a[m]) a[++m]=a[i],b[m]=1;
		else b[m]++;
	For(i,1,m) {
		int A=b[i];
		for (;Last&&A;Last--,A--) tmp.push(-a[i]);
		for (;A>1&&!xu.empty();A-=2) {
			int64 B=-xu.top();
			xu.pop();
			if (B<=a[i]) {
				tmp.push(-a[i]);
				tmp.push(-a[i]);
			} else {
				tmp.push(-B);
				tmp.push(-(2ll*a[i]-B));
			}
		}
		if (A==1&&!xu.empty()) {
			int64 B=-xu.top();
			if (B<=a[i]) {
				tmp.push(-a[i]);
				xu.pop();
			}
		}
		Last+=A;
		for (;!tmp.empty();) {
			int64 B=tmp.top();
			tmp.pop();
			xu.push(B);
		}
	}
	for (;!xu.empty();) {
		int64 A=-xu.top();
		xu.pop();
		if (A>0) an+=A;
	}
	printf("%I64d\n",sum-an);
	return 0;
}
