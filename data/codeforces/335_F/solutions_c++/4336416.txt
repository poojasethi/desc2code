#include <map>
#include <set>
#include <stdio.h>
#include <iostream>
#include <algorithm>
#define ll long long
#define X first
#define Y second
#define For(i,x,y) for (int i=x;i<=y;i++)
using namespace std;
const int                           Maxn=500010,Maxm=100010;
int n,a,v,sum,p,nt,j,k,l[Maxn];
ll ans;
map<int,int> m;
multiset<int> q;
int main()
{
    ios::sync_with_stdio(0);
//    freopen("/Users/MAC/Desktop/Error202/Error202/1.in","r",stdin);
    cin>>n;
    For(i,1,n) cin>>a,m[a]++,ans+=a;
    map<int,int>::reverse_iterator i=m.rbegin();
    for(;i!=m.rend();i++)
    {
        v=i->X;
        n=i->Y;
        nt=min((n+sum)/2,sum);
        p=max(nt-n,0);
//        cout<<v<<" "<<n<<" "<<nt<<endl;
        for (j=nt-1;j>=p;j--)
            if (j<q.size()){
                l[j]=*q.begin();
                q.erase(q.begin());
            }
            else l[j]=0;
//        For(u,p,nt-1) cout<<*(l+u)<<' ';cout<<endl;
        for (j=p,k=sum-j;j<k&&j<nt;j++)
            if (l[j]>v){
                if (k-1<nt)
                    l[k-1]=max(0,2*v-l[j]);
                k--;
            }
            else l[j]=v;
//        For(u,p,nt-1) cout<<*(l+u)<<' ';cout<<endl;
        q.insert(l+p, l+nt);
        sum+=n;
    }
    for (set<int,int>::iterator i=q.begin();i!=q.end();i++) ans-=*i;
    cout<<ans<<endl;
}