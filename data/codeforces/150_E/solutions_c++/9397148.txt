#include<bits/stdc++.h>
#define pb push_back
#define mp make_pair
#define X first
#define Y second
#define fill(A,B) memset(A,B,sizeof(A))
#define Copy(A,B) memcpy(A,B,sizeof(A))
#define For(i,A,B) for(int i=(A);i<(int)(B);i++)
#define rep(i,A,B) for(int i=(A);i<=(B);i++)
#define dep(i,B,A) for(int i=(B);i>=(A);i--)
#define re(i,A) for(int i=0;i<(int)(A);i++)
#define de(i,A) for(int i=(A)-1;~i;i--)
#define inf (1e9)
#define mn 200011
#define P 1000000007
#define eps 1e-9
#define si(x) ((int)x.size())
#define MAX(A,B) A=max(A,B)
#define MIN(A,B) A=min(A,B)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
typedef pair<int,int> pii;
inline int _pow(int a,int b){int tmp=1;for(;b;b>>=1){if(b&1)tmp=(ll)tmp*a%P;a=(ll)a*a%P;}return tmp;}
template<class T>inline void R(T &xx){xx=0;char ch=getchar();bool F=0;while((ch<'0'||ch>'9')&&ch!='-')ch=getchar();if(ch=='-')F=1,ch=getchar();while(ch>='0'&&ch<='9')xx=xx+xx+(xx<<3)+ch-48,ch=getchar();if(F)xx=-xx;}

int TM,N,le,ri,U,V,md,n,ha[mn],w[mn],q[mn],d[mn],fa[mn],e[mn],sz[mn],f[mn],ff[mn],g[mn],gg[mn],h[mn],b[mn];
int es=1,H[mn],lk[mn],nxt[mn];
#define RE(p) for(int i=H[p],v;v=lk[i],i;i=nxt[i])
int bfs(int p){
    int l=1,r=1;fa[q[1]=p]=0;
    for(int u=p;l<=r;u=q[++l])
        RE(u)if(b[v]!=TM&&v!=fa[u])
            fa[v]=u,q[++r]=v,d[v]=d[u]+1,e[v]=e[u]+(w[i]<ha[md]?-1:1);
    return r;
}
int find(int p){
    int r=bfs(p),o,mi=inf;
    dep(i,r,1){
        int u=q[i],mx=0;sz[u]=1;
        RE(u)if(b[v]!=TM&&v!=fa[u])sz[u]+=sz[v],MAX(mx,sz[v]);
        MAX(mx,r-sz[u]);
        if(mx<mi)mi=mx,o=u;
    }
    return o;
}

bool work(int u){
    int s=bfs(u);
    rep(i,1,s)if(e[q[i]]>ff[d[q[i]]])ff[d[q[i]]]=e[q[i]],gg[d[q[i]]]=q[i];
    int l=1,r=0,j=0;bool F=0;
    dep(i,s,1){
        int ll=le-i,rr=ri-i;if(ll>n)break;
        for(;j<ll;j++);
        for(;j<=rr&&j<=n;j++){
            for(;l<=r&&f[j]>f[h[r]];r--);
            h[++r]=j;
        }
        for(;l<=r&&h[l]<ll;l++);
        if(l<=r&&f[h[l]]+ff[i]>=0){U=g[h[l]],V=gg[i],F=1;break;}
    }
    MAX(n,s);
    rep(i,1,s){
        if(ff[i]>f[i])f[i]=ff[i],g[i]=gg[i];
        ff[i]=-inf;
    }
    return F;
}

bool dfs(int u){
    int p=find(u),r;//printf("%d\n",p);
    d[p]=e[p]=0,r=bfs(p),b[p]=TM,n=0,f[0]=0,g[0]=p;
    rep(i,1,r)f[i]=ff[i]=-inf;
    RE(p)if(b[v]!=TM&&work(v))return 1;
    RE(p)if(b[v]!=TM&&dfs(v))return 1;
    return 0;
}
#define add(u,v,x) lk[es]=v,w[es]=x,nxt[es]=H[u],H[u]=es++
int main(){
#ifndef ONLINE_JUDGE
    freopen("1.in","r",stdin);
    //freopen("2.out","w",stdout);
#endif
    R(N),R(le),R(ri);
    int x,y;For(i,1,N)R(x),R(y),R(ha[i]),add(x,y,ha[i]),add(y,x,ha[i]);
    sort(ha+1,ha+N);int l=1,r=unique(ha+1,ha+N)-ha-1,ans;
    for(;l<=r;){
        md=l+r>>1;TM++;
        if(dfs(1))ans=md,l=md+1;else r=md-1;
    }md=ans;TM++;dfs(1);
    printf("%d %d\n",U,V);
    return 0;
}