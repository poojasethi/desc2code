#include <cstdio>
#include <iostream>
#include <string>
#include <vector>
#include <algorithm>
#define PB push_back
using namespace std;

int n;
string nam[10003],sav[5003][2];
vector<int> e[10003];
int sam[10003],ans[10003];

int main()
{
	//freopen("a.in","r",stdin);///
	while(scanf("%d",&n)==1)
	{
		for(int i=0;i<2*n;i++)
		{
			cin >> nam[i];
			sav[i/2][i%2]=nam[i];
		}
		sort(nam, nam+2*n);
		int cnt=unique(nam, nam+2*n)-nam;
		for(int i=0;i<cnt;i++) e[i].clear();
		for(int i=0;i<n;i++)
		{
			int x=lower_bound(nam, nam+cnt, sav[i][0])-nam;
			int y=lower_bound(nam, nam+cnt, sav[i][1])-nam;
			e[x].PB(y); e[y].PB(x);
		}
		for(int i=0;i<cnt;i++)
		{
			for(int j=0;j<cnt;j++) sam[j]=0;
			sam[i]=-1;
			for(int j=0;j<e[i].size();j++) sam[e[i][j]]=-1;
			for(int j=0;j<e[i].size();j++)
			{
				int now=e[i][j];
				for(int k=0;k<e[now].size();k++)
				{
					int x=e[now][k];
					if(sam[x]!=-1) sam[x]++;
				}
			}
			int mx=0,res=0;
			for(int j=0;j<cnt;j++) if(sam[j]>mx) mx=sam[j];
			for(int j=0;j<cnt;j++) if(sam[j]==mx) res++;
			ans[i]=res;
		}
		printf("%d\n",cnt);
		for(int i=0;i<cnt;i++)
			cout << nam[i] << " " << ans[i] << endl;
	}
	return 0;
}
			  	 		    	 	 		 		 						 	