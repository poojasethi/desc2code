#include <iostream>
#include <map>
#include <set>
using namespace std;
const int maxn=10000+100;
string s[maxn];
int m,n,t[maxn],b[maxn];
map <string,int> mp;
set <int>st[maxn];
int main()
{
    //ios_base::sync_with_stdio (false);
    cin>>m;
    for(int i=1;i<=m;i++)
    {
        string g,h;
        cin>>g>>h;
        if(mp.find(g)==mp.end())
        {
            n++;
            mp[g]=n;
            s[n]=g;
        }
        if(mp.find(h)==mp.end())
        {
            n++;
            mp[h]=n;
            s[n]=h;
        }
        st[mp[g]].insert(mp[h]);
        st[mp[h]].insert(mp[g]);
    }
    for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
            if(i!=j && st[i].find(j)==st[i].end())
            {
                int x=0;
                for(set<int>::iterator it=st[i].begin();it!=st[i].end();it++)
                    if(st[j].find(*it)!=st[j].end())
                        x++;
                if(x==b[i])
                    t[i]++;
                if(x>b[i])
                {
                    b[i]=x;
                    t[i]=1;
                }
            }
    cout<<n<<endl;
    for(int i=1;i<=n;i++)
        cout<<s[i]<<" "<<t[i]<<endl;

    return 0;
}