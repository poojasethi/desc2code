#include<iostream>
#include<bitset>
#include<vector>
#include<cstring>
#include<string>
#include<map>
#include<cstdio>
#define MAX_N 2*5555
using namespace std;

map<string,int> ma;

string name[MAX_N];

int n,m;

bitset<MAX_N> bi[MAX_N];
vector<int> G[MAX_N];

char cc[50];

int main() {
    scanf("%d", &m);
    for (int i = 0; i < m; i++) {
        string u, v;
        scanf("%s", cc);
        u = cc;
        scanf("%s", cc);
        v = cc;
        if (ma.find(u) == ma.end())ma[u] = n++;
        if (ma.find(v) == ma.end())ma[v] = n++;
        int s = ma[u], t = ma[v];
        name[s] = u;
        name[t] = v;
        bi[s][t] = bi[t][s] = 1;
        G[t].push_back(s);
        G[s].push_back(t);
    }
    printf("%d\n", n);
    for (int i = 0; i < n; i++) {
        printf("%s ", name[i].c_str());
        int c = 0;
        int mf = 0;
        for (int j = 0; j < n; j++) {
            if (bi[i][j] || i == j)continue;
            int tmp = 0;
            for(int k=0;k<G[j].size();k++)
                if(bi[i][G[j][k]])tmp++;
            if (tmp > mf) {
                mf = tmp;
                c = 1;
            }
            else if (tmp == mf)c++;
        }
        printf("%d\n", c);
    }
    return 0;
}
				    	 				   	 	  	 		   	