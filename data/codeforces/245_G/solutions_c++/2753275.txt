//program 245-G

#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<vector>
#include<set>

using namespace std;

int N;
string Name[10000];

int Get()
{
  string S;
  cin>>S;
  for(int i=0;i<N;i++)
    if(S==Name[i])
      return i;
  Name[N++]=S;
  return N-1;
}

int main()
{
  int M;
  scanf("%d",&M);
  static vector<int> G[10000];
  static set<int> List[10000];
  for(int i=0;i<M;i++)
    {
      int X=Get(),Y=Get();
      G[X].push_back(Y);
      G[Y].push_back(X);
      List[X].insert(Y);
      List[Y].insert(X);
    }
  printf("%d\n",N);
  for(int i=0;i<N;i++)
    {
      int Ans=-1,Count=0;
      for(int j=0;j<N;j++)
        {
          if(i==j||List[i].count(j)||(int)G[j].size()<Ans)
            continue;
          int Total=0;
          if(G[i].size()<G[j].size())
            for(int k=0;k<G[i].size();k++)
              Total+=List[j].count(G[i][k]);
          else
            for(int k=0;k<G[j].size();k++)
              Total+=List[i].count(G[j][k]);
          if(Total>Ans)
            {
              Ans=Total;
              Count=0;
            }
          if(Total==Ans)
            Count++;
        }
      cout<<Name[i]<<' '<<Count<<endl;
    }
  return 0;
}
