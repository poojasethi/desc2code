#include<cstdio>
#include<string>
#include<set>
#include<map>
#include<vector>
#include<iostream>
#include<algorithm>

#define N 10010
#define FOR(it, c) for(__typeof((c).begin())it=(c).begin();it!=(c).end();it++)

using namespace std;

set<int> G[N];
map<int,string> inv;
map<string,int> che;

int main(){
	int m, cnt = 1;
	scanf("%d", &m);
	for(int i = 0; i < m; i++){
		string a, b;
		cin >> a >> b;
		if(che[a] == 0){
			che[a] = cnt;
			inv[cnt] = a;
			cnt++;
		}
		if(che[b] == 0){
			che[b] = cnt;
			inv[cnt] = b;
			cnt++;	
		}
		int u = che[a], v = che[b];
		G[u].insert(v); G[v].insert(u);
	}
	printf("%d\n", cnt-1);
	for(int i = 1; i < cnt; i++){
		cout << inv[i] << " ";
		int ans = 0, p = 0;
		for(int j = 1; j < cnt; j++)
		{
			if(i != j && G[i].find(j) == G[i].end())
			{
				int x = 0;
				for(set<int>::iterator it = G[i].begin(); it != G[i].end(); it++)
					if(G[j].find(*it) != G[j].end()) x++;
				if(x > p) p = x, ans = 1;
				else if(x == p) ans++;
			}
		}
		printf("%d\n", ans);
	}
}
