#include <cstdio>
#include <string>
#include <cstring>
#include <iostream>
#include <map>
using namespace std;

string inp[2],lst[10010];
map<string,int> mp;
int n,t,pppp,tim[10010],v[10010][2];
bool a[10010][10010];

inline int F(int k) {
    if (!mp[inp[k]]) mp[inp[k]]=++pppp,lst[pppp]=inp[k];
    return mp[inp[k]];
}

int main() {
    scanf("%d\n",&n);
    for (int i=1;i<=n;++i) {
        char c=getchar(); inp[0].clear();
        while (c!=' ') inp[0]+=c,c=getchar();
        c=getchar(); inp[1].clear();
        while (c!='\n') inp[1]+=c,c=getchar();
        v[++t][0]=F(0);
        v[t][1]=F(1);
        a[v[t][0]][v[t][1]]=a[v[t][1]][v[t][0]]=true;
    }
    printf("%d\n",pppp);
    for (int i=1;i<=pppp;++i) a[i][i]=true;
    for (int i=1;i<=pppp;++i) {
        for (int p=0;p<lst[i].length();++p) printf("%c",lst[i][p]);
        memset(tim,0,sizeof(tim));
        for (int p=1;p<=n;++p)
            if ((a[i][v[p][0]])||(a[i][v[p][1]]))
                ++tim[v[p][0]],++tim[v[p][1]];
        int big=-1,num=0;
        for (int p=1;p<=pppp;++p)
            if (!a[p][i])
                if (tim[p]>big) big=tim[p],num=1; else
                if (tim[p]==big) ++num;
        printf(" %d\n",num);
    }
    return 0;
}