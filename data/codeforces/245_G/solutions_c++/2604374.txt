#include <stdio.h>
#include <iostream>
#include <string>
#include <algorithm>
#include <vector>
#include <queue>
#include <sstream>
#include <string.h>
#include <map>

using namespace std;
#define pi pair<string,string>
#define X first
#define Y second
#define ll long long
int n,m;
int cnt=0;
vector<int> v[10005];
int r[10005];
string re[10005];
map<string,int> ck;
int p[10005];

void go(int x){
	for(int i=0;i<v[x].size();i++)p[v[x][i]]++;
}
int main(){
	scanf("%d",&n);
	while(n--){
		string a,b;

		cin>>a>>b;

		int A,B;

		A=ck[a];
		if(A==0)A=ck[a]=++cnt;
		re[A]=a;

		B=ck[b];
		if(B==0)B=ck[b]=++cnt;
		re[B]=b;


		v[A].push_back(B);
		v[B].push_back(A);
	}
	int i;
	for(i=1;i<=cnt;i++){
		memset(p,0,sizeof(p));
		for(int k=0;k<v[i].size();k++){
			go(v[i][k]);
		}
		for(int k=0;k<v[i].size();k++){
			p[v[i][k]]=-1;
		}
		p[i]=-1;
		int Max=0;
		for(int k=1;k<=cnt;k++)Max=max(p[k],Max);
		for(int k=1;k<=cnt;k++)if(Max==p[k])r[i]++;
	
	}
	cout<<cnt<<endl;
	for(i=1;i<=cnt;i++){
		cout<<re[i]<<" "<<r[i]<<endl;
	}
}
