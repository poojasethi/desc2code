#include<iostream>
#include<cstring>
#include<cstdio>
#include<string>
#include<map>
#define X 5010
using namespace std;
map<string,int>g;
string s;
int a[X],b[X],as[X*2],as2[X*2],ma[X*2];
bool f[X*2][X*2];
int cnt[X][X];
char name[X*2][30];
void update(int u,int v){
	cnt[u][v]++;
	cnt[v][u]++;
	if(ma[u]==cnt[u][v])as[u]++;
	if(ma[u]<cnt[u][v]) as[u]=1,ma[u]=cnt[u][v];
	if(ma[v]==cnt[v][u])as[v]++;
	if(ma[v]<cnt[v][u]) as[v]=1,ma[v]=cnt[v][u];
}

int main(){
	int n,m,i,j,v,u,k,top=1;
	char str[30];
	scanf("%d",&m);
	for(i=0;i<m;i++){
		scanf("%s",str);
		s=str;
		if(!g[s]){
			strcpy(name[top],str);
			g[s]=top++;
		}
		u=g[s];
		scanf("%s",str);
		s=str;
		if(!g[s]){
			strcpy(name[top],str);
			g[s]=top++;
		}
		v=g[s];
		a[i]=u;b[i]=v;
		f[u][v]=f[v][u]=1;
		as2[u]++;as2[v]++;
	}
	for(i=0;i<m;i++){
		u=a[i];v=b[i];
		for(j=i+1;j<m;j++){
			if(u==a[j]||v==a[j])k=b[j];
			else if(u==b[j]||v==b[j])k=a[j];
			else continue;
//			printf("u=%d v=%d k=%d\n",u,v,k);
			if(f[u][k]&&!f[v][k])update(v,k);
			if(f[v][k]&&!f[u][k])update(u,k);
//			printf("maxu=%d maxv=%d cntu=%d cntv=%d\n",ma[u],ma[v],cnt[u][v],cnt[v][u]);
		}
	}
	printf("%d\n",top-1);
	for(i=1;i<top;i++)
	    printf("%s %d\n",name[i],ma[i]?as[i]:top-1-as2[i]-1);
	return 0;
}
   	 						  				   		 			