#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<iostream>
#include<map>
#include<ctime>
#include<set>
#include<queue>
#include<cmath>
#include<vector>
#include<functional>
using namespace std;

typedef long long LL;
typedef double ld;

const int MAX=10000+10;

int m,n;
map<string,int> hash;
string p[MAX];

vector<int> g[MAX];

int dist[MAX],num[MAX];

int BFS(int S)
{
	int i,u,v;
	memset(dist,0,sizeof dist);
	memset(num,0,sizeof num);
	dist[S]=1;
	for(i=0;i<(int)g[S].size();++i)
		dist[g[S][i]]=2;
	for(u=1;u<=n;++u)
		if(dist[u]==2)
			for(i=0;i<(int)g[u].size();++i)
			{
				if(dist[v=g[u][i]])continue;
				++num[v];
			}
	int mm=0,sum=0;
	for(i=1;i<=n;++i)
		if(!dist[i])
		{
			if(num[i]>mm)mm=num[i],sum=1;
			else if(num[i]==mm)++sum; 
		}
	return sum;
}

int main()
{
#ifndef ONLINE_JUDGE
	freopen("input.txt","r",stdin);freopen("output.txt","w",stdout);
#endif
	scanf("%d",&m);
	for(int i=1;i<=m;++i)
	{
		string a,b;
		cin>>a>>b;
		if(!hash[a])hash[a]=++n,p[n]=a;
		if(!hash[b])hash[b]=++n,p[n]=b;
		int A=hash[a],B=hash[b];
		g[A].push_back(B);
		g[B].push_back(A);
	}
	cout<<n<<endl;
	for(int i=1;i<=n;++i)
		cout<<p[i]<<" "<<BFS(i)<<endl;
	return 0;
}
