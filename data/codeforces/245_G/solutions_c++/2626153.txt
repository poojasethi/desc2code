#include<stdio.h>
#include<string.h>
#include<map>
#include<string>
#include<iostream>
#include<algorithm>
#include<vector>
#define M 10005
using namespace std;
map<string,int>se;
string name[M];
vector<int>edge[M];
int cnt[M];
int main(){
	int m,i,j,t,k=0;
	se.clear();
	scanf("%d",&m);
	for(i=1;i<=2*m;i++)
		edge[i].clear();
	char A[25],B[25];
	while(m--&&scanf("%s %s",A,B)){
		if(se[A]==0){
			se[A]=++k;
			name[k]=A;
		}
		if(se[B]==0){
			se[B]=++k;
			name[k]=B;
		}
		int a=se[A];
		int b=se[B];
		edge[a].push_back(b);
		edge[b].push_back(a);
	}
//	for(map<string,int>::iterator it=se.begin();it!=se.end();it++)
//		cout<<it->first<<endl;
	//for(i=1;i<=k;i++)	
	//	cout<<" "<<name[i]<<endl;
	printf("%d\n",k);
	for(i=1;i<=k;i++){
		for(j=1;j<=k;j++)cnt[j]=0;
		cnt[i]=-1;
		for(j=0;j<edge[i].size();j++){
			int a=edge[i][j];
			cnt[a]=-1;
			for(t=0;t<edge[a].size();t++){
				int b=edge[a][t];
				if(cnt[b]==-1)continue;
				cnt[b]++;
			}
		}
		//for(j=1;j<=k;j++)
		//	printf("%d=%d\n",j,cnt[j]);
		int mm=0,c=0;
		for(j=1;j<=k;j++){
			if(cnt[j]>mm){
				mm=cnt[j];
				c=1;
			}else if(cnt[j]==mm){
				c++;
			}
		}
		printf("%s %d\n",name[i].c_str(),c);
	}
	return 0;
}