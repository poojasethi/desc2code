#include<cstdio>
#include<cmath>
#define N 500005
#define rep(i,n) for (int i=0;i<n;i++)
#define opt(a,b) L[a]<=L[b]?a:b
int n,a[N],L[N],f[N][22],g[N][22];
long long ans;
int get(int x,int y)
{
	if (x<0) return 0; int k=(int)log2(y-x+1);
	return opt(f[x][k],f[y+1-(1<<k)][k]);
}
int main()
{
	scanf("%d",&n); rep(i,n) scanf("%d",&a[i]),a[n+i]=a[i];
	rep(i,n+n) L[i]=i-a[i],f[i][0]=i;
	rep(j,19) rep(i,n+n-(1<<j)) f[i][j+1]=opt(f[i][j],f[i+(1<<j)][j]);
	rep(i,n+n) g[i][0]=get(L[i],i);
	rep(j,19) rep(i,n+n) g[i][j+1]=g[g[i][j]][j];
	rep(i,n+n) if (i>=n){
		int x=i; ans+=1+(L[i]>i-n+1);
		for (int j=19;j>=0;j--)
			if (L[g[x][j]]>i-n+1) x=g[x][j],ans+=1<<j;
		}
	printf("%I64d\n",ans); return 0;
}
