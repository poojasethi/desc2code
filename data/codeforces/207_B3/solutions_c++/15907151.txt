#include<bits/stdc++.h>
using namespace std;

int n;
int a[250010],b[500010],f[500010][19],st[500010][19],w[500010];
long long ans;

int query(int l,int r)
{int x,y,z=w[r-l+1];
 x=st[l][z];
 y=st[r-(1<<z)+1][z];
 return b[x]<b[y]?x:y;
}

int main()
{int i,j,x,y;
 
 scanf("%d",&n);
 for(i=1;i<=n;i++) 
 {	scanf("%d",&a[i]);
 	b[i]=max(1,i-a[i]);
 	b[n+i]=max(1,n+i-a[i]);
 }
 for(i=1;i<=2*n;i++) st[i][0]=i;
 for(j=1;j<=18;j++)
 	for(i=1;i<=2*n-(1<<j)+1;i++)
 	{	x=st[i][j-1];
 		y=st[i+(1<<(j-1))][j-1];
 		st[i][j]=b[x]<b[y]?x:y;
 	}
 for(i=2;i<=2*n;i++) w[i]=w[i/2]+1;
 for(i=2;i<=2*n;i++)
 {	f[i][0]=query(b[i],i-1);
 	for(j=1;j<=18;j++)
 		f[i][j]=f[f[i][j-1]][j-1];
 }
 for(i=1;i<=n;i++)
 {	x=n+i-1;
 	if(b[x]<=i)
 		ans++;
 	else	
 	{	for(j=18;j>=0;j--)
 			if(b[f[x][j]]>i)
 			{	ans+=(1<<j);
 				x=f[x][j];
 			}	
 		ans+=2;
 	}
 }
 printf("%I64d\n",ans);
 return 0;
}