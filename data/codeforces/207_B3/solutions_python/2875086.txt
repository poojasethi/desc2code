/*
	day after day,time passed away
	some memory
	You've got to find what you love
	something precious,you should remember
*/
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cstdlib>
#include<iostream>
#include<cmath>
#include<set>
#include<map>
#include<vector>
#include<queue>
#include<ctime>
#include<ctime>
#include<list>
#include<deque>
#include<bitset>

using namespace std;

#define pb push_back
#define LL long long
#define LD long double
#define MP make_pair
#define fi first
#define sc second

int Nextint(){
	char ch=getchar();
	while (ch<'0'||ch>'9') ch=getchar();
	int x=0;
	while (ch>='0'&&ch<='9'){
		x=x*10+ch-'0';
		ch=getchar();
	}
	return x;
}
const int maxn = 600000;
int N,A[maxn],T[23];
int F[maxn][23],F1[maxn][23];
int main(){
	#ifdef ONLINE_JUDGE
	#else
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	#endif
	N=Nextint();
	T[0]=1;for (int i=1;i<=20;i++) T[i]=T[i-1]*2;
	for (int i=N+1;i<=N*2;i++)
		A[i]=A[i-N]=Nextint();
	for (int i=1;i<=N*2;i++){
		F1[i][0]=i-1;
		int ts=1;
		for (int j=1;j<=20&&i-ts>=0;j++){
			F1[i][j]=F1[i][j-1];
			if (F1[i][j]-A[F1[i][j]]>F1[i-ts][j-1]-A[F1[i-ts][j-1]])
				F1[i][j]=F1[i-ts][j-1];
			ts*=2;
		}
		F[i][0]=i;
		int t=i;
		for (int j=20;j>=0;j--)
		if (t-T[j]>=i-A[i]){
			if (F[i][0]-A[F[i][0]]>F1[t][j]-A[F1[t][j]]) F[i][0]=F1[t][j];
			t-=T[j];
			if (t<0) t=0;
		}
		for (int j=1;j<=20;j++)
			F[i][j]=F[F[i][j-1]][j-1];
	}
	LL ans=0;
	for (int ts=N*2;ts>N;ts--){
		int tk=ts;ans++;
		if (ts-A[tk]>ts-N+1){
			for (int j=20;j>=0;j--){
				if (F[tk][j]-A[F[tk][j]]>ts-N+1){
					ans+=T[j];
					tk=F[tk][j];
				}
			}
			ans++;
		}
	}
	printf("%I64d\n",ans);
	return 0;
}
