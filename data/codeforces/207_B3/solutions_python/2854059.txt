#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<time.h>
#include<algorithm>
using namespace std;
#define J (")
#define N 1000005
#define L 21
int a[N],b[N],h[N][L],f[N][L],log[N],n,n2;long long ans=0;
inline bool cmp(int x,int y){return b[x]<b[y];}
int query(int l,int r){
	if (l<1)return 0;
	int i=log[r-l+1];return min(h[l][i],h[r-(1<<i)+1][i],cmp);
}
int main()
{
	//freopen("1.in","r",stdin);
	//freopen("1.out","w",stdout);
	scanf("%d",&n);n2=n+n;
	for (int i=1;i<=n;++i)scanf("%d",&a[i]),a[n+i]=a[i];
	for (int i=1;i<=n2;++i)b[i]=i-a[i];
	for (int i=2;i<=n2;++i)log[i]=log[i>>1]+1;
	for (int i=1;i<=n2;++i)h[i][0]=i;
	for (int j=1;j<L;++j){
		int end=n2-(1<<(j-1))+1;
		for (int i=1;i<=end;++i)h[i][j]=min(h[i][j-1],h[i+(1<<(j-1))][j-1],cmp);
	}
	for (int i=1;i<=n2;++i)f[i][0]=query(b[i],i);
	for (int j=1;j<L;++j)
		for (int i=1;i<=n2;++i)f[i][j]=f[f[i][j-1]][j-1];
	//for (int i=1;i<=n+n;++i)printf("-%d\n",b[i]);
	/*for (int i=1;i<=n2;++i){
		for (int j=0;j<=3;++j)printf("%d ",f[i][j]);
		puts("");
	}*/
	for (int i=n+1;i<=n2;++i){
		int start=i-n+1;
		if (b[i]<=start){++ans;continue;}
		for (int k=i,j=L-1;j>=0;--j)
			if (b[f[k][j]]>start)k=f[k][j],ans+=(1<<j);
		ans+=2;
		//printf("+%I64d\n",ans);
	}
	printf("%I64d\n",ans);
	//system("pause");for (;;);
	return 0;
}


