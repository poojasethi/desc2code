#include<iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
using namespace std;
const int u=500000;
int a[u],d[u][20],f[u][20],n,i,j,k;
__int64 ans;
int Min(int x,int y) {return x-a[x]<y-a[y]?x:y;}
int ask(int x,int y) {int k=log2(y-x+1.0); return Min(f[x][k],f[y-(1<<k)+1][k]);}
int main()
{
	cin>>n;
	for(i=1;i<=n;i++) scanf("%d",&a[i]);
	for(i=1;i<n;i++) a[n+i]=a[i];
	for(i=1;i<2*n;i++) f[i][0]=i;
	for(i=1;i<20;i++)
		for(j=1;j<=2*n-(1<<i);j++) f[j][i]=Min(f[j][i-1],f[j+(1<<i-1)][i-1]);
	for(i=1;i<2*n;i++) d[i][0]=i-a[i]>0?ask(i-a[i],i-1):0;
	for(i=1;i<20;i++)
		for(j=1;j<2*n;j++) d[j][i]=d[d[j][i-1]][i-1];
	for(i=n;i<2*n;i++)
	{
		ans+=1+(i-a[i]>i-n+1);
		for(j=19,k=i;j>=0;j--)
			if(d[k][j]-a[d[k][j]]>i-n+1) k=d[k][j],ans+=1<<j;
	}
	cout<<ans<<endl;
	return 0;
}
