//207B
#include <iostream>
#include <cstdio>
#include <cmath>
using namespace std;
const int MAXN=500000;
int a[MAXN+10],st[20][MAXN+10],ext[20][MAXN+10];
#define WHICH(i,j) (i-a[i]<j-a[j]?i:j)
int query(int x,int y){
	int p=log(y-x+1)/log(2);
	return WHICH(st[p][x],st[p][y-(1<<p)+1]);
}
int main(){
	int n;
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i]),a[i+n]=a[i];
	for(int i=1;i<2*n;i++)
		st[0][i]=i;
	for(int i=1;i<20;i++)
		for(int j=1;j+(1<<i)<=2*n;j++)
			st[i][j]=WHICH(st[i-1][j],st[i-1][j+(1<<(i-1))]);
	for(int i=1;i<2*n;i++)
		ext[0][i]=i-a[i]>0?query(i-a[i],i-1):0;
	for(int i=1;i<20;i++)
		for(int j=1;j<2*n;j++)
			ext[i][j]=ext[i-1][ext[i-1][j]];
	long long ans=0;
	for(int i=n;i<2*n;i++){
		ans++;
		if(i-a[i]>i-n+1)ans++;
		int ptr=i;
		for(int j=20-1;j>=0;j--)
			if(ext[j][ptr]-a[ext[j][ptr]]>i-n+1){
				ptr=ext[j][ptr];
				ans+=1<<j;
			}
	}
	cout<<ans<<endl;
	return 0;
}
