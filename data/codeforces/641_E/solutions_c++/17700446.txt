#include <bits/stdc++.h>

#include <ext/pb_ds/assoc_container.hpp>
#define TOSNU tree_order_statistics_node_update

using namespace std;
using namespace __gnu_pbds;

map < int , tree < int , null_type , less < int > , rb_tree_tag , TOSNU  > > s[2];
int n,t,a,x;

int main()
 {
  cin>>n;
  while (n--)
   {
    scanf("%d%d%d",&t,&a,&x);
    if (t == 1 || t == 2)
      s[t-1][x].insert(a); else
      printf("%d\n",s[0][x].order_of_key(a)-s[1][x].order_of_key(a));
   }
 }