#include <iostream>
#include <map>

using namespace std;

const int inf = 1e9+1;

int main()
{
        map<int, map<int, int> > m;
        int n, a, t, x, r;
        cin >> n;
        for(int i = 0; i < n; i++)
        {
                cin >> a >> t >> x;
                if(a == 1)
                        while(t < inf) m[x][t]++, t += (t & -t);
                else if(a == 2)
                        while(t < inf) m[x][t]--, t += (t & -t);
                else if(a == 3)
                {
                        for(r = 0; t > 0; t -= (t & -t)) r += m[x][t];
                        cout << r << endl;
                }
        }
}
