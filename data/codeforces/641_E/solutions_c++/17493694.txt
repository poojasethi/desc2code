#include <ext/pb_ds/assoc_container.hpp>
#include <ext/pb_ds/tree_policy.hpp>
#include <bits/stdc++.h>
 
using namespace __gnu_pbds;
using namespace std;
 
typedef
tree<
  int,
  null_type,
  less<int>,
  rb_tree_tag,
  tree_order_statistics_node_update>
ordered_set;

map<int, ordered_set> mp, mm;

int main() {
#ifdef FILE_IO
	freopen("input.txt", "r", stdin);
	freopen("output.txt", "w", stdout);
#endif	
	ios_base::sync_with_stdio(0);
	int q;
	cin >> q;
	for(int i = 0; i < q; ++i) {
	    int type, t, x;
	    cin >> type >> t >> x;
	    if (type == 1) mp[x].insert(t);
	    else if (type == 2) mm[x].insert(t);
	    else {
	        cout << mp[x].order_of_key(t) - mm[x].order_of_key(t) << endl;
	        
	    
	    }
	}
}