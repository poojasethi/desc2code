#include <bits/stdc++.h>
#define rep(i, a, b) for(i=(a); i<(b); i++)
using namespace std;
#define NN 100111
map<int, int> mp[NN];

int tp[NN], t[NN], u[NN], a[NN], nn;

int update(int u, int val) {
	for(;u<=nn; u+=u&(-u)) {
		if(mp[u].count(val)) mp[u][val]=mp[u][val]+1;
		else mp[u][val]=1;
	}
}
int del(int u, int val) {
	for(;u<=nn; u+=u&(-u)) {
		mp[u][val]=mp[u][val]-1;
	}
}
int calc(int u, int val) {
	int ret=0;
	for(;u; u-=u&(-u)) {
		if(mp[u].count(val)) ret+=mp[u][val];
	}
	return ret;
}


int main() {
	
	int m, ans,  i;
	scanf("%d", &m);
	nn=0;
	rep(i, 0, m) {
		scanf("%d%d%d", tp+i, t+i, u+i);
		a[nn++]=t[i];
	}
	sort(a, a+nn);
	nn=unique(a, a+nn)-a;
	rep(i, 0, nn+1) mp[i].clear();
	
	rep(i, 0, m) {
		t[i]=lower_bound(a, a+nn, t[i])-a+1;
		if(tp[i]==1) {
			update(t[i], u[i]);
		} else if(tp[i]==2) {
			del(t[i], u[i]);
 		} else {
		 	ans=calc(t[i], u[i]);
		 	printf("%d\n", ans);
		}
	}
	
	return 0;
}
                  