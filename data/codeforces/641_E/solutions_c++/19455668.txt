#include <iostream>
#include <stdio.h>
#include <map>
#define lowbit( i ) i & -i
#define MAXN 100010

using namespace std;

int n , cnt;
map < int , int > ref , t[ MAXN ];

inline void modify( int y , int x , int v )
{
	for( register int i = x ; i <= 1000000000 ; i += lowbit( i ) )
		t[y][i] += v;
}

inline int find( int y , int x )
{
	register int ans = 0;
	for( register int i = x ; i ; i -= lowbit( i ) )
		ans += t[y][i];
	return ans;
}

inline int read()
{
	register int x = 0 , ch = getchar();
	while( !isdigit( ch ) ) ch = getchar();
	while( isdigit( ch ) ) x = x * 10 + ch - '0' , ch = getchar();
	return x;
}

int main()
{
	n = read();
	while( n-- )
	{
		int opt = read() , t = read() , v = read();
		if( !ref[v] ) ref[v] = ++cnt;
		if( opt == 1 ) modify( ref[v] , t , 1 );
		else if( opt == 2 ) modify( ref[v] , t , -1 );
		else printf( "%d\n" , find( ref[v] , t ) );
	}
	return 0;
}
