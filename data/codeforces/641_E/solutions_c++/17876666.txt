#include<bits/stdc++.h>
#include <ext/pb_ds/assoc_container.hpp>
#include <ext/pb_ds/trie_policy.hpp>
using namespace std;
using namespace __gnu_pbds;
int n;
typedef tree<
int,
null_type,
less<int>,
rb_tree_tag,
tree_order_statistics_node_update>
ordered_set;

struct node{
	ordered_set add,del;
};
map<int,node> boa;
int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		int u,v,e;
		scanf("%d%d%d",&u,&v,&e);
		if(u==1) boa[e].add.insert(v);
		if(u==2) boa[e].del.insert(v);
		if(u==3) printf("%d\n",boa[e].add.order_of_key(v)-boa[e].del.order_of_key(v));
	}
	return 0;
}
/*
9 20
2 5
3 2
3 4
4 8
4 4
4 3
4 3
4 3
5 9
5 2
5 1
6 2
6 3
7 1
7 9
7 7
8 9
8 9
9 4
9 8
*/