#include <iostream>
#include <cstdio>
#include <vector>
#include <cstring>
#include <stack>
using namespace std;
typedef long long ll;
vector <pair <string,bool> > v;
stack <bool> s;
string t,q[210];
int main()
{
    cin>>t;
    int n=t.size();
    string tmp;
    for(int i=0;i<n;i++)
        if (t[i]=='<')
            continue;
        else if (t[i]!='>')
            tmp+=t[i];
        else if (t[i]=='>')
        {
            if (tmp[tmp.size()-1]=='/')
            {
                tmp.erase(tmp.size()-1,1);
                v.push_back(make_pair(tmp,0));
                v.push_back(make_pair(tmp,1));
            } else if (tmp[0]=='/')
            {
                tmp.erase(0,1);
                v.push_back(make_pair(tmp,1));
            } else
                v.push_back(make_pair(tmp,0));
            tmp="";
        }
    int m;
    cin>>m;
    getline(cin,t);
    for(int i=0;i<m;i++)
    {
        n=0;
        for(int j=0;j<210;j++)
            q[j]="";
        getline(cin,t);
        for(int j=0;j<t.size();j++)
        {
            if (t[j]!=' ')
                tmp+=t[j];
            if (t[j]==' ' || j==t.size()-1)
            {
                q[n++]=tmp;
                tmp="";
            }
        }
        int ans=0,p=0;
        for(int j=0;j<v.size();j++)
            if (!v[j].second)
            {
                if (v[j].first==q[p])
                {
                    s.push(true);
                    p++;
                }
                else
                    s.push(false);
                if (p==n && v[j].first==q[n-1])
                    ans++;
            } else
            {
                if (!s.top())
                    s.pop();
                else
                {
                    p--;
                    s.pop();
                }
            }
        cout<<ans<<endl;
    }
    return 0;
}
