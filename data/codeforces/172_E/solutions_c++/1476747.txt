#include <algorithm>
#include <cstring>
#include <cstdio>
using namespace std;
#define forn(i,n) for(int i=0;i<n;++i)
const int N=1e6+10,H=(int)1e9+7;
char a[N],s[20000];
int n[200],u[200],when[200][200],ans[200],h[200][200],st[N];
int main() 
{
  #define TASK ""
  #ifdef HOME
  freopen(TASK "in", "rt", stdin);
  freopen(TASK "out", "wt", stdout);
  #endif
  gets(a);
  int alen = strlen(a), m;
  scanf("%d ",&m);
  forn(i,m)
  {
    gets(s);
    int w = strlen(s);
    for(int j=0;j<w;j++)
    {
      while(j<w && s[j]!=' ')
      {
        h[i][n[i]] *= H;
        h[i][n[i]] += s[j++];
      } 
      n[i]++;
    }
  }

  int e=0;
  for(int i=0;i<alen;i++)
  {
    int t=1,nowh=0;
    if (a[++i]=='/')
      t=2,i++;
    while(a[i]!='/'&&a[i]!='>')
    {
      nowh *= H;
      nowh += a[i++];
    }
    if(a[i] == '/')
      t=3,i++;
    for(int T=1;T<=2;T++)
      if (t&T)
      {
        if(T == 1)
        {
          st[e++] = nowh;
          forn(j,m)
            if (u[j]==n[j]-1)
            {
              if(nowh==h[j][u[j]]) ans[j]++;
            }
            else if(nowh == h[j][u[j]]) when[j][++u[j]]=e-1;
        }
        else
        {
          e--;
          forn(j,m)
            if(u[j]!=0&&when[j][u[j]]==e)
              u[j]--;
        }
      }
  }
  forn(i,m)
    printf("%d\n",ans[i]);
  return 0;
}