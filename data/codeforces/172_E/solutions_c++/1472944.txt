#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
using namespace std;
#define BASE 31
typedef unsigned long long ull;
char buf[1000010];
int TIM=1 , SZ=0 , P=0;
int tok[2000010];
ull code[2000010];
// Tokens
ull HC; int type;// 0-open , 1-close , 2-two
bool nextToken(){
  if(!buf[P])return false;
  int E=P , L,R;
  HC=0;
  while(buf[E]!='>')++E;
  if(buf[P+1]=='/'){type=1; L=P+2; R=E-1;}
  else if(buf[E-1]=='/'){type=2; L=P+1; R=E-2;}
       else{type=0; L=P+1; R=E-1;}
  for(int i=L;i<=R;++i)HC=BASE*HC+buf[i]-'a'+1;
  P=E+1;
  return true;
}
int SID[2000010] , TOP=0;
// ANSWERING QUERRIES
ull tar[210]; int TS;
int main(){
  scanf("%s",&buf);
  while(nextToken()){
   if(type==0){
    tok[SZ]=TIM; code[SZ++]=HC;
    SID[TOP++]=TIM++;
              }
   else if(type==1){tok[SZ]=-SID[--TOP]; code[SZ++]=HC;}
        else{
         tok[SZ]=TIM; code[SZ++]=HC;
         tok[SZ]=-(TIM++); code[SZ++]=HC;
            }
                    }
  int Q; scanf("%d",&Q);
  gets(buf);
  while(Q--){
   P=0;
   gets(buf);
   TS=0; ull cur=0;
   for(int i=0;buf[i];++i){
    if(buf[i]==' ')tar[TS++]=cur , cur=0;
    else cur=BASE*cur + buf[i]-'a'+1;
                          }
   tar[TS++]=cur;
   TOP=0;
   int ans=0;
   for(int i=0;i<SZ;++i){
    if(tok[i]>0){
     if(tar[TOP] == code[i]){
      if(TOP+1==TS)++ans;
      else SID[TOP++]=tok[i];
                            }
                }
    else if(TOP>0 && SID[TOP-1] == -tok[i])--TOP;
                        }
   printf("%d\n" , ans);
            }
  //system("pause");
  return 0;
}
