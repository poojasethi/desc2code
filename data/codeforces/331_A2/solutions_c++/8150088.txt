#include<iostream>
#include<map>
using namespace std;

long long a[400000];
map<int, int> m;
long long s[400000];
int pos, n, cnt = 0;
long long ans = -1000000000000000000LL;

int main(){
    cin >> n;

    for (int i = 1; i<=n; i++){
        cin >> a[i];
        m[a[i]] = i;
        
        s[i] = s[i-1];
        if (a[i] > 0)
            s[i] += a[i];
    }

    for (int i = 1; i <= n; i++)
        if (i != m[a[i]]){
            if (ans < s[m[a[i]]-1]-s[i]+a[i]*2){
                pos = i;
                ans = s[m[a[i]]-1]-s[i]+a[i]*2;
            }           
        }

    for (int i = 1; i<=n; i++){
        if ((i!=pos && i!=m[a[pos]] && a[i] < 0) || i < pos || i > m[a[pos]]) cnt++;
    }

    cout << ans <<" " << cnt << endl;


    for (int i = 1; i<=n; i++){
        if ((i!=pos && i!=m[a[pos]] && a[i] < 0) || i < pos || i > m[a[pos]])
            cout << i << " ";
    }

    
    return 0;
}