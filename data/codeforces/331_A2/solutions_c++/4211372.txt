#include <cstdio>
#include <algorithm>
#include <cstring>
#include <map>
#include <vector>
using namespace std;
#define rep(i,a,n) for (int i=a;i<n;i++)
#define per(i,a,n) for (int i=n-1;i>=a;i--)
#define pb push_back
typedef long long ll;
const int N=301000;
ll s[N],ans;
int a[N],res,n;
map<int,int> l,r;
vector<int> c;
int main() {
	scanf("%d",&n);
	rep(i,1,n+1) scanf("%d",&a[i]);
	rep(i,1,n+1) if (!l.count(a[i])) l[a[i]]=i;
	per(i,1,n+1) if (!r.count(a[i])) r[a[i]]=i;
	rep(i,1,n+1) s[i]=s[i-1]+max(0,a[i]);
	ans=-(1ll<<60);
	rep(i,1,n+1) if (l[a[i]]!=r[a[i]]) {
		ll tmp=s[r[a[i]]-1]-s[l[a[i]]]+2*a[i];
		if (tmp>ans) ans=tmp,res=a[i];
	}
	int pl=l[res],pr=r[res];
	rep(i,1,pl) c.pb(i);
	rep(i,pl+1,pr) if (a[i]<0) c.pb(i);
	rep(i,pr+1,n+1) c.pb(i);
	printf("%I64d %d\n",ans,c.size());
	rep(i,0,c.size()) printf("%d ",c[i]);	
}