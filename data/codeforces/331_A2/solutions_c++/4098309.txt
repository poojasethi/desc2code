#include<iostream>
#include<algorithm>
#include<vector>
#include<set>
#define llu long long int
using namespace std;
set<llu>del;
struct t
{
	llu a,id;
}b[300005];
llu s[300005],a[300005];
bool c(const t &l,const t &r)
{
	if(l.a==r.a) return(l.id<r.id);
	return (l.a<r.a);
}
int main()
{
	llu n,i,j,ans=-1000000000000000000LL,l1,l2;
	bool ne[300005]={0};
	cin>>n;
	for(i=1;i<=n;i++){cin>>a[i];if(a[i]<0){s[i]=s[i-1];ne[i]=1;}else s[i]=s[i-1]+a[i];b[i].a=a[i];b[i].id=i;}
	sort(b+1,b+n+1,c);
	i=1;
	while(i<=n)
	{
		for(j=i+1;b[j].a==b[i].a && j<=n;j++)
		{
			llu su=s[b[j].id-1]-s[b[i].id];
			//cout<<b[j].id<<b[i].id<<" "<<su+2*b[i].a<<endl;
			if(su>=0)if(ans<su+2*b[i].a){ans=su+2*b[i].a;l1=b[i].id;l2=b[j].id;}
		}
		i=j;
	}
		for(i=l1+1;i<=l2-1;i++) if(ne[i]) del.insert(i);
		//cout<<l1<<l2<<endl;
		for(i=1;i<l1;i++) del.insert(i);
		for(i=l2+1;i<=n;i++) del.insert(i);
		cout<<ans<<" "<<del.size()<<endl;;
		set<llu>::iterator it;
		for(it=del.begin();it!=del.end();it++) cout<<*it<<" ";	
	return 0;
}
