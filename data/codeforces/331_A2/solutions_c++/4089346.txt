#include <cstdio>
#include <map>
using namespace std;

#define max(x, y) ((x)>(y) ? (x) : (y))

typedef long long ll;

int n;
ll a[300005];
ll s[300005];

map<ll,int> m;

ll best;
int best_od, best_po;

int cut;
int which[300005];

int main()
{
	scanf("%d", &n);
	for(int i=0; i<n; i++) {
		scanf("%I64d", &a[i]);
		if(m.find(a[i])==m.end()) m[a[i]]=i;
	}

	s[0]=max(0, a[0]);
	for(int i=1; i<n; i++) s[i]=s[i-1]+max(0, a[i]);

	best=-(1LL<<60);
	for(int i=1; i<n; i++) {
		int od, po;
		ll akt;
		if(m[a[i]]!=i) {
			od=m[a[i]];
			po=i;
			akt=2*a[i]+s[i-1]-s[od];
			if(akt>best) {
				best=akt;
				best_od=od;
				best_po=po;
			}
		}
	}

	cut=0;
	for(int i=0; i<best_od; i++) {
		which[i]=1;
		cut++;
	}
	for(int i=best_po+1; i<n; i++) {
		which[i]=1;
		cut++;
	}
	for(int i=best_od+1; i<best_po; i++) {
		if(a[i]<0) {
			which[i]=1;
			cut++;
		}
	}

	printf("%I64d %d\n", best, cut);
	for(int i=0; i<n; i++) if(which[i]) printf("%d ", i+1);
	printf("\n");

	return 0;
}
