#include <iostream>
#include <map>
using namespace std;
long long a[311111],s[311111];
int i,j,n,m;
int l,r;
map <int,int> mp;
main()
{
 cin>>n;
 for (i=1;i<=n;i++) cin>>a[i];
 for (i=1;i<=n;i++)
 if (a[i]>0) s[i]=s[i-1]+a[i];else s[i]=s[i-1];
 long long ans=-2e9-1;

 for (i=1;i<=n;i++)
 {
  j=mp[a[i]];
  if (j>0 && s[i-1]-s[j]+2*a[i]>ans){ans=s[i-1]-s[j]+2*a[i];l=j;r=i;
                                }
 if (j==0) mp[a[i]]=i;
 }
 cout<<ans<<' ';
 ans=l-1+n-r;
 for (i=l+1;i<r;i++)
  if (a[i]<0) ans++;
 cout<<ans<<endl;
 for (i=1;i<=n;i++)
  if (i<l || i>r) cout<<i<<' ';else
   if (i!=r&&i!=l&&a[i]<0) cout<<i<<' ';
 return 0;
 }