#include <iostream>
#include <map>
#include <vector>
using namespace std;
typedef long long ll;
map<int,int> mp;
vector<int> vc;
ll psum[300001];
ll a[300001];
int main(){
	ll ans=-2000000001;
	int n,ansi;
	cin >> n;
	for(int i=1;i<=n;i++){
		cin >> a[i];
		if(a[i]>0) psum[i]=psum[i-1]+a[i];
		else psum[i]=psum[i-1];;
		if(mp.find(a[i])==mp.end()){
			mp.insert(make_pair(a[i],i));
		}
		else{
			ll hoge=psum[i]-psum[mp[a[i]]-1];
			if(a[i]<0) hoge+=(2*a[i]);
			if(ans<hoge){
				ans=hoge;
				ansi=i;
			}
		}
	}
	cout << ans;
	int j=1,cnt=0;
	for(;j<=n;j++){
		if(a[j]==a[ansi]) break;
		vc.push_back(j);
	}
	for(j++;j<=ansi-1;j++){
		if(a[j]<0) vc.push_back(j);
	}
	for(j=ansi+1;j<=n;j++){
		vc.push_back(j);
	}
	cout << " " << vc.size() << endl;
	for(int i=0;i<vc.size();i++){
		cout << vc[i] << " ";
	}
	return 0;
}