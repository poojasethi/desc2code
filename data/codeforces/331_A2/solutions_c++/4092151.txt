#include<algorithm>
#include<iostream>
#include<cstring>
#include<cstdio>
#include<string>
#include<vector>
#include<map>

#define st first
#define nd second
#define mkp make_pair
#define lli long long int
#define FP( ii,aa,bb ) for( int ii=aa;ii<=bb;ii++ )
#define FM( ii,aa,bb ) for( int ii=aa;ii>=bb;ii-- )

using namespace std;

lli n;
lli A[400000],B[400000];

map< lli,int > mp;

int main(){
	
  scanf("%lld",&n);
  FP( i,1,n ){
	scanf("%lld",A+i);
	B[i] = B[i-1];
	if( A[i]>0 ) B[i]+=A[i];
  }
  lli res=-99999999999LL,a,b,k;
  FP( i,1,n ){
  	if( mp.find( A[i] )==mp.end() ) mp[A[i]] = i;
	else{
	  	k = B[i]-B[mp[A[i]]-1];
		if( A[i]<0 ) k+=2*A[i];
		if( res<k ){
			res = k;
			a = mp[A[i]];
			b = i;
		}
	}
  }
  int cnt = 0;
  FP( i,1,a-1 ) cnt++;
  FP( i,a+1,b-1 ) if( A[i]<0 ) cnt++;
  FP( i,b+1,n ) cnt++;
  cout << res << " " << cnt << endl;
  FP( i,1,a-1 ) cout << i << " ";
  FP( i,a+1,b-1 ) if( A[i]<0 ) cout << i << " ";
  FP( i,b+1,n ) cout << i << " ";
  cout << endl;
  
}
