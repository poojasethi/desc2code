#include <iostream>
#include <sstream>
#include <algorithm>
#include <vector>
#include <queue>
#include <stack>
#include <map>
#include <set>
#include <bitset>
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <cmath>
#include <climits>
typedef long long LL;
using namespace std;

LL s[310000],a[310000];

int main(){
    map<LL,int> pp;
    int N,i,p,q;
    cin >> N;
    LL ans=-(1ll<<60);
    for (i=1;i<=N;i++){
        cin >> a[i];
        LL x=a[i];
        s[i]=s[i-1];
        if (x>0) s[i]+=x;
        if (pp[x]){
            if (s[i-1]-s[pp[x]]+a[i]*2>ans){
                ans=s[i-1]-s[pp[x]]+a[i]*2;
                p=pp[x]; q=i;
            }
        }else pp[x]=i;
    }
    int cnt=p-1+N-q;
    for (i=p+1;i<q;i++)
        if (a[i]<0) ++cnt;
    cout << ans << ' ' << cnt << endl;
    for (i=1;i<p;i++) cout << i << ' ';
    for (i=p+1;i<q;i++)
        if (a[i]<0) cout << i << ' ';
    for (i=q+1;i<=N;i++) cout << i << ' ';
    cout << endl;
}
