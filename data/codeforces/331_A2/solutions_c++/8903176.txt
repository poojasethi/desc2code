#include <bits/stdc++.h>
#define rep(i,j,k)  for (int i = (j); i <= (k); i++)
#define dep(i,j,k)  for (int i = (j); i >= (k); i--)
using namespace std;
typedef long long ll;
const int N = 333333;
ll tmp, sum = - 2e15, s[N];
int n, l, r, k, a[N], ans[N];
map<int,vector<int> > p; 
int main()
{
	cin >> n;
	p.clear();
	rep(i,1,n)
	{
		scanf("%d", &a[i]);
		if (a[i] > 0)	s[i] = s[i-1]+a[i];
		else	s[i] = s[i-1];
		p[a[i]].push_back(i);
	}
	for (map<int,vector<int> >::iterator it = p.begin(); it != p.end(); it++)
	{
		int q = it->second.size();
		if (q >= 2)
		{
			tmp = s[it->second[q-1]]-s[it->second[0]-1];
			if (it->first < 0)	tmp += it->first*2;
			if (tmp > sum)	sum = tmp, l = it->second[0], r = it->second[q-1];
		}
	}
	rep(i,1,l-1)	ans[++k] = i;
	rep(i,l+1,r-1)	if (a[i] < 0)	ans[++k] = i;
	rep(i,r+1,n)	ans[++k] = i;
	cout << sum << ' ' << k << endl;
	rep(i,1,k)	printf("%d ", ans[i]);
    return 0;
}