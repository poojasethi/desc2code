#include <cstdio>
#include <vector>
#include <map>
#include <iostream>

#define fi first
#define se second
using namespace std;

const int MAXN=300010;
typedef long long ll;
typedef pair <ll,int> li;

int n;
ll sum[MAXN];
map <ll,int> s;
map <ll,int>::iterator it;
vector <li> ar;
vector <int> w;

int main(){

	scanf(" %d",&n);
	
	ll a,res=-0x7fffffff;
	int beg,en;
	
	for(int i=0;i<n;i++){
		cin >> a;
		ar.push_back(li(a,i));
		s[a]=i;
		if(a>0)	
			sum[i]=sum[i-1]+a;
		else sum[i]=sum[i-1];
	}
	
	for(int i=0;i<(int)ar.size();i++){
		it=s.find(ar[i].fi);
		if(it->second==i)	continue;
		if(res < sum[it->second-1]-sum[i]+2*ar[i].fi){
			res=sum[it->second-1]-sum[i]+2*ar[i].fi;
			beg=i;	en=it->second;
		}
	}
	
	cout << res;
	
	for(int i=0;i<(int)ar.size();i++){
		if(i<beg || i>en)
			w.push_back(ar[i].se);
		else if(i>beg && i<en && ar[i].fi<0)
			w.push_back(ar[i].se);
	}
	
	printf(" %d\n",(int)w.size());
	
	for(int i=0;i<(int)w.size();i++)
		printf("%d ",w[i]+1);
	puts("");
	
	return 0;
}
