#include <iostream>
#include <cstdio>
#include <map>
#define MAXN 300005
using namespace std;

typedef long long int ll;

map<int,int> M;
int N,A[MAXN];
ll S[MAXN], ans = -(1ll<<62), best;
bool cut[MAXN];

ll score(int i){
  return S[M[A[i]]-1] - S[i] + 2ll * (ll)A[i];
}

int main(){
  scanf("%d",&N);
  for(int i=1;i<=N;++i){
    scanf("%d",&A[i]);
    S[i] = S[i-1] + ((A[i] >= 0)?A[i]:0);
    M[A[i]] = i;
  //  printf("%lld\n",S[i]);
  }
  for(int i=1;i<=N;++i) {
    ll tmp = score(i);
    if(M[A[i]] != i && tmp > ans){
      ans = tmp;
      best = i;
    }
  }
  int a = best, b = M[A[a]];
  for(int i=1;i<a;++i) cut[i] = 1;
  for(int i=b+1;i<=N;++i) cut[i] = 1;
  for(int i=a+1;i<b;++i) cut[i] = (A[i] < 0);
  int cnt = 0;
  for(int i=1;i<=N;++i) cnt += cut[i];
  cout << ans << " " << cnt << endl;
  for(int i=1;i<=N;++i)
    if(cut[i]) printf("%d ",i);
  printf("\n");
}
