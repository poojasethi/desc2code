#include<cstdio>
#include<cstdlib>
#include<map>
using namespace std;
long long ans,sum[300005],d[300005];
int n,anl,anr;
map <int,int> mr;
int main(){
	scanf("%d",&n);
	for(int i=1;i<=n;i++) scanf("%I64d",&d[i]);
	for(int i=1;i<=n;i++)
	if(d[i]>0) sum[i]=sum[i-1]+d[i];
	else sum[i]=sum[i-1];
	for(int i=n;i>=1;i--)
	if(!mr[d[i]]) mr[d[i]]=i;
	ans=-1000000000000000LL;
	for(int i=1;i<=n;i++){
		int j=mr[d[i]];
		if(j!=i){
			long long tmp=sum[j-1]-sum[i]+d[j]+d[i];
//			printf("j i %d %d tmp %I64d\n",i,j,tmp);
			if(tmp>ans){
				ans=tmp;
				anl=i;
				anr=j;
			}
		}
	}
	printf("%I64d ",ans);
	int cnt=0;
	for(int i=1;i<anl;i++) cnt++;
	for(int i=anl+1;i<anr;i++) if(d[i]<0) cnt++;
	for(int i=anr+1;i<=n;i++) cnt++;
	printf("%d\n",cnt);
	for(int i=1;i<anl;i++) printf("%d ",i);
	for(int i=anl+1;i<anr;i++) if(d[i]<0) printf("%d ",i);
	for(int i=anr+1;i<=n;i++) printf("%d ",i);
}