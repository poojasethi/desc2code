#include <iostream>
#include <vector>
#include <map>

using namespace std;
typedef long long LL;
const LL INF=10000000000;

int main()
{ 
  int n, b1=0, b2=0, cutc=0;
  cin >> n;
  vector <LL> a(n+1), sums(n+1), cut(n+1);
  map <int,int> m;

  LL app = -INF;
  for (int i=1; i<=n; i++) {
    cin >> a[i];
    sums[i] = sums[i-1];
    if (a[i] > 0) sums[i] += a[i];

    map<int,int>::iterator f = m.find((int)a[i]);
    if (f == m.end())
      m.insert(make_pair((int)a[i], i));
    else {
      int j = f->second;
      if ((sums[i-1] - sums[j]) + 2*a[i] > app) {
        app = sums[i-1] - sums[j] + 2*a[i];
        b1 = j;
        b2 = i;
      }
    }
  }

  for (int i=1; i<=n; i++)
    if (i < b1 || i > b2 || (i != b1 && i != b2 && a[i] < 0)) {
      cut[i] = 1;
      cutc++;
    }
  
  cout << app << " " << cutc << endl;
  for (int i=1; i<=n; i++)
    if (cut[i])
      cout << i << " ";
  cout << endl;
}
