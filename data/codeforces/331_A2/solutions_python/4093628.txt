#include <algorithm>
#include <cstdio>
#include <utility>
using namespace std;
typedef long long int LLI;
typedef pair<int, int> II;
#define a first
#define b second

int a, b, n;
LLI m = -(1LL << 62), s, A[300001], S[300001];
II W[300001];

int main() {
	scanf("%d", &n);
	for (int i = 1; i <= n; i++) {
		scanf("%I64d", A + i);
		if (A[i] < 0) S[i] = S[i - 1];
		else S[i] = S[i - 1] + A[i];
		W[i].a = A[i];
		W[i].b = i;
	}
	sort(W + 1, W + n + 1);
	for (int i = 1, j; i < n;) {
		for (j = i; j < n;) {
			if (W[i].a == W[j + 1].a) j++;
			else break;
		}
		if (i < j) {
			s = A[W[i].b] + A[W[i].b] + S[W[j].b - 1] - S[W[i].b];
			if (s > m) {
				m = s;
				a = W[i].b;
				b = W[j].b;
			}
		}
		i = j + 1;
	}
	s = a - 1 + n - b;
	for (int i = a + 1; i < b; i++) {
		if (A[i] < 0) s++;
	}
	printf("%I64d %I64d\n", m, s);
	for (int i = 1; i < a; i++) printf("%d ", i);
	for (int i = a + 1; i < b; i++) {
		if (A[i] < 0) printf("%d ", i);
	}
	for (int i = b + 1; i <= n; i++) printf("%d ", i);
	puts("");
	return 0;
}
