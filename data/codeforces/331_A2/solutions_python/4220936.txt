#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define For(i,x,y) for (i=x;i<=y;i++)
#define N 300010
#define int64 long long
using namespace std;
const int64 inf=(int64)1e15;
struct ww {
	int a,id;
} b[N];
int i,j,k,n,m,l,r,ll;
int a[N];
int64 ma,mi,c[N];
inline bool cc1(const ww &a,const ww &b) {
	return a.a<b.a||a.a==b.a&&a.id<b.id;
}
int main() {
	scanf("%d",&n);
	For(i,1,n) {
		scanf("%d",&a[i]),b[i].a=a[i],b[i].id=i;
		c[i]=c[i-1]+(a[i]>0)*a[i];
	}
	sort(b+1,b+n+1,cc1);
	ma=-inf;
	For(i,1,n) {
		if (b[i].a==b[i-1].a&&i>1) {
			int64 an=c[b[i].id-1]-mi+b[i].a*2;
			if (an>ma) {
				ma=an; l=ll,r=b[i].id;
			}
		} else mi=inf;
		if (mi>c[b[i].id]) mi=c[b[i].id],ll=b[i].id;
	}
	printf("%I64d ",ma);
	int an=0;
	For(i,1,l-1) an++;
	For(i,l+1,r-1) if (a[i]<0) an++;
	For(i,r+1,n) an++;
	printf("%d\n",an);
	For(i,1,l-1) printf("%d ",i);
	For(i,l+1,r-1) if (a[i]<0) printf("%d ",i);
	For(i,r+1,n) printf("%d ",i);
	printf("\n");
	return 0;
}