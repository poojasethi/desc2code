#include<iostream>
#include<algorithm>
#include<map>
using namespace std;
const long long inf = 1e18;
const int N = 300005;
typedef long long ll;
ll num[N],sum[N],Q[N];
map<int,int> first,last;
int main(){
	int n;
	cin >> n;
	for(int i = 1; i <= n; i++){
		cin >> num[i];
		if(num[i] > 0) sum[i] += sum[i-1] + num[i];
		else sum[i] = sum[i-1];
		if(first[num[i]] == 0) first[num[i]] = i;
		last[num[i]] = i;
	}
	int head ,tail; ll ans = -inf;
	for(int i = 1; i <= n; i++){
		int val = num[i];
		int s = first[val], t = last[val];
		if(s == t) continue;
		ll cnt = sum[t-1] - sum[s] + val * 2LL;
		if(cnt > ans) {
			ans = cnt;
			head = s, tail = t;
		}
	}
	int len = 0;
	for(int i = 1; i < head; i++) Q[len ++] = i;
	for(int i = tail + 1; i <= n; i++) Q[len ++] = i;
	for(int i = head + 1; i < tail; i++) if(num[i] < 0) Q[len ++] = i;
	cout<< ans << " "<<len<<endl;
	sort(Q,Q+len);
	for(int i = 0; i < len; i++)
		cout<< Q[i] <<" "; cout<<endl;
}
