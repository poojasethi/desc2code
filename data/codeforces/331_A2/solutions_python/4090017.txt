#include <iostream>
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <map>
using namespace std;

int n,a[300010];
long long sum[300010];

map<int,int> pos;

int main()
{
	cin >> n;
	for (int i=1;i<=n;++i)
	{
		scanf("%d",&a[i]);
		sum[i] = sum[i-1];
		if (a[i] > 0) sum[i] += a[i];
	}
	for (int i=n;i>=1;--i)
		if (!pos.count(a[i])) pos[a[i]] = i;
	long long ans(1LL<<60);
	ans = -ans;
	int x,y;
	for (int i=1;i<n;++i)
	{
		if (pos[a[i]] == i) continue;
		long long temp(sum[pos[a[i]]]-sum[i-1]);
		if (a[i] < 0) temp += a[i] + a[i];
		if (temp > ans) {ans = temp;x = i;y = pos[a[i]];}
	}
	cout << ans << " ";
	int k(0);
	for (int i=x+1;i<y;++i)
		if (a[i]<0) ++k;
	cout << k+x-1+n-y << endl;
	for (int i=1;i<x;++i) printf("%d ",i);
	for (int i=x+1;i<y;++i) 
		if (a[i] < 0)
			printf("%d ",i);
	for (int i=y+1;i<=n;++i) printf("%d ",i);
	cout << endl;	
	return 0;
}
