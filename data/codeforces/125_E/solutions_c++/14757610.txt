#include<cstdio>
#include<iostream>
#include<string>
#include<cstring>
#include<algorithm>
#include<cmath>
using namespace std;

struct edge
{int u,v,c,num;
 double w;
};
struct edge e[100010];

int n,m,k,num,col,inf=1e6,eps=1e-6;
int used[100010],fa[5010];

bool cmp(struct edge A,struct edge B)
{return A.w<B.w;
}

int find(int i)
{return (fa[i]==i)?i:fa[i]=find(fa[i]);
}

void work()
{int i,j,fx,fy,s=0;
 
 random_shuffle(e+1,e+m+1);
 sort(e+1,e+m+1,cmp);
 for(i=1;i<=n;i++)
 	fa[i]=i;
 num=0;	
 for(i=1;i<=m;i++)
 {	fx=find(e[i].u);
 	fy=find(e[i].v);
	if(fx!=fy)
	{	fa[fx]=fy;
		used[i]=col;
		s++;
		if(e[i].u==1 || e[i].v==1) num++;
 	}
 }
 if(s!=n-1) num=-1;
}

int main()
{int i,j,flag=0;
 double l,r,mid;
 
 scanf("%d%d%d",&n,&m,&k);
 for(i=1;i<=m;i++)
 {	scanf("%d%d%d",&e[i].u,&e[i].v,&e[i].c);
 	e[i].num=i;
 }
 l=-inf;
 r=inf;
 while(fabs(r-l)>eps)
 {	mid=(l+r)/2;
 	for(i=1;i<=m;i++)
	 	if(e[i].u!=1 && e[i].v!=1)
			e[i].w=e[i].c;
		else
			e[i].w=e[i].c+mid;
	col++;		
	work();
	//printf("%.10lf %.10lf %.10lf %d\n",l,r,mid,num);
	//for(i=1;i<=100000000;i++);
	if(num==k)
		break;
	else if(num>k)
		l=mid;
	else
		r=mid;
 }
 if(num==k)
 {	printf("%d\n",n-1);
 	for(i=1;i<=m;i++)
 		if(used[i]==col)
 		{	if(flag)
 				printf(" ");
 			else
			 	flag=1;
		 	printf("%d",e[i].num);
		}
	printf("\n");
 }
 else
 	printf("%d\n",-1);
 return 0;
}