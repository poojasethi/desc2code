#include<iostream>
#include <ctime>
using namespace std;
int main(){
	char c;
	int n,m,s,f,k,t,tl=1,l,r,i;
	cin>>n>>m>>s>>f;//s-íà÷àëî, f- êîíåö
					//n-êîë-âî øïèîíîâ, m-êîë-âî ýòàïîâ
	f-s>0 ? k=1 : k=-1;
	k==1? c='R' : c='L';
	for(i=0;i<m;i++){
		cin>>t>>l>>r;
		for(;(tl<t)&&(s!=f);tl++){
			cout<<c;
			s+=k;
		}
		if(s==f) break;
		if (((s>=l)&&(s<=r))||(s+k>=l)&&(s+k<=r)) cout<<"X";
		else cout<<c,s+=k;
		tl=t+1;
	} 
	if(s!=f)
	for(i=0;i<k*(f-s);i++)
	cout<<c;
	return 0;
}