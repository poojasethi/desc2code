#include <iostream>
using namespace std;

int main(){
	long long n, m, s, f, t, a, l, r, in;
	cin >> n >> m >> s >> f;
	in = s;
	cin >> a >> l >> r;
	m--;
	for(t=1;in!=f;t++){
		if(t==a){
			if(in<f and (in<l or in>r) and (in+1<l or in+1>r)){
				in++;
				cout << 'R';
			}
			else if(in>f and (in<l or in>r) and (in-1<l or in-1>r)){
				in--;
				cout << 'L';
			}
			else cout << 'X';
			if(m){
				cin >> a >> l >> r;
				m--;
			}
		}
		else{
			if(in<f){
				in++;
				cout << 'R';
			}
			else if(in>f){
				in--;
				cout << 'L';
			}
		}
	}
	cout << endl;
	return 0;
}
