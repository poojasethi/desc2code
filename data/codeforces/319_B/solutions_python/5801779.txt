n = int(raw_input())
t = map(int, raw_input().split())

a = t[0]
b = [0]*n
c = [0]*n

for i in xrange(n-1):
    j = i + 1
    x = t[j]
    if x > a: a = x
    else:
        d = 0
        k = j-1
        while t[k] < x:
            d = max(d, c[k])
            k = b[k]
        b[j] = k
        c[j] = d+1
print max(c)
