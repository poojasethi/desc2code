n, t = int(raw_input()), map(int, raw_input().split())
p, s, r = [0] * n, [0] * n, t[0]
for i in range(n - 1):
    j = i + 1
    x = t[j]
    if x > r: r = x
    else:
        d = 0
        while t[i] < x: d, i = max(d, s[i]), p[i]
        p[j], s[j] = i, d + 1
print max(s) 