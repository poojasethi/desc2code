import os
n=input()
a=map(int,raw_input().split())
next = [i+1 for i in range(n)]
pos = [(n-i-1) for i in range(n)]
counter = 0
while len(pos) > 0:
    yes = False
    M = len(pos)
    newPos = list()
    for i in range(len(pos)):
        x = pos[i]
        if next[x] < n and a[x] > a[next[x]]:
            next[x] = next[next[x]]
            yes = True
            newPos.append(x)
    pos = newPos
    if yes: counter+=1
    #print pos

print counter
        
    
