numpsychos = int(raw_input().strip())
psychos = [int(i) for i in raw_input().strip().split()]

whokilledme = [0]*numpsychos
whokilledme[0] = -1
timeofdeath = [0]*numpsychos
timeofdeath[0] = 99999999

for i in range(1, len(psychos)):
    possiblewhokilledme = i-1
    possibletimeofdeath = 1
    while possiblewhokilledme != -1 and psychos[possiblewhokilledme] < psychos[i]:
        possibletimeofdeath = timeofdeath[possiblewhokilledme] + 1       
        possiblewhokilledme = whokilledme[possiblewhokilledme]
        if possiblewhokilledme == -1:
            possibletimeofdeath = 99999999
            break
        while possibletimeofdeath > timeofdeath[possiblewhokilledme]:
            possibletimeofdeath = timeofdeath[possiblewhokilledme] + 1       
            possiblewhokilledme = whokilledme[possiblewhokilledme]
            if possiblewhokilledme == -1:
                possibletimeofdeath = 99999999
                break
    whokilledme[i] = possiblewhokilledme
    timeofdeath[i] = possibletimeofdeath

ans = 0
for i in timeofdeath:
    if i != 99999999 and i > ans:
        ans = i

print ans