n=input()
a=map(int,raw_input().split())
b=[0]*n
c=[]
v=0
for i in range(n)[::-1]:
  while c and a[i]>a[c[-1]]:
    b[i]=max(b[i]+1,b[c[-1]])
    c.pop()
  c+=[i]
  v=max(v,b[i])
print v
