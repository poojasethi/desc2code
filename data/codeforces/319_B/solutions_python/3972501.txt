I=lambda:map(int, raw_input().split())
n=input()
q=[]
a=I()
ans=0
for i in xrange(n-1,-1,-1):
    c=0
    while (len(q)>0 and q[-1][0]<a[i]):
        c=max(c+1,q[-1][1])
        q.pop()
    q.append((a[i],c))
    ans=max(ans,c)
print ans