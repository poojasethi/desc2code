#include<stdio.h>
int stuck[100005]={0};
int top=0;
int time[100005]={0};
int cd[100005]={0};
int n;
int max(int a,int b){
if(a>b)return a;
return b;
}
	main(){
	int a;
	int ans=0;	
 scanf("%d",&n);
 a=n;
for(a=n;a>=1;a--)scanf("%d",&cd[a]);
for(a=1;a<=n;a++){
while(top>=1&&cd[a]>cd[stuck[top]]){
time[a]=max(time[a]+1,time[stuck[top]]);
top--;
}
stuck[++top]=a;
if(time[a]>ans)ans=time[a];
}
printf("%d\n",ans);
}
  					    		  		   		   	