#include <iostream>
#include <cstdio>
#include <cstring>

using namespace std;

const int N=100006;

int f[N], x[N], S[N];

int main()
{
	int n;
//	freopen("in.txt", "r", stdin);
	while(scanf("%d", &n)!=EOF)
	{
		for(int i=1; i<=n; i++) scanf("%d", &x[i]);
		int t=0, ans=0;
		for(int i=n; i>=1; i--)
		{
			for(; t && x[S[t]]<x[i]; --t) f[i]=max(f[i]+1, f[S[t]]);
			S[++t]=i;
			if(f[i]>ans) ans=f[i];
		}
		printf("%d\n", ans);
	}
	return 0;
}
