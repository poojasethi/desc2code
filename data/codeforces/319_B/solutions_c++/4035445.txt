#include <iostream>
#include <algorithm>
#include <cmath>
#include <stack>

#define rep(i,n) for(int i=0;i<n;i++)

using namespace std;

int n,a[100010],c[100010],res;
stack<int> stk;

int main(){
    cin>>n;
    for(int i=n-1;i>=0;i--)cin>>a[i];
    rep(i,n){
    while(!stk.empty() && a[i]>a[stk.top()]){
        int p = stk.top();
        c[i] = max(c[i]+1,c[p]);
        stk.pop();
    }
    stk.push(i);
    res = max(res,c[i]);
    }
    cout<<res<<endl;

}
