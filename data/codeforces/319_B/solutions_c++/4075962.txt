#include<iostream>
#include<stack>
#include<cstdio>
using namespace std;
struct L{
	int w,t;
};
int a[100005];
int main(){
	int n,res=0;stack<L>S;
	scanf("%d",&n);
	for(int i=0;i<n;i++)scanf("%d",a+i);
	for(int i=n-1;i>=0;i--){
		int t=0;
		while(!S.empty()&&S.top().w<a[i]){
			t=max(t+1,S.top().t);
			S.pop();
		}
		res=max(res,t);
		S.push((L){a[i],t});
	}
	printf("%d\n",res);
}
  			 	 	  							 		  	