#include<cstdio>
#include<algorithm>
int a[100005], f[100005], st[100005], n, top, i, t;
int main()
{
	scanf("%d", &n);
	for (i = 0; i < n; i++) scanf("%d", &a[i]);
	for (i = n - 1; i >= 0; i--)
	{
		t = 0;
		while (top && a[st[top - 1]] < a[i])
			f[i] = t = std::max(t + 1, f[st[--top]]);
		st[top++] = i;
	}
	printf("%d", *std::max_element(f, f + n));
}
