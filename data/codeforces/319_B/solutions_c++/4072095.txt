#include <cstdio>
#include <stack>
using namespace std;

const int N = 100010;
int c[N];
stack<int> S;

int main() {
    int n, ans = 0;
    scanf("%d", &n);
    for (int i = 0; i < n; i++) {
        int x;
        scanf("%d", &x);    
        c[x] = 0;
        while (!S.empty() && S.top() < x) {
            c[x] = max(c[x], c[S.top()]);
            S.pop();
        }
        if (!S.empty()) c[x]++;
        ans = max(ans, c[x]);
        S.push(x);
    }
    printf("%d\n", ans);
}

