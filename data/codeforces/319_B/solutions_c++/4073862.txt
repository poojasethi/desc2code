#include<stdio.h>
int tot,max,i,t,n,j,a[100005],f[100005],l[100005];
int main() 
{
    scanf("%d",&n);
    for(i=1;i<=n;i++)scanf("%d",&a[i]);
    tot=0;
    for(i=n;i>=1;i--)
    {
        t=0;
        while(tot&&a[i]>a[l[tot]]){
			t++;
			if(f[l[tot]]>t)t=f[l[tot]];
			tot--;
		}
		//for(j=1;j<=n;j++)printf("%d ",l[j]);printf("\n");
        f[i]=t;tot++;l[tot]=i;
    }
    max=0;
    for(i=1;i<=n;i++)
    	if(f[i]>max)max=f[i];
    printf("%d\n",max);
}
			 		 		     				     	 	