#include <cstdio>
static long long A[100010], B[2][100010], prv=0;
int main(){
    int N, cnt=0, t=0, MX=0;
    scanf("%d", &N);
    for(int i=N; i>=1; --i)scanf("%I64d", &A[i]);
    for(int i=1; i<=N; ++i){
        int tmp=0;
        for(;t&&A[B[0][t]]<A[i]; --t){
            tmp=(tmp+1>B[1][t])?tmp+1: B[1][t];
            B[0][t]=i;
        }
        B[0][++t]=i; B[1][t]=tmp;
        if(tmp>cnt)cnt=tmp;
    }
    printf("%d\n", cnt);
    return 0;
}