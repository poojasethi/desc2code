#include<cstdio>
#define rep(i,n) for (int i=1;i<=n;i++)
#define N 100005
int n,h,t,ans,f[N],a[N],b[N],R[N];
int main()
{
	scanf("%d",&n);
	rep(i,n) scanf("%d",a+i),b[i]=1,R[i]=i+1;
	for (int i=n-1;i;i--) if (a[i]>a[i+1]) f[++h]=i;
	while (h){
		rep(i,h){
			int x=f[i],y=R[x];
			if (a[x]>a[y]) b[y]=0,R[x]=R[y];
			}
		t=h,h=0,ans++;
		rep(i,t){
			int x=f[i],y=R[x];
			if (b[x] && y<=n && a[x]>a[y]) f[++h]=x;
			}
		}
	printf("%d\n",ans); return 0;
}
