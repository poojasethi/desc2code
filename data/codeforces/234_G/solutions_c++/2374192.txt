#include <cstdio>

int n;

void print(int k) {
	int cnt = 0;
	for (int i = 0; i < n; i += 2*k) {
		for (int j = i; j < i + k && j < n; ++j) {
			++cnt;
		}
	}
	printf("%d", cnt);
	for (int i = 0; i < n; i += 2*k) {
		for (int j = i; j < i + k && j < n; ++j) {
			printf(" %d", j + 1);
		}
	}
}

int main() {
	freopen("input.txt", "r", stdin);
  freopen("output.txt", "w", stdout);
	scanf("%d", &n);
	int k;
	for (k = 0; (1<<k) < n; ++k);
	printf("%d\n", k);
	while (k--) {
		print(1<<k);
		puts("");
	}
	return 0;
}
