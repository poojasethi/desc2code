#include <iostream>
#include <cstdio>
#include <cmath>

using namespace std;

int N,i,j,L;
void solve(int L,int N){
    if(L==1)return;
    int i,j,s=0;
    for (int i=0; i < N; i++){
        if(i%L<L/2)++s;
    }
    printf("%d",s);
    for (int i=0; i < N; i++){
        if(i%L<L/2)printf(" %d",i+1);
    }
    printf("\n");
    solve(L/2,N);
}

int main(){
	freopen("input.txt","r",stdin);
    freopen("output.txt","w",stdout);
    scanf("%d",&N);
    for(L=0;1<<L<N;++L);
    printf("%d\n",L);
    solve(1<<L,N);
    return 0;
}