tmp = set()
n,k,q = map(int,raw_input().split())
a = [int(i) for i in raw_input().split()]
for i in range(q):
    type,id = map(int,raw_input().split())
    if type == 1:
        tmp.add(a[id-1])
        if len(tmp) > k:
            tmp.remove(min(tmp))
    else:
        print("YES" if a[id-1] in tmp else "NO")