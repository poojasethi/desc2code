R=lambda:map(int,raw_input().split())
n,k,q=R()
N=range(n)
t=sorted(zip(R(),N))
p=[0]*(n+1)
f=p[:]
c=p[:]
for i in N:
  p[t[i][1]+1]=n-i
for _ in range(q):
  a,b=R()
  if a<2:
    f[b]=1
    x=p[b]
    while x<=n:
      c[x]+=1
      x+=x&-x
  else:
    x,y=p[b],0
    while x>0:
      y+=c[x]
      x-=x&-x
    print 'YES' if f[b] and y<=k else 'NO'
