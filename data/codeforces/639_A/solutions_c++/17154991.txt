#include <cstdlib>
#include <iostream>
#include <set>

using namespace std;

int n,k,q,type,id,a[200000];

set <int>st;

int main()
{
    cin >> n >> k >> q;
    for(int i = 1; i <= n; ++i) cin >> a[i];
    for(int i = 0; i < q; ++i)
    {
        cin >> type >> id;
        if(type == 1)
        {
            st.insert(a[id]);
            if(st.size() > k) st.erase(st.begin());
        } else
        if(st.count(a[id])) cout << "YES" << endl; else cout << "NO" << endl;      
    }
}
