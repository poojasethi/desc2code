#include <iostream>
#include <set>
#include<stdio.h>
#include<string.h>
using namespace std;
int n, q, k, type, x;
set<int> kk;
int a[1111111];
int main() {
	cin >> n >> k >>  q;
	for (int i = 1; i <= n; ++i) cin >> a[i];
	for (int i = 0; i < q; ++i) {
		cin >> type >> x;
		if (type == 1) kk.insert(-a[x]);
		if (type == 2 && kk.find(-a[x]) != kk.end()) {
			puts("YES");
		} else  if (type == 2)  puts("NO");
		set<int> :: iterator it = kk.end();
		if (kk.size() > 0) it--;
		if (kk.size() > k) {
			kk.erase(it);
		} 
	}
	return 0;
}