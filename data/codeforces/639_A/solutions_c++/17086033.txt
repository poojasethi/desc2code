#include<bits/stdc++.h>
using namespace std;

int main(){
	int i,n,k,q,a[200005],t1,t2;
	set<int>st;
	set<int>::iterator ite;
	scanf("%d%d%d",&n,&k,&q);
	for(i=0;i<n;++i){
		scanf("%d",&a[i]);
	}
	for(i=0;i<q;++i){
		scanf("%d%d",&t1,&t2);
		if(t1==1){
			if(st.size()>=k){
				if(a[t2-1]>(*st.begin())){
					st.erase(st.begin());
					st.insert(a[t2-1]);
				}
			}else{
				st.insert(a[t2-1]);
			}
		}else{
			if(st.find(a[t2-1])!=st.end()){
				cout<<"YES\n";
			}else{
				cout<<"NO\n";
			}
		}
	}
} 