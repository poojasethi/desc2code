#include<cstdio>
#include<set>
#include<iostream>

using namespace std;

int t[150005] = {0}; 
int main()
{
	int n, k, q;
	scanf ("%d %d %d", &n, &k, &q);
	for (int i = 0; i < n; i++)
		scanf("%d", &t[i]);
	set <int> s;
	while (q--)
	{
		int id, num;
		scanf ("%d %d", &id, &num);
		if (id == 1)
		{
			s.insert(t[num-1]);
			if (s.size() > k)	s.erase(s.begin());
		}
        else
        {
        	if (s.find(t[num-1]) == s.end())	printf("NO\n");  
            else	printf("YES\n"); 
		}
	}
	return 0;
}
