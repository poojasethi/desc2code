#include <iostream>
#include <vector>
#include <set>

using namespace std;

int main() {
	int n, k, q;
	cin >> n >> k >> q;
	vector<int> a(n);
	for (int i = 0; i < n; i++)
		cin >> a[i];
	set<pair<int, int> > s;
        pair <int,int> p;
	for (int i = 0; i < q; i++) {
		int t, x;
		cin >> t >> x;
		if (t == 1) {
			s.insert(pair<int,int>(a[x-1], x));
			if (s.size() > k) s.erase(s.begin());		
		} else
			cout <<( (s.count(pair<int,int>(a[x-1], x))) ? "YES\n" : "NO\n");

}}  
	
	   
	
	
