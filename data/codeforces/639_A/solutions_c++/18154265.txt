#include<cstdio>
#include<set>
#include<algorithm>
using namespace std;

int main()
{
	int n,q,k;
	set <int> s;
	while (scanf("%d%d%d",&n,&k,&q)!=EOF)
	{
		int t[n+1],ind,id,cnt=0;
		for (int i=1;i<=n;i++) scanf("%d",&t[i]);
		while (q--)
		{
			scanf("%d%d",&ind,&id);
			if (ind==1)
			{
				cnt++;
				s.insert(t[id]);
				if (cnt>k) s.erase(s.begin());
			}
			else 
			{
				if (s.find(t[id])==s.end()) printf("NO\n");
				else printf("YES\n");
			}
		}
		s.clear();
	}
	return 0;
}
				  	  	  		   	 				 		 		 	