#include<iostream>
#include<string>
using namespace std;
int main()
{
	string s;
	int t;
	int l, r, k;
	cin >> s >> t;
	while (t--)
	{
		cin >> l >> r >> k;
		int g = r - l + 1;
		k %= g;
		string d = s.substr(r - k, k);
		s.erase(r-k,k);
		s.insert(l - 1, d);
	}
	cout << s;
	//system("pause");
	return 0;
}