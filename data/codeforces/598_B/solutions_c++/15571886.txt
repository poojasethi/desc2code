#include<bits/stdc++.h>
using namespace std;
int q,l,r,num;
char ar[1000000];
int main(){
	scanf("%s",ar);
	scanf("%d",&q);
	for(int i=1 ; i<=q ; i++){
		scanf("%d %d %d",&l,&r,&num);
		l--;
		num %= (r-l);
		rotate(ar+l,ar+r-num,ar+r);
	}
	printf("%s\n",ar);
	return 0;
}
