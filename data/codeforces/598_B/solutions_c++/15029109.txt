#include <bits/stdc++.h>
using namespace std;

string s,ss;
int t,l,r,k;

int main(){
	ios::sync_with_stdio(0); cin.tie(0);
	cin >> s >> t;
	while (t--){
		cin >> l >> r >> k;
		l--; r--; k%=(r-l+1);
		ss=s.substr(r-k+1,k);
		s.erase(r-k+1,k);
		s.insert(l,ss);
	}
	cout << s << "\n";
}
