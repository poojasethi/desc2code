#include <bits/stdc++.h>

using namespace std;

char s[100005];
int m, l, r, k;

int main(void){
	scanf("%s", s);
	scanf("%d", &m);

	for(int i = 0; i < m; i++){
		scanf("%d%d%d", &l, &r, &k); l--;
		rotate(s+l, s + l +(r-l-k%(r-l)), s+r);
	}

	printf("%s", s);

	return 0;
}