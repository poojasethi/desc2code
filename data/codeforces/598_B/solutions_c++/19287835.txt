#include <bits/stdc++.h>
using namespace std;
int main()
{ string s;
  cin >> s;
  long n;
  cin >> n;
  long l,r,k;
  for (int i=0;i<n;i++)
  { cin >> l >> r >> k;
    k%=r-l+1;
    s=s.substr(0,l-1)+s.substr(r-k,k)+s.substr(l-1,r-l+1-k)+s.substr(r);

    //cout << s << endl;    
  }
  cout << s;
}
