s = raw_input()
m = input()
for _ in range(m):
	left, right, k = map(int, raw_input().split())
	k %= (right - left + 1)
	s = s[: left - 1] + s[right - k : right] + s[left - 1 : right - k] + s[right :]
print s
