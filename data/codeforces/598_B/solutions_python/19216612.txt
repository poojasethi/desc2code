s=raw_input()
n=int(raw_input())
for i in range(n):
    t=s
    l=map(int,raw_input().split())
    tmp=s[l[0]-1:l[1]]
    x=((l[2]%len(tmp)))*-1
    tmp=tmp[x:]+tmp[:x]
    s=t[:l[0]-1]+tmp+t[l[1]:]
print s