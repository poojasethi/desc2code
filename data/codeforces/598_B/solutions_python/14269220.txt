str=raw_input()
T=input()
i=0
while i<T:
	l,r,k=map(int, raw_input().split())
	k%=(r-l+1)
	str=str[0:l-1]+str[r-k:r]+str[l-1:r-k]+str[r:len(str)]
	i=i+1
print(str)