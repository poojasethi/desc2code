q=raw_input
s=q()
n=input()
for _ in range(n):
    l,r,k=map(int,q().split())
    k=k%(r-l+1)
    s=s[:l-1]+s[r-k:r]+s[l-1:r-k]+s[r:]
print s