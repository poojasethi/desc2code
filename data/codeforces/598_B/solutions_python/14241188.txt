string = raw_input()
string = list(string)



m = input()
for i in range(m):
	l, r, k = map(int, raw_input().split())
			
	reqd = string[l-1:r]
	
	move = reqd[len(reqd) - (k % len(reqd)):]
	reqd = reqd[:len(reqd) - (k % len(reqd))]
	move += reqd
	
	#print move
	string[l-1:r] = move
	
print ''.join(string)
