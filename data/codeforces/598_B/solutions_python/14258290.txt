#!/usr/bin/env python
# -*- coding: utf-8 -*-

if __name__ == '__main__':
    s = list(raw_input().strip())
    n = int(raw_input().strip())
    for i in xrange(n):
        l, r, k = map(int, raw_input().split())
        l -= 1
        k %= r - l
        s[l : r] = s[r - k : r] + s[l : r - k]
    print ''.join(s)

