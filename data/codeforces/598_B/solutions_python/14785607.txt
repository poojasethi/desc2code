s = raw_input()
m = int(raw_input())

for i in range(m):
    l, r, k = map(int, raw_input().split(' '))
    k = k % (r - l + 1)
    sub = s[l-1:r]
    sub = sub[-k:] + sub[:-k]
    s = s[:l-1] + sub + s[r:]
    
print s