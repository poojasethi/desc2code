# your code goes here

def rotate(s,n):
    
    z = len(s)
    n = n%z
    y = z-n
    return s[y:]+s[:y]




s = raw_input()
m = input()
for i in xrange(m):
    l,r,k = map(int, raw_input().split())
    q = rotate(s[l-1:r],k)
    
    s = s[:l-1]+q+s[r:]
    
print s