s=raw_input
x=s()

for _ in range(int(s())):
    a, b, c = map(int, s().split())
    a -= 1
    b -= 1
    c %= (b-a+1)
    if a != b:
        x = x[:a]+x[b-c+1:b+1]+x[a:b-c+1]+x[b+1:]

print x
