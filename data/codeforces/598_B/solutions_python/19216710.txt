s=raw_input()
n=int(raw_input())
for i in range(n):
    t=s
    l,r,k=map(int,raw_input().split())
    tmp=s[l-1:r]
    x=((k%len(tmp)))*-1
    tmp=tmp[x:]+tmp[:x]
    s=t[:l-1]+tmp+t[r:]
print s