s = raw_input()
a = range(len(s))
m = int(raw_input())
for i in xrange(m):
    l, r, k = map(int,raw_input().split())
    b = a[l - 1:r]
    for i in range(r - l + 1):
        a[l + i - 1] = b[(i - k) % (r - l + 1)]

print ''.join([s[i] for i in a])
    
