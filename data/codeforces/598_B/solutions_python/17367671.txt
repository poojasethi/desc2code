s = raw_input()
m = input()
def solve(s,l,r,k):
    k %= r-l+1
    left = s[:l-1]
    right = s[r:]
    temp = s[l-1:r]
    return left + temp[-k:] + temp[:-k] + right
for i in range(m):
    l,r,k = map(int,raw_input().split())
    s = solve(s,l,r,k)

print s