string = list(raw_input())
m = int(raw_input())

for x in xrange(0,m):
	l, r, k = [int(i) for i in raw_input().split()]
	k = k % (r - l + 1)
	start = string[0:l-1]
	first = string[r-k:r]
	last = string[l-1:r-k]
	end = string[r:]
	string = start + first + last + end

print ''.join(string)