s = raw_input()
rot = int(raw_input())
for i in xrange(rot):
    l, r, k = raw_input().split(" ")
    l = int(l)-1
    r = int(r)-1
    k = int(k)
    shift = k % (r-l+1)
    sub = s[l:r+1]
    sub = sub[-shift:] + sub[:-shift]
    s = s[:l] + sub + s[r+1:]
print s