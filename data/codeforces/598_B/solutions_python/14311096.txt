s = str(raw_input())
n = int(raw_input())
for _ in range(n):
    l, r, k = map(int, raw_input().split())
    k %= (r - l + 1)
    s = s[0:l - 1] + s[r - k:r] + s[l - 1:r - k] + s[r:]
print s