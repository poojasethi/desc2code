R=raw_input
s=R()
for _ in range(input()):
  l,r,k=map(int,R().split())
  l-=1
  k%=r-l
  s=s[:l]+s[r-k:r]+s[l:r-k]+s[r:]
print s