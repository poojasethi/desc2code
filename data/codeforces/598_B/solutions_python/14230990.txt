s=raw_input()
m=input()
for i in range(0,m):
    l,r,k=map(int,raw_input().split())
    le=r-l+1
    x=k%le
    if(x!=0):
        s=s[:l-1]+s[l-1+le-x:r]+s[l-1:l-1+le-x]+s[r:]
print s