import math
s=raw_input()
m=input()
for x in xrange(0,m):
	l,r,k =map(int,raw_input().split())
	k = k%(r-l+1)
	n= s[l-1:r]
	d = n[-k:]+n[:-k]
	s = s[:l-1]+d+s[r:]
print s



