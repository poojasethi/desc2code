def flip_string(string, p):
    t = (len(string)-p) % len(string)
    s_1 = string[:t][::-1] + string[t:][::-1]
    return s_1[::-1]


s = raw_input()
m = int(raw_input())
for i in xrange(m):
    l, r, k = [int(x) for x in raw_input().split()]
    s = s[:(l-1)] + flip_string(s[l-1:r], k) + s[r:]

print s

