R=raw_input
s=R()
for _ in range(input()):
  l,r,k=map(int,R().split())
  k%=(r-l+1)
  s=s[:l-1]+s[r-k:r]+s[l-1:r-k]+s[r:]
print s