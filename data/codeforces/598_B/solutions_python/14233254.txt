S = list(raw_input())
m = input()


def rotate(S, l, r, k):
    s = S[(r-k):r]
    del S[(r-k):r]
    S = S[:l-1] + s + S[l-1:]
    return S

for loop in xrange(m):
    l, r, k = map(int, raw_input().split())
    k %= r - l + 1
    S = rotate(S, l, r, k)

print ''.join(S)