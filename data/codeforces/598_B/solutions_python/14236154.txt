def rotate(strng, n):
    #print strng
    n = n % len(strng)
    return strng[n:] + strng[:n]

string = raw_input()
t = int(raw_input())
while(t > 0):
    l, r, k = tuple(int(i) for i in raw_input().split(" "))
    l -= 1
    k *= -1
    string = string[:l]+rotate(string[l:r], k)+string[r:]
    t -= 1
print string