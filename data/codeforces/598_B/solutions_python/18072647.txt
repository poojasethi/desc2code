import sys
s = list(sys.stdin.readline())
m = int(sys.stdin.readline())
for i in xrange(m):
    l, r, k = map(int, sys.stdin.readline().split())
    m = r - l + 1
    kn = k % m
    if kn > 0:
        r_ind = r - kn
        l_tmp = s[r_ind:r]
        s[l+kn-1:r] = s[l-1:r_ind]
        s[l-1:l+kn-1] = l_tmp

print ''.join(s)
