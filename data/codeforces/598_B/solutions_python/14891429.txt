from collections import deque
def rot(a, k):
    b = deque(a)
    b.rotate(k)
    return b
s = list(raw_input())
for _ in range(int(raw_input())):
    l, r, k = map(int, raw_input().split())
    k = k % (r - l + 1)
    s[l-1:r] = rot(s[l-1:r], k)
print "".join(s)