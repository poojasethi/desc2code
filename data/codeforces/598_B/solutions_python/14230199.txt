# your code goes here
s=list(raw_input())
m=int(raw_input())
for i in xrange(m):
    l, r, k = map(int, raw_input().split())
    l -= 1
    r -= 1
    ss = []
    for j in xrange(r-(k%(r-l+1))+1, r+1):
        ss += s[j]
    for j in xrange(l, r-(k%(r-l+1))+1):
        ss += s[j]
    s = s[:l] + ss + s[r+1:]
print ''.join(s)