s = list(raw_input())
p = len(s)
q = int(raw_input())
for i in range(q):

        l,r,k = [int(j)-1 for j in raw_input().split(' ')]



        k+=1
        if r==l:
                continue
        shift = k%(r-l+1)

        s[l:r+1]= s[r-shift+1:r+1]+s[l:r-shift+1]

print "".join(s)
