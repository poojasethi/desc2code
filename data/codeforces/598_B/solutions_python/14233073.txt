s = raw_input()
m = int(raw_input())

shifts = [] * len(s)
for _ in range(m):
	l, r, k = map(int, raw_input().split())
	l -= 1
	r -= 1
	tmp = s[l:r+1]
	k = k % len(tmp)
	tmp2 = tmp[-k:] + tmp[:-k]
	s = s[0:l] + tmp2 + s[r+1:]

print s