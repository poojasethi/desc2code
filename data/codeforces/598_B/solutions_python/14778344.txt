s = raw_input()
t = int(raw_input())
for i in xrange(t):
    l, r, k = map(int,raw_input().split())
    if r == l:
        continue
    k = k%(r+1-l)
    sub = s[l-1:r]

    sub = sub[-k:] + sub[:-k]

    s = s[:l-1] + sub + s[r:]
print s
    
            
