s = raw_input()
n = int(raw_input())

for x in xrange(0, n):
    l, r, k = map(int, raw_input().split())
    
    k %= (r - l + 1)
    n = s[l-1:r]

    d = n[-k:]+n[:-k]

    s = s[:l-1]+d+s[r:]
print s