import math
s = raw_input()
ls = len(s)
m = int(raw_input())
for i in range(m):
	l,r,k = map(int,raw_input().split())
	p = k % (r-l+1)
	fstr = s[0:l-1] + s[r-p:r] + s[l-1:r-p] + s[r:ls]
	s = fstr
print s
