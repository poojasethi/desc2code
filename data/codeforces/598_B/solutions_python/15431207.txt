if __name__ == '__main__':
	s = raw_input()
	m = int(raw_input())
	
	for _ in xrange(m):
		l,r,k = [int(x) for x in raw_input().split()]
		l-=1
		r-=1
		k = k % (r-l+1)
		sub = s[l:r+1]
		sub = sub[len(sub)-k:] + sub[:len(sub)-k]
		s = s[:l] + sub + s[r+1:]
	print s