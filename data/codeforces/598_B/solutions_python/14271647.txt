s=raw_input()
t=input()
for k in range(0,t):
    l,r,k=(int(i) for i in raw_input().split())
    l=l-1
    r=r-1
    temp1=s[0:l]
    temp2=s[r+1:]
    temp3=s[r+1-k%(r-l+1):r+1]+s[l:r+1-k%(r-l+1)]
    #print temp1,temp2,temp3
    s=temp1+temp3+temp2 
    #print s
print s
