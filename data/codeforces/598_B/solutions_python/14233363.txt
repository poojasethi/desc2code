s = raw_input()
m = int(raw_input())


def shift(l, r, k):
    global s

    length = (r-l+1)
    modulo = k % length

    res = s[r-modulo:r] + s[l-1:r-modulo]
    s = s[:l-1] + res + s[r:]


for i in xrange(m):
    l, r, k = map(int, raw_input().split())

    shift(l, r, k)

print s