__author__ = 'abd el rahman'
s = raw_input()
s = list(s)
m = int(raw_input())
for i in xrange(0,m):
    l,r,k = map(int , raw_input().split())
    l-=1
    r-=1
    k = k % (r-l+1)
    ss = s[l:r+1]
    for j in range(l,r+1):
        s[j] = ss[(k*-1)+j-l]
print ''.join(s)
