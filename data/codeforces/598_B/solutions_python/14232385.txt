s = raw_input()
m = input()
for i in xrange(m):
	data = map(int, raw_input().split())
	data = (data[0] - 1, data[1] - 1, data[2])
	k = data[1] - data[0] - data[2] % (data[1] - data[0] + 1)
	s = s[:data[0]] + s[data[0] + k + 1:data[1] + 1]+ s[data[0]:data[0] + k + 1] + s[data[1] + 1:]
print s
