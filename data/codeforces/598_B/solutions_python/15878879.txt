

s = list(raw_input())

m = int(raw_input())

for i in xrange(m):
  l, r, k = map(int, raw_input().split(' '))

  l -= 1

  k %= r - l

  s[l:r] = reversed(list(reversed(s[l:r-k])) + list(reversed(s[r-k:r])))

print ''.join(s)

