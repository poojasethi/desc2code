st = raw_input()
for _ in xrange(input()):
    l, r, k = map(int, raw_input().split())
    center = st[(l-1):r]
    k = - k % (r-l+1)
    st = st[:(l-1)] + center[k:] + center[:k] + st[r:]
print st