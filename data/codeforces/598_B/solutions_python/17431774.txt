s = raw_input()
for _ in xrange(input()):
	l, r, k = [int(x) for x in raw_input().split(' ')]
	k %= (r - l + 1)
	s = s[:l - 1] + s[r - k:r] + s[l - 1:l + (r - l - k)] + s[r:]
print s