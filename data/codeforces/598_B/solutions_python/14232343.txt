s=raw_input()
t = int(raw_input())
for c in xrange(t):
    l,r,k = map(int,raw_input().split())
    k = k % (r - l +1)
    l = l-1
    r = r-1
    s = s[:l]+s[r-k+1:r+1]+s[l:r-k+1]+s[r+1:]
print s
