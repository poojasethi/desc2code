string = list(raw_input())
m = input()
for _ in xrange(m):
	l,r,k = map(int,raw_input().split())
	tmp =  r -1 - ((k-1) % (r-l+1)) 
	new_string = list(string)
	for i in xrange(l-1, r):
		new_string[i] = string[tmp]
		tmp += 1
		if tmp == r:
			tmp = l-1
	string = list(new_string)
print "".join(string)
