#include <iostream>
#include <vector>
#include <algorithm>
#include <cstdio>
using namespace std;
#define rep(i,n) for(int i=0; i<(int)(n); i++)
#define all(c) (c).begin(), (c).end()
#define iter(c) __typeof((c).begin())
typedef long long ll;
const int inf = (1<<28);
char buf[5];

bool valid(string t, string s, int a, int b) {
  int aa = 0, bb = 0;
  rep(i,4) rep(j,4) {
    if(i == j) {
      if(t[i] == s[j]) aa++;
    }
    else {
      if(t[i] == s[j]) bb++;
    }
  }
  return aa == a && bb == b;
}

int main() {
  int n; cin >> n;
  
  vector<bool> x(10000, true);
  
  rep(k,10000) {
    sprintf(buf,"%04d",k);
    string s = string(buf);
    rep(i,4) rep(j,i) if(s[i]==s[j]) x[k] = false;
  }
  
  rep(i,n) {
    string s; int a, b; cin >> s >> a >> b;
    
    rep(j,10000) {
      sprintf(buf,"%04d",j);
      string t = string(buf);
      if(x[j] && !valid(t,s,a,b))
        x[j] = false;
    }
  }
  
  int ans = -1;
  rep(i,10000) if(x[i]) {
    if(ans == -1) ans = i;
    else ans = -2;
  }
  
  if(ans == -1) cout << "Incorrect data" << endl;
  else if(ans == -2) cout << "Need more data" << endl;
  else printf("%04d\n",ans);
  
  return 0;
}
