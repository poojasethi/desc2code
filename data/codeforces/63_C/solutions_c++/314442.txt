#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <cassert>
using namespace std;
#define p(x) cout<<#x<<":"<<x<<"\n"
#define lim 5
#define lim2 11

int n,i,c,s,x,b,j,k;
char A[lim2][lim],str[lim];
int B[lim2],C[lim2],B2[lim2],S[lim2][lim2];

int main()
{
  scanf("%d",&n);
  for(i=0;i<n;i++)
  {
    scanf("%s%d%d",A[i],&B[i],&C[i]);
	assert(B[i]<4 && B[i]>=0 && C[i]>=0 && B[i]+C[i]<=4);
    for(j=0;j<4;j++)
	  S[i][A[i][j]-'0']=1;
  }
  for(i=0;i<10000;i++)
  {
    sprintf(str,"%04d",i);
	memset(B2,0,sizeof B2);
	for(j=0;j<4;j++)
	  B2[str[j]-'0']++;
	for(j=0;j<10 && B2[j]<=1;j++);
	if(j<10)
	  continue;
	for(j=0;j<n;j++)
	{
	  for(k=b=c=0;k<4;k++)
	    b+=A[j][k]==str[k];
      for(k=0;k<10;k++)
	    c+=min(S[j][k],B2[k]);
	  c-=b;
	  if(b!=B[j] || c!=C[j])
	    break;
	}
	if(j==n)
	{
	  s++;
	  x=i;
	}
  }  
  if(!s)
    printf("Incorrect data");
  else if(s>1)
    printf("Need more data");
  else
    printf("%04d",x);
  return 0;
}
