#include<cstdio>

#define	rep(i,n)	for(int i=0;i<(n);i++)

using namespace std;

bool check(int m,int a,int hit,int blow){
	char s[5],t[5];
	sprintf(s,"%04d",m);
	sprintf(t,"%04d",a);
	rep(i,4)rep(j,4)if(s[i]==t[j]){
		if(i==j)	hit--;
		else		blow--;
	}
	return (hit==0 && blow==0);
}

int main(){
	bool num[10000]={};
	rep(i,10)rep(j,10)rep(k,10)rep(l,10){
		if(i==j || i==k || i==l || j==k || j==l || k==l)	continue;
		int a=i*1000+j*100+k*10+l;
		num[a]=true;
	}

	int n;	scanf("%d",&n);
	rep(i,n){
		int a,hit,blow;	scanf("%d%d%d",&a,&hit,&blow);
		rep(j,10000)	num[j]&=check(j,a,hit,blow);
	}

	int ans=-1;
	rep(i,10000){
		if(num[i]){
			if(ans==-1)	ans=i;
			else{ ans=-2; break; }
		}
	}
	if     (ans==-1)	puts("Incorrect data");
	else if(ans==-2)	puts("Need more data");
	else				printf("%04d\n",ans);

	return 0;
}
