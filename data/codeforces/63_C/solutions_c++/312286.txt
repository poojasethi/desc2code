#include<iostream>
#include<iomanip>
using namespace std;
bool no(int x)
{
int a[10];
for(int i=0;i<10;i++) a[i]=0;
for(int i=0;i<4;i++)
{
a[x%10]++;
if(a[x%10]>1) return 0;
x/=10;
}
return 1;
}
int main()
{
int n,i,k=0,t,j,a[15],b[15],c[15],l,o,q,w,y[15][15]={0},u;
cin>>n;
for(i=1;i<=n;i++)
{
cin>>a[i]>>b[i]>>c[i];
t=a[i];
for(j=0;j<4;j++)
{
y[i][t%10]++;
t/=10;
}
}
for(i=0;i<=9999;i++)
{
if(no(i))
{
for(u=1;u<=n;u++)
{
q=w=0;
l=i;
o=a[u];
for(j=0;j<4;j++)
{
if(l%10==o%10)
{
q++;
}
else if(y[u][l%10])
{
w++;
}
l/=10;
o/=10;
}
if(q!=b[u] || w!=c[u])
{
break;
}
}
if(u==n+1)
{
k++,t=i;
}
}
}
if(k==0) cout<<"Incorrect data";
else if(k==1) cout<<setfill('0')<<setw(4)<<t;
else cout<<"Need more data";
return 0;
}