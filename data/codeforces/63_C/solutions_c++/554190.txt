#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
int a[105],b[20];

char s[20][10];
#define two(i) (1<<(i))

int main()
{
	int n;
	while(scanf("%d",&n)==1)
	{
		for(int i = 0; i < n; i++)
		{
			scanf("%s%d%d",s[i],&a[i],&b[i]);
		}
		int ans=-1;
		for(int i = 0; i < 10000; i++)
		{
			char ss[10];
			sprintf(ss,"%04d",i);
			bool ok = 1;
			for(int j = 0; j < 4; j++)
				for(int k = j+1; k < 4; k++)
					if(ss[j]==ss[k])ok=0;
			if(!ok)continue;

			for(int j = 0; j < n; j++)
			{
				int x = 0, y = 0;
				for(int k = 0; k < 4; k++)
				{
					if(ss[k]==s[j][k])x++;
					else
					{
						for(int p = 0; p < 4; p++)
							if(ss[k]==s[j][p])y++;
					}
				}
				if(x!=a[j] || y!=b[j])ok=0;
			}
			if(ok)
			{
				if(ans==-1)ans=i;
				else ans=-2;
			}
		}
		if(ans==-2)puts("Need more data");
		else if(ans==-1)puts("Incorrect data");
		else printf("%04d\n",ans);
	}
	return 0;
}

	 	 	  		  	     	  				