#include <iostream>
#include <sstream>
#include <vector>
#include <algorithm>
#include <cstdio>
using namespace std;

int main()
{
	int n;
	scanf("%d", &n);
	vector <string> a(n);
	vector <int> b(n), c(n);
	int i, j, k, l, m, p, q;
	string ret;
	int cnt = 0;
	for(i = 0; i < n; i++)
	{
			cin >> a[i] >> b[i] >> c[i];
	}
	for(i = 0; i < 10; i++)
	for(j = 0; j < 10; j++)
	if(i == j) continue; else
	for(k = 0; k < 10; k++)
	if(k == i || k == j) continue; else
	for(l = 0; l < 10; l++)
	{
			if(l == i || l == j || l == k) continue;
			bool valid = true;
			stringstream ss;
			string cur;
			int anot = 1000*i + 100 * j + 10*k + l;
			ss << anot;
			ss >> cur;
			while(cur.size() < 4)
				cur = '0' + cur;
			for(m = 0; m < n; m++)
			{
				int bulls = 0, cows = 0;
				for(p = 0; p < 4; p++)
					if(a[m][p] == cur[p])
						bulls++;
				for(p = 0; p < 4; p++)
					for(q = 0; q < 4; q++)
						if(a[m][p] == cur[q])
							cows++;
				cows -= bulls;
				if(!(bulls == b[m] && cows == c[m]))
					valid = false;
			}
			if(valid)
			{
				cnt++;
				ret = cur;
			}
	}
	
	if(cnt == 0)
		cout << "Incorrect data\n";
	else if(cnt == 1)
		cout << ret << endl;
	else 
		cout << "Need more data\n";
	return 0;
}
