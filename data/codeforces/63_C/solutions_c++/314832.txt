#include<iostream>
#include<vector>
#include<cstdio>
#include<algorithm>
#include<string>
using namespace std;


int main(){
	int n; cin >> n;
	string s[n]; int b[n], c[n];
	for(int i = 0; i < n; i++) cin >> s[i] >> b[i] >> c[i];
	vector<string> poss;
	
	for(char c1 = '0'; c1 <= '9'; c1++)
	for(char c2 = '0'; c2 <= '9'; c2++) if(c1 != c2)
	for(char c3 = '0'; c3 <= '9'; c3++) if(c1 != c3 && c2 != c3)
	for(char c4 = '0'; c4 <= '9'; c4++) if(c1 != c4 && c2 != c4 && c3 != c4){
		string t;
		t += c1; 
		t += c2;
		t += c3;
		t += c4;
		bool valid = true;
		for(int i = 0; i < n; i++){
			int bb = 0, mask1 = 0, mask2 = 0;
			for(int j = 0; j < 4; j++)
				if(t[j] == s[i][j]) bb++;
				else mask1 |= 1 << (t[j] - '0'), mask2 |= 1 << (s[i][j] - '0');
			int cc = __builtin_popcount(mask1 & mask2);
			if(b[i] != bb || c[i] != cc) valid = false;
		}
		if(valid) poss.push_back(t);
	}
	if(poss.empty()) cout << "Incorrect data" << endl;
	else if(poss.size() > 1) cout << "Need more data" << endl;
	else cout << poss[0] << endl;
}
