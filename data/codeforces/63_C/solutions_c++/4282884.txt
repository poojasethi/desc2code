#include <iostream>
#include <cstdio>
#include <string>
using namespace std;
int n,i,j,k,l,o,x,b[11],c[11],vr,y,ans;
string s[11],t;
char a;
int main()
{
cin>>n;
for (i=1;i<=n;i++)
cin>>s[i]>>b[i]>>c[i];
for (i=0;i<10;i++)
for (j=0;j<10;j++) if (j!=i)
for (k=0;k<10;k++) if (k!=i && k!=j)
for (l=0;l<10;l++) if (l!=k && l!=i && l!=j) { vr=0;
for (o=1;o<=n;o++)
{
	x=0;y=0;
    a='0'+i;
	if ((s[o][0]==(a)))	x++;
	if ((s[o][1]==(a)))	y++;
	if ((s[o][2]==(a)))	y++;
	if ((s[o][3]==(a)))	y++;
	a='0'+j;
	if ((s[o][1]==(a)))	x++;
	if ((s[o][0]==(a)))	y++;
	if ((s[o][2]==(a)))	y++;
	if ((s[o][3]==(a)))	y++;
	a='0'+k;
	if ((s[o][2]==(a)))	x++;
	if ((s[o][0]==(a)))	y++;
	if ((s[o][1]==(a)))	y++;
	if ((s[o][3]==(a)))	y++; 
	a='0'+l;
	if ((s[o][3]==(a)))	x++;
	if ((s[o][1]==(a)))	y++;
	if ((s[o][0]==(a)))	y++;
	if ((s[o][2]==(a)))	y++;
if (x==b[o] && y==c[o])
	{vr++; 
	}
}
if (vr==n)
	{ans++; 
	t="";t+='0'+i,t+='0'+j,t+='0'+k,t+='0'+l;
}
}
if (ans==1)
cout<<t;
if (ans==0)
	cout<<"Incorrect data";
if (ans>1)
	cout<<"Need more data";
return 0;
}
