#include<stdio.h>
#include<string.h>
char str[15][5];
bool v[11];
int f,res,B[15],C[15],n,A[5];
void lzs(int x,int c)
{
	int i,j,l,a=0,b=0;
	if(c==4)
	{
		for(i=0;i<n;i++)
		{
			a=b=0;
			for(j=0;j<4;j++)
			{
				if(str[i][j]-'0'==A[j])
					a++;
				else
				{
					for(l=0;l<4;l++)
						if(str[i][l]-'0'==A[j])
							b++;
				}
			}
			if(B[i]!=a||C[i]!=b)
				break;
		}
		if(i==n)
		{
			f++;
			res=A[0]*1000+A[1]*100+A[2]*10+A[3];
		}
		return ;
	}
	for(i=0;i<10;i++)
		if(v[i]){v[i]=false;A[c]=i;lzs(i,c+1);v[i]=true;}
}
int main()
{
	int i,j,k,l,z;
	scanf("%d",&n);
	for(i=0;i<n;i++)
	{
		scanf("%s%d%d",str[i],B+i,C+i);
	}
	memset(v,true,sizeof(v));
	
	for(f=i=0;i<10;i++)
	{
		v[i]=false;
		A[0]=i;
		lzs(i,1);
		v[i]=true;
	}
	if(!f)puts("Incorrect data");
	else if(f==1)printf("%04d\n",res);
	else puts("Need more data");
}
