#include<iostream>
#include<sstream>
#include<vector>
#include<algorithm>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<cmath>
#define rep(i,n) for(int i=0;i<n;i++)
#define fr(i,c) for(__typeof (c.begin()) i=c.begin(); i!=c.end(); i++)
#define all(c) (c).begin(), (c).end()
#define pb push_back
using namespace std;

typedef vector<int> vi;
typedef long long ll;

bool ck(int a,int b,int c,int d){
  int x=0,y=0, X[10]={}, Y[10]={};
  rep(i,4){
    if(a%10==b%10)x++;
    else X[a%10]++, Y[b%10]++;
    a/=10; b/=10;
  }
  rep(i,10)if(X[i]&&Y[i])y++;
  return x==c&&y==d;
}
bool ck2(int a){
  int cnt[10]={};
  rep(i,4){
    if(++cnt[a%10]>1)return 0;
    a/=10;
  }
  return 1;
}

void run(){
  int n,a[10],b[10],c[10];
  cin>>n;
  rep(i,n)cin>>a[i]>>b[i]>>c[i];
  int ans=-1;
  rep(i,10000)if(ck2(i)){
    rep(j,n){
      if(!ck(i,a[j],b[j],c[j]))goto FAIL;
    }
    if(ans==-1)ans=i;
    else ans=-2;
  FAIL:;
  }
  if(ans>=0)printf("%04d\n",ans);
  else cout<<(ans==-2?"Need more data":"Incorrect data")<<endl;
}
int main(){
  //rep(i,3)
    run();
  return 0;
}
