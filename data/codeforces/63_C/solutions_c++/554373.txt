#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<string>

using namespace std;

struct Node
{
	int a[4],b,c;
}s[20];

string str;

int main()
{
	int n;
	int i,j,k,f[4];
	int res,cnt=0;
	cin>>n;
	for(i=0;i<n;i++)
	{
		cin>>j>>s[i].b>>s[i].c;
		s[i].a[0]=j/1000;
		j%=1000;
		s[i].a[1]=j/100;
		j%=100;
		s[i].a[2]=j/10;
		j%=10;
		s[i].a[3]=j;
	}
	for(f[0]=0;f[0]<10;f[0]++)
	for(f[1]=0;f[1]<10;f[1]++)
	for(f[2]=0;f[2]<10;f[2]++)
	for(f[3]=0;f[3]<10;f[3]++)
	{
		int tmp=f[0]*1000+f[1]*100+f[2]*10+f[3];
		if(f[0]==f[1] || f[0]==f[2] || f[0]==f[3]) continue;
		if(f[1]==f[2] || f[1]==f[3]) continue;
		if(f[2]==f[3]) continue;
		for(i=0;i<n;i++)
		{
			int c1=0,c2=0;
			for(j=0;j<4;j++)
			{
				if(s[i].a[j]==f[j]) c1++;
			}
			for(j=0;j<4;j++)
			for(k=0;k<4;k++)
			{
				if(s[i].a[j]==f[k]) c2++;
			}
			c2-=c1;
			if(c1!=s[i].b || c2!=s[i].c) break;		
		}
		if(i==n)
		{
			cnt++;
			res=tmp;
		}
	}
	if(cnt==0)
	{
		puts("Incorrect data");
	}
	else if(cnt>1)
	{
		puts("Need more data");
	}
	else
	{
		printf("%04d\n",res);
	}
	return 0;
}
   			  	 		 		  	 	 		 		