#include <iostream>
#include <cstring>
using namespace std;
string s[12];
int x[12],y[12],how=0,ans[5],a[5],n;
bool u[11];
void gen(int k)
{
  if (k==4)
  {
    bool yes=true;
    for(int i=0;i<n && yes;i++)
    {
      int bik=0,kor=0;
      for(int j=0;j<4;j++)
        if (s[i][j]-48==a[j])bik++;
      for(int j=0;j<4;j++)
        for(int t=0;t<4;t++)
          if (s[i][j]-48==a[t] && j!=t)kor++;
      if (bik!=x[i] || kor!=y[i])yes=false;
    }
    if (yes)
    {
      how++;
      for(int j=0;j<4;j++)
        ans[j]=a[j];
    }
  } else 
    for(int i=0;i<10;i++)
      if (!u[i])
      {
        u[i]=true;
        a[k]=i;
        gen(k+1);
        a[k]=0;
        u[i]=false;
      }
}
int main()
{
  cin>>n;
  for(int i=0;i<n;i++)cin>>s[i]>>x[i]>>y[i];
  gen(0);
  //cout<<how<<endl;
  if (how==0)cout<<"Incorrect data";
  else if (how==1)cout<<ans[0]<<ans[1]<<ans[2]<<ans[3];
  else cout<<"Need more data";
  return 0;
}