#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

#define N 11

int n;
int a[N], x[N], y[N];

bool ok(int val) {
    int c[4], cc[4];
    bool f[10] = {0};
    for (int i = 0, v = val; i < 4; ++i) {
        cc[i] = c[i] = v % 10;
        v /= 10;
        f[ c[i] ] = 1;
    }
    sort(cc, cc + 4);
    if (unique(cc, cc + 4) != cc + 4) return 0;

    for (int i = 0; i < n; ++i) {
        int d[4], xx = 0, yy = 0;
        for (int j = 0, v = a[i]; j < 4; ++j) {
            d[j] = v % 10;
            v /= 10;
            if (d[j] == c[j]) {
                ++xx;
            } else if (f[ d[j] ])
                ++yy;
        }
        if ((x[i] != xx) || (y[i] != yy)) return 0;
    }
    return 1;
}

int main() {
    scanf("%d", &n);
    for (int i = 0; i < n; ++i)
        scanf("%d %d %d", &a[i], &x[i], &y[i]);
    int ans = -1;
    for (int i = 0; i < 10000; ++i) if (ok(i)) {
        if (-1 != ans) {
            puts("Need more data");
            return 0;
        } else
            ans = i;
    }
    if (-1 == ans)
        puts("Incorrect data");
    else
        printf("%04d\n", ans);
    return 0;
}
