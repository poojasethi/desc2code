#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
ll  a[2],b[2],s[2],Ans=0;
int mod2[2],mod3[2];

int main()
{
    for (int i = 0; i < 2; ++i) {
        cin >> a[i] >> b[i];
        s[i] = a[i]*b[i];
        while (s[i]%2 == 0) {
            mod2[i]++, s[i]/=2;
        }
        while (s[i]%3 == 0) {
            mod3[i]++, s[i]/=3;
        }
    }
    if (s[1] != s[0]) {
        return cout << -1, 0;
    }
    ll div[2] = {1,1};
    while (mod3[0] != mod3[1]) {
        Ans++;
        int x = mod3[0] > mod3[1] ? 0 : 1;
        --mod3[x], ++mod2[x];
        div[x] *= 3;
        if (a[x]%3 == 0) a[x] = a[x]/3*2;
        else b[x] = b[x]/3*2;
    }
    while (mod2[0] != mod2[1]) {
        Ans++;
        int x = mod2[0] > mod2[1] ? 0 : 1;
        --mod2[x];
        div[x] *= 2;
        if (a[x]%2 == 0) a[x] = a[x]/2;
        else b[x] = b[x]/2;
    }
    cout << Ans << endl;
    for (int i = 0; i < 2; ++i)
        cout << a[i] << " " << b[i] << endl;
}
