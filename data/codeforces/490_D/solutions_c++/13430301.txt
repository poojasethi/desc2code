#include<bits/stdc++.h>
using namespace std;
int cnt[5][4];
long long a[5];
long long ans1[5];
long long ans=0;
#define ll long long
int find(ll a,ll x){
	int ans=0;
	while(!(a%x)){
		a/=x;
		ans++;
	}
	return ans;
}
int main(){
	long long a,b,c,d;
    int steps=0;
	cin>>a>>b>>c>>d;
	//dfs(a[1],a[2],a[3],a[4],steps);
	for(int i=3;i>=2;i--){
		int f1=find(a,i);
		int f2=find(b,i);
		int f3=find(c,i);
		int f4=(find(d,i));
		while(f1+f2!=f3+f4){
			ans++;
			if(f1+f2>f3+f4){
				if(f1){
				 a=(a/i)*(i-1);
				 f1--;
			    }
				else {
				b=(b/i)*(i-1);
				f2--;
			    } 
			}
			else{
				if(f3) {
				c=(c/i)*(i-1);
				f3--;
		    	}
				else{
				d=(d/i)*(i-1);
				f4--;
			    }
			}
		}
	}
	if(a*b!=c*d) cout<<"-1"<<endl;
	else{
		cout<<ans<<endl;
		cout<<a<<" "<<b<<" "<<c<<" "<<d<<endl;
	}
}
