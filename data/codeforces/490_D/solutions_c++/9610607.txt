#include <iostream>
using namespace std;
typedef long long ll;

ll A1, B1, A2, B2;

int count_fac(ll num, ll d)
{
	int ret = 0;
	while (num % d == 0)
	{
		num /= d;
		ret++;
	}
	return ret;
}

int main()
{
	cin >> A1 >> B1 >> A2 >> B2;

	int num31 = count_fac(A1*B1, 3);
	int num32 = count_fac(A2*B2, 3);

	int ans = 0;
	while (num31 > num32)
	{
		if (A1 % 3 == 0)
			A1 = A1/3*2;
		else
			B1 = B1/3*2;
		num31--;
		ans++;
	}
	while (num31 < num32)
	{
		if (A2 % 3 == 0)
			A2 = A2/3*2;
		else
			B2 = B2/3*2;
		num32--;
		ans++;
	}

	int num21 = count_fac(A1*B1, 2);
	int num22 = count_fac(A2*B2, 2);
	while (num21 > num22)
	{
		if (A1 % 2 == 0)
			A1 /= 2;
		else
			B1 /= 2;
		num21--;
		ans++;
	}
	while (num21 < num22)
	{
		if (A2 % 2 == 0)
			A2 /= 2;
		else
			B2 /= 2;
		num22--;
		ans++;
	}

	if (A1*B1 != A2*B2)
		cout << -1 << "\n";
	else
		cout << ans << "\n" << A1 << " " << B1 << "\n" << A2 << " " << B2 << "\n";

	return 0;
}