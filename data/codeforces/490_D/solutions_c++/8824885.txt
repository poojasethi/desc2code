#include<iostream>
#include<algorithm>
using namespace std;
long long A,B,C,D,a,b,t1,t2,ans;
int main()
{
    cin>>A>>B>>C>>D;
    a=A*B;b=C*D;
    while (a%3==0) {a/=3; t1++;}
    while (b%3==0) {b/=3; t2++;}
    ans+=abs(t1-t2);
    
    while (t1<t2 && C%3==0) {C=C/3*2; t2--;}
    while (t1<t2 && D%3==0) {D=D/3*2; t2--;}
    while (t1>t2 && A%3==0) {A=A/3*2; t1--;}
    while (t1>t2 && B%3==0) {B=B/3*2; t1--;}
        
    if (t1!=t2) {cout<<"-1"; return 0;}
    
    a=A*B; b=C*D;
    t1=t2=0;
    
    while (a%2==0) {a/=2; t1++;}
    while (b%2==0) {b/=2; t2++;}
    
    ans+=abs(t1-t2);
    
    while (t1<t2 && C%2==0) {C/=2; t2--;}
    while (t1<t2 && D%2==0) {D/=2; t2--;}
    while (t1>t2 && A%2==0) {A/=2; t1--;}
    while (t1>t2 && B%2==0) {B/=2; t1--;}
    
    if (A*B!=C*D){cout<<"-1"; return 0;}
    
    cout<<ans<<endl<<A<<' '<<B<<endl<<C<<' '<<D<<endl;
    return 0;
}