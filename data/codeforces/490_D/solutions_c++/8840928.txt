#include <iostream>
#include <algorithm>
#define MOD 1000000007
using namespace std;
long long a1,a2,b1,b2,x,y,q1,q2,q;
main(){
     cin>>a1>>b1;x=a1*b1;
     cin>>a2>>b2;y=a2*b2;
     cout<<endl<<endl;
     while(x%3==0){x/=3;q1++;}
     while(y%3==0){y/=3;q2++;}
     q+=abs(q1-q2);
     while(q1>q2 && a1%3==0){a1/=3;a1*=2;q1--;}
     while(q1>q2 && b1%3==0){b1/=3;b1*=2;q1--;}
     while(q1<q2 && a2%3==0){a2/=3;a2*=2;q2--;}
     while(q1<q2 && b2%3==0){b2/=3;b2*=2;q2--;}
     
     q1=0;q2=0;
     x=a1*b1;y=a2*b2;
     
     while(x%2==0){x/=2;q1++;}
     while(y%2==0){y/=2;q2++;}
     q+=abs(q1-q2);
     while(q1>q2 && a1%2==0){a1/=2;q1--;}
     while(q1>q2 && b1%2==0){b1/=2;q1--;}
     while(q1<q2 && a2%2==0){a2/=2;q2--;}
     while(q1<q2 && b2%2==0){b2/=2;q2--;}
     if(a1*b1!=a2*b2){cout<<"-1"<<endl;return 0;}
     
     
     cout<<q<<endl<<a1<<" "<<b1<<endl<<a2<<" "<<b2<<endl;
     
  //   system("PAUSE");
}
