# include <bits/stdc++.h>

using namespace std;

typedef long long int ll;

ll f(ll n,ll k){
	ll cnt = 0;
	while(n % k == 0)
		n /= k, cnt++;
	return cnt;
}

int main(){
	ll a1, b1;
	ll a2, b2;
	
	cin >> a1 >> b1;
	cin >> a2 >> b2;
	
	ll ans = 0;

	while(f(a1 * b1, 3) > f(a2 * b2, 3)){
		ans++;
		if(a1 % 3 == 0){
			a1 /= 3;
			a1 *= 2;
		}
		else{
			b1 /= 3;
			b1 *= 2;
		}
	}

	while(f(a1 * b1, 3) < f(a2 * b2, 3)){
		ans++;
		if(a2 % 3 == 0){
			a2 /= 3;
			a2 *= 2;
		}
		else{
			b2 /= 3;
			b2 *= 2;
		}
	}


	while(f(a1 * b1, 2) > f(a2 * b2, 2)){
		ans++;
		if(a1 % 2 == 0)
			a1 /= 2;
		else
			b1 /= 2;
	}

	while(f(a1 * b1, 2) < f(a2 * b2, 2)){
		ans++;
		if(a2 % 2 == 0)
			a2 /= 2;
		else
			b2 /= 2;
	}

	if(a1 * b1 != a2 * b2){
		cout << "-1" << endl;
		return 0;
	}

	cout << ans << endl;
	cout << a1 <<" "<< b1 << endl << a2 <<" " << b2 << endl;

	return 0;
}
