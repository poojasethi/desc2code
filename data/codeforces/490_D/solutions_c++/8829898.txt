#include <iostream>
#include <string>
#include <vector>

using namespace std;

int main() {
  long long a1,b1,a2,b2;
  cin >> a1 >> b1 >> a2 >> b2;
  long long s1=a1*b1, s2=a2*b2, sec=0;
  while ((s1 % 3==0) && (s2 % 3==0)) s1/=3, s2/=3;
  while (s1 % 3==0) {
    s1=2*s1/3, sec++;
    if (a1 % 3==0) a1=2*a1/3; 
    else b1=2*b1/3;
  };
  while (s2 % 3==0) {
    s2=2*s2/3, sec++;
    if (a2 % 3==0) a2=2*a2/3; 
    else b2=2*b2/3;
  }
  while ((s1 % 2==0) && (s2 % 2==0)) s1/=2, s2/=2;
  while (s1 % 2==0) {
    s1/=2, sec++;
    if (a1 % 2==0) a1/=2; 
    else b1/=2;
  }
  while (s2 % 2==0) {
    s2/=2, sec++;
    if (a2 % 2==0) a2/=2; 
    else b2/=2;
  }
  if (s1 == s2) 
    cout << sec << endl << a1 << " " << b1 << endl << a2 << " " << b2 << endl;
  else
    cout << -1 << endl;
  return 0;
};
