#include<cstdio>
int a,b,c,d,i,cnt=0;
int f(int num){
    return num%i?0:1+f(num/i);
}
int main(){
    scanf("%d %d %d %d",&a,&b,&c,&d);
    for(i=3;i>=2;i--)
    while(f(a)+f(b)-f(c)-f(d)!=0){
        cnt++;
        if(f(a)+f(b)>f(c)+f(d)){
            if(f(a)>0) a=a/i*(i-1);
            else b=b/i*(i-1);
        }else{
            if(f(c)>0) c=c/i*(i-1);
            else d=d/i*(i-1);
        }
    }
    if(1LL*a*b != 1LL*c*d) printf("-1\n");
    else printf("%d\n%d %d\n%d %d\n",cnt,a,b,c,d);
    return 0;
}