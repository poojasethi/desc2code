#include <bits/stdc++.h>

using namespace std;
typedef long long ll;
ll a1,a2,b1,b2,ans;

bool solve(int n) {
    ll x=0, y=0, s1 = a1*b1, s2 = a2*b2;
    while (s1%n==0) x++,s1/=n;
    while (s2%n==0) y++,s2/=n;
    ans += abs(x-y);
    while (x>y && a1%n==0) a1-=a1/n,x--;
    while (x>y && b1%n==0) b1-=b1/n,x--;
    while (y>x && a2%n==0) a2-=a2/n,y--;
    while (y>x && b2%n==0) b2-=b2/n,y--;
    if (n==3) return (x == y);
    else return (a1*b1==a2*b2);
}

int main()
{
    ios_base::sync_with_stdio(0); cin.tie(0);
    #ifndef ONLINE_JUDGE
    freopen("Chocolate.inp","r",stdin);
    freopen("Chocolate.out","w",stdout);
    #endif // ONLINE_JUDGE
    cin >> a1 >> b1 >> a2 >> b2;
    if (solve(3) && solve(2)) cout << ans << '\n' << a1 << ' ' << b1 << '\n' << a2 << ' ' << b2;
    else cout << -1;
    return 0;
}
