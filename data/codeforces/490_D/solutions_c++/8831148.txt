#include <iostream>
#include <cmath>
using namespace std;
typedef long long ll;

int main() {
	ll a,b,c,d;
	cin>>a>>b>>c>>d;
	int ans=0;
	long long s1=a*b,s2=c*d;
	int t1=0,t2=0;
	while(s1%3==0&&s1) s1/=3,t1++;
	while(s2%3==0&&s2) s2/=3,t2++;
	ans=abs(t2-t1);
	while(t2>t1&&c%3==0&&c) c=c*2/3,t2--;
	while(t2>t1&&d%3==0&&d) d=d*2/3,t2--;
	while(t2<t1&&a%3==0&&a) a=a*2/3,t1--;
	while(t2<t1&&b%3==0&&b) b=b*2/3,t1--;
	s1=a*b,s2=c*d;
	t1=t2=0;
	while(s1%2==0&&s1) s1/=2,t1++;
	while(s2%2==0&&s2) s2/=2,t2++;
	ans+=abs(t2-t1);
	while(t2>t1&&c%2==0&&c) c/=2,t2--;
	while(t2>t1&&d%2==0&&d) d/=2,t2--;
	while(t2<t1&&a%2==0&&a) a/=2,t1--;
	while(t2<t1&&b%2==0&&b) b/=2,t1--;
	if(a*b!=c*d) cout<<"-1"<<endl;
	else {
		cout<<ans<<endl;
		cout<<a<<' '<<b<<endl;
		cout<<c<<' '<<d<<endl;
	}
	return 0;
}