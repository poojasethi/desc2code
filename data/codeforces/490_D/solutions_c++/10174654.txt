#include<bits/stdc++.h>
#define ll long long
using namespace std;

int f(ll a, ll b)
{
    ll r=0;
    while(a%b==0)
    {
        r++;
        a/=b;
    }
    return r;
}
int main()
{
    ll a, b, c, d;
    cin>>a>>b>>c>>d;
    ll res=0;
    for(int i=3; i>1; i--)
    {
        while(f(a, i)+f(b, i)!=f(c, i)+f(d, i))
        {
            res++;
            if(f(a, i)+f(b, i)>f(c, i)+f(d, i))
            {
                if(f(a, i)) a=(a/i)*(i-1);
                else b=(b/i)*(i-1);
            }
            else
            {
                if(f(c, i)) c=(c/i)*(i-1);
                else d=(d/i)*(i-1);
            }
        }
    }
    if(a*b==c*d)
    cout<<res<<endl<<a<<" "<<b<<endl<<c<<" "<<d;
    else
    cout<<-1;
}
