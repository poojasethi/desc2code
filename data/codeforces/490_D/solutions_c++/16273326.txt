#include<cstdio>

int Get(int n,int i)
{
	int cnt=0;
	while(n%i==0)
	{
		cnt++;
		n/=i;
	}
	return cnt;
}

int main()
{
	int a,b,c,d,ans;
	int numa,numb,numc,numd;
	while(~scanf("%d%d%d%d",&a,&b,&c,&d))
	{
		ans=0;
		//3
		while(1)
		{
			numa=Get(a,3),numb=Get(b,3),numc=Get(c,3),numd=Get(d,3);
			if((numa+numb-numc-numd)==0) break;
			ans++;
			if((numa+numb)>(numc+numd))
			{
				if(numa>0) a=(a*2)/3;
				else b=(b*2)/3;
			}
			else
			{
				if(numc>0) c=(c*2)/3;
				else d=(d*2)/3;
			}
		}
		//2
		while(1)
		{
			numa=Get(a,2),numb=Get(b,2),numc=Get(c,2),numd=Get(d,2);
			if((numa+numb-numc-numd)==0) break;
			ans++;
			if((numa+numb)>(numc+numd))
			{
				if(numa>0) a=a/2;
				else b=b/2;
			}
			else
			{
				if(numc>0) c=c/2;
				else d=d/2;
			}
		}
		if(1LL*a*b!=1LL*c*d) printf("-1\n");
		else
		{
			printf("%d\n",ans);
			printf("%d %d\n",a,b);
			printf("%d %d\n",c,d);
		}
	}
	return 0;
}
 	  	   		 		 		   		 		  				