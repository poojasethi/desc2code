#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
int a,b,c,d,cnt=0;
int c3(int num){
    if(num%3==0) return 1+c3(num/3);
    else return 0;
}
int c2(int num){
    if(num%2==0) return 1+c2(num/2);
    else return 0;
}
int main(){
    scanf("%d %d %d %d",&a,&b,&c,&d);
    while(c3(a)+c3(b)-c3(c)-c3(d)!=0){
        cnt++;
        if(c3(a)+c3(b)>c3(c)+c3(d)){
            if(c3(a)>0) a=a/3*2;
            else b=b/3*2;
        }else{
            if(c3(c)>0) c=c/3*2;
            else d=d/3*2;
        }
    }
    while(c2(a)+c2(b)-c2(c)-c2(d)!=0){
        cnt++;
        if(c2(a)+c2(b)>c2(c)+c2(d)){
            if(c2(a)>0) a=a/2;
            else b=b/2;
        }else{
            if(c2(c)>0) c=c/2;
            else d=d/2;
        }
    }
    if(1LL*a*b != 1LL*c*d) printf("-1\n");
    else printf("%d\n%d %d\n%d %d\n",cnt,a,b,c,d);
    return 0;
}