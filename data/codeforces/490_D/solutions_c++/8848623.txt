
#include <iostream>
#include<cmath>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<vector>
#include<stack>
#include<queue>

using namespace std;

int n,i,x;
long long cur,cx,cy;

int main() {


 // freopen("a.txt","r",stdin);
  long long a1,b1,a2,b2,s1,s2,ans=0;
  cin>>a1>>b1>>a2>>b2;
  s1=a1*b1,s2=a2*b2;
  while(s1%3==0 and s2%3==0)s1/=3,s2/=3;

  while(s1%3==0)
  {
      s1/=3,s1*=2;
      ans++;
      if(a1%3==0){a1/=3;a1*=2;}
      else b1/=3,b1*=2;
  }

  while(s2%3==0)
  {
      s2/=3,s2*=2;
      ans++;
      if(a2%3==0){a2/=3;a2*=2;}
      else b2/=3,b2*=2;
  }
while(s1%2==0 and s2%2==0)s1/=2,s2/=2;
   while(s1%2==0)
  {
      s1/=2;
      ans++;
      if(a1%2==0)a1/=2;
      else b1/=2;
  }

  while(s2%2==0)
  {
      s2/=2;
      ans++;
      if(a2%2==0)a2/=2;
      else b2/=2;
  }

  if(s1==s2)cout<<ans<<endl<<a1<<" "<<b1<<endl<<a2<<" "<<b2<<endl;
  else cout<<-1<<endl;
  return 0;
}




