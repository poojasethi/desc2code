#include <bits/stdc++.h>
#define fi first
#define se second
using namespace std;

typedef pair < int , int > ii;
typedef pair < int , ii > iii;

const int maxn = 2525;

int n,a[maxn][maxn],push;
bitset < maxn > b[maxn];
iii way[maxn*maxn];

void bad_end(){
	puts("NOT MAGIC");
	exit(0);
}

int main(){
	
	scanf("%d",&n);
	
	b[0].set();
	for( int i = 1 ; i <= n ; i++ ){
		b[i].set();
		for( int j = 1 ; j <= n ; j++ ){
			scanf("%d",&a[i][j]);
			way[push++] = iii(a[i][j] , ii(i , j));
			if( i == j and a[i][j] )
				bad_end();
		}
	}
	
	for( int i = 1 ; i <= n ; i++ )
		for( int j = 1 ; j <= n ; j++ )
			if( a[i][j] != a[j][i] )
				bad_end();
	
	sort(way , way + push);
	for( int i = 0 ; i < push ; ){
		int j = i;
		while( j < push and way[j].fi == way[i].fi ) j++;
		for( int k = i ; k < j ; k++ )
			if( (b[way[k].se.fi] | b[way[k].se.se]) != b[0] ) bad_end();
		for( int k = i ; k < j ; k++ )
			b[way[k].se.fi][way[k].se.se] = 0;
		i = j;
	}
	
	puts("MAGIC");
	
	return 0;	
}
