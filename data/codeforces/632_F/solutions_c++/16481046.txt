#include<algorithm>
#include<cstdio>
#include<cstdlib>
#include<iostream>
#include<cmath>
using namespace std;
int n,i,j,p,t,a[2501][2501],d[2501],f[2501],la[6500001],lb[6500001],fi[2501],b[2501];
bool e[2501];
void add(int x,int y)
{
	la[++t]=y; lb[t]=fi[x]; fi[x]=t;
	la[++t]=x; lb[t]=fi[y]; fi[y]=t;
}

void bfs(int x)
{
	for (int i=1;i<=n;i++) e[i]=false;
	e[x]=true;
	b[1]=x;
	d[x]=0;
	for (int he=1,ta=1;he<=ta;he++)
		for (int k=fi[b[he]];k;k=lb[k])
			if (!e[la[k]])
			{
				b[++ta]=la[k];
				e[la[k]]=true;
				d[la[k]]=max(d[b[he]],a[la[k]][b[he]]);
				if (a[x][la[k]]!=d[la[k]]) 
				{
					printf("NOT MAGIC");
					exit(0);
				}
			}
}

int main()
{
		scanf("%d\n",&n);
		for (i=1;i<=n;i++,scanf("\n"))
			for (j=1;j<=n;j++)
			{
				scanf("%d",&a[i][j]);
				if ((i==j && a[i][j]) || (i>j && a[i][j]!=a[j][i]))
				{
					printf("NOT MAGIC");
					return 0;
				}
			}
		for (i=0;i<=n;i++) d[i]=1e9;
		d[1]=0;
		for (i=1;i<=n;i++)
		{
			p=0;
			for (j=1;j<=n;j++)
				if (!e[j] && d[j]<d[p]) p=j;
			e[p]=true;
			if (f[p]) add(p,f[p]);
			for (j=2;j<=n;j++)
				if (!e[j] && a[p][j]<d[j])
				{
					d[j]=a[p][j];
					f[j]=p;
				}
		}
		for (i=1;i<=n;i++) 
		bfs(i);
		printf("MAGIC");
}
