#include <stdio.h>
#include <iostream>
using namespace std;

#define long long long
#define f0(i,n) for (int i=0; i<n; i++)
int n, nn, k;
long a[24], s[1<<24], F[1<<24], b[2];

main(){
    cin >> n; nn=(1<<n);
    f0(i,n) { cin >> a[i]; s[1<<i]=a[i]; }
    f0(i,nn) s[i]=s[i^(i&-i)]+s[i&-i];

    b[0]=b[1]=-1;
    cin >> k;
    f0(i,k) cin >> b[i];

    F[0]=1;
    f0(pos,nn) {
        if (s[pos]==b[0] || s[pos]==b[1]) F[pos]=0;
        else {
            for (int i=pos; i>=1; i-=i&-i)
            F[pos] += F[pos ^ (i&-i)];
            F[pos] %= 1000000007;
        }
    }
    cout << F[nn-1] << endl;
}
