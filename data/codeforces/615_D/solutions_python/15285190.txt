MOD = 10 ** 9 + 7
m = input()
p = {}
z=map(int,raw_input().split())
for i in z:
    p[i] = p.get(i,0L) + 1

base = 1
for k,v in p.items():
    base *= v+1

ans = 1
if base % 2 == 1:
    for k,v in p.items():
        ans = (ans * long(pow(k, v/2, MOD))) % MOD
    ans = pow(ans, base, MOD)
else:
    for k,v in p.items():
        ans = (ans * long(pow(k, v, MOD))) % MOD
    ans = pow(ans, base/2, MOD)

print ans