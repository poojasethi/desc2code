#!/usr/bin/python

import os
import sys
import itertools

MOD = 10 ** 9 + 7

def solve(f):
    m = f.read_int()
    p = {}

    for i in f.read_int_list():
        p[i] = p.get(i,0L) + 1

    base = 1
    for k,v in p.items():
        base *= v+1

    ans = 1
    if base % 2 == 1:
        for k,v in p.items():
            ans = (ans * long(pow(k, v/2, MOD))) % MOD
        ans = pow(ans, base, MOD)
    else:
        for k,v in p.items():
            ans = (ans * long(pow(k, v, MOD))) % MOD
        ans = pow(ans, base/2, MOD)

    return ans


class Reader(object):
    def __init__(self, filename=None):
        if filename: self.f = open(filename)
        else: self.f = sys.stdin

    def read_int(self):
        return int(self.f.readline().strip())
    def read_float(self):
        return float(self.f.readline().strip())
    def read_long(self):
        return long(self.f.readline().strip())
    def read_str(self):
        return self.f.readline().strip()

    def read_int_list(self):
        return [int(item) for item in self.f.readline().split()]
    def read_float_list(self):
        return [float(item) for item in self.f.readline().split()]
    def read_long_list(self):
        return [long(item) for item in self.f.readline().split()]
    def read_str_list(self):
        return self.f.readline().split()

if __name__ == '__main__':
    filename = sys.argv[1] if len(sys.argv)>1 else None
    f = Reader(filename)
    print solve(f)
