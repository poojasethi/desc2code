MOD = 10**9 + 7
P = [0] * 200001

m = input()
ps = map(int, raw_input().split())
for p in ps:
    P[p] += 1
ans = count = 1
for p, e in enumerate(P):
    if e:
        tmp = 1
        prev = ans
        next_ans = 1
        pp = pow(p, count, MOD)
        for i in xrange(e+1):
            next_ans *= tmp * prev
            next_ans %= MOD
            tmp *= pp
            tmp %= MOD
        count *= e+1
        count %= MOD-1
        ans = next_ans
print ans
