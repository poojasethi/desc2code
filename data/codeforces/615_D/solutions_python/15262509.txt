#!/usr/bin/python

m = int(raw_input())
p = map(int, raw_input().split())

from collections import Counter

c = Counter(p)

MOD=10**9+7
MOD1=MOD-1

prod = 1
even = False
for k in c.values():
    prod *= (k+1)
    prod %= MOD1

    # divide now unless all prime exponents k are even
    if not even and prod % 2 == 0:
        prod = prod / 2
        even = True

a = 1

for p, k in c.items():
    # divide later
    if not even:
        assert k % 2 == 0
        k /= 2

    a *= pow(p, prod * k, MOD)
    a %= MOD

print a
