from functools import reduce

m = int(raw_input())
p = {}
tok = [int(x) for x in raw_input().split()]
for i, pr in enumerate(tok):
    if pr in p: p[pr] += 1
    else: p[pr] = 1

MOD = 1000000007
n = reduce(lambda x, y: x * y % MOD, tok)
N = reduce(lambda x, y: x * y, (p[i] + 1 for i in p))
if N % 2 == 0:
    print pow(n, N // 2, MOD)
else:
    tmp = reduce(lambda x, y: (x * y) % MOD, (pow(i, j // 2, MOD) for i, j in p.items()))
    print pow(tmp, N, MOD)
