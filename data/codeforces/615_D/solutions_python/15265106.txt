from collections import Counter
from operator import __mul__
mod = 10 ** 9 + 7




n = input()
p = map(int, raw_input().split())
p = Counter(p)

prod = 1
exp = 1
perfsq=1
fl=0

for x,a in p.items():
    if(a%2==1):
        fl=1


if(fl):
    for x,a in p.items():
        exp*=(a+1)
        prod *= pow(x,(a),mod)
        prod%=mod
    print pow(prod,exp/2,mod)


else:
    for x,a in p.items():
        exp*=(a+1)
        prod *= pow(x,a/2,mod)
        prod%=mod

    print pow(prod,exp,mod)





