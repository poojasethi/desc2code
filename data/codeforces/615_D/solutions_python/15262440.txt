#!/usr/bin/python

m = int(raw_input())
p = map(int, raw_input().split())

from collections import Counter
from operator import __mul__

c = Counter(p)

MOD=10**9+7
MOD1=MOD-1

prod = 1
for k in c.values():
    prod *= (k+1)

a = 1

if prod % 2 == 0:
    prod2 = prod/2
    prod2 %= MOD1
    for p, k in c.items():
        a *= pow(p, prod2 * k, MOD)
        a %= MOD
else:
    # k is even
    prod %= MOD1
    for p, k in c.items():
        pk = prod * (k / 2)
        #pk %= MOD1
        a *= pow(p, pk, MOD)
        a %= MOD

print a
