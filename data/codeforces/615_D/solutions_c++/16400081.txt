#include<stdio.h>
#include<math.h>
#define M 1000000007
long long p(int x,int y){
	int i;
	long long ans=1;
	for(i=1;i<=y;++i){
		ans*=x;
		ans%=M;
	}
	return ans;
}
int main(){
	int i,m,a[200005]={0},input,status1=1,status2=1;
	long long n=1;
	scanf("%d",&m);
	for(i=1;i<=m;++i){
		scanf("%d",&input);
		++*(a+input);
	}
	for(i=1;i<200001;++i){
		if(*(a+i)%2){
			status1=0;
			break;
		}
	}
	if(status1){
		status2=0;
		for(i=1;i<200001;++i){
			n*=p(i,a[i]/2);
			n%=M;
		}
	}
	else{
		for(i=1;i<200001;++i){
			n*=p(i,a[i]);
			n%=M;
		}
	}
	for(i=1;i<200001;++i){
		if(*(a+i)){
			if(status2&&*(a+i)%2){
				n=p(n,(*(a+i)+1)/2);
				status2=0;
			}
			else{
				n=p(n,*(a+i)+1);
			}
		}
	}
	n=n%M;
	printf("%I64d\n",n);
	return 0;
}