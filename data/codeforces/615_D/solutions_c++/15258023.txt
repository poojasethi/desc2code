#include <bits/stdc++.h>
using namespace std;
#define ll long long
const int mod = 1e9+7;
const int N = 2e5+5;
int ar[N],cc[N];
ll pwd(ll x,ll c){
	if(c==0)return 1;
	if(c&1)return (pwd(x,c-1)*x)%mod;
	ll ret=pwd(x,c/2);
	return (ret*ret)%mod;
}
ll l[N],r[N];
int main(){
	int maxi=0,x,n,i;cin>>n;
	for(i=0;i<n;++i)cin>>ar[i],maxi = max(maxi,ar[i]);
	sort(ar,ar+n);
	memset(cc,0,sizeof(cc));
	for(i=0;i<n;++i)
		cc[ar[i]]++;
	ll div,tt,all=1,ret=1, z,go;
	l[0]=1;
	for(i=1;i<=maxi;++i){
		l[i]= (l[i-1]*(cc[i]+1))%(mod-1);
	}
	r[maxi+1]= 1;
	for(i=maxi;i>0;--i)
		r[i]= (r[i+1]*(cc[i]+1))%(mod-1);
	for(i=1;i<=maxi;++i){
		if(cc[i]==0)continue;
		z = ( (ll)(cc[i]+1)*(cc[i]) )/2;
		tt= pwd(i,z);
		ll all = (l[i-1]*r[i+1])%(mod-1);
		ll zzz = pwd(tt,all);
		ret = (ret*zzz)%mod;
	}
	cout<<ret<<endl;
}
