#include<cstdlib>
#include<algorithm>
#include<iostream>
using namespace std;
const long long mod=1e9+7;
int n,p;
long long a[200010],tot[200010];
long long ans,ans1,fx;
long long pow(long long a,long long p)
{
	if (!p) return 1ll;
	if (p==1ll) return a;
	if (p==2ll) return a*a % mod;
	if (p & 1) return pow(a*a % mod ,p / 2) * a % mod;
	return pow(a * a % mod , p/2); 
}
int main()
{
	cin >> n;
	ans=1ll;
	for (int i=1;i<=n;++i)
	 cin >> a[i],ans=ans*a[i] % mod;
	sort(a+1,a+1+n);
	p=1;tot[1]=1;
	for (int i=2;i<=n;++i)
	 if (a[i]==a[p]) tot[p]++;
	 else a[++p]=a[i],tot[p]++;
	ans1=ans=1ll;
	for (int i=1;i<=p;++i)
	{
		fx=pow(a[i],(tot[i]+1)*tot[i]/2);
		ans=pow(ans,tot[i]+1)*pow(fx,ans1) % mod;
		ans1=ans1*(tot[i]+1) % (mod-1);
	}
	cout << ans << endl;
	return 0;
}
