#include<bits/stdc++.h>
using namespace std;
typedef long long int uli;
const int mx=2e5+10;
const uli mod=1e9+7;
uli p[mx],e[mx];
uli f[2];
uli fxp(uli b,uli x){
   uli a=1;
   for(;x!=0;b=b*b%mod,x>>=1)
      if(x&1ll)a=a*b%mod;   
   return a;
}
int main(){
   int n,c=0;
   scanf("%d",&n);
   for(int i=0;i<n;i++)scanf("%lld",p+i);
   sort(p,p+n);   
   for(int i=0;i<n;){
      uli pi=p[i];
      while(i<n && p[i]==pi)i++,e[c]++;
      p[c++]=pi;
   }
   int rw=0;
   f[0]=1;
   uli q=1;
   for(int i=0;i<c;i++){
      rw^=1;
      f[rw]=1;
      uli pe=1;
      for(int j=0;j<=e[i];j++){
         f[rw]=f[rw]*f[rw^1]%mod*fxp(pe,q)%mod;
         pe=pe*p[i]%mod;
      }
      q=q*uli(e[i]+1)%(mod-1);
   }
   printf("%lld\n",f[rw]);
   return 0;
}
