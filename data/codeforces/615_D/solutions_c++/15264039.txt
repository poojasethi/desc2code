#include<bits/stdc++.h>
using namespace std;
map<long long,long long>prime;
long long mod=1000000007;
long long fast_exp(long long a,long long b)
{
	long long val;
	if (b==1)
		return a;
	else
	{
		val=fast_exp(a,b/2);
		if (b%2==0)
			return (val*val)%mod;
		else
			return ((val*val)%mod*a)%mod;
	}
}
int main()
{
int n;long long temp;
cin>>n;int i;
for(i=0;i<n;i++)
{
	cin>>temp;
	prime[temp]++;
}
map<long long,long long>:: iterator it;
long long p,count;long long ans;long long result=1,d=1;
for(it=prime.begin();it!=prime.end();it++)
{
	count=it->second;
	p=it->first;
	temp=fast_exp(p,(count*(count+1))/2);
	result=(fast_exp(result,(count+1)%(mod-1))*fast_exp(temp,d))%mod;
	d=d*(count+1)%(mod-1);
}
cout<<result%mod<<"\n";
	return 0;
}