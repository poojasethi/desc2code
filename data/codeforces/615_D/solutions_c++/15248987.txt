#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int mm=int(1e9)+7;
int m,a[200070];
typedef long long ll;
ll b[200050],c[200070],ans,sum;
inline ll ksm(ll x,ll y)
{
	ll r=1;
	while (y)
	{
		if (y&1) r=r*x%mm;
		x=x*x%mm;	 y>>=1;
	}
	return r;
}
int main()
{
	scanf("%d",&m);
	for (int i=1;i<=m;++i) scanf("%d",a+i);
	sort(a+1,a+m+1);
	int s=1;	b[1]=a[1];	c[1]=1;
	for (int i=2;i<=m;++i)
		if (a[i]==a[i-1]) ++c[s];
		else {
			b[++s]=a[i];
			c[s]=1;
		}
	ans=1; sum=1;	ll tmp,p;
	for (int i=1;i<=s;++i) {
		p=1,tmp=ans;
		ans=1;
		for (int j=0;j<=c[i];++j) {
			ans=ans*tmp%mm*ksm(p,sum)%mm;
			p=p*b[i]%mm;
		}
		sum=sum*(c[i]+1)%(mm-1);
	}
	cout<<ans<<endl;
}