#include <bits/stdc++.h>
using namespace std;
typedef long long LL;
typedef map<int,LL>::iterator IT;
map<int,LL>mp;
LL c=1;
const LL mod=1000000007LL;
LL pow_mod(LL a,LL n,LL mod)
{
    LL ans=1LL;
    while(n)
    {
        if(n&1)
            ans=ans*a%mod;
        a=a*a%mod;
        n>>=1;
    }
    return ans;
}
const LL m2=(mod-1)<<1;
int main()
{
    int i,j,m;
    scanf("%d",&m);
    mp.clear();
    while(m--)
    {
        scanf("%d",&j);
        ++mp[j];
    }
    for(IT it=mp.begin();it!=mp.end();++it)
        c=c*(1LL+it->second)%m2;
    LL ans=1LL;
    for(IT it=mp.begin();it!=mp.end();++it)
        ans=ans*pow_mod(it->first,(it->second*c%m2)>>1,mod)%mod;
    printf("%I64d\n",ans);
    return 0;
}
