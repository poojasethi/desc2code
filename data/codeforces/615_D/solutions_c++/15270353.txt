#include<iostream>
#include<cstdio>
using namespace std;
typedef long long LL;
const LL Mod=1000000007;
LL a[200005],pre[200005],ne[200005];
LL QuickMi(LL b,LL p)
{   LL ans=1;
    while(p)
      {if(p&1)ans=(ans*b)%Mod;
       p/=2;
       b=b*b%Mod;
      }
    return ans;
}
int main()
{   LL n,i,j,x,ans=1;
    cin>>n;
    for(i=1;i<=n;i++){cin>>x;a[x]++;}
    pre[0]=ne[200001]=1;
    for(i=1;i<=200000;i++)pre[i]=pre[i-1]*(a[i]+1)%(Mod-1);
    for(i=200000;i>=1;i--)ne[i]=ne[i+1]*(a[i]+1)%(Mod-1);
    for(i=1;i<=200000;i++)
       for(j=1,x=1;j<=a[i];j++)
         {x=(x*i)%Mod;
          ans=QuickMi(x,(pre[i-1]*ne[i+1])%(Mod-1))*ans%Mod;
         }
    cout<<ans;
    return 0;
}
