#include <bits/stdc++.h> 
using  namespace std ; 
const int MOD = 1000000007; 
typedef  long  long ll ; 
int cnt[200009];



ll qpow(ll x, int n) {
    ll res = 1;
    while(n) {
        if(n&1) res = res * x % MOD;
        n >>= 1;
        x = x * x % MOD;
    }
    return res;
}
int main(){
int n, x;
    cin >> n;
    while(n--) {
        cin >> x;
        ++cnt[x];
    }
    ll ans = 1, tot = 1;
    for(int i = 2;i <= 200000; ++i) if(cnt[i]) {
        ans = qpow(ans, cnt[i]+1) * qpow(qpow(i, tot), (ll)cnt[i]*(cnt[i]+1)/2%(MOD-1)) % MOD;
        tot = tot * (cnt[i] + 1) % (MOD - 1);
    }
    cout << ans << endl;
    return 0;		
}
