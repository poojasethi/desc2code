#include <bits/stdc++.h>

using namespace std;

typedef long long ll;

#define pii pair<int,int>
#define pll pair<ll,ll>
#define PB push_back
#define MP make_pair
#define N 200001
#define P 1000000007

int a[N+1];

ll modexp(int a, ll n){
	ll x = a, y = 1;

	while(n>0){
		if(n%2)
			y = (y*x)%P;
		else;

		x = (x*x)%P;

		n/=2;
	}

	return y;
}

int main(){
	int n,m,i,j,k;
	ll E,ans;

	scanf("%d", &n);

	while(n--){
		scanf("%d", &m);
		a[m]++;
	}

	for(i=0,k=1,E=1;i<N;i++){
		if(k==1 && a[i]%2==1){
			E = (E*((a[i]+1)/2))%(P-1);
			k=0;
		}
		else
			E = (E*(a[i]+1))%(P-1);
	}

	// cout << E << ' ' << k << '\n';

	for(i=0,ans=1;i<N;i++){
		if(a[i]==0)
			continue;

		a[i] /= (k+1);
		ans = (ans * modexp(i,(a[i]*E)%(P-1)))%P;
		// cout << i << ' ' << a[i] << ' ' << ans << '\n';
	}

	cout << ans << '\n';	

	return 0;
}
