#include <bits/stdc++.h>

using namespace std;

typedef unsigned long long ll;
const ll MOD = 1e9+7;

ll M(ll base, ll exp)
{
    ll res=1;
    while(exp>0)
    {
       if(exp%2==1)
            res=(res*base)%MOD;

       base=(base*base)%MOD;
       exp/=2;
    }

    return res%MOD;
}

int main()
{
    long long m;
    scanf("%I64d", &m);

    map<long long, long long> v;
    for (long long i(0);i<m;i++)
    {
        long long a;
        scanf("%I64d", &a);
        v[a]++;
    }

    ll d = 1;
    ll ans = 1;
    for (long long i=1;i<=2e5;i++)
    {
        ll cnt = v[i];
        ll fp = M(i, (cnt + 1) * cnt / 2);
        ans = M(ans, (cnt + 1)) * M(fp, d) % MOD;
        d = d * (v[i] + 1) % (MOD - 1);
    }

    printf("%I64d\n", ans);

    return 0;
}
