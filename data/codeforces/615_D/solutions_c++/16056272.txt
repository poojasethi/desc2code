#include<bits/stdc++.h>

#define FI(i,a,b) for(int i=(a);i<=(b);i++)
#define FD(i,a,b) for(int i=(a);i>=(b);i--)

#define LL long long
#define mod 1000000007

using namespace std;

int n,s[200005],x;
bool ps=true;
LL cur=1,ans=1;

LL po(LL a,LL b){
  LL c=1,d=a;
  while(b){
    if(b&1) c=c*d%mod;
    d=d*d%mod;
    b>>=1;
  }
  return c;
}

int main(){
  scanf("%d",&n);
  FI(i,1,n) scanf("%d",&x),s[x]++;
  FI(i,1,200000) if(s[i]&1) ps=false;
  if(ps){
    FI(i,1,200000) cur=cur*po(i,s[i]/2)%mod;
    FI(i,1,200000) ans=ans*(s[i]+1)%(mod-1);
  }
  else{
    FI(i,1,200000) cur=cur*po(i,s[i])%mod;
    FI(i,1,200000){
      if((s[i]&1) && !ps){
        ps=true;
        ans=ans*((s[i]+1)/2)%(mod-1);
      }else ans=ans*(s[i]+1)%(mod-1);
    }
  }
  printf("%lld\n",po(cur,ans));
  return 0;
}