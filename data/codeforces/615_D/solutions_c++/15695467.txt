#include<cstdio>
const int N=200001;
#define ll __int64
#define mod 1000000007
int cnt[N],rec[N];
ll l[N],r[N];

ll mod_pow(ll a,ll b){
	ll res=1;
	while(b){
		if(b&1) res=res*a%mod;
		a=a*a%mod;
		b>>=1;
	}
	return res;
}

int main()
{
	int m,p;
	scanf("%d",&m);
	int top=0;
	for(int i=0;i<m;i++){
		scanf("%d",&p);
		if(!cnt[p]){
			rec[++top]=p;
		}
		cnt[p]++;
	}
	l[0]=r[top+1]=1;
	for(int i=1;i<=top;i++){
		l[i]=l[i-1]*(cnt[rec[i]]+1)%(mod-1);
	}
	for(int i=top;i>=1;i--){
		r[i]=r[i+1]*(cnt[rec[i]]+1)%(mod-1);
	}
	ll ans=1;
	for(int i=1;i<=top;i++){
		ll num=cnt[rec[i]];
		ll all=l[i-1]*r[i+1]%(mod-1);
		ll t1=(ll)(cnt[rec[i]]+1)*(ll)cnt[rec[i]]/2%(mod-1);
		ll t=t1*all%(mod-1);
		ans=ans*mod_pow(rec[i],t)%mod;
	}
	printf("%I64d\n",ans);
	return 0;
}
 		 	  	 	 	 			 			 	 						