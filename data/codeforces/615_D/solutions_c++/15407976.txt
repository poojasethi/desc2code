#include<bits/stdc++.h>
using namespace std;
map<int,int> freq;
long long modulo=1000000007;
long long F;
long long modular_pow(long long base,long long exponent)
{
    long long result = 1;
    while (exponent > 0)
    {
        if (exponent % 2 == 1)
            result = (result * base) % modulo;
        exponent = exponent >> 1;
        base = (base * base) % modulo;
    }
    return result;
}
int main()
{
	int m,p;
	cin>>m;
	long long ans=1;F=1;
	while(m--)
	{
		scanf("%d",&p);
		freq[p]++;
	}
	for(map<int,int>::iterator it=freq.begin();it!=freq.end();++it)
		{
			ans=(modular_pow(ans,it->second +1)*modular_pow(modular_pow(it->first,(long long)(it->second)*(it->second+1)/2),F))%modulo;
			F=(F*((long long)freq[it->first]+1))%(modulo-1);
		}
	cout<<ans;
}
