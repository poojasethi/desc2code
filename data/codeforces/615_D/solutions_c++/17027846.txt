//2016-03-29 22:43:49.149000
#include <stdio.h>
#include <algorithm>
#include <memory.h>
#define MOD 1000000007
using namespace std;

typedef long long lld;

lld p[200010];
int k[200010];
int vst[200010];

lld pow(lld p,lld k){
	if(k==0) return 1;
	lld ans=pow(p,k/2);
	ans*=ans;
	ans%=MOD;
	if(k%2){
		ans*=p;
		ans%=MOD;
	}
	return ans;
}

int main (){
	memset(vst,-1,sizeof(vst));
	memset(k,0,sizeof(k));
	int n,i,m,x;
	scanf("%d",&n);
	m=0;
	for(i=0; i<n; i++){
		scanf("%d",&x);
		if(vst[x]==-1){
			vst[x]=m;
			p[m]=(lld)x;
			k[m++]=1;
		}
		else k[vst[x]]++;
	}
	lld tt=1;
	for(i=0; i<m; i++){
		tt*=((lld)k[i]+1);
		tt%=2*(MOD-1);
	}
	lld ans=1;
	for(i=0; i<m; i++){
		ans*=pow(p[i],tt*k[i]/2%(MOD-1));
		ans%=MOD;
	}
	printf("%I64d\n",ans);	
	return 0;
}