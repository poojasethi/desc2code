#include <cstdio>
#include <algorithm>
#include <cstdlib>
#include <cmath>
#include <iostream>
using namespace std;

const long long mo=1000000007;
long long n,cnt[200001],pre[200002],pos[200002];

long long poww(long long b,long long p){
    long long res=1;
    while (p){
        if (p%2==1) res=res*b%mo;
        p/=2; b=b*b%mo;
    }
    return res;
}

int main(){
	cin>>n;
	for (long long i=1,x;i<=n;++i)
        cin>>x,++cnt[x];
    pre[0]=1;
    for (int i=1;i<=200000;++i)
        pre[i]=pre[i-1]*(cnt[i]+1)%(mo-1);
    pos[200001]=1;
    for (int i=200000;i>0;--i)
        pos[i]=pos[i+1]*(cnt[i]+1)%(mo-1);
    long long ans=1;
    for (long long i=1;i<=200000;++i)
        ans=(ans*poww(i,(1+cnt[i])*cnt[i]/2%(mo-1)*pre[i-1]%(mo-1)*pos[i+1]%(mo-1)))%mo;
    cout<<ans<<endl;
	return 0;
}
