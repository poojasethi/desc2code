#include <bits/stdc++.h>
using namespace std;

typedef long long ll;
const int mod = 1000000007;
const int MAX = 200009;

ll powmod(ll b, ll p){
  ll ret = 1;
  while (p > 0){
    if (p & 1)
      ret = (ret * b) % mod;
    b = (b * b) % mod, p >>= 1;
  }
  return ret;
}

int main(){
  int n, cnt[MAX];
  ll tmp = 1, ret = 1;
  cin >> n;
  memset(cnt, 0, sizeof cnt);
  for (int i = 0; i < n; i++){
    int foo; cin >> foo;
    cnt[foo]++;
  }
  for (int i = 1; i < MAX - 8; i++)
    tmp = (tmp * (cnt[i] + 1)) % (2 * (mod - 1));
  for (int i = 1; i < MAX - 8; i++){
    ret = (ret * powmod(i, (cnt[i] * tmp) % (2 * (mod - 1)) / 2)) % mod;
  }
  cout << ret << endl;
}