#include <iostream>
#include <algorithm>
#include <vector>
#include <cstdio>

using namespace std;

int a[200500];
const int mod = int(1e9) +7;
long long modpow(long long a,long long n)
{
    long long res = 1;
    while(n)
    {
        if(n&1) res = (res*a)%mod;
        n/=2;
        a = (a*a)%mod;
    }
    return res;
}
int main()
{
    int m;
    scanf("%d",&m);
    while(m--)
    {
        int p;
        scanf("%d",&p);
        a[p]++;
    }
    long long res = 1;
    long long tc = 1;
    for(int i=0;i<200500;i++)
    if(a[i])
    {
        res = modpow(res,a[i]+1);

        long long temp;
        temp = a[i]; temp*=a[i]+1; temp/=2;
        res*= modpow(modpow(i,temp),tc);
        tc*=a[i]+1;
        tc%=mod-1;
        res%=mod;
    }
    cout <<res <<endl;
    return 0;
}
