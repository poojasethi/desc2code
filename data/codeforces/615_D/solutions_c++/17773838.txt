#include<bits/stdc++.h>
using namespace std;
#define maxn 200005
long long mod = 1e9+7;
int cnt[maxn];
int p[maxn];
int vis[maxn];
long long quick_pow(long long a,long long n)
{
    long long ans=1;
    while(n)
    {
        if(n&1)ans=ans*a%mod;
        a=a*a%mod;
        n>>=1;
    }
    return ans;
}

int main()
{
    int n;
    scanf("%d",&n);
    // cout<<2*3*4*6*9*12*18*36<<endl;
    int num=0,a;
    for(int i=1; i<=n; i++)
    {
        scanf("%d",&a);
        if(!cnt[a])
            p[num++]=a;
        cnt[a]++;
    }
    long long tot = 1;
    for(int i=0; i<num; i++)
        tot = tot*(cnt[p[i]]+1)%(2*(mod-1));
    long long ans = 1;
    for(int i=0; i<num; i++)
        ans=ans*quick_pow(p[i],(tot*cnt[p[i]]/2)%(mod-1))%mod;
    cout<<ans<<endl;
}
