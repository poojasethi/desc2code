#include<iostream>
#define MOD1 1000000007
#define MOD2 1000000006
using namespace std;
unsigned long long n,a[2000001]={0},i,j,t,s=1,ss=1;
bool f=0;
long long pow(int y,int x)
{
	if(x==0) return 1;
	if(x==1)return y%MOD1;
	long long t1=pow(y,x/2);
	t1=(t1*t1)%MOD1;
	if(x%2==1)t1=(t1*y)%MOD1;
	return t1;
}
int main()
{
	cin>>n;
	for(i=1;i<=n;i++)
	{
		cin>>t;
		a[t]++;
	}
	for(i=1;i<=2000000;i++)
	{
		if(a[i]>0&&(a[i]%2)&&(!f))
		{
			s*=(a[i]+1)/2;
			s%=MOD2;
			f=1;
			continue;
		}
		s*=(a[i]+1);
		s%=MOD2;
	}
	if(!f)
	{
		for(i=1;i<=2000001;i++)
		{
			a[i]/=2;
		}
	}
	for(i=2;i<=2000000;i++)
	{
		if(a[i]>0)
		{
			ss*=pow(i,a[i]);
			ss%=MOD1;
		}
	}
	cout<<pow(ss,s);
	return 0;
}