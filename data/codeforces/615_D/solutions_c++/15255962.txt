#include<cstdio>
typedef long long ll;
const int N=200010,P=1000000007;
int n,m,v[N],i,j,k,a[N],ans;ll t,x,y,f[N],g[N],pre[N],suf[N];
int pow(ll a,int b){ll t=1;for(;b;b>>=1,a=a*a%P)if(b&1)t=t*a%P;return t;}
int main(){
  scanf("%d",&m);
  while(m--)scanf("%d",&i),a[i]++;
  n=200000;
  for(i=2;i<=n;i++)for(j=i+i;j<=n;j+=i)v[j]=1;
  ans=1;
  for(i=2;i<=n;i++)if(!v[i]){
    for(t=0,j=i;j<=n;j+=i)for(k=j;k%i==0;k/=i)t+=a[j];
    if(t&1)x=t%(P-1),y=(t+1)/2%(P-1);else x=t/2%(P-1),y=(t+1)%(P-1);
    f[i]=t+1,g[i]=x*y%(P-1);
  }else f[i]=1;
  for(pre[1]=1,i=2;i<=n;i++)pre[i]=pre[i-1]*f[i]%(P-1);
  for(suf[n+1]=1,i=n;i>1;i--)suf[i]=suf[i+1]*f[i]%(P-1);
  for(i=2;i<=n;i++)if(!v[i])ans=1LL*ans*pow(i,g[i]*pre[i-1]%(P-1)*suf[i+1]%(P-1))%P;
  printf("%d",ans);
  return 0;
}
