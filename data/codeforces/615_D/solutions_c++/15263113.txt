#include<bits/stdc++.h>
using namespace std;
#define LL long long

const int mod = 1000000007;

int cnt[202020];

LL qpow(LL x, int n) {
	LL res = 1;
	while(n) {
		if(n&1) res = res * x % mod;
		n >>= 1;
		x = x * x % mod;
	}
	return res;
}

int main()
{
	int n, x;
	cin >> n;
	while(n--) {
		cin >> x;
		++cnt[x];
	}
	LL ans = 1, tot = 1;
	for(int i = 2;i <= 200000; ++i) if(cnt[i]) {
		ans = qpow(ans, cnt[i]+1) * qpow(qpow(i, tot), (LL)cnt[i]*(cnt[i]+1)/2%(mod-1)) % mod;
		tot = tot * (cnt[i] + 1) % (mod - 1);
	}
	cout << ans << endl;
	return 0;
}
