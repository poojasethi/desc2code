#include<bits/stdc++.h>
#define ll long long
#define fr first
#define sc second
#define maxx 1000000007
using namespace std;

ll c[200200];

ll mod(ll x, ll p){
    if(p <= 0){
        return 1;
    }
    ll t = mod(x,p/2);
    if(p%2 == 0){
        return (t*t)%maxx;
    }
    return (((t*t)%maxx)*x)%maxx;
}

int main(){
    int n,x;
    cin>>n;
    set<int>p;
    for(int i=0 ; i<n ; i++){
        cin>>x;
        c[x]++;
        p.insert(x);
    }
    ll res=1,r=1,d(1);
    for(set<int>::iterator i = p.begin() ; i!=p.end() ; i++){
        r = mod(*i,c[*i] * (c[*i]+1)/2);
        res = mod(res,c[*i]+1) * mod(r,d)%maxx;
        d = d*(c[*i]+1)%(maxx-1);
    }
    cout<<res;
    return 0;
}
