#include <bits/stdc++.h>
using namespace std;

typedef long long ll;

const ll mod = 1000000007;

ll p[200009];

ll pow(ll a, ll b)
{
    ll ans = 1;
    while (b > 0) {
        if (b % 2 == 1)
            ans = (ans * a) % mod;
        a = (a * a) % mod;
        b /= 2LL;
    }
    return ans;
}

int main()
{
    ios::sync_with_stdio(false);

    int m;
    cin >> m;
    while (m--) {
        int c; cin >> c;
        p[c]++;
    }

    ll ans = 1;
    ll cnt = 1;

    for (int i = 0; i < 200009; i++) {
        ll tmp = ans;
        ll k = i;
        for (int j = 0; j < p[i]; j++, k = (k * (ll)i) % mod) {
            tmp = ((tmp * pow(k, cnt)) % mod * ans) % mod;
        }
        ans = tmp;

        cnt = (cnt * (p[i] + 1)) % (mod - 1);
    }

    cout << ans;
}
