#include<bits/stdc++.h>
using namespace std;
#define ULL unsigned long long
#define LL long long
#define INF 0x3f3f3f3f
#define rep(i,n) for(int i = 0; i < n; ++i)
#define Rep(i,n) for(int i = 1; i <= n; ++i)

const int mod = 1000000007;

int cnt[202020];

LL qpow(LL x, int n) {
	LL res = 1;
	while(n) {
		if(n&1) res = res * x % mod;
		n >>= 1;
		x = x * x % mod;
	}
	return res;
}

int main()
{
	int n, x;
	cin >> n;
	while(n--) {
		cin >> x;
		++cnt[x];
	}
	LL ans = 1, tot = 1;
	for(int i = 2;i <= 200000; ++i) if(cnt[i]) {
		int temp = cnt[i];
		LL xxx = qpow(i, tot), res = 1, base = xxx;
		while(temp--) {
			res = res * xxx % mod * ans % mod;
			xxx = xxx * base % mod;
		}
		ans = ans * res % mod;
		tot = tot * (cnt[i] + 1) % (mod - 1);
	}
	cout << ans << endl;
	return 0;
}
