#include<bits/stdc++.h>
#define LL long long
using namespace std;
const LL mod=1000000007ll;
int m,n=0;
LL cnt[200011]={},sum=0ll;
LL qpow(LL x,LL t)
{
	if (t==0ll) return 1ll;
	if (t==1ll) return x%mod;
	LL tem;
	tem=qpow(x,t/2);
	tem=tem*tem;tem%=mod;
	if (t%2==1)
	{
		tem=tem*x;
		tem%=mod;
	}
	return tem;
}
int main()
{
	cin>>m;
	int t;
	for (int i=1;i<=m;i++)
	{
		scanf("%d",&t);
		cnt[t]++;
		n=max(n,t);
	}
	sum=1ll;
	for (int i=1;i<=n;i++)
	{
		if (cnt[i]==0) continue;
		sum*=cnt[i]+1;
	}
	LL ans=1ll,tem,d=1ll;
	for (int i=1;i<=n;i++)
	{
		if (cnt[i]==0) continue;
		tem=qpow(i,(cnt[i]+1)*cnt[i]/2);
		ans=qpow(ans,(cnt[i]+1))*qpow(tem,d)%mod;
		d=d*(cnt[i]+1)%(mod-1);
	}
	cout<<ans;
}
