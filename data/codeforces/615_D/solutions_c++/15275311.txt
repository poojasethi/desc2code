#include <cstdio>
#define INF 1000000007

typedef long long ll;

ll powmod(ll, ll);

int main(){
  int M, x, p[200000] = {0}; ll numDiv = 1, ans = 1;
  scanf("%d", &M); while(M--){ scanf("%d", &x); p[x]++; }
  for(int i=2; i<200000; i++)
    if(p[i]){
      ll temp = powmod(i, (ll)p[i]*(p[i]+1)/2);
      ans = (powmod(ans, p[i]+1)*powmod(temp, numDiv))%INF;
      numDiv = (numDiv*(p[i]+1))%(INF-1);
    }
  printf("%d\n", (int)ans);
  return 0;
}

ll powmod(ll b, ll e){
  b%=INF;
  if(!e) return 1; if(e==1) return b;
  ll temp = powmod(b, e>>1); temp = (temp*temp)%INF;
  if(e&1) return (temp*b)%INF;
  return temp;
}
