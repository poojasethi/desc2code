n = int(raw_input())
a = [int(x) for x in raw_input().split()]
a.insert(0, 0)
ans = 0
small = [0, 0]
big = [0, 0]
for i in range(2, n + 1):
    if a[i - 1] < a[i]:
        s = i - 1
        b = big[big[i - 1]]
    if a[i - 1] == a[i]:
        s = small[i - 1]
        b = big[i - 1]
    if a[i - 1] > a[i]:
        s = small[small[i - 1]]
        b = i - 1
    small.append(s)
    big.append(b)
    ans = max(ans, i - max(max(big[big[i]], small[small[i]]), min(small[i], big[i])))
print ans
