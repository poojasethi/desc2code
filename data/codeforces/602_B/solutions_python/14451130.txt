#! /usr/bin/env python
# -*- coding: utf-8 -*-
# vim:fenc=utf-8
#
# Copyright Â© 2015 vivek9ru <vivek9ru@Vivek9RU>
#
# Distributed under terms of the MIT license.

from math import acos,asin,atan,sqrt,pi,sin,cos,tan,ceil,floor
import re
from operator import itemgetter as ig

n=input()
lis=map(int,raw_input().split())
act=[lis[0]]
lact=[0]
ract=[0]
i=1
while i<n:
	while i<n and lis[i]==lis[i-1]:
		ract[-1]=i
		i+=1
	if i<n:
		act.append(lis[i])
		lact.append(i)
		ract.append(i)
		i+=1
l=len(act)
f=n
res=[0]*l
nex=[0]*l
res[l-1]=ract[l-1]-lact[l-1]+1
nex[l-1]=0
for i in range(l-2,-1,-1):
	nex[i]=act[i+1]-act[i]
	if i+2<l:
		a=act[i+1]-act[i]
		b=act[i+2]-act[i+1]
		if (a>0 and b>0) or (a<0 and b<0):
			res[i]=ract[i+1]-lact[i]+1
		elif (nex[i+2]==b):
			res[i]=ract[i+2]-lact[i]+1
		else:
			res[i]=res[i+2]+lact[i+2]-lact[i]
	else:
		res[i]=ract[i+1]-lact[i]+1
	#print i,res[i],ract[i],lact[i]
print max(res)
	
exit(0)
