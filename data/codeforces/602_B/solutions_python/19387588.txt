from collections import defaultdict
n=input()
a = [int(i) for i in raw_input().split(" ")]


def ok(a,v):
    q = [-10000000]*v
    ct = defaultdict(int)
    for i in range(len(a)):
        ct[q[i%v]]-=1
        q[i%v] = a[i]
        ct[a[i]]+=1
        if ct[a[i]]+ct[a[i]+1] == v or ct[a[i]]+ct[a[i]-1] == v:
            return True
    return False
r=n
l=1
while r-l > 1:
    v = (r+l)/2
    if ok(a,v):
        l= v
    else:
        r= v
if ok(a,n):
    print n
else:
    print l
