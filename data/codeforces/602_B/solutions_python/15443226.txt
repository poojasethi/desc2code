n = int(raw_input())
s = map(int, raw_input().split())
idx = n
for i in range(n):
  if s[i] != s[0]:
    idx = i; break
cv = s[0]; cvs = 0; d = s[idx % n] - s[0]; xsf = 0
for i in range(idx, n):
  #print ("i = %d, s[i] = %d, cv = %d, cvs = %d, d = %d, xsf = %d" % (i, s[i], cv,cvs, d, xsf))
  if s[i] != cv and s[i] != cv + d:
    #print ("broken")
    xsf = max(xsf, i - cvs)
    cv = s[i - 1];
    cvs = rvs
    d = s[i] - cv
  if s[i - 1] != s[i]:
    rvs = i
xsf = max(xsf, n - cvs)
print (xsf)