#include <bits/stdc++.h>
#define MAX_N 100010

using namespace std; 

int pos[MAX_N],n; 

int main () 
	{
		cin >> n; 
		for (int i = 0; i < MAX_N; i++) pos[i] = -1; 
		int res = 0; 
		for (int i = 0; i < n; i++) 
			{
				int x; 
				cin >> x;
				x++; 
				res = max(res,i - min(max(pos[x-1],pos[x+2]),max(pos[x+1],pos[x-2])));
				pos[x] = i; 
			}
			
		cout << res; 
		return 0; 
	}