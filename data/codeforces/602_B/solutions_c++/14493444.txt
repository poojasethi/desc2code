#include <iostream>

using namespace std;

int v[1000005];
int main()
{
    int n,ans(0);
    cin >> n;
    for (int i = 1; i <= n; i++) {
        int a;
        cin >> a;
        v[a] = i;
        int tmp;
        if (v[a - 1] > v[a + 1]) tmp = i - max(v[a - 2], v[a + 1]);
        else tmp = i - max(v[a - 1], v[a + 2]);
        ans = max(ans, tmp);
    }
    cout << ans;
    return 0;
}