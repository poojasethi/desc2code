#include <cstdio>
#include <algorithm>
int n,x[100005],t,y;int main(){scanf("%d",&n);for(int a=1;a<=n;a++){scanf("%d",&t);x[++t]=a;y=std::max(y,a-std::min(std::max(x[t-2],x[t+1]),std::max(x[t-1],x[t+2])));}printf("%d",y);}