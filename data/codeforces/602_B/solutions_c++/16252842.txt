#include<stdio.h>

int n,p[100010]={0},ans=-1,x;

int max(int a,int b)
{
	return a>b?a:b;
}
 
int main()
{ 
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
	{
		scanf("%d",&x);
        if(p[x-1]>p[x+1]) ans=max(ans,i-max(p[x+1],p[x-2]));
        else ans=max(ans,i-max(p[x+2],p[x-1])); 
        p[x]=i;
    }
    printf("%d", ans);
    return 0;
 }
				 		 			 	   					      			