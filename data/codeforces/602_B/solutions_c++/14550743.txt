#include <iostream>
#include <cstdio>
using namespace std;

int n, a, s, ans, v[100005];
int main()
{
	int i;
	cin >> n;
	for (i = 1; i <= n; i++) {
		scanf ("%d", &a);
		a++;
		v[a] = i;
		if (v[a - 1] > v[a + 1]) s = i - max(v[a - 2], v[a + 1]);
		else s = i - max(v[a - 1], v[a + 2]);
		ans = max(ans, s);
	}
	cout << ans;
    return 0;
}
