#include <cstdio>
#include <algorithm>
using namespace std;
int d[120000],g[120000];
int i,k,n,s,t;
int main()
{
	scanf("%d",&n);
	for (i=1;i<=n;i++) scanf("%d",&g[i]);
	for (i=1,k=1;k<=n;)
	{
		for (;(k<=n) && (t<=2);d[g[k]]++,k++)
			if (d[g[k]]==0) t++;
		s=max(s,k-i-1);
		for (;(i<=n) && (t>2);d[g[i]]--,i++)
			if (d[g[i]]==1) t--;
		s=max(s,k-i);
	}
	printf("%d",s);
	return 0;
}