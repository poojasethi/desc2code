#include <iostream>
#include <cstring>
using namespace std;
int p[110000];
int main()
{
    int n,i,x,times=2;
    cin>>n,memset(p,0,sizeof(p));
    for(i=1; i<=n; i++)
    cin>>x,p[x]=i,times=p[x-1]>p[x+1]?max(times,i-max(p[x+1],p[x-2])):max(times,i-max(p[x-1],p[x+2]));
    cout<<times<<endl;
    return 0;
}

	 	 	      	 		 	  	 	 	 			