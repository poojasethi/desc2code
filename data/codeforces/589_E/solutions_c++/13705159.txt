#include<iostream>
#include<cstdio>
#include<string>
#include<cassert>
#include<vector>
using namespace std;
int n,m,succ[50010],cnt[50010],len[50010],succ2[50010];
bool ok[50010];
string s[50010];
long long ans;
void small_n(){
  for(int start=0;start<n;start++){
    for(int end=start;end<n;end++){
      cnt[m]=0;
      for(int i=m-1;i>=0;i--){
        cnt[i]=cnt[i+1]+(s[end][i]==')'?1:-1);
      }
      vector<int> active;
      active.push_back(m);
      succ[m]=m+1;
      for(int i=m-1;i>=0;i--){
        while(!active.empty()&&cnt[active.back()]>cnt[i]){
          active.pop_back();
        }
        if(start==end){
          succ2[i]=active.empty()||cnt[active.back()]<cnt[i]?m+1:active.back();
          active.push_back(i);
          continue;
        }
        if(!active.empty()){
          if(succ[i]==m+1||cnt[active.back()]<cnt[i]){
            succ2[i]=m+1;
          }else{
            while(succ[i]<m+1&&!active.empty()&&cnt[active.back()]==cnt[i]&&succ[i]!=active.back()){
              if(succ[i]<active.back()){
                succ[i]=succ[succ[i]];
              }else{
                active.pop_back();
              }
            }
            if(succ[i]<m+1&&!active.empty()&&cnt[active.back()]==cnt[i]&&succ[i]==active.back()){
              succ2[i]=succ[i];
            }else{
              succ2[i]=m+1;
            }
          }
        }else{
          succ2[i]=m+1;
        }
        active.push_back(i);
      }
      for(int i=0;i<m;i++){
        succ[i]=succ2[i];
      }
      len[m+1]=-1;
      for(int i=m-1;i>=0;i--){
        len[i]=1+len[succ[i]];
        ans+=len[i];
      }
    }
  }
}
void small_m(){
  for(int start=0;start<m;start++){
    for(int i=0;i<n;i++){
      cnt[i]=0;
      ok[i]=true;
    }
    for(int end=start;end<m;end++){
      int cur=0;
      //cout<<start<<" "<<end<<endl;
      for(int i=0;i<n;i++){
        cnt[i]+=s[i][end]=='('?1:-1;
        ok[i]&=cnt[i]>=0;
        if(ok[i]&&cnt[i]==0){
          ++cur;
          ans+=cur;
        }else{
          cur=0;
        }
        //cout<<"i="<<i<<" "<<cur<<endl;
      }

    }
  }
}
int main(){
  cin>>n>>m;
  for(int i=0;i<n;i++){
    cin>>s[i];
  }
  if(m<=2000){
    small_m();
  }else {
    small_n();
  }
  /*if(n<=1000){
    small_n();
  }else{
    small_m();
  }*/
  cout<<ans<<endl;
  
  return 0;
}

