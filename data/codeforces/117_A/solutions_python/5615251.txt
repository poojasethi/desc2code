n, m = map(int, raw_input().strip().split())

for i in range(n):
    s, f, t = map(int, raw_input().strip().split())
    if s == f:
        print t
    elif s > f:
        k = m-1
        while t-k > m-s:
            k = k + 2*(m-1)
        print m - f + k
    else:
        k=0
        while t+1-k > s:
            k = k + 2*(m-1)
        print f + k - 1