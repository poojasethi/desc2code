#!/usr/bin/env python

n,m = map(int, raw_input().strip().split())

cycle = (m*2-2)
for i in xrange(n):
	s,f,t = map(int,raw_input().strip().split())
	res = 0
	if s==f:
		res = t;
	else:
		mod = t%cycle
		if s<f:
			earliest = s-1
			if mod <= earliest:
				res = earliest+(f-s)
			else:
				res = earliest+(f-s)+cycle
		elif s>f:
			earliest = cycle-s+1
			if mod<=earliest:
				res = earliest+(s-f)
			else:
				res = earliest+(s-f)+cycle
		res += t - mod
	print res
		
		

