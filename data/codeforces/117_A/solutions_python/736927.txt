L=raw_input()
L=L.split()
n=int(L[0])
m=int(L[1])
for i in range(n):
    In=raw_input()
    In=In.split()
    s=int(In[0])
    f=int(In[1])
    t=int(In[2])
    if s==f:
        print t
    elif s<f:
        result=( (t-s)/((m-1)*2)+1)*(m-1)*2+f-1
        print result
    else:
        result=((t-2*m+s)/((m-1)*2)+1)*(m-1)*2+2*m-f-1
        print result