import sys

if __name__ == "__main__":
    (n, m) = map(int, raw_input().split())
    for i in xrange(n):
        (s, f, t) = map(int, raw_input().split())
        s -= 1
        f -= 1
        cy = 2 * (m - 1)
        if s == f or m == 1:
            print t
        elif s < f:
            print (t / cy) * cy + (0, cy)[(t % cy > s)] + f
        else:
            print (t / cy) * cy + (0, cy)[cy - t % cy  < s] +  cy - f
