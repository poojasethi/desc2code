def updiv(a,b):
    if a%b==0:
        return a/b
    return a/b + 1

n,m = map(int,raw_input().split())
T = 2*m-2
for i in range(n):
    s,f,t = map(int,raw_input().split())
    s -= 1
    f -= 1
    if s==f:
        print t
    elif s<f:
        k = updiv(t-s,T)
        print k*T+f
    else:
        k = updiv(t - ((m-1)+(m-1-s)),T) 
        print k*T + (m-1) + (m-1-f)
