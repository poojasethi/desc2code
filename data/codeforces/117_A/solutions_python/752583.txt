n, m = map(int, raw_input().split())

for _ in xrange(n):
    s, f, t = map(int, raw_input().split())
    s -= 1
    f -= 1
    init = 0
    
    if s > f:
        s, f = m - 1 - s, m - 1 - f
        init = m - 1
    if s == f:
        print t
    if s < f:
        if t <= s + init:
            print f + init
        else:
            k = (t - s - init + 2 * (m - 1) - 1) / (2 * (m - 1))
            print 2 * (m - 1) * k + f + init