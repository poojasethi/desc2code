r = raw_input().split()
n = int(r[0])
m = int(r[1])
for x in range(n):
    r = raw_input().split()
    s = int(r[0])
    f = int(r[1])
    t = int(r[2]) + 1
    l = abs(s-f)
    if s == f:
        print t - 1
        continue
    elif s < f:
        k = s
    else:
        k = 2*m - s
    if t < k:
        print k - 1 + l
    else:
        r = 2*m - 2
        while k < t:
            k += r
        print k - 1 + l