l=lambda _:map(int, raw_input().split())
n,m=l('')
N=m*2 - 2
for s,f,t in map(l, ['']*n):
    T = t % N
    if s < f and s <= T:

        print t + N - T + f - 1
    elif s == f:

        print t
    elif s < f and s > T:

        print t + f - T - 1
    elif s > f and T <= N - s +1:

        print t + N-f - T +1
    elif s > f and T > N-s + 1:

        print t + N-T + N-f+1
