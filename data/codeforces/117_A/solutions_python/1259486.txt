n,m = map(int, str(raw_input()).split())
while n:
    n-=1
    s,f,t = map(int, str(raw_input()).split())
    if s==f:
        print t
        continue
    x = 2*(m-1)
    result = t-t%x
    t %= x
    if(t <= s-1):
        flag = True
    elif(t<= x-s+1):
        flag = False
    else:
        result += x
        flag = True
    if(s<f and flag==False):
        result += x+f-1
    elif(s<f and flag):
        result += f-1
    else:
        result += x-f+1
    print result
