from sys import stdin

def ints():
    return [int(s) for s in stdin.readline().split()]
    
n, m = ints()

for i in xrange(n):
    s, f, t = ints()
    round_trip = 2*m-2

    if s == f:
        rv = t
    elif s < f: # Going up
        full_rounds = t / round_trip
        rv = full_rounds * round_trip
        if t <= rv + s-1:   # was he on time to catch it on its way up?
            rv += f-1       # all he needs is to wait and reach his dest
        else:
            rv += (2*m-2)   # need to wait another round trip
            rv += f-1
    else: # Going down
        rv = m-1            # need to get top first
        full_rounds = t / round_trip
        rv += full_rounds * round_trip
        if t <= rv + (m-s): # was he on time to catch it on its way down?
            rv += (m-f)     # all he needs is to wait and reach his dest
        else:
            rv += (2*m-2)   # need to wait another round trip
            rv += (m-f)
    print rv