n,m = map(int, raw_input().split())
per = 2*m - 2
for i in range(n):
    s,f,t = map(int, raw_input().split())
    if s == f:
        print t
    elif s < f:
        wait = (t - s + per) / per
        print per * wait + f - 1
    else:
        st = m - 1 + m - s
        wait = (t - st + per - 1) / per
        print per * wait + s - f + st
