s = raw_input().split(' ')
n,m = int(s[0]),int(s[1])
for i in range(n):
    s = raw_input().split(' ')
    s,f,t = int(s[0]),int(s[1]),int(s[2])
    if s == f:
        print t
    elif s > f:
        k = m-1
        while t-k > m-s:
            k += 2*(m-1)
        print (m-f)+k
    else:
        k=0
        while t+1-k > s:
            k += 2*(m-1)
        print f + k - 1