
from math import ceil

n, m = [int(i) for i in raw_input().split(" ")]
dm = 2*(m-1)

def tmin(x, t):
    global dm
    return min(dm*int(ceil(float(t - 1 + x) / dm)) - x + 1, dm*int(ceil(float(t - x + 1) / dm)) + x - 1)

while n:
    n -= 1
    s, f, t = [int(i) for i in raw_input().split(" ")]
    if s == f:
        print(t)
    else:
        print(tmin(f, tmin(s, t)))
