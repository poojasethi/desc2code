(n, m) = map(int, raw_input().split())
mod = 2 * m - 2
for i in xrange(n):
	(s, f, t) = map(int, raw_input().split())
	if s == f:
		print t
		continue
	s -= 1
	f -= 1
	offs = t % mod
	base = t - offs
	if s < f:
		if s < offs: base += mod
		print base + f
	else:
		s2 = m - 1 - s
		if m - 1 + s2 < offs: base += mod
		f2 = m - 1 - f
		print base + m - 1 + f2

	