s=raw_input().split()
n=int(s[0])
m=int(s[1])-1
for i in range(n):
	s=raw_input().split()
	ini=int(s[0])-1
	fin=int(s[1])-1
	t=int(s[2])
	if ini==fin:
		r=t
	elif ini<fin:
		r=ini
		while r<t:
			r+=2*m
		r+=fin-ini
	else:
		r=2*m-ini
		while r<t:
			r+=2*m
		r+=ini-fin
	print r
