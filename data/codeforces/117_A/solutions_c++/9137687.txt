#include<cstdio>
using namespace std;
int main(){
	int n,m,s,t,f,m1;
	scanf("%d%d",&n,&m);
	for(int i=1;i<=n;i++){
		scanf("%d%d%d",&s,&f,&t);
		m1=2*(m-1);
		if(s==f)printf("%d\n",t);
		else if(f>s){
			if(t%m1<s){
				printf("%d\n",f+t/m1*m1-1);
			}else{
				printf("%d\n",f-1+(t/m1+1)*m1);
			}
		}else{
			if(t%m1<=m1-s+1)printf("%d\n",(t/m1+1)*m1-f+1);
			else printf("%d\n",(t/m1+1)*m1+m1-f+1);
		}
	}
	return 0;
}