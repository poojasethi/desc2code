#include <cstdio>

int main()
{
	int n,m;
	scanf("%d%d",&n,&m);
	int s,f,t;
	while(n--)
	{
		scanf("%d%d%d",&s,&f,&t);
		s--;
		f--;
		if(s==f) printf("%d\n",t);
		else
		{
			int p=t/(2*m-2);
			t%=(2*m-2);
			if(s<f)
			{
				if(t>s)
				{
					t=0;
					p++;

				}
				printf("%d\n",p*(2*m-2)+f);
			}
			else
			{
				if(t>2*m-2-s)
				{
					t=m;
					p++;
				}
				printf("%d\n",p*(2*m-2)+2*m-2-f);
			}
		}
	}
	return 0;
}
