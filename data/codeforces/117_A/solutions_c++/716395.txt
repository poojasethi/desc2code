#include<cstdio>
#include<algorithm>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

#define ceil(a,b) (((a)+(b)-1)/(b))

int main(){
	int n,m; scanf("%d%d",&n,&m); m--;
	rep(i,n){
		int s,f,t; scanf("%d%d%d",&s,&f,&t); s--; f--;

		int ans,a;
		if(s==f) ans=t;
		else if(s<f){
			a=2*ceil(t-s,2*m)*m+s;
			ans=a+(f-s);
		}
		else{
			a=(2*ceil(t-(m-s)-m,2*m)+1)*m+(m-s);
			ans=a+(s-f);
		}
		printf("%d\n",ans);
	}

	return 0;
}
