#include <iostream>
#include <stdio.h>

using namespace std;

int main()
{
	int n,m;
	scanf("%d%d",&n,&m);
	for (int i=0; i<n; i++) {
		int s,d,t;
		scanf("%d%d%d",&s,&d,&t);
		if (s > d) {
			int time = ((m-1)+(m-s));
			while (time < t) {
				time = time + 2*(m-1);
			}
			time = time + (s-d);
			printf("%d\n",time);
		} else if (s < d){
			int time = s-1;
			while (time < t) {
				time = time + 2*(m-1);
			}
			time = time + (d-s);
			printf("%d\n",time);
		} else {
			printf("%d\n",t);
		}
	}
	return 0;
}
