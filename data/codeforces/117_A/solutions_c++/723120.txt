#include<stdlib.h>
#include <stdio.h>
int main()
{
    int m,n,s,f,t,ans;
    scanf("%d%d",&n,&m);
    for(int i=0;i<n;i++)
    {
        scanf("%d%d%d",&s,&f,&t);
        if(s==f){
            printf("%d\n",t);
            continue;
        }
        ans=t/(2*(m-1))*(2*(m-1))+((s>f)?(m-1+m-s):s-1);
        if(ans<t)
            ans+=(m-1)*2;
        ans+=abs(f-s);
            printf("%d\n",ans);
    }
}