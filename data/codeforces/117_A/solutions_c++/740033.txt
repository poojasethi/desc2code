#include<iostream>
#include<stdio.h>
using namespace std;
int N,M,D,ans;
#define abs(a) ( (a)<0?(-(a)):(a) )
int main()
{
      int i,x,y,a,b,t;
      while(scanf("%d%d",&N,&M)!=EOF)
      {
	    D=2*(M-1);
	    for(i=1;i<=N;i++)
            {
		  scanf("%d%d%d",&a,&b,&t);
		  y=t%D;
		  if(a<=b) x=a-1;
		  else if(a>b) x=(2*M-a-1)%D;
		  ans=((x-y)%D+D)%D+abs(b-a)+t;
		  if(a==b) ans=t;
		  printf("%d\n",ans);    
	    }
      }
      return 0;
}
	 	 				 							 	 		 	 	