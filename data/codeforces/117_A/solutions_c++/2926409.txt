#include <cstdio>
int main(){
    int n,m,s,f,t;
    scanf("%d%d",&n,&m);
    for(m=m*2-2;n--;printf("%d\n",s^f?(t+m-(s>f?m+2-s:s))/m*m+(s>f?m+2-f:f)-1:t))
        scanf("%d%d%d",&s,&f,&t);
    return 0;
}

