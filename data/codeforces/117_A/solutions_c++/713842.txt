#include <stdio.h>
#include <algorithm>
using namespace std;


main()
{
	int i,j,k;
	
	int n,m;
	
	scanf("%d%d",&n,&m);
	
	int a,b,c;
	
	while (n--)
	{
		scanf("%d%d%d",&a,&b,&c);
		
		if (a==b) printf("%d\n",c);
		else if (a<b)
		{
			k=c/(2*m-2)-2;
			while (k*(2*m-2)+a-1<c) k++;
			
			printf("%d\n",k*(2*m-2)+b-1);
		}
		else
		{
			k=c/(2*m-2)-2;
			while (k*(2*m-2)+(2*m-a)-1<c) k++;
			
			printf("%d\n",k*(2*m-2)+(2*m-b)-1);
		}
	}
}
