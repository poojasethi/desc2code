#include<iostream>
using namespace std;
int main()
{
int n,m,i,a,b,c,t,r;
cin>>n>>m;
for(i=1;i<=n;i++)
{
cin>>a>>b>>c;
if(a==b) cout<<c<<endl;
else
{
t=c/(m-1);
r=c%(m-1);
if(t%2==0 && r>=a || t%2==1 && (m-r)<a) t++;
if(t%2==0 && b>a) cout<<t*(m-1)+b-1;
else if(t%2==1 && b<a) cout<<t*(m-1)+m-b;
else if(t%2==0 && b<a) cout<<(t+1)*(m-1)+m-b;
else if(t%2==1 && b>a) cout<<(t+1)*(m-1)+b-1;
cout<<endl;
}
}
return 0;
}