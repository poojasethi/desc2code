#include <iostream>

using namespace std;

int m;

int nx(int f,int t) {
	int r=t/(2*m-2)*(2*m-2)+f;
	if (r>=t) return r;
	r=t/(2*m-2)*(2*m-2)+2*m-2-f;
	if (r>=t) return r;
	return (t/(2*m-2)+1)*(2*m-2)+f;
}

int main() {
	int n;
	cin >> n >> m;
	for(int i=0;i<n;i++) {
		int s,f,t;
		cin >> s >> f >> t;
		if (s==f) cout << t << endl;
		else cout << nx(f-1,nx(s-1,t)) << endl;
	}
	return 0;
}
