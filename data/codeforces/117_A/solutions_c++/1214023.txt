#include <iostream>
#include <stdio.h>
using namespace std;
int main()
{
//freopen("i.txt","r",stdin);
int n,m;
cin>>n>>m;
for(int i=1;i<=n; i++)
 { int s,f,t,ans;
   cin>>s>>f>>t;
  if (s==f) ans=t;
  else if (s<f)
      { ans=s-1;
        while (ans<t) ans=ans+2*(m-1);
        ans=ans+(f-s);
       }
  else
      {
       ans=m-1+(m-s);
        while (ans<t) ans=ans+2*(m-1);
        ans=ans+(s-f);
      }
   cout<<ans<<endl;
  }
return 0;
}
