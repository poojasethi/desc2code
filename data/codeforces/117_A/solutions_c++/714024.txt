#include <cstdio>
#include <cstring>

int getT(int m,int f,int t){
	int x=t/m;
	int tt;
	do{
		tt=x*m;
		if(x&1) tt+=m-f;
		else tt+=f;
		++x;
	}while(tt<t);
	return tt;
}
int main(){
	int n,m;
	scanf("%d %d",&n,&m);
	--m;
	for(int i=0;i<n;++i){
		int s,f,t;
		scanf("%d %d %d",&s,&f,&t);
		if(s!=f){
			--s,--f;
			int t1=getT(m,s,t);
			int t2=getT(m,f,t1);
			printf("%d\n",t2);
		}
		else printf("%d\n",t);
	}
	return 0;
}
