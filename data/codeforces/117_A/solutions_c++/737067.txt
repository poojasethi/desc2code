#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int main()
{
	int n,m;
	while(scanf("%d%d",&n,&m)==2)
	{
		while(n--)
		{
			int s,e,t;
			scanf("%d%d%d",&s,&e,&t);
			if(s==e) printf("%d\n",t);
			else if(s>e)
			{
				int k=(t+s-1+2*m-3)/(2*m-2);
				printf("%d\n",2*k*(m-1)-(e-1));
			}
			else
			{
				int k=(t-s+1+2*m-3)/(2*m-2);
				printf("%d\n",2*k*(m-1)+(e-1));
			}
		}
	}
	return 0;
}
