#include<iostream>
#include<cstdlib>
using namespace std;
int n,m;
int main()
{
	cin>>n>>m;
	while(n--)
	{
		int s,f,t,sum,k; 
		cin>>s>>f>>sum;
		if(s==f)
		{
			cout<<sum<<endl; 
			continue;
		}
		if(s<f)
			t=s-1;
		else
			t=2*(m-1)-(s-1);
		sum-=t;
		if(sum<0)
			sum=0;
		else
		{
			if(sum%(2*(m-1))==0)
				k=0;
			else
				k=1;
			sum=(sum/(2*(m-1))+k)*2*(m-1);
		}
		sum+=t;
		sum+=abs(s-f);
		cout<<sum<<endl;
	}
	return 0;
}
		 	  				 					 	 		  		