#include <iostream>
#include <algorithm>
using namespace std;
int n,m,T;
int closest(int fl,int tim){
  int G=max(0,(tim-fl)/T);
  if(fl+G*T>=tim)return fl+G*T;
  if(fl+G*T+T-2*fl>=tim)return fl+G*T+T-2*fl;
  return fl+(G+1)*T;
}
int main(){
  cin>>m>>n;
  T=2*(n-1);
  for(int i=0;i<m;++i){
   int b,e,t,ot; cin>>b>>e>>t; --b;--e; ot=t;
   t=closest(b,t);
   t=closest(e,t);
   if(b==e)t=ot;
   cout<<t<<'\n';
                      }
  //system("pause");
  return 0;
}
