#include<cstdio>
//#include<conio.h>
using namespace std;
int n,m,s,f,t,i,time;
int main()
{
 scanf("%d%d",&n,&m);
 for(i=1;i<=n;i++)
 {
  scanf("%d%d%d",&s,&f,&t);
  time=0;
  if(s==f)
  {
   printf("%d\n",t);
   continue;
  }
  time=s-1;
  if(s!=m&&s!=1&&s>f)
  time+=(m-s)*2;
  while(t>time)
  time+=(m-1)*2;
  if(s<f)
  time+=f-s;
  else
  time+=s-f;
  printf("%d\n",time);
  continue;
}
//getch();
}
