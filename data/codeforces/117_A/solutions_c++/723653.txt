#include<iostream>
using namespace std;
int main(){
	int m,n;
	int s,f,t;
	int a;
	cin >> n >> m;
	m--;
	for(int i=0; i<n; i++){
		cin >> s >> f >> t;
		s--; f--;
		if(s==f) cout << t << endl;
		else if(s>f){//down
			a = (t+s)/m;
			if(a%2==1) a++;
			else if(t+s-a*m>0) a+=2;
			cout << (a*m-f) << endl;
		}else{
			a = (t-s)/m;
			if(a%2==1) a++;
			else if(t-s-a*m > 0) a+=2;
			cout << (a*m+f) << endl;
		}
	}
	//system("pause");
}
