#include<cstdio>
int s,f,t;

int main()
{
	int n,m,T,r;

	scanf("%d %d",&n,&m);

	T=2*(m-1);

	for(int i=1;i<=n;i++)
	{
		scanf("%d %d %d",&s,&f,&t);

		if(s<f)
		{
			r=t-t%T+f-1;
			if(t%T+1>s)
			{
				r+=T;
			}
		}
		else if(s>f)
		{
			r=t-t%T+m-1+m-f;
			if(T-t%T+1<s)
			{
				r+=T;
			}
		}
		else
		{
			r=t;
		}
		printf("%d\n",r);
	}
	return 0;
}
