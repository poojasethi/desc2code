#include <iostream>
#include <cstdio>
#include <cstring>
using namespace std;

int n,m,x,y,w,ans,too,tmp,d[16],a[20][20],f[40000],p[16];

int dfs(int ss)
{
    if (ss==(1<<too)-1) { f[ss]=0;return 0; }
    if (f[ss]>=0) return f[ss];
    int fi=1;
    for (fi=1;fi<=too;fi++) if (((1<<(fi-1))&ss)==0) break;
    for (int i=fi+1;i<=too;i++)
    {
        if ((1<<(i-1))&ss) continue;
        if (f[ss]<0) f[ss]=dfs(ss+(1<<(i-1))+(1<<(fi-1)))+a[p[fi]][p[i]];
        else f[ss]=min(f[ss],dfs(ss+(1<<(i-1))+(1<<(fi-1)))+a[p[fi]][p[i]]);
    }
    return f[ss];
}

int main()
{
 //   freopen("21D.txt","r",stdin);

    memset(f,255,sizeof(f));
    memset(a,55,sizeof(a));
    cin>>n>>m;
    if (m==0) { cout<<0<<endl;return 0; }
    for (int i=1;i<=m;i++)
    {
        cin>>x>>y>>w;
        a[x][y]=min(a[x][y],w);
        a[y][x]=min(a[y][x],w);
        ans+=w;
        d[x]++;d[y]++;
    }
    for (int k=1;k<=n;k++)
        for (int i=1;i<=n;i++)
            for (int j=1;j<=n;j++)
				if (i!=j && j!=k && k!=i) a[i][j]=min(a[i][j],a[i][k]+a[k][j]);
	for (int i=2;i<=n;i++) if (d[i] && a[1][i]==a[0][0]) { cout<<-1<<endl;return 0; }
    for (int i=1;i<=n;i++) if (d[i]%2==1) too++,p[too]=i;
    if (too%2==1) {cout<<-1<<endl; return 0;}
    if (too) cout<<ans+dfs(0)<<endl;
	else cout<<ans<<endl;

    return 0;
}
