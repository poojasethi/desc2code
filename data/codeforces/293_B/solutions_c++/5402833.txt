#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define mo 1000000007
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,u,s,an;
int a[20][20],b[20][20],f[20],g[20],C[20][20],v[20];
void dfs(int x,int y,int z) {
	if (y>m) y=1,x++;
	if (x>n) {
		an=(an+C[s][z-(k-s)])%mo; return;
	}
	int i;
	b[x][y]=b[x-1][y]|b[x][y-1];
	int A=0;
	if (a[x][y]) A=f[a[x][y]];
	if (A) {
		if (b[x][y]>>A-1&1) return;
		b[x][y]|=1<<A-1;
		dfs(x,y+1,z);
	} else {
		For(i,1,z) if ((!a[x][y]||!g[i]||a[x][y]==g[i])&&!(b[x][y]>>i-1&1)) {
			int A=g[i];
			f[a[x][y]]=i;
			if (a[x][y]) g[i]=a[x][y];
			b[x][y]|=1<<i-1;
			dfs(x,y+1,z);
			b[x][y]^=1<<i-1;
			f[a[x][y]]=0;
			g[i]=A;
		}
		if (z<k) {
			g[z+1]=a[x][y];
			b[x][y]|=1<<z;
			f[a[x][y]]=z+1;
			dfs(x,y+1,z+1);
			g[z+1]=0;
			f[a[x][y]]=0;
		}
	}
}
int main() {
	scanf("%d%d%d",&n,&m,&k);
	if (n+m-1>k) {
		printf("0\n"); return 0;
	}
	For(i,1,n)For(j,1,m) {
		scanf("%d",&a[i][j]);
		if (!v[a[i][j]]) v[a[i][j]]=1,s++;
	}
	s--;
	s=k-s;
	For(i,0,s) {
		C[i][0]=1;
		For(j,1,i) C[i][j]=C[i-1][j]+C[i-1][j-1];
	}
	For(i,1,s)For(j,1,i) C[s][i]*=j;
	dfs(1,1,0);
	printf("%d\n",an);
	//for(;;);
	return 0;
}
