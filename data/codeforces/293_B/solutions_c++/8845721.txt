#include<cstdio>
#include<cstring>
const int p=1000000007;
bool b[15][15][15];
int a[15][15],s[15][15];
int id[15],A[15];
int n,m,K,cnt,ans;
void dfs(int x,int y,int c)
{
	int i,S;
	if (c>cnt) return;
	if (y>m)
	{
		x++; y=1;
	}
	if (x>n)
	{
		ans=(ans+A[c])%p; return;
	}
	S=(s[x-1][y]|s[x][y-1]);
	if (a[x][y])
	{
		if (!(S&(1<<a[x][y])))
		{
			s[x][y]=(S|(1<<a[x][y]));
			dfs(x,y+1,c);
		}
	}
	else
	{
		for (i=1;i<=K;i++)
			if (!(S&(1<<i))&&((i<=c+1)||((i>cnt)&&!b[i][x][y])))
			{
				s[x][y]=(S|(1<<i));
				if (i==c+1) dfs(x,y+1,c+1);
				else dfs(x,y+1,c);
			}
	}
}
int main()
{
	int i,j,k;
	scanf("%d%d%d",&n,&m,&K);
	if (n+m-1>K)
	{
		printf("0\n"); return 0;
	}
	cnt=K;
	for (i=1;i<=n;i++)
		for (j=1;j<=m;j++)
		{
			scanf("%d",&a[i][j]);
			if (a[i][j])
			{
				if (id[a[i][j]]==0)
				{
					id[a[i][j]]=cnt; cnt--;
				}
				a[i][j]=id[a[i][j]];
			}
		}
	memset(b,false,sizeof(b));
	for (i=cnt+1;i<=K;i++)
		for (j=1;j<=n;j++)
			for (k=1;k<=n;k++) b[i][j][k]=(b[i][j-1][k]||b[i][j][k-1]||(a[j][k]==i));
	for (i=0;i<=cnt;i++)
	{
		A[i]=1;
		for (j=cnt;j>=cnt-i+1;j--) A[i]*=j;
	}
	memset(s,0,sizeof(s));
	dfs(1,1,0);
	printf("%d\n",ans); return 0;
}