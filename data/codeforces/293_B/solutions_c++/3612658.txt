#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;

const int mod=1000000007;
int col[15][15],a[15][15],b[15][15],mc[15];
int n,m,tc,ans;

void dfs(int x,int y,int c)
{
	int i,j;
	if(x==n)
	{
		memset(mc,0,sizeof(mc));
		for(i=0;i<n;i++)
			for(j=0;j<m;j++) if(a[i][j])
			{
				if(mc[b[i][j]]&&mc[b[i][j]]!=a[i][j]) return ;
				mc[b[i][j]]=a[i][j];
			}
		for(i=1;i<=c;i++) for(j=1;j<i;j++) 
			if(mc[i]&&mc[j]&&mc[i]==mc[j]) return ;
		int l=0,r=tc;
		for(i=1;i<=c;i++) 
		{
			if(mc[i]) r--;
			else l++;
		}
		int tot=1;
		for(i=0;i<l;i++) tot*=(r-i);
		ans+=tot; if(ans>=mod) ans-=mod;
		return ;
	}
	for(i=1;i<=c+1&&i<=tc;i++)
	{
		b[x][y]=i,col[x][y]=0;
		if(x>0) col[x][y]|=col[x-1][y];
		if(y>0) col[x][y]|=col[x][y-1];
		if(col[x][y]&(1<<i)) continue;
		col[x][y]|=1<<i;
		int xx=y<m-1?x:x+1,yy=y<m-1?y+1:0;
		dfs(xx,yy,max(c,i));
	}
}

int main()
{
	int i,j;
	scanf("%d%d%d",&n,&m,&tc);
	if(n+m-1>tc) 
	{
		puts("0");
		return 0;
	}
	for(i=0;i<n;i++)
		for(j=0;j<m;j++)
			scanf("%d",&a[i][j]);
	dfs(0,0,0);
	printf("%d\n",ans);
	return 0;
}
	


