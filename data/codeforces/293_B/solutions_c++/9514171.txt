#include <stdio.h>

#define mo 1000000007

int n,m,k;
int ans;
int all;
int f1[11];
char val[21];
bool u[11];
char a[11][11];
short f[11][11];

inline void dfs(char x,char y,char cnt)
{
	if (x>n) {
		ans=(ans+f1[cnt])%mo;
		return;
	}
	int t=f[x][y-1]|f[x-1][y];
	if (t==all) return;
	char i;
	char ny=y+1,nx=x;
	if (ny>m) ++nx,ny=1;
	char a=::a[x][y];
	if (a) {
		i=val[a];
		if (i!=-1) {
			if ((t>>i)&1) return;
			f[x][y]=t|(1<<i);
			dfs(nx,ny,cnt);
		} else {
			for (i=0;i<cnt;i++) {
				if ((t>>i)&1) continue;
				if (u[i]) continue;
				u[i]=1;
				val[a]=i;
				f[x][y]=t|(1<<i);
				dfs(nx,ny,cnt);
				u[i]=0;
			}
			if (cnt<k) {
				f[x][y]=t|(1<<cnt);
				val[a]=cnt;
				u[cnt]=1;
				dfs(nx,ny,cnt+1);
				u[cnt]=0;
			}
			val[a]=-1;
		}
	} else {
		for (i=0;i<cnt;i++) {
			if ((t>>i)&1) continue;
			f[x][y]=t|(1<<i);
			dfs(nx,ny,cnt);
		}
		if (cnt<k) {
			f[x][y]=t|(1<<cnt);
			dfs(nx,ny,cnt+1);
		}
	}
}

int main()
{
	scanf("%d%d%d",&n,&m,&k);
	if (n+m-1>k) return puts("0"),0;
	int i,j;
	int colorcnt=0;
	for (i=1;i<=n;i++) {
		for (j=1;j<=m;j++) {
			int x;
			scanf("%d",&x);
			a[i][j]=x ? x+10 : 0;
			if (x) {
				if (val[x+10]==0) ++colorcnt,val[x+10]=-1;
			}
		}
	}
	all=(1<<k)-1;
	f1[colorcnt]=1;
	for (i=colorcnt+1;i<=k;i++) f1[i]=1LL*f1[i-1]*(k-i+1)%mo;
	dfs(1,1,0);
	printf("%d\n",ans);
}
   			   			  						   	  			 	