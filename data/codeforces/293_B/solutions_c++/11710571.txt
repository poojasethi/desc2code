#include<stdio.h>
#include<string.h>
const int maxn=10+5;
const int mod=1000000007; 
int a[maxn][maxn],s[maxn][maxn];
int cnt[maxn];
int Lg[1500];
int n,m,k;
int dfs(int x,int y)
{
	if (y>m) {y=1;x++;}
	if (x>n) return 1;
	int f=-1;
	int ret=0;
	int prec=s[x-1][y]|s[x][y-1];
	for (int i=(1<<k)-1-prec;i;i-=i&-i)
	{
		int u=Lg[i&-i];
		if (a[x][y]!=-1&&a[x][y]!=u) continue;
		s[x][y]=prec|(1<<u);
		cnt[u]++;
		if (cnt[u]==1)
		{
			if (f==-1) f=dfs(x,y+1);
			ret+=f;
		}
		else ret+=dfs(x,y+1);
		if (ret>=mod) ret-=mod;
		cnt[u]--;
	}
	return ret;
}
int main()
{
	scanf("%d%d%d",&n,&m,&k);
	if (n+m-1>k)
	{
		printf("0\n");
		return 0;
	}
	memset(a,0,sizeof(a));
	memset(cnt,0,sizeof(cnt));
	for (int i=1;i<=n;i++)
	for (int j=1;j<=m;j++)
	{
		scanf("%d",&a[i][j]);
		a[i][j]--;
		cnt[a[i][j]]++;
	}
	for (int i=0;i<k;i++) Lg[1<<i]=i;
	printf("%d\n",dfs(1,1));
	return 0;
}
	  	  	 	       	 					   			