#include<iostream>
#include<cstdio>
#include<algorithm>
#include<cstring>
#define MOD 1000000007
using namespace std;
int n,m,k,a[25][25],used[15],Lg[1<<12];
int f[25][25];
int Dfs(int x,int y)
{
	if(y==m+1)y=1,x++;
	if(x==n+1)return 1;
	int p=0,w=-1,now=f[x-1][y]|f[x][y-1];
	for(int i=(~now)&((1<<k)-1);i;i-=(i&(-i)))
	{
		int t=Lg[i&(-i)]+1;
		if(!a[x][y]||a[x][y]==t)
		{			
			f[x][y]=now|(1<<(t-1));
			used[t]++;
			if(used[t]==1)
			{
				if(w==-1)w=Dfs(x,y+1);
				p+=w;
			}
			else if(used[t]) p+=Dfs(x,y+1);
			p%=MOD;
			used[t]--;
		}
	}
	return p;
}
int main()
{
	scanf("%d%d%d",&n,&m,&k);
	if (n+m-1>k) {puts("0");return 0;}
	for (int i=1;i<=n;i++)
		for (int j=1;j<=m;j++)
		{
			scanf("%d",&a[i][j]);
			used[a[i][j]]++;
		}
	
	for (int i=1;i<=k;i++)
		Lg[1<<i]=i;
	cout<<Dfs(1,1)<<endl;
}

 	 	 			  	  			 	 			 		 	 			