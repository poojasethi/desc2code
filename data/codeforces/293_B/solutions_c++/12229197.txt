#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<deque>
#include<string>
#include<string.h>
#include<vector>
#include<stack>
#include<queue>
#include<math.h>
#include<stdlib.h>
#include<map>
#include<set>
#include<time.h>
#include<bitset>
#include<list>
#include <iomanip>
const double inf=1e20;
using namespace std;
int a[11][11],f[11][11],used[11],LOG2[1<<11],n,m,k;
const int MOD=1e9+7;
long long dfs(int x,int y)
{
	if (y==m+1) x++,y=1;
	if (x==n+1) return 1;
	int cc=f[x][y-1]|f[x-1][y];
	long long p=0;int w=-1;
	for (int i=(~cc)&((1<<k)-1);i;i-=(i&(-i)))
	{
		int t=LOG2[i&(-i)]; 
		f[x][y]=cc|(i&(-i));
		used[t]++;
		if (!a[x][y]||a[x][y]==t)
		{
			if (used[t]==1) 
			{
				if (w==-1) w=dfs(x,y+1);p+=w;
			}
			else p+=dfs(x,y+1);
			if (p>MOD) p-=MOD;
		}
		used[t]--;
	}
	return p;
}
int main(){
	scanf("%d%d%d",&n,&m,&k);
	if (n+m-1>k) {printf("%d",0);return 0;}
	for (int i=1;i<=n;i++)
	for (int j=1;j<=m;j++) 
	{scanf("%d",&a[i][j]);
	used[a[i][j]]++;}
	for (int i=1;i<=k;i++)
	LOG2[1<<(i-1)]=i;
	printf("%lld",dfs(1,1));
	return 0;
}
