#include<cstdio>
#include<cstring>

int a, n, sum;
char s[4444];
int seg[44444], v[4444];
long long ans;

int main() {
	scanf("%d%s", &a, s);
	n = strlen(s);
	for(int i=0;i<n;i++)
		v[i] = s[i] -'0' + (i ? v[i-1] :0);
	for(int i=0;i<n;i++)
		for(int j=i;j<n;j++) {
			sum = v[j] - (i ? v[i-1] : 0);
			seg[sum]++;
		}
	if (!a) {
		ans = 1LL*n*(n+1)/2 * seg[0];
		ans = ans * 2 - 1LL*seg[0]*seg[0];
	} else {
		ans = 0LL;
		for(int i=1;i<=v[n-1];i++)
			if(a%i==0 && a/i<=v[n-1])ans+=1LL*seg[i]*seg[a/i];
	}
	printf("%I64d\n", ans);
		
	return 0;
}