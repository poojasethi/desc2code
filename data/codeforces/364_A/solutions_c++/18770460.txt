#include <cstdio>
#include <cstring>
using namespace std;
const int maxn=4e3+1 ;
char s[maxn] ;
int sum[maxn];
long long int t[maxn*9] ;
int main()
{
	int n;
	scanf("%d",&n); 
	scanf("%s",s) ;
	int sizee=strlen(s) ;
	for(int i=1;i<sizee+1;i++)
		sum[i]=sum[i-1]+s[i-1]-'0' ;
	for(int i=1;i<sizee+1;i++)
		for(int j=0;j<i;j++)
			t[sum[i]-sum[j]]++ ;
	long long int ans=0;
	if(n==0)
	{
		for(int i=1;i<maxn*9;i++)
			ans+=t[i] ;
		ans=ans*2*t[0]+t[0]*t[0] ;
	}
	else
		for(int i=1;i<maxn*9;i++)
			if(n%i==0 && n/i<maxn*9)
				ans+=t[i]*t[n/i] ;
	printf("%I64d",ans) ;
}
