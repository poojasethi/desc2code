#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
#include<map>
char st[100000];
int S[10000000];
int n,A,sum[100000];
long long ans;
int main()
{
	scanf("%d%s",&A,st+1);
	n=strlen(st+1);
	for(int i=1;i<=n;i++)sum[i]=sum[i-1]+st[i]-'0';
	for(int i=1;i<=n;i++)
		for(int j=0;j<i;j++)
			S[sum[i]-sum[j]]++;
	if(A==0)
	{
		ans=(long long)S[0]*n*(n+1)/2;
	}
	for(int i=1;i<=sum[n];i++)
		if(A%i==0&&A/i<=sum[n])
			ans+=(long long)S[i]*S[A/i];
	cout<<ans<<endl;
}
	
