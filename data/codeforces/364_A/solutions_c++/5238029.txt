#include <iostream>
#include <cstdlib>
#include <cstring>
#include <string>

using namespace std;

int a,b[4001],l;
long long x=0,c[36001];
string s;

int main() {
	cin >> a >> s;
	l = s.size();
	b[0] = 0;
	for (int i = 1; i <= l; i++) {
		b[i] = b[i-1] + s[i-1] - '0';
		for (int j = 0; j < i; j++)
			c[b[i]-b[j]]++;
	}
	for (int i = 1; i <= b[l]; i++) 
		if (a % i == 0 && a/i <= b[l]) x += c[i] * c[a/i];
	if (a==0) x = x*2 + c[0]*c[0];
	cout << x;
}