#include <iostream>
using namespace std;
const int MAXN=1000*40+10;
typedef long long ll;
ll n,a,cnt[MAXN*10],sum[MAXN*10],ans;
string s;
int main()
{
	cin >> a >> s;
	for(;s[n];++n)
		sum[n+1]=sum[n]+s[n]-'0';
	for(int i=0;i<=n;i++)
		for(int j=0;j<i;j++)
		{
//			cerr << i << " " << j << " " << sum[i]-sum[j] << endl;
			cnt[sum[i]-sum[j]]++;
		}
	for(ll i=1;i<=10*n;i++)
		if(a%i==0 && (a/i)<MAXN)
			ans+=cnt[i]*cnt[a/i];
	if(a==0)
		ans+=cnt[0]*n*(n+1)/2;
	cout << ans << endl;
	return 0;
}
