#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cstdlib>
using namespace std;
long long ans;
int hash[120000],x,i,a,n,j;
char c[4100];
void add(int x){
	hash[x]++;
}
void calc(int x){
	if(!x){
		if(!a)ans+=n*(n+1)/2;
		return;
	}
	if(a%x)return;
	x=a/x;
	if(x<=100000)ans+=hash[x];
}
int main(){
	scanf("%d",&a);
	scanf("%s",c+1);
	n=strlen(c+1);
	for(i=1;i<=n;++i){
		x=0;
		for(j=i;j<=n;++j){
			x+=c[j]-48;
			add(x);
		}
	}
	for(i=1;i<=n;++i){
		x=0;
		for(j=i;j<=n;++j){
			x+=c[j]-48;
			calc(x);
		}
	}
	printf("%I64d\n",ans);
}
