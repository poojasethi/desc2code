#include <cstdio>
#include <cstring>
int A,N,s[4005],f[40005];
char S[4005];
int main()
{
	scanf("%d%s",&A,S+1),N=strlen(S+1);
	for (int i=1; i<=N; i++)
	{
		s[i]=s[i-1]+S[i]-48;
		for (int j=0; j<i; j++) f[s[i]-s[j]]++;
	}
	long long ans=0;
	for (int i=1; i<=N; i++)
		for (int j=0; j<i; j++)
		{
			int x=s[i]-s[j];
			if (x&&A%x==0&&A/x<=40000) ans+=f[A/x]; else if (!x&&!A) ans+=N*(N+1)/2;
		}
	printf("%I64d\n",ans);
}