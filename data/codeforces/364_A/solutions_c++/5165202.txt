#include <cstdio>
#include <cstring>
const int maxn=4005;
int k,n(0),s[maxn],a[maxn];
long long ans(0),f[40000];
int main(){
	
	scanf("%d",&k);
	char ch;
	while(scanf("%c",&ch)!=EOF)if(ch!='\n')a[++n]=ch-'0';
	s[0]=0;
	memset(f,0,sizeof(f));
	for(int i=1;i<=n;++i)s[i]=s[i-1]+a[i];
	for(int i=1;i<=n;++i)
		for(int j=i;j<=n;++j)f[s[j]-s[i-1]]++;	
	for(int i=1;i<=s[n];i++)if(k%i==0&&f[i])
		if(k/i<=s[n])ans+=f[i]*f[k/i];
	if(k==0)//ans=f[0]*n*(n+1)/2;
	for(int i=0;i<=s[n];i++)ans+=f[0]*f[i];
	printf("%I64d",ans);
	return 0;
}
