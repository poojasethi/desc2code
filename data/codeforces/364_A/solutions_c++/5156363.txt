#include <iostream>
#include <fstream>
#include <string>

using namespace std;

string in;
int a;
long long sum[40001];
long long sumAll=0;


int main () {
	cin>>a;
	cin>>in;

	for (int i=0;i<in.size();i++) {
		int tmp=0;
		for (int j=i;j<in.size();j++) {
			tmp+=in[j]-'0';
			sum[tmp]++;
			if (tmp!=0) sumAll++;
		}
	}

	long long res=0;
	if (a>0)
	for (int i=1;i*i<=a;i++) if (a%i==0) 
	if (i<=40000 && a/i<=40000)
	{

		if (i*i==a) res+=sum[i]*sum[i];
		else 
		res+=sum[i]*sum[a/i]*2;
	}
	if (a==0) res=sum[0]*sumAll + sumAll*sum[0] + sum[0]*sum[0];
	
	cout<<res<<endl;
	
}
