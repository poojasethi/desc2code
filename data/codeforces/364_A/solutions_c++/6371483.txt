#include<iostream>
using namespace std;
typedef long long ll;
ll n,a,sum[4444],cnt[44444],ans;
string s;
int main()
{
    cin>>a>>s;
    n=s.size();
    for(ll i=1;i<=n;i++)
        sum[i]=sum[i-1]+s[i-1]-48;
    for(ll i=1;i<=n;i++)
        for(ll j=i;j<=n;j++)
        cnt[sum[j]-sum[i-1]]++;
    if(a==0)
        ans=cnt[0]*n*(n+1)/2;
    for(ll i=1;i<=n;i++)
        for(ll j=i;j<=n;j++)
        if(sum[j]-sum[i-1]>0&&a%(sum[j]-sum[i-1])==0&&a/(sum[j]-sum[i-1])<=36000)
        ans+=cnt[a/(sum[j]-sum[i-1])];
    cout<<ans;
}
