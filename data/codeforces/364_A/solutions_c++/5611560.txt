#include<iostream>
#include<string>
using namespace std;
int sum[4001], a;
string s;
long long res, nposs[40000];
int main() {
	cin >> a;
	sum[0]=0;
	cin >> s;
	for(int i=0;i<s.size();i++)
		sum[i+1]=sum[i] + (s[i]-'0');
	for(int i=1;i<=s.size();i++)
		for(int j=0;j<i;j++)
			nposs[sum[i]-sum[j]]++;
	for(int i=1;i<40000;i++)
		if(a%i == 0 && a/i < 40000)
			res += nposs[i]*nposs[a/i];
	if(a == 0) {
		for(int i=1;i<40000;i++)
			res += nposs[0]*nposs[i];
		res += nposs[0]*nposs[0];
	}
	cout << res << '\n';
	return 0;
}
