#include <bits/stdc++.h>
using namespace std;
#define ll long long int

int main(){
	ll a;
	string str;

	cin>>a>>str;
	map<ll,ll> cnt;

	for(int i=0;i<str.length();i++){
		ll sm=0;
		for(int j=i;j<str.length();j++){
			sm+=str[j]-'0';
			cnt[sm]++;
		}
	}

	ll ans=0;
	if(a==0){
		ll n=str.length();
		n=(n*(n+1))/2;
		ans=2*cnt[0]*n-cnt[0]*cnt[0];
	}

	else{
		for(map<ll,ll>::iterator itr=cnt.begin();itr!=cnt.end();itr++){
			if(itr->first > 0 and (a % itr->first == 0)){
				ans+=((itr->second) * cnt[a / (itr->first)]);
			}
		}
	}
	cout<<ans<<endl;
}
