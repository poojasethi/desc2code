#include<map>
#include<iostream>
using namespace std;
int a,sum[5000],n;
char s[5000];
map<int,int>show;
int main(){
	cin>>a>>s;
	for(int i=0;s[i];i++)sum[i+1]=sum[i]+s[i]-'0',n=i+1;
	for(int i=0;i<n;i++)
		for(int j=i;j<n;j++)
			show[sum[j+1]-sum[i]]++;
	long long ans=0;
	for(int i=1;i*i<=a;i++)
		if(a%i==0){
			long long x=show[i],y=show[a/i];
			if(i*i!=a)ans+=x*y*2;
			else ans+=x*y;
		}
	if(a==0)ans=2LL*show[0]*(long long)(n*(n+1)/2-show[0])+(long long)show[0]*show[0];
	cout<<ans<<endl;
}
