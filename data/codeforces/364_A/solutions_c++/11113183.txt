#include<bits/stdc++.h>
using namespace std;
int a;
string s;
long long occ[36001];
int main()
{
	cin>>a>>s;
	long long n=s.size(),i,j;
	int sum[4001];
	sum[0]=0;
	for(i=1;i<=n;i++)
		sum[i]=sum[i-1]+(s[i-1]-'0');
	int t=0;	
	for(i=0;i<=n;i++)
		for(j=0;j<i;j++)
			occ[sum[i]-sum[j]]++,t++;
	long long ans=0;
	if(a==0)
		ans=occ[0]*(2*t-occ[0]);
	else
		for(i=1;i<=36000;i++)
			if(!(a%i))
				if((a/i)<=36000)
					ans+=occ[i]*occ[a/i];
	cout<<ans<<endl;								
	return 0;
}
