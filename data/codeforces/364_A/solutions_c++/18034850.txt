#include<bits/stdc++.h>
using namespace std;
long long x,arr[4002],ans;
map<long long,long long>ch;
string s;
int main(){
    cin>>x>>s;
    for(int i=0;i<s.size();i++){
        arr[i]=arr[i-1]+(s[i]-48);
        ch[arr[i]]++;
    }
    for(int i=0;i<s.size();i++){
        for(int j=i+1;j<s.size();j++){
            ch[arr[j]-arr[i]]++;
        }
    }
    for(long long i=1;i<=arr[s.size()-1];i++){
        if(x%i==0&&ch[i]&&ch[x/i]){
            ans+=(ch[i]*ch[x/i]);
        }
    }
    if(x==0)ans+=((s.size()*(s.size()+1))/2)*ch[0];
    cout<<ans<<endl;
}
