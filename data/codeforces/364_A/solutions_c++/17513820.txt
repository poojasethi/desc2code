

#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
ll a,ans;
string s;
map<ll,ll> m;
int main()
{
	cin>>a>>s;
	for (int i=0;i<s.size();i++) 
	{
		ll tmp=0;
		for (int j=i;j<s.size();j++) tmp+=s[j]-'0',m[tmp]++;
	}
	if (!a) ans=m[0]*(s.size()*(s.size()+1)-m[0]);
	for (ll i=1;i*i<=a;i++) if (a%i==0) ans+=m[i]*m[a/i]*(i*i==a?1:2);
	cout<<ans;
}