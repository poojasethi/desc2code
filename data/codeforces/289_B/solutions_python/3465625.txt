
# main
R, C, D = map(int, raw_input().split())
a = [[] for i in range(R)]
b = []
for i in range(R):
    a[i] = map(int, raw_input().split())
    for j in range(C):
	b.append(a[i][j])

b.sort()
for i in range(0, R * C - 1):
    if (b[i + 1] - b[i]) % D > 0:
	print "-1"
	exit()

ans = 10000000000
sum2 = sum(b)
sum1 = 0

for i in range(R * C):
    n2 = ((sum2 - sum1) - (b[i] * (R * C - i))) / D
    sum1 += b[i]
    n1 = (b[i] * (i + 1) - sum1) / D
    ans = min(ans, n1 + n2)

print ans
