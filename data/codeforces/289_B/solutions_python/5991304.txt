import sys

n,m,d=map(int,raw_input().split())
t=[]

for i in range(n):
    t+=(map(int,raw_input().split()))

rest=t[0]%d
gelijk=True
for i in range (n*m):
    if t[i]%d!=rest:
        gelijk=False
        
if gelijk:
    res=0
    t.sort()
    med=t[n*m/2]
    for i in range(n*m):
        res+=abs((med-t[i]))/d
else:
    res=-1
    
print res