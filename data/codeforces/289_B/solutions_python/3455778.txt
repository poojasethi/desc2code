import sys
f = sys.stdin #open('2.txt') #

n, m, d = f.readline().split()
n,m,d= int(n), int(m), int(d)

a = []
for i in range(n):
	a.extend([int(x) for x in f.readline().split()])

a.sort()

has_solution = True
t = a[0]%d
for x in a:
	if x%d!=t:
		has_solution=False
		break

if not has_solution:
	print -1
else:
	t = a[len(a)/2]
	s=0
	for x in a:
		s+=abs(x-t)/d
	print s

