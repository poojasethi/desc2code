I=lambda:map(int,raw_input().split())
n,m,d=I()
a=[i for c in range(n) for i in I()]
if len(set(i%d for i in a))>1:
 print -1
else:
 a=sorted(i/d for i in a)
 print sum(abs(i-a[len(a)/2])for i in a)
