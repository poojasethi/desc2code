r=lambda:map(int, raw_input().split())
n,m,d=r()
b=sorted(sum([r() for i in [0]*n], []))

if [i for i in b if (b[0]%d != i%d)]:
    print -1
    exit()

print sum([abs(i-b[len(b)/2]) for i in b])/d