I = lambda:map(int , raw_input().split())
n , m , d = I()
a = []
for i in range(n):
    a.extend(I())
a = sorted(a)
q = a[0] % d
for i in range(len(a)):
    if a[i] % d != q:
        print -1
        exit(0)
    else:
        a[i] = (a[i] - q) // d

S = sum(a)
cur_s = 0
answer = 10**9
for i in range(len(a)):
    answer = min(answer , -((len(a)) - i) * a[i] + i * a[i] + (S - cur_s) - cur_s)
    cur_s += a[i]

print answer
