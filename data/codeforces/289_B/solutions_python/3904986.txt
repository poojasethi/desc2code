I=lambda:map(int,raw_input().split())
n,m,d=I()
a=[]
for i in[0]*n:a+=I()
a.sort()
print[sum(abs(i-a[n*m/2])for i in a)/d,-1][len(set(i%d for i in a))>1]
