#include <bits/stdc++.h>
#define MAX 10005
using namespace std;
int n, m, d, ans;
int a[MAX];

int main()
{
	cin >> n >> m >> d;
	n *= m;
	m = n / 2;
	for(int i = 0; i < n; i++) cin >> a[i];
	sort(a, a + n);
	for(int i = 0; i < n; i++)
	{
		if((a[i] - a[m]) % d) 
		{
			ans = -1;
			break;
		}
		else
		{
			ans += abs(a[i] - a[m]);
		}
	}

	if(ans == -1) cout << ans;
	else cout << ans / d;
}