#include<bits/stdc++.h>

using namespace std;



int main() {

	int n,i,j,m = 0,d,ctr=0;
	
	cin >> n >> m >> d;
	
	int a[n*m];
	
	for(i=0;i<n*m;i++) cin >> a[i];
	
	sort(a, a+(n*m));
	
	int mid = (n*m)/2;

	
	for(i=0;i<n*m;i++) {
		if((a[mid] - a[i])%d==0) {
			ctr = ctr + abs((a[mid] - a[i])/d);
		} else
			break;
	}
	
	if(i==n*m) cout<<ctr<<endl;
	else cout<<-1<<endl;
	
	
	return 0;
}