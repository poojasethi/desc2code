#include<bits/stdc++.h>
using namespace std;
int main() {
	int n, m, k;
	scanf("%d%d%d", &n, &m, &k);
	int t[n*m], war;
	for(int i = 0; i < n*m; i++) {
		scanf("%d", &t[i]);
		if(i==0) war = t[i]%k;
		else if(t[i]%k!=war) { printf("-1\n"); return 0;}
	}
	sort(t, t+n*m);
	war = t[n*m/2];
	int ile = 0;
	for(int i = 0; i < n*m; i++) {
		ile += (max(war, t[i])-min(war, t[i]))/k;
	}
	printf("%d\n", ile);
}
