#include<bits/stdc++.h>
using namespace std;
int main()
{

int n,m,d,i,sum,mid,a[100000];
cin>>n>>m>>d;
n=n*m;
for(i=0;i<n;i++)
{
cin>>a[i];
}
sort(a,a+n);
int x=a[0]%d;
for(i=1;i<n;i++)
if(a[i]%d!=x)
{cout<<"-1"; return 0;}
mid=n/2;
sum=0;
for(i=0;i<n;i++)
{
sum+=abs(a[i]-a[mid]);

}
cout<<sum/d;
}
