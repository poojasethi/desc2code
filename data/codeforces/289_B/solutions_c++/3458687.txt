#include <cstdio>
#include <algorithm>

const int MAXN = 110;

using namespace std;

int N,M,D;
int A[MAXN*MAXN];

int main()
{
	scanf("%d %d %d",&N,&M,&D);
	for(int c = 0 ; c < N*M ; c++)
		scanf("%d",&A[c]);
	sort(A,A+N*M);
	int med = A[N*M/2] , sol = 0;
	for(int c = 0 ; c < N*M ; c++)
	{
		int tmp = abs(A[c]-med);
		if(tmp%D)
		{
			printf("-1\n");
			return 0;
		}
		sol += tmp/D;
	}
	printf("%d\n", sol);
}