#include<iostream>
#include<algorithm>
using namespace std;

int n,m,d,a[10010],ans,mod;

int abs(int x){return x<0?(-x):x;}

int main()
	{
	cin>>n>>m>>d;
	cin>>a[1]; mod=a[1]%d;
	for(int i=2;i<=n*m;i++)
		{
		cin>>a[i];
		if(a[i]%d!=mod) {cout<<"-1"; return 0;}
		}
	sort(a+1,a+1+n*m);
	int t=a[n*m/2+1];
	for(int i=1;i<=n*m;i++) ans+=abs(a[i]-t)/d;
	cout<<ans;
	return 0;
	}
