#include <bits/stdc++.h>
#define sz(a) ((int)(a).size())
using namespace std;

int main(){
    string s;
    int k;
    cin>>k>>s;
    int n=sz(s);



    set<char>x;
    for(int i=0;i<k;i++)x.insert(-i);
    for(int i=0;i<n;i++)x.erase((s[i]-'a')*-1);

    for(int i=(n-1)/2;i>=0;i--){

        if(s[i]=='?' && s[n-i-1]=='?'){

            char letter;
            if(x.empty())letter='a';
            else letter=(*x.begin())*-1 + 'a',x.erase(*x.begin());

            s[i]=letter,s[n-i-1]=letter;
        }
        else if(s[i]!='?' && s[n-i-1]!='?'){
            if(s[i]!=s[n-i-1]){cout<<"IMPOSSIBLE\n"; return 0;}
        }
        else {
            if(s[i]=='?')s[i]=s[n-i-1];
            else s[n-i-1]=s[i];

        }


    }
    if(!x.empty())cout<<"IMPOSSIBLE\n";
    else cout<<s<<"\n";
}
