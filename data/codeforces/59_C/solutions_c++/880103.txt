#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

char s[1005];

int main(void) {
	int n, L, f=0, w[26]={};
	scanf("%d%s", &n, s);
	L = strlen(s);
	int c=0;
	for(int i=0;i<L;i++) w[s[i]-'a']++;
	for(int i=0;i<n;i++) if(w[i]==0) ++c;
	for(int i=0,j=L-1;i<=j;i++,j--) {
		if(s[i]=='?' && s[j]=='?') {
			--c;
		} else if(s[i]!='?' && s[i]>='a'+n) {
			f=1;
		} else if(s[j]!='?' && s[j]>='a'+n) {
			f=1;
		} else if(s[i]=='?') s[i]=s[j];
		else if(s[j]=='?') s[j]=s[i];
		else if(s[i]!=s[j]) f=1;
	}
	if(c>0) f=1;
	else {
		for(int i=0,j=L-1;i<=j;i++,j--) {
			if(s[i]=='?' && s[j]=='?') {
				if(c++<0) {s[i]=s[j]='a';}
				else {
					for(int k=0;k<n;k++) if(w[k]==0) {
						s[i]=s[j]=k+'a';
						w[k]=1;
						break;
					}
				}
			}
		}
	}
	if(f) puts("IMPOSSIBLE");
	else puts(s);
	return 0;
}
