#include <stdio.h>
#include <algorithm>
#include <string.h>
using namespace std;
char s[100000];
int check[30];
int main(){
	int n,i,j,imp=0,co=0,uuse[30];
	scanf("%d",&n);
	scanf("%s",s);
	int len=strlen(s);
	for(i=0;i<len;i++){
		if(s[i]=='?'&&s[len-1-i]!='?') s[i]=s[len-1-i];
		if(s[i]!='?'&&s[len-1-i]!='?'&&s[i]!=s[len-1-i]) imp=1;
		if(s[i]!='?') check[s[i]-'a']=1;
		if(s[i]=='?'&&s[len-1-i]=='?') co++;
		if(s[i]!='?'&&s[i]-'a'>=n) imp=1;
	}
	if(imp==0){
		co=(co+1)/2;
		int co1=0;
		for(i=0;i<n;i++)
			if(check[i]==0) uuse[co1++]=i;
		if(co1>co) imp=1;
		else {
			int kk=0;
			for(i=0;i<=(len-1)/2;i++)
				if(s[i]=='?') {
					if(co1<co)
						s[i]='a';
					else s[i]=uuse[kk++]+'a';
					co--;
					s[len-1-i]=s[i];
				}
		}

	}
	if(imp)  printf("IMPOSSIBLE\n");
	else printf("%s\n",s);
	return 0;
}


                     