#include <iostream>
using namespace std;

int main() {
	int k;
	string s;
	cin >> k >> s;

	int n = s.size();

	int a = 0, b = k;
	bool was[26] = {};
	for (int i = 0; i < n/2 + n%2; i++) {
		int j = s.size()-1-i;

		if (s[i] == '?' && s[j] == '?') {
			a++;
			continue;

		} else if (s[i] == '?' && s[j] != '?') {
			s[i] = s[j];

		} else if (s[i] != '?' && s[j] == '?') {
			s[j] = s[i];

		} else {
			if (s[i] != s[j]) {
				cout << "IMPOSSIBLE" << endl;
				return 0;
			}
		}
		if (!was[s[i]-'a']) {
			b--;
		}
		was[s[i]-'a'] = true;
	}

	if (a < b) {
		cout << "IMPOSSIBLE" << endl;
		return 0;
	}

	for (int i = n/2 + n%2 - 1; i >= 0; i--) {
		if (s[i] == '?') {
			char c = 'a'+k-1;
			while ('a' < c && was[c-'a']) {
				c--;
			}
			was[c-'a'] = true;
			s[i] = s[n-1-i] = c;
		}
	}
	cout << s << endl;
	return 0;
}


