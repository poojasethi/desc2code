#include<string>
#include<iostream>

#define	rep(i,n)	for(int i=0;i<n;i++)

using namespace std;

int main(){
	int k;
	string s;	cin>>k>>s;
	int n=s.length();

	int Qnum=0;
	bool ok=true,used[128]={};
	for(int i=0,j=n-1;i<=j;i++,j--){
		if(s[i]!='?' && s[j]!='?'){
			if(s[i]!=s[j]){ ok=false; break; }
		}
		else if(s[i]!='?' && s[j]=='?')	s[j]=s[i];
		else if(s[i]=='?' && s[j]!='?')	s[i]=s[j];
		else	Qnum++;

		if(s[i]!='?')	used[s[i]]=true;
	}

	int Unum;
	char unused[26];
	{
		int p=0;
		rep(i,k) if(!used['a'+i]) unused[p++]='a'+i;
		Unum=p;
	}

	if(Qnum<Unum)	ok=false;
	else{
		int p=Unum-1;
		for(int i=(n-1)/2,j=n/2;i>=0;i--,j++){
			if(s[i]=='?')	s[i]=s[j]=(p<0?'a':unused[p--]);
		}
	}

	cout<<(ok?s:"IMPOSSIBLE")<<endl;

	return 0;
}
