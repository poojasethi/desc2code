#include <iostream>
#include <cstring>
using namespace std;
int k;
char arr[256];
int n;
bool used[256];
int main()
{
	cin>>k>>arr;
	n = strlen(arr);
	for(int i=0; i<n; ++i) {
		if (arr[i]!='?') {
			int a = n-1-i;
			if (arr[a]=='?') arr[a]=arr[i];
			if (arr[a]!=arr[i]) {
				cout<<"IMPOSSIBLE\n";
				return 0;
			}
		}
	}
	for(int i=0; i<n; ++i) used[(int)arr[i]] = 1;
	int c = 'a' + (k-1);
	for(int i=(n+0)/2; i>=0; --i) {
		while(c>='a' && used[c]) --c;
		if (arr[i]!='?') continue;
		int a = n-1-i;
		if (c>='a') {
			arr[a] = arr[i] = c--;
		} else {
			arr[a] = arr[i] = 'a';
		}
	}
	while(c>='a' && used[c]) --c;
	if (c>='a') {
		cout<<"IMPOSSIBLE\n";
		return 0;
	}
	cout<<arr<<'\n';
}