#include <cstdio>
#include <cstring>
#define FORI(i,s,e)	for(int i = s; i < e; ++i)
char w[128];
bool z[128];
int main(void){
	int l, m, n; scanf("%d %s", &n, w);
	char put = 'a' + n - 1;
	bool v = true;
	l = strlen(w);
	FORI(c, 'a', 'a' + n) z[c] = 1;
	FORI(i, 0, l) z[w[i]] = 0;
	for(int m = (l-1)>>1; m > -1; --m){
		int r = l - m - 1;
		if(w[m] == '?'){
			if(w[r] == '?'){
				while(put > 'a' && !z[put]) put--;
				w[m] = w[r] = put;
				z[put] = 0;
				if(put > 'a') put--;
			} else w[m] = w[r];
		} else if(w[r] == '?') w[r] = w[m];
		else v &= w[m] == w[r];
		v &= w[m] < 'a' + n;
		v &= w[r] < 'a' + n;
	}
	FORI(c, 'a', 'a' + n) v &= !z[c];
	puts(v ? w : "IMPOSSIBLE");
	return 0;
}
