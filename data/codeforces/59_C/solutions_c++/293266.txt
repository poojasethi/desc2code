#include<cstdio>
#include<cstring>
//      Last Change:  2011-02-21 16:12:18
char s[101];
bool b[26];
int main()
{
	int k;
	scanf("%d",&k);
	scanf("%s",s);
	int len=strlen(s),c1=0,c2=0;
	for(int i=0;i<=len-i-1;++i)
		if(s[i]=='?'&&s[len-i-1]=='?')
			++c1;
		else
		{
			if(s[i]!='?')b[s[i]-'a']=true;
			if(s[len-i-1]!='?')b[s[len-1-i]-'a']=true;
			if(s[i]!='?')
				if(s[len-i-1]!='?')
					if(s[len-1-i]!=s[i])
						c1=-10000;
					else continue;
				else
					s[len-i-1]=s[i];
			else
				s[i]=s[len-i-1];
		}
	for(int i=0;i<k;++i)
		c2+=1-b[i];
	if(c1<0||c1<c2)
	{
		puts("IMPOSSIBLE");
		return 0;
	}
	for(int i=0,j=c1;i<=len-i-1;++i)
		if(s[i]=='?')
		{
			if(j>c2)
				s[i]=s[len-i-1]='a';
			else
				for(int l=0;l<k;++l)
					if(!b[l])
					{
						b[l]=true;
						s[i]=s[len-i-1]=l+'a';
						break;
					}
			--j;
		}
	puts(s);
	return 0;
}
