n = int(raw_input())
s = raw_input().replace(" ", "").strip("0")
if s.count("1") == 0:
    print 0
else:
    ans = 1
    for i in range(n, 0, -1):
        t = i * "0"
        c = s.count(t)
        if c:
            ans *= (i + 1)**c
            s = s.replace(t, "")
    print ans