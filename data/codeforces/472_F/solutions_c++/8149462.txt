#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<cstring>
#define MAXN 10005
#define MAXL 33
using namespace std ;

int N, M, K, K2 ;
int x[MAXN], y[MAXN] ;
int rk[MAXN], rk2[MAXN], num[MAXN] ;
int stk[1000005][2], top ;
int stk2[1000005][2], top2 ;
void end(int x)
{
	if(!x) printf("-1\n") ;
	else
	{
		printf("%d\n", top+top2) ;
		for(int i = 1; i <= top; i ++)
			printf("%d %d\n", stk[i][0], stk[i][1]) ;
		
		for(int i = top2; i >= 1; i --)
			printf("%d %d\n", stk2[i][0], stk2[i][1]) ;
	}
	//system("pause") ;
	exit(0) ;
}
void add(int x, int y)
{
	stk[++top][0] = x, stk[top][1] = y ;
}
void add2(int x, int y)
{
	stk2[++top2][0] = x, stk2[top2][1] = y ;
}
void SW(int x, int y)
{
	add(x, y), add(y, x), add(x, y) ;
}
void SW2(int x, int y)
{
	add2(x, y), add2(y, x), add2(x, y) ;
}

int main()
{
	int i, j, mx, tmp ;
	int fr, to ;
	scanf("%d", &N) ;
	for(i = 1; i <= N; i ++)
		scanf("%d", &x[i]), rk[i] = i, rk2[i] = i ;
	for(i = 1; i <= N; i ++)
		scanf("%d", &y[i]) ;
	while(true)
	{
		mx = 0 ;
		for(i = K+1; i <= N; i ++)
			if(x[i] > x[mx]) mx = i ;
		if(mx == 0) break ;
		K ++ ;
		swap(rk[K], rk[mx]), swap(x[K], x[mx]) ;
		for(i = K+1; i <= N; i ++)
			if((x[i]^x[K]) < x[i])
				x[i] ^= x[K], add(rk[i], rk[K]) ;
	}	
	while(true)
	{
		mx = 0 ;
		for(i = K2+1; i <= N; i ++)
			if(y[i] > y[mx]) mx = i ;
		if(mx == 0) break ;
		K2 ++ ;
		swap(rk2[K2], rk2[mx]), swap(y[K2], y[mx]) ;
		for(i = K2+1; i <= N; i ++)
			if((y[i]^y[K2]) < y[i])
				y[i] ^= y[K2], add2(rk2[i], rk2[K2]) ;
	}
	if(K < K2) end(0) ;
	for(i = 1; i <= K2; i ++)
	{
		tmp = x[i]^y[i] ;
		for(j = i; j <= K; j ++)
			if((tmp^x[j]) < tmp)
				tmp ^= x[j], add(rk[i], rk[j]) ;
		if(tmp) end(0) ;
	}
	for(i = K2+1; i <= K; i ++)
		x[i] = 0, add(rk[i], rk[i]) ;
	for(i = 1; i <= N; i ++) num[rk[i]] = i ;
	for(i = 1; i <= K2; i ++)
	{
		if(rk[i] != rk2[i])
		{
			fr = rk[i], to = rk2[i] ;
			SW(fr, to) ;
			rk[num[to]] = fr ;
			rk[i] = to ;
			swap(num[fr], num[to]) ;
		}
	}
	end(1) ;
 	return 0 ;
}
