#include<cstdio>
#include<algorithm>
#include<cmath>
#include<iostream>
#include<string>
#include<vector>
#define pii pair<int,int>
#define x first
#define y second
using namespace std;
vector<pii> AA,BB;
int a[20000],b[20000],n,flag;
void change(int *a,int i,int j,vector<pii> &Q)
{
	Q.push_back(pii(i,j));
	a[i]^=a[j];
}
void work(int *a,vector<pii> &Q)
{
	int r=0;
	for (int i=30;i>=0;--i)
		for (int j=r;j<n;++j)
			if ((a[j]&(1<<i)))
			{
				if (j!=r)
				{
					change(a,r,j,Q);
					change(a,j,r,Q);
					change(a,r,j,Q);
				}
				for (int k=0;k<n;++k)
					if (k!=r&&(a[k]&(1<<i)))
						change(a,k,r,Q);
				r++;
				break;
			}
}
int main()
{
	scanf("%d",&n);
	for (int i=0;i<n;++i) scanf("%d",&a[i]);
	for (int i=0;i<n;++i) scanf("%d",&b[i]);
	work(a,AA);
	work(b,BB);
	for (int i=0;i<n;++i)
	{
		if (a[i]==0) break;
		int dq=1<<30;
		while (!(dq&a[i])) dq>>=1;
		for (int j=0;j<=30&&j<n;++j)
			if ((a[j]^b[j])&dq) change(a,j,i,AA);
	}
	flag=1;
	for (int i=0;i<n;++i)
		if (a[i]!=b[i]) flag=0;
	if (!flag) 
	{
		printf("-1\n");
		return 0;
	}
	printf("%d\n",AA.size()+BB.size());
	for (int i=0;i<AA.size();++i)
		printf("%d %d\n",AA[i].x+1,AA[i].y+1);
	reverse(BB.begin(),BB.end());
	for (int i=0;i<BB.size();++i)
		printf("%d %d\n",BB[i].x+1,BB[i].y+1);
	return 0;
}
					   				   	 	  		 			 	  	