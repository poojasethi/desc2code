#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <vector>
#include <ctime>
#define fi first
#define se second
#define PA pair<int,int>
#define VI vector<int>
#define VP vector<PA >
#define mk(x,y) make_pair(x,y)
#define N 11000
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m;
int id[N],a[N],Id[N],b[N],f[N],c[N],d[N];
VP an,re;
inline void Me(int x,int y) {
	an.push_back(mk(x,y));
}
inline void Swap(int x,int y) {
	Me(x,y);
	Me(y,x);
	Me(x,y);
}
inline void fail() {
	printf("-1\n");
	exit(0);
}
inline void print() {
	printf("%d\n",an.size());
	for (int i=0;i<an.size();i++) printf("%d %d\n",an[i].fi,an[i].se);
}
int main() {
	//freopen("472f.in","r",stdin);
	scanf("%d",&n);
	For(i,1,n) {
		scanf("%d",&k);
		f[i]=31; c[i]=k;
		for (j=30;j>=0;j--) if (k>>j&1) {
			if (id[j]) {
				Me(i,id[j]);
				k^=a[j];
			} else {
				id[j]=i;
				a[j]=k;
				f[i]=j;
				break;
			}
		}
	}
	For(i,0,30) if (id[i])
		For(j,i+1,30) if (id[j]&&a[j]>>i&1) {
			Me(id[j],id[i]);
			a[j]^=a[i];
		}
	For(i,1,n) {
		scanf("%d",&k);
		d[i]=k;
		for (j=30;j>=0;j--) if (k>>j&1) {
			if (Id[j]) {
				re.push_back(mk(i,Id[j]));
				k^=b[j];
			} else {
				Id[j]=i;
				b[j]=k;
				break;
			}
		}
	}
	For(i,0,30) if (Id[i])
		For(j,i+1,30) if (Id[j]&&b[j]>>i&1) {
			re.push_back(mk(Id[j],Id[i]));
			b[j]^=b[i];
		}
	
	For(i,0,30) if (b[i]) {
		k=b[i];
		for (j=i;j>=0;j--) if (k>>j&1) k^=a[j];
		if (k) fail();
	}
	
	for (i=30;i>=0;i--) if (b[i]) {
		k=b[i]^a[i];
		for (j=i-1;j>=0;j--) if (k>>j&1) {
			Me(id[i],id[j]);
			k^=a[j];
		}
	}
	
	For(i,0,30) if (a[i]&&!b[i]) {
		Me(id[i],id[i]);
		f[id[i]]=0;
		id[i]=a[i]=0;
	}
	
	For(i,0,30) if (b[i]) {
		int A=Id[i],B=id[i];
		if (A==B) continue;
		swap(id[f[A]],id[f[B]]);
		swap(f[A],f[B]);
		Swap(A,B);
	}
	
	//printf("%d\n",an.size()+re.size());
	//for (i=0;i<an.size();i++) printf("%d %d\n",an[i].fi,an[i].se);
	//for (i=re.size()-1;i>=0;i--) printf("%d %d\n",re[i].fi,re[i].se);
	for (i=re.size()-1;i>=0;i--) an.push_back(re[i]);
	print();
	/*if (n<9000) print();
	else {
		for (i=0;i<an.size();i++) {
			PA A=an[i];
			c[A.fi]^=c[A.se];
		}
		For(i,1,n) if (c[i]!=d[i]) printf("%d %d %d\n",i,c[i],d[i]);
	}*/
	return 0;
}
