#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
const int maxn=1000+10;
int n,m,g[maxn][maxn],x[maxn],y[maxn],l,k;
char s;
double ans;
long long num;
int main()
{
	//freopen("input.txt","r",stdin);
	//freopen("output.txt","w",stdout);
	scanf("%d %d\n",&n,&m);
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=m;j++)
		{
			scanf("%c",&s);
			if(s=='X')
				g[i][j]=1,x[i]=j,y[j]=i,l++;
		}
		scanf("\n");
	}
	for(int i=1;i<=n;i++)
	{
		if(x[i])
		{
			k+=x[i]-1;
			num+=k*(m-x[i]);
		}
		if(!x[i+1] || x[i+1]<x[i]) k=0;
	}
	for(int i=1;i<=n;i++)
	{
		if(x[i])
		{
			num+=k*(x[i]-1);
			k+=m-x[i];
		}
		if(!x[i+1] || x[i+1]>x[i]) k=0;
	}
	for(int i=1;i<=m;i++)
	{
		if(y[i])
		{
			k+=y[i]-1;
			num+=k*(n-y[i]);
		}
		if(!y[i+1] || y[i+1]<y[i]) k=0;
	}
	for(int i=1;i<=m;i++)
	{
		if(y[i])
		{
			num+=k*(y[i]-1);
			k+=n-y[i];
		}
		if(!y[i+1] || y[i+1]>y[i]) k=0;
	}
	num*=2;
	for(int i=1;i<=n;i++)
		for(int j=i+1;j<=n;j++)
			num+=(m-!!x[i])*(m-!!x[j])*(j-i);
	for(int i=1;i<=m;i++)
		for(int j=i+1;j<=m;j++)
			num+=(n-!!y[i])*(n-!!y[j])*(j-i);
	num*=2;
	ans=(double)num/(n*m-l)/(n*m-l);
	printf("%.9lf\n",ans);
	return 0;	
}

   					 	 		 	    	 		   	