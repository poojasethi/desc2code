#include <cstring>
#include <cstdio>
using namespace std;

long long ans;
int a[1010],b[1010],cnt,n,m;
char map[1010][1010];

int getabs(int x){if (x>0) return x; return -x;}

void calc(int a[], int n, int m)
{
	for (int i=1; i<=n; i++)
	{
		if (a[i])
		{
			long long res=m-a[i];
			for (int j=i; j; j--)
				if (a[j-1]>a[j]) res+=m-a[j-1]; else break;
			for (int j=i; j<=n; j++)
				if (a[j+1]>a[j]) res+=m-a[j+1]; else break;
			ans+=4*(a[i]-1)*res;
		}
	}
}

int main()
{
	scanf("%d%d",&n,&m);
	//if (n>m) {int tmp; tmp=n, n=m, m=tmp;}
	for (int i=1; i<=n; i++) scanf("%s",map[i]+1);
	for (int i=1; i<=n; i++)
	for (int j=1; j<=m; j++)
	{
		if (map[i][j]=='.') ans+=m*(i-1)*i/2+m*(n-i)*(n-i+1)/2, 
							ans+=n*(j-1)*j/2+n*(m-j)*(m-j+1)/2, cnt++;
		else ans-=m*(i-1)*i/2+m*(n-i)*(n-i+1)/2, 
			 ans-=n*(j-1)*j/2+n*(m-j)*(m-j+1)/2,a[i]=j, b[j]=i;
	}
	for (int i=1; i<=n; i++) if (a[i])
	for (int j=1; j<=m; j++) if (b[j]) 
		ans+=(getabs(i-b[j])+getabs(j-a[i]));
	//printf("%I64d\n",ans);
	calc(a,n,m);
	calc(b,m,n);
	//printf("%I64d %d\n",ans,cnt);
	printf("%.10lf\n",ans*1.0/cnt/cnt);
	//for (;;);
	return 0;
}
