/*
 * Author: OpenLegend
 * Created Time:  2011-2-20 16:31:42
 * File Name: d.cpp
 */
#include <iostream>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <cstdlib>
#include <algorithm>
#include <vector>
using namespace std;
typedef long long LL;
const int maxn = 1005;
int n, m;
LL sum;
char s[maxn][maxn], s2[maxn][maxn];
LL num[maxn], loc[maxn];
void cal(){
    for(int i = 0; i < m; i ++){
        num[i] = 0;
        loc[i] = -1;
        for(int j = 0; j < n; j ++){
            if(s[j][i] == '.') num[i] ++;
            else loc[i] = j;
        }
    }
    for(int i = 0; i < m; i ++){
        for(int j = 0; j < m; j ++){
            sum += num[i]*num[j]*abs(j-i);
        }
        LL ts = 0;
        if(loc[i] != -1){
            ts += loc[i];
            int x = i-1;
            while(x >= 0){
                if(loc[x] == -1 || loc[x] > loc[x+1]) break;
                ts += loc[x];
                x --;
            }
            x = i+1;
            while(x < m){
                if(loc[x] == -1 || loc[x] > loc[x-1]) break;
                ts += loc[x];
                x ++;
            }
        }
        sum += ts*(n-loc[i]-1)*4;
    }
}
int main() {
    while(scanf("%d%d", &n, &m) != EOF){
        sum = 0;
        LL tn = 0;
        for(int i = 0; i < n; i ++){
            scanf("%s", s[i]);
            for(int j = 0; j < m; j ++){
                if(s[i][j] == '.') tn ++;
                s2[j][i] = s[i][j];
            }
        }
        cal();
        swap(n, m);
        for(int i = 0; i < n; i ++){
            for(int j = 0; j < m; j ++) s[i][j] = s2[i][j];
        }
        cal();
        printf("%.9lf\n", (double)sum/(tn*tn));
    }
    return 0;
}

