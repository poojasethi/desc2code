#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int n, m;
double p[3011][311], f[3011][311], g[3011], ans;

void init()
{
	scanf("%d%d", &n, &m);
	for (int i = 1; i <= n; ++i)
		for (int j = 1; j <= m; ++j)
			scanf("%lf", &p[i][j]), p[i][j] /= 1000.0;
	for (int i = 1; i <= m; ++i)
		for (int j = 1; j <= n; ++j)
			f[j][i] = f[j-1][i] * (1.0 - p[j][i]) + p[j][i];
}

void work()
{
	for (int z = 1; z <= n; ++z)
	{
		int k = 0;
		for (int i = 1; i <= m; ++i)
			if (f[n][i] > f[n][k])
				k = i;
		ans += f[n][k];
		g[0] = 0;
		for (int i = 1; i <= n; ++i)
			g[i] = g[i-1] * (1.0 - p[i][k]) + f[i-1][k] * p[i][k];
		for (int i = 0; i <= n; ++i)
			f[i][k] = g[i];
	}
	printf("%.12lf\n", ans);
}

int main()
{
	init();
	work();
	return 0;
}
