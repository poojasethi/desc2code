#include <cstdio>
#include <algorithm>
int n,m,i,j,k;
double p[3005][305],f[305][3005],c[3005],a[305],r;
int main(void) {
    scanf("%d%d",&n,&m);
    for(i=1;i<=n;++i)
        for(j=1;j<=m;++j)scanf("%d",&k),p[i][j]=k/1000.0;
    for(j=1;j<=m;a[j]=1-f[j][n],++j)
        for(i=1,f[j][0]=1.0;i<=n;++i)f[j][i]=f[j][i-1]*(1-p[i][j]);
    for(j=1;j<=n;++j)
    {
        r+=a[(k=std::max_element(a+1, a+m+1)-a)];
        for(i=1;i<=n;++i)c[i]=c[i-1]*(1-p[i][k])+f[k][i-1]*p[i][k];
        for(i=0,a[k]-=c[n];i<=n;++i)f[k][i]=c[i];
    }
    printf("%.12lf\n",r);
    return 0;
}