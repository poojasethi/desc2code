#include<cstdio>
#include<cstring>
#include<algorithm>
int n,m,x,i,j;
double c[305][3005],f[305][3005],q[3005],p[305],r;
int main(){
    scanf("%d%d",&n,&m);
    for(i=1;i<=n;i++) 
        for(j=1;j<=m;j++)scanf("%d",&x),c[j][i]=x/1000.0;
    for(i=1;i<=m;p[i]=1-f[i][n],i++) 
        for(j=1,f[i][0]=1;j<=n;j++)f[i][j]=f[i][j-1]*(1-c[i][j]);
    for(i=1;i<=n;i++){
        r+=p[x=std::max_element(p,p+1+m)-p];
        for(j=1;j<=n;j++)q[j]=q[j-1]*(1-c[x][j])+f[x][j-1]*c[x][j];
        memcpy(f[x],q,sizeof(q));
        p[x]-=q[n];
    }
    printf("%.12lf\n",r);
    return 0;
}
