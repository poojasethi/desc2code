#include<stdio.h>
#include<string.h>
#include<map>
using namespace std;
int getint()
{
	int ret=0;bool ok=false;
	for(;;)
	{
		int c=getchar();
		if(c>='0'&&c<='9')ret=(ret<<3)+ret+ret+c-'0',ok=true;
		else if(ok)return ret;
	}
}
int n,m;
double p[3010][310];
double dp[310][2][3010];
int pos[310];
void makenext(int i)
{
	int t=++pos[i];
	memcpy(dp[i][0],dp[i][1],sizeof(dp[i][0]));
	if(t<=n)
	{
		for(int j=0;j<t;j++)dp[i][1][j]=0;
		dp[i][1][t]=1;
		for(int j=1;j<=t;j++)dp[i][1][t]*=p[j][i];
		for(int j=t+1;j<=n;j++)dp[i][1][j]=dp[i][0][j-1]*p[j][i]+dp[i][1][j-1]*(1-p[j][i]);
	}
}
int main()
{
	n=getint(),m=getint();
	for(int i=1;i<=n;i++)
		for(int j=1;j<=m;j++)p[i][j]=(double)getint()/1000;
	for(int i=1;i<=m;i++)
	{
		for(int j=0;j<=n;j++)dp[i][1][j]=1;
		makenext(i);
	}
	double ans=0;
	for(int i=1;i<=n;i++)
	{
		double t=0;
		int ii=0;
		for(int i=1;i<=m;i++)if(pos[i]<=n)
		{
			double x=dp[i][1][n];
			if(x>t)t=x,ii=i;
		}
		ans+=t;
		makenext(ii);
	}
	printf("%.10lf\n",ans);
	return 0;
}
