#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<cstring>
#include<queue>
#define MAXN 3005
#define MAXM 305
using namespace std ;

int N, M ;
double map[MAXN][MAXM] ;
double dp[MAXM][MAXN] ;
double tp[MAXN] ;
double ans ;
priority_queue< pair<double, int> > heap ;

void Ins(int x)
{
    int i ;
    tp[N+1] = 0 ;
    for(i = N; i >= 1; i --)
        tp[i] = map[i][x]*(dp[x][i+1]+1)+(1-map[i][x])*tp[i+1] ;
    heap.push(make_pair(tp[1]-dp[x][1], x)) ;
    memcpy(dp[x], tp, sizeof(tp)) ;
}

int main()
{
    int i, j ;
    pair<double, int> tmp ;
    scanf("%d %d", &N, &M) ;
    for(i = 1; i <= N; i ++)
        for(j = 1; j <= M; j ++)
            scanf("%lf", &map[i][j]), map[i][j] /= 1000 ;
    for(i = 1; i <= M; i ++)
        Ins(i) ;
    for(i = 1; i <= N; i ++)
    {
        tmp = heap.top(), heap.pop() ;
        ans += tmp.first ;
        Ins(tmp.second) ;
    }
    printf("%.10lf\n", ans) ;
    //system("pause") ;
    return 0 ;
}
