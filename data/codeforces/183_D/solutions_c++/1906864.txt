#include<cstdio>
#include<cstring>
using namespace std;
const int N=3005,M=305;
int n,m,x,tot,w[M][N],c[M];
double p[N][M],a[N+M][N],inc[M],ans=0;
int main()
{
    scanf("%d%d",&n,&m); tot=m+1;
    for (int i=1;i<=n;i++)
        for (int j=1;j<=m;j++)
            scanf("%d",&x),p[i][j]=x/1000.0;
    for (int j=1;j<=m;j++){
        w[j][0]=j,c[j]=0,inc[j]=1; a[j][0]=1;
        for (int i=1;i<=n;i++) a[j][i]=a[j][i-1]*(1-p[i][j]);
        inc[j]-=a[j][n];
        }
    for (int k=1;k<=n;k++){
        double opt=0; int q=0;
        for (int j=1;j<=m;j++) if (inc[j]>opt) opt=inc[j],q=j;
        int j=q,last=w[j][c[j]],now=++tot;
        for (int i=1;i<=n;i++)
            a[now][i]=a[last][i-1]*p[i][j]+a[now][i-1]*(1-p[i][j]);
        inc[j]-=a[now][n]; w[j][++c[j]]=now; ans+=opt;
        }
    printf("%.10lf\n",ans); return 0;
}
