#include <cstdio>
#include <algorithm>
using namespace std;
#define rep(i,n) for (int i=0;i<n;i++)
double p[3010][310],f[3010][310],q[3010],c[3010],ans;
int n,m,w;
int main() {
	scanf("%d%d",&n,&m);
	rep(i,m) f[0][i]=1;
	rep(i,n) rep(j,m) scanf("%d",&w),p[i][j]=w/1000.,f[i+1][j]=f[i][j]*(1-p[i][j]);
	rep(i,m) q[i]=1-f[n][i];
	rep(i,n) {
		int k=max_element(q,q+m)-q;ans+=q[k];
		rep(i,n) c[i+1]=c[i]*(1-p[i][k])+f[i][k]*p[i][k];
		rep(i,n+1) f[i][k]=c[i];q[k]-=c[n];
	}
	printf("%.10f\n",ans);
}