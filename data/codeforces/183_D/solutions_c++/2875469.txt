#include <iostream>
#include <cstdio>
#include <cstring>
#include <cstdlib>

using namespace std;

double p[300][3000];

int n, m;
double f[300][3001], g[3001];

int main() {
//  freopen("data.in", "r", stdin);
    scanf("%d%d", &n, &m);
    for (int i = 0; i < n; i++) for (int j = 0; j < m; j++) {
        int tmp;
        scanf("%d", &tmp);
        p[j][i] = tmp / 1000.0;
    }
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++)
            f[i][j + 1] = p[i][j] + (1 - p[i][j]) * f[i][j];
    }
    double ret = 0;
    
    for (int K = 0; K < n; K++) {
        int c = -1;
        for (int i = 0; i < m; i++)
            if (c == -1 || f[i][n] > f[c][n]) c = i;
        ret += f[c][n];
        memset(g, 0, sizeof(g));
        for (int i = 0; i < n; i++) g[i] = p[c][i] * f[c][i] + (i ? g[i - 1] : 0) * (1 - p[c][i]);
        for (int i = 0; i < n; i++) f[c][i + 1] = g[i];
    }
    printf("%.15lf\n", ret);
    return 0;
}
