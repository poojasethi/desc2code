#include<cstdio>
#include<algorithm>
#include<cstring>
#include<iostream>
using namespace std;
const int mn=3010,mm=310;
int n,m,i,j,k;
double p[mn][mm],f[mm][mn],c[mn],a[mm],ans;
int main()
{
    //freopen("AC.in","r",stdin);
    //freopen("AC.out","w",stdout);
    scanf("%d%d",&n,&m);
    for(i=1;i<=n;i++)
        for(j=1;j<=m;j++)
        {
            scanf("%d",&k);
            p[i][j]=k/1000.0;
        }
    for(i=1;i<=m;i++)
    {
        f[i][0]=1;
        for(j=1;j<=n;j++)
            f[i][j]=f[i][j-1]*(1-p[j][i]);
        a[i]=1-f[i][n];
    }
    for(j=1;j<=n;j++)
    {
        for(i=1,k=0;i<=m;i++)
            if(!k||a[i]>a[k])k=i;
        ans+=a[k];
        for(i=1;i<=n;i++)
            c[i]=c[i-1]*(1-p[i][k])+f[k][i-1]*p[i][k];
        a[k]-=c[n];
        for(i=0;i<=n;i++)
            f[k][i]=c[i];
    }
    printf("%.12lf\n",ans);
    return 0;
} 
