#include <iostream>
#include <cstdio>

using namespace std;

typedef long long ll;

int c[10];
ll dp[1<<18][110];

int main()
{
	string str;
	int m,n,l;
	cin>>str>>m;
	for(int i=0,len=str.size();i<len;++i)
		++c[str[i]-'0'];
	n=(1<<(l=str.size()));
	dp[0][0]=1;
	for(int i=0;i<n;++i)
		for(int j=0;j<l;++j) if(!(i&(1<<j)))
			for(int k=0;k<m;++k) if(!(i==0 && str[j]=='0'))
				dp[i|(1<<j)][(k*10+str[j]-'0')%m]+=dp[i][k];
	ll ans=dp[n-1][0];
	for(int i=0;i<10;++i)
		for(int j=2;j<=c[i];++j)
			ans/=j;
	cout<<ans<<endl;
	return 0;
}
