#include <cstdio>
#define rep(i,l,r) for (int i=l;i<=r;++i)
typedef long long LL;
int a[20],l,d[10];
LL n,m,tp,f[1<<18][101];
int main(){
	scanf("%I64d%I64d",&n,&m);
	while (n) a[l++]=n%10,d[n%10]++,n/=10;
	f[0][0]=1;
	rep(i,0,(1<<l)-1)
		rep(j,0,l-1){
			if ((!i&&!a[j])||((i>>j)&1)) continue;
			rep(k,0,m-1)f[i|(1<<j)][(k*10+a[j])%m]+=f[i][k];
		}
	m=f[(1<<l)-1][0];
	rep(i,0,9){tp=1;rep(j,1,d[i]) tp*=j;m/=tp;}
	printf("%I64d\n",m);
}