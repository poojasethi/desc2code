#include <iostream>
#include <cstring>
using namespace std;
#define ll __int64
ll dp[1<<18][128],d=1;
//dp[i][j] i%m == j ???
char n[88];
int main(){
  int len,m,t,c[16]={0};
  cin>>n>>m;
  len=strlen(n),t=1<<len;
  dp[0][0]=1;
  for(int i=0;i<len;++i)d*=++c[n[i]-='0'];
  for(int i=0;i<t;++i)
    for(int j=0;j<len;++j)
      if(!(i&1<<j))
        if(i||n[j])
          for(int k=0;k<m;++k)
            dp[i|1<<j][(k*10+n[j])%m]+=dp[i][k];
  cout<<dp[t-1][0]/d<<endl;
  return 0;
}
	 			  	 	 	  						  				