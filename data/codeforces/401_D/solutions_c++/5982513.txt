#include<bits/stdc++.h>
using namespace std;

const int N = 18, M = 100;
long long f[1 << N][M];
int dig[N], n, m;

void enter() {
	long long x; cin >> x >> m;
	for(; x > 0; x /= 10) dig[n++] = x % 10;
	sort(dig, dig + n);
}

void solve() {
	f[0][0] = true;
	for(int mask = 0; mask < 1 << n; ++mask)
		for(int mod = 0; mod < m; ++mod) if(f[mask][mod] > 0)
			for(int i = 0; i < n; ++i)
				if((mask & 1 << i) == 0 && (mask != 0 || dig[i] != 0) && (i == 0 || dig[i - 1] != dig[i] || (mask & 1 << (i - 1)) != 0))
					f[mask | 1 << i][(mod * 10 + dig[i]) % m] += f[mask][mod];
	cout << f[(1 << n) - 1][0];
}

int main() {
	enter();
	solve();
	return 0;
}
