#include<bits/stdc++.h>
using namespace std;
long long a[1<<18][102],d=1;
char c[20];
int main(){
    int l,m,t,b[10]={0},i,j,k;//18!>2^32
    scanf("%s%d",c,&m);
    l=strlen(c),t=1<<l,a[0][0]=1;
    for(i=0;i<l;++i)d*=++b[c[i]-='0'];
    for(i=0;i<t;++i)
        for(j=0;j<l;++j)
            if(!(i&1<<j)&&(i||c[j]))//no pre0
                for(k=0;k<m;++k)
                    a[i|1<<j][(k*10+c[j])%m]+=a[i][k];
    printf("%I64d\n",a[t-1][0]/d);
    return 0;
}
