#include<cstdio>
#include<string>
#include<iostream>
using namespace std;
const int MAXN = 110;
long long int d = 1,dp[1 << 18][MAXN];
int main(){
    string s;
    int m,len,c[10] = {0};
    cin >> s >> m;
    len = s.size();
    dp[0][0] = 1;
    for(int i = 0;i < len;i ++) d *= ++c[s[i] -= '0'];
    for(int i = 0;i < 1 << len;i ++){
        for(int j = 0;j < len;j ++){
            if(i & (1 << j)) continue;
            if(i || s[j]) for(int k = 0;k < m;k ++){
                dp[i | (1 << j)][(k * 10 + s[j]) % m] += dp[i][k];
            }
        }
    }
    cout << dp[(1 << len)-1][0] / d << endl;
}

	   	 				 			  		 	