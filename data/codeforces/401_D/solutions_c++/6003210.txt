#include<stdio.h>
#include<string.h>
#include<algorithm>
using namespace std;
long long int dp[1<<18][100]={0},s[18];
int main(){
    long long int n;
    int m,top=0,maxn,i,j,k;
    scanf("%lld%d",&n,&m);
    while(n){
        s[top++]=n%10;
        n/=10;
    }
    maxn=1<<top;
    dp[0][0]=1;
    for(i=0;i<maxn;i++){
        int is[10]={0};
        for(j=0;j<top;j++)
        if((i&(1<<j))==0){
            if(i==0 && s[j]==0 || is[s[j]]) continue;
            is[s[j]]=1;
            for(k=0;k<m;k++){
                dp[i|(1<<j)][(k*10+s[j])%m]+=dp[i][k];
            }
        }
    }
    printf("%lld\n",dp[maxn-1][0]);
}
