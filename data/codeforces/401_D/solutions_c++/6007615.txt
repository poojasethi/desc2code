#include <iostream>
using namespace std;

int m, l, num[18], sum[10];
long long n, opt[1<<18][100];

int main()
{
  cin >> n >> m;
  while (n > 0) {
    num[l++] = n%10;
    sum[n%10]++;
    n /= 10;
  }
  for (int i = 0; i < l; i++)
    if (num[i] > 0) opt[(1<<i)][num[i]%m] = 1;
  for (int i = 0; i < (1<<l); i++)
    for (int j = 0; j < l; j++)
      if (!((i>>j)&1))
        for (int k = 0; k < m; k++) 
           opt[i|(1<<j)][(k*10+num[j])%m] += opt[i][k];
  long long ans = opt[(1<<l)-1][0];
  for (int i = 0; i < 10; i++)
    for (int j = 2; j <= sum[i]; j++)
      ans /= (long long)j;
  cout << ans << endl;
}
