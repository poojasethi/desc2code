#include <iostream>
using namespace std;

string a;
int m;
long long dp[1<<18][105];

void add(long long &x, long long v) {
  x += v;
}

int main() {
  cin >> a >> m;
  int n = a.size();

  dp[0][0] = 1;
  for (int i = 0; i < (1<<n); i++) {
    int u[18]={}, d[10]={};
    if (i == 0) d[0] = 1;
    for (int j = 0; j < n; j++) u[j] = (i&(1<<j)) != 0;
    for (int j = 0; j < n; j++)
      if (u[j] == 0 && d[a[j]-'0'] == 0) {
        d[a[j]-'0'] = 1;
        for (int k = 0; k < m; k++)
          add(dp[i|(1<<j)][(k*10+a[j]-'0')%m], dp[i][k]);
      }
  }

  cout << dp[(1<<n)-1][0] << endl;
  return 0;
}
