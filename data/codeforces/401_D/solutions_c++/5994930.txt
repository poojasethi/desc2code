#include<stdio.h>
#include<stdlib.h>
#define lowbit(a) (a&-a)
long long n,f[300001][101],ans,fac[101];
int j,m,k,tmp,res,a[101],b[101],i;
int main(){
    scanf("%I64d%d",&n,&m);
    while (n){
        a[++res]=n%10; b[n%10]++;
        n/=10;
    }
    f[0][0]=1;
    for (i=0;i<(1<<res);i++){
        for (k=1;k<=res;k++)
        if((i&(1<<k-1))==0&&(a[k]!=0||i!=0))
            for (j=0;j<m;j++){
                f[i|(1<<k-1)][(j*10+a[k])%m]+=f[i][j];
            }
    }
    ans=f[(1<<res)-1][0];
    for (i=0;i<=9;i++)
        for (;b[i];b[i]--) ans/=b[i];
    printf("%I64d\n",ans);
}
