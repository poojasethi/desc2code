#include <cstdio>
#include <cstring>

using namespace std;

typedef long long LL;

LL f[1<<18][100];
int a[18],b[10];
LL n,m;

int main(){
	scanf("%I64d%I64d",&n,&m);
	int len=0;
	while(n) b[a[len++]=n%10]++,n/=10;
	if(!len) {puts("1");return 0;}
	f[0][0]=1;
	for(int i=0;i<(1<<len);i++)
		for(int j=0;j<m;j++)
			for(int k=0;k<len;k++) if(!(i&(1<<k)) && (i || a[k]))
				f[i|(1<<k)][(j*10+a[k])%m]+=f[i][j];
	LL ans=f[(1<<len)-1][0];
	for(int i=0;i<=9;i++)
		for(int j=2;j<=b[i];j++)
			ans/=j;
	printf("%I64d\n",ans);
	return 0;
}
