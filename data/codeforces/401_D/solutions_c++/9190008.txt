#include <iostream>
#include <cstring>
using namespace std;

typedef long long ll;

ll dp[1<<18][100],c[20];

int main(int argc, char const *argv[])
{
	char num[20];
	int m;
	while(cin>>num>>m) {

		memset(dp,0,sizeof dp);
		memset(c,0,sizeof c);
		dp[0][0]=1;

		ll div=1,sz=strlen(num),t=1<<sz;
		for(int i=0;i<sz;i++) {
			div*=(++c[num[i]-='0']);
		}

		for(int i=0;i<t;i++) {
			for(int j=0;j<sz;j++)if(!(i&1<<j)) {
				if(num[j]||i){
					for(int k=0;k<m;k++) {
						dp[i|1<<j][(10*k+num[j])%m]+=dp[i][k];
					}
				}
			}
		}

		cout<<dp[t-1][0]/div<<endl;
	}
	return 0;
}