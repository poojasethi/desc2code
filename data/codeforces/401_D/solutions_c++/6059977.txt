#include <cstdio>
#include <algorithm>
using namespace std;
typedef long long lld;
const lld maxc=30,maxn=500010,maxm=110;
lld a[maxc],b[maxc],dp[maxn][maxm];
int main(){
    lld n,m,d=0;
    scanf("%I64d %I64d",&n,&m);
    while (n){
        lld c=n%10;
        n/=10;
        a[d++]=c;
        b[c]++;
    }
    dp[0][0]=1;
    for (lld i=0;i<1<<d;i++)
        for (lld mo=0;mo<m;mo++)
            for (lld j=0;j<d;j++) if ((i||a[j])&&!(1&(i>>j))) dp[i+(1<<j)][(mo*10+a[j])%m]+=dp[i][mo];
    for (lld i=0;i<10;i++)
        for (lld j=1;j<=b[i];j++) dp[(1<<d)-1][0]/=j;
    printf("%I64d\n",dp[(1<<d)-1][0]);
    return 0;
}
