#include"stdio.h"
#include"string.h"
__int64 dp[300000][100],num[10];
int main()
{
	char str[22];
	int shu[22],i,j,m,n,k;
	scanf("%s%d",str,&m);
	n=strlen(str);
	for(i=0;i<n;i++)
	{
		shu[i]=str[i]-'0';
		if(shu[i]!=0)
		dp[1<<i][shu[i]%m]++;
	}
	for(i=2;i<1<<n;i++)
	{
		for(j=0;j<n;j++)
		if(i&(1<<j)) 
		{
			int p=1<<j;
			int s=i^p;
			for(k=0;k<m;k++)
			if(dp[s][k])
			{
				dp[i][(k*10+shu[j])%m]+=dp[s][k];
			}
		}
	}
	__int64 ans=dp[(1<<n)-1][0];
	for(i=0;i<n;i++)
	num[shu[i]]++;
	for(i=0;i<=9;i++)
	for(j=2;j<=num[i];j++)
	ans/=j;
	printf("%I64d\n",ans);
}
	 		   	     	 			   	    	