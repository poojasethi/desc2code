#include <bits/stdc++.h>
using namespace std;
long long f[1<<18][100];
int num[18],pos[1<<18],cnt[10];
long long n;
int m,top;
int main()
{
	scanf("%lld%d",&n,&m);
	int tmp=1;
	while(n)
	{
		cnt[n%10]++;
		pos[tmp]=n%10;
		num[top++]=n%10;
		n/=10;
		tmp<<=1;
	}
	for(int i=1;i<(1<<top);++i)
		if(i==(i&-i))
			f[i][pos[i]%m]=(pos[i]!=0);
		else
		{
			for(int j=0;j<top;++j)
				if(i&(1<<j))
					for(int k=0;k<m;++k)
						f[i][(k*10+num[j])%m]+=f[i^(1<<j)][k];
		}
	long long ans=f[(1<<top)-1][0];
	for(int i=0;i<=9;++i)
		for(int j=1;j<=cnt[i];++j)
			ans/=j;
	printf("%lld",ans);
	return 0;
}