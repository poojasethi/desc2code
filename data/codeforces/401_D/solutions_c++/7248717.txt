#include <iostream>
#include <cstring>

using namespace std;

typedef long long LL;

LL n,a[20],f[1<<18][100];
int list[20][1<<18];
int m,l,cnt[10];

int main()
{
	cin >> n >> m;
	for(l=0;n;l++) cnt[a[l]=n%10]++,n/=10;
	//cout << l << endl;
	for(int i=0,t=0;i<(1<<l);t=__builtin_popcount(++i)) list[t][++list[t][0]]=i;
	f[0][0]=1;
	for(int i=0;i<l;i++)
		for(int j=1;j<=list[i][0];j++)
			for(int r=0;r<m;r++)
				for(int k=0;k<l;k++) if(!(list[i][j]&(1<<k)) && (a[k] || i))
					f[list[i][j]|(1<<k)][(r*10+a[k])%m]+=f[list[i][j]][r];
	LL ans=f[(1<<l)-1][0];
	for(int i=0;i<10;i++)
		for(int j=1;j<=cnt[i];j++)
			ans/=j;
	cout << ans << endl;
	return 0;
}
