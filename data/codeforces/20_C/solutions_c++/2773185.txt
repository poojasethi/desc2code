#include<cstdio>
#include<set>
#include<vector>
#define FOR(i,a,b) for(int i=(int)a;i<=(int)b;++i)
#define REP(i,n) FOR(i,0,n-1)
#define TR(i,c)\
    for(typeof(c.begin())i=c.begin();i!=c.end();++i)
#define pb push_back
typedef std::pair<int,int> pii;
int p[100010],n,m,x,y,s,f,v,to,z;
long long d[100010];
struct cmp{bool operator() (const int&l,const int&r)const{return d[l]<=d[r];};};
std::set<int,cmp>q;
std::vector< pii >g[100010];
main(){
    scanf("%d%d",&n,&m);s=n-1;
    REP(i,m)
        scanf("%d%d%d",&x,&y,&z),
        --x,--y,g[x].pb(pii(y,z)),g[y].pb(pii(x,z));
    REP(i,n)d[i]=(1ll<<60);
    d[s]=0;p[s]=-1;q.insert(s);
    while(!q.empty()){
        v=*q.begin();q.erase(q.begin());
        TR(it,g[v]){
            to=it->first,z=it->second;
            if (d[v]+z<d[to])
                q.erase(to),
                d[to]=d[v]+z,
                p[to]=v,
                q.insert(to);
        }
    }
    if (d[f]==(1ll<<60)) puts("-1");
    else
        for(x=f;x!=-1;x=p[x])printf("%d ",x+1);
}