#include<bits/stdc++.h>

#define pb push_back
#define mp make_pair
#define f first
#define s second
#define ll unsigned long long
#define pii pair<int,int>

using namespace std;

int i,j,k;

const ll MN=1e5+100,INF=1e18;

set<pair<ll,int> > S;

vector<pair<int,ll> >G[MN];

ll d[MN];
int pre[MN];

void printp(int n)
{
	if(n==-1)return;
	printp(pre[n]);
	cout<<n<<' ';
}

int main(void)
{
	int n,m,a,b,w;
	cin>>n>>m;
	for(i=0;i<m;i++)
	{
		cin>>a>>b>>w;
		G[a].pb(mp(b,w));
		G[b].pb(mp(a,w));
	}
	for(i=0;i<=n;i++)d[i]=INF;
	d[1]=0;
	pre[1]=-1;
	
	S.insert(mp(d[1],1));
	while(S.size())
	{
		int v=S.begin()->s;
		S.erase(mp(d[v],v));
		
		for(i=0;i<G[v].size();i++)
		{
			if(d[G[v][i].f]>(d[v]+G[v][i].s))
			{
				int u=G[v][i].f;
				pre[u]=v;
				S.erase(mp(d[u],u));
				d[u]=d[v]+G[v][i].s;
				S.insert(mp(d[u],u));
			}
		}
	}
	if(d[n]==INF)
	{
		cout<<-1;
		return 0;
	}
	printp(n);
	
return 0;
}