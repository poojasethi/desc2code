#include<bits/stdc++.h>

#define list liste
#define N (100005)

using namespace std;

int H[N],yer,val;
vector< pair<int,int> > list[N];

priority_queue< pair<int,pair<int,int> > > hp;

int where[N];
int n,m,k,i,j,l,S[N],x,y,v;

void f(int a){
	if(!a)
		return ;
	f(where[a]);
	cout << a << " ";
}

int main(){

	int a;

	cin >> n >> m;

	for(i=0 ; i<m ; i++){
		cin >> x >> y >> v;
		list[x].push_back(make_pair(v,y));
		list[y].push_back(make_pair(v,x));
	}

	hp.push(make_pair(0,make_pair(1,0)));

	while(!hp.empty()){

		val=-hp.top().first;
		yer=hp.top().second.first;


		a=hp.top().second.second;
		hp.pop();

		if(H[yer])
			continue;
		H[yer]=1;

		where[yer]=a;

		l=list[yer].size();

		for(i=0 ; i<l ; i++){
			if(!H[list[yer][i].second])
				hp.push(make_pair(-(val+list[yer][i].first),make_pair(list[yer][i].second,yer)));
		}
	}
	if(H[n])
		f(n);
	else
		cout << -1;

	cout << endl;

	return 0;
}
		 	 			 	  			 	 				 								