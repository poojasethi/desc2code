#include<bits/stdc++.h>
#define F first
#define S second
#define mp make_pair
using namespace std;
typedef long long ll;
typedef pair<ll,ll> ii;
typedef vector<ii> vii;
const int MX = 100010;
const ll oo = 1e18;
vii adj[MX];
priority_queue<ii,vii,greater<ii> > pq;
ll dis[MX],par[MX];
bool vis[MX];
void print(int n){
	if(n==-1) return;
	print(par[n]);
	cout << n << " ";
}
int main(){
	int n,m; cin>>n>>m;
	for(int i = 0 ; i < MX; i++) dis[i] = oo;
	for(int i= 0 ; i < m ; i++){
		int x,y,z; scanf("%d%d%d",&x,&y,&z);
		adj[x].push_back(mp(y,z));
		adj[y].push_back(mp(x,z));
	}
	dis[1] = 0; pq.push(mp(0,1)); par[1] = -1;
	while(!pq.empty()){
		ll w = pq.top().F;
		ll u = pq.top().S;
		pq.pop(); if(vis[u]) continue;
		vis[u] = true;
		for(int i = 0 ; i < adj[u].size() ; i++){
			if(w+adj[u][i].S < dis[adj[u][i].F]){
				dis[adj[u][i].F] = w+adj[u][i].S;
				pq.push(mp(dis[adj[u][i].F],adj[u][i].F));
				par[adj[u][i].F] = u;
			}
		}
	}
	if(vis[n]) print(n);
	else cout << -1 << endl;
}
