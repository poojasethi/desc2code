#include<bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef pair<ll,ll> ii;
typedef vector <ii> vii;

int N,E;
vii adjlist[100005];
ll dist[100005];
int parent[100005];
 
int main()
{
	cin>>N>>E;
	for(int i=0;i<E;i++){
		int x,y,w;
		cin>>x>>y>>w;
		adjlist[x].push_back(ii(y,w));
		adjlist[y].push_back(ii(x,w));
	}
	fill(dist,dist+N+1,1000000000000ll);
	priority_queue <ii,vii,greater<ii> > q;
	q.push(ii(0,1));
	dist[1]=0;
	while(!q.empty()){
		ll c=q.top().second;
		ll w=q.top().first;
		q.pop();
		if(dist[c]!=w)
		continue;
		for(int i=0;i<adjlist[c].size();i++){
			ii v1=adjlist[c][i];
			if(dist[c]+v1.second<dist[v1.first])
			{
				dist[v1.first]=dist[c]+v1.second;
				parent[v1.first]=c;
				q.push(ii(dist[v1.first],v1.first));
			}
		}
		
		
	}
	if( dist[N] >= 1000000000000ll){
		cout<<"-1\n";
		return 0;
	}
	stack<int> s;
	for( int i=N; i>0; i=parent[i] ){
		s.push(i);
	}
	while(!s.empty()){
		cout<<s.top()<<" ";
		s.pop();
	}
	return 0;
}