#include <iostream>
#include <vector>
#include <climits>
#include <queue>
using namespace std;
#define pb push_back
#define ll long long
#define F first
#define S second
#define mp make_pair
#define pli pair <ll , int >
vector < pli >pms[100001];
vector <ll> from(100001),ans,d(100001,LLONG_MAX/3);
priority_queue <pli> pq;
ll v1,v2,p,n,k,i,cur,curdist,to;
int main()
{
    cin>>n>>k;
    for(i=1;i<=k;i++){
     cin>>v1>>v2>>p;
     pms[v1].pb(mp(p,v2));
     pms[v2].pb(mp(p,v1));}
    pq.push(mp(0,1));d[1]=0;
    while(!pq.empty()){
     cur=pq.top().S;pq.pop();
      for(int j=0;j<pms[cur].size();j++){
              curdist=pms[cur][j].F;
              to=pms[cur][j].S;
              if (d[to]>d[cur]+curdist){
              d[to]=d[cur]+curdist;
              pq.push(mp(-d[to],to));
              from[to]=cur;}}}
 
    if (d[n]==LLONG_MAX/3){cout<<"-1\n"; return 0;}
    p=n;
    while (p!=0){ans.pb(p);p=from[p];}
    for(i=ans.size()-1;i>=0;i--)cout<<ans[i]<<' ';
    return 0;
}
