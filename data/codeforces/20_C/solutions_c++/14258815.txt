#include<bits/stdc++.h>
#define int long long int
using namespace std;
const int N= 1e5 +5;
vector<int> v[N];
vector<int> w[N];
int a[N];
int pre[N];
#undef int
int main(){
	#define int long long int
	int n,m; cin>>n>>m;
	for(int i=1; i<=m; i++){
		int x,y,z; cin>>x>>y>>z;
		v[x].push_back(y);
		w[x].push_back(z);
		v[y].push_back(x);
		w[y].push_back(z);
	}
	priority_queue<pair<int,int> > q;
	for(int i=1; i<=n; i++) a[i]= 999999999999;
	a[1]=0;
	q.push({0,1});
	while(!q.empty()){
		int cur= q.top().second;
		q.pop();
		for(int i=0; i<v[cur].size(); i++){
			int next= v[cur][i];
			int wt= w[cur][i];
			if(a[next]>a[cur]+wt){
				pre[next]= cur;
				a[next]= a[cur]+ wt;
				q.push({-a[next],next});
			}
		}
	}
	if(!pre[n]){
		cout<<-1<<endl;
		return 0;
	}
	stack<int> p;
	p.push(n);
	int cur = pre[n];
	while(cur){
		p.push(cur);
		//cout<<cur<<" ";
		cur= pre[cur];	
	}
	while(!p.empty()) cout<<p.top()<<" ", p.pop();
	
}