#include <bits/stdc++.h>
using namespace std;
set < pair<int,int> >  s;
int n,m,x,y,w;
long long dp[100005];
bool vis[100005];
int ans[100005];
vector < pair<int,int> > v[100005];
void go(int i)
{
	if(i == 0)
	{
		printf("1 ");
		return ;
	}
	go(ans[i]);
	printf("%d ",i+1);
}
int main()
{
	cin>>n>>m;
	for(int i=0;i<m;i++)
	{
		scanf("%d%d%d",&x,&y,&w);
		x--;y--;
		v[x].push_back(make_pair(y,w));
		v[y].push_back(make_pair(x,w));
	}
	for(int i=0;i<n;i++)
	{
		dp[i] = (long long)1e18;
		ans[i]=i;
	}
	dp[0] = 0;
	s.insert(make_pair(0,0));
	while(!s.empty())
	{
		x = s.begin()->second;
		s.erase(s.begin());
		for(int i=0;i<v[x].size();i++)
		{
			y = v[x][i].first;
			w = v[x][i].second;
			if(dp[y] > dp[x] + w)
			{
				if(s.count(make_pair(dp[y] , y)))
					s.erase(make_pair(dp[y] , y));
				dp[y] = dp[x] + w;
				ans[y] = x;
				s.insert(make_pair(dp[y],y));
			}
		}
	}
	if(ans[n-1]==n-1){
		puts("-1");
		return 0;
	}
	else{
		go(n-1);
		return 0;
	}
	return 0;
}