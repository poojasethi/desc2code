#include<iostream>
#include<vector>
#include<set>
#include<map>
#include<algorithm>
#include<utility>
#define inf 99999999999
#define tr(container, it) for(typeof(container.begin()) it = container.begin(); it != container.end(); it++)
using namespace std;
vector< vector< pair<int,int> > > adj(100005);
vector<long long> d(100005,inf);
vector<int> par(100005,-1);
void printans(int x)
{
int k=par[x];
if(k==1)
cout<<k<<" ";
else
printans(par[x]);
cout<<x<<" ";
}
int main()
{
std::ios::sync_with_stdio(false);
int n,m;cin>>n>>m;
while(m--)
{
int a,b,w;cin>>a>>b>>w;
adj[a].push_back(make_pair(w,b));
adj[b].push_back(make_pair(w,a));
}
multimap<long long,int> q;
d[1]=0;par[1]=1;
q.insert(make_pair(0,1));
while(!q.empty())
{
pair<long long,int> top=*q.begin();
long long dist=top.first,v=top.second;
q.erase(q.begin());
tr(adj[v],it)
{
int cost=it->first,v2=it->second;
if(d[v2]>d[v]+cost)
{
d[v2]=d[v]+cost;
par[v2]=v;
//cout<<"inserting"<<v2<<endl;
q.insert(make_pair(d[v2],v2));
}
}
}//while
if(d[n]<inf)
printans(n);
else
cout<<"-1";
cout<<endl;
}//mains()
