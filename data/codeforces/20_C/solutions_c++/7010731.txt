#include<bits/stdc++.h>
#define f first
#define s second
#define pb push_back
#define mp make_pair
#define pii pair<int,int>
#define FOR(a,b,c) for(int a=b;a<=c;a++)
using namespace std;
int N,M,h[100005],ata[100005];
vector<pii> A[100005];
priority_queue<pair<int,pii> > Q; 
void print(int nod){
	if(nod==-1) return;
	print(ata[nod]);
	cout<<nod<<" ";
}
int main(){
	int a,b,x,w;
	cin>>N>>M;
	FOR(i,1,M)
	{
		scanf("%d %d %d",&a,&b,&w);
		A[a].pb(mp(b,w));
		A[b].pb(mp(a,w));
	}
	Q.push(mp(0,mp(1,-1)));
	memset(ata,-1,sizeof ata);
	while(!Q.empty()){
		int mal=-Q.top().f;
		int node=Q.top().s.f;
		int from=Q.top().s.s;
		Q.pop();
		if(h[node]) continue;
		ata[node]=from;
		h[node]=1;
		if(A[node].size())
			FOR(i,0,A[node].size()-1)
				if(!h[A[node][i].f] )
					Q.push(mp(-mal-A[node][i].s ,mp(A[node][i].f,node)));
	}
	if(-1==ata[N]) cout<<-1;
	else print(N);
	return 0;
}
