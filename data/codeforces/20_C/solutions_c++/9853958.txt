#include<bits/stdc++.h>
#define M 1000000007
#define pb push_back
#define mp make_pair
#define ff first
#define ss second
using namespace std;
typedef long long ll;
typedef pair<ll,ll> pii;
vector<pii> edges[100010];
priority_queue<pii> heap;
ll dist[100010],par[100010];
int main()
{
	int n,m,u,v,w,i;
	cin>>n>>m;
	while(m--)
	{
		cin>>u>>v>>w;
		edges[u].pb(mp(v,w));
		edges[v].pb(mp(u,w));
	}
	for(i=2;i<=n;i++)
		dist[i]=1e16;
	heap.push(mp(0,1));
	while(!heap.empty())
	{
		pii a=heap.top();
		heap.pop();
		for(i=0;i<edges[a.ss].size();i++)
		{
			pii j=edges[a.ss][i];
			if(-a.ff+j.ss < dist[j.ff])
			{
				dist[j.ff] = -a.ff+j.ss;
				par[j.ff]=a.ss;
				heap.push(mp(-dist[j.ff],j.ff));
			}
		}
	}
	if(dist[n]==1e16)
		cout<<"-1\n";
	else
	{
		i=n;
		vector<int> s;
		while(par[i])
		{
			s.pb(i);
			i=par[i];
		}
		s.pb(1);
		for(i=s.size()-1;i>0;i--)
			cout<<s[i]<<' ';
		cout<<s[0]<<'\n';
	}
	return 0;
}
