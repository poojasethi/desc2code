#include<bits/stdc++.h>
using namespace std;
typedef long long int ll;
#define pp pair< ll,ll >
ll d[200005],ans[200005],parent[200005];
vector< pp > g[200005];
int main()
{
ll n,m,i,a,b,c;
ios_base::sync_with_stdio(false);
cin>>n>>m;
for(i=1;i<=m;i++)
{
	cin>>a>>b>>c;
	g[a].push_back(make_pair(b,c));
	g[b].push_back(make_pair(a,c));
}
priority_queue< pp >q;

for(i=1;i<=n;i++)
{
d[i]=99999999999;
}
d[1]=0;
q.push(pp(1,d[1]));
ll u,v,w,t,z=0;
pp x;
parent[1]=-1;
while(!q.empty())
{
x=q.top();
u=x.first;
q.pop();

for(i=0;i<g[u].size();i++)
{

	v=g[u][i].first;
	w=g[u][i].second;
	if(d[u]+w<d[v])
	{
    d[v]=d[u]+w;
    parent[v]=u;
	q.push(pp(v,d[v]));
	}
}
}
if(d[n]==99999999999)
cout<<"-1";
else
{
	i=n;ll y=0;
	while(i!=-1)
    {
      ans[y]=i;
      i=parent[i];
      y++;
    }
    for(i=y-1;i>=0;i--)
    cout<<ans[i]<<" ";
}
}
