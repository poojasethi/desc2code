#include <bits/stdc++.h>
#define inf (ll)99999999999

using namespace std;
typedef long long int ll;
typedef pair<ll,ll> pll;
priority_queue< pll >q;

ll n,m,i,a,b,w;
ll d[200005],ans[200005],parent[200005];
vector< pll > g[200005];
	int main(){
	ios_base::sync_with_stdio(false);
	cin >> n >> m;
	for(i=1;i<=m;i++){
		cin >> a >> b >> w;
		g[a].push_back(make_pair(b,w));
		g[b].push_back(make_pair(a,w));
	}

	for(i=1;i<=n;i++){
		d[i]=inf;
	}
	d[1]=0;
	q.push(pll(1,d[1]));
	ll u,v,w;
	pll x;
	parent[1]=-1;
	while(!q.empty()){
	x=q.top();
	u=x.first;
	q.pop();
		for(i=0;i<g[u].size();i++){
			v=g[u][i].first;
			w=g[u][i].second;
			if(d[u]+w<d[v]){
    			d[v]=d[u]+w;
    			parent[v]=u;
				q.push(pll(v,d[v]));
			}
		}
	}

	if(d[n]==inf)
	cout<<"-1";
	else{
		i=n;ll y=0;
		while(i!=-1){
    		ans[y]=i;
    		i=parent[i];
    		y++;
    	}
    	for(i=y-1;i>=0;i--)
    	cout<<ans[i]<<" ";
	}  
}