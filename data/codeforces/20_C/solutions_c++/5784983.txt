#include <iostream>
#include <vector>
#include <climits>
#include <queue>
#define pii pair< long long,long long >
#define F first
#define S second
#define pb push_back
#define mp make_pair
using namespace std;
priority_queue <pii> pq;
//ifstream cin("input.txt");
//ofstream cout("output.txt");
long long i,j,n,s,k,f,t,nom,sosed,r1,r2,p,from[100001],cur;
vector <pii> pms[100001];
vector < long long > l(100001,LLONG_MAX/3),fl(100001,0);
int main()
{
    cin>>n>>k;
    for(i=1;i<=k;i++){cin>>r1>>r2>>p;
    pms[r1].pb(mp(r2,p));
    pms[r2].pb(mp(r1,p));}

    pq.push(mp(0,1)); l[1]=0;

    for(;;){if (pq.size()>0) {nom=pq.top().S; pq.pop();} else break;
     if (fl[nom]==0) {fl[nom]=1;
      for (j=0;j<pms[nom].size();j++) {
       if ((t=l[nom]+pms[nom][j].S)<l[sosed=pms[nom][j].F]) {l[sosed]=t; from[sosed]=nom; ;pq.push(mp(-t,sosed));}} }}

    cur=n; i=0; while (cur>0) {fl[++i]=cur;j++; cur=from[cur];}
    if (fl[0]!=n && fl[i]==1) {
    while (i>0) {cout<<fl[i--];if (i!=j) cout<<" ";}} else cout<<-1<<endl;
    return 0;
}
