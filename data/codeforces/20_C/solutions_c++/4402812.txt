#include <iostream>
#include <string>
#include <algorithm>
#include <vector>
#include <queue>
#include <set>
using namespace std;

#define LL unsigned long long
#define pii pair<int,int>
#define x first
#define y second
#define pb push_back
#define mp make_pair

const LL MN=1e5+100,INF=1000*1000*1000*1000;

set<pair<LL,int> > S;
vector<pair<int,LL> > G[MN];
LL d[MN];
int par[MN];

void PrP(int v){
	if(v==-1) return ;
	PrP(par[v]);
	cout <<v<<" ";
}

int main(){
	ios::sync_with_stdio(0);
	int n,m,a,b,w;
	cin >>n>>m;
	for(int i=0;i<m;i++){
		cin >>a>>b>>w;
		G[a].pb(mp(b,w));
		G[b].pb(mp(a,w));
	}
	for(int i=0;i<=n;i++) d[i]=INF;
	d[1]=0ll;
	par[1]=-1;
	S.insert(mp(d[1],1));
	while(S.size()){
		int v=S.begin()->y;
		S.erase(mp(d[v],v));
		for(int i=0;i<G[v].size();i++)
			if(d[G[v][i].x]>(d[v]+G[v][i].y)){
				int u=G[v][i].x;
				S.erase(mp(d[u],u));
				par[u]=v;
				d[u]=d[v]+G[v][i].y;
				S.insert(mp(d[u],u));
			}
	}
	if(d[n]==INF) {cout <<-1<<endl;return 0;}
	PrP(n);
	cout <<endl;

	return 0;
}


