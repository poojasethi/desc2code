#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int nex[64005],d[64005],las[12005],g[64005];
int top=1,S,T;
void Add(int x,int y,int z)
{
	nex[++top]=las[x];d[las[x]=top]=y;g[top]=z;
	nex[++top]=las[y];d[las[y]=top]=x;g[top]=0;
}
int dis[12005],sum[12005];
int Sap(int x,int flow)
{
	if(x==T)return flow;
	int ret=0,tmp;
	for(int i=las[x];i;i=nex[i])
		if(g[i]&&dis[d[i]]==dis[x]-1)
		{
			tmp=Sap(d[i],min(flow-ret,g[i]));
			g[i]-=tmp;g[i^1]+=tmp;ret+=tmp;
			if(ret==flow)return ret;
			if(dis[S]>T)return ret;
		}
	if(!--sum[dis[x]])
		dis[S]=T+1;
	++sum[++dis[x]];
	return ret;
}
int a[10005],n,m,q,ans=0,G;
int main()
{	
	scanf("%d%d%d",&n,&m,&G);
	S=1;T=2+n+m;
	for(int i=1;i<=n;i++)
		scanf("%d",&a[i]);
	for(int i=1,x;i<=n;i++)
	{
		scanf("%d",&x);
		if(a[i])
			Add(S,i+1,x);
		else
			Add(i+1,T,x);
	}
	for(int i=1,t,x,f,k;i<=m;i++)
	{
		scanf("%d%d%d",&f,&x,&t);
		for(int j=1;j<=t;j++)
			scanf("%d",&a[j]);
		scanf("%d",&k);
		ans+=x;
		if(f)
		{
			Add(S,i+n+1,x+k*G);
			for(int j=1;j<=t;j++)
				Add(i+n+1,a[j]+1,0x7fffffff);
		}
		else
		{
			Add(i+n+1,T,x+k*G);
			for(int j=1;j<=t;j++)
				Add(a[j]+1,i+n+1,0x7fffffff);
		}
	}
	sum[0]=T;
	while(dis[S]<=T)
		ans-=Sap(S,0x7fffffff);
	printf("%d\n",ans);
}
