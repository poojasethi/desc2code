#include<cstdio>
#include<cstdlib>
#include<algorithm>
#include<cstring>
#define MAXN 23005
#define MAXM 55005
#define INF 0x7fffffff
using namespace std ;

struct road {
    int x, next, flow ;
} r[MAXM*2] ;

int N, M, G ;
int S, T, pt, ans ;
int val[MAXN], sex[MAXN], pos[MAXN], at[MAXN] ;
int is[MAXN], W[MAXN], K[MAXN], fd[MAXN], dog[MAXN][11] ;
int st[MAXN], w = 1 ;
int dis[MAXN], sum[MAXN] ;

void add(int x, int y, int flow)
{
    r[++w].x = y, r[w].next = st[x] ;
    st[x] = w, r[w].flow = flow ;
}
void con(int x, int y, int flow)
{
    add(x, y, flow), add(y, x, 0) ;
}


int Sap(int x, int rest)
{
    int i, flow = 0, get, tmp ;
    if(x == T) return rest ;
    for(i = st[x]; i; i = r[i].next)
        if(r[i].flow && dis[tmp=r[i].x]+1 == dis[x])
        {
            get = Sap(tmp, min(r[i].flow, rest-flow)) ;
            flow += get, r[i].flow -= get, r[i^1].flow += get ;
            if(flow == rest) return flow ;
        }
    if(!(--sum[dis[x]++])) dis[S] = pt ;
    ++sum[dis[x]] ;
    return flow ;
}

int main()
{
    int i, j ;
    scanf("%d %d %d", &N, &M, &G) ;
    S = ++pt, T = ++pt ;
    for(i = 1; i <= N; i ++)
        scanf("%d", &sex[i]) ;
    for(i = 1; i <= N; i ++)
    {
        scanf("%d", &val[i]) ;
        pos[i] = ++pt ;
        if(sex[i] == 0) con(S, pos[i], val[i]) ;
        else con(pos[i], T, val[i]) ;
    }
    for(i = 1; i <= M; i ++)
    {
        scanf("%d %d %d", &is[i], &W[i], &K[i]) ;
        for(j = 1; j <= K[i]; j ++)
            scanf("%d", &dog[i][j]) ;
        scanf("%d", &fd[i]) ;
        ans += W[i], at[i] = ++pt ;
        if(fd[i]) W[i] += G ;
        if(is[i]) con(at[i], T, W[i]) ;
        else con(S, at[i], W[i]) ;
        for(j = 1; j <= K[i]; j ++)
            if(is[i]) con(pos[dog[i][j]], at[i], INF) ;
            else con(at[i], pos[dog[i][j]], INF) ; 
    }
    sum[0] = pt ;
    while(dis[S] < pt)
        ans -= Sap(S, INF) ;
    printf("%d\n", ans) ;
    //system("pause") ;
    return 0 ;
}
