#include<cstdio>
#include<vector>
#define pb push_back
#define fd(i,a,b) for(int i=a;i>=b;--i)
#define fo(i,a,b) for(int i=a;i<=b;++i)
using namespace std;
const int mn=12000,mm=mn*20,inf=1<<30;
int n,m,G,tt=1,S,T,ans=0;
int g[mm],next[mm],y[mm],f[mm];
int male[mn],boy[mn],dog[mn],people[mn];
int K[mn],e[mn][20];
int h[mn],q[mn];
void add(int i,int j,int v)
{
    next[++tt]=g[i],g[i]=tt,y[tt]=j,f[tt]=v;
    next[++tt]=g[j],g[j]=tt,y[tt]=i,f[tt]=0;
}
void bfs()
{
    fill(h,h+T+2,inf);
    int st=1,ed=1;
    q[st]=S;
    h[S]=0;
    while(st<=ed)
        for(int i=q[st++],p=g[i];p;p=next[p])
        {
            if(f[p]==0)continue;
            if(h[y[p]]==inf)
            {
                h[y[p]]=h[i]+1;
                q[++ed]=y[p];
            }
        }
}
int dfs(int r,int v)
{
    if(r==T)return v;
    int res=0;
    for(int p=g[r];p;p=next[p])
    {
        if(h[y[p]]!=h[r]+1||!f[p])continue;
        int t=dfs(y[p],min(f[p],v-res));
        f[p]-=t,f[p^1]+=t;
        res+=t;
        if(!t)h[y[p]]=inf;
        if(res==v)break;
    }
    return res;
}
int main()
{
    scanf("%d%d%d",&n,&m,&G);
    S=n+m+1,T=S+1;
    fo(i,1,n)
        scanf("%d",male+i);
    fo(i,1,n)
    {
        scanf("%d",dog+i);
        if(male[i])add(i,T,dog[i]);
        else add(S,i,dog[i]);
    }
    fo(i,1,m)
    {
        int k;
        scanf("%d%d%d",boy+i,people+i,K+i);
        fo(j,1,K[i])
            scanf("%d",e[i]+j);
        scanf("%d",&k);
        ans+=people[i];
        if(k)people[i]+=G;
        if(boy[i])add(i+n,T,people[i]);
        else add(S,i+n,people[i]);
        fo(j,1,K[i])
        {
            if(boy[i])
                add(e[i][j],i+n,inf);
            else add(i+n,e[i][j],inf);
        }
    }
    for(;;)
    {
        bfs();
        if(h[T]==inf)break;
        ans-=dfs(S,inf);
    }
    printf("%d\n",ans);
    return 0;
}