#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N1 20010
#define N2 10000000
#define inf 1000000000
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,S,T,t,type,w,x,an,num,G;
int a1[N1],a2[N1],a3[N1],f[N1],a4[N1][11],a[N2],b[N2],head[N1],next[N2],g[N1],
	gg[N1],pre[N1],F[N1];
inline void add(int x,int y,int z) {
	a[++t]=y,b[t]=z,next[t]=head[x],head[x]=t;
	a[++t]=x,b[t]=0,next[t]=head[y],head[y]=t;
}
inline bool bfs() {
	int l,v;
	g[*g=l=1]=S; F[S]=++num; gg[S]=0;
	for (;l<=*g;l++)
	for (v=head[g[l]];v;v=next[v])
	if (b[v]&&F[a[v]]!=num) {
		F[a[v]]=num,gg[a[v]]=gg[g[l]]+1,g[++*g]=a[v];
		if (a[v]==T) return 1;
	}
	return 0;
}
int dfs(int x,int y) {
	if (x==T) return y;
	int v,re,w=0;
	for (v=head[x];v&&w<y;v=next[v])
	if (b[v]&&F[a[v]]==num&&gg[a[v]]==gg[x]+1&&(re=dfs(a[v],min(b[v],y-w))))
		b[v]-=re,b[v^1]+=re,w+=re;
	if (!w) gg[x]=0; return w;
}
int main() {
	scanf("%d%d%d",&n,&m,&G);
	S=n+m+1,T=S+1; t=1;
	For(i,1,n) scanf("%d",&a1[i]);
	For(i,1,n) {
		scanf("%d",&k);
		if (a1[i]) add(i,T,k); else add(S,i,k);
	}
	For(i,1,m) {
		scanf("%d%d%d",&type,&w,&a2[i]);
		For(j,1,a2[i]) {
			scanf("%d",&x);
			if (type) add(x,n+i,inf); else add(n+i,x,inf);
			a4[i][j]=x;
		}
		scanf("%d",&k);
		an+=w; w+=k?G:0;
		if (type) add(n+i,T,w); else add(S,n+i,w);
		a3[i]=type;
	}
	For(i,1,m) if (!a3[i]) For(j,1,m) if (a3[j]) {
		int F=0;
		++num;
		For(k,1,a2[i]) f[a4[i][k]]=num;
		For(k,1,a2[j]) if (f[a4[j][k]]==num) {
			F=1; break;
		}
		if (F) add(n+i,n+j,inf);
	}
	for (;bfs();an-=dfs(S,inf));
	printf("%d\n",an);
	//for(;;);
	return 0;
}
