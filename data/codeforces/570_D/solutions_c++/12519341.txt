#include <iostream>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;
const int MAXN=500005;
int n,m,v,h,l,r,ind,sum,odd,co;
char let[MAXN];
pair<int,int> sub[MAXN];
vector<int> graph[MAXN],indices[MAXN][26];
void dfs(int u,int height)
{
    sub[u].first=ind;
    indices[height][let[u]-'a'].push_back(ind++);
    int v;
    for (int i=0;i<graph[u].size();i++)
    {
        v=graph[u][i];
        dfs(v,height+1);
    }
    sub[u].second=ind-1;
}
int main()
{
    //freopen("DATA.txt","r",stdin);
    scanf("%i%i",&n,&m);
    for (int i=2;i<=n;i++)
    {
        scanf("%i",&h);
        graph[h].push_back(i);
    }
    for (int i=1;i<=n;i++)scanf(" %c",&let[i]);
    dfs(1,1);
    while (m--)
    {
        scanf("%i%i",&v,&h);
        l=sub[v].first;
        r=sub[v].second;
        sum=odd=0;
        for (int i=0;i<26;i++)
        {
            vector<int> &temp=indices[h][i];
            co=upper_bound(temp.begin(),temp.end(),r)-lower_bound(temp.begin(),temp.end(),l);
            odd+=co%2;
            sum+=co;
        }
        if (sum%2-odd<0)puts("No");
        else puts("Yes");
    }
}
