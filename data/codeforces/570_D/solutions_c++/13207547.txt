#include <bits/stdc++.h>

using namespace std;

int n, m, sl = 0;
string s;
vector <int> f[500002][27];
int vao[500002];
int ra[500002];
vector <int> ke[500002];

void DFS(int x, int h)
{
    f[h][s[x-1] - 'a'].push_back(++sl);
    vao[x] = sl;
    for(int i = 0; i < ke[x].size(); i++)
    {
        int v = ke[x][i];
        DFS(v, h+1);
    }
    ra[x] = ++sl;
    return;
}

void in()
{
    scanf("%d%d",&n,&m);
    for(int i = 1; i < n; i++)
    {
        int aA;
        scanf("%d",&aA);
        ke[aA].push_back(i+1);
    }
    cin >> s;
}

int main()
{
    //ios_base::sync_with_stdio(false);
    //freopen("D.INP","r",stdin);
    //freopen("D.OUT","w",stdout);
    in();
    DFS(1, 1);
    while(m--)
    {
        int u, h;
        scanf("%d%d",&u,&h);
        int sll = 0;
        for(int i = 0; i < 26; i++)
        {
            int luu = lower_bound(f[h][i].begin(), f[h][i].end(), ra[u]) - lower_bound(f[h][i].begin(), f[h][i].end(), vao[u]);
            if(luu % 2)
                sll++;
            if(sll > 1) break;
        }
        if(sll > 1) printf("No\n");
            else printf("Yes\n");
    }
    return 0;
}