#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>
using namespace std;
#define N 500005
vector<pair<int,int> > H[N];
vector<int> G[N];
int cnt=0;
int in[N],out[N];
string s;
int dfs(int u,int h){
    out[u] = in[u] = ++cnt;
    H[h].push_back(make_pair(cnt,H[h].back().second^(1<<(s[u-1]-'a'))));
    for (int i=0;i<(int)G[u].size();i++){
        int v = G[u][i];
        out[u] = dfs(v,h+1);
    }
    return out[u];
}

int main()
{
    int n,m;
    cin>>n>>m;
    for (int i=1;i<=n;i++)
        H[i].push_back(make_pair(0,0));
    for (int i=2;i<=n;i++) {
        int p;
        scanf("%d",&p);
        G[p].push_back(i);
    }
    cin>>s;
    dfs(1,1);
    while(m--){
        int v,h;
        scanf("%d%d",&v,&h);
        int l = lower_bound(H[h].begin(),H[h].end(),make_pair(in[v],-1))-H[h].begin()-1;
        int r = lower_bound(H[h].begin(),H[h].end(),make_pair(out[v]+1,-1))-H[h].begin()-1;
        int t = H[h][l].second ^ H[h][r].second;
        if (t-(t&-t)) puts("No");
        else puts("Yes");
    }

    return 0;
}
