#include<bits/stdc++.h>

using namespace std;

#define endline "\n"
#define MAX 500005

int par[MAX];
char s[MAX];
int l[MAX],r[MAX],Time;
vector<int> level[26][MAX];
int head[MAX],to[MAX],nxt[MAX],id=1;

void addedge(int f,int t)
{
    nxt[id]=head[f];
    head[f]=id;
    to[id++]=t;
}

void dfs(int cur=1,int lev=1)
{
    int idx=s[cur]-97;
    level[idx][lev].push_back(++Time);
    l[cur]=Time;
    for(int i=head[cur];i;i=nxt[i])
        dfs(to[i],lev+1);
    r[cur]=Time;
}

int main()
{
    int n,q;
    scanf("%d %d",&n,&q);
    for(int i=2;i<=n;i++)
        scanf("%d",&par[i]),addedge(par[i],i);
    scanf("%s",s+1);
    dfs();
    while(q--)
    {
        int v,h;
        scanf("%d %d",&v,&h);
        int odds=0;
        for(int i=0;i<26 && odds<=1;i++)
            odds+=(upper_bound(level[i][h].begin(),level[i][h].end(),r[v])-lower_bound(level[i][h].begin(),level[i][h].end(),l[v]))&1;
        if(odds<=1)
            printf("Yes\n");
        else
            printf("No\n");
    }
    return 0;
}
