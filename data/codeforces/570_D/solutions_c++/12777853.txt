#include<bits/stdc++.h>
using namespace std;
#define MAX 500005
#define mp make_pair

vector<int>V[MAX];
vector<pair<int, int> >L[MAX];
int in[MAX], out[MAX], t=0;
string str;
void dfs(int v, int l)
{
    in[v] = ++t;

    L[l].push_back(mp(t, L[l].back().second^(1<<(str[v-1]-'a'))));

    for(int i=0; i<V[v].size(); i++)
    {
        dfs(V[v][i], l+1);
    }
    out[v]=++t;
}
int main()
{

    int n, m, inp;
    scanf("%d %d", &n, &m);
    for(int i=0; i<MAX; i++)
     L[i].push_back(mp(0, 0));
    for(int i=1; i<n; i++)
    {
        cin>>inp;
        V[inp].push_back(i+1);
    }
    cin>>str;

    dfs(1, 1);
    int vb, h;
    for(int i=0; i<m; i++)
    {
        scanf("%d %d", &vb, &h);
        int low = lower_bound(L[h].begin(), L[h].end(), mp(in[vb], -1))-L[h].begin()-1;
        int hi = lower_bound(L[h].begin(), L[h].end(), mp(out[vb], -1))-L[h].begin()-1;
        int x = L[h][low].second^L[h][hi].second;
        bool check = x-(x&-x);
        !check? puts("Yes"):puts("No");
    }
}
