#include <bits/stdc++.h>
using namespace std;
const int N = 5e5+5;
vector<pair<int,int> >H[N];
int IN[N],OUT[N],pos=0;
string s;
vector<int> adj[N];
int B[30];
#define mp make_pair
void dfs(int x,int h){
	IN[x]= ++pos;
	int i;
	H[h].push_back(mp(IN[x],H[h].back().second^(B[s[x]-'a'])) );
	for(i=0;i<adj[x].size();++i)
		dfs(adj[x][i],h+1);
	OUT[x]=++pos;
}
int main(){
	int r,x,h,p,n,m,i,j;
	cin>>n>>m;
	for(i=0;i<30;++i)
		B[i]= 1<<i;
	for(i=1;i<n;++i)
		scanf("%d",&p),adj[p-1].push_back(i);
	for(i=1;i<=n;++i)
		H[i].resize(1);
	cin>>s;
	dfs(0,1);
	for(i=0;i<m;++i){
		scanf("%d%d",&x,&h);--x;
		int l = lower_bound(H[h].begin(),H[h].end(),mp(IN[x],0))-H[h].begin()-1;
		r= lower_bound(H[h].begin(),H[h].end(),mp(OUT[x],0))-H[h].begin()-1;
		int ret= H[h][r].second^H[h][l].second;
		bool ok = ret- (ret&-ret);
		if(!ok)printf("Yes\n");
		else printf("No\n");
	}
}
