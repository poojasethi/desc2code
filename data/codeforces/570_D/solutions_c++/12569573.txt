#include <bits/stdc++.h>

using namespace std;
const int maxn=555555;
const int inf=0x3f3f3f3f;
int n,m;
char s[maxn];
typedef pair<int,int> pii;
int in[maxn],out[maxn];
vector<int>g[maxn];
vector<pii>v[maxn];
int dfs_clock=0;
int A[30];
void dfs(int u,int dep){
    in[u]=++dfs_clock;
    v[dep].push_back(make_pair(in[u],v[dep].back().second^A[s[u]-'a']));
    for(int i=0;i<g[u].size();i++){
        dfs(g[u][i],dep+1);
    }
    out[u]=++dfs_clock;
}
int main()
{
//    freopen("in","r",stdin);
    cin>>n>>m;
    for(int i=1;i<=n;i++)v[i].resize(1);
    for(int i=0;i<30;i++)A[i]=1<<i;
    for(int i=2;i<=n;i++){
        int pre;
        scanf("%d",&pre);
        g[pre].push_back(i);
    }
    scanf("%s",s+1);
    dfs(1,1);
    while(m--){
       int u,h;
       scanf("%d%d",&u,&h);
       int l=lower_bound(v[h].begin(),v[h].end(),make_pair(in[u],-1))-v[h].begin()-1;
       int r=lower_bound(v[h].begin(),v[h].end(),make_pair(out[u],-1))-v[h].begin()-1;
       int t=v[h][l].second^v[h][r].second;
//       cout<<t<<endl;
       int ans=t-(t&-t);
       if(!ans)puts("Yes");
       else puts("No");
    }
    return 0;
}
