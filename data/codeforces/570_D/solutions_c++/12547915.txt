#include <bits/stdc++.h>
using namespace std;
int n , m ;
vector<int>v1[500001] ;
vector<int>dep[500001][26] ;
char s[500001] ;
int step = 1 ;
int in[500001] ;
int out[500001] ;

int dfs(int x , int d){
    in[x] = step++ ;
    dep[d][s[x-1] - 'a'].push_back(in[x]) ;
    int i , sz = v1[x].size() ;
    for(i = 0 ; i < sz ; i++){
        dfs(v1[x][i],d+1) ;
    }
    out[x] = step ;
}

int main(){
    scanf("%d %d",&n,&m) ;
    int i , a , j ;
    for(i = 2 ; i <= n ; i++){
        scanf("%d",&a) ;
        v1[a].push_back(i) ;
    }
    scanf("%s",s) ;
    dfs(1,1) ;
    int v , h , x , y , z ;
    for(i = 0 ; i < m ; i++){
        scanf("%d %d",&v,&h) ; /// v vertex h depth
        z = 0 ;
        for(j = 0 ; j < 26 ; j++){
            x = lower_bound(dep[h][j].begin() , dep[h][j].end() , out[v])
                - lower_bound(dep[h][j].begin() , dep[h][j].end() , in[v]) ;
            if(x%2) z++ ;
        }
        if(z > 1)   puts("No") ;
        else    puts("Yes") ;
    }
}
