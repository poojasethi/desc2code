#include <bits/stdc++.h>

using namespace std;

int n, m, v, h, in[500005], out[500005], cas[27], c = 0;
string s;
vector <int> gp[500005];
vector <pair <int, int> > sav[500005];

void dfs(int u, int depth)
{
  in[u] = ++c;
  sav[depth].push_back(make_pair(c, sav[depth].back().second^cas[s[u] - 'a']));
  for (int i = 0; i < gp[u].size(); ++i) dfs(gp[u][i], depth + 1);
  out[u] = ++c;
}

int main()
{
  #ifndef ONLINE_JUDGE
  freopen("input", "r", stdin);
  freopen("output", "w", stdout);
  #endif
  cin >> n >> m;
  for (int i = 0; i < 26; ++i) cas[i] = 1 << i;
  for (int i = 1; i <= n; ++i) sav[i].push_back(make_pair(0, 0));
  for (int i = 1, p; i < n; ++i) scanf("%d", &p), gp[p].push_back(i + 1);
  cin >> s;
  s = '*' + s;
  dfs(1, 1);
  while (m--)
  {
    scanf("%d%d", &v, &h);
    int x = lower_bound(sav[h].begin(), sav[h].end(), make_pair(in[v], -1)) - sav[h].begin() - 1;
    int y = lower_bound(sav[h].begin(), sav[h].end(), make_pair(out[v], -1)) - sav[h].begin() - 1;
    int z = sav[h][x].second^sav[h][y].second;
    printf((z - (z & -z))? "No\n": "Yes\n");
  }
}
