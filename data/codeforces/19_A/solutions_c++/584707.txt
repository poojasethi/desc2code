#include <stdio.h>
#include <string.h>
#include <algorithm>
using namespace std;

char a[105][105];
int goals[105], miss[105], sc[105];
int srt[105];
bool cmp(int x, int y) {
	if(sc[x]!=sc[y]) return sc[x]>sc[y];
	if(goals[x]-miss[x] != goals[y]-miss[y]) return goals[x]-miss[x] > goals[y]-miss[y];
	return goals[x] > goals[y];
}
bool cmp2(int x, int y) {
	return strcmp(a[x], a[y])<0;
}
int main(void) {
	int n, i, j, u, v;
	scanf("%d", &n);
	for(i=0;i<n;i++) {
		scanf("%s", a[i]);
		srt[i] = i;
	}
	for(i=0;i<n;i++)
		for(j=i+1;j<n;j++) {
			char x[105], y[105];
			int n1, n2;
			scanf(" %[^%-]-%s %d:%d", x, y, &n1, &n2);
			for(u=0;u<n;u++)
				if(strcmp(x, a[u])==0)
					break;
			for(v=0;v<n;v++)
				if(strcmp(y, a[v])==0)
					break;
			if(n1==n2) sc[u]++, sc[v]++;
			else sc[n1>n2?u:v]+=3;
			goals[u] += n1;
			goals[v] += n2;
			miss[u] += n2;
			miss[v] += n1;
		}
	sort(srt, srt+n, cmp);
	sort(srt, srt+n/2, cmp2);
	for(i=0;i<n/2;i++)
		printf("%s\n", a[srt[i]]);
	return 0;
}
