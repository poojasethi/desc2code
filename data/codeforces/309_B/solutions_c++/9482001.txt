#include<bits/stdc++.h>
using namespace std;
#define maxn 1000001
int n,r,c,s[maxn],bg[maxn],end[maxn],stk[maxn],top,fir[maxn],next[maxn],to[maxn],sz,ans[maxn],cur[maxn];
char p[maxn*7];bool viewed[maxn];
void add(int x,int y){next[++sz]=fir[x];fir[x]=sz;to[sz]=y;}
int main()
{
	scanf("%d%d%d",&n,&r,&c);
	for(int i=1;i<=n;i++)
	{
		bg[i]=end[i-1]+1;
		scanf("%s",p+bg[i]);
		s[i]=strlen(p+bg[i]);
		end[i]=bg[i]+s[i];
		s[i]+=s[i-1];
	}
	for(int i=1,now=0;i<=n;i++)
	{
		while(s[i]-s[now]+i-now-1>c)++now;
		add(now,i);
	}
	for(int i=0;i<=n;i++)
	if(!viewed[i])
	{
		stk[++top]=i;
		while(top)
		{
			int x=stk[top];
			if(!cur[x])
			{
				cur[x]=fir[x];viewed[x]=true;
				if(top>r)ans[x]=stk[top-r];
				else ans[x]=i;
			}
			else cur[x]=next[cur[x]];
			if(!cur[x])--top;
			else if(!viewed[to[cur[x]]])stk[++top]=to[cur[x]];
		}
	}
	int ansi=1;
	for(int i=1;i<=n;i++)if(i-ans[i]>ansi-ans[ansi])ansi=i;
	for(int i=ans[ansi]+1,t=c;i<=ansi;i++)
	{
		if(t!=c){putchar(' ');--t;}
		if(t<s[i]-s[i-1])t=c,puts("");
		printf("%s",p+bg[i]);t-=s[i]-s[i-1];
		if(!t)t=c,puts("");
	}
}
