#include<cstdio>
#include<cstring>
const int N = 1000500;
const int M = 6000500;
const int T = 22;
int fa[N][T];
char data[M];
int point[N];
int need[T];
int n,r,c;
int erfen(int zl,int zr,int key)
{
	if(zl==zr)
		return zl;
	int mid=(zl+zr+1)>>1;
	if(point[mid]<=key)
		return erfen(mid,zr,key);
	return erfen(zl,mid-1,key);
}
int main()
{
	int i,j;
	scanf("%d%d%d",&n,&r,&c);
	for(i=1;i<=n;i++)
	{
		scanf("%s",data+point[i]);
		point[i+1]=point[i]+strlen(data+point[i])+1;
	}
	for(i=1;i<=n;i++)
		fa[i][0]=erfen(i,n+1,point[i]+c+1);
	int rr=r;
	for(i=0,j=1;rr;i++,j<<=1)
	{
		if(rr&j)
		{
			need[++need[0]]=i;
			rr^=j;
		}
	}
	for(i=0;i<=need[need[0]];i++)
		fa[n+1][i]=n+1;
	for(j=1;j<=need[need[0]];j++)
	{
		for(i=1;i<=n;i++)
			fa[i][j]=fa[fa[i][j-1]][j-1];
	}
	int w,maxz=-1;
	for(i=1;i<=n;i++)
	{
		int t=i;
		for(j=1;j<=need[0];j++)
			t=fa[t][need[j]];
		t-=i;
		if(t>maxz)
		{
			w=i;
			maxz=t;
		}
	}
	for(i=1;i<=r && w<=n;i++)
	{
		for(j=w;j<fa[w][0]-1;j++)
			printf("%s ",data+point[j]);
		if(w<fa[w][0])
			printf("%s\n",data+point[fa[w][0]-1]);
		w=fa[w][0];
	}
	return 0;
}
