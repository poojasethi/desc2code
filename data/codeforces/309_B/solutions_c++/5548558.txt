#include <cstdio>
#include <string>
#include <cstring>
#include <vector>
#include <algorithm>

using namespace std;

string tab[1000005];
int dlu[1000005];

char nap[1000005];

vector<int>graf[1000005];
int oj[23][1000005];

int n,r,c;

int main()
{
  scanf("%d%d%d",&n,&r,&c);
  for(int i=1;i<=n;i++) { scanf("%s",nap); tab[i]=nap; dlu[i]=strlen(nap); }
  int p = 1;
  int sum = 0;
  for(int i=1;i<=n;i++)
  {
    while(p<=n && sum+dlu[p]+p-i<=c) sum+=dlu[p], p++;
    graf[p].push_back(i);
    oj[0][i]=p;
    sum-=dlu[i];
    //printf("oj[%s]=%s\n",tab[i].c_str(),tab[oj[0][i]].c_str());
  }
  oj[0][n+1]=n+1;
  for(int i=1;i<23;i++) for(int j=1;j<=n+1;j++) oj[i][j]=oj[i-1][oj[i-1][j]];
  int m = 0, y = 1;
  for(int i=1;i<=n;i++)
  {
    int x = i;
    for(int j=0;j<23;j++) if(r&(1<<j)) x = oj[j][x];
    if(m < x-i)
    {
      m = x-i;
      y = i;
    }
  }
  sum=0;
  for(int i=y;r && i<=n;i++)
  {
    if(sum+dlu[i]+(sum?1:0)<=c)
    {
      if(sum)
      {
        sum++;
        printf(" ");
      }
      sum+=dlu[i];
      printf("%s",tab[i].c_str());
      if(i==n) printf("\n");
    }
    else
    {
      printf("\n");
      sum=0;
      i--;
      r--;
    }
  }
  return 0;
}
