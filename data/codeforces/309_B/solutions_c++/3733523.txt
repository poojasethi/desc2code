#include <iostream>
#include <cstdio>
#include <string>
#include <cstring>
#include <cstdlib>
using namespace std;

const int N=1211111;

string word[N];
int sum[N];
int next[N];
int calc[N][23];

int main()
{
	ios::sync_with_stdio(false);
	int n,r,c; cin>>n>>r>>c;
	c++; sum[0]=0;
	for(int i=1;i<=n;i++)
	{
		cin>>word[i];
		sum[i]=(int)word[i].size()+1;
		sum[i]+=sum[i-1];
	}
	for(int i=1;i<=n;i++)
	{
		int left=i-1,right=n+1;
		while(left+1<right)
		{
			int mid=(left+right)>>1;
			if(sum[mid]-sum[i-1]<=c) left=mid;
			else right=mid;
		}
		next[i]=left+1;
	}
	next[n+1]=n+1;
	for(int i=1;i<=n+1;i++)
		calc[i][0]=next[i];
	for(int j=1;(1<<j)<=r+1;j++)
		for(int i=1;i<=n+1;i++)
		{
			calc[i][j]=calc[calc[i][j-1]][j-1];
			//cout<<i<<' '<<j<<' '<<calc[i][j]<<'\n';
		}
	int start=-1,ans=-1;
	for(int i=1;i<=n;i++)
	{
		int end=i;
		for(int j=31;j>=0;j--)
			if(r&(1<<j))
				end=calc[end][j];
		if(end-i>ans)
		{
			ans=end-i;
			start=i;
		}
	}
	//cout<<ans<<' '<<start<<'\n';
	
	for(int i=1;i<=r;i++)
	{
		for(int i=start;i<next[start];i++)
			if(i==start) cout<<word[i];
			else cout<<' '<<word[i];
		cout<<'\n';
		start=next[start];
	}
	
	return 0;
}