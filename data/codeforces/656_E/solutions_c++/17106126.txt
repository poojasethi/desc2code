#include<bits/stdc++.h>

using namespace std;

int n,d[55][55];

int ucitaj(int i, int j) {
    return (i==n) ? 0 : ( (j==n) ? ucitaj(i+1,0) : (scanf("%d", &d[i][j]), ucitaj(i,j+1)) );
}

int odradi(int k, int i, int j) {
    return (k==n) ? 0 : ( (i==n) ? odradi(k+1,0,0) : ( (j==n) ? odradi(k,i+1,0) : (d[i][j] = min(d[i][j], d[i][k]+d[k][j])) + odradi(k,i,j+1) ) );

}

int findmax(int i, int j, int m) {
    return (i==n) ? m : ( (j==n) ? findmax(i+1,0,m) : ( (i==j) ? findmax(i,j+1,m) : findmax(i,j+1,max(m,d[i][j])) ) );
}

int main() {

    scanf("%d", &n);

    ucitaj(0,0);

    odradi(0,0,0);

    printf("%d\n", findmax(0,0,0));

    return 0;
}
