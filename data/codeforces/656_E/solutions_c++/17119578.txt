#include <bits/stdc++.h>
#defin\
e F fo\
r
using namespace std;

int grid[18][18];
int main()
{
    int n;
	cin >> n;
    F (int i=0;i<n;i++)
        F (int j=0;j<n;j++)
            cin >> grid[i][j];

    F (int k = 0; k < n; k++)
        F (int i = 0; i < n; i++)
            F (int j = 0; j < n; j++)
                grid[i][j] = min(grid[i][j], grid[i][k] + grid[k][j]);

    int ans = -1e8;
    F (int i=0;i<n;i++)
        F (int j=0;j<n;j++)
            ans = max(ans, grid[i][j]);

    cout << ans << endl;
	return 0;
}
