#include <cstdio>
#include <string>
#include<cmath>
#include<iostream>
using namespace std;
#defin\
e f fo\
r
#defin\
e M 105
#defin\
e INF 0x3f3f3f3f

int map[M][M], dis[M], n, m,tmp;


int min(int a, int b){
    return a<b?a:b;
}

void floyd(){
    int i, j, k;
    f(k = 1; k <= n; k ++)
    	f(i = 1; i <= n; i ++)
        	f(j = 1; j <= n; j ++)
            	map[i][j] = min(map[i][j], map[i][k]+map[k][j]);   
}
int main(){
   cin>>n; 
        int i, j, a, b, c;
        f(i = 1; i <= n; i ++){
            f(j = 1; j <= n; j ++){
            	cin>>tmp;
            	map[i][j]=tmp==0?INF:tmp;
			}
        }
        floyd();
        int x=0;
        f(int i=1;i<=n;i++){
        	f(int j=i+1;j<=n;j++){
				x=x<map[i][j]?map[i][j]:x;
			}
			
		}
		cout<<x<<endl;
        

        

    return 0;
} 
