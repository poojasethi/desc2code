#include<iostream>
using namespace std;
int n;
int a[20][20];
int d[20][20];
bool visited[20];
int maxx=0;
int input2(int i,int j)
{
    cin>>a[i][j];
    d[i][j]=1e9;
    j<n-1?input2(i,j+1):0;
}
int input(int i)
{
    input2(i,0);
    i<n-1?input(i+1):0;
}
int ohoh(int s,int t,int x,int v);
int gav(int s,int t,int x,int v,int i)
{
    !visited[i]?ohoh(s,t,i,v+a[x][i]):0;
    i<n-1?gav(s,t,x,v,i+1):0;
}
int ohoh(int s,int t,int x,int v)
{
    visited[x]=true;
    v<d[s][t]?(x!=t?gav(s,t,x,v,0):d[s][t]=v):0;
    visited[x]=false;
}
int amal2(int i,int j)
{
    ohoh(i,j,i,0);
    j<n-1?amal2(i,j+1):0;
}
int amal(int i)
{
    amal2(i,0);
    i<n-1?amal(i+1):0;
}
int khar2(int i,int j)
{
    maxx=max(d[i][j],maxx);
    j<n-1?khar2(i,j+1):0;
}
int khar(int i)
{
    khar2(i,0);
    i<n-1?khar(i+1):0;
}
int main()
{
    cin>>n;
    input(0);
    amal(0);
    khar(0);
    cout<<maxx<<endl;
}
