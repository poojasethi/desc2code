#include <bits/stdc++.h>
#include <conio.h>
using namespace std;

int d[100][100];
   
int cyc(int i,int j,int n)
{    
     cin >> d[i][j];
     return (j<n ? cyc(i,j+1,n) : (i<n ? cyc(i+1,1,n) : 0));
}
  
int m;
   
int cyc1(int k,int i,int j,int n)
{
    d[i][j]=min(d[i][j],d[i][k]+d[k][j]);
    return (j<n ? cyc1(k,i,j+1,n) : (i<n ? cyc1(k,i+1,1,n) : (k<n ? cyc1(k+1,1,1,n) : 0) ) );
}

int cyc2(int i,int j,int n)
{
    m=(d[i][j] > m ? d[i][j] : m);
    return (j<n ? cyc2(i,j+1,n) : (i<n ? cyc2(i+1,1,n) : 0));
}

int main()
{
    int n,i,j;
    cin >> n;
    cyc(1,1,n);
    cyc1(1,1,1,n);
    m=0;
    cyc2(1,1,n);
    cout << m << endl;
}
