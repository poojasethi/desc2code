#include <bits/stdc++.h>

using namespace std;

typedef pair < int ,int > pii;

typedef long long ll;

const long long linf = 1e18+5;
const int mod = (int) 1e9 + 7;
const int logN = 17;
const int inf = 1e9;
const int N = 2e5 + 5;

int n, m, arr[123][123], ans = 0;

void getline(int y, int x) {
	scanf("%d", &arr[y][x]);
	(x > 1 ? (getline(y, x-1)) : void(1));
}

void go(int x) {
	getline(x, n);
	(x > 1 ? (go(x-1)) : void(0));
}

void sp3(int k, int i, int j) {
	arr[i][j] = min(arr[i][j], arr[i][k] + arr[k][j]);
	(j > 1 ? (sp3(k, i, j - 1)) : void(0));
}

void sp2(int k, int i) {
	sp3(k, i, n);
	(i > 1 ? (sp2(k, i - 1)) : void(0));
}

void sp1(int k) {
	sp2(k, n);
	(k > 1 ? (sp1(k-1)) : void(0));
}

void mn2(int k, int i) {
	ans = max(ans, arr[k][i]);
	(i > 1 ? (mn2(k, i - 1)) : void(0));
}

void mn1(int k) {
	mn2(k, n);
	(k > 1 ? (mn1(k-1)) : void(0));
}


int main() {

	scanf("%d", &n);

	go(n);

	sp1(n);
	
	mn1(n);

	cout << ans << endl;

	return 0;
}
