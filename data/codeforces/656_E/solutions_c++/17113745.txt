#include <cstdio>
#include <iostream>
#include <cstring>
using namespace std;
	int n,p,maxh;
	int a[11][11],v[11][11];
int fo1(int x,int y,int xs,int ys)
{
	scanf("%d",&a[x][y]);
	v[x][y]=a[x][y];
	p=y==ys?(x==xs?p:fo1(x+1,1,xs,ys)):fo1(x,y+1,xs,ys);
}
int fo2(int x,int y,int z)
{
	v[x][y]=min(v[x][y],v[x][z]+v[z][y]);
	p=y==n?(x==n?(z==n?p:fo2(1,1,z+1)):fo2(x+1,1,z)):fo2(x,y+1,z);
}
int fo3(int x,int y)
{
	maxh=max(maxh,v[x][y]);
	p=y==n?(x==n?p:fo3(x+1,1)):fo3(x,y+1);
}
int main()
{
	scanf("%d",&n);
	fo1(1,1,n,n);
	fo2(1,1,1);
	fo3(1,1);
	printf("%d",maxh);
	return 0;
}
