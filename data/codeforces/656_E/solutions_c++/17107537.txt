#include <bits/stdc++.h>

using namespace std;

int n ;
int a[11][11];
int ans=-100;

bool input(int i,int j){
cin>>a[i][j];
return (( !( i==n-1&&j==n-1 ) )?input(i+(j+1)/n,(j+1)%n):0);
}

bool go(int i,int j,int k){

a[i][j]=min(a[i][j],a[i][k]+a[j][k]);

return ( (  j+1<n  )?(  go(i,j+1,k)   ):(   ( i+1<n )?( go(i+1,0,k) ):(  ( k+1<n )?( go(0,0,k+1) ):( false )  )    ) );

}

int get_max(int i,int j){
ans=max(ans,a[i][j]);
return (( !( i==n-1&&j==n-1 ) )?get_max(i+(j+1)/n,(j+1)%n):ans);
}


int main()
{

cin>>n;
input(0,0);

go(0,0,0);
cout<<get_max(0,0)<<endl;
    return 0;
}
