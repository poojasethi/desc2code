#include<bits/stdc++.h>
using namespace std;
int arr[15][15];
int n;
void rec()
{
    return;
}
void recur2(int i,int j)
{
    cin>>arr[i][j];
    (j+1)<=n?recur2(i,j+1):rec();

}
int mx;
void recur1(int i)
{
//    cout<<i+1<<endl;
    recur2(i,1);
    (i+1)<=n?recur1(i+1):rec();
}
void recur4(int i,int j)
{
    mx=mx<arr[i][j]?arr[i][j]:mx;
    (j+1)<=n?recur4(i,j+1):rec();

}
void recur3(int i)
{
//    cout<<i+1<<endl;
    recur4(i,1);
    (i+1)<=n?recur3(i+1):rec();
}
void flo3(int k,int i,int j)
{
    arr[i][j]=arr[i][j]>arr[i][k]+arr[k][j]?arr[i][k]+arr[k][j]:arr[i][j];
    (j+1)<=n?flo3(k,i,j+1):rec();
}
void flo2(int k,int i)
{
    flo3(k,i,1);
    (i+1)<=n?flo2(k,i+1):rec();

}
void flo1(int k)
{
    flo2(k,1);
    (k+1)<=n?flo1(k+1):rec();
}
int main()
{
    memset(arr,0,sizeof arr);
    scanf("%d",&n);
    recur1(1);
    flo1(1);
    mx=-9999;
    recur3(1);
    cout<<mx<<endl;

    return 0;
}
