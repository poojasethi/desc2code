#include <iostream>
#include <bits/stdc++.h>

using namespace std;

int a[20][20], n, ans;

int NEXT1(int x)
{
    cin >> a[x/n][x%n];
    return (x == n * n) ? 0 : NEXT1(x+1);
}

int NEXT2(int x)
{
    int k = x / (n * n);
    int i = ((x % (n * n)) / n);
    int j = x % n;
    a[i][j] = min(a[i][j], a[i][k] + a[k][j]);
    return (x == n * n * n) ? 0 : NEXT2(x+1);
}

int NEXT3(int x)
{
    ans = max(ans, a[x/n][x%n]);
    return (x == n * n) ? 0 : NEXT3(x+1);
}

int main()
{
   // freopen("inp.txt", "r", stdin); freopen("out.txt", "w", stdout);
    cin >> n;
    NEXT1(0);
    NEXT2(0);
    NEXT3(0);
    cout << ans;
}
