#include<bits/stdc++.h>
using namespace std;
int arr[105][105];
int n;
int read(int x, int y) {
	x == n ? x = n : (y == n ? y = n : scanf("%d", &arr[x][y]));
	x == n ? x = n : (y == n ? read(x + 1, 0) : read(x, y + 1));
	return 0;
}
int floyd(int k, int i, int j) {
	k == n ? k = n :
			i == n ? i = n :
					j == n ? j = n :
							arr[i][j] = min(arr[i][j], arr[i][k] + arr[k][j]);
	k == n ? k = n :
			i == n ? floyd(k + 1, 0, 0) :
					j == n ? floyd(k, i + 1, 0) :
							floyd(k, i, j + 1);
	return 0;
}
int ans(int x, int y) {
	int ret = 0;
	x == n ? x = n : ret = max(ret, arr[x][y]);
	x == n ? x = n : y == n ? ret = max(ret, ans(x + 1, 0)) : ret = max(ret, ans(x, y + 1));
	return ret;
}
int main() {
	scanf("%d", &n);
	read(0, 0);
	floyd(0, 0, 0);
	cout << ans(0, 0) << endl;
}
