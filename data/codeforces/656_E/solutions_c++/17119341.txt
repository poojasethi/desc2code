#include<bits/stdc++.h>

using namespace std;

#defin\
e o_0 fo\
r
 
#defin\
e x_x i\
f
 
#defin\
e u_u els\
e

vector <vector <long long> > vec;
 
int find(int i, int j, int lim)
{
    cin >> vec[i][j];
    x_x(j < lim)
    {
        find(i, j+1, lim);
    }
    u_u x_x(i < lim)
    {
	j = 0;
        find(i+1, j, lim);
    }
    return 0;
}

int main() {
	cout.precision(0); 
	int V;
    cin >> V;
    vec = vector <vector <long long> > (V, vector <long long> (V));
    o_0(int i=0; i<V; ++i)
        o_0(int j=0; j<V; ++j)
            cin >> vec[i][j];
 
    o_0(int k = 0; k < V; ++k)
        o_0(int i = 0; i < V; ++i)
            o_0(int j = 0; j < V; ++j)
                vec[i][j] = min(vec[i][j], vec[i][k] + vec[k][j]);
 
    long long mx = -999999999;
 
    o_0(int i=0; i<V; ++i)
        o_0(int j=0; j<V; ++j)
            mx = max(mx, vec[i][j]);
 
    cout << mx << endl;
	return 0;
}