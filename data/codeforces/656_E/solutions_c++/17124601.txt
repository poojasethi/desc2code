#include<bits/stdc++.h>
using  namespace std;
#def\
ine F fo\
r
 
 
int n,ans,a[20][20];



int main(){
	cin >> n;
	F(int i=1;i<=n;i++)
		F(int j=1;j<=n;j++)
			scanf("%d",&a[i][j]);

			F(int k=1;k<=n;k++)
	F(int i=1;i<=n;i++)
		F(int j=1;j<=n;j++)
				a[i][j] = min(a[i][j] , a[i][k] + a[k][j]);
	F(int i=1;i<=n;i++)
		F(int j=1;j<=n;j++)
			ans = max(ans , a[i][j]);
	cout << ans << endl;
}
