#include <cstdlib>
#include <iostream>

#def\
ine FO f\
or

using namespace std;

int n,mx,a[20][20];

int main()
{
     cin >> n;
     FO(int i = 1; i <= n; ++i)
     FO(int j = 1; j <= n; ++j) cin >> a[i][j];
     
     FO(int k = 1; k <= n; ++k)
     FO(int i = 1; i <= n; ++i)
     FO(int j = 1; j <= n; ++j) a[i][j] = min(a[i][k] + a[k][j],a[i][j]);
     
     FO(int i = 1; i <= n; ++i)
     FO(int j = 1; j <= n; ++j) mx = max(a[i][j],mx);
     cout << mx;
}
