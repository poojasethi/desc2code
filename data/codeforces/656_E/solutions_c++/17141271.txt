//program E

#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<vector>

using namespace std;

int n,ans;
int g[10][10];

int input(int x,int y)
{
  cin>>g[x][y];
  int x0=(y==n-1)?(x+1):x;
  int y0=(y+1)%n;
  return (x0<n)?input(x0,y0):0;
}

int solve(int cnt)
{
  int k=cnt/n/n;
  int i=(cnt/n)%n;
  int j=cnt%n;
  g[i][j]=min(g[i][j],g[i][k]+g[k][j]);
  return (cnt+1<n*n*n)?solve(cnt+1):0;
}

int getans(int cnt)
{
  return (cnt==n*n)?0:max(g[cnt/n][cnt%n],getans(cnt+1));
}

int main()
{
  cin>>n;
  input(0,0);
  solve(0);
  cout<<getans(0)<<endl;
  return 0;
}