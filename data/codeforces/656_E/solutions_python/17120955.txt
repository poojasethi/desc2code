#!/usr/bin/env python
import base64
exec(base64.b64decode("TiA9IGludChyYXdfaW5wdXQoKSkKZGlzdCA9IFtbXSBmb3IgaSBpbiB4cmFuZ2UoTildCgpmb3IgaSBpbiB4cmFuZ2UoTik6CiAgICBkaXN0W2ldID0gbWFwKGludCwgcmF3X2lucHV0KCkuc3RyaXAoKS5zcGxpdCgpKQoKZm9yIGsgaW4geHJhbmdlKE4pOgogICAgZm9yIGkgaW4geHJhbmdlKE4pOgogICAgICAgIGZvciBqIGluIHhyYW5nZShOKToKICAgICAgICAgICAgZGlzdFtpXVtqXSA9IG1pbihkaXN0W2ldW2pdLCBkaXN0W2ldW2tdICsgZGlzdFtrXVtqXSkKCnJlcyA9IDAKZm9yIGkgaW4geHJhbmdlKE4pOgogICAgZm9yIGogaW4geHJhbmdlKE4pOgogICAgICAgIHJlcyA9IG1heChyZXMsIGRpc3RbaV1bal0pCgpwcmludCByZXMK"))

