n = int(raw_input())
r = xrange(0, n)
g = map(lambda _:map(lambda x:int(x), raw_input().split()), r)

def f(k,i,j):
	g[i][j] = min(g[i][j], g[i][k]+g[k][j])
	g[j][i] = g[i][j]

map(lambda j:map(lambda i:map(lambda k:f(k,i,j),r),r),r)

print max(map(lambda x:max(g[x]), r))