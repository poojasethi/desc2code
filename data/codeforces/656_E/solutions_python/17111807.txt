def my_loop(N, f):
  map(f, range(N))

N = int(raw_input())

D = []
my_loop(N, lambda _: D.append(map(int, raw_input().split())))

def step(k, i, j):
  b = D[i][j] > D[i][k] + D[k][j]
  b = int(b)
  D[i][j] = b * (D[i][k] + D[k][j]) + (1 - b) * D[i][j]

my_loop(N, lambda k: my_loop(N, lambda i: my_loop(N, lambda j: step(k, i, j))))

print reduce(lambda x, y: max(x, max(y)), D, 0)
