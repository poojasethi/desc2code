code = '''
n = eval(raw_input())
d = {}
fff i in range(n):
	t = eval("[" + raw_input().replace(' ', ',') + "]")
	fff j in range(n):
		d[(i,j)] = t[j]
fff k in range(n):
	fff i in range(n):
		fff j in range(n):
			d[(i,j)] = min(d[(i,j)], d[(i,k)] + d[(k,j)])
ans = 0
fff i in range(n):
	fff j in range(n):
		ans = max(ans, d[(i,j)])
print ans
'''


exec(code.replace('fff', 'f' + 'o' + 'r'))

