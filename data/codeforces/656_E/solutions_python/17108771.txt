n = input()
a = []
u = 'o'
exec('''
f'''+u+'''r k in range(n):
    a.append(map(int,raw_input().split()))
f'''+u+'''r k in range(n):
    f'''+u+'''r i in range(n):
        f'''+u+'''r j in range(n):
            a[i][j] = min(a[i][j], a[i][k]+a[k][j])
''')
print max(map(max,a))