n = input();
idxs = range(n);
g = map(lambda x: map(int, raw_input().split()), idxs);

def upd(k, i, j):
    g[i][j] = min(g[i][j], g[i][k] + g[k][j]);

map(lambda k: map(lambda i: map(lambda j: upd(k, i, j), idxs), idxs), idxs);

ans = max(map(max, g));
print(ans);
