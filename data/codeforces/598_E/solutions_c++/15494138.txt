#include <bits/stdc++.h>

#define s(x) scanf("%d", &x)
#define INF 1e9

using namespace std;

int dp[35][35][55];

int fun(int x, int y, int k)
{
    if (dp[x][y][k])
        return dp[x][y][k];
    if (x*y == k || k == 0)
        return 0;

    int ans = INF, i, j;
    for (i = 1; i <= x-i; i++) {
        for (j = 0; j <= k; j++)
            ans = min(ans, y*y + fun(i, y, k-j) + fun(x-i, y, j));
    }

    for (i = 1; i <= y-i; i++) {
        for (j = 0; j <= k; j++)
            ans = min(ans, x*x + fun(x, i, k-j) + fun(x, y-i, j));
    }

    dp[x][y][k] = ans;

    return ans;
}

int main()
{
    int t;
    s(t);

    while (t--) {
        int n, m, k;
        s(n), s(m), s(k);

        cout << fun(n, m, k) << endl;;
    }
}
