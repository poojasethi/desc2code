//In the Name of God
#include <iostream>
#include <vector>
#include <cstring>
#include <string>

using namespace std;
typedef pair <int , int> pii;

const int maxn = 10000 + 10;
int n , m , mark[maxn] , col[maxn] , k;
vector <pii> G[maxn];

void dfs(int v , int c){
  mark[v] = c;
  for(int i = 0 ; i < G[v].size() ; i++)
    if(col[G[v][i].second] < c && mark[G[v][i].first] < c)
      dfs(G[v][i].first , c);
}

int main(){
  ios_base::sync_with_stdio(false);
  cin >> n >> m;
  for(int i = 0 ; i < m ; i++){
    int v , u;
    cin >> v >> u;
    v--; u--;
    G[v].push_back(pii(u , i));
    G[u].push_back(pii(v ,  i));
  }
  cin >> k;
  for(int i = 0 ; i < k ; i++){
    int l , r , ans = 0;
    cin >> l >> r;
    l--; r--;
    for(int j = l ; j <= r ; j++)
      col[j] = i + 1;
    for(int j = 0 ; j < n ; j++)
      if(mark[j] < i + 1){
	dfs(j , i + 1);
	ans++;
      }
    cout << ans << '\n';
  }
  return 0;
}
