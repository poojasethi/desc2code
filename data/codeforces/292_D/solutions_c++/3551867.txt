#include<iostream>
#include<stdio.h>
#include<math.h>
#include<algorithm>
#include<vector>
#include<string>

#define M3 2000
#define M5 500000
#define M6 5000000
#define m7 1000000007
 
using namespace std;

vector <int> g[M3],c[M3];
bool fix[M3];
int l,r,i,n,m,q,now,x,y;

void df(int now)
 {
  fix[now]=true;
  for (int o=0;o<g[now].size();o++)
   if ((c[now][o]>r || c[now][o]<l) && !fix[g[now][o]]) df(g[now][o]);
 }

main()
 {
  cin>>n>>m;
  for (i=1;i<=m;i++)
   {
    cin>>x>>y;
    g[x].push_back(y);
    g[y].push_back(x);
    c[x].push_back(i);
    c[y].push_back(i);
   }
  cin>>q;
  while (q--)
   {
    cin>>l>>r;
    now=0;
    for (i=1;i<=n;i++) fix[i]=0;
    for (i=1;i<=n;i++)
     if (!fix[i])
      {
       now++;
       df(i);
      }
    cout<<now<<endl;
   }
 }
