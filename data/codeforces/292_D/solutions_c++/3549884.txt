#include <cstdio>
#include <cstring>
#include <algorithm>
#define rep(i,l,r) for(int i = l;i <= r;++ i)
using namespace std;
int n,m,a,b,map[505][505],id[505][505],v[505],l,r,Q,indx = 0;
void dfs(int cur)
{
    v[cur] = indx;
	rep(i,1,map[cur][0])
	if((id[cur][i] < l || id[cur][i] > r) && v[map[cur][i]] != indx)
       dfs(map[cur][i]);
}
int main()
{
	//freopen("input","r",stdin); freopen("output","w",stdout);
    scanf("%d%d",&n,&m);
	rep(i,1,m){
	   scanf("%d%d",&a,&b);
	   map[a][++ map[a][0]] = b;
	   map[b][++ map[b][0]] = a;
	   id[a][map[a][0]] = id[b][map[b][0]] = i;
	}
	scanf("%d",&Q);
	rep(i,1,Q){
	   scanf("%d%d",&l,&r);
	   int ans = 0; ++ indx;
	   rep(j,1,n)
	   if(v[j] != indx){
	      dfs(j); ++ ans;
	   }
	   printf("%d\n",ans);
	}
	return 0;
}
