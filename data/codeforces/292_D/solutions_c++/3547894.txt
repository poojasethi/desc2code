#include <cstdio>
#include <vector>
#include <cstring>
#define MAXN 512
using namespace std;
vector<pair<int, int> > g[MAXN];
bool vis[MAXN];
void dfs(int le, int ri, int u) {
	vis[u] = true;
	for(int i = 0; i < g[u].size(); ++i) {
		int id = g[u][i].first, v = g[u][i].second;
		if((id < le || id > ri) && !vis[v]) {
			dfs(le, ri, v);
		}
	}
}
int main() {
	int n, m;
	scanf("%d%d", &n, &m);
	for(int i = 0; i < m; ++i) {
		int u, v;
		scanf("%d%d", &u, &v);
		--u, --v;
		g[u].push_back(make_pair(i, v));
		g[v].push_back(make_pair(i, u));
	}
	int k;
	scanf("%d", &k);
	for(int i = 0; i < k; ++i) {
		int le, ri;
		scanf("%d %d", &le, &ri);
		--le, --ri;
		memset(vis, false, sizeof(vis));
		int cnt = 0;
		for(int i = 0; i < n; ++i) {
			if(!vis[i]) {
				dfs(le, ri, i);
				++cnt;
			}
		}
		printf("%d\n", cnt);
	}
	return 0;
}
