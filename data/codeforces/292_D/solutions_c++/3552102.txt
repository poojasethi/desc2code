#include<cstdio>
#include<vector>
#include<utility>
using namespace std;
int l,r;
vector<pair<int,int> >v[502];
int visit[1000];
void dfs(int s)
{
int i;
for(i=0;i<v[s].size();i++)
if(!(v[s][i].second>=l&&v[s][i].second<=r))
{
if(!visit[v[s][i].first])
{visit[v[s][i].first]=1;
dfs(v[s][i].first);
}
}
}
int main()
{
int a,b,n,m,i,k,cnt=0;
scanf("%d%d",&n,&m);
for(i=1;i<=m;i++){
scanf("%d%d",&a,&b);
v[a].push_back(make_pair(b,i));
v[b].push_back(make_pair(a,i));
}
scanf("%d",&k);
int j;
for(j=0;j<k;j++)
{
cnt=0;
scanf("%d%d",&l,&r);
for(i=1;i<=n;i++)
visit[i]=0;
for(i=1;i<=n;i++)
if(!visit[i])
{cnt++;visit[i]=1;
dfs(i);
}
printf("%d\n",cnt);
}
return 0;
}
