#include<iostream>
#include<stdio.h>
#include<algorithm>
#include<vector>
using namespace std;
int a,s,d[502],f,g,h,j,k,l,i,n,m,ans;
vector<pair<int,int> > v[502];
int dfs(int q,int b){
int i1=0;
d[q]=i;

for(i1=0;i1<v[q].size();i1++){
if((v[q][i1].second>s || v[q][i1].second<a) && d[v[q][i1].first]!=i) {dfs(v[q][i1].first,q);}
}
} 

main(){
cin>>n>>m;

for(i=1;i<=m;i++){
scanf("%d%d",&a,&s);
v[a].push_back(make_pair(s,i));
v[s].push_back(make_pair(a,i));
}

cin>>k;
for(i=1;i<=k;i++){
scanf("%d%d",&a,&s);
for(j=1;j<=n;j++){
if(d[j]!=i){dfs(j,-1);ans++;}
}
printf("%d\n",ans);
ans=0;
}
//system("pause");
}
