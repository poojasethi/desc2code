#include <cstdio>
#include <iostream>
#include <vector>

#define fi first
#define se second
#define pb push_back

using namespace std;

typedef pair<int,int> ii;

const int MAXN=512;

int N,M,L,R,cnt;
int vis[MAXN];

vector<ii> g[MAXN];

void dfs( int nd ){
	
	vis[nd]=cnt;
	
	for( vector<ii>::iterator it=g[nd].begin() ; it!=g[nd].end() ; it++ )
		if( ( it->se<L || it->se>R) && vis[it->fi]!=cnt )
			dfs(it->fi);
}

int main(){
	
	scanf(" %d %d",&N,&M);
	
	for( int a,b,i=1 ; i<=M ; i++ ){
		scanf(" %d %d",&a,&b);
		g[a].pb(ii(b,i));
		g[b].pb(ii(a,i));
	}
	
	scanf(" %d",&M);
	
	for( int i=0 ; i<M ; i++ ){
		
		cnt++;
		int c=0;
		
		scanf(" %d %d",&L,&R);
		
		for( int j=1 ; j<=N ; j++ )
			if( vis[j]!=cnt ){
				c++;
				dfs(j);
			}
		
		printf("%d\n",c);
	}
	return 0;
}
