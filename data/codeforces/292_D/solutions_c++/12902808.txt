#include <bits/stdc++.h>
 
using namespace std;

int n,m,a,b,calc,quer;
int used[1000];
vector<pair<int,int> > g[1000];

void dfs(int v)
{
     used[v]=1;
     for (int i=0;i<g[v].size();i++)
     {
         long q=g[v][i].first;
         long e=g[v][i].second;
         if (e>=a&&e<=b)continue;
         if (used[q])continue;
         dfs(q);
     }
}
int main(){
//ios_base::sync_with_stdio(0);

scanf("%d%d",&n,&m);
for (int i=1;i<=m;i++)
{
    scanf("%d%d",&a,&b);
    g[a].push_back(make_pair(b,i));
    g[b].push_back(make_pair(a,i));
}

scanf("%d",&quer);
for (;quer;--quer)
{
 scanf("%d%d",&a,&b);
 for (int i=1;i<=n;i++)
 used[i]=0;
 calc=0;
 for (int i=1;i<=n;i++)
 if (used[i]==0)
 {dfs(i);calc++;}
printf("%d\n",calc);
}

cin.get();cin.get();
return 0;}
 
