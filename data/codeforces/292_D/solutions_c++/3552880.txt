#include <cstdio>
#include <vector>
#define N first 
#define V second
using namespace std;
int n, m, t, from, to, used[510], x, y;
vector <pair<int,int> > g[510];
void dfs(int v) {
     used[v] = t;
     for (int i = 0; i < g[v].size(); i++)
         if ((g[v][i].N < from || g[v][i].N > to) && used[g[v][i].V] != t) dfs(g[v][i].V);
}
int main(){
    //freopen("input.txt","r",stdin); freopen("output.txt","w",stdout);
    scanf("%d %d \n", &n, &m);
    for (int i = 1; i <= m; i++) { 
        scanf("%d %d \n", &x, &y);
        pair <int, int> k;
        k.N = i; k.V = y;
        g[x].push_back(k);
        k.V = x;
        g[y].push_back(k);
    }
    scanf("%d \n", &t);
    while (t--) {
          scanf("%d %d \n", &from, &to);
          int res = 0;
          for (int i = 1; i <= n; i++)
              if (used[i] != t) res++, dfs(i);
          printf("%d\n", res);
    }
    return 0;
}
