#include <stdio.h>
#include <cstdlib>
#include <iostream>
#include <algorithm>
#include <math.h>
#include <string>
#include <vector>
#include <map>
using namespace std;

const int N=502;
bool f[N];
int n,m,j,l,r,k,i,x,y,answer;
vector <int> g[N],d[N];

void DFS(int v)
{
 f[v]=true;
 for ( int j=0;j<g[v].size();j++ )
  
  if ( d[v][j]<l || d[v][j]>r )
  
  if ( !f[g[v][j]] )
   
    DFS(g[v][j]);
}

main()
{
 scanf("%d%d",&n,&m);
 for ( j=1;j<=m;j++ )
  {
   scanf("%d%d",&x,&y);
   g[x].push_back(y); d[x].push_back(j);
   g[y].push_back(x); d[y].push_back(j);
  }

 scanf("%d",&k);
 while ( k-- )
  {
   scanf("%d%d",&l,&r);
   for ( i=1;i<=n;i++ )
    f[i]=false;

   answer=0;
   for ( i=1;i<=n;i++ )
    if ( !f[i] )
     {
      answer++;
      DFS(i);
     }

   printf("%d\n",answer);
  }
}