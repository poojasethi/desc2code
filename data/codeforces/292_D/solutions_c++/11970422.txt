#include<bits/stdc++.h>
using namespace std;

vector< pair<int,int> > adj[510];
int visited[510];

int a,b,l,r,k,n,m;
void dfs(int index)
{
	visited[index] = 1;
	
	for(int i=0;i<adj[index].size();i++)
	if((adj[index][i].second<l  || adj[index][i].second>r) && !visited[adj[index][i].first] )
	{
		dfs(adj[index][i].first);
	}
}

int main()
{
	scanf("%d %d",&n,&m);
	
	for(int i=1;i<=m;i++)
	{
		scanf("%d %d",&a,&b);
		
		adj[a].push_back(make_pair(b,i));
		adj[b].push_back(make_pair(a,i));
	}
		
	scanf("%d",&k);
	
	while(k--)
	{
		scanf("%d %d",&l,&r);
		
		for(int i=1;i<=n;i++)
		visited[i] = 0;
		
		int ans=0;
		
		for(int i=1;i<=n;i++)
		{
			if(!visited[i])
			{
				ans++;
				dfs(i);
			}
		}
		
		printf("%d\n",ans);
	}
}