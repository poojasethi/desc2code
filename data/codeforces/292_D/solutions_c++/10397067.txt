#include <iostream>
#include <vector>

using namespace std;

int n,m;
vector<pair<int,int> > g[1000000];

int l,r;
int visto[1000000];
int q[1000000];

int main()
{
  cin>>n>>m;
  for (int i=1;i<=m;i++) {
    int u,v;
    cin>>u>>v;
    g[u].push_back(pair<int,int> (v,i));
    g[v].push_back(pair<int,int> (u,i));
  }
  int k;
  cin>>k;
  for (int caso=0;caso<k;caso++) {
    cin>>l>>r;
    for (int i=1;i<=n;i++)
      visto[i]=0;
    int c=0;
    for (int i=1;i<=n;i++) {
      if (not visto[i]) {
	c++;
	int u=i;
	visto[u]=1;
	q[0]=u;
	int nq=1;
	int iq=0;
	while (iq<nq) {
	  u=q[iq++];
	  vector<pair<int,int> > &ar=g[u];
	  for (int j=0;j<int(ar.size());j++) {
	    int v=ar[j].first;
	    int a=ar[j].second;
	    if (not(l<=a and a<=r) and not visto[v]) {
	      visto[v]=1;
	      q[nq++]=v;
	    }
	  }
	}
      }
    }
    cout<<c<<endl;
  }
}
