#include<stdio.h>
#include<vector>

using namespace std;

vector < pair <int,int> > g[501];
bool fix[501];
int l,r;

void df(int now)
 {
  fix[now]=true;
  for (int o=0;o<g[now].size();o++)
   if ((g[now][o].second>r || g[now][o].second<l) && !fix[g[now][o].first]) df(g[now][o].first);
 }

int main()
 {
  int n,m;
  scanf("%d%d",&n,&m);
  for (int i=1;i<=m;i++)
   {
    int x,y;
    scanf("%d%d",&x,&y);
    g[x].push_back(make_pair(y,i));
    g[y].push_back(make_pair(x,i));
   }
  int q;
  scanf("%d",&q);
  while (q--)
   {
    scanf("%d%d",&l,&r);
    int now=0;
    for (int i=1;i<=n;i++) fix[i]=0;
    for (int i=1;i<=n;i++)
     if (!fix[i])
      {
       now++;
       df(i);
      }
    printf("%d\n",now);
   }
  return 0;
 }
