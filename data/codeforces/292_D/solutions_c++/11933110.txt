#include <bits/stdc++.h>

using namespace std;

#define MAX 502

vector<pair<int, int> > e[MAX];
int g[MAX];
int l, r, n, m, u, v, k;


void dfs(int v){
    g[v] = 1;

    for(int i=0 ; i<e[v].size() ; i++){
        if((e[v][i].second<l || e[v][i].second>r) && !g[e[v][i].first])
            dfs(e[v][i].first);
    }
}

int main(){
    scanf("%d %d", &n, &m);

    for(int i=1 ; i<=m ; i++){
        scanf("%d %d", &u, &v);

        e[u].push_back(make_pair(v, i));
        e[v].push_back(make_pair(u, i));
    }

    scanf("%d", &k);

    while(k--){
        scanf("%d %d", &l, &r);

        memset(g, 0, sizeof(g));

        int ans = 0;
        for(int i=1 ; i<=n ; i++){
            if(!g[i]){
                ans++;
                dfs(i);
            }
        }

        printf("%d\n", ans);
    }

    return 0;
}