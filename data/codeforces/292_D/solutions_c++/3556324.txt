#include <iostream>
#include <vector>
using namespace std;
struct edge{long y,n;} e;
vector<edge> a[1000]={};
long ans,i,j,m,n,k,x,y,l,r,b[1000]={};
void dfs(long k) {
    b[k]=1;
    for (long i=0;i<a[k].size();i++) 
        if ((a[k][i].n<l)||(a[k][i].n>r))
            if (b[a[k][i].y]==0) dfs(a[k][i].y);
}
int main() {
    cin >> n >> m;
    for (i=1;i<=m;i++) { 
        cin >> x >> y;
        e.y=y;e.n=i;
        a[x].push_back(e);
        e.y=x;
        a[y].push_back(e);
    }
    for (cin >> k;k>0;k--) {
        for (i=1;i<=n;i++) b[i]=0;
        cin >> l >> r;
        ans=0;
        for (i=1;i<=n;i++)
            if (b[i]==0) {
                dfs(i);
                ans++;
            }
        cout << ans << endl;
    }
    return 0;
}
