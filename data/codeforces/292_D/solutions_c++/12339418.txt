#include<bits/stdc++.h>

using namespace std;

int n, m, x, y, u, v, k, ans;
int p[501], a[10010], b[10010];

inline int find(int x) {
    if (p[x] == x) return x;
    return p[x] = find(p[x]);
}

int main(int argc, char **argv) {
    scanf("%d%d", &n, &m);
    for (int i = 1; i <= m; ++i)
        scanf("%d%d", &a[i], &b[i]);
    scanf("%d", &k);
    while (k--) {
        ans = 0;
        scanf("%d%d", &x, &y);
        for (int i = 1; i <= n; ++i)
            p[i] = i;
        for (int i = 1; i < x; ++i) {
            u = find(a[i]);
            v = find(b[i]);
            p[u] = v;
        }
        for (int i = y + 1; i <= m; ++i) {
            u = find(a[i]);
            v = find(b[i]);
            p[u] = v;
        }
        for (int i = 1; i <= n; ++i)
            if (p[i] == i)
                ++ans;
        printf("%d\n", ans);
    }
    return 0;
}