#include <bits/stdc++.h>
using namespace std;
#define N 111111
int n,a[N],pos[N],sieve[N],prime[N];
void init()
{
	for(int i=2;i*i<N;i++)
	{
		if(!sieve[i])
		{
			for(int j=i*i;j<N;j+=i)
				sieve[j] = 1;
		}
	}
	for(int i=2;i<N;i++)
	{
		if(sieve[i])
			prime[i] = prime[i-1];
		else 
			prime[i] = i;
	}
}
int main()
{
	init();
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		scanf("%d",&a[i]);
		pos[a[i]] = i;
	}
	vector < pair <int, int> > ans;
	for(int i=1;i<=n;i++)
	{
		while(pos[i] > i)
		{
			int u = pos[i];
			int len = u - i + 1;
			int v = u - prime[len] + 1;
			swap(a[u],a[v]);
			pos[a[u]] = u;
			pos[a[v]] = v;
			ans.push_back(make_pair(min(u,v) , max(u,v) ) );
		}
	}
	cout<<ans.size()<<endl;
	for(int i=0;i<ans.size();i++)
		printf("%d %d\n",ans[i].first,ans[i].second);
	return 0;
}