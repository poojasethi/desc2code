#include <stdio.h>
#include <iostream>
#include <vector>
#include <cstring>
#include <algorithm>
using namespace std;
vector <int> vc;
vector<int>::iterator iter;
int n,t,x[100005],y[100005],l[400005],r[400005],s=0;
bool f[100005]={false};
inline void sswap(int a,int b){
	s++;
	l[s]=a,r[s]=b; 
	y[x[a]]=b,y[x[b]]=a;
	swap(x[a],x[b]);
}
int main( ){
	for (int i=2;i<=100000;i++)
		if (!f[i]){
			vc.push_back(i);
			for (int j=2;j<=(int)100000/i;j++)
				f[i*j]=true;
		}
	scanf("%d",&n);
	for (int i=1;i<=n;i++){
		scanf("%d",&x[i]);
		y[x[i]]=i;
	}
	for (int i=1;i<=n;i++)
		while (y[i]!=i){
			iter=upper_bound(vc.begin(),vc.end(),y[i]-i+1);
			iter--;
			t=*iter;
			sswap(y[i]-t+1,y[i]);
		}
	cout<<s<<endl;
	for (int i=1;i<=s;i++)
		cout<<l[i]<<' '<<r[i]<<endl;
	return 0;
}
