#include<bits/stdc++.h>
#define z 100001
using namespace std;
int main(){
    int t,n,l,r,i,j,opn,a[z],b[z],c[5*z],p[z]={0};cin>>n;
    for(i=2;i<=n;i++) if(!p[i]) for(j=i*2;j<=n;j+=i) p[j]=1;
    for(i=1;i<n;p[i++]=j) if(!p[i+1]) j=i;
    for(i=0;i<n;b[a[i]]=i,i++)cin>>a[i];
    for(opn=i=0;i<n;i++)
        for(r=b[i+1],l=r-p[r-i];r>i;r=l,l-=p[l-i]){
            b[t=a[l]]=r;
            a[c[opn++]=l]=a[r];
            a[c[opn++]=r]=t;
        }
    cout<<opn/2<<endl;
    for(i=0;i<opn;i+=2)cout<<c[i]+1<<" "<<c[i+1]+1<<endl;
    return 0;
}