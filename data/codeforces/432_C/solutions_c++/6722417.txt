#include <iostream>
using namespace std;
int prime[100001];
bool pr[100001]={false};
void set()
{
	int i,j,k;
	pr[0]=pr[1]=true;
	for(i=2;i<5000;i++)
	{
		if(pr[i]==false)
		{
			k=i+i;
			while(k<=100000)
				{pr[k]=true;k+=i;}
		}
	}
	prime[0]=prime[1]=-1;
	prime[2]=2;
	for(i=3;i<=100000;i++)
	{
		if(pr[i]==false)
			j=i;
		prime[i]=j;
	}
}
int main()
{
	int n,d,i,j,x;
	set();
	cin>>n;
	int ar[n+1],op[5*n][2],pos[n+1],top=-1;
	for(i=1;i<=n;i++)
		{cin>>d;ar[d]=i;pos[i]=d;}
	for(i=n;i>=1;i--)
	{
		while(ar[i]!=i)
		{
			d=prime[i-ar[i]+1];
			d=d+ar[i]-1;
			j=pos[d];
			pos[d]=i;
			pos[ar[i]]=j;
			ar[j]=ar[i];
			ar[i]=d;
			op[++top][0]=ar[j];op[top][1]=d;
			// cout<<ar[i]<<" "<<d<<endl;
			// cin>>x;		
		}
	}
	cout<<top+1<<endl;
	for(i=0;i<=top;i++)
		cout<<op[i][0]<<" "<<op[i][1]<<endl;
}