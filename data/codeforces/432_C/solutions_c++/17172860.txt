#include <bits/stdc++.h>
using namespace std;
const int N=1e5+10;
int pri[N], a[N], pos[N];
struct node{
	int x, y;
}g[5*N];
void prime()
{
	memset(pri, 0, sizeof(pri));
	pri[1]=1;
	for(int i=2; i<N; i++){
		if(pri[i]==0){
			for(int j=i+i; j<N; j+=i){
				pri[j]=1;
			}
		}
	}
}
int main(){
	prime();
	int n;
	scanf("%d", &n);
	for(int i=1; i<=n; i++) {
		scanf("%d", &a[i]);
		pos[a[i]] = i;
	}
	int len=0;
	for(int i=n; i>=1; i--){
		if(a[i]==i) continue;
		int id = pos[a[i]]-pos[i]+1;
		int s=pos[i], e=i, h;
		while(1){
			int k=-1;
			for(int j=id; j>=2; j--){
				if(!pri[j]){
					k=j;break;
				}
			}
			int h=k-1+s;
			swap(pos[a[s]], pos[a[h]]);
			len++, g[len].x=s, g[len].y=h, swap(a[s], a[h]);
			if(h==e) break;
			s=h, id=e-s+1;
		}
	}
	printf("%d\n", len);
	for(int i=1; i<=len; i++){
		printf("%d %d\n", g[i].x, g[i].y);
	}
	return 0;
}
 		 	  	 	 	 	     		   			