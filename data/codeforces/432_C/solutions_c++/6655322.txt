#include <iostream>
#include <stdio.h>
#include <set>
#include <algorithm>
#include <vector>
#include <stack>
using namespace std;
int n;
int x[100005],x1[100005];int pr[100000]={0};
vector <int> v1,v2;
int swap1(int i, int j)
{if (i==j) return 0;
 if (i>j) swap(i,j);
 for (int i0=0;i+i0<j;i0++)
  if (pr[j-(i+i0)+1]==0)
  {v1.push_back(i+i0);
   v2.push_back(j);
   swap(x1[x[i+i0]],x1[x[j]]);
   swap(x[i+i0],x[j]);
   swap1(i,i+i0);
   break;
  }
}
int main()
{//freopen("i.txt","r",stdin);
cin>>n;
for(int i=1;i<=n;i++) {cin>>x[i]; x1[x[i]]=i;}

for(int i=2;i<=n;i++)
 if (pr[i]==0)
  for(int j=2*i;j<=n;j+=i)pr[j]=1;

for (int i=1;i<=n;i++)
 if (x[i]!=i)
   swap1(i,x1[i]);

cout<<v1.size()<<endl;
for (int i=0;i<v1.size();i++)
 cout<<v1[i]<<" "<<v2[i]<<endl;
return 0;
}
