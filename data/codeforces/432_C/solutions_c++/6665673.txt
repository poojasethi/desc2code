#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
#include <vector>
#include <numeric>
#include <vector>
#define inf 0x3fffffff
#define rep(i,s,e) for (int i=(s);i<(e);i++)
/*memset(dp[cur],127,sizeof dp[cur]);*/
using namespace std;


const int maxn=100010;

int p[maxn],idx[maxn],a[maxn],ops[5*maxn];

int main()
{
    int i,j,ml,mr,t,n,opn;
    cin>>n;
    for(i=2;i<=n;i++) if(!p[i]) for(j=i*2;j<=n;j+=i) p[j]=1;
	for(i=1;i<n;p[i++]=j) if(!p[i+1]) j=i;
	for (i=1; i<=n; idx[a[i]]=i,i++) cin>>a[i];
	opn=0;
	for(i=1;i<=n;i++)
		for(mr=idx[i],ml=mr-p[mr-i];mr>i;mr=ml,ml-=p[ml-i])
		{
			idx[t=a[ml]] = mr;
			a[ops[opn++]=ml]=a[mr];
			a[ops[opn++]=mr]=t;
		}
    cout<<opn/2<<endl;
    for(i=0; i<opn; i+=2) cout<<ops[i]<<" "<<ops[i+1]<<endl;
    return 0;
}
