#include <iostream>
using namespace std;

bool isPrime[100002];

void makeprime(int n) {
	int i, j;
	for (i=0; i<=n; i+=2) {
		isPrime[i]=0; isPrime[i+1]=1;
	}
	isPrime[1]=0; isPrime[2]=1;
	for (i=3; i<320; i+=2) if (isPrime[i]) {
		for (j=i*3; j<=n; j+=i*2) isPrime[j]=0;
	}
}

int main()
{
	int n, x, i, j, k, t;
	cin>>n;
	int a[n+1], ai[n+1], b[5*n], c[5*n], cnt=0;
	makeprime(n);
	for (i=1; i<=n; i++) {
		cin>>a[i];
		ai[a[i]]=i;
	}
	for (i=1; i<=n; i++) {
		while(a[i]!=i) {
			x=ai[i];
			for (k=i; !isPrime[x-k+1]; k++);
			t=a[k]; a[k]=a[x]; a[x]=t;
			x=a[x]; k=a[k];
			t=ai[k]; ai[k]=ai[x]; ai[x]=t;
			b[cnt]=ai[k]; c[cnt++]=ai[x];
 		}
	}
	cout<<cnt<<endl;
	for (i=0; i<cnt; i++) cout<<b[i]<<" "<<c[i]<<endl;
	return 0;
} 
