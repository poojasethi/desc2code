#include <cstdio>
#include <algorithm>
using namespace std;

int prs,n;
int bk[111111];
int jin[111111];
int pr[111111];
int ans;
int au[555555],av[555555];
int bh[111111];
int rk[111111];
void xxsss()
{
	int i,j,k;
	prs=0;
	bk[1]=1;
	jin[1]=0;
	for (i=2;i<=n;i++)
	{
		if (!bk[i])
		{
			bk[i]=i;
			pr[prs++]=i;
		}
		jin[i]=prs;
		for (j=0;j<prs;j++)
		{
			k=i*pr[j];
			if (k>n) break;
			bk[k]=pr[j];
			if (i%pr[j]==0) break;
		}
	}
}
int main()
{
	int i,k,q,u,v;
	scanf("%d",&n);
	xxsss();
	for (i=1;i<=n;i++)
	{
		scanf("%d",bh+i);
		rk[bh[i]]=i;
	}
	for (i=1;i<=n;i++)
	{
		while (rk[i]>i)
		{
			k=rk[i];
			q=k-i+1;
			u=pr[jin[q]-1];
			v=k-u+1;

			au[ans]=v;
			av[ans]=k;
			ans++;

			swap(bh[k],bh[v]);
			rk[bh[k]]=k;
			rk[bh[v]]=v;
		}
	}
	printf("%d\n",ans);
	for (i=0;i<ans;i++)
		printf("%d %d\n",au[i],av[i]);
}

    	 	 	    	   					 			