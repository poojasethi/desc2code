#include <iostream>
#include <cstdio>

using namespace std;

int p[100001]={1,1,0},g[100001],n,i = 1,j,k,m,s,q = 0;
int a[100001],b[100001],x[500000],y[500000],z = 0;
int main(){
	scanf("%d",&n);
	for(;i <= n;i++){
		scanf("%d",&a[i]);
		b[a[i]]=i;
	}
	for(i = 2;i <= n;i++){
		g[i]=(p[i]?g[i-1]:i-1);
		if(!p[i]){
			for(j = i + i;j <= n;j += i)
				p[j] = 1;
		}
	}
	for(i = 1;i <= n;i++)
		while(b[i] > i){
			k = b[i];
			j = k - g[k-i+1];
			b[a[j]] = k;
			b[a[k]] = j;
			m = a[j];
			a[j] = a[k];
			a[k] = m;
			x[z] = j;
			y[z++] = k;
		}
		printf("%d\n",z);
		for(i = 0;i < z;i++)
			printf("%d %d\n",x[i],y[i]);
		return 0;
}
  				  		 	  	  		  	    	  		