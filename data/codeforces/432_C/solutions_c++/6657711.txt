#include<string.h>
#include<stdio.h>
#define z 100001
int main()
{
    int t,n,ml,mr,i,j,opn,a[z],idx[z],ops[5*z],p[z]={0};
    scanf("%d",&n);
    for(i=2;i<=n;i++) if(!p[i]) for(j=i*2;j<=n;j+=i) p[j]=1;
    for(i=1;i<n;p[i++]=j) if(!p[i+1]) j=i;
    for(i=0;i<n;idx[a[i]]=i,i++)
        scanf("%d",a+i);
    for(opn=i=0;i<n;i++)
        for(mr=idx[i+1],ml=mr-p[mr-i];mr>i;mr=ml,ml-=p[ml-i])
        {
            idx[t=a[ml]] = mr;
            a[ops[opn++]=ml]=a[mr];
            a[ops[opn++]=mr]=t;
        }
    printf("%d\n",opn/2);
    for(i=0;i<opn;i+=2)
        printf("%d %d\n",ops[i]+1,ops[i+1]+1);
    return 0;
}