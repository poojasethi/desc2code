#include<cstdio>
#include<algorithm>
#include<cstring>
#include<set>
using namespace std;
set<int>::iterator it;
set<int>S;
const int N=100050;
int f[N];

int x[N],y[N];
int l[4*N],r[4*N],top;
void swap(int a,int b){
  l[++top]=a;r[top]=b; 
  y[x[a]]=b;y[x[b]]=a;
  int t=x[a];x[a]=x[b];x[b]=t;
}

int main(){
  for(int i=2;i<=N-50;i++)
    if(!f[i]){
      S.insert(i);
      for(int j=2;i*j<=N-50;j++)
        f[i*j]=1;
    }
  int n;scanf("%d",&n);
  for(int i=1;i<=n;i++) scanf("%d",&x[i]),y[x[i]]=i;
  for(int i=1;i<=n;i++){
    for(;y[i]!=i;){
      it=S.upper_bound(y[i]-i+1);it--;
      int g=*it;
      swap(y[i]-g+1,y[i]);
    }
  }
  printf("%d\n",top);
  for(int i=1;i<=top;i++)
    printf("%d %d\n",l[i],r[i]);
}
