#include <cmath>
#include <cstdio>
#include <iostream>
#include <string.h>
#include <iomanip>
#include <string.h>
#include <algorithm>

using namespace std;
typedef  long long ll;
const ll N=300000,mx=1000000000;

ll a[N],b[N],r1[N],r2[N],i,m,n,k,l,w,s,j,f[N],pos[N],t;

int main()
{
   cin>>n;
   for (i=1;i<=n;i++) { cin>>a[i]; pos[a[i]]=i; }
   m=sqrt(n);
   for (i=2;i<=m;i++) if (!f[i])
   {
      j=i*i;
      while (j<=n) { f[j]=1; j+=i; }
   }
   for (i=1;i<=n;i++)
   {
      j=pos[i];
      for (;j>i;)
      {
        t=i; while (f[j-t+1]) t++;
        w++;
        r1[w]=t;
        r2[w]=j;
        pos[a[t]]=j;
        l=a[t]; a[t]=a[j]; a[j]=l;
        j=t;
       }
    }
    cout<<w<<endl;
    for (i=1;i<=w;i++) cout<<r1[i]<<" "<<r2[i]<<endl;
}
