#include<cstdio>
#include<cstring>
#include<vector>
using namespace std;

int n;
int v[111111], pos[111111];
int prime[111111], det[111111];
vector<pair<int, int> > ans;

int main() {
	scanf("%d", &n);
	for(int i=1;i<=n;i++){
		scanf("%d", &v[i]);
		pos[v[i]] = i;
	}
	
	memset(prime, true, sizeof prime);
	prime[1]=false;
	for(int i=2;i*i<=n;i++)
		for(int j=i*i;j<=n;j+=i)
			prime[j] = false;
	
	for(int i=1;i<n;i++)
		if(prime[i+1])det[i]=i;
		else det[i] = det[i-1];
	
	ans.clear();
	for(int i=1;i<=n;i++) {
		int dist = pos[i] - i;
		while(dist) {
			int x = pos[i], y=pos[i]-det[dist];
			swap(v[x], v[y]);
			swap(pos[v[x]], pos[v[y]]);
			ans.push_back(make_pair(y, x));
			dist -= det[dist];
		}
	}
	printf("%d\n", ans.size());
	for(int i=0;i<ans.size();i++)
		printf("%d %d\n", ans[i].first, ans[i].second);

	return 0;
}