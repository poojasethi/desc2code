s=[raw_input() for i in range(3)]
r=["fantasy","forward","backward","both"]
f=0
if s[1] in s[0] and  s[2] in s[0][s[0].index(s[1])+len(s[1]):]:
	f=1
if s[1] in s[0][::-1] and  s[2] in s[0][::-1][s[0][::-1].index(s[1])+len(s[1]):]:
	f+=2
print r[f]
