# include <iostream>
# include <algorithm>
# include <string>
using namespace std;
int main()
{
	int s=0;
	string str[4]={"fantasy","forward","backward","both"};
	string str1,str2,str3;
	cin>>str1>>str2>>str3;
	if(str1.find(str2)!=-1 && str1.find(str3,str1.find(str2)+str2.size())!=-1) s+=1;
	reverse(str1.begin(),str1.end());
	if(str1.find(str2)!=-1 && str1.find(str3,str1.find(str2)+str2.size())!=-1) s+=2;
	cout<<str[s]<<endl;
	exit(0);
}
