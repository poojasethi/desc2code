#include <algorithm>
#include <iostream>
#include <string>
using namespace std;

int main(void)
{
	int flg=0;
	string str, str1, str2;
	const string word[4]={"fantasy", "forward", "backward", "both"};

	cin >> str >> str1 >> str2;
	if ( str.find(str1)!=-1 && str.find( str2,str.find(str1)+str1.size() )!=-1)	++flg;
	reverse ( str.begin(),str.end() );
	if ( str.find(str1)!=-1 && str.find( str2,str.find(str1)+str1.size() )!=-1)	flg+=2;
	cout << word[flg] << endl;
	return 0;
}
