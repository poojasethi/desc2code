#include<cstdio>
#include<vector>
#include<cstdlib>
#include<algorithm>
using namespace std;

class chest{
public:
    int x,y,mi;
};
vector<chest> a[9000001];

bool cmp(const chest& a,const chest& b){
    return a.mi<b.mi;
}

int main()
{
    int n,m,p;
    scanf("%d %d %d",&n,&m,&p);
    int i,j;
    for(i=1;i<=n;i++){
        for(j=1;j<=m;j++){
            int x;
            scanf("%d",&x);
            chest c;
            c.x=i;
            c.y=j;
            a[x].push_back(c);
        }
    }
    int s=a[1].size();
    for(i=0;i<s;i++){
        a[1][i].mi=a[1][i].x-1+a[1][i].y-1;
    }
    int minn,s1,dis;
    for(i=2;i<=p;i++){
        s=a[i].size();
        s1=a[i-1].size();
        sort(a[i-1].begin(),a[i-1].end(),cmp);
        int nn=min(s1,n+m);
        for(j=0;j<s;j++){
            minn=1e9;
            for(int k=0;k<nn;k++){
                dis=abs(a[i][j].x-a[i-1][k].x)+abs(a[i][j].y-a[i-1][k].y)+a[i-1][k].mi;
                if(dis<minn)minn=dis;
            }
            a[i][j].mi=minn;
        }
    }
    printf("%d",a[p][0].mi);
    return 0;
}