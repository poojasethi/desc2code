#include <bits/stdc++.h>

#define fi first
#define se second
#define mp make_pair
#define pb push_back
#define pii pair < int ,int >
#define maxn 100005
using namespace std;
int n,m,i,j,k,a,b,c,d[305][305],dp[305][305],p,ans[305],last;
vector < pair < pii,pii > > v;
vector < pii > vec[maxn];
int main(){
	scanf("%d %d %d",&n,&m,&p);
	memset(dp,63,sizeof dp);
	for(i=1;i<=n;i++){
		for(j=1;j<=m;j++){
			scanf("%d",&d[i][j]);
			if(d[i][j]==p)
			dp[i][j]=0;
			vec[d[i][j]].pb(mp(i,j));
		}
	}
	for(i=p-1;i;i--){
		v.clear();
		for(j=0;j<vec[i+1].size();j++){
			int x,y;
			x=vec[i+1][j].fi;
			y=vec[i+1][j].se;
			v.pb(mp(mp(x,1),mp(y,dp[x][y])));
		}
		for(j=0;j<vec[i].size();j++){
			int x,y;
			x=vec[i][j].fi;
			y=vec[i][j].se;
			v.pb(mp(mp(x,2),mp(y,0)));
		}
		sort(v.begin(),v.end());
		for(int t=0;t<2;t++){
			memset(ans,63,sizeof ans);
			last=v[0].fi.fi;
			for(j=0;j<v.size();j++){
				int val=v[j].fi.fi;
				for(k=1;k<=m;k++)
				ans[k]+=abs(val-last);
				last=val;
				int tp=v[j].fi.se;
				if(tp==2){
				   int x,y;
				   x=v[j].fi.fi;
				   y=v[j].se.fi;
				   for(k=1;k<=m;k++)	
				   dp[x][y]=min(dp[x][y],abs(k-y)+ans[k]);
				}
				else {
				   int y;
				   y=v[j].se.fi;
				   ans[y]=min(ans[y],v[j].se.se);	
				}	
			}
			reverse(v.begin(),v.end());
		}
	}
	int res=1e9;
	for(i=1;i<=n;i++)
	for(j=1;j<=m;j++)
	if(d[i][j]==1)
	res=min(res,abs(i-1)+abs(j-1)+dp[i][j]);
	printf("%d\n",res);
	return 0;
}
