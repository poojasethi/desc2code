#include<bits/stdc++.h>
using namespace std;
const int N=303,M=303,Inf=0x7fffffff;
int n,m,p,a[N][M]={},f[N][M]={};
vector<int> x[N*M],y[N*M];
int main()
{
	scanf("%d%d%d",&n,&m,&p);
	for(int i=1;i<=n;++i)
		for(int j=1;j<=m;++j)
		{
			scanf("%d",&a[i][j]);
			x[a[i][j]].push_back(i);
			y[a[i][j]].push_back(j);
		}
	for(int i=1;i<=n;++i)
		for(int j=1;j<=m;++j)
			f[i][j]=a[i][j]==1 ? i+j-2 : Inf;
	for(int i=1;i<p;++i)
	{
		for(int l=0,r=0; l!=(int)x[i].size(); l=r)
		{
			int g[M]={};
			fill(g+1,g+m+1,Inf);
			while(r!=(int)x[i].size() && x[i][r]==x[i][l])
				++r;
			for(int j=l;j<r;++j)
				for(int k=1;k<=m;++k)
					g[k]=min(g[k],abs(k-y[i][j])+f[x[i][j]][y[i][j]]);
			for(int j=0; j!=(int)x[i+1].size(); ++j)
				f[x[i+1][j]][y[i+1][j]]=
				min(f[x[i+1][j]][y[i+1][j]],g[y[i+1][j]]+abs(x[i+1][j]-x[i][l]));
		}
	}
	for(int i=1;i<=n;++i)
		for(int j=1;j<=m;++j)
			if(a[i][j]==p)
				printf("%d\n",f[i][j]);
}