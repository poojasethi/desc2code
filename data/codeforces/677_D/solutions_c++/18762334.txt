#include<bits/stdc++.h>
using namespace std;
#define pb push_back
#define pa pair<int,int>
#define paa pair<int,pa>
#define fr first
#define sc second

int n,m,p,ar[500][500];
set < paa > st[1000000];
vector < pa > v[1000000];
int main(){
	scanf("%d %d %d",&n,&m,&p);
	for(int i=1 ; i<=n ; i++){
		for(int j=1 ; j<=m ; j++){
			scanf("%d",&ar[i][j]);
			v[ar[i][j]].pb(pa(i,j));
		}
	}
	
	st[0].insert(paa(0,pa(1,1)));
	
	for(int i=1 ; i<=p ; i++){
		for(int j=0 ; j<v[i].size() ; j++){
		
			int mn=1e9;
		
			for(set < paa > :: iterator it=st[i-1].begin() ; it!=st[i-1].end() ; it++){
				mn=min(mn, abs( v[i][j].fr - (it->sc.fr ) ) + abs( v[i][j].sc - (it->sc.sc) ) + it->fr );
			}
		
			st[i].insert(paa(mn , pa( v[i][j].fr , v[i][j].sc ) ) );
			
			if(st[i].size()> (n+m)*3){
				set <paa> :: iterator it;
				it=st[i].end();
				it--;
				st[i].erase(it);
			}
		}
	}
	printf("%d\n",st[p].begin()->fr);
	

	return 0;
}
