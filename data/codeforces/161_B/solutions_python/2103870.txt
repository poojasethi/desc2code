l=lambda: map(int, raw_input().split())
n,k=l()
v=[]
i=1
for a,b in [ l() for _ in [0]*n]:
    v += [(3-b,a,i)]
    i += 1
    
v.sort(reverse=True)
s=0
for (a,b,c) in v[:k-1]:
    if a == 2:
        s += b*1./2
    else:
        s += b

t=v[k-1][0]==2
C=[]
for (a,b,c) in v[k-1:]:
    C+=[b]
C.sort()
s += sum(C)
if t: s -= C[0]*1./2
print "%.1f" % s
for (a,b,c) in v[:k-1]:
    print 1, c
print n-k+1,
for (a,b,c) in v[k-1:]:
    print c,