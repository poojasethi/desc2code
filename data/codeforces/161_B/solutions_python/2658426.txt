f = lambda x, t : sum(x) - [0, min(x) / 2.][t]
n, k = map(int, raw_input().split())
g = []
for i in range(n):
	c, t = map(int, raw_input().split())
	g.append(([c, -c][t == 1], i + 1))
g.sort()
r = [g[k - 1 : ]]
for i in range(k - 1):
	r.append([g[i]])
print '%.1f' % (sum(f([abs(y[0]) for y in x], any(y[0] < 0 for y in x)) for x in r))
for x in r:
	print len(x), ' '.join(`y[1]` for y in x)