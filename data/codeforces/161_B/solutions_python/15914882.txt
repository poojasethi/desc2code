I=lambda:map(int,raw_input().split())
n,k=I()
j=[]
s=[]
m=1e9
for i in range(n):
	c,t=I();m=min(m,c)
	if t<2:s+=[(c,i)]
	else:j+=[(c,i)]
r=0;p=0
z=[[]for i in[0]*k]
s=sorted(s)[::-1]
for c,i in s:
	z[p]+=[i+1]
	if p<k-1:r+=c;p+=1
	else:r+=2*c
for c,i in j:
	z[p]+=[i+1];r+=2*c
	if p<k-1:p+=1
if len(s)>=k:r-=m
print"%d.%d"%(r/2,r%2*5)
for i in z:print len(i)," ".join(map(str,i))
