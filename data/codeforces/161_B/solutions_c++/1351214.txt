#include <cstdio>
#include <algorithm>
#define len1 1001

struct fair
{
    int c , t , f ;
}a[len1] ;
int n ;

bool cmp( fair a , fair b )
{
    if ( a.t - b.t )
        return a.t < b.t ;
    return a.c > b.c ;
}

double ans = 0 ;

int main()
{
    int i , j , k ;
    int tmp , min = 1000000000 ;
    
    scanf("%d%d",&n,&k);
    for ( i = 1 ; i <= n ; ++i )
    {
        scanf("%d%d",&a[i].c,&a[i].t);
        a[i].f = i ;
    }
    std::sort(a+1,a+n+1,cmp);
    
    for ( i = 1 ; i < k ; ++i )
    {
        if ( a[i].t == 1 )
            ans += (double)a[i].c * 0.5 ;
        else
            ans += a[i].c ;
    }
    for ( i = k ; i <= n ; ++i )
    {
        ans += a[i].c ;
        if ( a[i].c < min )
            min = a[i].c ; 
    }
    if ( a[k].t == 1 )
        ans -= (double)min/2 ;
    
    printf("%.1f\n",ans);
    for ( i = 1 ; i < k ; ++i )
        printf("1 %d\n",a[i].f);
    
    printf("%d",n-k+1);
    for ( i = k ; i <= n ; ++i )
        printf(" %d",a[i].f);
    
    return 0;
}
