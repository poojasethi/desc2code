#include<cstdio>
#include<cstring>
#include<algorithm>
#define maxn 1005
using namespace std; 

struct	Node{
	int c , t,num; 
}data[maxn]; 

bool cmp( Node a , Node b ) { 
	if ( a.t != b.t ) return a.t < b.t; 
	return a.c > b.c; 
}
int main()
{
	int n ,k;
	scanf("%d%d", &n , &k );
	for (int i = 0; i<n; i++) 
	{
		scanf("%d%d" ,&data[i].c , &data[i].t );
		data[i].num = i+1; 
	}
	sort( data , data+n ,cmp ); 
	double ans = 0; 
	int c = k; 
	for (int i = 0; i<k-1; i++) 
	{
		if ( data[i].t == 2 ) {
			c = i+1;
			break;
		}
		ans += data[i].c*1.0/2;
	}
	int cc = data[k-1].c; 
	for (int i = c-1; i<n; i++)
	{
		cc = min( cc , data[i].c ); 
		ans += data[i].c; 
	}
	if ( data[k-1].t == 1 ) ans -= cc*1.0/2;
	printf("%.1f\n" , ans );
	for (int i = 0; i<k-1; i++)
		printf("%d %d\n" , 1 , data[i].num ); 
	printf("%d" , n-k+1); 
	for (int i = k-1; i<n; i++) printf(" %d" , data[i].num );
	printf("\n");
	return 0; 
}
   	  	 					 			 	 		    	