#include <iostream>
#include <cstdio>
#include <cstring>
#include <string>
#include <cmath>
#include <algorithm>
#include <map>
using namespace std;

typedef long long LL;
const int maxn=100005;
double eps=10e-6;

struct S{
	int p,type,xuhao;
}s[10005];

bool cmp(const S t1,const S t2){
	if(t1.type!=t2.type)
		return t1.type<t2.type;
	return t1.p>t2.p;
}

int K,N;

int main(){
#ifndef ONLINE_JUDGE
	freopen("in.txt","r",stdin);
	freopen("out.txt","w",stdout);
#endif

	int i,j,k;
	scanf("%d%d",&N,&K);
	int Min=-1;
	for(i=0;i<N;i++){
		scanf("%d%d",&s[i].p,&s[i].type);
		s[i].xuhao=i+1;
		if(Min==-1 || s[i].p<Min)
			Min=s[i].p;
	}
	sort(s,s+N,cmp);
	double res=0;
	for(i=0;i<K-1;i++){
		if(s[i].type==1){
			res+=s[i].p*1.0/2.0;
		}
		else break;
	}
	k=i;
	if(s[K-1].type==1){
		res-=Min*1.0/2.0;
	}
	for(;i<N;i++){
		res+=s[i].p;
	}
	printf("%.1lf\n",res);
	for(i=0;i<K-1;i++){
		printf("1 %d\n",s[i].xuhao);
	}
	printf("%d",N-K+1);
	for(;i<N;i++){
		printf(" %d",s[i].xuhao);
	}
	puts("");
}
