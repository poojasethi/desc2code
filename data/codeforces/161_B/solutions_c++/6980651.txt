#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
struct	Node{
	int c,t,num;
}nData[1005];

bool cmp( Node a , Node b ){
	if ( a.t != b.t )
	return a.t < b.t;
	return a.c > b.c;
}
int main(){
	int n,k,i;
	scanf("%d%d",&n,&k);
	for(i = 0; i < n;i++){
		scanf("%d%d" ,&nData[i].c,&nData[i].t);
		nData[i].num = i + 1; 
	}
	sort(nData ,nData + n,cmp); 
	double dAns = 0;
	int cnt = k;
	for(i = 0; i < k - 1; i++){
		if(nData[i].t == 2 ){
			cnt = i + 1;
			break;
		}
		dAns += nData[i].c * 1.0 / 2;
	}
	int cc = nData[k - 1].c; 
	for (i = cnt - 1; i < n;i++){
		cc = min(cc,nData[i].c); 
		dAns += nData[i].c; 
	}
	if(nData[k - 1].t == 1)
	dAns -= cc * 1.0 / 2;
	printf("%.1f\n" ,dAns );
	for(i = 0;i < k - 1;i++)
		printf("%d %d\n",1,nData[i].num ); 
	printf("%d" ,n - k + 1); 
	for(i = k - 1;i < n;i++)
	 printf(" %d" ,nData[i].num );
	printf("\n");
	return 0; 
}
   													 	 	 			  	