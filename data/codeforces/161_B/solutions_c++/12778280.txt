#include <iostream>
#include <cmath>
#include <cstdio>
#include <algorithm>
using namespace std;
struct NODE{
    int p,t,id;
}node[1005];
bool comp(NODE a,NODE b)
{
    return a.t==b.t?a.p>b.p:a.t<b.t;
}
int main()
{
   int n,k;
   cin>>n>>k;
   int MIN=0x3f3f3f3f;
   for(int i=1;i<=n;++i)
   {
       cin>>node[i].p>>node[i].t;
       node[i].id=i;
       MIN=min(node[i].p,MIN);
   }
   sort(node+1,node+1+n,comp);
   double sum=0;
   int i=1;
   for(;i<=k-1&&node[i].t==1;++i)
     sum+=(node[i].p*0.5);
   node[k].t==1?sum-=(MIN*0.5):0;
   for(;i<=n;++i)
     sum+=node[i].p;
   printf("%.1lf\n",sum);
   for(int i=1;i<=k-1;++i)
    printf("1 %d\n",node[i].id);
   cout<<n-k+1;
   for(int i=k;i<=n;++i)
     printf(" %d",node[i].id);
   cout<<endl;
   return 0;
}

 			  		   						   	