#include <iostream>
#include <algorithm>
#include <utility>
#include <cstdio>

#define MAXN 1010

using namespace std;

int N,K,min_price=1000000000,stool;
double result;
pair<pair<int,int>,int> item[MAXN];

bool cmp(pair<pair<int,int>,int> x,pair<pair<int,int>,int> y)
{
	if (x.first.second==y.first.second)
		return x.first.first>y.first.first;
	return x.first.second<y.first.second;
}

int main()
{
	cin >> N >> K;
	for (int i=0;i<N;i++)
	{
		int price,type;
		cin >> price >> type;
		if (type==1)
			stool++;
		item[i]=make_pair(make_pair(price,type),i+1);
	}
	sort(item,item+N,cmp);
	for (int i=0;i<N;i++)
	{
		if (item[i].first.second==1&&i+1<K)
			result+=double(item[i].first.first)/2;
		else
		{
			result+=item[i].first.first;
			min_price=min(min_price,item[i].first.first);
		}
	}
	if (stool>=K)
		result-=double(min_price)/2;
	printf("%.1lf",result);
	for (int i=0;i<K-1;i++)
	{
		cout << endl << 1 << " " << item[i].second;
	}
	cout << endl << N-K+1;
	for (int i=K-1;i<N;i++)
		cout << " " << item[i].second;
	cout << endl;
	return 0;
}