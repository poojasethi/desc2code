#include<algorithm>
#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
using namespace std;
#define re(i,n) for(int i=0;i<n;i++)
#define re1(i,n) for(int i=1;i<=n;i++)
#define re2(i,n) for(int i=0;i<=n;i++)
#define re3(i,n) for(int i=1;i<n;i++)
#define clr(a,n) memset(a,n,sizeof(a))
#define debug(n) cout<<#n<<"="<<n<<endl
struct node{
	int pos,v,flag;
}num[1005];
bool cmp(node a,node b){
	return a.flag<b.flag || (a.flag==b.flag && a.v>b.v);
}
int main(){
	int k,n;
	while(cin>>n>>k){
		re(i,n) {
			cin>>num[i].v>>num[i].flag;
			num[i].pos = i+1;
		}
		sort(num,num+n,cmp);
		double ans=0;
		int x;
		re(i,n) if(num[i].flag == 1) x = i;
		re(i,k-1) 
		if(num[i].flag==1) ans+=num[i].v/2.0;
		else ans+= num[i].v;
		for(int i=k-1;i<n;i++) ans+=num[i].v;
		if(num[k-1].flag==1) ans-=min(num[n-1].v/2.0,num[x].v/2.0);
		printf("%.1lf\n",ans);
		re(i,k-1) cout<<1<<" "<<num[i].pos<<endl;;
		cout<<n-k+1<<" ";
		for(int i=k-1;i<n;i++) cout<<num[i].pos<<" ";
		cout<<endl;
	}
}

