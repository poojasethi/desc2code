#include <iostream>
#include <cstdio>
#include <algorithm>
using namespace std;

int n,k;
struct JB
{
	long long a,t,i;
	bool operator< (const JB& x) const
	{
		if (t == 1) 
		{
			if (x.t == 2) return true;
			return a > x.a;
		}
		else
		{
			if (x.t == 1) return false;
			return a > x.a; 
		}
	}
}a[1111];
long long total;

int main(void)
{
	cin >> n >> k;
	for (int i=1; i<=n; i++)
	{
		cin >> a[i].a >> a[i].t;
		a[i].a *= 10;
		a[i].i = i;
	}
	sort(a+1, a+1+n);
	for (int i=1; i<k; i++)
		total += a[i].t == 1 ? a[i].a / 2 : a[i].a;
	long long xiao = 123456789123456789LL;
	for (int i=k; i<=n; i++) total += a[i].a, xiao = min(xiao, a[i].a);
	if (a[k].t == 1) total -= xiao / 2;
	
	if (total % 10 == 5) cout << total / 10 << ".5\n";
	else cout << total / 10 << ".0\n";

	for (int i=1; i<k; i++)
		cout << 1 << ' ' << a[i].i << "\n";
	cout << n - k + 1;
	for (int i=k; i<=n; i++)
		cout << ' ' << a[i].i;
	cout << "\n";

	return 0;
}
