#include<cstdio>
#include<cstdlib>
#include<algorithm>
using namespace std;
struct st{
	int id,p,type;
}S[1030];
bool operator < (const st &a,const st &b){
	return a.type<b.type || (a.type==b.type && a.p>b.p);
}
int n,k;
int main(){
	while(~scanf("%d%d",&n,&k)){
		int mn=0x3f3f3f3f;
		long long s=0,sum=0;
		for(int i=0;i<n;++i){
			scanf("%d%d",&S[i].p,&S[i].type);
			S[i].id=i+1;
			sum+=S[i].p;
			mn=min(mn,S[i].p);
		}
		sort(S,S+n);
		int i=0;
		for(i=0;i<k-1 && S[i].type==1;++i)s+=S[i].p;
		if(S[k-1].type==1)s+=mn;
		
		printf("%I64d.%I64d\n",(sum*10-5*s)/10,(sum*10-5*s)%10);//**************use I64d here 
		for(i=0;i<k-1;++i){
			printf("1 %d\n",S[i].id);
		}
		printf("%d",n-k+1);
		for(;i<n;++i)printf(" %d",S[i].id);
		puts("");
	}
	return 0;
}
