#include<stdio.h>
#include<algorithm>
typedef struct{int c,t,i;}ele;
ele e[2012];
int cmp(ele a,ele b){
    return a.t<b.t||a.t==b.t&&a.c>b.c;
    }
int main(){
    long long int ans=0;
    int n,k,i,min=(1<<31)-1;
    scanf("%d %d",&n,&k);
    for(i=0;i<n;i++){
        scanf("%d %d",&e[i].c,&e[i].t);
        ans+=e[i].c;
        e[i].i=i+1;
        }
    ans*=2;
    std::sort(e,e+n,cmp);
    for(i=0;i<k-1;i++){
        if(e[i].t==1)
            ans-=e[i].c;
        }
    if(e[i].t==1){
        for(;i<n;i++)
            if(min>e[i].c)
                min=e[i].c;
        ans-=min;
        }
    printf("%I64d.%I64d\n",ans/2,ans%2*5);
    for(i=0;i<k-1;i++)
        printf("1 %d\n",e[i].i);
    printf("%d",n-k+1);
    for(;i<n;i++)
        printf(" %d",e[i].i);
    putchar(10);
    //while(getchar());
    return 0;
    }