#include <bits/stdc++.h>
#define ull unsigned long long
#define nl cout<<"\n";
using namespace std;
//ull a[105];
int main ()
{
    ull p=0,q=1,i,j,n,g=0,nrold=0,count=0,maxx=0;
    cin>>n;
    set<ull> s;
    
    while(n--) {
        cin>>j;
        while(s.count(j)) s.erase(j),j++;
         s.insert(j),maxx = max(maxx,j);
    }
    cout<<maxx-s.size()+1;
  return 0;
}