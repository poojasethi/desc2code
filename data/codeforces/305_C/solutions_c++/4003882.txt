#include <cstdio>
#include <map>

using namespace std;

const int MAXN = 100001;

int N;
map<int, int> mp;

int main() {
	scanf("%d", &N);
	for (int i = 0; i < N; ++i) {
		int a; scanf("%d", &a);
		while (mp[a] == 1) {
			mp.erase(a);
			++a;
		}
		mp[a] = 1;
  	}
	int ans = (--mp.end())->first + 1 - mp.size();
	printf("%d\n", ans);
	return 0;
}
