#include <stdio.h>
#include <set>

using namespace std;

set<int> s;

int main()
{
  int n, mx = -1, ct = 0, i;
  scanf("%d", &n);
  for (i = 0; i < n; i++)
  {
    int a;
    scanf("%d", &a);
    while (s.find(a) != s.end())
      s.erase(a), a++;
    s.insert(a);
    if (a > mx)
      mx = a;
  }
  
  
  printf("%d\n", mx + 1 - (int)s.size());

  return 0;
}
