#include<cstdio>
int n,x,y,c,ans;
int main()
{
    scanf("%d",&n);
    for (int i=0;i<n;i++){
        scanf("%d",&x);
        while (y<x && c) ans+=!(c&1),c/=2,y++;
        if (y<x) ans+=x-y,y=x; c++;
        }
    while (c) ans+=!(c&1),c/=2; printf("%d\n",ans); return 0;
}