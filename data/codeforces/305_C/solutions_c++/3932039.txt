#include<iostream>
#include<set>
using namespace std;
set<int>array;
int main()
{  int mx=-1,i,n,k;
  cin>>n;
   for(i=0;i<n;i++)
   {cin>>k;
    while(array.count(k))
   {
   	array.erase(k);
   	k++;
   }
   array.insert(k);
	if(k>mx)
	  mx=k;}
	  cout<<mx-array.size()+1<<endl;
	  return 0;	
}