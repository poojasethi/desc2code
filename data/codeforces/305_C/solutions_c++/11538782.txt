#include <set>
#include <cstdio>
using namespace std;
int n, Mx, a;
int main(){
    scanf("%d", &n);
    set<long long> s;
    long long mx = -1;
    for(int i=1; i<=n; i++){
    	scanf("%d", &a);
    	while(s.find(a)!=s.end()){
    		s.erase(a);
    		++a;
    	}
    	s.insert(a);
    	if (a>Mx)
    		Mx = a;
    }
    printf("%d\n", Mx+1-(long long)s.size());
}
