
#include <iostream>
#include <set>
using namespace std;
int n;
set<int> gg;
int tm,mx=-1;
int main(){
cin>>n;
for(int i=0;i<n;i++){
cin>>tm;
while(gg.count(tm)){
gg.erase(tm);
tm++;
}
gg.insert(tm);
if(tm>mx){
mx=tm;
}
}
cout<<(mx+1)-gg.size()<<endl;
}