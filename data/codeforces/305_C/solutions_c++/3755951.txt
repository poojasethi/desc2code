#include<iostream>
#include<stdio.h>
#include<string.h>
#include<set>
using namespace std;
int main()
{
set<int>ss;
int n;
int a;
cin>>n;
int maxn=0;
for(int i=0;i<n;i++){
   cin>>a;
   while(ss.count(a))ss.erase(a),a++;//2^a+2^a=2*2^a=2^(a+1)
   ss.insert(a);        
   maxn=max(a,maxn); 
}
cout<<maxn+1-ss.size()<<endl;
//system("Pause");
return 0;}
