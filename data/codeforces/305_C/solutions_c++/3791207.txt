#include <set>
#include <iostream>
#include <algorithm>
using namespace std;

int main()
{
    set <int> f;
    int i,j,k,m,n;
    int ans=0;
    cin>>n;
    f.clear();
    for (i=0;i<n;i++)
    {
        cin>>j;
        while(f.count(j))f.erase(j),j++;
        f.insert(j);
        ans=max(ans,j);
    }
    cout<<ans-f.size()+1<<endl;

}
