def insert(key, x):
    if key not in x:
        x.add(key)
    else:
        x.remove(key)
        insert(key+1, x)     

n = int(raw_input())
a = set()
[insert(x, a) for x in map(int, raw_input().split())]
print max(a) - len(a) + 1
