from collections import defaultdict
from bisect import bisect_right
ct = defaultdict(int)
n = input()
a = map(int, raw_input().split())
for x in a:
  ct[x] += 1

a = list(set(a))
ai = a[0]
i = 0
while True:
  if ct[ai] > 1:
    ct[ai + 1] += ct[ai] / 2
    ct[ai] &= 1
  if ct[ai + 1] != 0:
    ai += 1
    if i < len(a) - 1 and a[i + 1] == ai: i += 1
  else:
    i += 1
    if i == len(a): break
    ai = a[i]

a = []
for ai in ct:
  if ct[ai] == 1: a.append(ai)

print max(a) - len(a) + 1
