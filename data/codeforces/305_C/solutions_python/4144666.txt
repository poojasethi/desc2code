b = set()
N = int(raw_input())
for bi in map(int, raw_input().split()):
    if bi not in b:
        b.add(bi)
    else:
        while bi in b:
            b.remove(bi)
            bi += 1
        b.add(bi)
print max(b) - len(b) + 1
