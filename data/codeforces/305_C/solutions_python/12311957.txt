from collections import *

def solve(C):
  to_cover = set(C)
  while to_cover:
    next_cover = set()
    for exp in to_cover:
      C[exp+1] += C[exp]/2
      C[exp]   %= 2
      if C[exp+1] > 1:
        next_cover.add(exp+1)
    to_cover = next_cover
  return C

n = input()
A = map(int, raw_input().split())
C = Counter(A)
C = solve(C)
print max(k for k,v in C.iteritems() if v==1) - sum(v==1 for k,v in C.iteritems()) + 1