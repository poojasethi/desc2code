n=input()
arr=map(int,raw_input().split())
dic={}
for i in arr:
	j=i
	while j in dic:
		del dic[j]
		j=j+1
	dic[j]=1
print max(dic)-len(dic)+1
