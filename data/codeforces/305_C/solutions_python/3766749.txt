n = int(raw_input())
a = map(int, raw_input().split())

f = []
c = 0

def handle(x, c, f):
    if len(f) == 0:
        f = [x]
    elif x > f[-1]:
        c += len(f)
        f = [x]
    elif x in f:
        f.remove(x)
        (c, f) = handle(x+1, c, f)
    else:
        f.append(x)
        f.sort()
    return (c, f)

for x in a:
    (c, f) = handle(x, c, f)

v = f[-1] + 1
print v - len(f) - c