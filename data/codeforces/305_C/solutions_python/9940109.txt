dic = {};
n = input ();
a = map (int, raw_input().split());
for x in a:
	while dic.setdefault (x, 0) > 0:
		del dic[x];
		x += 1;
	dic[x] = 1;
print max (dic) - len (dic) + 1;

		  	  	 		  	 						 	