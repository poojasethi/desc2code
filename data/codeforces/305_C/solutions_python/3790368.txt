#!/usr/bin/python
n = input()
a = map(int, raw_input().split())
hm = {}
for i in a:
    if not i in hm:
        hm[i] = 0
    hm[i]+=1
    if hm[i] == 2:
        key = i
        while hm[key] == 2:
            if not (key+1) in hm:
                hm[key+1] = 0
            hm[key+1]+=1
            del hm[key]
            key+=1
m = 0
for key, val in hm.iteritems():
    #print key, val
    m = max(m, key)

print str(m - len(hm) + 1)



            
            
        
