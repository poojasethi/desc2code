import math

n = int(raw_input().strip())
nums = [int(i) for i in raw_input().strip().split()]

blah = {}

total = 0
for i in nums:
    if i not in blah:
        blah[i] = 1
    else:
        del blah[i]
        j = i
        while j+1 in blah:
            del blah[j+1]
            j += 1
        blah[j+1] = 1
    #print blah

k = blah.keys()
print max(k) - (len(k) - 1)
