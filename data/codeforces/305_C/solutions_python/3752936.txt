n = int(raw_input())
a = map(int, raw_input().split())
stack = []
if len(stack) > 1:
    stack = [a[0],a[1]]
    i = 1
else:
    stack = [a[0]]
    i = 0
while i < n:
    if len(stack) == 1:
        i += 1
        if i < n:
            stack.append(a[i])
    elif stack[-1] == stack[-2]:
        l = stack.pop()
        stack[-1] += 1
    else:
        i += 1
        if i < n:
            stack.append(a[i])
    


print max(stack)+1-len(stack)

