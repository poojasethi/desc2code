input()
s=set()
for i in map(int,raw_input().split()):
    while i in s:
        s.remove(i)
        i+=1
    s.add(i)
print max(s)-len(s)+1