
def read():
    return raw_input().rstrip()


def addone(dic, key):
    if key in dic:
        del dic[key]
        addone(dic, key + 1)
    else:
        dic[key] = 1


read()
a = [int(x) for x in read().split()]
dic = {}
for b in a:
    addone(dic, b)

print max(dic) - len(dic) + 1