n=input()
a=map(int,raw_input().split())
a.reverse()
b=[]
while a:
  x,y=a[-1],0
  while a and x==a[-1]:
    a.pop()
    y+=1
  a+=[x+1]*(y/2)
  if y%2:b+=[x+1]
print b[-1]-len(b)
