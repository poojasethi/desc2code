#include<cstdio>
#include<cmath>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;
int n;
long long x[100000+10],y[100000+10],z[100000+10];
long long inf=(1e18)+10ll;
long long ansx,ansy,ansz;
bool check1(long long a1,long long a2,long long b1,long long b2,long long c1,long long c2,long long d1,long long d2,bool odd)
{
	if(a1%2)a1++;if(a2%2)a2--;
	if(b1%2)b1++;if(b2%2)b2--;
	if(c1%2)c1++;if(c2%2)c2--;
	if(d1%2)d1++;if(d2%2)d2--;
	a1/=2;a2/=2;b1/=2;b2/=2;c1/=2;c2/=2;d1/=2;d2/=2;
	if(a1>a2||b1>b2||c1>c2||d1>d2)return false;
	if(a2+b2+c2<d1||a1+b1+c1>d2)return false;
	while(a2+b2+c2>d2)
	{
		if(a2>a1)a2-=min(a2-a1,a2+b2+c2-d1);
		else if(b2>b1)b2-=min(b2-b1,a2+b2+c2-d1);
		else if(c2>c1)c2-=min(c2-c1,a2+b2+c2-d1);
	}
	a2=2*a2+odd;
	b2=2*b2+odd;
	c2=2*c2+odd;
	d2=a2+b2+c2;
	ansz=(d2-a2)/2;
	ansy=(d2-b2)/2;
	ansx=(d2-c2)/2;
	return true;
}
bool check(long long mid)
{
	long long a1,a2,b1,b2,c1,c2,d1,d2;
	a1=x[1]+y[1]-z[1]-mid;a2=x[1]+y[1]-z[1]+mid;
	b1=x[1]-y[1]+z[1]-mid;b2=x[1]-y[1]+z[1]+mid;
	c1=-x[1]+y[1]+z[1]-mid;c2=-x[1]+y[1]+z[1]+mid;
	d1=x[1]+y[1]+z[1]-mid;d2=x[1]+y[1]+z[1]+mid;
	for(int i=2;i<=n;i++)
	{
		a1=max(a1,x[i]+y[i]-z[i]-mid);a2=min(a2,x[i]+y[i]-z[i]+mid);
		b1=max(b1,x[i]-y[i]+z[i]-mid);b2=min(b2,x[i]-y[i]+z[i]+mid);
		c1=max(c1,-x[i]+y[i]+z[i]-mid);c2=min(c2,-x[i]+y[i]+z[i]+mid);
		d1=max(d1,x[i]+y[i]+z[i]-mid);d2=min(d2,x[i]+y[i]+z[i]+mid);	
	}
	if(check1(a1-1,a2-1,b1-1,b2-1,c1-1,c2-1,d1-3,d2-3,1))return true;
	if(check1(a1,a2,b1,b2,c1,c2,d1,d2,0))return true;
	return false;
}
int main()
{
	int t;scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n); 
		for(int i=1;i<=n;i++)scanf("%I64d%I64d%I64d",&x[i],&y[i],&z[i]);
		long long l=0,r=inf*3;
		while(l<r)
		{
			long long mid=l+r>>1;
			if(check(mid))r=mid;
			else l=mid+1;
		}
		check(l);
		printf("%I64d %I64d %I64d\n",ansx,ansy,ansz);
	}
	return 0;
}