/*************************************************************************
    > File Name: H.cpp
    > Author: wmg_1007
    > Mail: wmg_1007@163.com
    > Created Time: ä¸€  8/ 1 21:57:16 2016
 ************************************************************************/

#include <iostream>
#include <fstream>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <climits>
#include <cstring>
#include <iomanip>
#include <algorithm>
#include <map>
#include <set>
#include <queue>
#include <deque>
using namespace std;

const int maxn = 200005;

int e, s, n, m, st, q[4][maxn + 10];
typedef pair<int, int> PII;
PII a[maxn * 2], f[maxn * 2], ans[maxn];
int fr[4], re[4];

int main()
{
	memset(f, 0xff, sizeof(f));
	memset(ans, 0xff, sizeof(ans));
	cin >> e >> s >> n >> m;
	for (int i = 1; i <= n; i++)
		scanf("%d %d", &a[i].second, &a[i].first);
	for (int i = 1; i <= m; i++) {
		scanf("%d", &a[i + n].first);
		a[i + n].second = 3 + i;
	}
	sort(a + 1, a + n + m + 1);
	int i;
	for (i = 1; i <= n + m; i++)
		if (a[i].first > e)
			break;
	if (a[i].first == e)
		i--;
	a[i].first = e, a[i].second = 3;
	e = i;
	//
	f[e] = make_pair(0, 0);
	q[3][0] = e;
	fr[3] = re[3] = 0;
	fr[2] = fr[1] = 0;
	re[2] = re[1] = -1;
	for (int i = e - 1; i > 0; i--) {
		for (int d = 1; d <= 3; d++)
			while (fr[d] <= re[d] && a[q[d][fr[d]]].first - a[i].first > s)
				fr[d]++;
		if (a[i].second > 3) {
			for (int j = 3; j > 0; j--)
				if (fr[j] <= re[j]) {
					if (j == 1)
						ans[a[i].second - 3] = make_pair(f[q[j][fr[j]]].first - s + a[q[j][fr[j]]].first - a[i].first, f[q[j][fr[j]]].second);
					else if (j == 2)
						ans[a[i].second - 3] = make_pair(f[q[j][fr[j]]].first, f[q[j][fr[j]]].second - s + a[q[j][fr[j]]].first - a[i].first);
					else
						ans[a[i].second - 3] = make_pair(f[q[j][fr[j]]].first, f[q[j][fr[j]]].second);
					break;
				}
			if (!i)
				ans[a[i].second] = make_pair(-1, -1);
			continue;
		}
		int t = 0x7fffffff, j;
		for (j = 3; j >= a[i].second; j--)
			if (fr[j] <= re[j])
				t = min(t, q[j][re[j]]);
		if (t == 0x7fffffff)
			for (; j; j--)
				if(fr[j] <= re[j]) {
					t = q[j][fr[j]];
					break;
				}
		if (t == 0x7fffffff)
			break;
		f[i] = f[t];
		if (a[t].second >= a[i].second) {
			if (a[i].second == 1)
				f[i].first += a[t].first - a[i].first;
			else
				if (a[i].second == 2)
					f[i].second += a[t].first - a[i].first;
		} else {
			if (a[i].second == 2) {
				f[i].second += s;
				f[i].first -= s - a[t].first + a[i].first;
			} else 
				if (a[i].second == 3) {
					if (a[t].second == 2)
						f[i].second -= s - a[t].first + a[i].first;
					else
						f[i].first -= s-a[t].first+a[i].first;
				}
		}
		q[a[i].second][++re[a[i].second]]=i;
	}
	for(int i = 1; i <= m; i++)
		printf("%d %d\n", ans[i].first, ans[i].second);
}

   				  	 				   			 			 		