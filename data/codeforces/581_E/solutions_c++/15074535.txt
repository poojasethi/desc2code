#include<bits/stdc++.h>
using namespace std;
const int maxn = 200010;
#define FI "car.i1"
#define FO "car.o1"

vector<int> a[3],dp[3];
int start, finish, v, n, m;

int calc(int gas, int st){
	int p = lower_bound(a[gas].begin(), a[gas].end(), st) - a[gas].begin();
	return dp[gas][p] + max(0, a[gas][p] - st - v);
}

int main(){
    ios_base::sync_with_stdio(0), cin.tie(0);
    #ifndef ONLINE_JUDGE
    ifstream cin(FI);
    ofstream cout(FO);
    #endif // ONLINE_JUDGE
	cin >> finish >> v >> n >> m;
	for(int i = 0; i < 3; i++) a[i].push_back(finish);

	for(int i = 1, gas, pos; i <= n; i++){
		cin >> gas >> pos;
		--gas;
		if( pos >= finish) continue;
		for(int j = gas; j >= 0; j--) a[j].push_back(pos);
	}

	for(int i = 0;i < 3; i++){
		sort(a[i].begin(), a[i].end());
		dp[i].resize(a[i].size());
	}

	for(int gas = 0; gas < 3; gas++){
		dp[gas].back() = 0;
		for(int i = a[gas].size()-2; i >= 0; i--)
			dp[gas][i] = dp[gas][i+1] + max(0, a[gas][i+1] - a[gas][i] - v);
	}
	for(int i = 1; i <= m; i++){
		cin >> start;
		int d0 = calc(0,start), d1 = calc(1,start), d2 = calc(2,start);
		if(d0 > 0) cout<< "-1 -1\n";
		else cout << d1 << ' '<< d2-d1 <<'\n';
	}
	return 0;
}
