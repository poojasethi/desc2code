#include <iostream>
#include <algorithm>
#include <vector>
#include <cmath>

using namespace std;

int mark[210][210];
int dp[210][210];
int h,t,n,m,r;
int hh[210],ht[210],th[210],tt[210];
struct gs
{
    int h,t;
    int d;
};

bool draw = 0;

int resist(gs v)
{
    if(mark[v.h][v.t])
        return dp[v.h][v.t];
    mark[v.h][v.t]=1;
    gs s;
    for(int i=1;i<=v.h && i<=n;i++)
    {
        s = v;
        s.h-=i;
        s.h+=hh[i-1];
        s.t+=ht[i-1];
        if(s.h+s.t<=r && mark[s.h][s.t]==1){
            draw = 1;
            //cout<<"b : "<<s.h<<' '<<s.t<<endl;
            return 1;
        }
        if(s.h+s.t<=r)
            dp[v.h][v.t] = max(resist(s)+1,dp[v.h][v.t]);
    }
    for(int i=1;i<=v.t && i<=m;i++)
    {
        s = v;
        s.t-=i;
        s.h+=th[i-1];
        s.t+=tt[i-1];
        if(s.h+s.t<=r && mark[s.h][s.t]==1){
            draw = 1;
            return 1;
        }
        if(s.h+s.t<=r)
            dp[v.h][v.t] = max(resist(s)+1,dp[v.h][v.t]);
    }
    mark[v.h][v.t]=2;
    dp[v.h][v.t] = max(dp[v.h][v.t],1);
    return dp[v.h][v.t];
}

int main()
{
    gs s;
    s.d=0;
    cin>>h>>t>>r;
    s.h=h;
    s.t=t;
    cin>>n;
    for(int i=0;i<n;i++)
        cin>>hh[i]>>ht[i];
    cin>>m;
    for(int i=0;i<m;i++)
        cin>>th[i]>>tt[i];
    vector<gs> v;
    v.push_back(s);
    mark[s.h][s.t]=1;
    while(v.size())
    {
        if(v[0].h+v[0].t==0)
        {
            cout<<"Ivan"<<endl<<v[0].d<<endl;
            return 0;
        }
        for(int i=1;i<=v[0].h && i<=n;i++)
        {
            s = v[0];
            s.d++;
            s.h-=i;
            s.h+=hh[i-1];
            s.t+=ht[i-1];
            if(s.h+s.t<=r && !mark[s.h][s.t])
            {
                mark[s.h][s.t]=1;
                v.push_back(s);
            }
        }
        for(int i=1;i<=v[0].t && i<=m;i++)
        {
            s = v[0];
            s.d++;
            s.t-=i;
            s.h+=th[i-1];
            s.t+=tt[i-1];
            if(s.h+s.t<=r && !mark[s.h][s.t])
            {
                mark[s.h][s.t]=1;
                v.push_back(s);
            }
        }
        v.erase(v.begin());
    }
    for(int i=0;i<210;i++)
    {
        for(int j=0;j<210;j++)
            mark[i][j]=0;
    }
    s.h=h;
    s.t=t;
    int maxR = resist(s);
    if(draw)
        cout<<"Draw"<<endl;
    else
        cout<<"Zmey"<<endl<<maxR<<endl;
    return 0;
}
