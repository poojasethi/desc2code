#include<iostream>
#include<cstring>
#include<queue>
using namespace std;
const int mm=250;
const int oo=1e9;
int vis[mm][mm];
bool yes;
int h,t,r,n,m;
class node
{
  public:int h,t,c;
}hh[mm],tt[mm];
queue<node >q,p;
int dfs(int x,int y)
{ int&ret=vis[x][y];
  int tx,ty;
  if(x+y>r)return 0;
  if(vis[x][y]==-2)
  {
    yes=1;return 0;
  }
  else if(vis[x][y]==-1)
  {
    ret=-2;int dd=-oo,z;
    int bbs;
    bbs=n<x?n:x;
    for(int i=0;i<bbs;i++)
      {
        tx=x+hh[i].h-i-1;ty=y+hh[i].t;
        z=dfs(tx,ty)+1;
        dd=dd>z?dd:z;
      }
      bbs=m<y?m:y;
      for(int i=0;i<bbs;i++)
      {
        tx=x+tt[i].h;ty=y+tt[i].t-i-1;
        z=dfs(tx,ty)+1;
        dd=dd>z?dd:z;
      }
      ret=dd;
  }
  return ret;
}
int main()
{
  while(cin>>h>>t>>r)
  {
    cin>>n;
    memset(vis,0,sizeof(vis));
    for(int i=0;i<n;i++)
    {
      cin>>hh[i].h>>hh[i].t;
    }
    cin>>m;
    for(int j=0;j<m;j++)
    {
      cin>>tt[j].h>>tt[j].t;
    }
    vis[h][t]=1;
     int x,y,zz;
     while(!q.empty())q.pop();
     node z,p;yes=0;
     z.h=h;z.t=t;z.c=0;
     q.push(z);
     while(!q.empty()&&!yes)
     { z=q.front();q.pop();
      int bbs=n<z.h?n:z.h;
      for(int j=0;j<bbs;j++)
      {
        x=z.h+hh[j].h-j-1;y=z.t+hh[j].t;
        if(x+y>r)continue;
        if(!vis[x][y])
        {vis[x][y]=1;
         p.h=x;p.t=y;p.c=z.c+1;
         if(x==0&&y==0)
          { cout<<"Ivan\n"<<p.c<<"\n";yes=1;
            break;
          }
         ///if(x+y>r&&d>z.c){d=z.c;continue;}
         q.push(p);
        }
      }
      bbs=m<z.t?m:z.t;
      for(int j=0;j<bbs;j++)
      {
        x=z.h+tt[j].h;y=z.t+tt[j].t-j-1;
        if(x+y>r)continue;
        if(!vis[x][y])
        {vis[x][y]=1;
         p.h=x;p.t=y;p.c=z.c+1;
         if(x==0&&y==0)
          { cout<<"Ivan\n"<<p.c<<"\n";yes=1;
            break;
          }
         ///if(x+y>r&&d>z.c){d=z.c;continue;}
         q.push(p);
        }
      }
    }
    if(yes)continue;
    memset(vis,-1,sizeof(vis));
    int ans=dfs(h,t);
    if(yes)cout<<"Draw\n";
    else cout<<"Zmey\n"<<ans<<"\n";
  }
}

	  	  	 			  		 	  	  	  	