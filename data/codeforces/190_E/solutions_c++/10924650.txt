#include <cstdio>
#include <set>
#include <vector>
using namespace std;

#define FOR(I,S,T) for(int I=S;I<T;++I)
#define RNG(I,S,T) FOR(I,S,T+1)
#define REP(I,N) FOR(I,0,N)

int N, M;
set<pair<int, int> > E;
set<int> V;

pair<int, int> MakePair(int u, int v) {
	return make_pair(min(u, v), max(u, v));
}

vector<int> S;

void go(int u) {
	S.push_back(u);
	V.erase(u);
	set<int>::iterator it = V.begin();
	int nv = 0;
	while (it != V.end()) {
		int v = *it;
		if (E.count(MakePair(u, v)) == 0) {
			go(v);
			it = V.lower_bound(nv);
		} else {
			nv = *(++it);
		}
	}
}

int main() {
	scanf("%d%d", &N, &M);
	REP(i, M) {
		int u, v;
		scanf("%d%d", &u, &v);
		E.insert(MakePair(u, v));
	}
	RNG(i, 1, N) {
		V.insert(i);
	}
	vector<vector<int> > res;
	RNG(i, 1, N) {
		if (V.count(i) != 0) {
			S = vector<int>();
			go(i);
			res.push_back(S);
		}
	}
	printf("%d\n", res.size());
	REP(i, res.size()) {
		printf("%d", res[i].size());
		REP(j, res[i].size()) 
			printf(" %d", res[i][j]);
		printf("\n");
	}

	return 0;
}

			     					 	   	   	 		  		