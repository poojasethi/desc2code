#include<set>
#include<queue>
#include<cstdio>
#include<algorithm>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

int main(){
	int n,m; scanf("%d%d",&n,&m);
	static pair<int,int> E[1000000];
	rep(i,m){
		int u,v; scanf("%d%d",&u,&v); u--; v--;
		E[i]=make_pair(u,v);
	}
	sort(E,E+m);

	set<int> S;
	rep(u,n) S.insert(u);

	vector< vector<int> > ans;
	while(!S.empty()){
		int u0=*S.begin();
		S.erase(u0);

		vector<int> cc;
		queue<int> Q; Q.push(u0);
		while(!Q.empty()){
			int u=Q.front(); Q.pop();
			cc.push_back(u);

			set<int>::iterator it;
			for(it=S.begin();it!=S.end();){
				int v=*it;
				if(!binary_search(E,E+m,make_pair(u,v))
				&& !binary_search(E,E+m,make_pair(v,u))) S.erase(it++), Q.push(v);
				else ++it;
			}
		}
		ans.push_back(cc);
	}

	printf("%d\n",ans.size());
	rep(i,ans.size()){
		printf("%d ",ans[i].size());
		rep(j,ans[i].size()) printf("%d%c",ans[i][j]+1,j<(int)ans[i].size()-1?' ':'\n');
	}

	return 0;
}
