#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#include<cstring>
#include<vector>
#define rep(i,s,t) for (int i=s;i<=t;i++)
using namespace std;
const int maxn = 1000001;
int temp[maxn],vis[maxn],pre[maxn],color[maxn],next[maxn],v;
vector <int> g[maxn];
vector <int> ans[maxn];
int i,j,m,n,k,l,o,p,x,y,cnt;
int main()
{
    scanf("%d%d",&n,&m);
    rep(i,1,m)
    {
        scanf("%d%d",&x,&y);
        g[x].push_back(y);
        g[y].push_back(x);
    }
    rep(i,1,n) 
    {
        pre[i] = i-1;
        next[i] = i+1;
    }
    for (int u = 1;u <= n;cnt++)
    {
        ans[cnt].push_back(u);
        for (int i = 0;i<ans[cnt].size();i++)
        {
            v = ans[cnt][i];
            for (int j = 0;j<g[v].size();j++) color[g[v][j]] = v;
            for (int j = next[u];j<=n;j = next[j])
            if (color[j] != v)
            {
                ans[cnt].push_back(j);
                pre[next[j]] = pre[j];
                next[pre[j]] = next[j];
            }
        }
        u = next[u];
    }
    printf("%d\n",cnt);
    rep(i,0,cnt-1)
    {
        printf("%d ",ans[i].size());
        for (int j = 0;j < ans[i].size();j++) printf("%d ",ans[i][j]);
        printf("\n");
    }
    return 0;
}
