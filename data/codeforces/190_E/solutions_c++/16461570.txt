#include<bits/stdc++.h>

using namespace std;

#define st first
#define nd second
#define mp make_pair
#define pb push_back
#define sol (root+root)
#define sag (root+root+1)
#define orta ((bas+son)/2)
#define ll long long
#define pii pair<int,int>
#define type(x) __typeof((x).begin())
#define foreach(it, x) for(type(x) it = (x).begin(); it != (x).end() ; it++)

const int N=5e5+5;
const int mod=1e9+7;
const int inf=1e9+7;

int n,m,i,x,y,j,ct;
int ata[N],S[N],S2[N],H[N];

vector<int> ans[N],V[N];

set<int> s;

int atabul(int x){
	return x==ata[x]?x:ata[x]=atabul(ata[x]);
}

main(){

	scanf("%d %d",&n,&m);

	for(i=1 ; i<=m ; i++){
		scanf("%d %d",&x,&y);
		if(x>y)
			swap(x,y);
		V[y].pb(x);
	}

	for(i=1 ; i<=n ; i++){
		S[i]=1;
		ata[i]=i;

		for(j=0 ; j<V[i].size() ; j++)
			S2[atabul(V[i][j])]--;

		for(type(s) it=s.begin() ; it!=s.end() ; ){
			if(S2[*it]){
				S[i]+=S[*it];
				ata[*it]=i;
				type(s) it2=it++;
				s.erase(it2);
			}
			else it++;
		}


		s.insert(i);
		foreach(it,s)
			S2[*it]=S[*it];
	}

	for(i=1 ; i<=n ; i++){
		x=atabul(i);
		if(!H[x]){
			H[x]=1;
			ct++;
		}
		ans[x].pb(i);	
	}

	printf("%d\n",ct);

	for(i=1 ; i<=n ; i++)
		if(ans[i].size()){
			cout<<ans[i].size()<<' ';
			for(j=0 ; j<ans[i].size() ; j++)
				cout<<ans[i][j]<<' ';
			cout<<endl;
		}

}
