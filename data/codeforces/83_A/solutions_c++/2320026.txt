#include <iostream>
using namespace std;
int main()
{ __int64 i,n,a,b,c=1,s=0;
  cin>>n>>a;  i=n;
  while(--i)
    {cin>>b;
      if(b==a)
        c++;
         else if(c>1)
          { a=b;  s=s+(c*c-c)/2; c=1;} 
             else a=b;
    }if(c>1) s+=c*(c-1)/2;
cout<<s+n;
    return 0;}