#include <iostream>
using namespace std;

int main()
{
	int n, i, x, y, z=1;
	long long ans=0;
	cin>>n>>x;
	while (--n) {
		cin>>y;
		if (y==x) z++;
		else {
			ans+=(1LL+z)*z/2LL;
			z=1;
			x=y;
		}
	} 
	ans+=(1LL+z)*z/2LL;
	cout<<ans<<endl;
	return 0;
}
