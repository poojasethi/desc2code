#include<bits\stdc++.h>
using namespace std;
int main()
{
	long long a[100005],j,k,ans=0,t=1;
	int n,i;
	cin>>n;
	for(i=0;i<n;i++)
		cin>>a[i];
	for(i=0;i<n-1;i++)
	{
		if(a[i]==a[i+1])
			t++;
		else {ans+=t*(t+1)/2-t;t=1;}
	}
	if(t>1)
		ans+=t*(t+1)/2-t;
	cout<<ans+n<<endl;
}