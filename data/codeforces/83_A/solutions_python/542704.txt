n = int(raw_input())
s = raw_input().split()
p = 0
ans = 0

for i in range(len(s)):
	s[i] = int(s[i])
	if i == 0 or s[i] != s[i-1]:
		ans += p*(p+1)/2
		p = 1
	else:
		p += 1

print ans+p*(p+1)/2
