n = input()
a = map(int,raw_input().split())
r,l = 0,-1
for i in xrange(0,n):
    if i==n-1 or a[i]!=a[i+1]:
        r += (i-l)*(i-l+1)/2
        l = i
print r