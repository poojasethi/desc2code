n = int(raw_input())
s = map(int, raw_input().split())
ans = 0
streak = 0
last = 0
for i in range(n):
    if i == 0 or s[i] == last:
        streak += 1
        last = s[i]
    else:
        ans += (streak * (streak + 1)) / 2
        last = s[i]
        streak = 1
ans += (streak * (streak + 1)) / 2
print ans