def main():
    n = int(raw_input())
    data = map(int, raw_input().split())
    data.append(None)

    total, acc, count = 0, None, 0
    for i in xrange(n + 1):
        if data[i] == acc:
            count += 1
        else:
            if acc is not None:
                total += count * (count + 1) / 2
            acc, count = data[i], 1
    print total



if __name__ == '__main__':
    main()
