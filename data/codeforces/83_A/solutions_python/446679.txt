n = input ()
a = map (int, raw_input ().split ())
ans = 0
cnt = 1
for i in xrange (1, len (a)):
	if a[i] == a[i - 1]:
		cnt += 1
	else:
		ans += (cnt * (cnt + 1)) / 2
		cnt = 1
print ans + (cnt * (cnt + 1)) / 2
