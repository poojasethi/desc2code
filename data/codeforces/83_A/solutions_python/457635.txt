n = int(raw_input())
a = raw_input()
a = a.split()

prev = 1000000000000000000000
ans = n
cnt = 0
for i in range(n):
    if a[i] != prev:
        ans += cnt * (cnt - 1) / 2
        prev = a[i]
        cnt = 1
    else:
        cnt += 1

ans += cnt * (cnt - 1) / 2
print ans
