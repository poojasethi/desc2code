#!/usr/bin/python

import sys

data = iter(sys.stdin.read().split())

n = int(data.next())

ans = 0L
c = 0
now = 0
for i in xrange(n):
	x = int(data.next())
	if i == 0 or x == now:
		c = c + 1
	else:
		ans += c * (c + 1) / 2
		c = 1
	now = x
ans += c * (c + 1) / 2
print ans
