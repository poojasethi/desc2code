#!/usr/bin/env python
# -*- coding: utf-8 -*-

def main():
    n = int(raw_input())
    c = n
    lst = map(int, raw_input().split())
    lc = 1
    for i in xrange(1, n):
        if lst[i-1] == lst[i]:
            lc += 1
        else:
            c += sum(xrange(lc))
            lc = 1
    print c + sum(xrange(lc))
    return 0

if __name__ == '__main__':
    main()
