n = input()
a, memo = map(int, raw_input().split()), [0L]*n
memo[0] = 1L
for i in xrange(1, n):
    if a[i] == a[i-1]:
        memo[i], memo[i-1] = memo[i-1] + 1, 0
    else:
        memo[i] = 1

res = 0L
for i in range(0, n):
    res += (memo[i]*(memo[i]+1))/2
print res
