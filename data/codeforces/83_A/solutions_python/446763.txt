n = raw_input()
A = list(map(int,raw_input().split()))
A.append(A[-1] + 1)
last = A[0] - 1
ans = 0
count = 0
for elem in A:
    if elem == last:
        count += 1
    else:
        ans += count * (count + 1) // 2
        last = elem
        count = 1
print ans
