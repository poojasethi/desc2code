n=input()
a=map(int,raw_input().split())
p=a[0]
c=1
r = 0
for i in a[1:]+[9**20]:
    if i == p: c+=1
    else:
        r+=(c+1)*c/2
        c = 1
    p = i
print r