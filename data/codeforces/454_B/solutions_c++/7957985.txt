# include<iostream>
using namespace std;
int main()
{
	int n;
	cin>>n;
	int a[n],i,c=0,pos;
	for(i=0;i<n;i++)
	cin>>a[i];
	for(i=1;i<n;i++)
	{
		if(a[i]<a[i-1])
		{
			c++;
			pos=i;
		}
		if(c==2)
		break;
	}
	if(c==1&&a[n-1]<=a[0])
	cout<<n-pos;
	else if(c==0)
	cout<<0;
	else
	cout<<-1;
}