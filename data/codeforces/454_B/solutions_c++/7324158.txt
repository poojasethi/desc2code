#include<bits/stdc++.h>
using namespace std;

int main(){
int n;
int a[100005];
cin>>n;
for(int i=0;i<n;i++)	cin>>a[i];

int cnt=0;
int indx;

for(int i=0;i<n;i++){
	if(a[(i+1)%n]<a[i]){
		cnt++;
		indx=i;
	}
}

if(cnt==1){
	cout<<n-indx-1<<endl;
}
else if(cnt==0) cout<<0<<endl;
else	cout<<-1<<endl;

}
