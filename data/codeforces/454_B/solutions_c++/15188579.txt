#include<iostream>
using namespace std;
int main()
{
	std::ios::sync_with_stdio(false);
	int n,i,a[100005],ans,b,f;
	cin>>n;
	cin>>a[0];
	for(f=ans=b=0,i=1;i<n;i++)
	{
		cin>>a[i];
		if(a[i]<a[i-1])
		{
			b++;
			if(!ans)
				ans=n-i;
			f=a[i]<=a[0]?f:1;
		}
	}
	f||b>1||b&&a[0]<a[n-1]?cout<<"-1\n":cout<<ans<<'\n';
}