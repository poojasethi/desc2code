#include<bits/stdc++.h>
typedef long int ll;
using namespace std;
int main()
{
	ll n,cnt=0,offset=0;
	cin>>n;
	ll a[n];
	for(ll i=0;i<n;i++)
	{
		cin>>a[i];
		if(i>0&&a[i]<a[i-1]) 
			{
				cnt++;
				offset=i;
			}
	}
	if(cnt==0) 
		{cout<<0;}

	else {
		if(cnt==1&&a[n-1]<=a[0]) 
			cout<<(n-offset);
	     else cout<<-1;
	  }
}
