#include <cstdio>
#include <algorithm>
using namespace std;
int a[1000005],i,n,g;
int main(){
	scanf("%d",&n);
	for(i=1;i<=n;i++)scanf("%d",&a[i]);
	for(i=2;i<=n;i++)
	if (a[i]<a[i-1]){
		if (g){printf("%d",-1);return 0;}
		g=i;
	}
	if (!g)printf("0");
	else if (a[n]<=a[1])printf("%d",n-g+1);
	else printf("-1");
	return 0;
}