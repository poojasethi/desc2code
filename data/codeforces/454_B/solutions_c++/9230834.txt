#include<iostream>
using namespace std;
int main(){
	long int n,a[100001],i,j,t=0,s=0;
	cin>>n;
	for(i=0;i<n;i++)
	{
		cin>>a[i];
		if(i>0&&a[i]<a[i-1]){
			t++;
			s=i;}
	}
	if(t==0) 
		cout<<0;
	else if(t==1&&a[n-1]<=a[0]) 
		cout<<n-s;
	else 
		cout<<-1;
	return 0;
}

	 		