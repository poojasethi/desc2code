#include <iostream>
#include<stdio.h>
using namespace std;

int n , a[100005] ;
int main() {
	scanf("%d",&n); int t=0 , b;
	for(int i=1;i<=n&&scanf("%d",a+i)==1;++i)
		if(i>1&&a[i]<a[i-1])++t , b=i;

	if(t==0) printf("0");
	else {
		if(t==1&&a[n]<=a[1]) printf("%d",n-b+1);
		else
			printf("-1");
	}

	return 0;
}
