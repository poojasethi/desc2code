#include <bits/stdc++.h>
using namespace std;
int main(){
	int n,i,j,k=0,ans=0;
	cin>>n;
	
	int ara[n];
	for(i=0;i<n;i++) scanf("%d",&ara[i]);
	
	for(i=1;i<n;i++){
		if(ara[i]<ara[i-1]) k++;
		if(k>0) ans++;
	}
	
	if(k>0 && ara[n-1]>ara[0]) k++;
	
	if(k>1) ans=-1;
	printf("%d",ans);
}