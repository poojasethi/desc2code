#include<stdio.h>
int main()
{
	int n,i,j,k,x[100010],t;
	scanf("%d",&n);
	for(i=1;i<=n;i++)
	 {
 		scanf("%d",&x[i]);
 		if(x[i-1]<=x[i])t++;
 		else k=i-1;
 	}
 	if(t==n)printf("0\n");
 	else if(t<n-1)printf("-1\n");
 	else
 	{
	 	if(x[n]<=x[1])printf("%d\n",n-k);
	 	else printf("-1\n");
	 }
}