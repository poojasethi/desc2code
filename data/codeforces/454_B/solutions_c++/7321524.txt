#include<cstdio>
#include<cstring>
int main()
{
    int i,n,t,a[200000];
    scanf("%d",&n);
    for(i=1;i<=n;i++)scanf("%d",&a[i]);
    t=1;
    while(a[t]<=a[t+1]&&t<n)t++;
    i=n-t;
    t++;
    while(a[t]<=a[t+1]&&t<n)t++;
    if((t==n&&a[t]<=a[1])||i==0)printf("%d\n",i);
    else printf("-1\n");
}