#include <iostream>

using namespace std;

const int N=100005;
int n,a[100010],k,w;
int main(){
  cin>>n>>a[0];
  for(int i=0;i<n;i++){
    if((n-1)-i)
      cin>>a[i+1];
    if(a[i]>a[(i+1)%n]){
      k++;
      w=i;
    }
  }
  if(k==1)
    cout<<n-w-1<<endl;
  else if(!k)
    cout<<0<<endl;
  else
    cout<<-1<<endl;
}
