#include<iostream>
#include<algorithm>

using namespace std;

int main()
{

long c=0,pos=0,n,i;

cin>>n;

long a[n];

for(i=0;i<n;i++)
cin>>a[i];

for(i=0;i<n-1;i++)
{
if(a[i+1]<a[i])
{
c++;
pos=n-i-1;
}
}

if(a[n-1]>a[0])
c++;

if(c>1)
{
pos=-1;
}

cout<<pos<<endl;

return 0;
}