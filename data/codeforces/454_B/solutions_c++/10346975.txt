#include<bits/stdc++.h>
using namespace std;
int main(){
long n,i,c=0,v;
cin>>n;
long arr[n];
for(i=0;i<n;i++){
    cin>>arr[i];
    if((i!=0)&&(arr[i]<arr[i-1])){
        v=i;
        c++;
    }
}
if(c==0)
    cout<<0;
else if((c==1)&&(arr[n-1]<=arr[0]))
    cout<<n-v;
else cout<<-1;
return 0;
}
