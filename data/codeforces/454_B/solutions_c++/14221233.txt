#include<cstdio>

int n, tot, p;
int v[111111];

int main() {
	scanf("%d", &n);
	tot = 0;
	for(int i=0;i<=n;i++) {
		if (i<n)
			scanf("%d", &v[i]);
		else v[i] = v[0];
		if (i && v[i] < v[i-1]) {
			tot++; p=i;
		}
	}
	if (!tot) printf("0\n");
	else if (tot>1) printf("-1\n");
	else printf("%d\n", n-p);
	
	return 0;
}