#include <bits/stdc++.h>
using namespace std;
int main() {
	long n,i,x,d=0,a[100007];
	cin >> n;
	for (i=0;i<n;i++)
		cin >> a[i];
	a[n]=a[0];
	for (i=1;i<=n;i++)
		if (a[i]<a[i-1]) {
			d++;
			x=i;
		}
	if (d<2) {
		if (d==0) cout << 0;
		else cout << n-x;
	} else cout << -1;
}
    	  		    	    			 					 		