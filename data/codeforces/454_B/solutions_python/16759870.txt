no = int(raw_input())
arr = map(int , raw_input().split())
i = 0
count = 0
l = len(arr)
while(i < l-1 and arr[i]<=arr[i+1]):
	i+=1
	
if(i == l-1):
	print 0
else:
	if(arr[i+1:] == sorted(arr[i+1:]) and arr[-1]<=arr[0]):
	    
		print len(arr[i+1:])
	else:
		print -1 