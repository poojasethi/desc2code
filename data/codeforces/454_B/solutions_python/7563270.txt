#!/usr/bin/python

raw_input()
x = map(int, raw_input().split())

n = len(x)
m = 0
for j in xrange(0, n):
    if x[j] < x[(j + n - 1) % n]:
        m = m + 1
        i = j

if m == 0:
    print 0
elif m == 1:
    print (n - i) % n
else:
    print -1
