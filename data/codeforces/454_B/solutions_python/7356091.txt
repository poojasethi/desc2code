from sys import stdin

n = int(raw_input())
a = [int(x) for x in stdin.readline().split(' ')]

j = n-1;
while (j > 0 and a[j] >= a[j-1]): j -= 1

asc = 1
for i in range(n-1):
    asc &= a[(i+j)%n] <= a[(i+j+1)%n]

if j == 0: j = n
if asc:
    print n - j
else:
    print -1
             
    
