n = int(raw_input())
a = map(int,raw_input().split())
pos = -1
for i in range(n-1):    
    if a[i] > a[i+1]:
        pos = i
        break
if pos == -1:
    print '0'
    exit()

res = a[pos+1:] + a[:pos+1]
if sorted(res) == res:
    print n - (pos+1)
else:
    print '-1'