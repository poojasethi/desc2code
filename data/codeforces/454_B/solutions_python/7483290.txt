n=int(raw_input())
s=map(int,raw_input().split())
le=len(s)
ct=0
p=0
for i in xrange(1,le):
    if s[i-1]>s[i]:
        ct+=1
        p=i
if ct==0:
    print 0
elif ct==1 and s[-1]<=s[0]:
    print le-p
else:
    print -1
