n = input()
a = map(int,raw_input().split())

def check():
    for x in range(1,n):
        if a[x] < a[x-1]:
            if a[x:] + a[:x] == sorted(a):
                return n - x
            else:
                return -1
    return 0
print check()