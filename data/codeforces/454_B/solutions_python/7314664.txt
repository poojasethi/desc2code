"""
http://codeforces.com/contest/454/problem/B
"""
import sys
N = int(raw_input())
A = map(int,raw_input().split())
A=A+[A[0]]
#print N,A
fails = 0
rots = 0
for i in xrange(N) :
	if A[i] <= A[i+1] :
		rots+=1
	elif fails == 1 :
		print -1
		sys.exit(0)
	else :
		fails+=1
		rots = 0
if i==N-1 and fails == 1:
	print rots
else :
	print 0
