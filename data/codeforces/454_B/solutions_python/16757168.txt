#codeforces problems
no  = int(raw_input())
arr = map(int, raw_input().split())
count = 0 

i = 0
while(i<len(arr)-1 and arr[i]<=arr[i+1]):
	i += 1
	
if(i == len(arr)-1):
	print "0"
else:
	if(arr[i+1:]==sorted(arr[i+1:]) and arr[-1] <= arr[0]):
		print len(arr[i+1:])
	else:
		print -1
	