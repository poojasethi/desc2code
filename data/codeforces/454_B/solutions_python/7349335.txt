n,s=input(),map(int,raw_input().split())
for i in xrange(1,n):
	if s[i]<s[i-1]:print n-i if sorted(s)==s[i:]+s[:i] else -1;break
else:print 0