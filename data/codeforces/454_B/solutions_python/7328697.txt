n=input()
a=map(int,raw_input().split())
for i in range(1,n):
  if a[i]<a[i-1]:
    print n-i if a[i:]+a[:i]==sorted(a) else -1
    exit(0)
print 0
