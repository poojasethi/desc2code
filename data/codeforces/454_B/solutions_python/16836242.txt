n = int(raw_input())

a = map(int,raw_input().split())


i = 0
while(i<n-1 and a[i]<=a[i+1]):
	i+=1
if(i==n-1):
	print "0"
	exit()
i+=1
j=1

while(i<n-1 and a[i]<=a[i+1]):
	i+=1
	j+=1
if(i!=n-1):
	print "-1"
elif(a[n-1]>a[0]):
	print "-1"
else:
	print j