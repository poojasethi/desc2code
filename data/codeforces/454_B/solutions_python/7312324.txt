n=int(raw_input())
N=[int(x) for x in raw_input().split()]

A=[]
B=[]

A.append(N[0])
a=True

for i in xrange(1,n):
	if N[i]>=N[i-1]:
		if a:
			A.append(N[i])
		else:
			B.append(N[i])
	else:
		if a:
			a=False
			B.append(N[i])
		else:
			print -1
			import sys
			sys.exit()

if len(B)==0 or (A[0]>=B[-1]):
	print len(B)
else:
	print -1