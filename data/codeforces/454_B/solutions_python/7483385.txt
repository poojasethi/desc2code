n=int(raw_input())
s=map(int,raw_input().split())
ct=p=0
for i in xrange(1,n):
    if s[i-1]>s[i]:
        ct+=1
        p=i
if ct==0:
    print 0
elif ct==1 and s[-1]<=s[0]:
    print n-p
else:
    print -1
