n = int(raw_input())
a = map(int,raw_input().split())
pos,cnt,ok = n,0,True
for i in range(1,n):
    if a[i] < a[i-1]:
        print n-i if sorted(a) == a[i:]+a[:i] else -1
        break
    if i == n-1: print 0