def readInts():
  return map(int, raw_input().split(' '))

n, = readInts()
a = readInts()
badIndex = 0
for i in range(1, n):
  if a[i] < a[i - 1]:
    badIndex = i

b = sorted(a)

print([-1, (n - badIndex) % n][b == a[badIndex:] + a[:badIndex]])

