#! /usr/bin/env python

n,a,count,label=input(),[],0,0
a=[int(i) for i in raw_input().split()]
for i in range(n):
    if (i>0) and (a[i]<a[i-1]):
        label=i
        count+=1
if count==0:
    print 0
elif count>1:
    print -1
elif a[n-1]<=a[0]:
    print (n-label)
else:
    print -1






