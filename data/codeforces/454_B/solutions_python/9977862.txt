n=input()
p=map(int,raw_input().split())

for i in xrange(1,n):
  if p[i] < p[i-1]:
    if p[i:]+p[:i]==sorted(p):
        print n-i
    else:
        print -1
    exit(0)

print 0