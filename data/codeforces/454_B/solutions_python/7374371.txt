n = int(raw_input())
a = map(int,raw_input().split())
pos,cnt,ok = n,0,True
for i in range(0,n):
    if i and a[i] < a[i-1]:
        pos = i
        cnt += 1
if cnt > 1 or (cnt == 1 and a[n-1] > a[0]):
    ok = False
print n-pos if ok else -1
