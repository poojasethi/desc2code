n = int(raw_input())
li = map(int, raw_input().split(" "))
count = 0
pos = 0
for i in range(1,n):
    if li[i] < li[i-1]:
        count = count + 1
        pos = i
        if count >= 2:
            print -1
            quit()
if count == 1 and li[n-1] > li[0]:
    print -1
elif count == 1:
    print n-pos
else:
    print 0