n = input()
L = map(int, raw_input().split())
def solve():
    L.append(L[0])
    c = 0
    for i in range(n):
        if L[i] > L[i+1]:
            c += 1
            if c == 1:
                mark = i
    if c == 0:
        return 0
    if c == 1:
        return n-mark-1
    return -1
print solve()
