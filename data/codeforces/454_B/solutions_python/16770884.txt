n=int(raw_input())
arr=map(int,raw_input().split())
small=1000000
index=0
fall=0

count=0
ans=0
for i in range(1,n):
    if(arr[i]<arr[i-1]):
        count+=1
        fall=i
if(arr[0]<arr[n-1] and count>0):
    fall=0
    count+=1
if(count==0):
    print 0
elif(count==1):
    print n-fall
else:
    print -1
