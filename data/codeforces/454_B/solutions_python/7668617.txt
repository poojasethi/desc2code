n=input()
s=map(int, raw_input().split())
s=s+[s[0]]
j=-1
for i in range(1,n+1):
    if s[i] < s[i-1]:
        if j == -1:
            j = i
        else:
            print -1
            exit(0)
if j == -1:
    j=0
print  (n-j)%n