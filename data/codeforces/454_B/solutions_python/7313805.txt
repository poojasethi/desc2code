n = int(raw_input())
a = [int(x) for x in raw_input().split(' ')]

d = 0
ans = 0

for i in xrange(n):
    if a[i] < a[i - 1]:
        d += 1
        if d > 1:
            print -1
            exit(0)
        ans = (n - i) % n

print ans
