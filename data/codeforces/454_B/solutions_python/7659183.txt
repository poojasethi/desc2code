n,a=input(),map(int,raw_input().split())
from itertools import *
p=filter(lambda x:x[0]>x[1],izip(a[:],a[1:]+[a[0]],range(n)))
print 0 if not len(p) else -1 if len(p)>1 else n-1-p[0][2]