#!/usr/bin/env python
# -*- coding: utf-8 -*-

n = int(raw_input())
a = map(int, raw_input().split())

res = 0
bp = False
for i in xrange(n):
    if a[i] > a[(i+1)%n]:
        if bp:
            res = -1
            break
        else:
            bp = True
            res = n-i-1
print res



