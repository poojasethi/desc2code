n=int(input())
a=map(int,raw_input().split())
p=0
for i in range(n-1):
	if(a[i]>a[i+1]):
		p=i+1

x=a[p:]+a[:p]
f=0
for i in range(n-1):
	if(x[i]>x[i+1]):
		print "-1"
		f=1
		break
if(f==0):
	print ((n-p)%n)
