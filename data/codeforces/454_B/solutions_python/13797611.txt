x=int(raw_input())
y=map(int,raw_input().split())
co=0
for g in xrange(x-1):
    if y[g]>y[g+1]:
        co=co+1
        z=g
if (co==1):
    if (y[0]>=y[-1]):
        print x-z-1
    else:
        print -1
elif (co==0):
    print 0
else:
    print -1
