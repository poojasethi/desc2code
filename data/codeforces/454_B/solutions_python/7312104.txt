import sys
n = int(raw_input())
#out = sys.stdout.write
a = map(int,raw_input().split())
brk = 0
cnt = 0
for i in xrange(1,n):
    if brk>=1:
        cnt+=1
    if a[i-1] > a[i]:
        brk+=1
        cnt+=1
if a[n-1] > a[0]:
    brk+=1 

if brk <= 1:
    print cnt
else:
    print -1
