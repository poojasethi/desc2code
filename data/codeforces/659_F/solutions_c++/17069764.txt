#include <bits/stdc++.h>

#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define pii pair<int,int>
#define pll pair<ll,ll>
#define MOD 274877906944ll
#define ll long long int
#define MAXINT 1000000001ll
#define SET(x,y) memset(x,y,sizeof(x));

using namespace std;

int A[1002][1002],Vi[1002][1002];
int p[1000006],size[1000006],n,m;
vector<pair<int,pii> > V;

void init(int n) {
	p[n]=-1;
	size[n]=1;
}

int find(int n) {
	if(p[n]==-1)	return n;
	return p[n]=find(p[n]);
}

void merge(int x,int y) {
	x=find(x);
	y=find(y);
	if(x==y)	return;
	if(size[x]<size[y])	swap(x,y);
	p[y]=x;
	size[x]+=size[y];
}

inline int id(int i,int j) {
	return (i-1)*m+j;
}

void handle(int x,int y) {
	int i,j,t,r;
	r=id(x,y);
	init(r);
	for(i=-1;i<=1;i++) {
		for(j=-1;j<=1;j++) {
			if(abs(i)+abs(j)==1 && x+i>0 && x+i<=n && y+j>0 && y+j<=m) {
				t=id(x+i,y+j);
				if(p[t])
					merge(r,t);
			}
		}
	}
}

int c=0,doo;
void work(int x,int y) {
	int i,j,t;
	if(c==doo)	return;
	c++;
	Vi[x][y]=1;
	for(i=-1;i<=1;i++) {
		for(j=-1;j<=1;j++) {
			if(abs(i)+abs(j)==1 && x+i>0 && x+i<=n && y+j>0 && y+j<=m) {
				t=id(x+i,y+j);
				if(p[t] && !Vi[x+i][y+j])
					work(x+i,y+j);
			} 
		}
	}
}

int main() {
	int i,j,x,y;
	ll k;
	cin>>n>>m>>k;
	for(i=1;i<=n;i++) {
		for(j=1;j<=m;j++) {	
			cin>>A[i][j];
			V.pb(mp(A[i][j],mp(i,j)));
		}
	}
	sort(V.begin(),V.end());
	reverse(V.begin(),V.end());
	vector<pair<int,pii> > :: iterator it,jt;
	for(it=V.begin();it!=V.end();) {
		for(jt=it;jt!=V.end();jt++) {
			if(jt->fi != it->fi)
				break;
			handle((*jt).se.fi,(*jt).se.se);
		}
		for(;it!=jt;it++) {
			x=it->se.fi,y=it->se.se;
			if((k%A[x][y])==0 && size[find(id(x,y))]>=k/A[x][y])
				break;
		}
		if(it!=jt)	break;
	}
	if(it!=V.end()) {
		cout<<"YES\n";
		doo=k/(it->fi);
		work(it->se.fi,it->se.se);
		for(i=1;i<=n;i++) {
			for(j=1;j<=m;j++) {
				if(Vi[i][j])	A[i][j]=it->fi;
				else			A[i][j]=0;
				cout<<A[i][j]<<" ";
			}
			cout<<endl;
		}
	}	
	else	cout<<"NO\n";
	return 0;
}