#include<bits/stdc++.h>

using namespace std;

#define pii pair<int,int>
#define ll long long
#define N (int)(1e5+10)
#define mod 1000000007
#define mp make_pair
#define pb push_back
#define nd second
#define st first
#define inf mod
#define endl '\n'
#define sag (sol|1)
#define sol (root<<1)
#define ort ((bas+son)>>1)
#define bit(x,y) ((x>>y)&1)
#define int long long

int i,j,k,n,m,x,y,z,a[1005][1005];
int t,ata[N*10],S[N*10],ind[1005][1005];
int yon[4][2]={0,1,1,0,0,-1,-1,0};
int ans[1005][1005],a1,b1;
queue< pii > xx;
vector< pair< int , pii > > v;

int atabul(int x){
	if(ata[x]==x)
		return x;
	return ata[x] = atabul(ata[x]);
}

main(){
	cin >> n >> m >> k;

	for(i=1 ; i<=n ; i++)
		for(j=1 ; j<=m ; j++){
			scanf("%lld",&a[i][j]);
			t += a[i][j];
			v.pb(mp(a[i][j],mp(i,j)));
		}

	if(t < k){
		puts("NO");
		return 0;
	}

	sort(v.begin(),v.end());

	bool w=0;
	int t=0;

	for(i=0 ; i<=n*m ; i++){
		ata[i] = i;
		S[i] = 1;
	}

	for(i=0 ; i<v.size() ; i++)
		ind[v[i].nd.st][v[i].nd.nd] = i;

	for(i=v.size()-1 ; i>=0 ; i--){
		x = v[i].st;
		a1 = v[i].nd.st;
		b1 = v[i].nd.nd;
		y = ind[a1][b1];
		for(j=0 ; j<4 ; j++){
			int a2 = v[i].nd.st+yon[j][0];
			int b2 = v[i].nd.nd+yon[j][1];

			if(a2>=1 and a2<=n and b2>=1 and b2<=m and ind[a2][b2] > i){
				if(atabul(y) != atabul(ind[a2][b2])){
					S[y] += S[atabul(ind[a2][b2])];
					ata[atabul(ind[a2][b2])] = y;
				}
			}
		}

		t = S[y];

		if(k%x)
			continue;

		if(x*t >= k){
			t = k/x;
			w=1;
			break;
		}
	}

	if(w){
		puts("YES");
		xx.push(mp(a1,b1));
		t--;
		while(xx.size()){
			a1=xx.front().st;
			b1=xx.front().nd;
			ans[a1][b1]=x;
			xx.pop();
			for(j=0 ; j<4 ; j++){
				int a2 = a1+yon[j][0];
				int b2 = b1+yon[j][1];

				if(t and a2>=1 and a2<=n and b2>=1 and b2<=m and !ans[a2][b2] and atabul(ind[a1][b1]) == atabul(ind[a2][b2])){
					ans[a2][b2]=x;
					t--;
					xx.push(mp(a2,b2));
				}
			}
		}
		for(i=1 ; i<=n ; i++,puts(""))
			for(j=1 ; j<=m ; j++)
				printf("%lld ",ans[i][j]);
		return 0;
	}
	puts("NO");
}
