//shjj-F

#include <iostream>
#include <cstring>
#include <cstdio>
#include <cstdlib>
#include <algorithm>

using namespace std;

const int N=1003;
struct Dot{
	int x,y,w;
}A[N*N];
int a[N][N],xh[N][N],fa[N*N],s[N*N],Ans[N][N];
int n,m,All,Need,nn;
long long K;

const int tx[4]={1,-1,0,0};
const int ty[4]={0,0,1,-1};

bool comp(const Dot &A,const Dot &B)
{
	return A.w>B.w;
}

void Work(int x,int y)
{
	if (a[x][y]<All) return;
	if (!Need) return;
	if (Ans[x][y]) return;
	Ans[x][y]=All;
	Need--;
	for (int i=0;i<4;i++)
		Work(x+tx[i],y+ty[i]);
}

int Get(int w)
{
	if (fa[w]==w) return w;
	fa[w]=Get(fa[w]);
	return fa[w];	
}

void Add(int x,int y)
{
	for (int i=0;i<4;i++)
	{
		int x3=x+tx[i],y3=y+ty[i];
		if (a[x3][y3]<All) continue;
		int fu=Get(xh[x][y]),fv=Get(xh[x3][y3]);
		if (fu!=fv) fa[fu]=fv,s[fv]+=s[fu];
	}
}

int main()
{
	scanf("%d%d%I64d",&n,&m,&K);
	for (int i=1;i<=n;i++)
		for (int j=1;j<=m;j++)
		{
			A[++nn].x=i,A[nn].y=j;
			scanf("%d",&A[nn].w);
			a[i][j]=A[nn].w;
			xh[i][j]=nn;
		}
	for (int i=1;i<=nn;i++) fa[i]=i,s[i]=1;
	sort(A+1,A+nn+1,comp);
	for (int i=1;i<=nn;i++)
		if (A[i].w!=A[i-1].w)
		{
			All=A[i].w;
			if (K/All>nn) break;
			Add(A[i].x,A[i].y);
			int w=i+1;
			for (;w<=nn&&A[w].w==A[i].w;w++)
				Add(A[w].x,A[w].y);
			if (K%A[i].w) continue;
			Need=K/All;
			for (int j=i;j<w;j++)
			{
				int ff=Get(xh[A[j].x][A[j].y]);
				if (Need<=s[ff])
				{
					puts("YES");
					Work(A[j].x,A[j].y);
					for (int ii=1;ii<=n;ii++)
					{
						for (int jj=1;jj<m;jj++)
							printf("%d ",Ans[ii][jj]);
						printf("%d\n",Ans[ii][m]);
					}
					return 0;
				}
			}
		}
	puts("NO");
}