#include<iostream>
#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<algorithm>
#define N 200005
#define LL long long
#define oo (1<<30)
using namespace std;
int n,m,a[N],b[N],d[N],pos[N],f[N],pre[N],ans,w[N],lw,c[N];
void spec(int t)
{
	int i,p=n;
	for(i=m;i>=1;i--){
		while(d[p]>=b[i]&&p) p--;
		f[t]=max(f[t],p+1);
		if(b[i]<d[p+1])
			d[p+1]=b[i],pos[p+1]=t;
	  }
}
void solve(int t,int up,int len)
{
	int i,p=0;
	if(!len) return ;
	if(a[t]!=-1)
		return solve(pre[t],a[t],len-1);
	for(i=m;i>=1;i--)
		if(b[i]<up&&c[b[i]]) break;
	a[t]=b[i],c[b[i]]--;
	for(i=1;i<t;i++){
		if(a[i]!=-1&&f[i]==len-1&&a[i]<a[t])
			break;
		if(a[i]==-1) p=i;
	  }
	if(i==t) return solve(p,a[t],len-1);
	else return solve(i,a[t],len-1);
}
int main()
{
	int i,l,r,mid;
	scanf("%d",&n);
	for(i=1;i<=n;i++){
		scanf("%d",&a[i]);
		if(a[i]!=-1) w[++lw]=a[i];
	  }
	scanf("%d",&m);
	for(i=1;i<=m;i++)
		scanf("%d",&b[i]),w[++lw]=b[i];
	sort(w+1,w+lw+1);
	lw=unique(w+1,w+lw+1)-w-1;
	for(i=1;i<=n;i++)
		if(a[i]!=-1)
	  	a[i]=lower_bound(w+1,w+lw+1,a[i])-w;
	for(i=1;i<=m;i++)
		b[i]=lower_bound(w+1,w+lw+1,b[i])-w,c[b[i]]++;
	sort(b+1,b+m+1);
	for(i=1;i<=n;i++)
		d[i]=oo,pos[i]=0;
	for(i=1;i<=n;i++){
		if(a[i]!=-1){
			l=0,r=n;
			while(r-l>1){
				mid=(l+r)>>1;
				if(d[mid]<a[i]) l=mid;
				else r=mid;
			  }
			f[i]=l+1,pre[i]=pos[l];
			if(a[i]<d[f[i]])
				d[f[i]]=a[i],pos[f[i]]=i;
		  }
		else spec(i);
		ans=max(ans,f[i]);
	  }
	for(i=n;i>=1;i--)
		if(f[i]==ans){
			solve(i,oo,ans);
			break;
		  }
	l=1;
	for(i=1;i<=n;i++)
		if(a[i]==-1){
			while(!c[l]&&l<=lw) l++;
			c[l]--,a[i]=l;
		  }
	for(i=1;i<=n;i++)
		printf("%d ",w[a[i]]);
	return 0;
}
