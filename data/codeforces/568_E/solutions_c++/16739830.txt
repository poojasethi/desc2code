#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>
using namespace std;

#define LY(p) freopen (p".in", "r", stdin); freopen (p".out", "w", stdout)
#define N 100010
int n, m, a[N], b[N], d[N], vis[N], pret[N], dt;
int val[N], pos[N], pre[N], cnt[N], fr[N], ct[N];
int L, R, mid, len;

int main()
{
#ifndef ONLINE_JUDGE
	LY("lis");
#endif
	scanf ("%d", &n);
	for (int i = 1; i <= n; i++)
		scanf ("%d", a + i);
	scanf ("%d", &m);
	for (int i = 1; i <= m; i++)
		scanf ("%d", b + i);
	sort (b + 1, b + m + 1);

	for (int i = 1, lt = -1; i <= n + 1; i++) {
		pret[i] = lt;
		if (a[i] == -1)
			lt = i;
	}

	a[0] = 0, a[n + 1] = 1e9 + 1;
	for (int i = 0; i <= n + 1; i++)
		if (a[i] > -1) {
			for (L = 0, R = len; mid = (L + R >> 1) + 1, L < R;)
				if (val[mid] < a[i])
					L = mid;
				else
					R = mid - 1;
			fr[i] = pos[L], ct[i] = cnt[L];
			val[L + 1] = a[i], pos[L + 1] = i, cnt[L + 1] = 0;
			if (L == len) len ++;
		}
		else {
			for (int j = m, k = len; j >= 1; j--) {
				while (k && val[k] >= b[j]) k --;
				val[k + 1] = b[j], pos[k + 1] = pos[k], cnt[k + 1] = cnt[k] + 1;
				if (k == len) len ++;
			}
		}

	for (int o = n + 1, x, t = m; o; o = x) {
		x = fr[o];
		for (int i = 1, lt = a[o], c = ct[o]; i <= c; i++) {
			o = pret[o];
			while (t && b[t] >= lt)	t --;
			vis[t] = 1;
			lt = a[o] = b[t --];
		}
	}

	for (int i = 1; i <= m; i++)
		if (! vis[i])
			d[++ dt] = b[i];

	for (int i = 1; i <= n; i++)
		printf ("%d ", a[i] > -1? a[i] : d[dt --]);
	return 0;
}
