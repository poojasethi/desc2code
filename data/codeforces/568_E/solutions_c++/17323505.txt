#include<bits/stdc++.h>

using namespace std;

#define pii pair<int,int>
#define ll long long
#define N (int)(1e5+10)
#define mod 1000000007
#define mp make_pair
#define pb push_back
#define nd second
#define st first
#define inf mod
#define endl '\n'
#define sag (sol|1)
#define sol (root<<1)
#define ort ((bas+son)>>1)
#define bit(x,y) ((x>>y)&1)

int a[N],b[N],c[N];
int i,j,k,n,m,x,y,z,H[N],s;
vector<int> v[N];

int main(){
	cin >> n;

	for(i=1 ; i<=n ; i++)
		scanf("%d",a+i);

	cin >> m;

	for(i=1 ; i<=m ; i++)
		scanf("%d",b+i);

	sort(b+1,b+1+m);

	for(i=1 ; i<=n ; i++){
		if(a[i] == -1){
			int p=s,w=0;
			for(j=m ; j>=1 ; j--){
				while(p and b[j]<=c[p-1])
					p--;
				if(p == s)
					s++;
				c[p] = b[j];
			}
		}
		else{
			int t=lower_bound(c,c+s,a[i])-c;
			c[t] = a[i];
			v[t+1].pb(i);
			if(t == s)
				s++;
		}
	}

	int p = m,last,p2=n,beg=n;
	if(v[s].size()){
		last = a[v[s].back()];
		beg = v[s].back();
	}
	else{
		for(; beg>=1 ; beg--){
			if(a[beg] == -1){
				H[p] = 1;
				last = a[beg] = b[p--];
				break;
			}
		}
	}

	for(i=s-1 ; i>=1 ; i--){
		if(v[i].size()){
			bool w=0;
			for(j=v[i].size()-1 ; j>=0 ; j--)
				if(last > a[v[i][j]] and v[i][j]<beg){
					last = a[v[i][j]];
					beg = v[i][j];
					w=1;
					break;
				}
			if(w)
				continue;
		}
		bool w = 0;
		for( ; beg>=1 ; beg--){
			if(a[beg] == -1){
				while(b[p] >= last)
					p--;
				H[p] = 1;
				last = a[beg] = b[p];
				w=1;
				break;
			}
		}
	}
	p = 1;

	for(i=1 ; i<=n ; i++){
		if(a[i] == -1){
			while(H[p])
				p++;
			printf("%d ",b[p]);
			p++;
		}
		else
			printf("%d ",a[i]);
	}
}
