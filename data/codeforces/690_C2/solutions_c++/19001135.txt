#include<cstdio>
#include<cstring>
#define maxn 200010
using namespace std;
int n,u,v,ans,m;
int idx[maxn],to[maxn],nxt[maxn],Si;
int vis[maxn],dis[maxn];
void AE(int u,int v)
{
	to[Si]=v,nxt[Si]=idx[u],idx[u]=Si++;
}
void dfs(int x)
{
	vis[x]=1;
	for(int i=idx[x];i+1;i=nxt[i])
		if(!vis[to[i]])
		{
			dis[to[i]]=dis[x]+1;
			dfs(to[i]);
		}
}
int main()
{
	memset(idx,-1,sizeof(idx));
	scanf("%d%d",&n,&m);
	for(int i=1;i<n;i++)
	{
		scanf("%d%d",&u,&v);
		AE(u,v);AE(v,u);
	}
	dis[1]=0;
	dfs(1);
	int tmp=1;
	for(int i=2;i<=n;i++)
		if(dis[i]>dis[tmp])tmp=i;
	dis[tmp]=0;
	memset(vis,0,sizeof(vis));
	dfs(tmp);
	tmp=1;
	for(int i=2;i<=n;i++)
		if(dis[i]>dis[tmp])tmp=i;
	printf("%d",dis[tmp]);
}