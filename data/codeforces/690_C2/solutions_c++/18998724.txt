#include <cstdio>
#include <vector>
#include <cstring>

using namespace std;

vector< int > e[100001];
int dist[100001];

void search(int x, int p) {
	dist[x] = dist[p] + 1;
	for (vector< int >::iterator i = e[x].begin(); i != e[x].end(); ++i)
		if (*i != p)
			search(*i, x);
}

int main() {
	int n, i, t, x, y, mx;
	
	scanf("%d%d", &n, &t);
	for (i = 1; i < n; ++i) {
		scanf("%d%d", &x, &y);
		e[x].push_back(y);
		e[y].push_back(x);
	}
	
	memset(dist, -1, sizeof(dist));
	search(1, 1);
	for (i = 2, mx = 1; i <= n; ++i)
		if (dist[i] > dist[mx]) mx = i;
	
	memset(dist, -1, sizeof(dist));
	search(mx, mx);
	for (i = 2, mx = 1; i <= n; ++i)
		if (dist[i] > dist[mx]) mx = i;
	
	printf("%d\n", dist[mx]);
	
	return 0;
}