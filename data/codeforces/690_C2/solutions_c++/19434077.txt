#include<iostream>
#include<algorithm>
#include<cstring>
using namespace std;
struct haha{int next,to;} e[200005];
int h[100005]={0},cnt=0;
int vst[100005],d[100005];
int n,m;
int q[100005];
void add(int x,int y)
{
	cnt++;
	e[cnt].to=y;
	e[cnt].next=h[x];
	h[x]=cnt;
}
void solve(int s,int &dis,int &id)
{
	int l=0,r=1;
	int i,x,y;
	memset(vst,0,sizeof(vst));
	memset(d,0,sizeof(d));
	dis=0;
	q[1]=s;
	vst[s]=1;
	d[1]=0;
	while(l<r)
	{
		l++;
		x=q[l];
		if(d[x]>dis)
		{
			dis=d[x];
			id=x;
		}
		for(i=h[x];i;i=e[i].next)
		{
			y=e[i].to;
			if(vst[y]) continue;
			d[y]=d[x]+1;
			r++;
			q[r]=y;
			vst[y]=1;
		}
	}
}
int main()
{
	int i,a,b;
	int dis,id;
	cin>>n>>m;
	for(i=1;i<=m;i++)
	{
		cin>>a>>b;
		add(a,b);
		add(b,a);
	}
	solve(1,dis,id);
	solve(id,dis,a);
	cout<<dis<<endl;
	return 0;
}
			 		  	 		 		 	   	 					 			