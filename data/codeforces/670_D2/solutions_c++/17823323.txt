#include<bits/stdc++.h>
using namespace std;
long long a[1000006], b[1000006], n, m;
bool u(long long x) {
	long long po = m;
	for(int i = 0; i < n; i++) {
		long long ki = a[i]/b[i];
		if(ki<x) po-=(x-ki)*b[i] - a[i]%b[i];
		if(po<0) return false;
	}
	return true;
}
int main() {
	scanf("%lld%lld", &n, &m);
	for(int i = 0; i < n; i++) scanf("%lld", &b[i]);
	for(int i = 0; i < n; i++) scanf("%lld", &a[i]);
	long long p = 0, k = 2000000003;
	while(p<k) {
		long long sr = (p+k)/2;
		if(u(sr)) p = sr+1;
		else k = sr;
	}
	while(!u(p)) p--;
	printf("%lld\n", p);
}
