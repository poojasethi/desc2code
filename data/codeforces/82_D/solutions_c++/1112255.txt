#include <iostream>
#include <stdio.h>

using namespace std;
const int N=1003;
const int INF=1000000;

int n,a[N],dp[N][N]={0};
int go(int i, int j)
{ if (dp[i][j]) return dp[i][j];
  if (i>n) return dp[i][j]=0;
  if (j>n) return dp[i][j]=a[i];
  if (j==n) return dp[i][j]=max(a[i],a[j]);

  int ans=max(a[i],a[j])+go(j+1,j+2);
  ans=min(ans,max(a[i],a[j+1])+go(j,j+2));
  ans=min(ans,max(a[j],a[j+1])+go(i,j+2));
  return dp[i][j]=ans;
}
int trace(int i, int j)
{
 if (i>n) return 0;
 if (j>n) {cout<<i<<endl; return 0;}
 if (j==n) {cout<<i<<" "<<j<<endl; return 0;}
 if (dp[i][j]==max(a[i],a[j])+go(j+1,j+2))
  {cout<<i<<" "<<j<<endl; trace(j+1,j+2);  return 0;}
 if (dp[i][j]==max(a[i],a[j+1])+go(j,j+2))
  {cout<<i<<" "<<j+1<<endl; trace(j,j+2);  return 0;}
 if (dp[i][j]==max(a[j],a[j+1])+go(i,j+2))
  {cout<<j<<" "<<j+1<<endl; trace(i,j+2);  return 0;}
}
int main()
{
 //freopen("i.txt","r",stdin);
 cin>>n;
 for(int i=1;i<=n;i++) cin>>a[i];
 cout<<go(1,2)<<endl;
 trace(1,2);
return 0;
}
