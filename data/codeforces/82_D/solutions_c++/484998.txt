#include <iostream>
using namespace std;
int A[1001][1001];

int main(int argc, char* argv[])
{
   int i,j,n;
   cin>>n;
   for (j=0;j<n;j++)
      cin>>A[n][j];
   if ((n&1)==0) {
      for (j=0;j<n-1;j++)
         A[n-1][j]=max(A[n][j],A[n][n-1]);
   }
   for (i=(n&1? n-2:n-3);i>=0;i-=2) {
      for (j=0;j<i;j++) {
         A[i][j]=min(max(A[n][j],A[n][i])+A[i+2][i+1],min(
                     max(A[n][j],A[n][i+1])+A[i+2][i],
                     max(A[n][i],A[n][i+1])+A[i+2][j]));
      }
   }
   cout<<A[1][0]<<endl;
   for (i=1,j=0;i<n;i+=2) {
      if (i+2<=n && A[i][j]-A[i+2][j]==max(A[n][i],A[n][i+1]))
         cout<<i+1<<" "<<i+2<<endl;
      else if (i+2<=n && A[i][j]-A[i+2][i]==max(A[n][j],A[n][i+1]))
         {cout<<j+1<<" "<<i+2<<endl;j=i;}
      else
         {cout<<j+1<<" "<<i+1<<endl;j=i+1;}
   }
   if (n&1)
      cout<<j+1;
   return 0;
}

