#include<iostream>
#include<cstring>
using namespace std;

typedef long long ll;

struct ans
{ int x,y,i,k;

  ans()
  {
  }

  ans(int a,int b,int c, int d)
   { x=a; y=b;  i=c;  k=d;
   }
   
};

ans ret[1010][1010];

int dp[1010][1010];

int n, in[1005];



int main()
{

cin>>n;

for(int i=1;i<=n;i++)
  cin>>in[i];

for(int i=1;i<=n;i++)
{ 
 dp[i][n]=in[i];

  ret[i][n]=ans(i,i,n+1,n+1);

 dp[i][n-1]=max( in[i] , in[n] );

 ret[i][n-1]=ans( i, n, n+1 ,n+1 );
}

for(int i=n-2;i>=1;i--)
  for(int k=n-2;k>=i;k--)
  {

  dp[i][k]=max(in[i] , in[k+1] ) + dp[k+2][k+2];

  ret[i][k]=ans(i,k+1,k+2,k+2 );

  if( max(in[i],in[k+2] )+dp[k+1][k+2] < dp[i][k] )
   {
      dp[i][k]=max( in[i] , in[k+2] ) + dp[k+1][k+2] ;

       ret[i][k]=ans(i,k+2 ,k+1 ,k+2 );
   }


  if( max( in[k+1] , in[k+2] ) + dp[i][k+2] < dp[i][k] )
   {
     dp[i][k]=max( in[k+1],in[k+2] ) + dp[i][k+2] ;
    
     ret[i][k]=ans(k+1,k+2 , i, k+2 );
   }

}

cout<<dp[1][1]<<endl;

int ai=1,ak=1;

for(int i=1;i<=(n+1)/2;i++)
{

  if( ret[ai][ak].x !=ret[ai][ak].y )
    cout<<ret[ai][ak].x<<" "<<ret[ai][ak].y<<endl;
  else
   cout<<ret[ai][ak].x;

 int ti=ai,tk=ak;

 ai=ret[ti][tk].i;
 ak=ret[ti][tk].k;
}

return 0;
} 







