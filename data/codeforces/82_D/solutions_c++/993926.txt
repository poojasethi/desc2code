#include <iostream>
#include <cmath>

#define rep(i,n) for(int i=0;i<n;i++)
#define pr(i) cout<<i<<endl
#define mp(a,b) make_pair(a,b)

using namespace std;

int dp[1010][1010];
int a[1010],b[1010][1010];
pair<int,int> c[1010][1010];
int i,j,n,t1,t2,t3;

int main(){
  
  cin>>n;
  rep(i,n)cin>>a[i];
  if(n==1){pr(a[0]);pr(1);return 0;}
  else if(n==2){pr((max(a[0],a[1])));pr(1<<" "<<2);return 0;}

  rep(i,n+1)rep(j,n)dp[i][j]=-1;
  if(n%2==1)rep(i,n)dp[n][i]=a[i];
  else rep(i,n)dp[n-1][i]=max(a[n-1],a[i]);

  for(int i=(n%2?n-2:n-3);i>=0;i-=2){
    for(int j=i-1;j>=0;j--){
      t1=dp[i+2][j]+max(a[i+1],a[i]);
      t2=dp[i+2][i]+max(a[j],a[i+1]);
      t3=dp[i+2][i+1]+max(a[j],a[i]);
      if(t1<min(t2,t3)){dp[i][j]=t1;b[i][j]=j;c[i][j]=mp(i,i+1);}
      else if(t2<min(t1,t3)){dp[i][j]=t2;b[i][j]=i;c[i][j]=mp(j,i+1);}
      else {dp[i][j]=t3;b[i][j]=i+1;c[i][j]=mp(j,i);}
    }
  }

  //rep(i,n+1){rep(j,n)cout<<dp[i][j]<<" ";cout<<endl;}

  pr(dp[1][0]);

  for(int i=1;i<=(n%2?n-2:n-3);i+=2){
    pr(c[i][j].first+1<<" "<<c[i][j].second+1);
    j=b[i][j];
  }

  if(n%2==0)pr(j+1<<" "<<n);
  else pr(j+1);

  return 0;  
}
