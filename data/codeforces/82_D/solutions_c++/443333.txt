#include <iostream>
#include <stdio.h>
#include <string>
#include <string.h>
#include <map>
#include <set>
#include <math.h>
#include <vector>
#include <stdlib.h>

using namespace std;

int N,answer,A[1007],F[1007][1007],move[1007][1007];

int solve(int i,int j)
{
	int res,r;
	if(j>N) return A[i];
	if(F[i][j]>0) return F[i][j];
	res = max(A[i],A[j]) + solve(j+1,j+2); move[i][j] = 1;
	r = max(A[i],A[j+1]) + solve(j,j+2);
	if(r<res) { res = r; move[i][j]=2; }
	r = max(A[j],A[j+1]) + solve(i,j+2);
	if(r<res) { res = r; move[i][j]=3; }
	F[i][j] = res;
	return res;
}

int main()
{
	int i,j;
//	freopen("input.txt","r",stdin);
//	freopen("output.txt","w",stdout);
	cin>>N;
	for(i=1;i<=N;i++) cin>>A[i];
	answer = solve(1,2);
	cout<<answer<<endl;
	i=1; j=2;
	while(j<=N)
	{
		if(move[i][j]==1)
		{
			cout<<i<<' '<<j<<endl;
			i=j+1; j+=2;
		}
		else if(move[i][j]==2)
		{
			cout<<i<<' '<<j+1<<endl;
			i=j; j+=2;
		}
		else if(move[i][j]==3)
		{
			cout<<j<<' '<<j+1<<endl;
			j+=2;
		}
	}
	if(i<=N) cout<<i<<endl;
/*	if(j==N) cout<<i<<' '<<j<<endl;
	else cout<<i<<endl;
*/	return 0;
}
