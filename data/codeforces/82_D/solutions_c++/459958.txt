#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int n,next[505][1005],f[505][1005],v[1005];
void dp(int i,int j)
{
	if(f[i][j]!=-1) return;
	if(i==(n+1)/2-1)
	{
		if(n%2) f[i][j]=v[j];
		else f[i][j]=max(v[j],v[n-1]);
		return;
	}
	f[i][j]=0x7f7f7f7f;
	dp(i+1,j);
	dp(i+1,2*i+1);
	dp(i+1,2*i+2);
	if(f[i+1][j]+max(v[2*i+1],v[2*i+2])<f[i][j])
	{
		f[i][j]=f[i+1][j]+max(v[2*i+1],v[2*i+2]);
		next[i][j]=j;
	}
	if(f[i+1][2*i+1]+max(v[j],v[2*i+2])<f[i][j])
	{
		f[i][j]=f[i+1][2*i+1]+max(v[j],v[2*i+2]);
		next[i][j]=2*i+1;
	}
	if(f[i+1][2*i+2]+max(v[2*i+1],v[j])<f[i][j])
	{
		f[i][j]=f[i+1][2*i+2]+max(v[2*i+1],v[j]);
		next[i][j]=2*i+2;
	}
}
int main()
{
	while(scanf("%d",&n)!=EOF)
	{
		for(int i=0;i<n;i++) scanf("%d",v+i);
		memset(f,-1,sizeof(f));
		dp(0,0);
		printf("%d\n",f[0][0]);
		int i=0,j=0;
		while(i<(n+1)/2)
		{
			if(i==(n+1)/2-1)
			{
				if(n%2) printf("%d\n",j+1);
				else printf("%d %d\n",j+1,n);
				break;
			}
			int a,b;
			if(next[i][j]==j)
			{
				a=2*i+1;b=2*i+2;
			}
			else if(next[i][j]==2*i+2)
			{
				a=j;
				b=2*i+1;
			}
			else
			{
				a=j;
				b=2*i+2;
			}
			printf("%d %d\n",a+1,b+1);
			j=next[i++][j];
		}
	}
	return 0;
}
