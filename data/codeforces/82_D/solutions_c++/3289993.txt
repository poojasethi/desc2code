#include <cstdio>
#include <iostream>

#define fi first
#define se second

using namespace std;

typedef pair<int,int> ii;

const int MAXN=1002;

int N;
int ar[MAXN];

int dn[MAXN][MAXN];
ii turn[MAXN][MAXN],wr[MAXN][MAXN];

inline int f( int a , int b ){
	
	int &rev=dn[a][b];
	
	if( rev )
		return rev;
	
	if( a>N )
		return 0;
	if( b>N ){
		turn[a][b]=ii(a,a);
		return rev=ar[a];
	}
		
	
	int r1=f(b+1,b+2)+max(ar[a],ar[b]);
	int r2=f(a,b+2)+max(ar[b],ar[b+1]);
	int r3=f(b,b+2)+max(ar[a],ar[b+1]);
	
	rev=min(min(r1,r2),r3);
	
	if( rev==r1 ){
		turn[a][b]=ii(b+1,b+2);
		wr[a][b]=ii(a,b);
	}
	else if( rev==r2 ){
		turn[a][b]=ii(a,b+2);
		wr[a][b]=ii(b,b+1);
	}
	else{
		turn[a][b]=ii(b,b+2);
		wr[a][b]=ii(a,b+1);
	}
	
	return rev;
}

int main(){
	
	scanf(" %d",&N);
	
	for( int i=1 ; i<=N ; i++ )
		scanf(" %d",ar+i);
	
	printf("%d\n",f(1,2));
	
	int a=1,b=2;
	
	
	while(22){
		
		if( a==b ){
			printf("%d\n",a);
			return 0;
		}
		
		if( a>N )
			return 0;
		
		if( wr[a][b].fi )
			printf("%d %d\n",wr[a][b].fi,wr[a][b].se);
		
		int tmp=a;
		a=turn[a][b].fi;
		b=turn[tmp][b].se;
		
		if( !a && !b )
			return 0;
	}
	
	return 0;
}

