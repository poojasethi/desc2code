#include<iostream>
#include<stdio.h>
using namespace std;
int n,a[1000],d[1000][1000],p[1000][1000];
int dp(int l, int r)
{
	if (r >= n) return a[l];
	if (r == n - 1) return max(a[l],a[r]);
	if (d[l][r]) return d[l][r];
	int m = max(a[l],a[r]) + dp(r + 1,r + 2); 
	p[l][r] = 1;
	if (m > max(a[l],a[r + 1]) + dp(r,r + 2))
	{
		m = max(a[l],a[r + 1]) + dp(r,r + 2);
		p[l][r] = 2;
	}
	if (m > max(a[r],a[r + 1]) + dp(l,r + 2))
	{
		m = max(a[r],a[r + 1]) + dp(l,r + 2);
		p[l][r] = 3;
	}
	return d[l][r] = m;
}
int main()
{
	#ifndef ONLINE_JUDGE
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	#endif
	cin>>n;
	for(int i = 0; i < n; i++)
		cin>>a[i];
	cout<<dp(0,1)<<endl;
	int l = 0;
	int r = 1;
	for(int i = 0; i < (n + 1) / 2; i++)
		if (p[l][r] == 1)
		{
			cout<<l + 1<<" "<<r + 1<<endl;
			l = r + 1;
			r = r + 2;
		} else
		if (p[l][r] == 2)
		{
			cout<<l + 1<<" "<<r + 2<<endl;
			l = r;
			r = r + 2;
		} else
		if (p[l][r] == 3)
		{
			cout<<r + 1<<" "<<r + 2<<endl;
			r = r + 2;
		} else
		if (r == n - 1) cout<<l + 1<<" "<<r + 1<<endl; else
		if (r >= n && l < n) cout<<l + 1<<endl;
	return 0;
}
