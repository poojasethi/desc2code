#include <iostream>
#include <cstring>
using namespace std;
#define N 1005
#define DEBUG 1
int n,a[N],dp[N][N];
int vals[N][N][2];

int solve(int i, int j){
   //if(DEBUG)cout<<i<<" "<<j<<endl;
   if(i>=n)return 0;
   if(j>=n){
      vals[i][j][0]=i;
      return a[i];
   }
   if(dp[i][j]!=-1)return dp[i][j];
   int minVal=1000000010,x,y,prev;
   minVal=min(max(a[i],a[j])+solve(j+1,j+2),minVal);
   x=i;y=j;
   prev=minVal;
   minVal=(j+1<n)?min(minVal,max(a[i],a[j+1])+solve(j,j+2)):minVal;
   if(prev!=minVal){x=i;y=j+1;}
   prev=minVal;
   minVal=(j+1<n)?min(minVal,max(a[j],a[j+1])+solve(i,j+2)):minVal;
   if(prev!=minVal){x=j;y=j+1;}
   dp[i][j]=minVal;
   vals[i][j][0]=x;
   vals[i][j][1]=y;
   return minVal;

}
int main(){
   int i;
   cin>>n;
   for(i=0; i<n; i++)cin>>a[i];
   memset(dp,-1,sizeof(dp));
   memset(vals,-1,sizeof(vals));
   cout<<solve(0,1)<<endl;
   int x,y,j,cnt=0;
   i=0;j=1;
   while(true){
      if(cnt>=n)break;
      x=vals[i][j][0];
      y=vals[i][j][1];
      cout<<x+1;
      if(y==-1){cout<<endl;break;}
      cout<<" "<<y+1<<endl;
      cnt+=2;
      if(x!=i)j=y+1;
      else {
         if(y==j){i=y+1;j=y+2;}
         else{i=j;j=y+1;}
      }
   }
   return 0;
}
