#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;

const int N = 1000+5;
int f[N][N], n, a[N];

int F(int i, int j) {
    int &res = f[i][j];
    if(res != 0x3f3f3f3f) return res;
    if(j == n) return res = a[i];
    if(j == n-1) return res = max(a[i], a[j]);
    return res = min(F(j+1, j+2) + max(a[i], a[j]), min(F(j, j+2) + max(a[i], a[j+1]), F(i,j+2) + max(a[j], a[j+1])));
}

int main() {
#ifndef ONLINE_JUDGE
    freopen("26.inp", "r", stdin);
    freopen("26.out", "w", stdout);
#endif
    scanf("%d",&n); memset(f, 0x3f, sizeof f);
    for(int i = 0; i < n; ++i) scanf("%d", a+i);
    printf("%d\n", F(0, 1));
    for(int i = 0, j = 1, k = 0; k < (n+1)/2; ++k) {
        if(j == n) printf("%d\n", i+1);
        else if(j == n-1) printf("%d %d\n", i+1, j+1);
        else {
            if(F(i, j) == F(j+1, j+2) + max(a[i], a[j])) printf("%d %d\n", i+1, j+1), i = j+1;
            else if(F(i, j) == F(j, j+2) + max(a[i], a[j+1])) printf("%d %d\n", i+1, j+2), i = j;
            else printf("%d %d\n", j+1, j+2);
            j += 2;
        }
    }
    return 0;
}
