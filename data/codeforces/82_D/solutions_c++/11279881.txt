#include <iostream>
#include <stdio.h>
#include <memory.h>

using namespace std;

#define FOR(i,b) for (int i = 0; i < (b); i++)

int dp[1020][1020];
int state[1020][1020];

int arr[1000];
int N;

int Calc(int a, int b)
{
	if(b>=N)
	{
		return arr[a];
	}
	else if(b==N-1)
	{
		return max(arr[a],arr[b]);
	}
	else
	{
		if(dp[a][b]==-1)
		{
			int way[3];
			way[0]=max(arr[a],arr[b])+Calc(b+1,b+2);
			way[1]=max(arr[a],arr[b+1])+Calc(b,b+2);
			way[2]=max(arr[b],arr[b+1])+Calc(a,b+2);
			
			int res =0;
			
			FOR(i,3)
			{
				if(way[i]<way[res])
				{
					res =i;
				}
			}
			
			dp[a][b]=way[res];
			state[a][b]=res;
		}
		
		return dp[a][b];
	}
}


int main()
{
	scanf("%d",&N);
	
	memset(dp,-1,sizeof(dp));
	
	FOR(n,N)
	{
		scanf("%d",&arr[n]);
	}
	
	printf("%d\n",Calc(0,1));
	
	int a=0;
	int b=1;
	
	while(true)
	{
		if(b>=N)
		{
			printf("%d\n",a+1);
			break;
		}
		else if(b==N-1)
		{
			printf("%d %d\n",a+1,b+1);
			break;
		}
		else
		{
			if(state[a][b]==0)
			{
				printf("%d %d\n",a+1,b+1);
				a=b+1;
				b=b+2;
			}
			else if(state[a][b]==1)
			{
				printf("%d %d\n",a+1,b+2);
				a=b;
				b=b+2;
			}
			else
			{
				printf("%d %d\n",b+1,b+2);
				a=a;
				b=b+2;
			}
		}
	}
	
	return 0;
	
	
	
}