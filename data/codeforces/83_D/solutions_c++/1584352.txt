#include<stdio.h>
#include<string.h>
bool isprime(int x)
{
    for(int i=2;i*i<=x;i++)
        if(x%i == 0)
            return false;
    return true;
}
int calc(int s,int base)
{
    if(s < base)
        return 0;
    if(s < base*base)
        return 1;
    int tmp=s/base;
    for(int i=2;i<base && i<=s/base;i++)
        if(isprime(i))
            tmp-=calc(s/base,i);
    return tmp;
}
int main()
{
    int a,b,k;
    scanf("%d %d %d",&a,&b,&k);
    if(!isprime(k))
    {
        printf("0\n");
        return 0;
    }
    printf("%d\n",calc(b,k)-calc(a-1,k));
    return 0;
}
