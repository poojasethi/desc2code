#include <iostream>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <set>
#include <vector>
#include <cstdio>
#include <bitset>
using namespace std;

#define FOR(i,m,n) for(int i=m; i<n; i++)
#define ms(obj, val) memset(obj, val, sizeof(obj))
#define mp make_pair
#define pb push_back
#define ri(a) scanf("%d",&a)
#define rii(a,b) scanf("%d%d",&a,&b)

typedef long long ll;
typedef vector<int> vi;

bool isPrime(int n){
	for(int i=2; i*i<=n; i++) if(!(n%i)) return false;
	return true;
}
int f(int n, int k){
	if(k>n || !isPrime(k)) return 0;
	int res=n/k;
	for(int i=2; i<k && i<=n/k; i++)
		res-=f(n/k, i);
	return res;
}
int main(){
	int a, b, k;
	rii(a, b); ri(k);
	printf("%d\n", f(b, k)-f(a-1, k));
}
