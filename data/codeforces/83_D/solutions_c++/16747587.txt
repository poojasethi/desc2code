#include<cstdio>
#include<vector>
#include<iostream>
typedef long long LL;
using namespace std;
vector<LL>PP;
bool f(LL k){
	for(LL i=2;i*i<=k;i++){
		if(k%i==0){
			return 0;
		}
	}
	return 1;
}
LL solve(LL b,LL k){
	if(k<0){
		return 0;
	}
	if(b<PP[k]){
		return 0;
	}
	b/=PP[k];
	LL ans=b;
	for(LL i=0;i<k;i++){
		ans-=solve(b,i);
	}
	return ans;
}
int main(){
	LL a,b,k;
	while(~scanf("%I64d %I64d %I64d",&a,&b,&k)){
		if(!f(k)){
			printf("0\n");
			continue;
		}
		if(k*k>b){
			if(k>=a&&k<=b){
				printf("1\n");
			}
			else{
				printf("0\n");
			}
			continue;
		}
		PP.clear();
		for(LL i=2;i<k;i++){
			if(f(i)){
				PP.push_back(i);
			} 
		}
		PP.push_back(k);
		printf("%I64d\n",solve(b,PP.size()-1)-solve(a-1,PP.size()-1));
	}
	return 0;
}
									  	 		  	    	     			