/*
 * Author:  xioumu
 * Created Time:  2012-2-6 15:56:05
 * File Name: number.cpp
 * solve: number.cpp
 */
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cmath>
int a,b,n;
int pr[10000007];
bool pan(int n){
   int i;
   for(i=2;i*i<=n;i++)
      if(n % i == 0) 
         return true;
   return false;
}
int fun(int n,int k){
   int i,j,s;
   if( n == 0 || pan(k) ){
      return 0;
   }
   s = n/k;
   //printf("%d--\n",s);
   for(i=2;i<k && i<=n/k;i++){
      s -= fun(n/k,i);
   }
   return s;
}
int main(){
   int k;
   while(   scanf("%d %d %d",&a,&b,&k) != EOF){
      printf("%d\n",fun(b,k) - fun(a-1,k));
   }
   return 0;
}
