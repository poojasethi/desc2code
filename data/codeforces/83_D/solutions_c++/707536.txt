#include<cstdio>
#include<vector>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

typedef long long ll;

const int INF=1<<29;

bool isPrime(int a){
    if((a&1)==0) return a==2;
    for(ll i=3;i*i<=a;i+=2) if(a%i==0) return false;
    return a!=1;
}

const int Ne=50000;
bool er[Ne+1]={true,true};
vector<int> p;

int f(int n,int k){
    int res;
    if(n<(ll)k*k) res=(k<=n?1:0);
    else{
        res=n/k;
        for(int i=0;p[i]<k;i++) res-=f(n/k,p[i]);
    }
    return res;
}

int main(){
    for(int i=2;i*i<=Ne;i++) if(!er[i]) for(int j=i*i;j<=Ne;j+=i) er[j]=true;
    rep(i,Ne+1) if(!er[i]) p.push_back(i);

    int a,b,k; scanf("%d%d%d",&a,&b,&k);

    printf("%d\n",isPrime(k)?f(b,k)-f(a-1,k):0);

    return 0;
}
