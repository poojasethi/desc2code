#include<stdio.h>
#include<string.h>

typedef __int64 lld;

int Gao(int k){
    for(int i=2;i*i<=k;i++)
        if(k%i==0)
            return 0;
    return 1;
}

int Kao(int n,int k){
    if(k>n || !Gao(k))return 0;
    if((lld)k*k>n) return 1;
    int ret=n/k;
    for(int i=2;i<k;i++)
        ret-=Kao(n/k,i);
    return ret;
}

int main(){
    int n,m,k;
    while(scanf("%d%d%d",&n,&m,&k)!=EOF){
        if(!Gao(k))puts("0");
        else{
            printf("%d\n",Kao(m,k)-Kao(n-1,k));
        }
    }
    return 0;
}
