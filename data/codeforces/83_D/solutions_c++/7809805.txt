#include<cstdio>
#include<iostream>
#include<cmath>
using namespace std ;

int a, b, k ;
//
bool judge(int tt){
    int tmp = sqrt(1.0*tt) ;
    for( int i = 2; i <= tmp; i++ ){
        if( tt % i == 0 )   return false ;
    }
    return true ;
}
//
int cal(int t, int k){
    if( t == 0 )    return 0 ;
    if( !judge(k) ) return 0 ;
    if( t < k ) return 0 ;
    if( t == k )    return 1 ;
    int res = t / k ;
    for( int i = 2; i < k && i <= t / k; i++ ){
        res -= cal(t/k, i) ;
    }
    return res ;
}
//
int main(){
   /////////////// freopen("1234.in","r",stdin) ;
    scanf("%d%d%d",&a,&b,&k) ;
    cout << cal(b, k) - cal(a-1, k) << endl ;   
    return 0 ;
}
