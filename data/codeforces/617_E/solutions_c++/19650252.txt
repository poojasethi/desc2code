#include<cstdio>
#include<algorithm>
using namespace std;
#define N 2000010
int l,r,sum[N];
long long ans,Ans[N];
int i,x[N],y[N],f1,f2,j,k,Xor[N],Sum[N],q,n,m,b[N];
struct g{
	int l,r,id;
}a[N];
bool cmp(g a,g b)
{
	if (a.l/q==b.l/q)
	return a.r<b.r;
	return a.l/q<b.l/q;	
}
int main()
{
	scanf("%d%d%d",&n,&m,&k);
	for (i=1;i<=n;i++)
	{
		scanf("%d",&b[i]);
		Xor[i]=(Xor[i-1]^b[i]);
	}
	for (i=1;i<=m;i++)
	{
	a[i].id=i;
	scanf("%d%d",&a[i].l,&a[i].r);
	}
	q=1000;
	sort(a+1,a+1+m,cmp);
	l=0;r=0;sum[0]=1;
	for (i=1;i<=m;i++)
	{
		while (r<a[i].r) r++,ans=ans+sum[k^Xor[r]],sum[Xor[r]]++;
		while (r>a[i].r) sum[Xor[r]]--,ans=ans-sum[k^Xor[r]],r--;
	
		while (l<a[i].l-1) sum[Xor[l]]--,ans=ans-sum[k^Xor[l]],l++;
		while (l>a[i].l-1) l--,ans=ans+sum[k^Xor[l]],sum[Xor[l]]++;
		Ans[a[i].id]=ans;
	}
	for (i=1;i<=m;i++)
	printf("%I64d\n",Ans[i]);
} 
   	 	 	 		 	   	 	         		