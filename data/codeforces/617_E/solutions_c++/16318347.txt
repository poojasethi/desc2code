#include <algorithm>
#include <iostream>
#include <cstdio>
#include <cmath>
using namespace std;
int b[100010],f[1050000],i,n,m,k,d,s,t;
long long ans[100010];
struct abc{
	int l,r,pr,id;
}a[100010];
bool comp(abc a,abc b)
{
	return a.pr<b.pr || (a.pr==b.pr && a.r<b.r);
}
int main()
{
		scanf("%d%d%d\n",&n,&m,&k);
		for (i=1;i<=n;++i) scanf("%d",&b[i]),b[i]^=b[i-1];scanf("\n");
		d=sqrt(n);
		for (i=1;i<=m;++i)
		{
			scanf("%d%d\n",&a[i].l,&a[i].r);
			a[i].l--;a[i].pr=(a[i].l-1)/d+1;a[i].id=i;
		}
		sort(a+1,a+m+1,comp);
		s=0;t=-1;
		for (i=1;i<=m;++i)
		{
			ans[a[i].id]=ans[a[i-1].id];
			if (t<a[i].r)
				for (;t<a[i].r;++t) ans[a[i].id]+=f[b[t+1]^k],f[b[t+1]]++;
			if (s>a[i].l)
				for (;s>a[i].l;--s) ans[a[i].id]+=f[b[s-1]^k],f[b[s-1]]++;
			if (s<a[i].l)
				for (;s<a[i].l;++s) f[b[s]]--,ans[a[i].id]-=f[b[s]^k];
			if (t>a[i].r)
				for (;t>a[i].r;--t) f[b[t]]--,ans[a[i].id]-=f[b[t]^k];
		}
		for (i=1;i<=m;++i) printf("%I64d\n",ans[i]);
}