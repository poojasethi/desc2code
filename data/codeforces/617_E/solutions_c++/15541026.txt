#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#include<map>
#include<cmath>
#define Maxn 100010
#define ll long long
using namespace std;

int a[Maxn],pos[Maxn];
struct query{
    int l,r,id;
    bool operator<(const query a)const{
        return pos[l]<pos[a.l]||pos[l]==pos[a.l]&&r<a.r;
    }
}q[Maxn];
int v[1<<20];
ll ans[Maxn];
int main()
{
    int n,m,k;
    cin>>n>>m>>k;
    for(int i=1;i<=n;i++) scanf("%d",&a[i]),a[i]^=a[i-1];
    for(int i=0;i<m;i++) scanf("%d%d",&q[i].l,&q[i].r),q[i].l--,q[i].id=i;
    int bl=sqrt(n+1);
    for(int i=0;i<=n;i++) pos[i]=i/bl;
    sort(q,q+m);
    int l=0,r=-1;
    //for(int i=0;i<=n;i++) cout<<a[i]<<"+++";cout<<endl;
    //for(int i=0;i<m;i++) cout<<q[i].l<<" "<<q[i].r<<endl;
    ll tmp=0;
    for(int i=0;i<m;i++){
        while(r<q[i].r) ++r,tmp+=v[a[r]^k],v[a[r]]++;
        while(r>q[i].r) v[a[r]]--,tmp-=v[a[r]^k],r--;
        while(l<q[i].l) v[a[l]]--,tmp-=v[a[l]^k],l++;
        while(l>q[i].l) --l,tmp+=v[a[l]^k],v[a[l]]++;
        ans[q[i].id]=tmp;
    }
    for(int i=0;i<m;i++)
        printf("%I64d\n",ans[i]);
	return 0;
}
