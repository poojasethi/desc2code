#include<bits/stdc++.h>
using namespace std;
#define MAXN 100000
#define MAXQ 100000
struct Q{
	int l,r,i,block;
	inline bool operator<(const Q &b)const{
		return block==b.block?r<b.r:block<b.block;
	}
}q[MAXQ+5];
int n,m,k;
int s[MAXN+5];
long long ans[MAXQ+5];
int p[2000005];
long long cur_ans;
inline void add(int x){
	cur_ans+=p[x^k];
	++p[x];
}
inline void sub(int x){
	--p[x];
	cur_ans-=p[x^k];
}
int main(){
	scanf("%d%d%d",&n,&m,&k);
	for(int i=1;i<=n;++i){
		scanf("%d",&s[i]);
		s[i]^=s[i-1];
	}
	int lim=1+(int)sqrt(n);
	for(int i=0;i<m;++i){
		scanf("%d%d",&q[i].l,&q[i].r);
		--q[i].l;
		q[i].block=q[i].l/lim;
		q[i].i=i;
	}
	sort(q,q+m);
	for(int i=0,L=0,R=-1;i<m;++i){
		while(R<q[i].r)add(s[++R]);
		while(R>q[i].r)sub(s[R--]);
		while(L>q[i].l)add(s[--L]);
		while(L<q[i].l)sub(s[L++]);
		ans[q[i].i]=cur_ans;
	}
	for(int i=0;i<m;++i)printf("%lld\n",ans[i]);
	return 0;
}
