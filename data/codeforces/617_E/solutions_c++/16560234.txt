#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
using namespace std;
const int N=1e5+32,MAX=2e6+32;
typedef long long LL;
int block;
LL num[MAX];
int n,m;
LL k;
int L,R;
LL ans;
LL A[N],sum[N],Ans[N];
struct ques{
	int id,l,r;
	bool operator < (const ques &x)const 
	{
		if(x.l/block!=l/block)return l<x.l;
		return r<x.r;
	}
}Q[N];
void ADD(int x){
	ans+=num[sum[x]^k];
	num[sum[x]]++;
}
void DEL(int x){
	num[sum[x]]--;
	ans-=num[sum[x]^k];
}
int main()
{
	//freopen("E.in","r",stdin);
	scanf("%d%d%I64d",&n,&m,&k);
	for(int i=1;i<=n;++i){
		scanf("%I64d",&A[i]);
		sum[i]=sum[i-1]^A[i];
	}
	block=sqrt(m);
	for(int i=1;i<=m;++i){
		scanf("%d%d",&Q[i].l,&Q[i].r);
		Q[i].l--;Q[i].id=i;
	}
	sort(Q+1,Q+m+1);
	L=R=0;num[0]=1;
	ans=0;
	for(int i=1;i<=m;++i)
	{
		while(L<Q[i].l)DEL(L),++L;
		while(L>Q[i].l)--L,ADD(L);
		while(R<Q[i].r)++R,ADD(R);
		while(R>Q[i].r)DEL(R),--R;
		Ans[Q[i].id]=ans;
	}
	for(int i=1;i<=m;++i)printf("%I64d\n",Ans[i]);
}