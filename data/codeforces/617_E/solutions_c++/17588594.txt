#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<queue>
#include<map>
using namespace std;

int s,m,n,l,r,k,a[100010],b[2000000];
long long ans[100010],now;
struct query{
	int l,r,id;
	friend bool operator <(query a,query b){
		if(a.l/s==b.l/s) return a.r<b.r;
		return a.l/s<b.l/s;
	}
}q[100010];

void inc(int x){now+=b[x^k]; b[x]++;}
void dec(int x){b[x]--; now-=b[x^k];}
int main(){
	scanf("%d%d%d",&n,&m,&k);
	for(int i=1;i<=n;i++) scanf("%d",a+i);
	for(int i=1;i<=n;i++) a[i]^=a[i-1];
	s=(int)sqrt(n)+1;
	for(int i=1;i<=m;i++){
		scanf("%d%d",&q[i].l,&q[i].r);
		q[i].id=i; q[i].l--;
	}
	sort(q+1,q+1+m);
	inc(0);
	for(int i=1;i<=m;i++){
		while(r<q[i].r) inc(a[++r]);
		while(l<q[i].l) dec(a[l++]);
		while(l>q[i].l) inc(a[--l]);
		while(r>q[i].r) dec(a[r--]);
		ans[q[i].id]=now;
	}
	for(int i=1;i<=m;i++) printf("%I64d\n",ans[i]);
	return 0;
}