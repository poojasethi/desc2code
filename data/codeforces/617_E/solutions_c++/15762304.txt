#include <bits/stdc++.h>
using namespace std;

typedef long long ll;
#define forall(i,a,b)  for(int i=a;i<b;++i)
#define S 			   340
#define N 			   100001

int prefix[N],n,m,k,temp,l,r;
ll res,cnt[1<<20]={1},ans[N];

struct node{
	int L,R,ind;
} q[N];

bool comp(node a,node b){
	if(a.L/S!=b.L/S) return a.L/S < b.L/S;
	else return (a.R<b.R);
}

void add(int val){
	res+=cnt[k^val];
	++cnt[val];
}

void remove(int val){
	--cnt[val];
	res-=cnt[k^val];
}

int main(){
	cin >> n >> m >> k;
	forall(i,1,n+1){
		scanf("%d",&prefix[i]);
		prefix[i]^=prefix[i-1];
	}
	forall(i,0,m){
		scanf("%d%d",&q[i].L,&q[i].R);
		--q[i].L, q[i].R++;
		q[i].ind=i;
	}
	sort(q,q+m,comp);
	l = -1, r = 0;
	forall(i,0,m){
		while(l<q[i].L) remove(prefix[l++]);
		while(l>q[i].L) add(prefix[--l]);
        while(r>q[i].R) remove(prefix[--r]);
		while(r<q[i].R) add(prefix[r++]);
		ans[q[i].ind]=res;
	}
	forall(i,0,m) printf("%I64d\n",ans[i]);
}
