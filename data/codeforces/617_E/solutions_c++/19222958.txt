#include<cstdio>
#include<algorithm>
#include<iostream>
#define maxn 1000005
using namespace std;
int a[maxn],cnt[2*maxn];
struct node{
	int l,r,id;
}e[maxn];
int n,m,k;
long long ant,ans[maxn];
bool cmp(node x,node y){
	if(x.l/400==y.l/400)	return x.r<y.r;
	else return x.l<y.l;
}
void ADD(int x)
{
	ant+=cnt[x^k];
	cnt[x]++;
}
void MINES(int x)
{
	cnt[x]--;
	ant-=cnt[x^k];
} 
int main(){
	scanf("%d%d%d",&n,&m,&k);
	for(int i=1;i<=n;i++){
		scanf("%d",&a[i]);
		a[i]=a[i]^a[i-1];
	}
	for(int i=1;i<=m;i++){
		scanf("%d%d",&e[i].l,&e[i].r);
		e[i].l--;
		e[i].id=i;
	}
	sort(e+1,e+m+1,cmp);
	int L=0,R=0;
	cnt[0]=1;
	ant=0;
	for(int i=1;i<=m;i++)
	{
		while(R<e[i].r){
			R++;
			ADD(a[R]);
		}
		while(R>e[i].r){
			MINES(a[R]);
			R--;
		}
		while(L<e[i].l){
			MINES(a[L]);
			L++;
		}
		while(L>e[i].l){
			L--;
			ADD(a[L]);
		}
		ans[e[i].id]=ant;
	}
	for(int i=1;i<=m;i++)
		printf("%lld\n",ans[i]);
	return 0;
}
			  			   			   	 		 		  	  	