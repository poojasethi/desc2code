#include<bits/stdc++.h>
using namespace std ;
#define ll long long
#define mp make_pair
#define f first
#define s second
#define pii pair<pair<ll,ll>,ll >
const ll sq = 320 ;
pair<pair<ll,ll>,ll> qr[100009] ;
ll cnt[(1<<20)] , ans[100009] ,arr[100009], res ;

bool cmp(pair<pair<int,int> , int> a,pair<pair<int,int> ,int> b)
{
	if (a.first.first/sq==b.first.first/sq)  return a.first.second<b.first.second;
	return a.first.first/sq<b.first.first/sq;
}
ll n,m, k;
int main()
{
  cin>>n>>m>>k ;
  for(int i = 1;i<=n;i++) {
    cin>>arr[i] , arr[i] = arr[i]^arr[i-1] ;
    }

for(int i =0;i<m;i++)
 {
     ll x ;
   cin>>x>>qr[i].f.s ;
   qr[i].f.f = x- 1ll ;
   qr[i].s = i ;
}
sort(qr,qr+m,cmp) ;
ll pl = 0,pr = 0;
cnt[0]= 1 ;
for(int i =0;i<m;i++)
{
  ll l = qr[i].f.f , r = qr[i].f.s ;
   while(pl>l)  pl-- ,res+=cnt[arr[pl]^k] ,cnt[arr[pl]]++ ;
   while(pr<r)  pr++ ,res+= cnt[arr[pr]^k],cnt[arr[pr]]++  ;
  while(pl<l)    cnt[arr[pl]]--, res-=cnt[arr[pl]^k] , pl++ ;

  while(pr>r)  cnt[arr[pr]]-- ,res-=cnt[arr[pr]^k] , pr-- ;

  ans[qr[i].s] = res ;
}
for(int i =0;i<m;i++)
 cout<<ans[i]<<endl ;
}



