#include<iostream>
#include<cstdio>
#include<algorithm>
using namespace std;
const int N = 1000006;
int hasha[100],hashb[100];
bool chk(int x,int y){
	if(x <= 30 && (1<<x) <= y) return 1;
	return 0;
}
int rem = 0;
bool fetch(int val){
	if(rem >= val){
		rem -= val;
		return 1;
	} else {
		rem = 0;
		for(int i = 0; i < 30; i++) if((1<<i) >= val && hasha[i]){
			rem = 1<<i;
			hasha[i]--;
			rem -= val;
			return 1;
		}
		return 0;
	}
}
int main(){
	int n,m;
		cin >> n >> m;
	for(int i =0 ; i < n; i++){
		int a;
		scanf("%d",&a);
		int c = 0;
		while(a){
			if(a&1) hasha[c] ++;
			c ++;
			a /= 2;
		}
	}
	for(int i =0 ; i < m; i++){
		int b;
		scanf("%d",&b);
		if(b<30) hashb[b]++;
	}
	int ans =0 ;
	for(int i = 0; i < 30; i++){
		while(hashb[i] && fetch(1<<i)){
			hashb[i]--; ans ++;
		}
	}
	cout<<ans<<endl;
}
