#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;

#define FOR(it, c) for(__typeof((c).begin()) it = (c).begin(); it != (c).end(); it++)
#define SZ(c) ((int)(c).size())

const int N = 1e6+5;
int a[N];
vector<int> b[33];
int main(void) {
	int n, m;
	scanf("%d%d", &n, &m);
	for(int i=0;i<n;i++) scanf("%d", &a[i]);
	for(int i=0;i<m;i++) { int x; scanf("%d", &x);
	b[x].push_back(1); }
	int ans=0;
	for(int i=0;i<32;i++) {
		for(int j=0;j<n && SZ(b[i]);j++)
			if(a[j]%2) {
				ans += b[i].back();
				b[i].pop_back();
			}
		for(int j=0;j<n;j++) a[j]/=2;
		for(int j=1-SZ(b[i])%2;j<SZ(b[i]);j+=2) {
			if(j==0) { b[i+1].push_back(b[i][j]); }
			else b[i+1].push_back(b[i][j] + b[i][j-1]);
		}
	}
	printf("%d\n", ans);
	return 0;
}
