#include <cstdio>
#include <algorithm>
using namespace std;

const int K = 30;
int a[K+1], c[K+1];
int b[(int)(1e6)+3];

bool ok(int m)
{
	for(int i = 0; i <= K; ++i)
		c[i] = 0;
	for(int i = 0; i < m; ++i)
		++c[b[i]];
	
	for(int i = 0; i < K; ++i) {
		int x = min(a[i], c[i]);
		c[i] -= x;
		c[i+1] += (c[i]+1)/2;
	}
	return c[K] == 0;
}

int main()
{
	int n, m;
	scanf("%d%d", &n, &m);
	while(n--) {
		int x;
		scanf("%d", &x);
		for(int i = 0; i < K; ++i)
			if(x & (1 << i))
				++a[i];
	}
	for(int i = 0; i < m; ++i)
		scanf("%d", b+i);
	sort(b, b + m);
	
	int lo = 0, hi = m;
	while(lo < hi) {
		int mid = (lo + hi + 1) / 2;
		if(ok(mid)) lo = mid;
		else hi = mid - 1;
	}
	
	printf("%d\n", lo);
	return 0;
}
