// 10 monthes remaining for red =D
#include <cstdio>
#include <ext/rope>
#include <algorithm>
using namespace __gnu_cxx;
const int N = 3000000 + 9;
char str[N],tmp[N];
bool mark;
crope s;
int K,n,l[5000 + 9],r[5000 + 9],cnt;
void work(int K,int n)
{
	if (!n) {str[K] = 0;s = str;return;}
	if (l[n] >= K || r[n] >= K) return work(K,n - 1);
	work(std::max(K - (r[n] - l[n] + 1),r[n]),n - 1);
	int i = 0,len = std::min((int)s.size(),r[n]),j;
	for (j = l[n]; j < len && i + r[n] < K; j += 2) tmp[i++] = s[j];
	for (j = l[n] - 1; j < len && i + r[n] < K; j += 2)	tmp[i++] = s[j];
	tmp[i] = 0;
	s.insert(r[n],tmp);
}
int main()
{
	scanf("%s",str);
	scanf("%d%d",&K,&n);
	for (int i = 1; i <= n; ++i) scanf("%d%d",l + i,r + i);
	work(K,n);
	puts(s.c_str());
}
