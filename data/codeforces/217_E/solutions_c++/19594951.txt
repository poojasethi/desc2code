#include <bits/stdc++.h>
#include <ext/rope>

using namespace std;

#define NN 3100000
#define inf 0x3f3f3f3f
#define eps 1e-8
#define eprintf(...) fprintf(stderr, __VA_ARGS__)

typedef pair<int, int> pii;
typedef long long INT;

typedef __gnu_cxx ::crope String;
//typedef string String;

String s;
char buf[NN];

int N, L[NN], R[NN];

String make(int p, int len) {
	if (p<0) return s.substr(0, len);
	
	int x=R[p]-L[p];
	int y=min(len-R[p], x);
	
	if (y<=0) return make(p-1, len);
	
	String ans=make(p-1, len-y);
	
	for (int i=0; i<y; i++) {
		if (i*2+1<x) buf[i]=ans[L[p]+i*2+1];
		else buf[i]=ans[L[p]+(i-x/2)*2];
	}
	buf[y]=0;
	
	ans.insert(R[p], buf);
	
	return ans;
}

int main() {
	int len;
	
	scanf("%s", buf); s=buf;
	scanf("%d", &len);
	scanf("%d", &N);
	for (int i=0; i<N; i++) {
		scanf("%d%d", &L[i], &R[i]);
		L[i]--;
	}
	
	printf("%s\n", make(N-1, len).c_str());
	
	return 0;
}
               