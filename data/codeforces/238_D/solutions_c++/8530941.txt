#include <cstdio>
#include <cstring>
const int N = 100000 + 9;
char s[N],mem[N];
int n,q,fir[N][11],ans[N][11],tmp[11];
void work()
{
    tmp[10] = 1;
    for (int i = 1; i <= n; ++i)
        if (!fir[i][10]) {
            int p = i,d = 1,last = 0;
            if (!fir[p][10])
                memcpy(fir[p], tmp, sizeof tmp);
            while (i <= p && p <= n) {
                ++tmp[10];
                if (s[p] == '<' || s[p] == '>') {
                    if (last) s[last] = 0;
                    d = (s[p] == '<' ? -1 : 1);
                    last = p;
                }else if (s[p]) {
                    ++tmp[s[p] - '0'];
                    if (s[p] == '0') s[p] = 0;
                    else --s[p];
                    last = 0;
                }
                p += d;
                if (p == 4)
                    p = 4;
                if (d == -1 && !ans[p + 1][10]) memcpy(ans[p + 1], tmp, sizeof tmp);
                if (!fir[p][10])
                    memcpy(fir[p], tmp, sizeof tmp);
            }
            if (p == n + 1)
                memcpy(fir[p], tmp, sizeof tmp);
        }
}
int main()
{
    #ifndef ONLINE_JUDGE
    freopen("238D.in","r",stdin);
    freopen("238D.out","w",stdout);
    #endif
    scanf("%d%d",&n,&q);
    scanf("%s",s + 1);
    memcpy(mem, s, sizeof s);
    work();
    if (fir[n + 1][10] == 0) fir[n + 1][10] = 0x3f3f3f3f;
    for (int x,y; q--; ) {
        scanf("%d%d",&x,&y);
        if (ans[x][10] > fir[y + 1][10] || !ans[x][10]) memcpy(tmp, fir[y + 1], sizeof tmp);
        else memcpy(tmp, ans[x], sizeof tmp);
        for (int i = 0; i < 10; ++i) printf("%d%c",tmp[i] - fir[x][i],i == 9 ? '\n' : ' ');
    }
}
