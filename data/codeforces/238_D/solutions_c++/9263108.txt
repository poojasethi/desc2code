#include<bits/stdc++.h>
using namespace std;
int n,q,num[200010][10],tf[2][100010],next[100002],last[100002],now[10],ind;
char s[100010];
void del(int x)
{
	next[last[x]]=next[x];
	last[next[x]]=last[x];
}
int mov(int x,int d){return d?last[x]:next[x];}
void upd(int d,int x)
{
	tf[d][x]=++ind;
	for(int i=0;i<10;i++)
		num[ind][i]=now[i];
}
void run(int x)
{
	int d=0;
	if(tf[d][x]==2333333)upd(d,x);
	while(x&&x<n+1)
	{
		if(isdigit(s[x]))
		{
			now[s[x]-'0']++;
			if(s[x]=='0')
			{
				if(tf[1][x]!=2333333)del(x);
				else s[x]=' ';
			}
			else --s[x];
		}
		else if(s[x]==' '){if(tf[1][x]!=2333333)del(x);}
		else 
		{
			if(s[x]=='>')d=0;
			else d=1;
			int nt=mov(x,d);
			while(s[nt]==' ')nt=mov(nt,d);
			if(s[nt]=='<'||s[nt]=='>')
			{
				if(tf[1][x]!=2333333)del(x);
				else s[x]=' ';
			}
		}
		x=mov(x,d);
		if(tf[d][x]==2333333)upd(d,x);
	}
}
int main()
{
	scanf("%d%d%s",&n,&q,s+1);
	for(int i=0;i<=n+1;i++)
	{
		next[i]=i+1;
		last[i]=i-1;
		tf[1][i]=tf[0][i]=2333333;
	}
	for(int i=1;i<=n;i++)if(2333333==tf[0][i])run(i);
	while(q--)
	{
		int l,r;scanf("%d%d",&l,&r);
		r=min(tf[0][r+1],tf[1][l-1]);
		l=tf[0][l];
		for(int i=0;i<10;i++)
			printf("%d ",num[r][i]-num[l][i]);
		puts("");
	}
}
