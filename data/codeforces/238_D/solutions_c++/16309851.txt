#include<bits/stdc++.h>
using namespace std;

struct unit
{int val[10];
};
struct unit f[1000010];

unit operator +(unit A,unit B)
{int i;
 unit ret;
 for(i=0;i<10;i++) ret.val[i]=A.val[i]+B.val[i];
 return ret;
}

unit operator +(unit A,int x)
{int i;
 unit ret;
 ret=A;
 ret.val[x]++;
 return ret;
}

unit operator -(unit A,unit B)
{int i;
 unit ret;
 for(i=0;i<10;i++) ret.val[i]=A.val[i]-B.val[i];
 return ret;
}

void print(unit A)
{int i;
 for(i=0;i<10;i++)
 {	printf("%d",A.val[i]);
 	printf("%c",i!=9?' ':'\n');
 }
}

int n,m,nq;
int next[100010],pre[100010],l[100010],r[100010];
char a[100010];
vector<int> w[100010];

void del(int i)
{next[pre[i]]=next[i];
 pre[next[i]]=pre[i];
}

void work()
{int i,p1=0,d,p,flag=1;
 
 for(i=1;i<=n;i++) next[i]=i+1,pre[i]=i-1;
 next[0]=1;
 m=1;
 while(flag)
 {	i=p1+1;
 	pre[i]=0;
 	d=1;
 	while(i && i<=n)
 	{	p1=max(p1,i);
	 	if(!l[i]) 
	 	{	l[i]=m;
	 		w[pre[i]].push_back(i);
	 	}
 		while(!w[i].empty())
 		{	r[w[i].back()]=m;
 			w[i].pop_back();
 		}
	 	f[m]=f[m-1];
	 	if(a[i]>=48 && a[i]<=57)
 		{	if(d) p=next[i]; else p=pre[i];
		 	f[m].val[a[i]-48]++;
 			a[i]--;
 			if(a[i]==47) del(i);
 		}
 		else
		{	if(a[i]=='>') 
			{	d=1;
				p=next[i];
			}
			else
			{	d=0;
				p=pre[i];
			}
			if(a[p]=='>' || a[p]=='<') del(i);
		}
		i=p;
		m++;
	}
	while(!w[i].empty())
 	{	r[w[i].back()]=m;
 		w[i].pop_back();
 	}
 	if(i==n+1) 
	{	l[i]=m;
		f[m]=f[m-1];
		flag=0;
	}
 }
}
				
int main()
{int i,j,x,y;
 
 scanf("%d%d",&n,&nq);
 scanf("%s",a+1);
 work();
 for(i=1;i<=nq;i++)
 {	scanf("%d%d",&x,&y);
 	print(f[min(r[x]==0?m:r[x],l[y+1])-1]-f[l[x]-1]);
 }
 return 0;
}