#include <cstdio>
using namespace std;
const int N=100004;
int n,q,f[N],g[N],m,S[N*40][10];
char s[N];
bool b[N];
void push(int k,int x)
{
	m++; if (f[k]>m) f[k]=m;
	if ((b[k+1])&&(g[k]>m)) g[k]=m;
	for (int i=0;i<10;i++) S[m][i]=S[m-1][i]+(x==i);
}
int main()
{
	int i,k; scanf("%d%d%s",&n,&q,s+1);
	for (i=0;i<10;i++) S[0][i]=0;
	for (i=0;i<=n+1;i++) f[i]=g[i]=1e9,b[i]=0;
	for (m=0,i=1;i<=n;i++)
	{
		if (b[i]) continue; k=i;
		for (int d=1,p=0;(k>=i)&&(k<=n);k+=d)
		{
			b[k]=1;
			if ((s[k]>='0')&&(s[k]<='9')) push(k,(s[k]--)-'0'),p=0;
			else
			{
				push(k,-1);
				if (s[k]<'0') continue;
				d=(s[k]=='<')?-1:1;
				if (p) s[p]=0; p=k;
			}
		}
		push(k,-1);
	}
	while (q--)
	{
		int u,v,l,r; scanf("%d%d",&u,&v);
		l=f[u]; r=(g[u-1]<f[v+1])?g[u-1]:f[v+1];
		for (i=0;i<10;i++) printf("%d%c",S[r-1][i]-S[l-1][i],(i==9)?'\n':' ');
	}
	return 0;
}