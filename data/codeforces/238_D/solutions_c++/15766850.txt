#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
using namespace std;

const int MAXN = 101010;

int n, q;
int f[MAXN], g[MAXN];
char s[MAXN];
int sum[MAXN * 40][10];
bool del[MAXN];
int m = 0;

void push(int k, int x)
{
	m++;
	if(f[k] > m)
		f[k] = m;
	if(del[k + 1] && g[k] > m)
		g[k] = m;
	for(int i = 0; i < 10; ++i)
		sum[m][i] = sum[m - 1][i] + (x == i);
}

int main()
{
	ios::sync_with_stdio(false);
	
	//scanf("%d%d", &n, &q);
	cin>>n>>q;
	//scanf("%s", s + 1);
	cin>>(s + 1);
	for(int i = 0; i <= n + 1; ++i)
		f[i] = g[i] = 1010101010;
	int k;
	for(int i = 1; i <= n; ++i)
	{
		if(del[i])
			continue;
		k = i;
		for(int d = 1, p = 0; k >= i && k <= n; k += d)
		{
			del[k] = 1;
			if(s[k] >= '0' && s[k] <= '9')
				push(k, (s[k]--) - '0'), p = 0;
			else
			{
				push(k, -1);
				if(s[k] < '0')
					continue;
				d = (s[k] == '<') ? -1 : 1;
				if(p)
					s[p] = 0;
				p = k;
			}
		}
		push(k, -1);
	}
	//cout<<m<<endl;
	int st, ed, l, r;
	for(int test = 1; test <= q; ++test)
	{
		//scanf("%d%d", &st, &ed);
		cin>>st>>ed;
		l = f[st];
		r = min(g[st - 1] , f[ed + 1]);
		for(int i = 0; i < 10; ++i)
			//printf("%d ", sum[r - 1][i] - sum[l - 1][i]);
			cout<<(sum[r - 1][i] - sum[l - 1][i])<<" ";
		//printf("\n");
		cout<<endl;
	}
		
	return 0;
}
