(n, d) = raw_input().split(' ')
n = int(n)
d = int(d)

m = []
r = []
for i in range(n):
    s = raw_input().split(' ')
    s[2] = int(s[2])

    for j in range(i):
        if m[j][0] == s[1] and m[j][1] == s[0] and 0 < s[2] - m[j][2] <= d:
            if not (s[0], s[1]) in r and not (s[1], s[0]) in r:
                r.append((s[0], s[1]))

    m.append(s)

print len(r)
for e in r:
    print e[0], e[1]
