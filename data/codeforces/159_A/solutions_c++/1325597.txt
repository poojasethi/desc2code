#include<iostream>
using namespace std;

int main()
{
int n,d;
cin>>n>>d;
string *A=new string[n];
string *B=new string[n];
string *REZA=new string[n];
string *REZB=new string[n];
unsigned int *t=new unsigned int[n];

int rez=0;
 for (int i=0;i<n;++i)
{
cin>>A[i]>>B[i]>>t[i];
     for (int j=0;j<i;++j)
         if((A[i]==B[j])&&(B[i]==A[j])&&(t[i]-t[j]<=d)&&(t[i]!=t[j]))
   {
   bool b=true;
         for (int k=0;k<rez;++k)      
          if((A[i]==REZA[k]&&B[i]==REZB[k])||(A[i]==REZB[k]&&B[i]==REZA[k]))
          b=false;   
   if(b){REZA[rez]=A[i];REZB[rez++]=B[i];}
   }
}

cout<<rez;

for (int i=0;i<rez;++i)
{
cout<<endl;
cout<<REZA[i]<<" "<<REZB[i];
}

return 0;
}