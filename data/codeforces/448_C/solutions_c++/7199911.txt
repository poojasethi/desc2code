#include <iostream>
using namespace std;
int n,ans,a[5005];
int rec(int l,int r,int h)
{if (l>r) return 0;
 int i0=l,m=a[l];
 for (int i=i0+1;i<=r;i++)
  if (a[i]<m) {m=a[i];i0=i;}
return min(r-l+1,rec(l,i0-1,m)+rec(i0+1,r,m)+m-h);
}
int main()
{int n; cin>>n;
for (int i=1;i<=n;i++) cin>>a[i];
cout<<rec(1,n,0);
return 0;
}
