#include<iostream>
#include<algorithm>

using namespace std ;

const int maxn=5005 ;
int a[maxn] ;
int n , i ;

int f(int l , int r , int i)
{
	if(l>r)
		return 0 ;
	int m=min_element(a+l,a+r+1)-a ;
	return min(r-l+1,f(l,m-1,a[m])+f(m+1,r,a[m])+a[m]-i) ;
}

int main()
{
	cin >> n ;
	for(i=1 ; i<=n ; i++)
		cin >> a[i] ;
	cout << f(1,n,0) ;
	return 0 ;
}
