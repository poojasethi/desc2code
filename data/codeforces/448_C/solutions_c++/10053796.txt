#include<iostream>
#include<string>
#include<algorithm>
#include<stdio.h>
using namespace std;

long long n,i,j,a[1000000];

long long rec(long long l,long long r,long long t){
	if(l==r)return 0;
	long long i,o,mi=1000000000000,mj=0;
	for(i=l;i<r;i++)if(a[i]<mi){
		mj=i;
		mi=a[i];
	}
	return min(rec(l,mj,mi)+rec(mj+1,r,mi)+(mi-t),r-l);
}
int main(){
	cin>>n;
	for(i=0;i<n;i++)cin>>a[i];
	cout<<rec(0,n,0);
}