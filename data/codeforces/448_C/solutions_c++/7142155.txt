#include <iostream>
using namespace std;
int paint(int a[], int beg, int end, int h)
{
    int i,w=beg;
    if(beg>end)    return 0;
    if(beg==end)    return (a[beg] > h);
    for(i=beg;i<=end;i++)
        if(a[i] < a[w])    w=i;
    return min(end-beg+1,a[w]-h+paint(a,beg,w-1,a[w])+paint(a,w+1,end,a[w]));
}
int main()
{
    int n,a[5010],i;
    cin>>n;
    for(i=0;i<n;i++) cin>>a[i];
    cout<<paint(a,0,n-1,0)<<endl;
    return 0;
}