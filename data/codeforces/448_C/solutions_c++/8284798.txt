//greedy
//min_element return the pos of mini
#include<iostream>
#include<algorithm>
using namespace std;
const int N=6000;
int a[N];
int f(int st,int ed,int h)
{
	if(st>ed)return 0;
	int p=min_element(a+st,a+ed+1)-a;
	return min(ed-st+1,f(st,p-1,a[p])+f(p+1,ed,a[p])+a[p]-h);
}
int main()
{
	int n;
	cin>>n;
	for(int i=1;i<=n;++i)cin>>a[i];
	cout<<f(1,n,0)<<endl;
	return 0;
}