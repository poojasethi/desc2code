#include<bits/stdc++.h>
using namespace std;
int n;
int a[5050];

int brush(int l,int r,int h)
{
   if (l>r) return 0;
   a[0] = 1000000007;
   int j = 0;
   for (int i=l; i<=r; i++)
        if (a[i]<a[j]) j=i;
   return min(r-l+1,brush(l,j-1,a[j])+brush(j+1,r,a[j])+a[j]-h);
}

int main()
{
    cin>>n;
    for (int i=1; i<=n; i++)
         cin>>a[i];

    cout<<brush(1,n,0);
    return 0;
}

