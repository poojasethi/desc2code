#include<bits/stdc++.h>
using namespace std;
int A[5001];
int F(int i , int j , int sum)
{
    if(j<i)
        return 0;
    int m=min_element(A+i,A+j+1)-A;
    return min(j-i+1,F(i,m-1,A[m])+F(m+1,j,A[m])+A[m]-sum);
}
int main()
{
ios::sync_with_stdio(0);
    int N,i;
    cin>>N;
    for(i=1;i<=N;++i)
    cin>>A[i];
    cout<<F(1,N,0);

    return 0;
}
