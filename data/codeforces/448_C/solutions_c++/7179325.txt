#include <stdio.h>
int min(int a, int b){
	return a < b ? a : b;
}
const int maxn = 5001;
int a[maxn];
int solve(int l, int r, int h){
	if(l == r) return 0;
	int i, j = l;
	for(i = l; i < r; i ++) if(a[i] < a[j]) j = i;
	return min(r - l, solve(l, j, a[j]) + solve(j + 1, r, a[j]) + a[j] - h);
}
int main(){
	int n,i;
	scanf("%i",&n);
	for(i = 0; i < n; i ++) scanf("%i",a + i);
	printf("%i",solve(0, n, 0));
	return 0;
}