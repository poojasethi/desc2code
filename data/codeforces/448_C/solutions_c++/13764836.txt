#include<bits/stdc++.h>
using namespace std;
#define ll long long
int a[5005];
int find(int l,int r,int h){
    if(l>=r) return 0;
    int m=l;
    for(int i=l;i<r;i++) if(a[i]<a[m]) m=i;
    return min(r-l,find(l,m,a[m])+find(m+1,r,a[m])+a[m]-h);
}
int main(){
    int n;
    cin>>n;
    for(int i=0;i<n;i++){
        cin>>a[i];
    }
    cout<<find(0,n,0)<<endl;
}