#include<cstdio>
#include<algorithm>
using namespace std;
int n,a[5001];
int w(int l,int r,int k){
  if(l > r) return 0;
  int sv = l;
  for(int i=l;i<=r;i++)
    if(a[sv] > a[i] ) sv = i;
  return min(r-l+1,w(l,sv-1,a[sv])+w(sv+1,r,a[sv])+a[sv]-k);
}
int main(){
  scanf("%d",&n);
  for(int i=1;i<=n;i++) scanf("%d",&a[i]);
  printf("%d",w(1,n,0));

}
