#include <stdio.h>

int M[5010],n;

int min(int a, int b) { return a<b?a:b; }
int func(int l, int r, int k)
{
	if (l>r) { return 0; }

	int min_v=2e9, min_i;
	for (int i=l; i<=r; i++) {
		if (M[i] < min_v) { min_v = M[i], min_i=i; }
	}

	return min(r-l+1, func(l,min_i-1,min_v) + func(min_i+1,r,min_v) + (min_v-k));
}

int main()
{
	scanf("%d",&n);
	for (int i=1; i<=n; i++) {
		scanf("%d",M+i);
	}
	printf("%d\n", func(1,n,0));
}