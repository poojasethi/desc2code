#include <bits/stdc++.h>
using namespace std;

int a[5005],n;

int f(int l,int r,int w){

	if(l>r)
		return 0;
	int min1 = INT_MAX,j=l;
	for(int i=l;i<=r;i++)
		if(a[i]<min1){
			min1 = a[i];
			j = i;
		}

	return min(r-l+1,f(l,j-1,a[j])+f(j+1,r,a[j])-w+a[j]);

}

int main(){

	cin >> n;
	for(int i=0;i<n;i++)
		cin >> a[i];
		
	cout << f(0,n-1,0) << endl;
	return 0;
}