# include <bits/stdc++.h>
# define fi cin
# define fo cout
using namespace std;
int S[5005];
int go(int p,int u,int h)
{
    if (u<p) return 0;
    int m=min_element(S+p,S+u+1)-S;
    return min(u-p+1,go(p,m-1,S[m])+go(m+1,u,S[m])+S[m]-h);
}
int main(void)
{
    int n;
    fi>>n;
    for (int i = 1;i <= n;++ i) fi>>S[i];
    fo<<go(1,n,0)<<'\n';
    return 0;
}

