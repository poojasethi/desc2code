#include <bits/stdc++.h>
using namespace std;
int a[100005],n;
int fun(int f,int t) {
	if(f==t)
		return 1;
	int mi = 2000000000,i,j,wo=0;
	for(i=f;i<=t;i++)
		mi=min(a[i],mi);
	for(i=f;i<=t;i++) {
		a[i]-=mi;
		if(a[i]) {
			j = i;
			while(a[i] && i<=t) {
				i++;
				a[i] -= mi;
			}
			wo += fun(j,i-1);
		}
	}
	return min(t-f+1,mi+wo);
}
int main() {
	int i,j,k,l,m;
	cin>>n;
	for(i=0;i<n;i++)
		cin>>a[i];
	cout<<fun(0,n-1);
	return 0;
}
