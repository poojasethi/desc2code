#include<bits/stdc++.h>
using namespace std;
int a[5005];
int paint(int beg,int end,int y)
{
    if(beg>end) return 0;
    int m=min_element(a+beg,a+end+1)-a;

    return min(end-beg+1,paint(beg,m-1,a[m])+paint(m+1,end,a[m])+a[m]-y);
}
int main()
{
    long long r;
    int n,i;
    cin >> n;
    for(i=1;i<=n;i++)
    cin>>a[i];
    r=paint(1,n,0);
    cout<<r;
}
