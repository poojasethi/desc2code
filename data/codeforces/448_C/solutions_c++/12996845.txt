#include <bits/stdc++.h>
using namespace std;
typedef long long LL;

int a[5005];

int dfs(int l,int r,int d)
{
    if(l>r)return 0;
    int mid = min_element(a+l,a+r+1)-a;
    return min(r-l+1,dfs(l,mid-1,a[mid])+dfs(mid+1,r,a[mid])+a[mid]-d);
}
int main()
{
    int n;
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
    scanf("%d",&a[i]);
    printf("%d\n",dfs(1,n,0));
    return 0;
}
