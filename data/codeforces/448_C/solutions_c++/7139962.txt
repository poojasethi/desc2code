#include <iostream>
#include <algorithm>

using namespace std;

int n, a[5005];

int cc(int l, int r, int h) {
	if (l > r) return 0;
	if (l == r) return (a[l] > h);
	int id = l;
	for (int i = l; i <= r; ++i) {
		if (a[i] < a[id])
			id = i;
	}
	return min(r-l+1, a[id] - h + cc(l, id-1, a[id]) + cc(id+1, r, a[id]));	
}


int main() {
	cin >> n;
	for (int i = 0; i < n; ++i)
		cin >> a[i];

	cout << cc(0, n-1, 0) << endl;
	return 0;
}
