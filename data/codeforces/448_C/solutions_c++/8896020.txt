#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int num[5005];
int slove(int s,int e,int y){
	if(s>e)	return 0;
	int m = min_element(num+s,num+e+1)-num;
	int ans1=slove(s,m-1,num[m]);
	int ans2=slove(m+1,e,num[m]);
	return min(e-s+1,ans1+ans2+num[m]-y);
}

int main(void){
	int n;
	scanf("%d",&n);
	for(int i=0;i<n;i++)	scanf("%d",&num[i]);
	printf("%d\n",slove(0,n-1,0));
	return 0;
}