#include <iostream>
#include <algorithm>
using namespace std;

int n,ans,a[5005];
int rec(int l,int r,int h){
  if (l>r) return 0;
  int tmp=l,m=a[l];
  for (int i=tmp+1;i<=r;i++)
    if (a[i]<m) {m=a[i];tmp=i;}
  return min(r-l+1,rec(l,tmp-1,m)+rec(tmp+1,r,m)+m-h);
}

int main(){
  int n; cin>>n;
  for (int i=1;i<=n;i++) cin>>a[i];
  cout<<rec(1,n,0);
  return 0;
}
