#include<bits/stdc++.h>
using namespace std;
int  n,i,a[5005];
int dp (int x,int y,int u)
{
    if (x>y) return 0;
    int m=min_element(a+x,a+y+1)-a;
    return min(y-x+1,dp(x,m-1,a[m])+dp(m+1,y,a[m])+a[m]-u);
}
main()
{
    scanf("%d",&n);
    for (i=1;i<=n;i++) scanf("%d",&a[i]);
    cout<<dp(1,n,0);
}
