#include <cstdio>
#include <iostream>
using namespace std;
const int N = 100005;

int a[N], n;

int f (int l, int r, int h) {
	if (l > r) return 0;
	if (l == r) return (a[l] > h);
	int id = l;
	for (int i = l; i <= r; i++) if (a[i] < a[id]) id = i;
	return min (r - l + 1, a[id] - h + f(l, id - 1, a[id]) + f(id + 1, r, a[id]));
}

int main () {
	cin >> n;
	for (int i = 1; i <= n; i++) cin >> a[i];
	cout << f (1, n, 0);
}