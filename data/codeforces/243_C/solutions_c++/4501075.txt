#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <iostream>
#include <ctime>
#include <cmath>
#include <algorithm>
#define LL long long
using namespace std;
bool stt;
LL N,x,y,xx,yy,ans;
LL fx[4]={0,1,0,-1};
LL fy[4]={1,0,-1,0};
LL L[4002];
bool b[4002][4002];
LL num[500];
char ch;
LL t,l,r,len,tot,Smax,res;
LL ll=100000;
LL q[100000][2];
class rec{public:int x,y,xx,yy;}P[4002];
bool enn;
LL find(LL x){
    LL l=1,r=tot;
    for (;l<r;){
        LL mid=(l+r)/2;
        if (x>L[mid])l=mid+1;
        else r=mid;
    }
    return l;
}
int main(){
    scanf("%I64d\n",&N);
    num['U']=0;
    num['D']=2;
    num['R']=1;
    num['L']=3;
    L[++len]=-2e9;
    L[++len]=2e9;
    L[++len]=0;
    L[++len]=1;
    for (LL i=1;i<=N;i++){
        scanf("%c",&ch);
        scanf("%I64d\n",&t);
        xx=x+fx[num[ch]]*t;
        yy=y+fy[num[ch]]*t;
        P[i].x=x;P[i].xx=xx;
        P[i].y=y;P[i].yy=yy;
        L[++len]=xx;
        L[++len]=yy;
        L[++len]=xx+1;
        L[++len]=yy+1;
        x=xx;y=yy;
    }
    sort(L+1,L+len+1);
    tot=1;for (LL i=2;i<=len;i++)if (L[i]!=L[tot])L[++tot]=L[i];
    for (LL i=1;i<=N;i++){
        P[i].x=find(P[i].x);P[i].xx=find(P[i].xx);
        P[i].y=find(P[i].y);P[i].yy=find(P[i].yy);
        for (LL sx=min(P[i].x,P[i].xx);sx<=max(P[i].x,P[i].xx);sx++)
        for (LL sy=min(P[i].y,P[i].yy);sy<=max(P[i].y,P[i].yy);sy++)
        b[sx][sy]=true;
    }
    Smax=2e9*2e9;
    l=1;b[1][1]=true;
    res=(L[2]-L[1])*(L[2]-L[1]);
    q[++r][0]=1;q[r][1]=1;
    for (;l!=r+1;l++){
        if (l>=ll)l-=ll;
        LL x=q[l][0],y=q[l][1];
        for (LL i=0;i<4;i++){
            LL xx=x+fx[i];
            LL yy=y+fy[i];
            if (xx>=0&&yy>=0&&xx<tot&&yy<tot)
            if (!b[xx][yy]){
                r=r+1;
                if (r>=ll)r-=ll;
                q[r][0]=xx;
                q[r][1]=yy;
                b[xx][yy]=true;
                res=res+(L[xx+1]-L[xx])*(L[yy+1]-L[yy]);
            }
        }
    }
    printf("%I64d",Smax-res);
}