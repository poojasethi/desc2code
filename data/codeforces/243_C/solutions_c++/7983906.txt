#include <bits/stdc++.h>
using namespace std;
#define rep(i,a,n) for (int i=a;i<n;i++)
#define per(i,a,n) for (int i=n-1;i>=a;i--)
#define pb push_back
#define mp make_pair
#define all(x) (x).begin(),(x).end()
#define SZ(x) ((int)(x).size())
#define fi first
#define se second
typedef vector<int> VI;
typedef long long ll;
typedef pair<int,int> PII;
const ll mod=1000000007;
ll powmod(ll a,ll b) {ll res=1;a%=mod;for(;b;b>>=1){if(b&1)res=res*a%mod;a=a*a%mod;}return res;}
// head

const int inf=1000000001;
const int N=2010;
VI vx,vy;
PII recx[N],recy[N],q[N*N];
ll lx[N],ly[N],S;
bool bd[N][N];
int n,m,t;
char d[N];
void add(int px,int py,int qx,int qy,int id) {
	if (px>qx) swap(px,qx); if (py>qy) swap(py,qy);
	++qx, ++qy;
	recx[id]=mp(px,qx); recy[id]=mp(py,qy);
	vx.pb(px); vy.pb(py); vx.pb(qx); vy.pb(qy);
}
void add(int x,int y) {
	if (x>=0&&x<n&&y>=0&&y<m&&!bd[x][y])
		S-=lx[x]*ly[y],bd[x][y]=1,q[t++]=mp(x,y);
}
int main() {
	scanf("%d",&n);
	int x=0,y=0;
	vx.pb(-inf); vx.pb(inf);
	vy.pb(-inf); vy.pb(inf);
	rep(i,0,n) {
		scanf("%s%d",d,&m);
		if (d[0]=='R') add(x,y,x+m,y,i),x+=m;
		else if (d[0]=='L') add(x,y,x-m,y,i),x-=m;
		else if (d[0]=='U') add(x,y,x,y+m,i),y+=m;
		else add(x,y,x,y-m,i),y-=m;
	}
	sort(all(vx)); vx.erase(unique(all(vx)),vx.end());
	sort(all(vy)); vy.erase(unique(all(vy)),vy.end());
	rep(i,0,SZ(vx)-1) lx[i]=vx[i+1]-vx[i];
	rep(i,0,SZ(vy)-1) ly[i]=vy[i+1]-vy[i];
	rep(i,0,n) {
		int px=lower_bound(all(vx),recx[i].fi)-vx.begin(),qx=lower_bound(all(vx),recx[i].se)-vx.begin();
		int py=lower_bound(all(vy),recy[i].fi)-vy.begin(),qy=lower_bound(all(vy),recy[i].se)-vy.begin();
		rep(rx,px,qx) rep(ry,py,qy) bd[rx][ry]=1;
	}
	n=SZ(vx)-1; m=SZ(vy)-1;
	S=4ll*inf*inf;
	rep(i,0,n) add(i,0),add(i,m-1);
	rep(i,0,m) add(0,i),add(n-1,i);
	rep(i,0,t) {
		int px=q[i].fi,py=q[i].se;
		add(px-1,py); add(px+1,py); add(px,py-1); add(px,py+1);
	}
	printf("%I64d\n",S);
}
