#include<stdio.h>
#include<algorithm>
#include<vector>
#include<utility>
using namespace std;
int main(void)
 {
  long i,i1,i2,j,n,h[100001],q;
  pair <long,long> a[100001],k;
  vector <pair <long,long> > C;
  scanf("%ld", &n);
  for(i=1;i<=n;i++) { scanf("%ld", &a[i].first); a[i].second=i; h[i]=a[i].first;}
  sort(a+1,a+n+1);
  for(i=1;i<=n;i++)
   {
	j=i;
	while((j<n)&&(a[j+1].first==a[i].first)) j++;
	for(i1=i;i1<j;i1++)
	 for(i2=i1+1;i2<=j;i2++) {
	  k.first=a[i2].second-a[i1].second;
	  k.second=a[i1].second;
	  C.push_back(k); }
	i=j; 
   }
  sort(C.begin(),C.end());
  q=1;
  for(i=0;i<C.size();i++)
   {
	if(C[i].second<q) continue;
	if(C[i].first*2+C[i].second-1 > n) continue;
	if((i+C[i].first-1 >= C.size())||(C[i+C[i].first-1].first!=C[i].first)||(C[i+C[i].first-1].second!=C[i].second+C[i].first-1)) 
	 continue;
	q=C[i].first+C[i].second;
   }
  printf("%ld\n", n-q+1);
  for(i=q;i<=n;i++) printf("%ld ", h[i]);
  return 0;
 }