#include <bits/stdc++.h>
using namespace std;
typedef pair < int, int > ii;
typedef long long ll;

const int N = 1e5 + 5;

int n;
int a[N];
vector < int > dis[N];
map < int, vector < int > > vs;

int main() {
	scanf("%d", &n);
	for(int i = 1; i <= n; i++) {

		scanf("%d", a + i);

	}

	for(int i = n; i >= 1; i--) {
		for(int j = 0; j < vs[a[i]].size(); j++) {

			int x = vs[a[i]][j];
			dis[x - i].push_back(i);

		}
		vs[a[i]].push_back(i);
	}

	for(int i = 1; i < n; i++)
		reverse(dis[i].begin(), dis[i].end());

	int del = 1;

	for(int i = 1; i < n; i++) {
		for(int j = 0; j < dis[i].size(); j++) {

			int x = dis[i][j];
			if(x < del)
				continue;
			int ptr = j;
			while(ptr + 1 < dis[i].size() and dis[i][ptr + 1] - dis[i][ptr] == 1)
				ptr++;
			if(ptr - j + 1 >= i) {
				del = x + i;
			}
			j += i- 1;

		}
	}

	printf("%d\n", n - del + 1);

	for(int i = del; i <= n; i++)
		printf("%d ", a[i]);

	puts("");

	return 0;
}
