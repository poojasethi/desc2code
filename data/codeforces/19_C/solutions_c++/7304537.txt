#include <cstdio>
#include <iostream>
#include <algorithm>
#include <cstring>
#include <map>
#define maxn 200005
using namespace std;

typedef unsigned long long ull;

ull H[maxn],xp[maxn];
const int x=123;
int str[maxn];

ull Hash(int a,int len)
{
    return H[a]-H[a+len]*xp[len];
}
void hash_init(int n)
{
    H[n]=0;
    for(int i=n-1;i>=0;i--)H[i]=H[i+1]*x+str[i];
    xp[0]=1;
    for(int i=1;i<=n;i++)xp[i]=xp[i-1]*x;
}
int l[maxn];
map<int,int>mp;
int main()
{
    int n;
    scanf("%d",&n);
    for(int i=0;i<n;i++)
    {
        scanf("%d",&str[i]);
        l[i]=-1;
    }
    hash_init(n);
    int rest=0;
    for(int i=0;i<n;i++)
    {
        if(!mp[str[i]])
        {
            mp[str[i]]=i+1;
        }
        else
        {
            int st=mp[str[i]]-1;
            while(st>=rest)
            {
                if(Hash(st,i-st)==Hash(i,i-st))
                {
                    rest=i;
                }
                else {
                    st=l[st];
                }
            }
            l[i]=mp[str[i]]-1;
            mp[str[i]]=i+1;
        }
    }

    printf("%d\n",n-rest);
    for(int i=rest;i<n;i++)
        printf("%d ",str[i]);
    puts("");
    return 0;
}

/*
12
1 1 1 1 7 8 1 1 1 1 7 8
*/
