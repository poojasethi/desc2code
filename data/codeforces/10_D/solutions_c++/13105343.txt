#include<bits/stdc++.h>
using namespace std;
int a,b,A[510],B[510],dp[510],last,prev[510],cur;
void print(int i)
{
   // cout<<i<<" ty "<<endl;;
    if(prev[i]==0)
    {
        cout<<B[i]<<" ";
        return;
    }
    else
    {
        print(prev[i]);
        cout<<B[i]<<" ";
    }
}
int main()
{
    cin>>a;
    for(int i=1; i<=a; i++)cin>>A[i];
    cin>>b;
    for(int i=1; i<=b; i++)cin>>B[i];
    for(int i=1; i<=a; i++)
    {
        last=0,cur=0;
        for(int j=1; j<=b; j++)
        {
            if(A[i]==B[j]&&cur+1>dp[j])dp[j]=cur+1,prev[j]=last;
            if(A[i]>B[j]&&cur<dp[j])cur=dp[j],last=j;
        }
    }
    int ans=0,l=0;
    for(int i=1; i<=b; i++)if(dp[i]>ans)ans=dp[i],l=i;
    cout<<ans<<endl;
    //cout<<l<<" wdqwd "<<endl;
    if(ans)print(l);
}
/*
7
2 3 1 6 5 4 6
4
1 3 5 6

*/
