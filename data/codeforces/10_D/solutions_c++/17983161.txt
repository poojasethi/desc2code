#include<stdio.h>
int tab[505][505]={0},arr1[505]={0},arr2[505]={0},frm[505]={0},Maxev=0,sts,n,i,m,j,k,Max,fr;
void pst(int k)
{
    if(k==0) return;
    if(frm[k]!=0) pst(frm[k]);
    printf("%d ",arr1[k]);
}
int main()
{
  scanf("%d",&n);
  for(i=1;i<=n;i++) scanf("%d",&arr1[i]);
  scanf("%d",&m);
  for(i=1;i<=m;i++) scanf("%d",&arr2[i]);
  for(i=1;i<=n;i++)
  {
    for(j=1;j<=m;j++)
    {
      if(arr1[i]!=arr2[j]) tab[i][j]=tab[i][j-1];
      else
      {
      Max=0;
      fr=0;
      for(k=1;k<i;k++)
      {
        if(tab[k][j-1]>Max&&arr1[k]<arr1[i])
        {
          Max=tab[k][j-1];
          fr=k;
        }
      }
      tab[i][j]=Max+1;
      if(tab[i][j]>Maxev) {Maxev=tab[i][j]; sts=i;}
      frm[i]=fr;
      }
    }
  }
  printf("%d\n",Maxev);
  pst(sts);
return 0;
}
