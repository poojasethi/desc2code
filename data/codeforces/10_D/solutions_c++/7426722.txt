#include <cstdio>
using namespace std;
int a[502],b[502],f[502],F[502],S[502];
int n,m;
int main()
{
	scanf("%d",&n);
	for (int i=1;i<=n;i++) scanf("%d",a+i);
	scanf("%d",&m);
	for (int i=1;i<=m;i++) scanf("%d",b+i);
	for (int i=1,k;i<=n;i++)
	{
		k=0;
		for (int j=1;j<=m;j++)
		{
			if (a[i]==b[j])
			{
				if (f[j]<f[k]+1) f[j]=f[k]+1,F[j]=k;
			}
			if (a[i]>b[j])
			{
				if (f[k]<f[j]) k=j;
			}
		}
	}
	int Pos=0;
	for (int i=1;i<=m;i++)
		if (f[i]>f[Pos]) Pos=i;
	printf("%d\n",f[Pos]);
	if (!f[Pos])
	{
		return 0;
	}
	S[0]=f[Pos];
	int Cnt=S[0];
	while (Pos)
	{
		S[Cnt--]=b[Pos];
		Pos=F[Pos];
	}
	for (int i=1;i<S[0];i++) printf("%d ",S[i]);
	printf("%d\n",S[S[0]]);
	return 0;
}
