#include<bits/stdc++.h>
using namespace std;

int N,M;
int A[5010],B[5010];
short P[5010],F[5010];
vector<short>ans;

int main(){
	int i,j,nw,ls,maxx=-1,it;
	memset(P,-1,sizeof(P));
	cin>>N;
	for(i=0;i<N;i++){
		cin>>A[i];
	}
	cin>>M;
	for(i=0;i<M;i++){
		cin>>B[i];
	}
	
	for(i=0;i<N;i++){
		nw=0;
		ls=-1;
		for(j=0;j<M;j++){
			if(A[i]==B[j]&&nw>=F[j]){
				F[j]=nw+1;
				P[j]=ls;
			}else if(A[i]>B[j]&&nw<F[j]){
				nw=F[j];
				ls=j;
			}
		}
	}
	
	for(i=0;i<M;i++){
		if(F[i]>maxx){
			it=i;
			maxx=F[i];
		}
	}
	
	cout<<maxx<<endl;
	
	if(maxx>0){
	while(it!=-1){
		ans.push_back(it);
		it=P[it];
	}
	
	for(i=ans.size()-1;i>=0;i--){
		cout<<B[ans[i]];
		if(i>0)cout<<" ";
	}
	}
	cout<<endl;
}