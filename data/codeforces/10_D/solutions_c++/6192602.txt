#include <cstdio>
#include <iostream>
#include <vector>
using namespace std;
const int nmax=505;
int m,n,f[nmax][nmax],a[nmax],b[nmax];

int main(){
	//freopen("input.inp","r",stdin);
	ios::sync_with_stdio(false);
	cin>>m;
	for(int i=1;i<=m;i++){
		cin>> a[i];
		f[i][0]=0;
	}
	cin>>n;
	int ans=0,imax,jmax;
	for(int i=1;i<=n;i++) cin>> b[i];
	for(int i=1;i<=m;i++)
		for(int j=1;j<=n;j++){
			if(a[i]!=b[j]) f[i][j]=f[i][j-1];
			else {
				f[i][j]=1;
				for(int k=1;k<i;k++) if(a[k]<a[i]) f[i][j]=max(f[i][j],f[k][j-1]+1);
			}
			if(f[i][j]>ans){
				ans=f[i][j];
				imax=i;
				jmax=j;
			}
		}
	cout<<ans<<endl;
	if(ans==0)return 0;
	vector<int> an;
	while(f[imax][jmax]>1){
		if(a[imax]!=b[jmax]){jmax--;continue;}
		an.push_back(a[imax]);
		for(int i=1;i<imax;i++) if(a[i]<a[imax]&&f[i][jmax-1]==f[imax][jmax]-1){
			imax=i;
			jmax--;
			break;
		}
	}
	an.push_back(a[imax]);
	for(int i=ans-1;i>=0;i--) cout<<an[i]<<' ';
}
