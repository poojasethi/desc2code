#include<stdio.h>
//#include<conio.h>
using namespace std;
int x[501],y[501],n,m,z[501],l=0,max=0,t[501][501],p=500;
int f(int a,int b);
int main()
{
    int i,j,k;
    scanf("%d",&n);
    for(i=1; i<=n; i++) scanf("%d",&x[i]);
    scanf("%d",&m);
    for(i=1; i<=m; i++) scanf("%d",&y[i]);

    for(i=1; i<=n; i++)
    for(j=1; j<=m; j++)
    if(x[i]==y[j]){t[i][j]+=f(i,j);if(max<t[i][j]) max=t[i][j];} else t[i][j]=t[i][j-1];

    for(i=n; i>=1; i--)
    if(max==t[i][m]) k=i;

    if(max==0){printf("0"); return 0;}
    printf("%d\n",max);

    z[p]=x[k]; max--;

    for(j=k-1; j>=1; j--)
    if(x[j]<z[p] && max==t[j][m] && max>0){z[--p]=x[j];max--;}

    for(i=p; i<=500; i++)
    printf("%d ",z[i]);
 //  getch();
return 0;
}
//-----------------
int f(int a,int b)
{
    int i,j,k=0;
    for(i=a-1; i>=1; i--)
    if(t[i][b]>k && x[a]>x[i])k=t[i][b];
return k+1;
}
