#include<iostream>
#include<cstdio>
using namespace std;
#define N 505
#define x first
#define y second
int a[N],b[N],f[N][N],ans,n,m;
pair<int,int> p[N][N];

void output(int x,int y)
{
	if (!x||!y) return;
	output(p[x][y].x,p[x][y].y);
	if (a[x]==b[y]) printf("%d ",a[x]);
}

int main()
{
	cin>>n;
	for (int i=1; i<=n; i++) cin>>a[i];
	cin>>m;
	for (int j=1; j<=m; j++) cin>>b[j];
	for (int i=1; i<=n; i++)
		for (int j=1,x=0; j<=m; j++)
		{
			if (a[i]>b[j]&&f[i-1][j]>f[i-1][x]) x=j;
			if (a[i]!=b[j]) f[i][j]=f[i-1][j],p[i][j]=make_pair(i-1,j);
			else f[i][j]=f[i-1][x]+1,p[i][j]=make_pair(i-1,x);
		}
	for (int j=1; j<=m; j++) ans=max(ans,f[n][j]);
	printf("%d\n",ans);
	for (int j=1; j<=m; j++) 
		if (f[n][j]==ans)
		{
			output(n,j);
			break;
		}
}