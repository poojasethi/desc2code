#include<bits/stdc++.h>

#define FOR(a,b,c) for(int a=b;a<=c;a++)
#define ROF(a,b,c) for(int a=b;a>=c;a--)
#define inf 2000000000
#define f first
#define s second
#define ll long long
#define pii pair<int,int>
using namespace std;

int N,M;
int A[505],B[505];
int dp[505],yaz[505];

void Solve(int t,int sum){
	if(!t) {printf("%d\n",sum); return ;}
	Solve(yaz[t] , sum+1);
	printf("%d ",B[t]);
}

int main()
{
	int mx,ind;
	scanf("%d",&N);
	
	FOR(i,1,N)
		scanf("%d",&A[i]);
	
	scanf("%d",&M);
	
	FOR(i,1,M)
		scanf("%d",&B[i]);

	FOR(i,1,N)
	{
		mx = ind = 0;
		FOR(j,1,M)
			if(A[i] == B[j] && mx+1 > dp[j])
			{
				dp[j] = mx+1;
				yaz[j] = ind;
			}
			else if(A[i] > B[j] && dp[j] > mx)
			{
				mx = dp[j];
				ind = j;
			}
	}
	mx = 0;
	FOR(i,1,M)
	{
		if(dp[i] > mx)
		{
			mx = dp[i] ; 
			ind = i;
		}
	}
	if(mx)
		Solve(ind,0);
	else 
		cout << 0 << endl;

	return 0;
}
