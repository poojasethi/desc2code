#include<bits/stdc++.h>

using namespace std;

int M[2][502][502],A[502],B[502],m,n,i,j,p;

unsigned char H[502][502][502];

int main(){

	cin >> m;  for(i=1;i<=m;i++) cin >> A[i];

	cin >> n;  for(i=1;i<=n;i++) cin >> B[i];

	memset(M , A[0] = -1 , sizeof M);

	for(i=m+1; i ;i--)
		for(j=n+1; j ;j--)
			for(p=m; p>=0 ;p--){

				int &r = M[i&1][j][p];

				if(i == m + 1 || j == n + 1){
					r = 0;
					continue;
				}

				if(A[i] == B[j] && A[i] > A[p] && M[(i+1)&1][j+1][i] + 1 > max( M[(i+1)&1][j][p] , M[i&1][j+1][p] )){
					H[i][j][p] = 1;
					r = M[(i+1)&1][j+1][i] + 1;
				}

				else if( M[(i+1)&1][j][p] > M[i&1][j+1][p] ){
					H[i][j][p] = 2;
					r = M[(i+1)&1][j][p];
				}

				else r = M[i&1][j+1][p];
			}

	cout << M[1][1][p = 0] << endl;
	
	for(i=j=1;i <= m && j <= n;){
		if(H[i][j][p] == 1){
			cout << A[i] << " ";
			p = i++; j++;
		}
		else if(H[i][j][p]) i++;
		else                j++;
	}	

	return 0;
}
