#!/usr/bin/python

import fileinput

lines =[ line for line in fileinput.input() ]

n = int(lines[0])
a = map(int, lines[1].split(" "))
m = int(lines[2])
b = map(int, lines[3].split(" "))

f = [ [0 for j in range(0, m)] for i in range(0, n) ]
p = [ -1 for i in range(0, m) ] 

for j in range(0, m):
    f[0][j] = 1 if a[0] == b[j] else 0

for i in range(1, n):
    idx = -1
    lastmax = 0
    for j in range(0, m):
        if a[i] != b[j]:
            f[i][j] = f[i - 1][j]
            if a[i] > b[j] and f[i - 1][j] > lastmax:
                lastmax = f[i - 1][j]
                idx = j
        else:
            if idx == -1:
                f[i][j] = 1
                p[j] = -1
            else:
                f[i][j] = f[i - 1][idx] + 1
                p[j] = idx

result = 0
ptr = -1
for j in range(0, m):
    if result < f[n - 1][j]:
        result = f[n - 1][j]
        ptr = j

print result

arr = [ 0 for i in range(0, result) ]
while ptr > -1:
    result -= 1
    arr[result] = b[ptr]
    ptr = p[ptr]

for i in arr:
    print i,
print
