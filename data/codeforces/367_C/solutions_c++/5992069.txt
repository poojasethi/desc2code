#include <cstdio>
#include <algorithm>
#include <functional>
using namespace std;

long long n, m, q, w[123456], ans;
int main() {
    scanf("%lld %lld", &n, &m);
    for (int i = 1; i <= m; i++) scanf("%lld %lld", &q, w+i);
    sort(w+1, w+m+1, greater<int>());
    for (long long i = 1, sm = w[i]; i <= m; sm += w[++i]) if ((i*(i-1))/2 + (1-i%2)*(i/2-1) <= n-1) ans = max(ans, sm);
    printf("%lld\n", ans);

    return 0;
}