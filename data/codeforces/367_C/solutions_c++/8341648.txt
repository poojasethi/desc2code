#include<cstdio>
#include<algorithm>
using namespace std;
int v[200010],n,l,a,ans;

bool cmp(int a,int b){
	return a>b;
}

int main(){
	scanf("%d%d",&l,&n);
	for (int i=1;i<=n;i++)
		scanf("%d%d",&a,&v[i]);
	sort(v+1,v+1+n,cmp);
	int k;
	for (k=1;k<=n;k++){
		if (k%2==1){
			if (k*(k-1)/2+1>l) break;
		}
		else if (k*(k-1)/2+k/2>l) break;
	}
	for (int i=1;i<k;i++)
		ans+=v[i];
	printf("%d\n",ans);
	return 0;
}