#include<cstring>
#include<cstdlib>
#include<cstdio>
#include<algorithm>
using namespace std;
int n,m,w[120000],x,i,j;
long long ans;
int main(){
	scanf("%d%d",&n,&m);
	for(i=1;i<=m;++i)scanf("%*d%d",&w[i]);
	sort(w+1,w+m+1);
	for(i=1;;++i){
		if(i&1)x=i*(i-1)/2+1;
		else x=i*(i-1)/2+(i/2-1)+1;
		if(x>n)break;
	}
	for(j=1;j<i && m-j+1>=1;++j)ans+=w[m-j+1];
	printf("%I64d\n",ans);
}