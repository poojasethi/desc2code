#include <stdio.h>
#include <algorithm>
using namespace std;
#define M 100010
int w[M];
int n,m,q,ans;
bool cmp(int a,int b){
	return a>b;
}
void process(){
	int u,i;
	sort(w,w+m,cmp);
	for(q=1;;q++){
		if(q&1)u=q*(q-1)/2 + 1;
   		else u=q*q/2;
   		if(u>n)break;
	}
	q--;
	for(i=0;i<m &&i<q;i++)ans+= w[i];
}
int main(){
	int i;
	scanf("%d %d",&n,&m);
	for(i=0;i<m;i++)scanf("%d %d",&q,w+i);
	process();
	printf("%d\n", ans);
}
