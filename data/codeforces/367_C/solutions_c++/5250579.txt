#include <cstdlib>
#include <cstdio>
#include <iostream>

typedef unsigned usd;

usd n,m,k,w[100001];
unsigned long long s;

int cmp(const void *a,const void *b)
{
	return *(usd*)b-*(usd*)a;
}

int main()
{
	scanf("%u%u",&n,&m);
	for (int i=1;i<=m;i++) scanf("%*u%u",w+i);
	qsort(w+1,m,4,cmp);
	for (k=1;k<=m;k++) if ((k*(k>>1)+(k&1))>n) break;
	for (int i=1;i<k;i++) s+=w[i];
	printf("%I64u",s);
	return 0;
}


