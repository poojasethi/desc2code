#include <stdio.h>
#include <algorithm>
using namespace std;
#define N 2000009
int q[N],w[N],I[N],n,m;
bool cmp(int i,int j) {return w[i]>w[j];}
main() {
	//freopen("1.in","r",stdin);
	scanf("%d%d",&n,&m);
	for (int i=0;i<m;i++) I[i]=i,scanf("%d%d",q+i,w+i);
	sort(I,I+m,cmp);
	int k=0;
	for (;k/2*k+(k&1)<=n;k++);k--;
	long long ans=0;
	for (int i=0;i<k && i<m;i++) ans+=w[I[i]];
	printf("%I64d\n",ans);
}
