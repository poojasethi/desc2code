#include<bits/stdc++.h>
using namespace std;
int w[100005];
int main(){
    ios_base::sync_with_stdio(0);cin.tie(0);
    int n,m,i,j;
    long long res=0;
    scanf("%d%d",&n,&m);
    for(i=0;i<m;i++)
      scanf("%*d%I64d",w+i);
    sort(w,w+m);
    for(i=m-1;i>=0;i--){
      j=m-i;
      if(j/2*j<=n-j%2)
        res+=w[i];
      else
        break;
    }
    printf("%I64d",res);
}

				    		 	     	 	 	 			