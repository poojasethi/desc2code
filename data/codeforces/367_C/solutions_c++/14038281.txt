#include <cstdio>

#define N 100000

int a[N + 3], n, m, k, i, j;
long long s = 0;

int main()
{
	scanf("%d%d", &n, &m);

	for (i = 0; i < m; i ++)
	{
		scanf("%d%d", &k, &k);
		++ a[k];
	}

	k = 0;
	while (k / 2 * k + k % 2 <= n) ++ k;
	-- k;

	n = k < m ? k : m;

	for (i = N; n && i; --i)
		for (j = 0; j < a[i] && n--; j ++)
			s += i;

	printf("%I64d\n", s);

	return 0;
}
