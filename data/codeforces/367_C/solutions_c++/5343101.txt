#include<iostream>
#include<cstdio>
#include<algorithm>
using namespace std;
int n,m,a[100005],b;
int main()
{
    scanf("%d%d",&n,&m);
    for(int i=0;i<m;i++)scanf("%d%d",&b,&a[i]);
    sort(a,a+m);
    int i;
    long long s;
    long long ans=0;
    for(i=1;i<=m;i++)
    {
        if(i%2)s=1ll*i*(i-1)/2+1;
        else s=1ll*i*(i-1)/2+(i-2)/2+1;
        if(s>n)break;
        ans+=a[m-i];
    }
    cout<<ans<<endl;
    return 0;
}
