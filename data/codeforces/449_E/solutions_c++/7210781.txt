#include <iostream>
using namespace std;
#define base 1000000007
#define MAX 1000001
typedef long long ll;

ll n, m;
ll f1[MAX], f2[MAX], f3[MAX], g[MAX];
ll muy[MAX], prime[MAX], pre[MAX];
bool cmps[MAX];

void sieve()
{
    int k = 0;
    for (int i = 2; i < MAX; i++)
    if (!cmps[i])
    {
        prime[k++] = i;
        for (int j = i; j < MAX; j += i)
        {
            pre[j] = i;
            cmps[j] = 1;
        }
    }
}


int main()
{
    ios_base::sync_with_stdio(false);
    sieve();
    muy[1] = 1;
    for (int i = 2; i < MAX; ++i)
    {
        ll j = i, pow = 1;
        int deg = 0;
        while (j % pre[i] == 0)
        {
            deg++, pow = pow*pre[i];
            j /= pre[i];
        }

        pow /= pre[i];
        muy[i] = muy[j] * pow*(pre[i] + deg*(pre[i] - 1));
    }

    for (ll i = 1; i < MAX; i = i+1)
    {
        g[i] = (i*(i + 1)*(2 * i + 1) / 3 - 3 * i*i + 2 * muy[i]) % base;
        f1[i] = (f1[i - 1] + g[i]) % base;
        f2[i] = (f2[i - 1] + g[i]*i) % base;
        f3[i] = (f3[i - 1] + g[i]*(i*i % base)) % base;
    }

    int t;
    cin >> t;
    while (t--)
    {
        cin >> n >> m;
        if (n > m)
            swap(n, m);

        m++, n++;
        ll ans = ((((m*n % base)*f1[n - 1] - (m + n)*f2[n - 1] + f3[n - 1]) % base) + base) % base;
        cout << ans << endl;
    }
}