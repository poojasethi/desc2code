#include <iostream>
#include <cstring>
#include <cstdio>
#include <sstream>

using namespace std;

const int N=506, zl[4][2]={-1, 0, 1, 0, 0, 1, 0, -1};

stringstream res;
int n, m, cnt;
char buff[N][N];

void enter()
{
	scanf("%d%d", &n, &m);
	for(int i=0; i<n; i++) scanf("%s", buff[i]);
}

inline bool in(int x, int y)
{
	return x>=0 && x<n && y>=0 && y<m;
}

void dfs(int x, int y, bool canRed=true)
{
	res<<"B "<<x+1<<" "<<y+1<<"\n", cnt++;
	buff[x][y]='#';
	for(int k=0; k<4; k++)
	{
		int i=x+zl[k][0], j=y+zl[k][1];
		if(in(i, j) && buff[i][j]=='.') dfs(i, j);
	}
	if(canRed)
	{
		res<<"D "<<x+1<<" "<<y+1<<"\n";
		res<<"R "<<x+1<<" "<<y+1<<"\n";
		cnt+=2;
	}
}

int main()
{
	ios::sync_with_stdio(false);
	enter();
	for(int i=0; i<n; i++)
		for(int j=0; j<m; j++)
			if(buff[i][j]=='.') dfs(i, j, false);
	cout<<cnt<<endl<<res.str();
	return 0;
}
