#include <cstdio>
int z=0,n,m,x[1000005],y[1000005],oi,oj;
char c[505][505],cmd[1000005];
bool b[505][505];
void addcmd(char c,int u,int v){
	cmd[++z]=c;
	x[z]=u;
	y[z]=v;
}
void f(int u,int v){
	if (u<1||u>n||v<1||v>m||!b[u][v]) return;
	b[u][v]=0;
	addcmd('B',u,v);
	f(u-1,v);
	f(u+1,v);
	f(u,v-1);
	f(u,v+1);
	if (oi!=u||oj!=v){
		addcmd('D',u,v);
		addcmd('R',u,v);
	}
}
int main(){
	scanf("%d%d",&n,&m);
	for(int i=1; i<=n; ++i)
		for(int j=1; j<=m; ++j){
			scanf(" %c",&c[i][j]);
			b[i][j]=c[i][j]=='.';
		}
	for(int i=1; i<=n; ++i)
		for(int j=1; j<=m; ++j)
			if (b[i][j]){
				oi=i;
				oj=j;
				f(i,j);
			}
	printf("%d\n",z);
	for(int i=1; i<=z; ++i) printf("%c %d %d\n",cmd[i],x[i],y[i]);
	return 0;
}