#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
#define rep(i,n) for (int i=1;i<=n;i++)
const int u[]={0,1,0,-1,0},v[]={0,0,1,0,-1},N=505;
char s[N][N]; int n,m,len,f[N*N],g[N*N]; bool b[N][N];
void bfs(int x,int y,int flag)
{
	int h=0,t=1; f[1]=x,g[1]=y; b[x][y]=1;
	while (h<t){
		x=f[++h],y=g[h];
		rep(i,4){
			int x1=x+u[i],y1=y+v[i];
			if (x1 && x1<=n && y1 && y1<=m && s[x1][y1]=='.' && !b[x1][y1])
				b[x1][y1]=1,f[++t]=x1,g[t]=y1; 
			}
		}
	if (flag) len+=t*3-2;
	else {
	rep(i,t) printf("B %d %d\n",f[i],g[i]);
	for (int i=t;i>1;i--) printf("D %d %d\n",f[i],g[i]),printf("R %d %d\n",f[i],g[i]);
	}
}
int main()
{
	scanf("%d%d",&n,&m);
	rep(i,n) scanf("%s",s[i]+1);
	rep(i,n) rep(j,m) if (s[i][j]=='.' && !b[i][j]) bfs(i,j,1);
	memset(b,0,sizeof(b)); printf("%d\n",len);
	rep(i,n) rep(j,m) if (s[i][j]=='.' && !b[i][j]) bfs(i,j,0);
	return 0;
}
