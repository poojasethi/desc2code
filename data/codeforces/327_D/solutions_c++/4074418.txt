#include<stdio.h>

long i,n,m,h[4]={0,0,1,-1},v[4]={1,-1,0,0},j,lst;
char st[1000][1000],ans[800000][20];

void dfs(long x,long y,long dir)
{
    long a,b,i;
    st[x][y]='x';
    sprintf(ans[lst++],"B %ld %ld",x+1,y+1);
    for(i=0;i<4;i++)
    {
        a=x+h[i];
        b=y+v[i];

        if(a>=0 && a<n && b>=0 && b<m && st[a][b]=='.')
        dfs(a,b,1);
    }
    if(dir)
    {
        sprintf(ans[lst++],"D %ld %ld",x+1,y+1);
        sprintf(ans[lst++],"R %ld %ld",x+1,y+1);
    }
}

int main()
{
    while(~scanf("%ld%ld",&n,&m))
    {
        lst=0;
        for(i=0;i<n;i++)
        scanf("%s",&st[i]);

        for(i=0;i<n;i++)
        {
            for(j=0;j<m;j++)
            {
                if(st[i][j]=='.')
                {
                    dfs(i,j,0);
                }
            }
        }
        printf("%ld\n",lst);
        for(i=0;i<lst;i++)
        printf("%s\n",ans[i]);
    }
    return 0;
}
