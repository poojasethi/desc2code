#include<bits/stdc++.h>
#define pb push_back
#define mp make_pair
using namespace std;
vector< pair< char ,pair<int,int> > > V;
int n,m,i,j,h[600][600],d,t,s;
char c,a[600][600];
void f(int ii,int jj)
{
	if(not(ii<=n and ii>0 and jj<=m and jj>0  and a[ii][jj]=='.')) return;
	V.pb(mp('B',mp(ii,jj)));
	a[ii][jj]='#';
	f(ii+1,jj);
	f(ii-1,jj);
	f(ii,jj+1);
	f(ii,jj-1);
	if(!(ii==i and jj==j)){ V.pb(mp('D',mp(ii,jj))); V.pb(mp('R',mp(ii,jj)));}
}
int main()
{
	cin>>n>>m;
	for(i=1;i<=n;i++)
		for(j=1;j<=m;j++)
			scanf(" %c",&a[i][j]);
	for(i=1;i<=n;i++)
		for(j=1;j<=m;j++)
		{
			if(a[i][j]=='.')
			{
				f(i,j);
			}
		}
	t=V.size();
	cout<<t<<endl;
	for(i=0;i<t;i++)
	{
		printf("%c %d %d\n",V[i].first,V[i].second.first,V[i].second.second);
	}
}
