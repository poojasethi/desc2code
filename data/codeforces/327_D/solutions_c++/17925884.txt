#include <bits/stdc++.h>
#define MAXN 510
#define mp make_pair
#define rs(a) scanf("%s\n",a)
#define rii(n,m) scanf("%d %d\n",&n,&m)
#define FOR(i,l,r) for(int i=l;i<r;i++)
using namespace std;

char str[MAXN];
int N, M, A[MAXN][MAXN], X[]={1,-1,0,0}, Y[]={0,0,1,-1}, cnt1=0, cnt2=0, x, y;

bool valid(int i, int j) {return 0<=i && i<N && 0<=j && j<M;}

void dfs1(int i, int j) {
	cnt1++;
	A[i][j]=-1;
	FOR(k,0,4) if(valid(i+X[k],j+Y[k]) && A[i+X[k]][j+Y[k]]==0) dfs1(i+X[k],j+Y[k]);
}

void dfs2(int i, int j) {
	A[i][j]=-2;
	printf("B %d %d\n",i+1,j+1);
	FOR(k,0,4) if(valid(i+X[k],j+Y[k]) && A[i+X[k]][j+Y[k]]==-1) dfs2(i+X[k],j+Y[k]);
	if(i!=x||j!=y) {
		printf("D %d %d\n",i+1,j+1);
		printf("R %d %d\n",i+1,j+1);
	}
}

int main() {
	rii(N,M); FOR(i,0,N) {
		rs(str); FOR(j,0,M) A[i][j]=str[j]=='.'?0:-2;
	}
	FOR(i,0,N) FOR(j,0,M) if(A[i][j]==0) {dfs1(i,j);cnt2++;}
	printf("%d\n",3*cnt1-2*cnt2);
	FOR(i,0,N) FOR(j,0,M) if(A[i][j]==-1) {x=i;y=j;dfs2(i,j);}
}