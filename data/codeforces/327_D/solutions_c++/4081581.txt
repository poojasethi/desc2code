#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;
const int N = 505;
int num[N][N],len = 0,n,m;
char ch[N];
char ans[N*N*3][15];
void dfs(int x,int y,int flag){
    num[x][y] = 1;
    sprintf(ans[len], "%c %d %d",'B',x+1,y+1);
    len++;
    for(int i = 0; i < 4; i++){
        int nx = x + (i == 0) - (i == 1);
        int ny = y + (i == 2) - (i == 3);
        if(nx >= 0 && nx < n && ny >= 0 && ny < m && num[nx][ny] == 0)
            dfs(nx,ny,0);
    }
    if(!flag){
        sprintf(ans[len++], "%c %d %d",'D',x+1,y+1);
        sprintf(ans[len++], "%c %d %d",'R',x+1,y+1);
    }
}
int main(){
    cin >> n >> m;
    for(int i = 0; i < n; i++){
        cin >> ch;
        for(int j = 0; j < m; j++)
            num[i][j] = ch[j] == '#';
    }
    for(int i = 0; i < n; i++)
        for(int j = 0; j < m; j++) if(!num[i][j]) dfs(i,j,1);
        cout<<len<<endl;
    for(int i = 0; i < len; i++)
        puts(ans[i]);
}