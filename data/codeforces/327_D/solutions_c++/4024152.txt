#include<iostream>
#include<cstdio>
#include<cstring>
#include<vector>
using namespace std;
int n,m,ai;
char g[505][505],ans[1000005][25];
void dfs(int r,int c,int s)
{
    if(r>=n||c>=m||r<0||c<0)return ;
    if(g[r][c]=='#')return ;
    g[r][c]='#';
    sprintf(ans[ai],"B %d %d",r+1,c+1);
    ++ai;
    dfs(r+1,c,s+1);
    dfs(r-1,c,s+1);
    dfs(r,c+1,s+1);
    dfs(r,c-1,s+1);
    if(s==1)return ;
    sprintf(ans[ai],"D %d %d",r+1,c+1);
    ++ai;
    sprintf(ans[ai],"R %d %d",r+1,c+1);
    ++ai;
}
int main()
{
    while(scanf("%d%d",&n,&m)!=EOF)
    {
        for(int i=0;i<n;++i)
            scanf("%s",g[i]);
        ai=0;
        for(int i=0;i<n;++i)
            for(int j=0;j<m;++j)
            if(g[i][j]=='.')
                dfs(i,j,1);
        printf("%d\n",ai);
        for(int i=0;i<ai;++i)
            printf("%s\n",ans[i]);
    }
    return 0;
}
