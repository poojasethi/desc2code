#include<cstdio>
#include<vector>
#define N 500
using namespace std;
char b[N+1][N+1];
bool vis[N][N];
int n,m;

struct data{
	char op;int r,c;
	data(char op,int r,int c):op(op),r(r),c(c){}

};

vector<data> ans;
int rv[]={0,0,-1,1},cv[]={-1,1,0,0};

void dfs(int r, int c,bool f){
	vis[r][c]=1;
	ans.push_back( data('B',r,c) );
	for(int d=0;d<4;++d){
		int nr=r+rv[d],nc=c+cv[d];
		if( 0<=nr && nr<n && 0<=nc && nc<m && !vis[nr][nc] ) 
			dfs(nr,nc,0);
	}
	if(!f){
		ans.push_back( data('D',r,c) );
		ans.push_back( data('R',r,c) );
	}
}
int main(){
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;++i)
		scanf("%s",b[i]);
	for(int i=0;i<n;++i)
		for(int j=0;j<m;++j)
			vis[i][j]=b[i][j]=='#';
	
	for(int i=0;i<n;++i)
		for(int j=0;j<m;++j)
			if( !vis[i][j] )
				dfs(i,j,1);	
	
	printf("%d\n",ans.size());
	for(int i=0;i<ans.size();++i)
		printf("%c %d %d\n",ans[i].op,ans[i].r+1,ans[i].c+1);
	
	return 0;
}
