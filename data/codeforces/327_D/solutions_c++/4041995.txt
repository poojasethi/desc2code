#include<stdio.h>
#include<stdlib.h>
#include<iostream>
#include<algorithm>
#define foru(i,a,b) for(int i=a;i<=b;++i)

using namespace std;
const int tx[4]={1,-1,0,0};
const int ty[4]={0,0,1,-1};
int map[2100][2100],n,m,x[2100000],y[2100000],ans;
char ch,c[2100000];
void dfs(int a,int b,int cc)
{
    map[a][b]=0;
    c[++ans]='B'; x[ans]=a; y[ans]=b;
    foru(i,0,3)
      if(map[a+tx[i]][b+ty[i]]) dfs(a+tx[i],b+ty[i],1);
    if(cc)
    {
        c[++ans]='D'; x[ans]=a; y[ans]=b;
        c[++ans]='R'; x[ans]=a; y[ans]=b;
    }
}
int main()
{
    //freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
    cin>>n>>m;
    foru(i,1,n)
    {
        scanf("\n");
        foru(j,1,m) cin>>ch,map[i][j]=ch=='.';
    }
    foru(i,1,n)
      foru(j,1,m)
        if(map[i][j]) dfs(i,j,0);
    cout<<ans<<endl;
    foru(i,1,ans) cout<<c[i]<<' '<<x[i]<<' '<<y[i]<<endl;
    return 0;
}