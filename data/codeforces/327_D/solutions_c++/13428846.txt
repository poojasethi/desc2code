#include <iostream>
#include <cstdio>
#include <vector>

using namespace std;

char s[505][505];
int vis[505][505];
vector<pair<int,int> >q1,q2;
int n,m;
int cnt;

void dfs(int x,int y){
  if(x<0||x>=n||y<0||y>=m)
    return;
  if(vis[x][y]||s[x][y]=='#')
    return;
  vis[x][y]=1;
  cnt++;
  q1.push_back(make_pair(x,y));
  dfs(x+1,y);
  dfs(x-1,y);
  dfs(x,y+1);
  dfs(x,y-1);
  cnt--;
  if(cnt!=0){
    q2.push_back(make_pair(x,y));
  }
}
int main(){
  scanf("%d%d",&n,&m);
  for(int i=0;i<n;i++)
    scanf("%s",s[i]);
  for(int i=0;i<n;i++)
    for(int j=0;j<m;j++){
      if(s[i][j]=='#'||vis[i][j]==1)
	continue;
      dfs(i,j);
    }
  int L1=q1.size();
  int L2=q2.size();
  printf("%d\n",L1+L2+L2);
  for(int i=0;i<L1;i++)
    printf("B %d %d\n",q1[i].first+1,q1[i].second+1);
  for(int i=0;i<L2;i++){
    printf("D %d %d\n",q2[i].first+1,q2[i].second+1);
    printf("R %d %d\n",q2[i].first+1,q2[i].second+1);
  }
}
