#include <cstdio>
#include <cstring>
#include <iostream>
using namespace std;

int dx[]={-1,0,0,1,-1,-1,1,1}, dy[]={0,-1,1,0,-1,1,-1,1};

struct O {
	char ch;
	int x,y;
} arr[1000000];

#define sz 502

int n,m,t=0;

char mat[sz][sz];

inline void push(int x,int y,char ch) {
	mat[x][y]=ch;
	arr[t].x=x;
	arr[t].y=y;
	arr[t].ch=ch;
	t++;
}

void dfs(int x,int y,int d) {
	//cout<<x<<" "<<y<<endl;
	push(x,y,'B');
	
	for(int i,j,k=0;k<4;k++) {
		i=x+dx[k];
		j=y+dy[k];
		if(mat[i][j]=='.') dfs(i,j,1);
	}
	
	if(d) {
		push(x,y,'D');
		push(x,y,'R');
	}
}

int main() {
	memset(mat,'#',sizeof mat);
	scanf(" %d %d",&n,&m);
	for(int i=1;i<=n;i++)for(int j=1;j<=m;j++)scanf(" %c",&mat[i][j]);
	for(int i=1;i<=n;i++)for(int j=1;j<=m;j++)if(mat[i][j]=='.') dfs(i,j,0);
	printf("%d\n",t);
	for(int i=0;i<t;i++) printf("%c %d %d\n",arr[i].ch,arr[i].x,arr[i].y);
	return 0;
}
