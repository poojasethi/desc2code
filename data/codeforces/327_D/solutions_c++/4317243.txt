#include <iostream>
#include <set>
#include <cstdio>
#include <algorithm>
#include <vector>
using namespace std;
int t,n,m,i,j,k,z;
char a[555][555];
vector <char> c;
vector <int> x,y;
void dfs (int i,int j,int t)
{
 if (i<0 || j<0 || i==n || j==m ) return;
 if (a[i][j]=='#') return;

 a[i][j]='#';
 dfs(i+1,j,1);
 dfs(i-1,j,1);
 dfs(i,j+1,1);
 dfs(i,j-1,1);

 if (t) {x.push_back(i+1);y.push_back(j+1);c.push_back('D');
         x.push_back(i+1);y.push_back(j+1);c.push_back('R');
            }

}

int main()
{
cin>>n>>m;
for (i=0;i<n;i++)
 for (j=0;j<m;j++) cin>>a[i][j];

for (i=0;i<n;i++)
 for (j=0;j<m;j++)
  if (a[i][j]=='.') {x.push_back(i+1);y.push_back(j+1);c.push_back('B');}

for (i=0;i<n;i++)
 for (j=0;j<m;j++)
  if (a[i][j]=='.') dfs(i,j,0);

 cout<<c.size()<<endl;
 for (i=0;i<(int)c.size();i++)
  cout<<c[i]<<' '<<x[i]<<' '<<y[i]<<endl;
}
