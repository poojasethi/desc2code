#include <iostream>
#include <algorithm>
#include <cstring>
#include <climits>
#include <string>
#include <vector>
#include <queue>
#include <set>
#include <cmath>
#include <cstdio>
using namespace std;
char G[505][505], ans[1000005][25];
int N,M,ai;
void ff(int r,int c,bool s = 0) {
	if(r >= N || c >= M || r < 0 || c < 0) return;
	if(G[r][c] == '#') return;
	G[r][c] = '#';
	sprintf(ans[ai],"B %d %d",r+1,c+1);
	++ai;
	ff(r+1,c);
	ff(r-1,c);
	ff(r,c+1);
	ff(r,c-1);
	if(s) return;
	sprintf(ans[ai],"D %d %d",r+1,c+1);
	++ai;
	sprintf(ans[ai],"R %d %d",r+1,c+1);
	++ai;
}
int main() {
	scanf("%d%d",&N,&M);
	for(int i=0;i<N;++i) scanf("%s",G[i]);
	for(int i=0;i<N;++i)
		for(int j=0;j<M;++j)
			if(G[i][j] == '.')
				ff(i,j,1);
	printf("%d\n",ai);
	for(int i=0;i<ai;++i) printf("%s\n",ans[i]);
}
