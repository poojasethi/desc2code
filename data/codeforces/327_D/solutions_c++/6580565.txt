#include <bits/stdc++.h>
#define X first
#define Y second
#define MP make_pair
#define FO(i,a,b) for(int i=(a);i<=(b);i++)
#define FOR(i,a,b) for(int i=(a);i<(b);i++)
using namespace std;
typedef pair<int,int> ii;

int dx[]={0,0,1,-1};
int dy[]={1,-1,0,0};

int n,m;
char a[503][503];
vector<pair<char,ii> > ans;

void dfs(int i,int j){
	ans.push_back(MP('B',ii(i,j)));
	for(int l=0;l<4;l++){
		int x=i+dx[l],y=j+dy[l];
		if(x>n||x<1||y>m||y<1||a[x][y]!='.') continue;
		a[x][y]='*';
		dfs(x,y);
	}
	if(a[i][j]=='*'){
		ans.push_back(MP('D',ii(i,j)));
		ans.push_back(MP('R',ii(i,j)));
	}
	
}

int main(){
	//freopen("input.inp","r",stdin);
	scanf("%d%d",&n,&m);
	FO(i,1,n) scanf("%s",a[i]+1);
	FO(i,1,n) FO(j,1,m) if(a[i][j]=='.'){
		a[i][j]='#';
		dfs(i,j);
	}
	cout << ans.size() << '\n';
	for(unsigned i=0;i<ans.size();i++)
		printf("%c %d %d\n",ans[i].X,ans[i].Y.X,ans[i].Y.Y);
}
