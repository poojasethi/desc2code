#include <bits/stdc++.h>
using namespace std;

int n,m,ans;
int px[4]={1,-1,0,0};
int py[4]={0,0,-1,1};
char g[505][505];
bool vis[505][505];
stringstream ss;
 
void dfs(int x,int y,bool fir){
	int tx,ty;
	vis[x][y]=true;
	ss<<"B"<<" "<<x+1<<" "<<y+1<<endl;
	ans++;
	for (int i=0;i<4;i++){
		tx=x+px[i];
		ty=y+py[i];
		if (tx<0 || ty<0 || tx==n || ty==m) continue;
		if (!vis[tx][ty]){
			if (g[tx][ty]=='.'){
				dfs(tx,ty,false);
			}
		}
	}
	if (!fir){
		ss<<"D"<<" "<<x+1<<" "<<y+1<<endl;
		ss<<"R"<<" "<<x+1<<" "<<y+1<<endl;
		ans+=2;
	}
}

int main(){
	cin>>n>>m;
	for (int i=0;i<n;i++) cin>>g[i];
	for (int i=0;i<n;i++){
		for (int j=0;j<m;j++){
			if (!vis[i][j]){
				if (g[i][j]=='.'){
					dfs(i,j,true);
				}
			}
		}
	}
	cout<<ans<<endl;
	cout<<ss.str();
	return 0;
}
