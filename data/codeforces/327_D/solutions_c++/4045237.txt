#include<iostream>
#include<algorithm>
#include<cstdio>
#include<vector>
#include<cstring>

#define R(i,a,b) for(int i=a; i<=b; i++)
#define pb push_back

using namespace std;

struct rec{ char ch; int x,y; };

char mp[600][600];
int R,C;
int xx[]={1,-1,0,0};
int yy[]={0,0,-1,1};
vector<rec> v;

void flood(int nx,int ny,int awal){
	mp[nx][ny]='*';
	v.pb((rec){'B',nx,ny});
	R(i,0,3){
		if(mp[nx+xx[i]][ny+yy[i]]=='.')
			flood(nx+xx[i],ny+yy[i],0);
	}
	if(!awal){
		v.pb((rec){'D',nx,ny});
		v.pb((rec){'R',nx,ny});
	}
}

int main(){
	cin>>R>>C;
	memset(mp,'*',sizeof(mp));
	R(i,1,R) R(j,1,C) cin>>mp[i][j];
	R(i,1,R) R(j,1,C)
		if(mp[i][j]=='.')
			flood(i,j,1);
	cout<<v.size()<<endl;
	for(int i=0; i<v.size(); i++)
		cout<<v[i].ch<<" "<<v[i].x<<" "<<v[i].y<<endl;
}
