#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define N 510
#define N1 1000000
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
const int a1[4]={1,-1,0,0},a2[4]={0,0,1,-1};
int i,j,k,n,m,s;
int ff[N][N],xx[N1],yy[N1];
char p[N][N],re[N1];
void dfs(int x,int y) {
	int u;
	re[++s]='B'; xx[s]=x,yy[s]=y;
	ff[x][y]=1;
	For(u,0,3) {
		int X=x+a1[u],Y=y+a2[u];
		if (X&&Y&&X<=n&&Y<=m&&!ff[X][Y]&&p[X][Y]=='.') dfs(X,Y);
	}
	if (i!=x||j!=y) re[++s]='D',xx[s]=x,yy[s]=y,re[++s]='R',xx[s]=x,yy[s]=y;
}
int main() {
	scanf("%d%d",&n,&m);
	For(i,1,n) scanf("%s",p[i]+1);
	For(i,1,n)For(j,1,m) if (!ff[i][j]&&p[i][j]=='.') dfs(i,j);
	printf("%d\n",s);
	For(i,1,s) printf("%c %d %d\n",re[i],xx[i],yy[i]);
	//for(;;);
	return 0;
}
