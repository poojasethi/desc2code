#include<bits/stdc++.h>
using namespace std;
#define sqr(v) (v)*(v)
#define sgn(v) (abs(v)<eps?0:(v)<0?-1:1)
#define MP make_pair
#define PB push_back
#define FI first
#define SE second 
typedef pair<double,double> PDD;
typedef pair<double,bool> PDB;
const double eps=1e-9;
const double pi=acos(-1);
vector<PDD> inv;
vector<PDB> no;
bool cmp(PDB a,PDB b)
{
	return a.FI<b.FI||a.FI==b.FI&&a.SE>b.SE;
}
int main()
{
	int n,i,j,L,R;
	double d,x,y,D,rr;
	double len,l,r,theta;
	int tmp=0,ans=0;
	scanf("%d%lf",&n,&d);
	for(i=0;i<n;++i)
	{
		scanf("%lf%lf%lf",&x,&y,&rr);
		len=sqrt(sqr(x)+sqr(y));
		L=ceil((len-rr)/d);
		R=floor((len+rr)/d);
		double ang=atan2(y,x);
		//cout <<i<<" "<<L<<" "<<R<<endl;
		for(j=L;j<=R;++j)
		{
			D=j*d;
			theta=acos((sqr(D)+sqr(len)-sqr(rr))/2/D/len);
			l=ang-theta;
			r=ang+theta;
			//cout <<l<<" "<<r<<endl;
			if(sgn(l+pi)<=0)
			{
				++tmp;
				l+=2*pi;
			}
			else if(sgn(r-pi)>=0)
			{
				++tmp;
				r-=2*pi;
			}
			inv.PB(MP(l,r));
		}
		//if(i%1000==0)cout <<i<<endl;
	}
	//cout <<"HERE"<<endl;
	n=inv.size();
	for(i=0;i<n;++i)
	{
		no.PB(MP(inv[i].FI,1));
		no.PB(MP(inv[i].SE,0));
	}
	sort(no.begin(),no.end(),cmp);
	n=no.size();
	for(i=0;i<n;++i)
	{
		//cout <<no[i].FI<<endl;
		if(no[i].SE)++tmp;
		else --tmp;
		ans=max(ans,tmp);
	}
	printf("%d\n",ans);
	return 0;
}

   	   	     	 	  	  										