#include<cstdio>
#include<cstring>
#include<algorithm>
#include<cmath>
using namespace std;
typedef double ft;
const ft eps=1e-9;
ft a[2000001],b[2000001],dis,tmp,ang,pi,t1,t2;
int i,j,k,n,tot,ans,now,x[30001],y[30001],r[30001],d;
double calc(ft a,ft b,ft c){
	ft t=(b*b+c*c-a*a)/(2*b*c);
	if (t<-1||t>1) puts("ERROR!");
	return acos(t);
}
int main(){
 
	scanf("%d%d",&n,&d);pi=acos(-1);
	for (i=1;i<=n;i++) scanf("%d%d%d",&x[i],&y[i],&r[i]);
	for (i=1,tot=now=0;i<=n;i++){
		dis=sqrt(x[i]*x[i]+y[i]*y[i]);ang=atan2(y[i],x[i]);
		if (ang<0) ang+=2*pi;
		for (j=ceil((dis-r[i])/d);j<=floor((dis+r[i])/d);j++){
			tmp=calc(r[i],j*d,dis);t1=ang-tmp;t2=ang+tmp;
			if (t2>=2*pi) t2-=2*pi,now++;
			a[++tot]=t1;b[tot]=t2;
		}
	}
	sort(a+1,a+1+tot);sort(b+1,b+1+tot);
	for (i=j=1,ans=now;i<=tot;){
		tmp=a[i];
		for (;j<=tot&&b[j]<tmp;j++) now--;
		for (;i<=tot&&a[i]<=tmp;i++) now++;
		ans=max(ans,now);
	}
	printf("%d\n",ans);
	return 0;
}