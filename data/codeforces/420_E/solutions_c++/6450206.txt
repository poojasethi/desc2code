#include <iostream>
#include <stdio.h>
#include <math.h>
#include <stdlib.h>
#include <time.h>
#include <set>
#include <map>
#include <algorithm>
#include <string.h>

#define file_name "test"

using namespace std;

const double PI = acos(-1.0);
const int N = 1e6;
const double  eps = 1e-8;

pair <double, double > b[N];
pair <double, int> g[N];

int main()
{
  //  freopen("input.txt", "r", stdin);
//    freopen("output.txt", "w", stdout);
//    freopen(file_name".in", "r", stdin); freopen(file_name".out", "w", stdout);

    int i, n, d, an, kl, m, k;
    double x, y, r, l, a,  mn, mx, c;
    scanf("%d%d", &n, &d);
    m = 0;
    for(i=0; i<n; ++i)
    {
        scanf("%lf%lf%lf", &x, &y, &r);
        l = sqrt(x*x+y*y);
        a = acos(x/l);
        if(y<0)
            a += PI;
        mn = l-r;
        mx = l+r;
        for(c=int(mn/d)*d; mx-c>=-eps; c+=d)
        {
            if(mn-c>eps) continue;
            y = acos((-r*r+l*l+c*c)/(2*l*c));
            b[m].first = a-y;
            if(b[m].first<0)
                b[m].first += 2*PI;

            b[m].second = a+y;
            if(b[m].second - 2*PI > eps)
                b[m].second -= 2*PI;
            ++m;
        }
    }
    for(i=0, kl=0; i<m; ++i)
        if(b[i].first>b[i].second)
            ++kl;

    k = 0;
    for(i=0; i<m; ++i)
    {
        g[k].first = b[i].first;
        g[k++].second = -1;
        g[k].first = b[i].second;
        g[k++].second = +1;
    }

    sort(g, g+k);

    an = kl;
    for(i=0; i<k; ++i)
    {
        //printf("%.8lf %d kl=%d\n", g[i].first, g[i].second, kl);
        kl += -g[i].second;
        an = max(an, kl);
    }

    printf("%d\n", an);

    return 0;
}
