#include <cmath>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>
using namespace std;

#define DB  double
#define n   2000005
#define For(i,a,b)  for(int i=a;i<=b;i++)

const   DB  Pi=acos(-1);
int     N,D,T,sum,Ans,X[n],Y[n],R[n];
struct  Nod{DB x;int v;}A[n];

bool    Cmp(const Nod&a,const Nod&b)    {
        return a.x<b.x||a.x==b.x&&a.v>b.v;
}

int     main(){
        scanf("%d%d",&N,&D);
        For(i,1,N)  
		{
			scanf("%d%d%d",&X[i],&Y[i],&R[i]);
			if(X[i]*X[i]+Y[i]*Y[i]<R[i]*R[i])
				cerr <<"error:"<<X[i]<<" "<<Y[i]<<" "<<R[i]<<endl; 
		}
        For(i,1,N)  {
            DB  dis=sqrt(X[i]*X[i]+Y[i]*Y[i]),ang=atan2(Y[i],X[i]);
            int l=ceil((dis-R[i])/D),r=floor((dis+R[i])/D);
            For(k,l,r){
                DB  x=k*D,d=acos(-(R[i]*R[i]-x*x-dis*dis)/(2*x*dis)),a=ang-d,b=ang+d;
                if(a<0)a+=2*Pi;    
				if(b<0)b+=2*Pi;    
				sum+=a>b;
                A[++T]=(Nod){a,+1},A[++T]=(Nod){b,-1};
            }
        }
        sort(A+1,A+T+1,Cmp);    Ans=sum;
        For(i,1,T)
		{
		  //cout <<A[i].x<<" "<<A[i].x-2*Pi<<endl;
		  sum+=A[i].v,Ans=max(Ans,sum);
		}
        printf("%d\n",Ans);
}
