#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <vector>
#include <algorithm>

#define PI (acos(0.0)*2)

using namespace std;

pair<double, int> p[840000];

int main(){
	int n,d,x,y,r,pi=0,sum=0;
	double dis,temp,temp2,s1,s2;
	scanf("%d %d", &n, &d);
	for(int i=0;i<n;i++){
		scanf("%d %d %d", &x ,&y, &r);
		dis=sqrt((double)x*x+y*y);
		temp=atan2((double)y,x);
		for(int j=ceil((dis-r)/d);j<=floor((dis+r)/d);j++){
			temp2=acos((dis*dis+j*j*d*d-r*r)/(2*dis*j*d));
			s1=temp-temp2, s2=temp+temp2;
			if(s1<=-PI) s1+=2*PI,sum++;
			else if(s2>=PI) s2-=2*PI,sum++;
			p[pi++]=make_pair(s1,-1), p[pi++]=make_pair(s2,1);
		}
	}
	sort(p,p+pi);
	int m1=0;
	for(int i=0;i<pi;i++)
		sum-=p[i].second, m1=max(m1,sum);
	printf("%d\n", m1);
	return 0;
}