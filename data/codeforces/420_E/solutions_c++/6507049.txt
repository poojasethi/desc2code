 #include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<map>
#include<set>
#include<vector>

using namespace std;

typedef pair<int,int> pii;
typedef vector<pii> vii;
typedef vector<int> vi;

#define FOR(i,a,b) for(int i=a;i<=b;i++)
#define DFOR(i,a,b) for(int i=a;i>=b;i--)
#define mp(x,y) make_pair((int)x,(int)y)
#define fi first
#define se second
#define all(a) (a).begin(),(a).end()
#define BUG(x) {cout << #x << " = " << x << endl;}
#define PR(x,a,b) {cout << #x << " = "; FOR(i,a,b) cout << x[i] << ' '; cout << endl;}
#define ll long long
#define DEBUG 0
#define esl 0.000000001
#define PI 3.14159265359
int n,d;
double x,y,r;
vector<pair<double,bool> > ev;

void add(bool flag, double ang){
    //cout<<ang<<"___"<<flag<<endl;
    FOR(i,0,1){
        ev.push_back(make_pair(ang+i*2*PI,flag));
    }
}
void readInput(){
    scanf("%d%d",&n,&d);
    FOR(i,1,n){
        scanf("%lf%lf%lf",&x,&y,&r);
        double goc=atan2(y,x);
        double a= sqrt(x*x+y*y);
        for (double b=d;b<=a+r+esl;b+=d){
            if (b+r<a-esl) continue;
            double valueCos=(a*a+b*b-r*r)/(2*a*b);
            if (valueCos>1) valueCos=1;
            if (valueCos<-1) valueCos=-1;
            double goc2=acos(valueCos)+esl;
            add(1,goc-goc2);
            add(0,goc+goc2);
        }
    }
}
int ans;
void solve(){
    ans=0;
    int dem=0;
    sort(ev.begin(),ev.end());
    int m= ev.size();
    FOR(i,0,m-1){
        if (ev[i].second==true) dem+=1; else dem-=1;
        if(dem>ans) ans=dem;
    }
}
int main(){
    if (DEBUG==1){
        freopen("input.txt","r",stdin);
        freopen("output.txt","w",stdout);
    }
    readInput();
    solve();
    cout<<ans<<endl;
    return 0;
}
