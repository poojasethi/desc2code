import math

_funcA,_funcB,_funcN,_funcX	= map(int, raw_input().split())
mod = 1000000007
ans=0
if _funcA==1:
	ans=(_funcX%mod+(_funcN%mod)*(_funcB%mod)%mod)%mod
else:
	ans=((_funcX%mod*pow(_funcA,_funcN,mod)%mod)\
		+(_funcB%mod*(pow(_funcA,_funcN,mod)-1)%mod)\
		*(pow(_funcA-1,mod-2,mod)%mod)%mod)%mod
print ans



