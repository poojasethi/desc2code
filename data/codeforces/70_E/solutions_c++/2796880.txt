#include<cstdio>
#include<cstring>
#include<algorithm>
#define N 181
#define For(i,n) for(int i=1;i<=n;i++)
using namespace std;
int n,k,u,v,d[N],f[N][N],g[N][N],ans[N],prt[N];
void dfs(int x,int fa)
{
	For(i,n) f[x][i]=d[g[x][i]]+k;
	For(v,n)
	{
		if (v==fa || g[x][v]!=1) continue;
		dfs(v,x);
		For(i,n) f[x][i]+=min(f[v][i]-k,f[v][ans[v]]);
	}
	ans[x]=1;
	For(i,n) if (f[x][i]<f[x][ans[x]]) ans[x]=i;
}
void Travel(int x,int fa,int cet)
{
	prt[x]=cet;
	For(v,n)
	{
		if (v==fa || g[x][v]!=1) continue;
		Travel(v,x, f[v][cet]-k<f[v][ans[v]]?cet:ans[v]);
	}
}
int main()
{
	scanf("%d%d",&n,&k);
	For(i,n-1) scanf("%d",&d[i]);
	memset(g,0x3F,sizeof(g));
	For(i,n-1) scanf("%d%d",&u,&v),g[u][v]=g[v][u]=1;
	For(i,n) g[i][i]=0;
	For(k,n) For(i,n) For(j,n)
		g[i][j]=min(g[i][j],g[i][k]+g[k][j]);
	dfs(1,0);
	printf("%d\n",f[1][ans[1]]);
	Travel(1,0,ans[1]);
	For(i,n) printf("%d ",prt[i]);
	return 0;
}
