#include<bits/stdc++.h>
#define rep(i,A,B) for(int i=A;i<=B;i++)
#define dep(i,B,A) for(int i=B;i>=A;i--)
#define re(i,A) for(int i=0;i<(int)A;i++)
#define de(i,A) for(int i=A-1;~i;i--)
#define For(i,A,B) for(int i=A;i<B;i++)
#define mn 233
#define inf (1<<29)
#define P 1000000007
#define si(x) ((int)x.size())
#define pb push_back
#define mp make_pair
#define X first
#define Y second
#define fill(A,B) memset(A,B,sizeof(A))
#define MAX(A,B) A=max(A,B)
#define MIN(A,B) A=min(A,B)
using namespace std;
typedef long long ll;
typedef pair<int,int> pii;
int _pow(int a,int b,int mo){int tmp=1;a%=mo;for(;b;b>>=1){if(b&1)tmp=(ll)tmp*a%mo;a=(ll)a*a%mo;}return tmp;}
template<class T>inline void R(T &xx){xx=0;char ch=getchar();bool F=0;while((ch<'0'||ch>'9')&&ch!='-')ch=getchar();if(ch=='-')F=1,ch=getchar();while(ch>='0'&&ch<='9')xx=xx+xx+(xx<<3)+ch-48,ch=getchar();if(F)xx=-xx;}

vector<int>g[mn];int n,k,x,y,f[mn][mn],dp[mn][mn],bel[mn],d[mn],ans[mn];
void dfs(int x,int _f){
    int v;
    re(i,si(g[x]))if((v=g[x][i])!=_f)dfs(v,x);
    rep(i,1,n)re(j,si(g[x]))if((v=g[x][j])!=_f) 
        dp[x][i]+=min(dp[v][i],dp[v][bel[v]]+k);
    bel[x]=1;
    rep(i,2,n)if(dp[x][i]<dp[x][bel[x]])bel[x]=i;
}
void dfs2(int x,int _f,int d){
    ans[x]=d;
    int v;re(i,si(g[x]))if((v=g[x][i])!=_f)
        dfs2(v,x,(dp[v][d]<dp[v][bel[v]]+k)?d:bel[v]);
}
int main(){
#ifndef ONLINE_JUDGE
    freopen("2.in","r",stdin);
//  freopen("2.out","w",stdout);
#endif
    R(n),R(k);
    rep(i,1,n)rep(j,1,n)f[i][j]=(i!=j)<<29;
    For(i,1,n)R(d[i]);For(i,1,n)R(x),R(y),g[x].pb(y),g[y].pb(x),f[x][y]=f[y][x]=1;
    rep(kk,1,n)rep(i,1,n)rep(j,1,n)if(i!=j&&i!=kk&&kk!=j)MIN(f[i][j],f[i][kk]+f[kk][j]);
    rep(i,1,n)rep(j,1,n)dp[i][j]=d[f[i][j]];
    dfs(1,-1);dfs2(1,-1,bel[1]);
    printf("%d\n",dp[1][bel[1]]+k);
    rep(i,1,n)printf("%d ",ans[i]);puts("");
    return 0;
}