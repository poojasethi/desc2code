#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<algorithm>
#define N 210
using namespace std;
int a[N][N],d[N],f[N][N],b[N],ans[N],n,m,i,j,x,y,k;
void dfs(int x,int ff){
	int i,j;
	for(i=1;i<=n;++i)f[x][i]=d[a[x][i]]+m;
	for(i=1;i<=n;++i)if(i!=ff && a[x][i]==1){
		dfs(i,x);
		for(j=1;j<=n;++j)f[x][j]+=min(f[i][j]-m,f[i][b[i]]);
	}
	b[x]=1;
	for(i=1;i<=n;++i)if(f[x][i]<f[x][b[x]])b[x]=i;
}
void dfs2(int x,int ff,int z){
	ans[x]=z;
	for(int i=1;i<=n;++i)if(a[i][x]==1 && i!=ff)
		dfs2(i,x,f[i][z]-m<f[i][b[i]]?z:b[i]);
}
int main(){
	scanf("%d%d",&n,&m);
	for(i=1;i<n;++i)scanf("%d",&d[i]);
	memset(a,3,sizeof(a));
	for(i=1;i<=n;++i)a[i][i]=0;
	for(i=1;i<n;++i){
		scanf("%d%d",&x,&y);
		a[x][y]=a[y][x]=1;
	}
	for(k=1;k<=n;++k)
		for(i=1;i<=n;++i)
			for(j=1;j<=n;++j)a[i][j]=min(a[i][j],a[i][k]+a[k][j]);
	dfs(1,0);
	printf("%d\n",f[1][b[1]]);
	dfs2(1,0,b[1]);
	for(i=1;i<=n;++i)printf("%d ",ans[i]);
}