#include<cstdio>
#include<cstdlib>
#include<vector>
#include<algorithm>
using namespace std;
int n,k,a[201],tmp[51],d[201][201],dp[201][201],dp_sub[201],tag_sub[201],ans[201]; /* dp[x][x's center] */
vector <int> E[201];
void DFS1(int fr,int now,int h,int key){
    d[fr][now] = key;
    for(int i=0;i<E[now].size();i++)
       if(E[now][i] != h) 
          DFS1(fr,E[now][i],now,key+1);
}
void DFS(int now,int h){
   for(int i=0;i<E[now].size();i++)
      if(E[now][i] != h) 
          DFS(E[now][i],now);
   for(int i=1;i<=n;i++){
       dp[now][i] = a[d[now][i]];
       for(int j=0;j<E[now].size();j++)
           if(E[now][j] != h){
                if(dp[E[now][j]][i] < dp_sub[E[now][j]]+k) dp[now][i] += dp[E[now][j]][i];
                else dp[now][i] += dp_sub[E[now][j]] + k;             
           }    
   }     
   dp_sub[now] = 1000000000;
   for(int i=1;i<=n;i++)
       if(d[i][now] <= d[i][h] || h == 0){
           if(dp_sub[now] > dp[now][i])
               dp_sub[now] = dp[now][i], tag_sub[now] = i;
       }
}
void PR(int now,int h,int t){
    ans[now] = t;
    for(int i=0;i<E[now].size();i++)
       if(E[now][i] != h)
          PR(E[now][i],now,dp[E[now][i]][t] < dp_sub[E[now][i]]+k ? t : tag_sub[E[now][i]]);     
}
int main(){
    scanf("%d%d",&n,&k);
    for(int i=1;i<n;i++) scanf("%d",&a[i]);
    for(int i=0;i<n-1;i++){
       for(int j=0;j<2;j++) scanf("%d",&tmp[j]);
       E[tmp[0]].push_back(tmp[1]);
       E[tmp[1]].push_back(tmp[0]);
    }
    for(int i=1;i<=n;i++)
       DFS1(i,i,0,0);
    DFS(1,0);
    printf("%d\n",dp_sub[1]+k);
    PR(1,0,tag_sub[1]);
    for(int i=1;i<=n;i++) printf("%d ",ans[i]); printf("\n");
    //system("pause");
    return 0;
}
