#include<cstdio>
#include<cstring>
int N,K,X,Y,i,j,k;
int D[185],C[185];
int d[185][185],f[185][185];
void dfs(int x,int fa)
{
	int i,j;
	for(i=1;i<=N;++i) f[x][i]=D[d[x][i]]+K;
	for(i=1;i<=N;++i)
		if(d[x][i]==1&&i!=fa)
		{
			dfs(i,x);
			for(j=1;j<=N;++j)
			{
				if(f[i][C[i]]<f[i][j]-K) f[x][j]+=f[i][C[i]];
				else f[x][j]+=f[i][j]-K;
			}
		}
	C[x]=1;
	for(i=2;i<=N;++i)
		if(f[x][i]<f[x][C[x]])
			C[x]=i;
}
void get(int x,int fa,int c)
{
	int i;
	for(i=1;i<=N;++i)
		if(d[x][i]==1&&i!=fa)
			if(f[i][C[i]]>f[i][c]-K)
				C[i]=c;
	for(i=1;i<=N;++i)
		if(d[x][i]==1&&i!=fa)
			get(i,x,C[i]);
}
int main()
{
	scanf("%d%d",&N,&K);
	for(i=1;i<N;++i) scanf("%d",&D[i]);
	memset(d,6,sizeof(d));
	for(i=1;i<N;++i)
	{
		scanf("%d%d",&X,&Y);
		d[X][Y]=d[Y][X]=1;
	}
	for(i=1;i<=N;++i) d[i][i]=0;
	for(k=1;k<=N;++k)
		for(i=1;i<=N;++i)
			for(j=1;j<=N;++j)
				if(d[i][j]>d[i][k]+d[k][j])
					d[i][j]=d[i][k]+d[k][j];
	dfs(1,0);
	printf("%d\n",f[1][C[1]]);
	get(1,0,C[1]);
	for(i=1;i<N;++i) printf("%d ",C[i]);
	printf("%d\n",C[N]);
	return 0;
}
