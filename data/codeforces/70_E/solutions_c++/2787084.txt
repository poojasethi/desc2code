#include<cstdio>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
const int maxn=200;
int n,K,d[maxn][maxn],f[maxn][maxn],D[maxn],t[maxn];
void solve(int fa,int x,int c){
	for(int i=1;i<=n;++i)
		if(d[x][i]==1&&i!=fa)
			if(f[i][t[i]]>f[i][c]-K)t[i]=c;
	for(int i=1;i<=n;++i)
		if(d[x][i]==1&&i!=fa) solve(x,i,t[i]);
}
void dfs(int x,int fa){
	for(int i=1;i<=n;++i) f[x][i]=D[d[x][i]]+K;
	for(int i=1;i<=n;++i)
		if(d[x][i]==1&&i!=fa){
			dfs(i,x);
			for(int j=1;j<=n;++j){
				if(f[i][t[i]]<f[i][j]-K) 
                    f[x][j]+=f[i][t[i]];
				else f[x][j]+=f[i][j]-K;
			}
		}
	t[x]=1;
	for(int i=2;i<=n;++i)
		if(f[x][i]<f[x][t[x]]) t[x]=i;
}
int main(){
    //freopen("AC.in","r",stdin);
    //freopen("AC.out","w",stdout);
	scanf("%d%d",&n,&K);
	for(int i=1;i<n;++i) scanf("%d",&D[i]);
	memset(d,6,sizeof(d));
	for(int i=1;i<n;++i){
        int x,y;
		scanf("%d%d",&x,&y);
		d[x][y]=d[y][x]=1;
	}
	for(int i=1;i<=n;++i) d[i][i]=0;
	for(int k=1;k<=n;++k)
		for(int i=1;i<=n;++i)
			for(int j=1;j<=n;++j)
				if(d[i][j]>d[i][k]+d[k][j])
					d[i][j]=d[i][k]+d[k][j];
	dfs(1,0);
	printf("%d\n",f[1][t[1]]);
	solve(0,1,t[1]);
	for(int i=1;i<n;++i) printf("%d ",t[i]);
	printf("%d\n",t[n]);
	return 0;
}
