#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int N,K,a[205],b[205],p[205],head[205],d[205][205],f[205][205],lk[405],next[405];

void add(int u,int v,int t) {lk[t]=v,next[t]=head[u],head[u]=t;}

void dfs(int u,int fa)
{
	for (int i=1; i<=N; i++) f[u][i]=a[d[u][i]];
	for (int i=head[u],v; v=lk[i],i; i=next[i]) if (v!=fa)
	{
		dfs(v,u);
		for (int j=1; j<=N; j++) f[u][j]+=min(f[v][j],f[v][p[v]]+K);
	}
	p[u]=1;
	for (int i=2; i<=N; i++) if (f[u][i]<f[u][p[u]]) p[u]=i;
}

void print(int u,int fa,int w)
{
	b[u]=w;
	for (int i=head[u],v; v=lk[i],i; i=next[i]) if (v!=fa) print(v,u,f[v][w]<f[v][p[v]]+K?w:p[v]);
}

int main()
{
	scanf("%d%d",&N,&K),memset(d,63,sizeof(d)),d[N][N]=0;
	for (int i=1; i<N; i++) scanf("%d",&a[i]),d[i][i]=0;
	for (int i=1,u,v; i<N; i++) scanf("%d%d",&u,&v),add(u,v,i),add(v,u,i+N-1),d[u][v]=d[v][u]=1;
	for (int k=1; k<=N; k++)
		for (int i=1; i<=N; i++)
			for (int j=1; j<=N; j++) d[i][j]=min(d[i][j],d[i][k]+d[k][j]);
	dfs(1,0),printf("%d\n",f[1][p[1]]+K),print(1,0,p[1]);
	for (int i=1; i<=N; i++) printf("%d ",b[i]);
}