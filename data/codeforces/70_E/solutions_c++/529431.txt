#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
#include <vector>
#define oo 205
#define inf 2000000000
using namespace std;

vector<int>E[oo];
int n,m,l,r,u,v;
int f[oo][oo],d[oo],w[oo][oo],c[oo],Q[oo],fa[oo];

void dfs(int u)
{
    for (int i=0,v;i<E[u].size();++i)
        dfs(E[u][i]);

    for (int i=1;i<=n;++i){
        f[u][i]=d[w[u][i]];
        for (int j=0,v;j<E[u].size();++j){
            v=E[u][j];
            f[u][i]+=min(f[v][i],f[v][c[v]]+m);
        }
        if (!c[u] || f[u][i]<f[u][c[u]]) c[u]=i;
    }   
}

void getans(int u)
{
    for (int i=0,v;i<E[u].size();++i){
        v=E[u][i];
        if (f[v][c[v]]+m>f[v][c[u]]) c[v]=c[u];
        getans(v);      
    }
}

int main()
{
//  freopen("input.txt","r",stdin);
//  freopen("output.txt","w",stdout);
    scanf("%d%d",&n,&m);
    for (int i=1;i<n;++i) scanf("%d",&d[i]);

    for (int i=1;i<=n;++i)
    for (int j=1;j<=n;++j) w[i][j]=inf;

    for (int i=1;i<n;++i){
        scanf("%d%d",&u,&v);
        w[u][v]=w[v][u]=1;
        E[u].push_back(v);
        E[v].push_back(u);
    }
    
    for (int i=1;i<=n;++i) w[i][i]=0;

    for (int k=1;k<=n;++k)
    for (int i=1;i<=n;++i)
    if (w[i][k]<inf)
    for (int j=1;j<=n;++j)
    if (w[k][j]<inf) w[i][j]=min(w[i][j],w[i][k]+w[k][j]);

    Q[l=r=1]=1;
    for (;l<=r;++l){
        u=Q[l];
        for (int i=0;i<E[u].size();++i){
            v=E[u][i];
            if (v==fa[u]) continue;
            fa[v]=u;
            Q[++r]=v;
        }
    }

    for (int i=1;i<=n;++i) E[i].clear();
    for (int i=1;i<=n;++i)
    if (fa[i]) E[fa[i]].push_back(i);

    dfs(1);

    getans(1);

    printf("%d\n",f[1][c[1]]+m);

    for (int i=1;i<=n;++i) printf("%d%c",c[i],i<n ? ' ':'\n'); 

    return 0;
}
