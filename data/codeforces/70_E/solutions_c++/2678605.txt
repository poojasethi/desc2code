#include<iostream>
#include<algorithm>
#include<cstdio>
#include<cstdlib>
#include<cstring>

using std::min;

const int fin=0,maxn=200;
const int INF=~0u>>2;
int n,T;
int D[maxn];
int g[maxn][maxn],f[maxn][maxn];
int b[maxn];

void sol(int x,int fa){
  int i,j;
  for(i=1;i<=n;++i)f[x][i]=D[g[x][i]]+T;
  for(i=1;i<=n;++i)if(i!=fa&&g[x][i]==1){
    sol(i,x);
    for(j=1;j<=n;++j)
      f[x][j]+=min(f[i][j]-T,f[i][b[i]]);
  }
  for(i=1;i<=n;++i)
    if(!b[x]||f[x][i]<=f[x][b[x]])b[x]=i;
}

void det(int x,int fa,int y){
  int i;
  b[x]=y;
  for(i=1;i<=n;++i)if(i!=fa&&g[x][i]==1)
    det(i,x,(f[i][y]-T<f[i][b[i]])?y:b[i]);
}

int main(){
  if(fin){
    freopen("t.in","r",stdin);
    freopen("t.out","w",stdout);
  }
  int i,j,k,x,y;
  scanf("%d%d",&n,&T);
  for(i=1;i<n;++i)scanf("%d",D+i);
  for(i=1;i<=n;++i)for(j=1;j<=n;++j)
    g[i][j]=i==j?0:INF;
  for(i=1;i<n;++i)
    scanf("%d%d",&x,&y),g[x][y]=g[y][x]=1;
  for(k=1;k<=n;++k)for(i=1;i<=n;++i)for(j=1;j<=n;++j)
    g[i][j]=min(g[i][j],g[i][k]+g[k][j]);
  sol(1,0);
  det(1,0,b[1]);
  printf("%d\n",f[1][b[1]]);
  for(i=1;i<=n;++i)printf("%d ",b[i]);
  return 0;
}
