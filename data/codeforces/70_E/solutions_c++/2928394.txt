#include <cstring>
#include <cstdio>
using namespace std;

int point[1010], next[1010],son[1010], center[1010];
int d[1010][1010], f[1010][1010], cost[1010], best[1010];
int tot,n,v;

int getmin(int x, int y)
{
	if (x<y) return x; return y;
}

void addedge(int x, int y)
{
	point[++tot]=y; next[tot]=son[x]; son[x]=tot;
}

void dfs(int x, int fa)
{
	for (int i=1; i<=n; i++) f[x][i]=cost[d[x][i]]+v;
	for (int p=son[x]; p; p=next[p])
	{
		int y=point[p];
		if (y!=fa)
		{
			dfs(y,x);
			for (int j=1; j<=n; j++)
				f[x][j]+=getmin(f[y][j]-v, f[y][best[y]]);
		}
	}
	best[x]=1;
	for (int i=2; i<=n; i++)
		if (f[x][i]<f[x][best[x]]) best[x]=i;
}

void calc(int x, int fa, int c)
{
	center[x]=c;
	for (int p=son[x]; p; p=next[p])
	{
		int y=point[p];
		if (y!=fa)
		{
			if (f[y][c]-v<f[y][best[y]]) calc(y,x,c);
			else calc(y,x,best[y]);
		}
	}
}

int main()
{
	scanf("%d%d",&n,&v);
	for (int i=1; i<n; i++) scanf("%d",&cost[i]);
	for (int i=1; i<=n; i++)
	for (int j=1; j<=n; j++)
		if (i!=j) d[i][j]=d[j][i]=100000000;
		
	for (int i=1; i<n; i++)
	{
		int x,y;
		scanf("%d%d",&x,&y); addedge(x,y); addedge(y,x);
		d[x][y]=d[y][x]=1;
	}
	
	for (int k=1; k<=n; k++)
	for (int i=1; i<=n; i++)
	for (int j=1; j<=n; j++)
		if (d[i][k]+d[k][j]<d[i][j]) d[i][j]=d[i][k]+d[k][j];
	
	dfs(1,0);
	calc(1,0,best[1]);
	printf("%d\n", f[1][best[1]]);
	for (int i=1; i<=n; i++) printf("%d ",center[i]);
	//for (;;);
}
