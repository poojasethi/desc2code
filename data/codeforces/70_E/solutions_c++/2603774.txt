#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<iostream>
#include<algorithm>
using namespace std;
const int N=200;
int n,K;
int a[N][N],c[N],d[N],b[N],f[N][N],F[N];
void bfs()
{
    b[1]=1,F[1]=0;
    for(int h=1,t=1,now;h<=t;++h)
    {
        now=b[h];
        for(int i=1;i<=n;++i)
            if ( i!=F[now] && a[now][i]==1 )
                b[++t]=i,F[i]=now;
    }
    for(int h=n,now;h>0;--h)
    {
        now=b[h];
        for(int i=1;i<=n;++i)
            f[now][i]=K+d[a[i][now]];
        for(int i=1;i<=n;++i)
            if ( i!=F[now] && a[now][i]==1 )
                for(int j=1;j<=n;++j)
                    f[now][j]+=min(f[i][j]-K,f[i][c[i]]);
        c[now]=now;
        for(int i=1;i<=n;++i)
            if ( f[now][i]<f[now][c[now]] ) c[now]=i;
    }
}
void Gans()
{
    for(int h=2,p,q;h<=n;++h)
    {
        p=b[h],q=F[p];
        if ( f[p][c[p]]>f[p][c[q]]-K ) c[p]=c[q];
    }
    printf("%d",c[1]);
    for(int i=2;i<=n;++i) printf(" %d",c[i]);puts("");
}
int main()
{
    scanf("%d%d",&n,&K);
    memset(a,1,sizeof a);
    for(int i=1;i<n;++i) scanf("%d",&d[i]);d[0]=0;
    for(int i=1,x,y;i<n;++i)
        scanf("%d%d",&x,&y),a[x][y]=a[y][x]=1;
    for(int i=1;i<=n;++i) a[i][i]=0;
    for(int k=1;k<=n;++k)
        for(int i=1;i<=n;++i)
            for(int j=1;j<=n;++j)
                if ( a[i][k]+a[k][j]<a[i][j] ) a[i][j]=a[i][k]+a[k][j];
    bfs();
    printf("%d\n",f[1][c[1]]);
    Gans();
    return 0;
}