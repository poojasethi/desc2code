#include<stdlib.h>
#include<stdio.h>
#include<math.h>
#include<cstring>
#include<iostream>
#include<algorithm>
using namespace std;
char x;int s,s2,s3,_;
void cdx(int step)
{
	if(step>s3){if(_==s)s2++;return;}
	_++,cdx(step+1);
	_-=2,cdx(step+1),_++;
}
int main()
{
	while(x=getchar(),x!='\n')s+=2*bool(x=='+')-1;
	while(x=getchar(),x!='\n')if(x!='?')s-=2*bool(x=='+')-1;else s3++;
	cdx(1);printf("%.9lf",s2*1.0/(1<<s3));return 0;
}
