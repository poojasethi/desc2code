#include<cstdio>
#include<string>
#include<iostream>
using namespace std;
//            0   1   2    3     4    5   6    7     8      9
string one[]= {"","I","II","III","IV","V","VI","VII","VIII","IX"};
string ten[]= {"","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"};
string hud[]= {"","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"};
string thd[]= {"","M","MM","MMM"};
string id2s(__int64 num)
{
    int t=num/1000;
    num%=1000;
    int h=num/100;
    num%=100;
    int te=num/10;
    int on=num%10;
    return thd[t]+hud[h]+ten[te]+one[on];
}
__int64 num;
__int64 c2int(char *s,int base)
{
    __int64 ret=0;
    for(int i=0; s[i]; i++)
    {
        ret*=base;
        ret+=s[i]>='A'?s[i]-'A'+10:s[i]-'0';
    }
    return ret;
}
char s[10],ns[1<<10];
void out(__int64 num,int base)
{
    if(num==0) return ;
    out(num/base,base);
    int t=num%base;
    printf("%c",t<10?t+'0':t+'A'-10);
}
int main()
{
    int a,b;
    scanf("%d%s%s",&a,s,ns);
    num=c2int(ns,a);
    if(s[0]=='R')
        cout<<id2s(num);
    else
    {
        b=c2int(s,10);
        out(num,b);
        if(num==0) printf("0");
        puts("");
    }
    return 0;
}

		  					 				 					  		  	