#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
#include<vector>
#include<queue>
using namespace std;
const int MAX=1005;
char s[MAX],t[MAX];
#define LL __int64 
int a,b;
LL c;
int res[1000];
char bai[10][10]={"0","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"};
char shi[10][10]={"0","X","XX","XXX","XC","L","LX","LXX","LXXX","XC"};
char ge[10][10]={"00","I","II","III","IV","V","VI","VII","VIII","IX"};
int get(char x)
{
	if(x>='0'&&x<='9')
		return x-'0';
	else
		return x-'A'+10;
}
int main()
{
	int i,j,k;
	while(scanf("%d%s",&a,t)!=EOF)
	{
		scanf("%s",s);
		c=0;
		for(i=0;i<strlen(s);i++)
			c=c*(LL)a+get(s[i]);
		if(t[0]=='R')
		{
			if(c>=1000)
			{
				if(c/1000==1)
					printf("M");
				else if(c/1000==2)
					printf("MM");
				else if(c/1000==3)
					printf("MMM");
			}
			c%=1000;
			if(c>=100)
			{
				i=c/100;
				/*if(i==9)
					printf("CM");
				else if(i==8)
					printf("DCCC");
				else if(i==7)
					printf("DCC");
				else if(i==6)
					printf("DC");
				else if(i==5)
					printf("D");
				else if(i==4)
					printf("*/
				printf("%s",bai[i]);
			}
			c%=100;
			if(c>=10)
			{
				i=c/10;
				printf("%s",shi[i]);
			}
			c%=10;
			if(c>=1)
			{
				printf("%s",ge[c]);
			}
			puts("");
		}
		else
		{
			b=0;
			for(i=0;i<strlen(t);i++)
				b=b*10+t[i]-'0';
			i=0;
			//cout<<"a="<<a<<" b="<<b<<" c="<<c<<endl;
			while(c)
			{
				res[i++]=c%b;
				c/=b;
			}
			if(i==0)
			{
				res[0]=0;
				i=1;
			}
			for(j=i-1;j>=0;j--)
				printf("%c",res[j]<=9?res[j]+'0':res[j]-10+'A');
			puts("");
		}
	}
	return 0;
}
				
			 	   			 	 		 			  				