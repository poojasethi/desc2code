#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
#include <string>
using namespace std;

string a[13]={"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};
int v[13]={1000,900,500,400,100,90,50,40,10,9,5,4,1};
string val[3005];

string roman(int n) {
	string ret="";
	for(int i=0;i<13;i++)
		while(n>=v[i]) {
			n-=v[i];
			ret += a[i];
		}
	return ret;
}
void pre() {
	for(int i=1;i<=3000;i++)
		val[i] = roman(i);
}

char c[2000], B[10];
int A;

int main(void) {
	pre();
	scanf("%d%s", &A, B);
	scanf("%s", c);
	long long v = 0;
	for(int i=0;c[i];i++) {
		v=v*A + (c[i]>='A'? c[i]-'A'+10: c[i]-'0');
	}
	if(B[0]=='R') printf("%s\n", val[v].c_str());
	else {
		char d[2000];
		int dn=0, base = atoi(B);
		if(v==0) {
			d[dn++]=0;
		}
		while(v>0) {
			d[dn++]=v%base;
			v/=base;
		}
		while(dn-->0) printf("%c", d[dn]>=10? d[dn]-10+'A': d[dn]+'0');
		puts("");
	}
	return 0;
}

