#include <iostream>
#include <string>
#include <algorithm>
#include <vector>

using namespace std;

typedef long long ll;

void convert(int count ,char ten ,  char five, char one){
  if(count >= 9){
    cout << one << ten;
  }else if(count >= 5){
    cout << five;
    for(int i=0;i<count-5;i++){
      cout << one;
    }
  }else if(count == 4){
    cout << one << five;
  }else{
    for(int i=0;i<count;i++){
      cout << one;
    }    
  }
  return ;
}

int main(){
  ll a;string s;cin >> a>> s;
  string c;cin >> c;

  ll val = 0;
  for(ll i = 0;i<(ll) c.size();i++){
    val*=a; 
    val+= (c[i] - 'A' >= 0 ?  c[i] - 'A'+ 10 : c[i]-'0');
  }

  if(s == "R"){
    for(int i = 0;i<val/1000;i++){
      cout << "M";
    }
    val = val - (val/1000) * 1000;
    convert(val/100,'M','D','C');
    val = val - (val/100)*100;
    convert(val/10,'C', 'L','X');
    val = val - (val/10)*10;
    convert(val,'X','V','I');

  }else{
    ll b = 0;
    if(s.size()==1){
      b = s[0] - '0';
    }else{
      b = (s[0]-'0') * 10 + (s[1] - '0');
    }

    
    vector<ll> ans;
    while(val > 0){
      ans.push_back(val%b);
      val /=b;
    }
    if(ans.empty()){
      cout << 0 <<endl;
      return 0;
    }

    reverse(ans.begin(), ans.end());
    for(ll i = 0;i<(ll) ans.size();i++){
      if(ans[i] >= 10){
	char c = 'A' + ans[i] - 10;
	cout << c;
      }else{
	cout << ans[i] ;
      }
    }
  }
}
