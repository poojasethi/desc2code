#include <stdio.h>

#include <string>

using namespace std;

int a, b, ok;
long long x;
char s[1000];
int sol[100];

void roman ()
{
	int v[10] = {0};
	v[4] = x % 10;
	x /= 10;
	v[3] = x % 10;
	x /= 10;
	v[2] = x % 10;
	x /= 10;
	v[1] = x % 10;

	string s[20];
	s[0] = "";
	s[1] = "M";
	s[2] = "MM";
	s[3] = "MMM";
	s[10] = "";
	printf ("%s", s[v[1]].c_str());
	s[1] = "C";
	s[2] = "CC";
	s[3] = "CCC";
	s[4] = "CD";
	s[5] = "D";
	s[6] = "DC";
	s[7] = "DCC";
	s[8] = "DCCC";
	s[9] = "CM";
	printf ("%s", s[v[2]].c_str());
	s[1] = "X";
	s[2] = "XX";
	s[3] = "XXX";
	s[4] = "XL";
	s[5] = "L";
	s[6] = "LX";
	s[7] = "LXX";
	s[8] = "LXXX";
	s[9] = "XC";
	printf ("%s", s[v[3]].c_str());

	s[1] = "I";
	s[2] = "II";
	s[3] = "III";
	s[4] = "IV";
	s[5] = "V";
	s[6] = "VI";
	s[7] = "VII";
	s[8] = "VIII";
	s[9] = "IX";
	printf ("%s", s[v[4]].c_str());
}

void rez ()
{
	int i;
	do
	{
		sol[++ sol[0]] = x % b;
		x /= b;
	}while (x);
	for (i = sol[0]; i >= 1; i --)
		if (sol[i] >= 10)
			printf ("%c", sol[i] - 10 + 'A');
		else
			printf ("%d", sol[i]);
}

int main ()
{
//	freopen ("57c.in", "r", stdin);
//	freopen ("57c.out", "w", stdout);
	
	gets (s + 1);
	
	int i, ok = 0;
	
	for (i = 1; s[i] != ' '; i ++)
		a = a * 10 + s[i] - '0';
	i ++;
	if (s[i] == 'R')
		ok = 1;
	else
	{
		for (; s[i]; i ++)
			b = b * 10 + s[i] - '0';
	}
	
	gets (s + 1);
	
	for (i = 1; s[i]; i ++)
	{
		x = x * a;
		if (s[i] >= 'A')
			x += s[i] - 'A' + 10;
		else
			x += s[i] - '0';
	}
	
	if (ok)
		roman ();
	else
		rez ();
	return 0;
}
