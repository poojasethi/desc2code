#include<iostream>
#include<math.h>
#include<algorithm>
#include<stdio.h>
#include<map>
#include<vector>
#include<set>
#include<iomanip>
#define F first
#define S second
#define P system("PAUSE");
#define H return 0;
#define pb push_back
using namespace std;
const long long A=100000000000000LL,N=228228;
const int    e[13]={1,4,5,9,10,40,50,90,100,400,500,900,1000};

string a,o;
string t[13]={"I","VI","V","XI","X","LX","L","CX","C","DC","D","MC","M"};
long long s,_s,b,i,j,n,m;

string norm(string a){
    string b="";
    i=0;
    while(i<a.size() && a[i]=='0')i++;
    if(i==a.size())i--;
    for(;i<a.size();i++)b+=a[i];
    return b;
}

long long get(char a){
    if(a>='0' && a<='9')return a-'0';
    return a-'A'+10;
}

long long ToTen(string a){
    long long o=0,k=1;
    for(i=a.size()-1;i>=0;i--,k*=s)o+=k*get(a[i]);
    return o;
}

char Get(long long a){
    if(a<10)return a+'0';
    return 'A'+(a-10);
}

string ToS(long long a){
    long long k=1;
    string o="";
    if(!a)o="0";
    while(a)o+=Get(a%_s),a/=_s;
    reverse(o.begin(),o.end());
    return o;
}

long long val(string a){
    long long o=0,k=1;
    for(int i=a.size()-1;i>=0;i--,k*=10)o+=(a[i]-'0')*k;
    return o;
}

int main(){
    cin>>s>>a;
    for(i=0;i<13;i++)reverse(t[i].begin(),t[i].end());
    if(a=="R"){
        cin>>a;
        a=norm(a);
        b=ToTen(a);
        for(i=12;i>=0;i--)while(b>=e[i])b-=e[i],o+=t[i];
        cout<<o<<"\n";
    }else{
        _s=val(a),cin>>a,a=norm(a);
        b=ToTen(a);
        cout<<ToS(b)<<"\n";
    }
}
