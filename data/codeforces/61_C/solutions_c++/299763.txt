#include <cstdio>
#include <cstring>
using namespace std;
char str1[10][5]={" ","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"};
char str2[10][5]={" ","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"};
char str3[10][5]={" ","I","II","III","IV","V","VI","VII","VIII","IX"};
long long chan1(char *str,int b)
{
	long long num=0ll;
	for(int i=0;i<strlen(str);i++)
	{
		if(str[i]>='0'&&str[i]<='9')
			num=(long long)num*b+str[i]-'0';
		else if(str[i]>='A'&&str[i]<='Z')
			num=(long long)num*b+str[i]-'A'+10;
	}
	return num;
}

void chan2(long long num,int b)
{
	int k=0;
	char str[100];
	while(num)
	{
		int tmp=num%b;
		if(tmp<=9)	str[k++]=tmp+'0';
		else	str[k++]=char(tmp-10+'A');
		num/=b;
	}
	if(k)
	{
		for(int i=k-1;i>=0;i--)
			putchar(str[i]);
		printf("\n");
	}
	else printf("0\n");
}

void chan3(long long num)
{
	while(num>=1000)
	{
		printf("M");
		num-=1000;
	}
	int a=num/100; if(a)	printf("%s",str1[a]);
	a=(num/10)%10; if(a)    printf("%s",str2[a]);
	a=num%10;	if(a)	printf("%s\n",str3[a]);
}

int main()
{
	int b1,b2;
	char str[1200],s[10];
	while(scanf("%d",&b1)!=EOF)
	{
		scanf("%s%s",s,str);
		long long num=chan1(str,b1);
		if(s[0]=='R')
			chan3(num);
		else 
		{
			b2=0;
			for(int i=0;i<strlen(s);i++)
				b2=b2*10+s[i]-'0';
			chan2(num,b2);
		}
	}
	return 0;
}
