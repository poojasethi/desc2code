#include<iostream>
#include<sstream>
#include<vector>
#include<algorithm>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<cmath>
#define rep(i,n) for(int i=0;i<n;i++)
#define fr(i,c) for(__typeof (c.begin()) i=c.begin(); i!=c.end(); i++)
#define all(c) (c).begin(), (c).end()
#define pb push_back
using namespace std;

typedef vector<int> vi;
typedef long long ll;

string _(int n,char a,char b,char c){
  if(n==9)return string()+a+c;
  if(n==4)return string()+a+b;
  string ret;
  if(n>=5)ret+=b; rep(i,n%5)ret+=a;
  return ret;
}
void run(){
  int a,b; ll d=0;
  string s,c,ans;
  
  cin>>a>>s>>c;
  rep(i,c.size())d*=a, d+=isdigit(c[i])?c[i]-'0':c[i]-'A'+10;
  
  if(s=="R"){
    cout<<_(d/1000,'M','M','M')+_(d/100%10,'C','D','M')+_(d/10%10,'X','L','C')+_(d%10,'I','V','X')<<endl;
  }
  else{
    b=atoi(s.c_str());
    for(;d;d/=b)ans.pb(d%b<10?d%b+'0':d%b-10+'A');
    
    reverse(all(ans));
    cout<<(ans.empty()?"0":ans)<<endl;
  }
}
int main(){
#ifndef ONLINE_JUDGE
  rep(i,5)
#endif
    run();
  return 0;
}
