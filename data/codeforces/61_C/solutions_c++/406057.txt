#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <algorithm>
#include <sstream>
#include <iostream>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <cstring>

using namespace std;

#define f(i, a, b) for(int i = a; i < b; i++)
#define rep(i, n)  f(i, 0, n)

typedef long long ll;

char t[1000], s[1000];
string roman[] = { "M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};
int decimal[] =  {1000,  900, 500,  400, 100,   90,  50,   40,  10,   9,    5,    4,   1};

char tochar(int x) {

    if(x >= 10) return x - 10 + 'A';
    else return x + '0';

}

int toint(char c) {

    if(isdigit(c)) return c - '0';
    else return c - 'A' + 10;

}

int main(){

    int a;
    scanf("%d %s %s", &a, t, s);

    ll x = 0;
    for(int i = 0; i < strlen(s); i++)
        x = a * x + toint(s[i]);

    string res = "";

    if(t[0] == 'R') {

        for (int i = 0; i < 13; i++) {
            while (x >= decimal[i]) {
                x -= decimal[i];
                res += roman[i];
            }
        }

    }
    else {

        int b = atoi(t);

        do {

            res += tochar(x % b);
            x /= b;

        }
        while(x != 0);

        reverse(res.begin(), res.end());

    }

    cout << res << endl;
}
