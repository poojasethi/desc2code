//============================================================================
// Name        : Capture.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
#include <stdlib.h>
#include <vector>
#include <stdint.h>
using namespace std;

int main() {
	uint64_t a,b;string bb;
	cin>>a>>bb;
	if(bb[0]=='R')
		b=-1;
	else
		b=atoi(bb.c_str());
	string num;
	cin>>num;
	uint64_t c=0;
	uint64_t base=1;
	for(int i=num.size()-1;i>=0;i--)
	{
		int t;
		if(num[i]>='0'&&num[i]<='9')
			t=num[i]-'0';
		else
			t=num[i]-'A'+10;
		c+=(t*base);
		base*=a;
	}
	vector<char> res;
	if(b!=-1){
		if(c==0)
			res.push_back('0');
	while(c>0)
	{
		char f=(c%b)+'0';
		if(f>'9')
			f+=7;
		res.push_back(f);
		c/=b;
	}
	}
	else
	{
		int j=0;
		char roman[]={'I','V','X','L','C','D','M'};
		while(c>0)
		{
			int f=c%10;
			c/=10;
			if(f<4)
			{
				for(int k=0;k<f;k++)
					res.push_back(roman[j]);
			}
			else if (f==4)
			{

				res.push_back(roman[j+1]);
				res.push_back(roman[j]);
			}
			else if(f<9)
			{

				for(int k=0;k<f-5;k++)
					res.push_back(roman[j]);
				res.push_back(roman[j+1]);
			}
			else
			{

				res.push_back(roman[j+2]);
				res.push_back(roman[j]);
			}
			j+=2;
		}
	}
	for(int i=res.size()-1;i>=0;i--)
		cout<<res[i];
	cout<<endl;



	return 0;
}
