#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <queue>
#include <map>
#include <string.h>

const int N=100010;
const int inf=0x3f3f3f3f;

using namespace std;

int a,b;
char s[N];

typedef long long ll;

ll getnum(char s[N],int a)
{
	ll ret=0;
	for(int i=0;s[i];i++)
		if(s[i]>='A' && s[i]<='Z') ret=ret*a+s[i]-'A'+10;
		else ret=ret*a+s[i]-'0';
	return ret;
}

int num1[13]={1000,900,500,400,100,90,50,40,10,9,5,4,1};
string num2[13]={"M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"};

int main()
{
	scanf("%d",&a);
	scanf("%s",s);
	ll b,c;
	if(s[0]=='R')
	{
		scanf("%s",s);
		c=getnum(s,a);
		for(int i=0;i<13;i++)
			while(c>=num1[i]) cout<<num2[i],c-=num1[i];
		cout<<endl;
		return 0;
	}
	else
		b=getnum(s,10);
	scanf("%s",s);
	c=getnum(s,a);
	//cout<<a<<" "<<b<<" "<<c<<endl;
	if(c==0) cout<<0<<endl;
	int r[110],cnt=0;
	while(c>0) r[cnt++]=c%b,c/=b;
	for(int i=cnt-1;i>=0;i--)
		if(r[i]>9) cout<<char(r[i]-10+'A');
		else cout<<char(r[i]+'0');
	cout<<endl;
	return 0;
}
