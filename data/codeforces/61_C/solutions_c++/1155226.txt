#include<iostream>
#include<stdio.h>
#include<string.h>
#include<stack>
using namespace std;
typedef long long ll;
char c[1010],b[3];
char r[4][2]={'I','V','X','L','C','D','M'};
int a,bb;
int get(char x)
{
	if(x>='A'&&x<='Z')
		return x-'A'+10;
	else
		return x-'0';
}
char back(int x)
{
	if(x<10)
		return x+'0';
	else
		return x-10+'A';
}
void rome(int x,int p,stack<char> &sta)
{
	if(x==0)
		return;
	else if(x<=3)
	{
		for(int i=0;i<x;i++)
			sta.push(r[p][0]);
	}
	else if(x==4)
	{
		sta.push(r[p][1]);
		sta.push(r[p][0]);
	}
	else if(x<=8)
	{
		for(int i=0;i<x-5;i++)
			sta.push(r[p][0]);
		sta.push(r[p][1]);
	}
	else
	{
		sta.push(r[p+1][0]);
		sta.push(r[p][0]);
	}
}
ll change()
{
	ll ans=0;
	int l=strlen(c);
	for(int i=0;i<l;i++)
	{
		ans*=a;
		ans+=get(c[i]);
	}
	return ans;
}
int main()
{
	scanf("%d %s",&a,b);
	scanf("%s",c);
	ll num=change();
	if(b[0]!='R')
	{
		bb=0;
		int l=strlen(b);
		for(int i=0;i<l;i++)
		{
			bb*=10;
			bb+=get(b[i]);
		}
		stack<char> sta;
		if(!num)
		{
			printf("0");
		}
		while(num)
		{
			int x=num%bb;
			num/=bb;
			sta.push(back(x));
		}
		while(!sta.empty())
		{
			printf("%c",sta.top());
			sta.pop();
		}
		printf("\n");
	}
	else
	{
		stack<char> sta;
		int count=0;
		while(num)
		{
			int x=num%10;
			rome(x,count,sta);
			num/=10;
			count++;
		}
		while(!sta.empty())
		{
			printf("%c",sta.top());
			sta.pop();
		}
		printf("\n");
	}
}
	      	    		   			    	 	