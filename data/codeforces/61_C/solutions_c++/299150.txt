#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
#include <string>
#include <vector>
#include <map>
#include <set>
#include <cctype>
#include <queue>
#define FOR(i,s,e) for(int i=(s);i<(int)(e);i++)
#define FOE(i,s,e) for(int i=(s);i<=(int)(e);i++)
#define CLR(s) memset(s,0,sizeof(s))
using namespace std;
typedef long long LL;
typedef pair<int,int> P;
#define x first
#define y second

int a, b;
LL c;
char s[10000000];
char t[10000000];
string rom[3026];
string dig[] = {"M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"};
int val[]    = {1000,900,500,400,100,90,50,     40,10,9,5,4,1};

void out(LL x) {
        for(int c=0;x>0;c++) {
                while(x>=val[c]) {
                        printf("%s",dig[c].c_str());
                        x-=val[c];
                }
        }
        puts("");
}

LL f(char c){
        if(!isdigit(c)) return c-'A'+10;
        return c-'0';
}

char g(int c){
        if(c>=10) return 'A'+(c-10);
        return c+'0';
}

int main() {
        scanf("%d%s%s",&a,s,t);
        c=0;
        for(int i=0;t[i];i++) {
                c=c*a + f(t[i]);
//              printf("%lld\n", f(t[i]));
        }
//      printf("%lld\n", c);
        if(*s=='R') {
                out(c);
        }else{
                sscanf(s,"%d",&b);
                LL d[100000];
                int m=0;
                do{
                        d[m++]=c%b;
                        c/=b;
                }while(c>0);
                FOR(i,0,m) printf("%c",g(d[m-1-i])); puts("");
        }
}
