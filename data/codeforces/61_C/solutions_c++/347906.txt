#include<iostream>
#include<string>
#include<stdio.h>
#include<string.h>
using namespace std;
int   a;
char s[5000];
char b[4];
int bb;
int k[3000];
char st[40];
string BAI[11],SHI[11],GE[11];
int main(){
	for(int i=0;i<=9;i++){
		k['0'+i]=i;
		st[i]=i+'0';
	}
	for(int i=0;i<=30;i++){
		k['A'+i]=10+i;
		st[10+i]='A'+i;
	}
	BAI[1]="C";BAI[2]="CC";BAI[3]="CCC";BAI[4]="CD";BAI[5]="D";BAI[6]="DC";BAI[7]="DCC";BAI[8]="DCCC";BAI[9]="CM";
	SHI[1]="X";SHI[2]="XX";SHI[3]="XXX";SHI[4]="XL";SHI[5]="L";SHI[6]="LX";SHI[7]="LXX";SHI[8]="LXXX";SHI[9]="XC";
	GE[1]="I";GE[2]="II";GE[3]="III";GE[4]="IV";GE[5]="V";GE[6]="VI";GE[7]="VII";GE[8]="VIII";GE[9]="IX";
	cin>>a;
	cin>>b;
	if(b[0]=='R'){
		bb=-1;
	}
	else {
		if(strlen(b)==1){
			bb=b[0]-'0';
		}
		else bb=(b[0]-'0')*10+b[1]-'0';
	}
	cin>>s;
	int len=strlen(s);
	long long to10=0;
	for(int i=0;i<=len-1;i++){
		to10=to10*a+k[s[i]];
	}
	if(bb!=-1){
		if(to10==0){
			cout<<0<<endl;
			return 0;
		}

		char ans[1000];
		int q=0;
		while(to10!=0){
			ans[q++]=st[to10%bb];
			to10/=bb;
		}
		for(int i=q-1;i>=0;i--){
			cout<<ans[i];
		}
		cout<<endl;
	}
	else{
		long long z=to10/1000;
		for(int i=1;i<=z;i++)
			cout<<'M';
		z=to10%1000;
		int bai=z/100;
		z%=100;
		int shi=z/10;
		z%=10;
		int ge=z;
		if(bai!=0){
			cout<<BAI[bai];
		}
		if(shi!=0){
			cout<<SHI[shi];
		}
		if(ge!=0){
			cout<<GE[ge];
		}
		cout<<endl;
	}
	return 0;
}