#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<string>
#include<string.h>
#include<math.h>
#include<vector>
#include<stack>
#include<map>
using namespace std;

#define mp make_pair
#define pb push_back
#define f first
#define s second

string I[]={"","I","II","III","IV","V","VI","VII","VIII","IX"};
string X[]={"","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"};
string C[]={"","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"};
string M[]={"","M","MM","MMM"};

int main()
{
    //freopen("input.txt","r",stdin);
    __int64 a, b=0, c=0, r;
    string s, t;
    cin >> a >> s >> t;
    r=1;
    for (int i=t.length()-1; i>=0; i--, r*=a)
    {
        if (isdigit(t[i])) c += (t[i]-48)*r;
        else c += (t[i]-'A'+10)*r;
    }
    //cout << c << endl;
    if (s[0]=='R')
    {
        string ans;
        ans = I[c%10];
        c/=10;
        ans = X[c%10] + ans;
        c/=10;
        ans = C[c%10] + ans;
        c/=10;
        ans = M[c%10] + ans;
        cout << ans;
    }
    else
    {
        r=1;
        for (int i=s.length()-1; i>=0; i--, r*=10)
            b += (s[i]-48)*r;
        //cout << b << endl;
        string ans;
        while (c>=b)
        {
            int x = c%b;
            c/=b;
            if (x<10) ans = char(x+48) + ans;
            else ans = char(x+55) + ans;
        }
        if (c>0)
        {
            if (c<10) ans = char(c+48) + ans;
            else ans = char(c+55) + ans;
        }
        if (ans.length() == 0) ans = "0";
        cout << ans;
    }
    return 0;
}
