#include"stdio.h"
#include"string.h"
#include"algorithm"
#include"iostream"
using namespace std;
int a;
char b[11];
char c[1111];
char s[1111];
char d[4][2]={
	'I','V','X','L','C','D','M',
};
void pu(int x)
{
     int a[4];
     int q=0;
     while(x)
     {
	    a[q++]=x%10;
	    x/=10;
	 }
	
	 for(int i=q-1;i>=0;i--)
	 {
	     if(a[i]<=3)
	     for(int j=0;j<a[i];j++)
	     putchar(d[i][0]);
	     
	     if(a[i]==4)
	     {
		   putchar(d[i][0]);
		   putchar(d[i][1]);
		 }
		 if(a[i]==5)
		 {
		   putchar(d[i][1]);
		 }
		 if(a[i]>5&&a[i]<9)
		 {
		    putchar(d[i][1]);
			for(int j=6;j<=a[i];j++) 
			putchar(d[i][0]);
		 }
		 if(a[i]==9)
		 {
		    putchar(d[i][0]);
		    putchar(d[i+1][0]);
		 }
	     
	 }
}
int main()
{
    
     scanf("%d %s",&a,b);
     scanf("%s",c);
     int l=strlen(c);
     long long cc=0;
     memset(s,-1,sizeof(s));
     for(int i=0;i<=9;i++)
     s[i+'0']=i;
     for(int i=0;i<26;i++)
     s[i+'A']=i+10;
     int ju=0;
     for(int i=0;i<l;i++)
     {
	     if(c[i]!='0')
	     ju=1;
	     if(ju)
	     cc=cc*(long long)a+(long long)s[c[i]];
	 }
//	 cout<<cc<<endl;
	 if(b[0]=='R')
	 {
	      pu(cc);
	 }
	 else
	 {
	    int bb;
	    sscanf(b,"%d",&bb);
	    int out[111],q=0;
		if(cc==0)
		{
		   printf("0");
		}
	    while(cc)
	    {
		      out[q++]=cc%bb;
		      cc/=bb;
		}
		
		for(int i=q-1;i>=0;i--)
		  for(int j=0;j<127;j++)
		  {
		  //printf("%d %d\n",s[j],out[i]);
		  if((int)s[j]==out[i])
		  {
		  	 
		     printf("%c",j);
             break;
		  }
		  }
	 }
      puts("");
}
		  	 	  		   			 		 		 		