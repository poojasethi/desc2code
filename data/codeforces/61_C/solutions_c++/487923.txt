#include<cstdio>

int a,b;
char buf[1000];
char xx[1000];

int main()
{
    scanf("%d%s",&a,xx);
    scanf("%s",buf);
    long long A=0;
    for (int i=0;buf[i];i++)
    if (buf[i]>='0' && buf[i]<='9') A=A*a+buf[i]-'0';
    else A=A*a+buf[i]-'A'+10;
    if (xx[0]=='R')
    {
        while (A>=1000) A-=1000,printf("M");
        if (A/100==4) printf("CD"),A-=400;else
        if (A/100==9) printf("CM"),A-=900;else
        if (A>=500) printf("D"),A-=500;
        while (A>=100) printf("C"),A-=100;

        if (A/10==4) printf("XL"),A-=40;else
        if (A/10==9) printf("XC"),A-=90;else
        if (A>=50) printf("L"),A-=50;
        while (A>=10) printf("X"),A-=10;

        if (A==4) printf("IV"),A-=4;else
        if (A==9) printf("IX"),A-=9;else
        if (A>=5) printf("V"),A-=5;
        while (A) printf("I"),A--;
        printf("\n");
    } else
    {
        b=xx[0]-'0';if (xx[1]) b=b*10+(xx[1]-'0');
        int cnt=0;
        while (A) {buf[cnt++]=A%b;A/=b;}
        if (!cnt) buf[cnt++]=0;
        for (int i=cnt-1;i>=0;i--) 
        if (buf[i]<=9) printf("%c",buf[i]+'0');
        else printf("%c",buf[i]+'A'-10);
        printf("\n");
    }
}
