#include <cstdlib>
#include <cctype>
#include <cstring>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <vector>
#include <string>
#include <iostream>
#include <sstream>
#include <map>
#include <set>
#include <queue>
#include <stack>
#include <fstream>
#include <numeric>
#include <iomanip>
#include <bitset>
#include <list>
#include <stdexcept>
#include <functional>
#include <utility>
#include <ctime>
using namespace std;

#define PB push_back
int a, b;

const char c[14][5] = {"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};
const int v[14] = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};
char s[10000];
int getv(char a)
{
	if (a >= 'A')
		return a - 'A' + 10;
	return a - '0';
}

void putc(int a)
{
	if (a >= 10)
		putchar('A' + a - 10);
	else printf("%d", a);
}
int main()
{
	scanf("%d %s", &a, &s);
	if (s[0] == 'R') {
		long long ret = 0;
		scanf("%s", s);
		for (int i = 0; i < strlen(s); i++)
			ret = ret * a + getv(s[i]);
		for (int i = 0; i < 13; i++)
			while (ret >= v[i]) {
				ret -= v[i];
				printf("%s", c[i]);
			}
		puts("");
	} else {
		long long ret = 0;
		sscanf(s, "%d", &b);
		scanf("%s", s);
		for (int i = 0; i < strlen(s); i++)
			ret = ret * a + getv(s[i]);
		vector<int> ans;
		for (; ret; ret /= b)
			ans.PB(ret % b);
		if (ans.size() > 1)
			reverse(ans.begin(), ans.end());
		for (int i = 0; i < ans.size(); i++)
			putc(ans[i]);
		if (ans.size() == 0)
			putchar('0');
		puts("");
	}
}

 	      			 	 		 					 	 	