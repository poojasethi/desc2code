#include <cstdio>
#include <iostream>
#include <cstring>
#include <string>
#include <cstdlib>
#include <algorithm>

using namespace std;

string dectob(long long n,int b)
{
    string digits="0123456789ABCDEFGHIJKLMNOPQ";
    string result="";

    if(n==0) result+="0";

    while(n>0)
    {
        result+=digits[n%b];
        n/=b;
    }

    reverse(result.begin(),result.end());

    return result;
}

long long btodec(string n,int b)
{
    int i,l=n.size();
    long long res=0;

    for(i=0;i<l;i++)
        if(isalpha(n[i]))
        {
            res*=b;
            res+=(n[i]-'A'+10);
        }
        else
        {
            res*=b;
            res+=(n[i]-'0');
        }

    return res;
}

int main()
{
    int a,bs,d[15]={1000,900,500,450,400,100,90,50,45,40,10,9,5,4,1};
    string sm[15]={"M","CM","D","LD","CD","C","XC","L","VL","XL","X","IX","V","IV","I"};
    string b,c,cn;

    cin >> a >> b >> c;

    long long dec=btodec(c,a);

    if(b=="R")
    {
        while(dec)
        {
            for(int i=0;i<15;i++)
                if(dec/d[i])
                {
                    int v=dec/d[i];

                    for(int j=0;j<v;j++)
                        cn+=sm[i];

                    dec-=(d[i]*v);
                }
        }

        if(!cn.size() && !dec) cn+="0";

        cout << cn << endl;
    }
    else
    {
        bs=atoi(b.c_str());
        cn=dectob(dec,bs);
        cout << cn << endl;
    }

    return 0;
}
