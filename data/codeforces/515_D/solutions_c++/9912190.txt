#include<stdio.h>
typedef unsigned u;
char M[2002][2002],c,D[4]={'^','<','v','>'};
u Dx[4]={1,0,-1,0};
u Dy[4]={0,1,0,-1};
u Qx[4004004],Qy[4004004],St,Fi;
int main()
{
    u x,y,i,j,k,l,L,I,J;
    scanf("%u%u",&x,&y);
    for(i=0;++i<=x;)for(j=0;++j<=y;)
    {
        while((c=getchar())<=' ');
        M[i][j]=c;
    }
    for(i=0;++i<=x;)for(j=0;++j<=y;)if(M[i][j]=='.')
    {
        for(k=l=-1;++l<4;)if(M[i+Dx[l]][j+Dy[l]]=='.')++k;
        if(!k){Qx[Fi]=i;Qy[Fi]=j;++Fi;}
    }
    for(St=0;St<Fi;++St)if(M[i=Qx[St]][j=Qy[St]]=='.')
    {
        for(l=-1;++l<4;)if(M[i+Dx[l]][j+Dy[l]]=='.')break;
        if(l==4)continue;
        M[i][j]=D[l];
        i+=Dx[l];j+=Dy[l];
        M[i][j]=D[(l+2)&3];
        for(L=-1;++L<4;)if(M[I=i+Dx[L]][J=j+Dy[L]]=='.')
        {
            for(k=l=-1;++l<4;)
            if(M[I+Dx[l]][J+Dy[l]]=='.')++k;
            if(!k){Qx[Fi]=I;Qy[Fi]=J;++Fi;}
        }
    }
    for(k=i=0;++i<=x;)for(j=0;++j<=y;)if(M[i][j]=='.')++k;
    if(k)printf("Not unique\n");
    else
    for(i=0;++i<=x;)printf("%s\n",(char*)M[i]+1);
    return 0;
}