#include <stdio.h>
#include <string.h>
#include <iostream>
#include <algorithm>
using namespace std;

const int N = 2003;
int m, n;
char a[N][N];
int x[10000007], y[10000007], k;

void nie() {
    cout << "Not unique" << endl;
    exit(0);
}

void update(int x, int y) {
    if (a[x][y]=='.')
    if ((a[x-1][y]=='.')+(a[x+1][y]=='.')
    +(a[x][y-1]=='.')+(a[x][y+1]=='.')==1)
    { ::x[k]=x; ::y[k]=y; k++; }
}

void around(int x, int y) {
    update(x-1, y);
    update(x+1, y);
    update(x, y-1);
    update(x, y+1);
}

main() {
    scanf("%d%d", &m, &n);
    for (int i=1; i<=m; i++)
        scanf("%s", a[i]+1);
    for (int i=1; i<=m; i++)
    for (int j=1; j<=n; j++)
        update(i, j);
    for (int i=0; i<k; i++) {
        int x=::x[i], y=::y[i];
        if (a[x][y]!='.') continue;
        if (a[x-1][y]=='.') a[x][y]='v', a[x-1][y]='^', around(x-1, y);
        if (a[x+1][y]=='.') a[x][y]='^', a[x+1][y]='v', around(x+1, y);
        if (a[x][y-1]=='.') a[x][y]='>', a[x][y-1]='<', around(x, y-1);
        if (a[x][y+1]=='.') a[x][y]='<', a[x][y+1]='>', around(x, y+1);
        update(x, y);
    }
    for (int i=1; i<=m; i++)
        for (int j=1; j<=n; j++)
        if (a[i][j]=='.') nie();
    for (int i=1; i<=m; i++)
        printf("%s\n", a[i]+1);
}
