//In the Name of God

#include<iostream>
#include<vector>
#define K(i,j,k) for(int i=j;i<=k;i++)
#define J make_pair
#define P push_back

using namespace std;

int n,m,N;
string s[2020];
bool M[2020][2020];
vector<pair<int,int> > v;

inline int G(int i,int j){
  return 0+!M[i+1][j]+!M[i-1][j]+!M[i][j+1]+!M[i][j-1];
}

inline void A(int i,int j){
  M[i][j]=1;
  if(!M[i][j+1] && G(i,j+1)==1)
    v.P(J(i,j+1)),M[i][j+1]=1;
  if(!M[i][j-1] && G(i,j-1)==1)
    v.P(J(i,j-1)),M[i][j-1]=1;
  if(!M[i+1][j] && G(i+1,j)==1)
    v.P(J(i+1,j)),M[i+1][j]=1;
  if(!M[i-1][j] && G(i-1,j)==1)
    v.P(J(i-1,j)),M[i-1][j]=1;
}

inline void F(int i,int j){
  if(!M[i][j+1])
    s[i-1][j-1]='<',s[i-1][j+1-1]='>',A(i,j+1);
  if(!M[i][j-1])
    s[i-1][j-1]='>',s[i-1][j-1-1]='<',A(i,j-1);
  if(!M[i+1][j])
    s[i-1][j-1]='^',s[i+1-1][j-1]='v',A(i+1,j);
  if(!M[i-1][j])
    s[i-1][j-1]='v',s[i-1-1][j-1]='^',A(i-1,j);
}

inline void B(int x,int y){
  v.clear();
  v.P(J(x,y));
  M[x][y]=1;
  K(i,0,v.size()-1)
    F(v[i].first,v[i].second);
}
int main(){
  cin>>n>>m;
  N=max(n,m)+1;
  K(i,0,n-1)
    cin>>s[i];
  K(i,0,N)
    M[0][i]=M[i][0]=M[n+1][i]=M[i][m+1]=1;
  K(i,0,n-1)K(j,0,m-1)
    if(s[i][j]!='.')
      M[i+1][j+1]=1;
  K(i,1,n)K(j,1,m)
    if(!M[i][j] && G(i,j)==1)
      B(i,j);
  for(int i=0;i<n;i++)
    for(int j=0;j<m;j++)
      if(s[i][j]=='.'){
	cout<<"Not unique"<<endl;
	return 0;
      }
  K(i,0,n-1)
    cout<<s[i]<<endl;
  return 0;
}
