#include<cstdio>
#include<cstring>
const int maxn= 2005;
const int maxm= 2005;
struct sw{
	int x,y;
	sw(){};
	sw(int xx,int yy){
		x=xx,y=yy;
	}
}p[maxn*maxm],t;
char mp[maxn][maxm];
char vis[maxn][maxm];
int movex[4]={1,-1,0,0};
int movey[4]={0,0,1,-1};
char ans[5]="^v<>";
int n,m,cou;
bool isin(int x,int y){
	if(x>=0&&x<n&&y>=0&&y<m) return true;
	else return false;
}
int getdeg(int x,int y){
	int ans=0;
	for(int i=0;i<4;i++){
		int xx=movex[i]+x;
		int yy=movey[i]+y;
		if(isin(xx,yy)&&mp[xx][yy]=='.')
			ans++;
	}
	return vis[x][y]=ans;
}
int main(void){
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;i++) scanf("%s",mp[i]);
	for(int i=0;i<n;i++)
		for(int j=0;j<m;j++)
			if(mp[i][j]=='.'&&getdeg(i,j)==1)
				p[cou++]=sw(i,j);
	for(int i=0;i<cou;i++){
		t=p[i];
		for(int j=0;j<4;j++){
			int xx=movex[j]+t.x;
			int yy=movey[j]+t.y;
			if(isin(xx,yy)&&mp[xx][yy]=='.'){
				mp[t.x][t.y]=ans[j];
				mp[xx][yy]=ans[j^1];
				for(int k=0;k<4;k++){
					int xxx=movex[k]+xx;
					int yyy=movey[k]+yy;
					if(isin(xxx,yyy)&&mp[xxx][yyy]=='.'){
						if(--vis[xxx][yyy]==1)
							p[cou++]=sw(xxx,yyy);
					}
				}
			}
		}
	}
	int flag=1;
	for(int i=0;i<n&&flag;i++)
		for(int j=0;j<m&&flag;j++)
			if(mp[i][j]=='.'){
				printf("Not unique\n");
				flag=0;
			}
	if(flag)
		for(int i=0;i<n;i++) printf("%s\n",mp[i]);			
	
	return 0;
}