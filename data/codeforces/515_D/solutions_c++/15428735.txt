#include <cstdio>

using namespace std;
const int maxn = 2e3+10;
int n, m;
char s[maxn][maxn];
int dx[] = {1, 0, -1, 0};
int dy[] = {0, -1, 0, 1};

bool ok(int r, int c){
	return r >= 0 && r < n && c >= 0 && c <= m;
}

int query(int r, int c){
	int ans = -1;
	for(int i = 0; i < 4; ++ i){
		int x = r + dx[i];
		int y = c + dy[i];
		if(ok(x, y) && s[x][y] == '.'){
			if(~ans){
				return -1;
			}else{
				ans = x*m + y;
			}
		}
	}
	return ans;
}

void solve(int r, int c);

void dfs(int r, int c){
	for(int i = 0; i < 4; ++ i){
		int x = r + dx[i];
		int y = c + dy[i];
		if(ok(x, y) && s[x][y] == '.'){
			solve(x, y);
		}
	}
}

void solve(int r, int c){
	int flag = query(r, c);
	if(~flag){
		int x = flag/m;
		int y = flag%m;
		if(x > r){
			s[x][y] = 'v';
			s[r][c] = '^';
		}else if(x < r){
			s[x][y] = '^';
			s[r][c] = 'v';
		}else if(y > c){
			s[x][y] = '>';
			s[r][c] = '<';
		}else{
			s[x][y] = '<';
			s[r][c] = '>';
		}
		dfs(r, c);
		dfs(x, y);
	}
}

int main(){
	while(~scanf("%d%d", &n, &m)){
		for(int i = 0; i < n; ++ i){
			scanf("%s", s[i]);
		}
		for(int i = 0; i < n; ++ i){
			for(int j = 0; j < m; ++ j){
				if(s[i][j] == '.'){
					solve(i, j);
				}
			}
		}
		for(int i = 0; i < n; ++ i){
			for(int j = 0; j < n; ++ j){
				if(s[i][j] == '.'){
					puts("Not unique");
					goto ok;
				}
			}
		}
		for(int i = 0; i < n; ++ i){
			puts(s[i]);
		}
		ok:;
	}
}
