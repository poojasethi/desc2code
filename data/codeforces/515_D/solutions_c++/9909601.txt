#include<iostream>
#include<cstdio>
#include<cstring>
#include<string>
#include<cmath>
using namespace std;
#define mxn 2010
int n,m;
char a[mxn][mxn];
int mx[]={0,1,0,-1},my[]={1,0,-1,0};
bool okk(int x,int y){
    if(x<0||y<0||x>=n||y>=m)    return false;
    return a[x][y]=='.';
}
void dfs(int x,int y){
    if(!okk(x,y))   return;
    int tem=0,rec;
    for(int i=0;i<4;++i)    if(okk(x+mx[i],y+my[i])){
        ++tem;
        rec=i;
    }
    if(!tem)    return;
    if(tem==1){
        if(rec==0){
            a[x][y]='<';
            a[x][y+1]='>';
        }
        else if(rec==1){
            a[x][y]='^';
            a[x+1][y]='v';
        }
        else if(rec==2){
            a[x][y]='>';
            a[x][y-1]='<';
        }
        else{
            a[x][y]='v';
            a[x-1][y]='^';
        }
        for(int i=0;i<4;++i)    
            dfs(x+mx[rec]+mx[i],y+my[rec]+my[i]);
    }
}
int main(){
    while(scanf("%d%d",&n,&m)!=EOF){
        for(int i=0;i<n;++i)    scanf("%s",a[i]);
        for(int i=0;i<n;++i)
            for(int j=0;j<m;++j)
                dfs(i,j);
        bool ok=true;
        for(int i=0;i<n;++i){
            for(int j=0;j<m;++j)    if(a[i][j]=='.'){
                ok=false;
                break;
            }
            if(!ok) break;
        }
        if(!ok) puts("Not unique");
        else for(int i=0;i<n;++i)
            printf("%s\n",a[i]);
    }
    return 0;
}
