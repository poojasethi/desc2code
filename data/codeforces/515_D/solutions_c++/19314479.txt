#include <iostream>
#include <cstdio>
#define MAXN 2005
#define r(i,a,b) for(int i=a;i<=b;i++)
using namespace std;
int n, m, ans, cnt;
int dtx[] = { 0,0,1,-1 };
int dty[] = { 1,-1,0,0 };
char ch[MAXN][MAXN];
void dfs(int x,int y) {
	if (x<1 || x>n || y<1 || y>m || ch[x][y] != '.') return;
	int xx, yy, dt=-1, sum = 0;
	r(i, 0, 3) {
		xx = x + dtx[i];
		yy = y + dty[i];
		if (ch[xx][yy] == '.') {
			sum++;
			dt = i;
		}
	}
	if (sum == 1) {
		if (dt == 0) {
			ch[x][y] = '<';
			ch[x + dtx[dt]][y + dty[dt]] = '>';
		}
		else if (dt == 1) {
			ch[x][y] = '>';
			ch[x + dtx[dt]][y + dty[dt]] = '<';
		}
		else if (dt == 2) {
			ch[x][y] = '^';
			ch[x + dtx[dt]][y + dty[dt]] = 'v';
		}
		else if (dt == 3) {
			ch[x][y] = 'v';
			ch[x + dtx[dt]][y + dty[dt]] = '^';
		}
		ans += 2;
		r(i, 0, 3) {
			dfs(x + dtx[dt]+ dtx[i], y + dty[dt]+ dty[i]);
		}
	}
	
}
int main() {
	cin >> n >> m;
	ans = 0;
	cnt = 0;
	getchar();
	r(i, 1, n) {
		r(j, 1, m) {
			scanf("%c",&ch[i][j]);
			if (ch[i][j] == '.') cnt++;
		}
		getchar();
	}
	r(i, 1, n) {
		r(j, 1, m) {
			dfs(i,j);
		}
	}
	//cout <<ans<< endl;
	if (ans == cnt) {
		r(i, 1, n) {
			r(j, 1, m) {
				printf("%c",ch[i][j]);
			}
			printf("\n");
		}
	}
	else {
		printf("Not unique\n");
	}
	return 0;
}