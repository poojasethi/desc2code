#include<bits/stdc++.h>
using namespace std;
vector<pair<int,int> >q;
pair<int,int> t; 
char a[2007][2007];
#define pb push_back 
#define mp make_pair 
bool deg(int x,int y){
  int s=0;
  if(a[x][y]!='.') return false;
  if(a[x+1][y]=='.') s++;
  if(a[x][y+1]=='.') s++;
  if(a[x-1][y]=='.') s++;
  if(a[x][y-1]=='.') s++;
  if(s==1) return true;
  return false;
}

void check(int x,int y){
  if(deg(x+1,y)) q.pb(mp(x+1,y));
  if(deg(x-1,y)) q.pb(mp(x-1,y));
  if(deg(x,y+1)) q.pb(mp(x,y+1));
  if(deg(x,y-1)) q.pb(mp(x,y-1));
}
int main()
{
  cin.tie(NULL);
  ios_base::sync_with_stdio(0);
  int n,m; cin>>n>>m;
  for(int i=1;i<=n;i++) for(int j=1;j<=m;j++) cin>>a[i][j];
  //if deg=1 then push_back
  for(int i=1;i<=n;i++)
    for(int j=1;j<=m;j++)
      if(deg(i,j)) 
        q.pb(mp(i,j));

  while(!q.empty()){
    t=q.back();
    q.pop_back();
    int x,y;
    x=t.first; y=t.second;
    if(a[x+1][y]=='.'){
      a[x][y]='^';
      a[x+1][y]='v';
      check(x+1,y);
    }
    if(a[x-1][y]=='.'){
      a[x][y]='v';
      a[x-1][y]='^';
      check(x-1,y);
    }
    if(a[x][y+1]=='.'){
      a[x][y]='<';
      a[x][y+1]='>';
      check(x,y+1);
    }
    if(a[x][y-1]=='.'){
      a[x][y]='>';
      a[x][y-1]='<';
      check(x,y-1);
    }
  }

  for(int i=1;i<=n;i++) 
    for(int j=1;j<=m;j++)
      if(a[i][j]=='.'){
        cout<<"Not unique"<<"\n";
        return 0;
      }
  for(int i=1;i<=n;i++){ 
    for(int j=1;j<=m;j++)
      cout<<a[i][j];
    cout<<"\n";
  }
  return 0;
}













































