#include<cstdio>
#include<cstring>
using namespace std;
char s[2005][2005];
int n,m,cnt,dx[]={0,0,1,-1},dy[]={1,-1,0,0};
void dfs(int x,int y)
{
    if(x<1 || x>n || y<1 || y>m || s[x][y]!='.') return;
    int t=-1,sum=0;
    for(int i=0;i<4;i++)
    {
        int tx=x+dx[i];
        int ty=y+dy[i];
        if(s[tx][ty]=='.')
        {
            sum++;
            t=i;
        }
    }
    if(sum==1)
    {
        if(t==0)
        {
            s[x][y]='<';
            s[x][y+1]='>';
        }
        else if(t==1)
        {
            s[x][y]='>';
            s[x][y-1]='<';
        }
        else if(t==2)
        {
            s[x][y]='^';
            s[x+1][y]='v';
        }
        else if(t==3)
        {
            s[x][y]='v';
            s[x-1][y]='^';
        }
        cnt+=2;
        for(int i=0;i<4;i++) dfs(x+dx[t]+dx[i],y+dy[t]+dy[i]);
    }
    return;
}
inline void init()
{
    cnt=0;
    for(int i=1;i<=n;i++)
    {   
        s[i][0]='*';
        s[i][m+1]='*';
    }
    for(int i=1;i<=m;i++)
    {
        s[0][i]='*';
        s[n+1][i]='*';
    }
    for(int i=1;i<=n;i++) for(int j=1;j<=m;j++) if(s[i][j]=='*') cnt++;
    return;
}

int main()
{
    scanf("%d%d",&n,&m);
    for(int i=1;i<=n;i++) scanf("%s",s[i]+1);
    init();
    for(int i=1;i<=n;i++) for(int j=1;j<=m;j++) dfs(i,j);
    if(cnt==n*m) for(int i=1;i<=n;i++) 
	{
		s[i][m+1]='\0';
		printf("%s\n",s[i]+1);
	}
    else puts("Not unique");
    return 0;
}
