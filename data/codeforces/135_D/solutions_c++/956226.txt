#include <iostream>
#include <cstdio>
#include <set>

using namespace std;

long a[1006][1006]={0};
long dx[8]={0,0,1,-1,1,-1,1,-1};
long dy[8]={1,-1,0,0,-1,-1,1,1};
long hash[1006][1006]={0};
long flag=0;
long n,m;
long flag2=0;

set<pair<long,long> > pos;

void ff(long x,long y)
{
 long i;
 
 hash[x][y]=flag;
 for(i=0;i<8;i++)
   {
    if(x+dx[i]>n||x+dx[i]<1||y+dy[i]>m||y+dy[i]<1)
     {
      flag2=1;
      continue;
     }
    if(hash[x+dx[i]][y+dy[i]]==flag)
     continue;
    if(a[x+dx[i]][y+dy[i]]==1)
     {
      pos.insert(make_pair(x+dx[i],y+dy[i]));
      hash[x+dx[i]][y+dy[i]]=flag;
     }
    else
     ff(x+dx[i],y+dy[i]);
   }
}

long dfs(long x,long y,long fax,long fay,long stx,long sty)
{
 for(long i=0;i<4;i++)
   if(x+dx[i]!=fax||y+dy[i]!=fay)
    if(x+dx[i]!=stx||y+dy[i]!=sty)
    {
     if(a[x+dx[i]][y+dy[i]]&&hash[x+dx[i]][y+dy[i]]==flag)
      return dfs(x+dx[i],y+dy[i],x,y,stx,sty)+1;
    } 
 return 1;
}

int main()
{

 long i,j;
 long ans=0;
 
 scanf("%ld%ld",&n,&m);
 for(i=1;i<=n;i++)
   for(j=1;j<=m;j++)
     scanf("%1ld",&a[i][j]);
 for(i=1;i<n;i++)
   for(j=1;j<m;j++)
     if(a[i][j]==1&&a[i+1][j]==1&&a[i][j+1]==1&&a[i+1][j+1]==1)
      ans=4;
 for(i=1;i<=n;i++)
   for(j=1;j<=m;j++)
     if(!hash[i][j]&&a[i][j]==0)
     {
      pos.clear();
      flag++;
      flag2=0;
      ff(i,j);
      if(flag2)
       goto loop;
      if(pos.size()>ans)
       {
        for(set<pair<long,long> >::iterator p=pos.begin();p!=pos.end();p++)
          {
           long s=0;
           for(long k=0;k<4;k++)
             s+=hash[p->first+dx[k]][p->second+dy[k]]==flag&&a[p->first+dx[k]][p->second+dy[k]];
           if(s!=2)
            goto loop;
          }
        
        set<pair<long,long> >::iterator p=pos.begin();
        if(dfs(p->first,p->second,-1,-1,p->first,p->second)!=pos.size())
         goto loop;
       }
      else
       goto loop;
      ans=pos.size();
      loop:;
     }
 
 printf("%ld\n",ans);
 
 return 0;
}
