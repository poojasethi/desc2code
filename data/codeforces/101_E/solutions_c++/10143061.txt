#include <iostream>
#include <cstdio>
#include <cstring>
#include <cmath>
#include <algorithm>
using namespace std;
typedef long long LL;
int n,m,z,wr[40005],o,w,wn,x[20005],y[20005],p;
LL f1[2][20005],f2[2][20005],tot;
inline void work(int x1,int y1,int x2,int y2){
	if (y1==y2){
		for (int i=x1;i<=x2-1;++i) wr[++wn]=1,tot+=(x[i]+y[y1])%p;
		tot+=(x[x2]+y[y1])%p;
		return;
	}
	int mid=(y1+y2)/2,pl;
	LL ans=0;
	for (int i=y1;i<=mid;++i){
		o=i%2;w=(i+1)%2;
		for (int j=x1;j<=x2;++j)
		f1[o][j]=max(f1[o][j-1],f1[w][j])+(x[j]+y[i])%p;
	}
	for (int i=y2;i>=mid+1;--i){
		o=i%2;w=(i+1)%2;
		for (int j=x2;j>=x1;--j)
		f2[o][j]=max(f2[o][j+1],f2[w][j])+(x[j]+y[i])%p;
	}
	o=mid%2;w=(mid+1)%2;
	for (int j=x1;j<=x2;++j)
	if (f1[o][j]+f2[w][j]>ans) {
		ans=f1[o][j]+f2[w][j];pl=j;
	}
	for (int i=x1;i<=x2;++i) f1[0][i]=f1[1][i]=f2[0][i]=f2[1][i]=0;
	work(x1,y1,pl,mid);
	wr[++wn]=2;
	work(pl,mid+1,x2,y2);
}
int main(){
	//freopen("cf101E.in","r",stdin);freopen("cf101E.out","w",stdout);
	scanf("%d%d%d",&n,&m,&p);
	for (int i=1;i<=n;++i) scanf("%d",&x[i]);
	for (int i=1;i<=m;++i) scanf("%d",&y[i]);
	tot=wn=0;
	work(1,1,n,m);
	printf("%I64d\n",tot);
	for (int i=1;i<=n+m-2;++i){
		if (wr[i]==1) printf("C");
		else printf("S");
	}
	//fclose(stdin);fclose(stdout);
}