#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <iostream>
#include <algorithm>
#include <cstring>
#include <bitset>
using namespace std;

const int MAXN = 20000 + 10;

bitset<MAXN> a[MAXN / 2];
int A[MAXN], B[MAXN], f[2][MAXN], n, m, MOD, N;
char CC[MAXN * 2];

void init()
{
	scanf("%d%d%d", &n, &m, &MOD);
	N = n + m - 2;
	for (int i = 1; i <= n; ++i)
		scanf("%d", &A[i]);
	for (int i = 1; i <= m; ++i)
		scanf("%d", &B[i]);
}
void solve(bool flag)
{
	memset(f, 0, sizeof(f));
	for (int i = 1; i <= n; ++i)
	{
		int t = i & 1, t1 = t ^ 1;
		memset(f[t], 0, sizeof(f[t]));
		for (int j = 1; j <= m; ++j)
		{
			f[t][j] = f[t][j - 1];
			if (j < 2 || f[t1][j] > f[t][j])
			{
				f[t][j] = f[t1][j];
				if (n - i < MAXN / 2)
					a[n - i][j] = 1;
			}
			else
				if (n - i < MAXN / 2)
					a[n - i][j] = 0;
			f[t][j] += (A[i] + B[j]) % MOD;
		}
	}
	int cnt = 0;
	if (!flag)
		cout << f[n & 1][m] << endl;
	for (; cnt < MAXN / 2 && cnt < n && n - cnt + m > 1 && m; )
		if (a[cnt][m])
			++cnt, CC[--N] = 'C';
		else
		CC[--N] = 'S', --m;
	n -= cnt;
	memset(f, 0, sizeof(f));
}
int main()
{
#ifndef ONLINE_JUDGE
	freopen("input.txt", "r", stdin), freopen("output.txt", "w", stdout);
#endif
	init();
	solve(0);
	solve(1);
	puts(CC);
	fclose(stdin);
	fclose(stdout);
	return 0;
}
