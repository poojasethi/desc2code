#include<cstdio>
int N,M,P,i;
int f[20005],g[20005],X[20005],Y[20005];
int Abs(int a)
{
	if(a<0) return -a;
	return a;
}
void Work(int u,int d,int l,int r)
{
	int mid=(u+d)/2,mid1=(l+r)/2,p,i,j,s;
	if(u==d)
	{
		if(u==0&&d==N-1&&l==0&&r==M-1)
		{
			s=0;
			for(i=l;i<=r;++i) s+=(X[u]+Y[i])%P;
			printf("%d\n",s);
		}
		for(i=l;i<r;++i) printf("S");
		return;
	}
	for(i=l;i<=r;++i) f[i]=g[i]=0;
	for(i=u;i<=mid;++i)
	{
		f[l]+=(X[i]+Y[l])%P;
		for(j=l+1;j<=r;++j)
		{
			if(f[j-1]>f[j]) f[j]=f[j-1];
			f[j]+=(X[i]+Y[j])%P;
		}
	}

	for(i=d;i>mid;--i)
	{
		g[r]+=(X[i]+Y[r])%P;
		for(j=r-1;j>=l;--j)
		{
			if(g[j+1]>g[j]) g[j]=g[j+1];
			g[j]+=(X[i]+Y[j])%P;
		}
	}
	p=l;
	for(i=l+1;i<=r;++i)
		if(f[i]+g[i]>f[p]+g[p]||f[i]+g[i]==f[p]+g[p]&&Abs(p-mid1)>Abs(i-mid1))
			p=i;
	if(u==0&&d==N-1&&l==0&&r==M-1) printf("%d\n",f[p]+g[p]);
	Work(u,mid,l,p);
	printf("C");
	Work(mid+1,d,p,r);
}
int main()
{
	scanf("%d%d%d",&N,&M,&P);
	for(i=0;i<N;++i) scanf("%d",&X[i]);
	for(i=0;i<M;++i) scanf("%d",&Y[i]);
	Work(0,N-1,0,M-1);
	printf("\n");
	return 0;
}
  		   		    							 	  	  		 	