#include <cstdio>
#include <cstdlib>
using namespace std;
int a[20010], b[20010], ans[40010];
long long f[20010], g[20010];
int n, m, p;
long long solve(int x1, int y1, int x2, int y2)
{
    int key, mid;
    long long now;
    if (x1 == x2)
    {
        now = 0;
        for (int j = y1; j < y2; j++)
        {
            now += (a[x1] + b[j]) % p;
            ans[++ans[0]] = 83;
        }
        return now + (a[x1] + b[y2]) % p;
    }
    mid = x1 + x2 >> 1;
    for (int i = y1; i <= y2; i++) f[i] = g[i] = 0;
    for (int i = x1; i <= mid; i++)
     for (int j = y1; j <= y2; j++)
     {
        if (j > y1 && f[j - 1] > f[j]) f[j] = f[j - 1];
        f[j] += (a[i] + b[j]) % p;
     }
    for (int i = x2; i > mid; i--)
     for (int j = y2; j >= y1; j--)
     {
        if (j < y2 && g[j + 1] > g[j]) g[j] = g[j + 1];
        g[j] += (a[i] + b[j]) % p;
     }
    key = y1;
    for (int i = y1 + 1; i <= y2; i++) if (f[i] + g[i] > f[key] + g[key]) key = i;
    now = f[key] + g[key];
    solve(x1, y1, mid, key);
    ans[++ans[0]] = 67;
    solve(mid + 1, key, x2, y2);
    return now;
}
int main()
{
    scanf("%d%d%d", &n, &m, &p);
    for (int i = 0; i < n; i++) scanf("%d", a + i);
    for (int i = 0; i < m; i++) scanf("%d", b + i);
    printf("%I64d\n", solve(0, 0, n - 1, m - 1));
    for (int i = 1; i <= ans[0]; i++) printf("%c", (char)(ans[i]));
    printf("\n");
    return 0;
}