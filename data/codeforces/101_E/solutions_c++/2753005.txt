#include<cstdio>
const int mx=1000000000;
const int tt=20005;
int ans[tt],res[tt<<1],pos[tt],x[tt],y[tt];
int p;
void getans(int sx,int sy,int bx,int by){
    if (bx+by-sx-sy<2) return;
    int i,j,mid=(sx+sy+bx+by)/2;
    for (ans[sy]=0,i=sy+1;i<=by;i++) ans[i]=-mx;
    for (i=sx+sy+1;i<=bx+by;i++){
        for (j=by<i-sx?by:i-sx;j>=sy;j--) if (j!=sy && ans[j-1]>ans[j]){
            ans[j]=ans[j-1]+(x[i-j]+y[j])%p;
            if (i==mid) pos[j]=j;
            if (i>mid) pos[j]=pos[j-1];
        } else{
            ans[j]=ans[j]+(x[i-j]+y[j])%p;
            if (i==mid) pos[j]=j;
            if (i>mid) pos[j]=pos[j];
        }
    }
    res[mid]=pos[by];
    getans(sx,sy,mid-res[mid],res[mid]);
    getans(mid-res[mid],res[mid],bx,by);
}
int main(){
    int n,m,i,pre;
    scanf("%d%d%d",&n,&m,&p);
    for (i=0;i<n;i++) scanf("%d",x+i);
    for (i=0;i<m;i++) scanf("%d",y+i);
    getans(0,0,n-1,m-1);
    res[0]=0,res[n+m-2]=m-1;
    for (pre=i=0;i<=n+m-2;i++) pre+=(x[i-res[i]]+y[res[i]])%p;
    printf("%d\n",pre);
    for (i=1;i<=n+m-2;i++) putchar(res[i]==res[i-1]?'C':'S');
    puts("");
    return 0;
}
