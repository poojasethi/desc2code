#include <cstdio>
#include <algorithm>
#define F(a,b) ((x[a]+y[b])%P)

int ans,N,M,P,S,x[20005],y[20005],f[20005],g[20005];
char s[40005];

int work(int l,int r,int u,int d)
{
	int m=(l+r)/2,ma=-1,p,res=0;
	if (l==r)
	{
		for (int i=u+1; i<=d; i++) s[S++]='C',res+=F(i,l);
		return res+=F(u,l);
	}
	for (int i=u-1; i<=d+1; i++) f[i]=g[i]=0;
	for (int i=l; i<=m; i++)
		for (int j=u; j<=d; j++) f[j]=std::max(f[j],f[j-1])+F(j,i);
	for (int i=r; i>m; i--)
		for (int j=d; j>=u; j--) g[j]=std::max(g[j],g[j+1])+F(j,i);
	for (int i=u; i<=d; i++) if (f[i]+g[i]>ma) ma=f[i]+g[i],p=i;
	res+=work(l,m,u,p),s[S++]='S',res+=work(m+1,r,p,d);
	return res;
}

int main()
{
	scanf("%d%d%d",&N,&M,&P);
	for (int i=0; i<N; i++) scanf("%d",&x[i]);
	for (int i=0; i<M; i++) scanf("%d",&y[i]);
	printf("%d\n%s\n",work(0,M-1,0,N-1),s);
}