#include<cstdio>
#include<cstdlib>
#include<cstring>

using namespace std;

const int maxn=20010;

int x[maxn],y[maxn],n,m,l,p;

long long f[maxn],g[maxn];

char s[maxn<<1];

long long dfs(int x1,int y1,int x2,int y2)
{
	if (x1==x2)
	{
		long long ans=0;
		for (int b=y1;b<=y2;b++)
		{
			ans+=(x[x1]+y[b])%p;
			if (b>y1)
			{
				l++;
				s[l]='S';
			}
		}
		return ans;
	}
	int m=(x1+x2)>>1;
	for (int a=y1;a<=y2;a++)
		f[a]=g[a]=0;
	for (int a=x1;a<=m;a++)
		for (int b=y1;b<=y2;b++)
		{
			if (b>y1 && f[b-1]>f[b]) f[b]=f[b-1];
			f[b]+=(x[a]+y[b])%p;
		}
	for (int a=x2;a>m;a--)
		for (int b=y2;b>=y1;b--)
		{
			if (b<y2 && g[b]<g[b+1]) g[b]=g[b+1];
			g[b]+=(x[a]+y[b])%p;
		}
	int p=y1;
	for (int a=y1+1;a<=y2;a++)
		if (f[a]+g[a]>f[p]+g[p]) p=a;
	long long v=f[p]+g[p];
	dfs(x1,y1,m,p);
	l++;
	s[l]='C';
	dfs(m+1,p,x2,y2);
	return v;
}

int main()
{
	scanf("%d%d%d",&n,&m,&p);
	for (int a=1;a<=n;a++)
		scanf("%d",&x[a]),x[a]%=p;
	for (int a=1;a<=m;a++)
		scanf("%d",&y[a]),y[a]%=p;
	printf("%I64d\n",dfs(1,1,n,m));
	printf("%s\n",s+1);

	return 0;
}
