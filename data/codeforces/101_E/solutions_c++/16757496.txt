#include<algorithm>
#include<cstdio>
using namespace std;

typedef long long LL;

const int maxn=20010;

int mod;

int Ax[maxn],Ay[maxn];
int n,m;

bool updmx(LL& x,LL y){return x<y?x=y,1:0;}
int A(int x,int y){return (Ax[x]+Ay[y])%mod;}

int f[maxn],g[maxn];
void solve(int x1,int y1,int x2,int y2){
	int xmid=(x1+x2)/2,ymid=(y1+y2)/2;
	if(x1==x2){
		if(x1==0&&y1==0&&x2==n-1&&y2==m-1){
			int s=0;
			for(int i=y1;i<=y2;++i) s+=A(x1,i);
			printf("%d\n",s);
		}
		for(int i=y1;i<y2;++i)putchar('S');
		return;
	}
	for(int i=y1;i<=y2;++i)f[i]=g[i]=0;
	for(int i=x1;i<=xmid;++i){
		f[y1]+=A(i,y1);
		for(int j=y1+1;j<=y2;++j){
			f[j]=max(f[j-1],f[j])+A(i,j);
		}
	}
	for(int i=x2;i>xmid;--i){
		g[y2]+=A(i,y2);
		for(int j=y2-1;j>=y1;--j){
			g[j]=max(g[j+1],g[j])+A(i,j);
		}
	}
	int p=y1;
	for(int i=y1+1;i<=y2;++i)if(f[i]+g[i]>f[p]+g[p] || (f[i]+g[i]==f[p]+g[p] && abs(p-ymid)<abs(i-ymid)))p=i;
	if(x1==0&&y1==0&&x2==n-1&&y2==m-1)printf("%d\n",f[p]+g[p]);
	solve(x1,y1,xmid,p);
	putchar('C');
	solve(xmid+1,p,x2,y2);
}

int main(){
//	freopen("in.txt","r",stdin);
	scanf("%d%d%d",&n,&m,&mod);
	for(int i=0;i<n;++i)scanf("%d",Ax+i);
	for(int j=0;j<m;++j)scanf("%d",Ay+j);
	solve(0,0,n-1,m-1);
	putchar('\n');
//	for(;;);
	return 0;
}

	   	  	 		 				 	 		 			  	 	