#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <bitset>
#define N 20010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,nn,s,t,re,X,Y,p;
bitset<N>a[N/2];
int f[2][N],x[N],y[N];
char an[N*2];
inline int get(int A,int B) {
	return (x[A]+y[B])%p;
}
int main() {
	scanf("%d%d%d",&n,&m,&p);
	For(i,1,n) scanf("%d",&x[i]);
	For(i,1,m) scanf("%d",&y[i]);
	nn=n/2+1;
	memset(f,130,sizeof(f));
	f[s=1][1]=get(1,1); For(j,2,m) f[s][j]=f[s][j-1]+get(1,j);
	For(i,2,nn) {
		swap(s,t);
		For(j,1,m) {
			f[s][j]=max(f[s][j-1],f[t][j])+get(i,j);
		}
	}
	For(i,nn+1,n) {
		swap(s,t);
		For(j,1,m) {
			if (f[s][j-1]<f[t][j]) {
				f[s][j]=f[t][j];
				a[i-nn][j]=1;
			} else f[s][j]=f[s][j-1];
			f[s][j]+=get(i,j);
		}
	}
	printf("%d\n",f[s][m]);
	X=n,Y=m;
	for (;X>nn;) {
		if (a[X-nn][Y]) {
			an[++re]='C';
			X--;
		} else {
			an[++re]='S';
			Y--;
		}
	}
	
	For(i,1,nn) a[i].reset();
	memset(f,130,sizeof(f)); t=0;
	f[s=1][1]=get(1,1); For(j,2,m) f[s][j]=f[s][j-1]+get(1,j);
	For(i,2,nn) {
		swap(s,t);
		For(j,1,m) {
			if (f[s][j-1]<f[t][j]) {
				f[s][j]=f[t][j];
				a[i][j]=1;
			} else f[s][j]=f[s][j-1];
			f[s][j]+=get(i,j);
		}
	}
	for (;X+Y>2;) {
		if (a[X][Y]) {
			an[++re]='C';
			X--;
		} else {
			an[++re]='S';
			Y--;
		}
	}
	for (;re;re--) printf("%c",an[re]);
	printf("\n");
	return 0;
}
