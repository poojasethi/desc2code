#include <cstdio>
#include <cstring>
using namespace std;

const int maxn=100010;
int x[maxn],y[maxn],f[maxn],g[maxn],p,n,m,len;
char str[maxn];

int v(int i, int j){return (x[i] + y[j]) % p;}
int getmax(int x, int y){if (x>y) return x; return y;}
int work(int l, int r, int d, int u)
{
	int ans=0, mid=(l+r)>>1, mid1;
	if (l==r)
	{
		for (int i=d; i<u; i++) str[++len]='S', ans+=v(l, i);
		ans+=v(l,u);
		return ans;
	}
	for (int i=d; i<=u; ++i) f[i]=0;
	for (int i=d; i<=u; ++i) g[i]=0;
	
	for (int i=l; i<=mid; ++i)
	{
		f[d]+=v(i, d);
		for (int j=d+1; j<=u; ++j)
			f[j]=getmax(f[j], f[j-1])+v(i, j);
	}
	for (int i = r; i > mid; --i)
	{
		g[u]+=v(i, u);
		for (int j=u-1; j>=d; --j)
			g[j]=getmax(g[j], g[j+1])+v(i, j);
	}
	for (int i=d; i<=u; ++i)
		if (f[i]+g[i]>=ans)ans=f[i]+g[i], mid1=i;
	work(l, mid, d, mid1); str[++len]='C'; work(mid+1, r, mid1, u);
	return ans;
}

int main()
{
	
	scanf("%d%d%d",&n,&m,&p);
	for (int i=1; i<=n; ++i) scanf("%d",&x[i]);
	for (int i=1; i<=m; ++i) scanf("%d",&y[i]);
	printf("%d\n",work(1, n, 1, m));
	for (int i=1; i<=n+m-2; i++) printf("%c",str[i]);
	//for (;;);
	return 0;
}
