#include<cstdio>
#include<algorithm>
#define fo(i,a,b) for(i=a;i<=b;++i)
#define fd(i,a,b) for(i=a;i>=b;--i)
using namespace std;
typedef long long LL;
const int mn=20100;
int x[mn],y[mn];
int n,m,p,i,j,tt;
LL ans,f[mn],g[mn];
char s[mn*2];
int F(int a,int b){return (x[a]+y[b])%p;}
LL dp(int x,int y,int l,int r)
{
    LL res=0;
    if(x==y)
    {
        int i;
        fo(i,l,r-1)s[++tt]='S',res+=F(x,i);
        res+=F(x,r);
        return res;
    }
    int i,j,k,mid=(x+y)/2;
    fill(f+l,f+r+1,0);
    fill(g+l,g+r+1,0);
    fo(i,x,mid)
    {
        f[l]+=F(i,l);
        fo(j,l+1,r)f[j]=max(f[j],f[j-1])+F(i,j);
    }
    fd(i,y,mid+1)
    {
        g[r]+=F(i,r);
        fd(j,r-1,l)g[j]=max(g[j],g[j+1])+F(i,j);
    }
    k=l,res=f[k]+g[k];
    fo(i,l,r)
        if(f[i]+g[i]>res)res=f[i]+g[i],k=i;
    dp(x,mid,l,k);
    s[++tt]='C';
    dp(mid+1,y,k,r);
    return res;
}
int main()
{
    scanf("%d%d%d",&n,&m,&p);
    fo(i,1,n)scanf("%d",x+i);
    fo(i,1,m)scanf("%d",y+i);
    ans=dp(1,n,1,m);
    printf("%I64d\n",ans);
    puts(s+1);
    return 0;
}