#include<cstdio>
#include<algorithm>
typedef long long lld;
using namespace std;
int a[100000];
lld sum[100000];
int main(){
	int n;
	while(~scanf("%d",&n)){
		int i;
		for(i=0;i<n;++i)scanf("%d",a+i);
		sort(a,a+n);
		lld total=sum[0]=a[0];
		for(i=1;i<n;++i)total+=sum[i]=sum[i-1]+a[i];
		total-=sum[n-1];
		int q;
		scanf("%d",&q);
		int k;
		while(q--){
			scanf("%d",&k);
			if(k==1)printf("%I64d%c",total,q?' ':'\n');
			else{
				lld at=n-1;
				lld cur;
				lld res=0;
				for(cur=1;(at-=cur)>=0;cur*=k){
					res+=sum[at];
				}
				printf("%I64d%c",res,q?' ':'\n');
			}
		}
	}
	return 0;
}