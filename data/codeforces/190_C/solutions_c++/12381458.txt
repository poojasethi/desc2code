#include <iostream>
#include <algorithm>
using namespace std;
string s,ans;
bool flag;
void doit(){
	if (cin>>s && s!=""){
		//cout<<"?"<<s<<"?"<<endl;
		ans+=s;
		if (s=="pair"){
		
			ans+="<";
			doit();
			ans+=",";
			doit();
			ans+=">";
		}
		
	}
	else{
		//cout<<":";
		flag=false;
	}
}
int main(){
	int n;
	cin>>n;
	flag=true;
	//cin>>s;
	doit();
	if (cin>>s ||flag==false){
		cout<<"Error occurred";
	}
	else{
		cout<<ans;
	}
	return 0;
}