#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <string>
using namespace std;

string s;
char S[11111];

void scan() {
 if (scanf("%s", S) != 1) { puts("Error occurred"); exit(0); }
 s += S;
 if (*S == 'p') {
  s += '<';
  scan();
  s += ',';
  scan();
  s += '>';
 }
}

int main() {
 scanf("%*d");
 scan();
 if (scanf("%s", S) == 1) { puts("Error occurred"); exit(0); }
 puts(s.c_str());
 return 0;
}