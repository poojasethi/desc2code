#include<cstdio>
#include<iostream>
using namespace std;
string x,d;
int t;
void dfs()
{
     if(cin>>x)
     {
               d+=x;
               if(x=="pair")
               {
                         d+="<",dfs(),d+=",",dfs(),d+=">";
               }
     }
     else 
            t=1;
 }
int main()
{
    int o;
    cin>>o;
    dfs();
    if(t||cin>>x)
        cout<<"Error occurred";
    else
        cout<<d;
    return 0;
}
