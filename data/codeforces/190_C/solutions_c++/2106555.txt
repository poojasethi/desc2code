#include <cstdio>
using namespace std;
char s[100100*8],*p=s;
bool dfs(void) {
  char t[8];
  if(1==scanf("%s",t)){
    p+=sprintf(p,t);
    if('p'==*t){
      p+=sprintf(p,"<");
      if (!dfs())return false;
      p+=sprintf(p,",");
      if (!dfs())return false;
      p+=sprintf(p,">");
    }
    return true;
  }
  else return false;
}
int main(void) {
  scanf("%*d");
  puts(dfs()&&1!=scanf("%s",p+1)?s:"Error occurred");
  return 0;
}