#include <iostream>
#include <string>
using namespace std;
string s,z;
int t;
void f()
{
	if (cin>>s)
	{
		z+=s;
		if (s=="pair"){
			z+='<';
			f();
			z+=',';
			f();
			z+='>';
	    }
    }
    else
    	t=1;
}
int main(){
	cin>>s;
	f();
	if (t||(cin>>s))
		cout<<"Error occurred"<<endl;
	else
		cout<<z<<endl;
	return 0;
}