#include<iostream>
using namespace std;
string s="",z="";
int t=0;	
int n;
int f()
{
	if(cin>>s)
	{
		z+=s;
		if(s=="pair")
		z+="<",f(),z+=",",f(),z+=">";
		else n--;
	}
	else
	t=1;
}
int main()
{
	cin>>n;
	if(cin>>s)
	{
		z+=s;
		if(s=="pair")
		z+="<",f(),z+=",",f(),z+=">";
		else n--;
		if(cin>>s)t=1;
	}
	else
	t=1;
	if(!(t||n>=1))
	{cout<<z<<endl;return 0;}
	else
	cout<<"Error occurred"<<endl;
	return 0;
}