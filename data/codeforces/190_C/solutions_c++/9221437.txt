#include <bits/stdc++.h>
#define maxn 200009
using namespace std;
int n,flag;
string S,ans="";
void solve()
{
	if(cin>>S)
	{
		ans+=S;
		if(S=="pair")
		{
			ans+='<';
			solve();
			ans+=',';
			solve();
			ans+='>';
		}
	}
	else
	{
		flag=1;
	}
}
int main()
{
	cin>>n;
	solve();
	if(flag||cin>>S)
		puts("Error occurred");
	else
		cout<<ans<<endl;
	//system("pause");
	return 0;
}