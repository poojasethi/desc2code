#include<cstdio>
#include<string>

using namespace std;

string ans;

bool rec(){
	char s[5];
	if(scanf("%s",s)==-1) return false;

	ans+=s;
	if(s[0]=='p'){
		ans+='<';
		if(!rec()) return false;
		ans+=',';
		if(!rec()) return false;
		ans+='>';
	}
	return true;
}

int main(){
	scanf("%*d");
	bool ok=rec();
	char s[5]; if(~scanf("%s",s)) ok=false;
	puts(ok?ans.c_str():"Error occurred");
	return 0;
}
