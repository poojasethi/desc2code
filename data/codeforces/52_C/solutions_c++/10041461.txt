#include <cstdio>

using namespace std;

typedef long long ll;

int n,m,a,b,arr[200200];
ll c,stree[800800],lazy[800800];
char ch;

ll min(ll a,ll b){return (a<b)?a:b;}

void build(int idx,int a,int b){
	if (a==b) stree[idx]=arr[a]; else {
		int mid=(a+b)/2;
		build(2*idx,a,mid);
		build(2*idx+1,mid+1,b);
		stree[idx]=min(stree[2*idx],stree[2*idx+1]);
	}
}

void update(int idx,int a,int b,int p,int q){
	if (p<=a && b<=q){
		stree[idx]+=c;
		lazy[idx]+=c;
	} else {
		int mid=(a+b)/2;
		if (p<=mid) update(2*idx,a,mid,p,q);
		if (q>mid) update(2*idx+1,mid+1,b,p,q);
		stree[idx]=lazy[idx]+min(stree[2*idx],stree[2*idx+1]);
	}
}

ll query(int idx,int a,int b,int p,int q){
	if (q<a || b<p) return 10000000000000LL; else
	if (p<=a && b<=q) return stree[idx]; else {
		int mid=(a+b)/2;
		return lazy[idx]+min(query(2*idx,a,mid,p,q),query(2*idx+1,mid+1,b,p,q));
	}
}

int main(){
	scanf("%d",&n);
	for (int i=0;i<n;i++) scanf("%d",&arr[i]);
	build(1,0,n-1);
	scanf("%d",&m);
	for (int i=0;i<m;i++){
		scanf("%d %d%c",&a,&b,&ch);
		if (ch==' '){
			scanf("%I64d",&c);
			if (a<=b) update(1,0,n-1,a,b); else {
				update(1,0,n-1,a,n-1);
				update(1,0,n-1,0,b);
			}
		} else {
			if (a<=b) printf("%I64d\n",query(1,0,n-1,a,b));
			else printf("%I64d\n",min(query(1,0,n-1,a,n-1),query(1,0,n-1,0,b)));
		}
	}
}
	  				  	     	 							   	