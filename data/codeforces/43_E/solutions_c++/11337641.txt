// 10 monthes remaining for red =D
#include <bits/stdc++.h>
#define rep(i,j,k)	for (int i = (j); i <= (k); i++)
#define dep(i,j,k)	for (int i = (j); i >= (k); i--)
using namespace std;
const int N = 111;
typedef long long ll;
struct zcc{
	int k, v[N], t[N];
}a[N];
int n, s, ans;
void work(int i, int j)
{
	int t0 = 0, t1 = 0, d0 = 0, d1 = 0, p0 = 1, p1 = 1, ti = 0, dt, ld = a[i].v[1]>a[j].v[1];
	while (d0!=s && d1!=s)
	{
		ti += (dt=(t0+a[i].t[p0]<t1+a[j].t[p1]?t0+a[i].t[p0]:t1+a[j].t[p1])-ti);
		d0 += dt*a[i].v[p0], d1 += dt*a[j].v[p1];
		if (d0!=d1 && (ld^(d0>d1)))	ans++, ld ^= 1;
		if (t0+a[i].t[p0] > t1+a[j].t[p1])	t1 += a[j].t[p1++];
		else	t0 += a[i].t[p0++];
	}
}
int main()
{
	cin >> n >> s;
	rep(i,1,n)
	{
		scanf("%d", &a[i].k);
		rep(j,1,a[i].k)	scanf("%d%d", &a[i].v[j], &a[i].t[j]);
		rep(j,1,i-1)	work(i,j);
	}
	cout << ans << endl;
}