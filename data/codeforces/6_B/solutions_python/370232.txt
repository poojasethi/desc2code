n,m,p=raw_input().split()
n,m=int(n),int(m)
s=set()
a=[['.']*(m+2) for i in range(n+2)]
def r(x,y):
    global s
    for d in [[0,1],[1,0],[0,-1],[-1,0]]:
        s.add(a[x+d[0]][y+d[1]])
for i in range(n):
    a[i+1][1:m+1]=raw_input()
[a[i][j]==p and r(i,j) for j in range(1,m+1) for i in range(1,n+1)]
print len(s)-(p in s)-('.' in s)