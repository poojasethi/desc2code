// adijimmy
#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
#define pb push_back
const ll MAX = 100005;
bool visit[MAX];
vector<ll> G[MAX];
ll a[MAX],b[MAX],cost[MAX];
double ans[MAX];
ll child[MAX];
ll dfs(ll u){
  visit[u] = true;
  for(ll i=0;i<G[u].size();i++){
    ll v = G[u][i];
    if(!visit[v]){
        child[u] += dfs(v);
    }
  }
  return child[u]+1;
}
int main(){
ll n,u,v,w;
cin >> n;
for(ll i=0;i<n-1;i++){
    cin >> u >> v >> w;
    u--;v--;
    G[u].pb(v);
    G[v].pb(u);
    a[i] = u;
    b[i] = v;
    cost[i] = w;
}
dfs(0);
double sum = 0;
double prob = 1.0*(n*(n-1)*(n-2)/6);
for(ll i=0;i<n-1;i++){
    ll x = child[a[i]]+1;
    ll y = child[b[i]]+1;
    if(x<y) y = n-x;
    else x = n-y;
    ans[i] = x*y*(y-1)/2 + y*x*(x-1)/2;
    sum += (ans[i]*cost[i]);
}
ll q;
cin >> q;
while(q--){
 ll nw,p;
 cin >> p >> nw ;
 p--;
 sum -= ans[p]*(cost[p]-nw);
 cost[p] = nw;
 double req = (2.0*sum)/prob;
 printf("%0.10lf\n",req);
}
return 0;
}
