#include <bits/stdc++.h>
#define rep(i, n) for(int i = 0; i < n; ++i)
#define fer(i, a, b) for(int i = a; i < b; ++i)
#define sz(v) ((int)(v).size())
#define repv(i, v) rep(i, sz(v))
using namespace std;
typedef long long LL;

const int N = 1e5 + 7;

LL val[N];
vector < pair<int,int> > adj[N];
int n, l[N];

int dfs(int v, int p) {
	int sz = 0;
	repv(i, adj[v]) {
		int u = adj[v][i].first;
		int id = adj[v][i].second;
		if (u == p) continue;
		int x = dfs(u, v);
		sz += x;
		val[id] = (LL) x * (n - x) * 2;
	}
	return ++ sz;
}

int main() {
	cin >> n;
	rep(i, n - 1) {
		int u, v;
		cin >> u >> v >> l[i];
		u --, v --;
		adj[u].push_back( make_pair(v, i) );
		adj[v].push_back( make_pair(u, i) );
	}
	dfs(0, -1);
	LL sum = 0;
	rep(i, n - 1)
		sum += val[i] * l[i];
	int q;
	cin >> q;
	cout.precision(17);
	cout << fixed;
	while (q --) {
		int r, w;
		cin >> r >> w;
		-- r;
		sum -= (l[r] - w) * val[r];
		l[r] = w;
		cout << 3. * sum / ((LL) n * (n - 1)) << "\n";
	}
}
