#include<stdio.h>
#include<algorithm>
using namespace std;
const int maxn=100050;
int n,q,a[maxn],b[maxn],l[maxn];
int es=0,he[maxn],ne[maxn*2],to[maxn*2];
int dep[maxn],siz[maxn];
long long sum=0;
void ins(int x,int y)
{
	ne[++es]=he[x],he[x]=es,to[es]=y;
}
void dfs(int x,int f)
{
	int i,y;
	siz[x]=1;
	dep[x]=dep[f]+1;
	for(i=he[x];i;i=ne[i])
		if((y=to[i])!=f)
			dfs(y,x),siz[x]+=siz[y];
}
int main()
{
#ifndef ONLINE_JUDGE
	freopen("data.in","r",stdin);
#endif
	int i,j,x,y;
	double t;
	scanf("%d",&n);
	t=1LL*n*(n-1)/6.0;
	for(i=1;i<n;i++)
	{
		scanf("%d%d%d",&x,&y,&l[i]);
		a[i]=x,b[i]=y;
		ins(x,y),ins(y,x);
	}
	dfs(1,0);
	for(i=1;i<n;i++)
	{
		if(dep[a[i]]<dep[b[i]]) swap(a[i],b[i]);
		sum+=1LL*siz[a[i]]*(n-siz[a[i]])*l[i];
	}
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d %d\n",&x,&y);
		sum-=1LL*siz[a[x]]*(n-siz[a[x]])*(l[x]-y);
		l[x]=y;
		printf("%.14lf\n",sum/t);
	}
	return 0;
}
