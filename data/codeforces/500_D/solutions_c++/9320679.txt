#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<algorithm>
#include<queue>
#include<cmath>
#define LL long long
using namespace std;
struct edge{int x,y,z;} e[210000];
LL f[110000],ff;
int n,q,a,b,c,d[110000],g[110000],h[110000],y[110000],z[110000],qx,qy,qz;
int dfs(int X,int Y){
	for (int i=d[X];i;i=e[i].z)
		if (e[i].x!=Y){
			y[X]+=dfs(e[i].x,X);
			f[(i+1)/2]=y[e[i].x];
			f[(i+1)/2]=f[(i+1)/2]*(n-f[(i+1)/2]);
		}
	y[X]++;
	return y[X];
}
int main(){
	scanf("%d",&n);
	for (int i=1;i<n;i++){
		scanf("%d%d%d",&a,&b,&c);
		e[i*2-1].x=b;
		e[i*2-1].y=c;
		e[i*2-1].z=d[a];
		d[a]=i*2-1;
		g[a]++;
		e[i*2].x=a;
		e[i*2].y=c;
		e[i*2].z=d[b];
		d[b]=i*2;
		g[b]++;
	}
	dfs(1,0);
	for (int i=1;i<n;i++) ff+=f[i]*e[i*2-1].y;
	scanf("%d",&q);
	for (int i=1;i<=q;i++){
		scanf("%d%d",&a,&b);
		ff-=f[a]*(e[a*2-1].y-b);
		e[a*2-1].y=b;
		printf("%.10lf\n",6.0*ff/n/(n-1));
	}
    return 0;
}

