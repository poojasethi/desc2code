//���i���˽ڵ����ֱ�Ϊx��y
//��l[i]�����㵽�Ĵ���Ϊx*y*(n-2)
//ans=��(fx[i]*fy[i]*(n-2)*l[i])/C(n,3) 
#include <cstdio>
#include <iostream>
#include <vector>
#define N 100010
using namespace std;
vector <int> e[N];
int n,q,a[N],b[N];
long long l[N],size[N],fx[N],fy[N];
void dfs(int x,int fa){
	size[x]=1;
	for(int i=0;i<e[x].size();++i){
		int y=(a[e[x][i]]!=x ? a[e[x][i]]:b[e[x][i]]);
		if(y==fa)continue;
		dfs(y,x);
		size[x]+=size[y];
		fx[e[x][i]]=size[y];
		fy[e[x][i]]=n-size[y];
    }
}
int main(){
	scanf("%d",&n);
	for(int i=1;i<n;++i){
		scanf("%d%d%I64d",&a[i],&b[i],&l[i]);
		e[a[i]].push_back(i);
		e[b[i]].push_back(i);
	}
	dfs(1,0);
	double sum=0;
	for(int i=1;i<n;++i)sum+=fx[i]*fy[i]*(n-2)*l[i];
	scanf("%d",&q);
	for(int i=1,r,w;i<=q;++i){
		scanf("%d%d",&r,&w);
		sum-=fx[r]*fy[r]*(n-2)*(l[r]-w),l[r]=w;
		printf("%.10lf\n",sum/n/(n-1)/(n-2)*6);
	}
}
