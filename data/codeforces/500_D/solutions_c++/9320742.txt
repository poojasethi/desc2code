#include <cstdio>
#include <vector>

using namespace std;

vector<int>edges[100009];
vector<int>edges_no[100009];
int costs[100009];
long long int frequency[100009];
bool visited[100009];
int n;

long long int dfs(int k){
	long long int sum=1;
	for(int i=0;i<edges[k].size();i++){
		int cur=edges[k][i];
		if(!visited[cur]){
			visited[cur]=true;
			long long int res=dfs(cur);
			frequency[edges_no[k][i]]=res*(n-res);
			sum+=res;
		}
	}
	return sum;
}

int main(){
	scanf("%d",&n);
	for(int i=0;i<n-1;i++){
		int a,b,c;
		scanf("%d %d %d",&a,&b,&c);
		a--;b--;
		edges[a].push_back(b);
		edges[b].push_back(a);
		edges_no[a].push_back(i);
		edges_no[b].push_back(i);
		costs[i]=c;
	}
	visited[0]=true;
	dfs(0);
	long long int sum=0;
	for(int i=0;i<n-1;i++){
		sum+=frequency[i]*costs[i];
	}
	int q;
	scanf("%d",&q);
	while(q--){
		int a,b;
		scanf("%d %d",&a,&b);
		a--;
		int old_cost=costs[a];
		costs[a]=b;
		sum-=frequency[a]*(old_cost-b);
		printf("%.9lf\n",sum*6.0/n/(n-1));
	}
}
