#include<stdio.h>
#include<iostream>
using namespace std;
const int N=100005;
typedef long long LL;
typedef double DB;
LL n,q,e[N*2],next[N*2],L[N],G[N*2],u[N],v[N],sz[N],W[N],tot;
DB Now,K;
void adde(int u,int v)
{e[++tot]=v;next[tot]=G[u];G[u]=tot;
 e[++tot]=u;next[tot]=G[v];G[v]=tot;
}
void dfs(int u,int pre)
{sz[u]=1;
 for(int i=G[u];i;i=next[i]) if(e[i]!=pre) dfs(e[i],u),sz[u]+=sz[e[i]],W[(i+1)/2]=sz[e[i]];
}
int main()
{//freopen("500D.in","r",stdin);
 //freopen("500D.out","w",stdout);
 scanf("%I64d",&n);
 K=n*(n-1)*(n-2)/6;
 for(int i=1;i<n;i++) scanf("%d%d%I64d",&u[i],&v[i],&L[i]),adde(u[i],v[i]);
 dfs(1,0);
 for(int i=1;i<n;i++) W[i]=W[i]*(n-W[i])*(n-W[i]-1)+(W[i]-1)*W[i]*(n-W[i]),Now+=W[i]*(DB)L[i];
 scanf("%I64d",&q);
 while(q--)
 {int a,b;
  scanf("%d%d",&a,&b);
  Now+=W[a]*(DB)(b-L[a]);
  L[a]=b;
  printf("%.6lf\n",(double)Now/K);
 }
 return 0;
}