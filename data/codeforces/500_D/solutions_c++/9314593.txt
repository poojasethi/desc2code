#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include <vector>
#define N 100010
#define db double
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
struct ww {
	int x,y;
};
int i,j,k,n,m;
int len[N],s[N],fa[N];
db dai[N],an,sum;
vector<ww> a[N];
void dfs(int x) {
	int i;
	s[x]=1;
	for (i=0;i<a[x].size();i++) {
		ww A=a[x][i];
		if (A.x==fa[x]) continue;
		fa[A.x]=x;
		dfs(A.x);
		s[x]+=s[A.x];
		db ss=s[A.x];
		dai[A.y]=(1.*ss*(n-ss)*(n-ss-1)+1.*ss*(ss-1)*(n-ss))*6;
	}
}
int main() {
	scanf("%d",&n);
	For(i,1,n-1) {
		int x,y,z;
		scanf("%d%d%d",&x,&y,&z);
		a[x].push_back((ww){y,i});
		a[y].push_back((ww){x,i});
		len[i]=z;
	}
	dfs(1);
	For(i,1,n-1) an+=dai[i]*len[i];
	sum=1.*n*(n-1)*(n-2);
	scanf("%d",&m);
	For(i,1,m) {
		int x,y;
		scanf("%d%d",&x,&y);
		an-=dai[x]*(len[x]-y);
		len[x]=y;
		printf("%.12lf\n",an/sum);
	}
	return 0;
}