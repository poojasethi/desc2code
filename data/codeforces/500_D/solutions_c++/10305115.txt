#include <cstdio>
#include <vector>
using namespace std;
const int N=100100;
int m,n,a[N],b[N];
double c[N],d[N];
vector<int> g[N];
int go(int x,int f=0){
  int sz=1;
  for(int i=0;i<g[x].size();++i){
    int u=g[x][i],y=a[u]+b[u]-x;
    if(y!=f){
      int z=go(y,x);
      d[u]+=z/2.0*(z-1)*(n-z);
      d[u]+=(n-z)/2.0*(n-z-1)*z;
      sz+=z;
    }
  }
  return sz;
}
int main(){
  scanf("%d",&n);
  for(int i=1;i<n&&3==scanf("%d%d%lf",&a[i],&b[i],&c[i]);++i)
    g[a[i]].push_back(i),g[b[i]].push_back(i);
  go(1);
  double t=0,w=n/6.0*(n-1)*(n-2);
  for(int i=1;i<n;++i)t+=c[i]*d[i];
  scanf("%d",&m);
  for(int i=0,x,y;i<m&&2==scanf("%d%d",&x,&y);++i){
    t-=(c[x]-y)*d[x];
    c[x]=y;
    printf("%.9lf\n",t/w*2);
  }
}
