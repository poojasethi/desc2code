#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
typedef long long LL;

const int N=200005;

int n,m,l,Q,u,v;
int ed[N],next[N],son[N],fa[N],s[N],x[N],y[N],z[N];

LL w[N],ans;

void add(int x,int y)
{
	ed[++l]=y,next[l]=son[x],son[x]=l;
}

void dfs(int x,int par)
{
	s[x]=1,fa[x]=par;
	for (int p=son[x];p;p=next[p]){
		int y=ed[p];
		if (y!=par)
			dfs(y,x),s[x]+=s[y];
	}
}

int main()
{
	scanf("%d",&n);
	for (int i=1;i<n;++i){
		scanf("%d%d%d",x+i,y+i,z+i);
		add(x[i],y[i]);
		add(y[i],x[i]);
	}
	dfs(1,0);
	for (int i=1;i<n;++i){
		if (fa[x[i]]!=y[i]) swap(x[i],y[i]);
		w[i]=6*LL(n-s[x[i]])*(s[x[i]]);
		ans+=w[i]*z[i];
	}
	scanf("%d",&Q);
	while (Q--){
		scanf("%d%d",&u,&v);
		ans-=w[u]*(z[u]-v);
		z[u]=v;
		printf("%.12lf\n",double(ans)/n/(n-1));
	}
	return 0;
}
