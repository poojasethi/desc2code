#include <cstdio>
#include <vector>
using namespace std;
#define N 123456
#define fo(i,a,b) for (int i = (a); i < (b); i++)

int n, a, b, l[N], sz[N], q, qr, qw; double ans, ch[N];
vector<pair<int,int> > al[N];
void dfs(int at, int par) {
	sz[at] = 1;
	fo(i,0,al[at].size()) {
		int go = al[at][i].first;
		if (go==par) continue;
		dfs(go, at);
		double csz = sz[go], lft = n-csz, nn = n;
		ch[al[at][i].second] = (2.0*csz*lft)/(nn*(nn-1));
		sz[at] += sz[go];
	}
}
int main() {
	scanf("%d", &n);
	fo(i,0,n-1) {
		scanf("%d %d %d", &a, &b, l+i);
		al[a].push_back(make_pair(b, i));
		al[b].push_back(make_pair(a, i));
	}
	dfs(1, 0);
	fo(i,0,n-1) ans += ch[i]*l[i];
	scanf("%d", &q);
	fo(i,0,q) {
		scanf("%d %d", &qr, &qw); qr--;
		ans -= ch[qr]*(l[qr]-qw);
		l[qr] = qw;
		printf("%.10lf\n", 3*ans);
	}

	return 0;
}