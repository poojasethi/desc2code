#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
ll n,f,a[100001],b[100001],l[100001],m,x,j,viz[100001],d[100001],h,q,r;
vector <ll> g[100001];
long double s;
void dfs(ll v,ll p)
{
    for (int i=0;i<g[v].size();i++)
        if (g[v][i]!=p)
            dfs(g[v][i],v);
    d[p]+=d[v];
}
int main()
{
#ifndef ONLINE_JUDGE
   freopen("input.txt","r",stdin);
   freopen("output.txt","w",stdout);
#endif
    cin>>n;
    h=((n-2)*(n-1)*(n))/6;
    for (int i=1;i<=n;i++)
        d[i]=1;
    for (int i=1;i<n;i++)
    {
        cin>>a[i]>>b[i]>>l[i];
        g[a[i]].push_back(b[i]);
        g[b[i]].push_back(a[i]);
    }
    dfs(1,0);
    for (int i=1;i<n;i++)
    {
        ll f=min(d[a[i]],d[b[i]]);
        s+=(f*(n-f)*(n-2)*l[i])/(h*1.00);
    }
    cin>>q;
    while (q--)
    {
        cin>>r>>x;
        f=min(d[a[r]],d[b[r]]);
        s-=f*(n-f)*(n-2)*(l[r]-x)/double(h);
        l[r]=x;
        cout<<fixed<<setprecision(6)<<s<<endl;
    }
    return 0;
}
