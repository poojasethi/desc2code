#include <cstdio>
#include <vector>
using namespace std;
#define fo(i,a,b) for (int i = (a); i < (b); i++)

int a[123456], b[123456], l[123456], q, qr, qw, sz[123456]; double ans, ch[123456]; long long n;
vector<pair<int,int> > al[123456];
int dfs(int at, int par) {
	sz[at] = 1;
	fo(i,0,al[at].size()) if (al[at][i].first != par) {
		int to = al[at][i].first;
		dfs(al[at][i].first, at);
		double tosz = sz[to], lft = n-tosz;
		int eid = al[at][i].second;
		ch[eid] = 1.0 - (((tosz*(tosz-1)*(tosz-2)) + lft*(lft-1)*(lft-2)))/((double)(n*(n-1)*(n-2)));
		//printf("%d %lf\n", eid, ch[eid]);
		ans += ch[eid]*l[eid];
		sz[at] += tosz;
	}
}
int main() {
	scanf("%lld", &n);
	fo(i,0,n-1) {
		scanf("%d %d %d", a+i, b+i, l+i); a[i]--; b[i]--;
		al[a[i]].push_back(make_pair(b[i], i));
		al[b[i]].push_back(make_pair(a[i], i));
	}
	dfs(0, -1);
	scanf("%d", &q);
	fo(i,0,q) {
		scanf("%d %d", &qr, &qw); qr--;
		ans -= ch[qr]*(l[qr]-qw);
		l[qr] = qw;
		printf("%.10lf\n", 2*ans);
	}

	return 0;
}