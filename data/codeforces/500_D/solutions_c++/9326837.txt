#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;
vector<int> e[100010];
int a[100010],b[100010];
long long l[100010];
long long np[100010];
long long s[100010];
bool vi[100010];
long long cs(int x)
{
    vi[x]=1;
    for(int i=0;i<e[x].size();i++)
    {
        if(vi[e[x][i]])
            continue;
        s[x]+=cs(e[x][i]);
    }
    s[x]++;
    return s[x];
}
int main()
{
    long long n;
    long long tt;
    double su=0;
    scanf("%I64d",&n);
    for(int i=1;i<n;i++)
        scanf("%d%d%I64d",&a[i],&b[i],&l[i]),e[a[i]].push_back(b[i]),e[b[i]].push_back(a[i]);
    cs(1);
    for(int i=1;i<n;i++)
        tt=min(s[a[i]],s[b[i]]),np[i]=tt*(n-tt)*(n-tt-1)+(tt-1)*tt*(n-tt),su+=np[i]*l[i];
    int m;
    scanf("%d",&m);
    int r;
    double dv=n*(n-1)*(n-2)/2/3;
    long long w;
    for(int i=0;i<m;i++)
    {
        scanf("%d%I64d",&r,&w);
        su+=(w-l[r])*np[r];
        l[r]=w;
        printf("%lf\n",(double)su/dv);
    }
}
