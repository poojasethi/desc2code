#include<cstdio>
int n,m,i,x,y,tot,h[100001],siz[100001],len[100000],pre[100001],lnk[200002],nxt[200002];
bool f[100000];
double ans;
int dfs(int x){
    siz[x]=1;
    for(int i=pre[x];i;i=nxt[i])
        if(!f[i>>1]){
            f[i>>1]=1; h[i>>1]=lnk[i];
            siz[x]+=dfs(lnk[i]);
        }
    return siz[x];
}
inline double calc(double x){
    return x*(x-1)*(n-x);
}
int main(){
    scanf("%d",&n);
    tot=1;
    for(i=1;i<n;++i){
        scanf("%d%d%d",&x,&y,len+i);
        lnk[++tot]=y; nxt[tot]=pre[x]; pre[x]=tot;
        lnk[++tot]=x; nxt[tot]=pre[y]; pre[y]=tot; 
    }
    dfs(1);
    for(i=1;i<n;++i)ans+=(calc(siz[h[i]])+calc(n-siz[h[i]]))*len[i];
    scanf("%d",&m);
    for(i=0;i<m;++i){
        scanf("%d%d",&x,&y);
        ans-=(calc(siz[h[x]])+calc(n-siz[h[x]]))*(len[x]-y);
        len[x]=y;
        printf("%.7lf\n",6*ans/n/(n-1)/(n-2));
    }
    return 0;
}