#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
int a,b,n,q,sz[100010];
ll dtr[100010];
vector<int> g[100010];
struct edge{ int u,v,c;}e[200010];
void Dfs(int p,int fa){
	sz[p] = 1;
	for(int i = 0; i < g[p].size(); ++i) if(g[p][i] != fa){
		int v = g[p][i];
		Dfs(v,p),sz[p] += sz[v];
	}
}
int main(){
	scanf("%d",&n);
	for(int i = 1; i < n; ++i){
		scanf("%d%d%d",&e[i].u,&e[i].v,&e[i].c);
		g[e[i].u].push_back(e[i].v);
		g[e[i].v].push_back(e[i].u);
	}
	Dfs(1,0);
	double ans = 0.0;
	ll total = (ll)n * (n - 1) * (n - 2) / 6LL;
	for(int i = 1; i < n; ++i){
		ll siz = min(sz[e[i].u],sz[e[i].v]);
		dtr[i] = siz * (n - siz) * (n - 2);
		ans += (double)dtr[i] * e[i].c / total;
	}	
	for(scanf("%d",&q); q; --q){
		scanf("%d%d",&a,&b);
		ans -= (double)dtr[a] * (e[a].c - b) / total,e[a].c = b;
		printf("%.10f\n",ans);
	}
	return 0;
}
