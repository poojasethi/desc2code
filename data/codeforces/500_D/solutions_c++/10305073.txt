#include <cstdio>
#include <vector>
using namespace std;
const int N=100100;
int m,n,a[N],b[N],c[N];
long long d[N];
vector<int> g[N];
int go(int x,int f=0){
  int sz=1;
  for(int i=0;i<g[x].size();++i){
    int u=g[x][i],y=a[u]+b[u]-x;
    if(y!=f){
      int z=go(y,x);
      if(n-z>0&&z>1)d[u]+=(n-z)*((long long)z*(z-1)/2);
      if((n-z)>1&&z>0)d[u]+=((long long)(n-z)*(n-z-1)/2)*z;
      sz+=z;
    }
  }
  return sz;
}
int main(){
  scanf("%d",&n);
  for(int i=1;i<n&&3==scanf("%d%d%d",&a[i],&b[i],&c[i]);++i)
    g[a[i]].push_back(i),g[b[i]].push_back(i);
  go(1);
  double t=0,w=(double)n*(n-1)*(n-2)/6;
  for(int i=1;i<n;++i)t+=(double)c[i]*d[i];
  scanf("%d",&m);
  for(int i=0,x,y;i<m&&2==scanf("%d%d",&x,&y);++i){
    t-=(double)(c[x]-y)*d[x];
    c[x]=y;
    printf("%.9lf\n",t/w*2);
  }
}
