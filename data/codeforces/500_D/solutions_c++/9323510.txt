#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <stdio.h>
using namespace std;
class sp{
  public:
  int q,w;
  sp *e;
  sp(int q1,int w1,sp *e1){
   q=q1;w=w1;e=e1;}
};
sp **a=new sp*[100000];
long long q;
long double *d=new long double[100000];
int l(int w,int e){
  sp *c;
  long long r=1,v;
  for(c=a[w];c;c=c->e)
   if(c->w!=e)
    r+=l(c->q,c->w);
  v=q-r;
  d[e]=(v-1)*v*r+(r-1)*r*v;
  return r;
}
int main(){
  //freopen("input.txt","r",stdin);
  //freopen("output.txt","w",stdout);
  int w,e,r,t;
  long double c,v,c1,*s=new long double[100000];
  cin>>q;
  for(w=0;w<q;w++)
   a[w]=0;
  for(w=1;w<q;w++){
   cin>>e>>r>>s[w];
   e--;r--;
   a[e]=new sp(r,w,a[e]);
   a[r]=new sp(e,w,a[r]);}
  w=l(0,-1);
  v=(q*(q-1)*(q-2))/6;
  c=0;
  for(w=1;w<q;w++)
   c+=d[w]*s[w];
  for(cin>>w;w;w--){
   cin>>e>>c1;
   c-=d[e]*s[e];
   s[e]=c1;
   c+=d[e]*s[e];
   printf("%.7f\n",(double)(c/v));}
  return 0;}
