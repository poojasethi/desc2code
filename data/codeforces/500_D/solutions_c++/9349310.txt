#include <iostream>
#include <cstdio>
#include <vector>
#define pii pair<int,int>
using namespace std;
int n,q,data[100005];
long long mult[100005];
vector<pii> adj[100005];
double val=0;
long long dp(int prev, int cur){
	long long sum=0;
	int ind=0;
	for(int i=0;i<adj[cur].size();i++){
		if(adj[cur][i].first==prev)ind=adj[cur][i].second;
		else{
			sum+=dp(cur,adj[cur][i].first);
		}
	}
	mult[ind]=sum+1;
	return mult[ind];
}
int main() {
	cin>>n;
	for(int i=1;i<n;i++){
		int a,b;
		cin>>a>>b>>data[i];
		adj[a].push_back(pii(b,i));
		adj[b].push_back(pii(a,i));
	}
	dp(0,1);
	for(int i=1;i<n;i++){
		mult[i]*=n-mult[i];
		val+=data[i]*mult[i];
	}
	cin>>q;
	for(int i=0;i<q;i++){
		int a;
		cin>>a;
		val-=data[a]*mult[a];
		cin>>data[a];
		val+=data[a]*mult[a];
		printf("%.10f\n",val/(n)/(n-1)*6);
	}
}