#include<iostream>
#include<cstdio>
using namespace std;
double ans=0;
long id[200010],v[200010],le[200010],ne[200010],li[200010],Vi[200010],x,y,i,j,n,m,tot=0;
double vz[100010];


long dfs(int x)
{
	Vi[x]=0;
	long i=le[x],sum=0,t;
	while(i)
	{
		if(Vi[li[i]])
		{
			t=dfs(li[i]);
			vz[id[i]]=t;
			sum+=t;
		}
		i=ne[i];
	}
	return sum+1;
}

void NL(int x,int y,int z)
{
	tot++;
	if(!le[x]) le[x]=tot;
	else
	{
		ne[tot]=le[x];
		le[x]=tot;
	}
	li[tot]=y;id[tot]=z;
}

int main()
{
	cin>>n;
	for(i=1;i<=n;i++)
	{
		le[i]=0;Vi[i]=1;
	}
	for(i=1;i<n;i++)
	{
		cin>>x>>y>>v[i];
		NL(x,y,i);
		NL(y,x,i);
	}
	dfs(1);
	for(i=1;i<n;i++) ans+=(n-2)*vz[i]*(n-vz[i])*v[i];
	cin>>m;
	for(;m;m--)
	{
		cin>>x>>y;
		ans-=(n-2)*vz[x]*(n-vz[x])*v[x];
		v[x]=y;
		ans+=(n-2)*vz[x]*(n-vz[x])*v[x];
		printf("%.10lf\n",ans*6/n/(n-1)/(n-2));
	}
}
