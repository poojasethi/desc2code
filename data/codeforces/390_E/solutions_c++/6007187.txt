#include <iostream>
#include <cstdio>
#include <cstring>

using namespace std;

const int N = 4e6 + 9;
int n, m, w;
#define LL long long

struct BT
{
    int lowbit(int x) { return x & -x; }
    LL c[N];
    void modify(int x, LL v)
    {
        if(x == 0) return ;
        for(int i = x; i <= max(n, m); i += lowbit(i)) c[i] += v;
    }
    LL query(int x)
    {
        LL s = 0;
        for(int i = x; i >= 1; i -= lowbit(i)) s += c[i];
        return s;
    }
};
struct PBT
{
    BT tb, tc;
    void modify(int a, int b, LL v)
    {
        tb.modify(a, v);
        tb.modify(b + 1, -v);
        tc.modify(a, v * a);
        tc.modify(b + 1, -v * (b + 1));
    }
    LL _query(int x)
    {
        return tb.query(x) * (x + 1) - tc.query(x);
    }
    LL query(int a, int b)
    {
        return _query(b) - _query(a - 1);
    }
}L, C;
int main()
{
    scanf("%d%d%d", &n, &m, &w);
    LL sum = 0;
    while(w --)
    {
        int c, x1, y1, x2, y2, v;
        scanf("%d%d%d%d%d", &c, &x1, &y1, &x2, &y2);
        if(c == 0)
        {
            scanf("%d", &v);
            L.modify(x1, x2, v * (y2 - y1 + 1));
            C.modify(y1, y2, v * (x2 - x1 + 1));
        }
        else 
        {
            LL ans = L.query(x1, x2) - C.query(1, y1 - 1) - C.query(y2 + 1, m);
            cout << ans << endl;
        }
    }

    return 0;
}