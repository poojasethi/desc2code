#include<cstdio>
int n,m,w;
long long zs=0;
long long bitx[4000002],bity[4000002];
long long sx[4000002],sy[4000002];
inline long long sumx(int p)
{
	int i;
	long long ans=0;
	for(i=p;i>0;i-=i&-i)ans+=bitx[i];
	ans*=(p+1);
	for(i=p;i>0;i-=i&-i)ans-=sx[i];
	return ans;
}
inline long long sumy(int p)
{
	int i;
	long long ans=0;
	for(i=p;i>0;i-=i&-i)ans+=bity[i];
	ans*=(p+1);
	for(i=p;i>0;i-=i&-i)ans-=sy[i];
	return ans;
}

int main()
{
	int i,j,k;
	scanf("%d%d%d",&n,&m,&w);
	for(i=1;i<=w;i++)
	{
		int op,x1,y1,x2,y2,v;
		scanf("%d%d%d%d%d",&op,&x1,&y1,&x2,&y2);
		if(!op)
		{
			scanf("%d",&v);
			zs+=1ll*(x2-x1+1)*(y2-y1+1)*v;
			for(j=x1;j<=n;j+=j&-j){bitx[j]+=1ll*v*(y2-y1+1);sx[j]+=x1*1ll*v*(y2-y1+1);}
			for(j=x2+1;j<=n;j+=j&-j){bitx[j]-=1ll*v*(y2-y1+1);sx[j]-=(x2+1)*1ll*v*(y2-y1+1);}
			
			for(j=y1;j<=m;j+=j&-j){bity[j]+=1ll*v*(x2-x1+1);sy[j]+=y1*1ll*v*(x2-x1+1);}
			for(j=y2+1;j<=m;j+=j&-j){bity[j]-=1ll*v*(x2-x1+1);sy[j]-=(y2+1)*1ll*v*(x2-x1+1);}
			
			
		}
		else
		{
			long long ans=sumx(x2)-sumx(x1-1)+sumy(y2)-sumy(y1-1)-zs;
			//printf("x1..x2=%lld y1..y2=%lld zs=%lld\n",sumx(x2)-sumx(x1-1),sumy(y2)-sumy(y1-1),zs);
			printf("%I64d\n",ans);
		}
	}
	return 0;
}
