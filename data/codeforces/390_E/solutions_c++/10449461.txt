#include<bits/stdc++.h>
#define l long long
const int n=1e7;
l x[n],y[n],a[n],b[n],s,w,g,h,j,k,t,v;
l get(l *f,l *F,l p){l s=0;for(l i=p;i;i-=i&-i)s+=F[i]*p-f[i];return s;}
void add(l *f,l *F,l p,l v){for(l i=p--;i<=*f;i+=i&-i)f[i]+=v*p,F[i]+=v;}
main(){
    std::ios_base::sync_with_stdio(0);std::cin>>*x>>*y>>w;
	while (w--){std::cin>>t>>g>>h>>j>>k;
		if (t) std::cout<<get(x,a,j)-get(x,a,g-1)+get(y,b,k)-get(y,b,h-1)-s<<'\n';else std::cin>>v,j++,k++,
		s+=(k-h)*(j-g)*v,add(x,a,g,v*k-v*h),add(x,a,j,v*h-v*k),add(y,b,h,v*j-v*g),add(y,b,k,v*g-v*j);}
}
