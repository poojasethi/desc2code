#include<stdio.h>
#define maxn 4000005
long long int c[2][maxn],b[2][maxn];
int v,m,n,w,k,t;
int max(int x,int y){
        if(x>y)return x;
        else return y;

}
int lowbit(int x){
    return x&(-x);
}
void add_b(int x,int a,long long int v){
int i;
for( i=x;i>0;i-=lowbit(i)){
    b[a][i]+=v;
}
}

long long int sum_b(int x,int a){
long long int ret=0;
int i;
for( i=x;i<=t;i+=lowbit(i)){
    ret+=b[a][i];
}

return ret;
}
void add_c(int x,int a,long long int v){
        int i,j;
        for(i=x;i<=t;i+=lowbit(i)){
            c[a][i]+=x*v;
        }


}
long long int sum_c(int x,int a){
    int i,j;
    long long int ret=0;
   for(i=x;i>0;i-=lowbit(i))
        ret+=c[a][i];
   return ret;


}

long long int sum(int x,int a){
if(x>0)return sum_b(x,a)*x+sum_c(x-1,a);
else return 0;


}
int main(){

int x1,x2,y1,y2,p,q,k,i,j;
//freopen("1.txt","r",stdin);
scanf("%d %d %d",&n,&m,&w);
t=max(n,m);
for(i=1;i<=w;i++){
        scanf("%d",&k);
        if(k){
            scanf("%d %d %d %d",&x1,&y1,&x2,&y2);
            printf("%I64d\n", sum(y2,1) - sum(y1-1,1) -sum(t,0)+sum(x2,0)-sum(x1-1,0));
        }
        else {
                scanf("%d %d %d %d %d",&x1,&y1,&x2,&y2,&v);
                p=x2-x1+1;
                q=y2-y1+1;
                add_b(x2,0,v*q);
                add_b(y2,1,v*p);
                add_c(x2,0,v*q);
                add_c(y2,1,v*p);
                if(x1>1){
                    add_b(x1-1,0,-v*q);
                    add_c(x1-1,0,-v*q);
                }
                if(y1>1){
                    add_b(y1-1,1,-v*p);
                    add_c(y1-1,1,-v*p);
                }


                }
        }
}


