#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
#include<iostream>
#include<fstream>
#include<map>
#include<ctime>
#include<set>
#include<queue>
#include<cmath>
#include<vector>
#include<bitset>
#include<functional>
#define x first
#define y second
#define mp make_pair
#define pb push_back
#define REP(i,l,r) for((i)=(l);(i)<=(r);++(i))
#define REP2(i,l,r) for((i)=(l);(i)!=(r);++(i))
using namespace std;

typedef long long LL;
typedef double ld;

const int MAX=4000000+10;

int n,m,Q;

struct SS
{
	LL tot;

	LL sum[MAX],sum2[MAX];

	SS()
	{
		tot=0;
		memset(sum,0,sizeof sum);
		memset(sum2,0,sizeof sum2);
	}

	void add(LL* sum,int a,LL b)
	{
		for(;a<MAX;a+=a&(-a))
			sum[a]+=b;
	}

	LL ask(LL* sum,int a)
	{
		LL ans=0;
		for(;a;a-=a&(-a))
			ans+=sum[a];
		return ans;
	}

	void addit(int l,LL b)
	{
		add(sum,l,b*l);
		add(sum2,l,b);
		tot+=b;
	}

	void addit(int l,int r,LL b)
	{
		if(l-1)
			addit(l-1,-b);
		addit(r,b);
	}

	LL askit(int l)
	{
		return ask(sum,l)+(tot-ask(sum2,l))*l;
	}

	LL askit(int l,int r)
	{
		return askit(r)-askit(l-1);
	}
}tx,ty;

int main()
{
#ifndef ONLINE_JUDGE
	freopen("input.txt","r",stdin);freopen("output.txt","w",stdout);
#endif
	int i;
	cin>>n>>m;
	cin>>Q;
	LL all=0;
	REP(i,1,Q)
	{
		int type;
		scanf("%d",&type);
		if(!type)
		{
			int x1,y1,x2,y2,v;
			scanf("%d%d%d%d%d",&x1,&y1,&x2,&y2,&v);
			tx.addit(x1,x2,LL(y2-y1+1)*v);
			ty.addit(y1,y2,LL(x2-x1+1)*v);
			all+=(LL)v*(x2-x1+1)*(y2-y1+1);
		}
		else
		{
			int x1,y1,x2,y2;
			scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
			LL ans=all-tx.askit(x1,x2)*2;
			ans+=all-ty.askit(y1,y2)*2;
			cout<<-ans/2<<endl;
		}
	}
	return 0;
}
