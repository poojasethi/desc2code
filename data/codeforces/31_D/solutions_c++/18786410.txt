#include <bits/stdc++.h>
using namespace std;

const int MAXN = 105;
int W, H, n;
bool hori[MAXN][MAXN], vert[MAXN][MAXN];
int area[MAXN];
vector<int> areas;

int main()
{

    // freopen("D:\\1.in", "r", stdin);
    // freopen("D:\\1.out", "w", stdout);

    scanf("%d%d%d", &W, &H, &n);
    for(int i = 0; i < n; i ++)
    {
        int x0, y0, x1, y1;
        scanf("%d%d%d%d", &x0, &y0, &x1, &y1);
        if(x0 > x1) swap(x0, x1);
        if(y0 > y1) swap(y0, y1);
        if(x0 == x1)
            for(int j = y0; j < y1; j ++)
                vert[x0][j] = true;
        else
            for(int j = x0; j < x1; j ++)
                hori[j][y0] = true;
    }

    for(int i = 0; i < H; i ++)
        area[i] = 1;

    for(int i = 1; i <= W; i ++)
    for(int j = 0; j < H; j ++)
    if(i == W || vert[i][j])
    {
        if(j + 1 == H || hori[i - 1][j + 1])
            areas.push_back(area[j]);
        else
            area[j + 1] += area[j];

        area[j] = 1;
    }
    else
        area[j] ++;

    sort(areas.begin(), areas.end());

    for(vector<int>::iterator iter = areas.begin(); iter != areas.end(); iter ++)
        printf("%d ", *iter);

	return 0;
}
