#include <iostream>
#include <stdio.h>
#include <vector>
#include <algorithm>
using namespace std;
int w,h,n,a[105][105];
bool v[105][105];

int dfs(int x,int y){
    if(v[x][y])return 0;
    v[x][y]=true;
    int res=1;
    if((a[x][y]&1)==0)res+=dfs(x-1,y);
    if((a[x][y]&2)==0)res+=dfs(x,y-1);
    if((a[x+1][y]&1)==0)res+=dfs(x+1,y);
    if((a[x][y+1]&2)==0)res+=dfs(x,y+1);
    return res;
}

int main(){
    scanf("%d %d %d",&w,&h,&n);
    for(int i=0;i<w;i++)a[i][0]=a[i][h]=2;
    for(int i=0;i<h;i++)a[0][i]=a[w][i]=1;
    a[0][0]=3;
    for(int i=0;i<n;i++){
        int x1,y1,x2,y2;
        scanf("%d %d %d %d",&x1,&y1,&x2,&y2);
        if(x1==x2){
            for(int i=y1;i<y2;i++)a[x1][i]|=1;
        }
        else{
            for(int i=x1;i<x2;i++)a[i][y1]|=2;
        }
    }
    vector<int> res;
    for(int x=0;x<w;x++)for(int y=0;y<h;y++){
        if(!v[x][y])res.push_back(dfs(x,y));
    }
    sort(res.begin(),res.end());
    for(int i=0;i<res.size();i++)printf("%d ",res[i]);
    return 0;
}
