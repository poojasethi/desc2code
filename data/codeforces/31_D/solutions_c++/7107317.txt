#include <iostream>
using namespace std;
typedef struct {
	int x1, y1, x2, y2;
} CHOCO;

int main()
{
	int w, h, n, i, j, k;
	cin>>w>>h>>n;
	CHOCO b[n], c[n+1];
	int a[n+1];
	for (i=0; i<n; i++) cin>>b[i].x1>>b[i].y1>>b[i].x2>>b[i].y2;
	c[0].x1=c[0].y1=0; c[0].x2=w; c[0].y2=h;
	for (i=1; i<=n; i++) {
		for (k=0; k<n; k++) {
			for (j=0; j<i; j++) {
				if (b[k].x1==b[k].x2 && b[k].x1>c[j].x1 && b[k].x2<c[j].x2 && b[k].y1==c[j].y1 && b[k].y2==c[j].y2) {
					c[i].x1=b[k].x1; c[i].y1=b[k].y1; c[i].x2=c[j].x2; c[i].y2=b[k].y2; c[j].x2=b[k].x2; break;
				}
				else if (b[k].y1==b[k].y2 && b[k].x1==c[j].x1 && b[k].x2==c[j].x2 && b[k].y1>c[j].y1 && b[k].y2<c[j].y2) {
					c[i].x1=b[k].x1; c[i].y1=b[k].y1; c[i].x2=b[k].x2; c[i].y2=c[j].y2; c[j].y2=b[k].y2; break;
				}
			}
			if (j!=i) {
				b[k].x1=b[k].y1=b[k].x2=b[k].y2=0; break;
			}
		}
	}
	for (i=0; i<=n; i++) a[i]=(c[i].x2-c[i].x1)*(c[i].y2-c[i].y1);
	for (i=0; i<=n; i++) {
		for (j=n; j>i; j--) if (a[j]<a[j-1]) {
			a[j]+=a[j-1]; a[j-1]=a[j]-a[j-1]; a[j]-=a[j-1];
		}
		cout<<a[i]<<" ";
	}
	cout<<endl;
	return 0;
}
