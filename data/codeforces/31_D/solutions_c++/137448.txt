#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int cuenta(vector<vector<int> > &v,int x,int y)
{
  if (v[x][y]==-1) return 0;
  int val=v[x][y];
  v[x][y]=-1;
  return val+cuenta(v,x+1,y)+cuenta(v,x,y+1)+cuenta(v,x-1,y)+cuenta(v,x,y-1);
}

int main()
{
  int w,h,n;
  cin>>w>>h>>n;
  vector<vector<int> > v(2*w+1,vector<int> (2*h+1));
  for (int x=0;x<2*w+1;x++) {
    for (int y=0;y<2*h+1;y++) {
      if (x==0 or x==2*w or y==0 or y==2*h) {
	v[x][y]=-1;
      } else if (x%2==0 or y%2==0) {
	v[x][y]=0;
      } else {
	v[x][y]=1;
      }
    }
  }
  for (int i=0;i<n;i++) {
    int x1,y1,x2,y2;
    cin>>x1>>y1>>x2>>y2;
    x1*=2;
    y1*=2;
    x2*=2;
    y2*=2;
    if (x1==x2) {
      int x=x1;
      for (int y=y1;y<=y2;y++) {
	v[x][y]=-1;
      }
    } else {
      int y=y1;
      for (int x=x1;x<=x2;x++) {
	v[x][y]=-1;
      }
    }
  }
  vector<int> sol;
  for (int x=0;x<2*w+1;x++) {
    for (int y=0;y<2*h+1;y++) {
      int val=cuenta(v,x,y);
      if (val>0) sol.push_back(val);
    }
  }
  sort(sol.begin(),sol.end());
  for (int i=0;i<int(sol.size());i++) {
    if (i>0) cout<<" ";
    cout<<sol[i];
  }
  cout<<endl;
}
