#include<cstdio>
#include<vector>
#include<algorithm>
using namespace std;
bool u[110];
vector<int>ans;
struct cut
{
    int x1,y1,x2,y2;
    bool cho(int x3,int y3,int x4,int y4)
	{
        if(x1==x2)
        return x3<=x1 && x1<=x4 && y1==y3 && y2==y4;
        else
        return y3<=y1&&y1<=y4&&x1==x3&&x2==x4;
    }
    void f()
	{
		scanf("%d%d%d%d",&x1,&y1,&x2,&y2);
	}
} cut[110];
void dfs(int x1,int y1,int x2,int y2,int n)
{
    int i;
    for(i=0;i<n;i++)
	{
        if(u[i])
		continue;
        if(cut[i].cho(x1,y1,x2,y2))
		{
            u[i]=1;
            if(cut[i].x1==cut[i].x2)
            dfs(x1,y1,cut[i].x1,y2,n),dfs(cut[i].x1,y1,x2,y2,n);
            else
            dfs(x1,y1,x2,cut[i].y2,n),dfs(x1,cut[i].y1,x2,y2,n);
            return;
        }
    }
    ans.push_back((x2-x1)*(y2-y1));
}
main()
{
    int w,h,n,i;
    scanf("%d%d%d",&w,&h,&n);
    for(i=0;i<n;i++)cut[i].f();
    dfs(0,0,w,h,n);
    sort(ans.begin(),ans.end());
    for(i=0;i<ans.size();i++)
	{
        if(i)
		putchar(' ');
        printf("%d",ans[i]);
    }
}
