// Codeforces 31D
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;

bool choc[205][205];
int w, h;

int fill(int x, int y) {
    if(x<0 || x>w*2 || y<0 || y>h*2) return 0;
    if(choc[x][y]==true) return 0;
    choc[x][y]=true;
    return fill(x-1, y)+fill(x+1, y)+fill(x, y-1)+fill(x, y+1)+(x%2==1 && y%2==1);
}

int main() {
    int  n; scanf("%d %d %d", &w, &h, &n);
    for(int i=0; i<n; i++) {
        int x1, y1, x2, y2; scanf("%d %d %d %d", &x1, &y1, &x2, &y2);
        for(int j=x1*2; j<=x2*2; j++) {
            for(int k=y1*2; k<=y2*2; k++) {
                choc[j][k]=true;
            }
        }
    }
    vector<int> ans;
    for(int i=0; i<=w*2; i++) {
        for(int j=0; j<=h*2; j++) {
            ans.push_back(fill(i, j));
        }
    }
    sort(ans.begin(), ans.end());
    for(int i=0; i<ans.size(); i++) {
        if(ans[i]!=0) printf("%d ", ans[i]);
    }
}
        
