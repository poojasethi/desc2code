#include<iostream>
#include<cstdio>
#include<queue>
#include<cstring>
#include<string>
#include<cmath>
#include<algorithm>
#include<stdlib.h>
#include<stack>
#include<vector>
using namespace std;
int vis[300][300];
int x,y,n;
int is_ok(int a,int b)
{
    if(a>0&&b>0&&a<2*x&&b<2*y&&!vis[a][b])
        return 1;
    return 0;
}
int sum=0;
void dfs(int x,int y)
{
    if(x%2&&y%2)
        sum++;
    vis[x][y]=1;
    if(is_ok(x-1,y))    dfs(x-1,y);
    if(is_ok(x+1,y))    dfs(x+1,y);
    if(is_ok(x,y+1))    dfs(x,y+1);
    if(is_ok(x,y-1))    dfs(x,y-1);
}
int main()
{
    cin>>x>>y>>n;
    memset(vis,0,sizeof(vis));
    for(int i=0; i<n; i++)
    {
        int x1,y1,x2,y2;
        cin>>x1>>y1>>x2>>y2;
        for(int j=x1<<1; j<=x2<<1; ++j)
            for(int k=y1<<1; k<=y2<<1; ++k)
            vis[j][k]=1;
    }
    int tt=0;
    int ans[300];
    for(int i=1; i<x<<1; ++i)
    {
        for(int j=1; j<y<<1; ++j)
        {
            if(vis[i][j])
                continue;
            dfs(i,j);
            ans[tt++]=sum;
            sum=0;
        }
    }
    sort(ans,ans+tt);
    for(int i=0; i<tt; i++)
        cout<<ans[i]<<" ";
    cout<<endl;
    return 0;
}

	     		  			 	  			  		