#include<iostream>
#include<sstream>
#include<vector>
#include<algorithm>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<cmath>
#define rep(i,n) for(int i=0;i<n;i++)
#define fr(i,c) for(__typeof (c.begin()) i=c.begin(); i!=c.end(); i++)
#define all(c) (c).begin(), (c).end()
#define pb push_back
using namespace std;

typedef vector<int> vi;
typedef long long ll;

const int dy[]={-1,0,1,0},dx[]={0,-1,0,1};
int w,h,n;
bool tate[101][101],yoko[101][101];
bool v[101][101];

int dfs(int y,int x){
  v[y][x]=1;
  int res=1;
  rep(d,4){
    int ny=y+dy[d],nx=x+dx[d];
    if(ny<0||nx<0||ny>=h||nx>=w||v[ny][nx])continue;
    if(d==0&&yoko[y][x]||d==2&&yoko[y+1][x])continue;
    if(d==1&&tate[y][x]||d==3&&tate[y][x+1])continue;
    res+=dfs(ny,nx);
  }
  return res;
}
void run(){
  cin>>w>>h>>n;
  rep(i,n){
    int x,y,X,Y;
    cin>>x>>y>>X>>Y;
    if(x==X)for(int j=y;j<Y;j++)tate[j][x]=1;
    else for(int j=x;j<X;j++)yoko[y][j]=1;
  }
  vi ans;
  rep(i,h)rep(j,w)if(!v[i][j])ans.pb(dfs(i,j));
  sort(all(ans));
  rep(i,n+1)cout<<ans[i]<<(i==n?"\n":" ");
}
int main(){
#ifndef ONLINE_JUDGE
  rep(i,3)
#endif
    run();
  return 0;
}
