#include <cstdio>
#include <algorithm>

using namespace std;

char base[2005][2005];

int dir[4][2]=
{
    1,0,
    0,1,
    -1,0,
    0,-1,
};

short ok[4][2005][2005];

int n,m;


int main()
{
    scanf("%d%d",&n,&m);
    for (int i=1; i<=n; i++)
        scanf("%s",base[i]+1);
    long long ret=0;
    for (int i=n; i>=1; i--)
        for (int j=m; j>=1; j--)
            for (int d=0; d<=1; d++)
                if (base[i][j]=='.')
                    if (ok[d][i+dir[d][0]][j+dir[d][1]]==1 || base[i+dir[d][0]][j+dir[d][1]]==0)
                        ok[d][i][j]=1;
    for (int i=1; i<=n; i++)
        for (int j=1; j<=m; j++)
            for (int d=2; d<=3; d++)
                if (base[i][j]=='.')
                    if (ok[d][i+dir[d][0]][j+dir[d][1]]==1 || base[i+dir[d][0]][j+dir[d][1]]==0)
                        ok[d][i][j]=1;
    for (int i=2; i<n; i++)
        if (ok[1][i][1]==1)
            ret++;
    for (int j=2; j<m; j++)
        if (ok[0][1][j]==1)
            ret++;
    for (int i=2; i<n; i++)
        for (int j=2; j<m; j++)
            for (int d=0; d<=2; d+=2)
                for (int m=-1; m<=1; m+=2)
                    if (ok[d][i][j])
                        if (ok[(d+m)&3][i][j])
                            ret++;
    for (int i=2; i<n; i++)
    {
        int cnt=0;
        for (int j=2; j<m; j++)
        {
            if (base[i][j]=='#')
                cnt=0;
            if (base[i][j-1]=='#')
                cnt=0;
            if (ok[0][i][j] && j>2)
                ret+=cnt+ok[2][i][j-1];

            if (ok[2][i][j] && j>2)
                ret+=cnt+ok[0][i][j-1];
            if (j-1>1)
                cnt+=ok[0][i][j-1]+ok[2][i][j-1];
        }
    }
    for (int j=2; j<m; j++)
    {
        int cnt=0;
        for (int i=2; i<n; i++)
        {

            if (base[i][j]=='#')
                cnt=0;
            if (base[i-1][j]=='#')
                cnt=0;
            if (ok[1][i][j] && i>2)
                ret+=cnt+ok[3][i-1][j];
            if (ok[3][i][j] && i>2)
                ret+=cnt+ok[1][i-1][j];
            if (i-1>1)
                cnt+=ok[1][i-1][j]+ok[3][i-1][j];
        }
    }
    printf("%I64d\n",ret);
}
