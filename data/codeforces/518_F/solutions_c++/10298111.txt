#include <iostream>
#include <cstdlib>
#include <cstdio>
#include <stdio.h>
using namespace std;
bool **a=new bool*[2001],**a1=new bool*[2001],**a2;
int q,w;
long long y=0;
bool s[2001][2001],d[2001][2001];
void l(){
  int e,r,c,c1,v;
  for(r=0;r<w;r++){
   s[0][r]=a[0][r];
   d[q-1][r]=a[q-1][r];}
  for(e=1;e<q;e++)
   for(r=0;r<w;r++)
    s[e][r]=s[e-1][r]&a[e][r];
  for(r=1;r<w;r++)
   y+=s[q-1][r];
  for(e=q-2;e>=0;e--)
   for(r=0;r<w;r++)
    d[e][r]=d[e+1][r]&a[e][r];
  for(e=1;e<q-1;e++){
   c=0;
   for(r=0;(r<w)&&(a[e][r]);r++)
    c+=s[e][r];
   y+=c<<1;
   r=0;
   while(r<w){
    for(;(r<w)&&(!a[e][r]);r++);
    c=c1=0;
    for(v=r;(v<w)&&(a[e][v]);v++){
     c+=s[e][v];
     c1+=d[e][v];
     if(s[e][v]){
      if(d[e][v])
       y--;
      if((v>0)&&(s[e][v-1]))
       y-=2;}}
    y+=c*(c-1)+c*c1;
    r=v;}}
  for(e=0;e<q;e++)
   for(r=0;r<w;r++)
    a1[w-r-1][e]=a[e][r];
  e=q;q=w;w=e;
  a2=a;a=a1;a1=a2;
}
int main(){
  //freopen("input.txt","r",stdin);
  //freopen("output.txt","w",stdout);
  int e,r,t;
  char h[2001];
  for(e=0;e<2001;e++){
   a[e]=new bool[2001];
   a1[e]=new bool[2001];}
  scanf("%d%d",&q,&w);
  for(e=0;e<q;e++){
   scanf("%s",h);
   for(r=0;r<w;r++){
    a[e][r]=0;
    if(h[r]=='.')
     a[e][r]=1;}}
  a[0][0]=a[0][w-1]=a[q-1][0]=a[q-1][w-1]=0;
  for(e=0;e<4;e++)
   l();
  cout<<(y>>1);
  return 0;}
