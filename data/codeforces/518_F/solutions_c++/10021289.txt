#include <iostream>

using namespace std;

int n,m;

void escribir(int v[2002][2002])
{
  for (int i=1;i<=n;i++) {
    for (int j=1;j<=m;j++) {
      cout<<v[i][j];
    }
    cout<<endl;
  }
  cout<<endl;
}

typedef long long int ll;

int v[2002][2002];
int nextv[2002][2002];
int verle[2002][2002];
int verri[2002][2002];
ll sol=0,cruzados=0;

void calcula()
{
  //cout<<"v:"<<endl;
  //escribir(v);
  for (int i=1;i<=n;i++) {
    for (int j=1;j<=m;j++)
      verle[i][j]=v[i][j]==0 and (j==1 or verle[i][j-1]);
    for (int j=m;j>=1;j--)
      verri[i][j]=v[i][j]==0 and (j==m or verri[i][j+1]);
  }
  //cout<<"verle:"<<endl;
  //escribir(verle);

  //cout<<"verri:"<<endl;
  //escribir(verri);

  for (int j=2;j<m;j++) {
    int cuantosle=0,cuantosri=0;
    int veoup=1;
    for (int i=1;i<n;i++) {
      //cout<<"("<<i<<","<<j<<","<<cuantosle<<","<<cuantosri<<","<<veoup<<")"<<endl;
      if (v[i][j]==1) {
	//cout<<"bloque"<<endl;
	cuantosle=cuantosri=0;
	veoup=0;
      } else if (i>1) {
	if (verle[i][j]) {
	  //cout<<"verle"<<endl;
	  sol+=veoup+cuantosle-(i>2 and verle[i-1][j]);
	  cruzados+=cuantosri;
	}
	if (verri[i][j]) {
	  //cout<<"verri"<<endl;
	  cruzados+=cuantosle;
	  cuantosri++;
	}
	if (verle[i][j])
	  cuantosle++;
      }
    }
  }
  for (int i=2;i<n;i++)
    cruzados+=verri[i][1];
  //cout<<sol<<" "<<cruzados<<endl;
}

void rotar()
{
  for (int i=1;i<=n;i++)
    for (int j=1;j<=m;j++)
      nextv[j][n-i+1]=v[i][j];
  swap(n,m);
  for (int i=0;i<=n+1;i++)
    for (int j=0;j<=m+1;j++)
      v[i][j]=0;
  for (int i=1;i<=n;i++)
    for (int j=1;j<=m;j++)
      v[i][j]=nextv[i][j];
}

int main()
{
  ios::sync_with_stdio(false);
  cin>>n>>m;
  for (int i=1;i<=n;i++) {
    for (int j=1;j<=m;j++) {
      char c;
      cin>>c;
      v[i][j]=c=='#';
    }
  }
  for (int k=0;k<4;k++) {
    calcula();
    rotar();
  }
  cout<<sol+cruzados/2<<endl;
}
