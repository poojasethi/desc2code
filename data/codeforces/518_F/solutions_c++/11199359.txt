#include <iostream>
#include <stdio.h>

using namespace std;

int n,m,i,j,k;
long long ans,res,now;
string a[2002];
bool rig[2002][2002];
bool lef[2002][2002];
bool up[2002][2002];
bool down[2002][2002];

main()
 {
   scanf("%d%d",&n,&m);

   for (i=1;i<=n;i++)
    cin>>a[i],a[i]="#"+a[i];

   for (i=2;i<n;i++)
    {
     j=m;
     while (j >= 1 && a[i][j] == '.')
      { rig[i][j]=1; j--; }

     j=1;
     while (j <= m && a[i][j] == '.')
      { lef[i][j]=1; j++; }
    }

   for (j=2;j<m;j++)
    {
     i=n;
     while (i >= 1 && a[i][j] == '.')
      { down[i][j]=1; i--; }

     i=1;
     while (i <= n && a[i][j] == '.')
      { up[i][j]=1; i++; }
    }

  for (i=2;i<n;i++)
   if (rig[i][1]) ans++;

  for (j=2;j<m;j++)
   if (down[1][j]) ans++;

  for (i=2;i<n;i++)
   for (j=2;j<m;j++)
    {
     if (down[i][j] && rig[i][j]) ans++;
     if (down[i][j] && lef[i][j]) ans++;
     if (up[i][j] && rig[i][j]) ans++;
     if (up[i][j] && lef[i][j]) ans++;
    }

  for (i=2;i<n;i++)
   for (j=2;j<m;j++)
    if (a[i][j] == '.')
     {
      now=0; res=0;

      k=j;
      while (k < m && a[i][k] == '.')
       now+=up[i][k]+down[i][k],k++;

      k=j;
      while (k < m && a[i][k] == '.')
       {
        res+=down[i][k]*(now-down[i][k]-up[i][k]-down[i][k+1]-down[i][k-1]);
        res+=up[i][k]*(now-down[i][k]-up[i][k]-up[i][k+1]-up[i][k-1]);
        k++;
       }
      ans+=res/2;

      j=k;
     }

 for (j=2;j<m;j++)
  for (i=2;i<n;i++)
   if (a[i][j] == '.')
    {
     now=0; res=0;

     k=i;
     while (k < n && a[k][j] == '.')
      now+=lef[k][j]+rig[k][j],k++;

     k=i;
     while (k < n && a[k][j] == '.')
      {
       res+=lef[k][j]*(now-lef[k][j]-rig[k][j]-lef[k+1][j]-lef[k-1][j]);
       res+=rig[k][j]*(now-lef[k][j]-rig[k][j]-rig[k+1][j]-rig[k-1][j]);
       k++;
      }

     ans+=res/2;

     i=k;
    }

   cout<<ans<<endl;
 }
