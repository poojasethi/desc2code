//In the name of God

#include <bits/stdc++.h>
using namespace std;
#define mp make_pair
#define lol long long
const int MAXN=2100;
bool l[MAXN][MAXN],r[MAXN][MAXN],d[MAXN][MAXN],u[MAXN][MAXN];
char c[MAXN][MAXN];

int main()
{
  ios::sync_with_stdio(false);
  int n,m;
  cin>>n>>m;
  for(int i=0;i<n;i++)
    for(int j=0;j<m;j++)
      cin>>c[i][j];
  for(int i=0;i<n;i++)
    {
      for(int j=0;j<m;j++)
	if(c[i][j]=='.')
	  l[i][j]=true;
	else
	  break;
      for(int j=m-1;j>=0;j--)
	if(c[i][j]=='.')
	  r[i][j]=true;
	else
	  break;
      for(int j=0;j<m;j++)
	if(i==0 and c[i][j]=='.')
	  u[i][j]=true;
	else if(i!=0)
	  u[i][j]=(u[i-1][j] and (c[i][j]=='.'));
    }
  for(int i=n-1;i>=0;i--)
    for(int j=0;j<m;j++)
      if(i==n-1 and c[i][j]=='.')
	d[i][j]=true;
      else
	d[i][j]=(d[i+1][j] and c[i][j]=='.');
  lol ans=0;
  //0:
  for(int i=1;i<n-1;i++)
    if(r[i][0])
      ans++;
  for(int i=1;i<m-1;i++)
    if(d[0][i])
      ans++;
  //1:
  for(int i=1;i<n-1;i++)
    for(int j=1;j<m-1;j++)
      {
	ans+=(l[i][j] and u[i][j]);
	ans+=(l[i][j] and d[i][j]);
	ans+=(r[i][j] and u[i][j]);
	ans+=(r[i][j] and d[i][j]);
      }
  //2:
  for(int j=1;j<m-1;j++)
    {
      lol cntl=0,cntr=0;
      for(int i=1;i<n-1;i++)
	{
	  if(c[i][j]!='.')
	    {
	      cntl=cntr=0;
	      continue;
	    }
	  if(l[i][j])
	    {
	      if(i>1 and l[i-1][j])
		ans+=cntl-1;
	      else
		ans+=cntl;
	      ans+=cntr;
	    }
	  if(r[i][j])
	    {
	      if(i>1 and r[i-1][j])
		ans+=cntr-1;
	      else
		ans+=cntr;
	      ans+=cntl;
	    }
	  cntr+=r[i][j];
	  cntl+=l[i][j];
	}
    }
  for(int i=1;i<n-1;i++)
    {
      lol cntu=0,cntd=0;
      for(int j=1;j<m-1;j++)
	{
	  if(c[i][j]!='.')
	    {
	      cntu=cntd=0;
	      continue;
	    }
	  if(d[i][j])
	    {
	      if(j>1 and d[i][j-1])
		ans+=cntd-1;
	      else
		ans+=cntd;
	      ans+=cntu;
	      //cntd++;
	    }
	  if(u[i][j])
	    {
	      if(j>1 and u[i][j-1])
		ans+=cntu-1;
	      else
		ans+=cntu;
	      ans+=cntd;
	      //cntu++;
	    }
	  cntu+=u[i][j];
	  cntd+=d[i][j];
	}
    }
  cout<<ans<<endl;
  return 0;
}
