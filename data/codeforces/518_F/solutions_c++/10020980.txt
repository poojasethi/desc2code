#include<cstdio>
#include<iostream>
#include<fstream>
#include<vector>
#include<stack>
#include<queue>
#include<deque>
#include<cstdlib>
#include<cmath>
#include<algorithm>
#include<set>
#include<cstring>
#include<ctime>
#include<map>
#define REP(i,N) for(int i=0;i<N;i++)
#define foru(i,a,b) for(int i=a,_b=b;i<=_b;i++)
#define ford(i,a,b) for(int i=a,_b=b;i>=_b;i--)
#define read freopen("","r",stdin)
#define write freopen("","w",stdout)
#define sz size()
#define fi first
#define se second
#define PB push_back
#define sqr(a) (a)*(a)
#define setp(x) cout.precision(x)
#define mp(x,y) make_pair(x,y)
using namespace std;
typedef long long ll;
typedef long double ld;
typedef pair<int,int> ii;
const float eps=1e-8;
const ll lloo=1e18;
const int oo=(2e9);
int next[4][2001][2001];
string s[2001];
int n,m;
void init() {
    REP(i,n) {
        int lc=0;
        REP(j,m) {
            if (s[i][j]=='#') lc=1;
            next[3][i][j]=lc;
        }
    }
    REP(j,m) {
        int lc=0;
        REP(i,n) {
            if (s[i][j]=='#') lc=1;
            next[0][i][j]=lc;
        }
    }
    REP(i,n) {
        int lc=0;
        ford(j,m-1,0) {
            if (s[i][j]=='#') lc=1;
            next[1][i][j]=lc;
        }
    }
    REP(j,m) {
        int lc=0;
        ford(i,n-1,0) {
            if (s[i][j]=='#') lc=1;
            next[2][i][j]=lc;
        }
    }
    REP(i,n) next[0][i][0]=1,next[0][i][m-1]=1,next[2][i][0]=1,next[2][i][m-1]=1;
    REP(j,m) next[3][0][j]=1,next[3][n-1][j]=1,next[1][0][j]=1,next[1][n-1][j]=1;
}
void solve() {
    ll res=0;
    foru(j,1,m-2) {
        res+=(next[2][0][j]==0);
        int sum1=0,sum2=0;
        foru(i,1,n-2) {
            if (next[3][i][j]==0) res+=sum1+sum2+(next[1][i-1][j]==0)+(next[0][i][j]==0)+(next[2][i][j]==0);
            if (next[1][i][j]==0) res+=sum2+sum1+(next[3][i-1][j]==0)+(next[0][i][j]==0)+(next[2][i][j]==0);
            if (s[i][j]=='.') sum1+=(next[3][i-1][j]==0),sum2+=(next[1][i-1][j]==0);
            else sum1=0,sum2=0;
        }
    }
    foru(i,1,n-2) {
        res+=(next[1][i][0]==0);
        int sum1=0,sum2=0;
        foru(j,1,m-2) {
            if (next[0][i][j]==0) res+=sum1+sum2+(next[2][i][j-1]==0);
            if (next[2][i][j]==0) res+=sum2+sum1+(next[0][i][j-1]==0);
            if (s[i][j]=='.') sum1+=(next[0][i][j-1]==0),sum2+=(next[2][i][j-1]==0);
            else sum1=0,sum2=0;
        }
    }
    cout << res;
}
int main() {
//    freopen("test.inp","r",stdin);
    cin >> n >> m;
    REP(i,n) cin >> s[i];
    init();
    solve();
}
