#include <map>
#include <set>
#include <list>
#include <ctime>
#include <cmath>
#include <queue>
#include <stack>
#include <bitset>
#include <vector>
#include <cstdio>
#include <string>
#include <cstring>
#include <sstream>
#include <iomanip>
#include <cstdlib>
#include <iostream>
#include <algorithm>
using namespace std;
string c[2005];
bool p[2005][2005],q[2005][2005],l[2005][2005],r[2005][2005];
int main ( ) {
	long long ans=0;
	int n,m,i,j;
	scanf("%d%d",&n,&m);
	for (i=0;i<n;i++) cin>>c[i];
	for (i=0;i<n;i++) {
		for (j=0;j<m;j++) {
			p[i][j]=(i==0 || p[i-1][j]) && c[i][j]=='.';
			l[i][j]=(j==0 || l[i][j-1]) && c[i][j]=='.';
		}
	}
	for (i=n-1;i>=0;i--) {
		for (j=m-1;j>=0;j--) {
			q[i][j]=(i==n-1 || q[i+1][j]) && c[i][j]=='.';
			r[i][j]=(j==m-1 || r[i][j+1]) && c[i][j]=='.';
		}
	}
	for (i=1;i+1<n;i++) ans+=l[i][m-1];
	for (j=1;j+1<m;j++) ans+=p[n-1][j];
	for (i=1;i+1<n;i++) {
		for (j=1;j+1<m;j++) {
			ans+=(p[i][j] && l[i][j])+(p[i][j] && r[i][j])+(q[i][j] && l[i][j])+(q[i][j] && r[i][j]);
		}
	}
	for (i=1;i+1<n;i++) {
		int u=0,v=0,x=0,y=0;
		for (j=1;j<m-1;j++) {
			if (p[i][j]) ans+=y+u;
			if (q[i][j]) ans+=x+v;
			if (c[i][j]=='.') {
				x+=p[i][j];y+=q[i][j];
				if (j-1>0) {u+=p[i][j-1];v+=q[i][j-1];}
			}
			else {
				u=0;v=0;x=0;y=0;
			}
		}
	}
	for (j=1;j<m-1;j++) {
		int u=0,v=0,x=0,y=0;
		for (i=1;i+1<n;i++) {
			if (l[i][j]) ans+=y+u;
			if (r[i][j]) ans+=x+v;
			if (c[i][j]=='.') {
				x+=l[i][j];y+=r[i][j];
				if (i-1>0) {u+=l[i-1][j]; v+=r[i-1][j];}
			}
			else {
				u=0;v=0;x=0;y=0;
			}
		}
	}
	printf("%I64d\n",ans);
	return 0;
}
/*
Sample test(s)
input
3 3
...
..#
...
output
3
input
4 2
..
..
..
..
output
2
input
4 5
#...#
#...#
###.#
###.#
output
4
*/
