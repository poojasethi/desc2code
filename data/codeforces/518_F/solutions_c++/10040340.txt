#include<bits/stdc++.h>
using namespace std;
typedef long long Int;
const int Maxn=2003;
char s[Maxn][Maxn];
bool l[Maxn][Maxn],r[Maxn][Maxn],u[Maxn][Maxn],d[Maxn][Maxn];
int n,m;
Int ans;
int main()
{
    scanf("%d%d",&n,&m);
    for(int i=1;i<=n;i++)scanf("%s",s[i]+1);
    for(int i=2;i<m;i++)u[1][i]=s[1][i]=='.',d[n][i]=s[n][i]=='.';
    for(int i=2;i<n;i++)l[i][1]=s[i][1]=='.',r[i][m]=s[i][m]=='.';
    for(int i=2;i<n;i++)
        for(int j=2;j<m;j++)
            u[i][j]=s[i][j]=='.'?u[i-1][j]:0,l[i][j]=s[i][j]=='.'?l[i][j-1]:0;
    for(int i=n-1;i>=2;i--)
        for(int j=m-1;j>=2;j--)
            d[i][j]=s[i][j]=='.'?d[i+1][j]:0,r[i][j]=s[i][j]=='.'?r[i][j+1]:0;
    for(int i=2;i<n;i++)
        for(int j=2;j<m;j++)
        {
            ans+=(u[i][j]&&l[i][j])+(u[i][j]&&r[i][j])+(d[i][j]&&l[i][j])+(d[i][j]&&r[i][j]);
        }
    for(int i=2;i<m;i++)if(s[1][i]=='.'&&d[2][i])ans++;
    for(int i=2;i<n;i++)if(s[i][1]=='.'&&r[i][2])ans++;
    for(int i=2;i<n;i++)
    {
        int cnt=0;
        for(int j=2;j<m;j++)
        {
            if(s[i][j]!='.'){cnt=0;continue;}
            ans+=cnt*(u[i][j]+d[i][j]);
            ans-=(u[i][j-1]&&u[i][j])+(d[i][j-1]&&d[i][j]);
            cnt+=u[i][j]+d[i][j];
        }
    }

    for(int i=2;i<m;i++)
    {
        int cnt=0;
        for(int j=2;j<n;j++)
        {
            if(s[j][i]!='.'){cnt=0;continue;}
            ans+=cnt*(l[j][i]+r[j][i]);
            ans-=(l[j-1][i]&&l[j][i])+(r[j-1][i]&&r[j][i]);
            cnt+=l[j][i]+r[j][i];
        }
    }
    printf("%I64d\n",ans);
}
/*
5 7
#......
.#..#..
.#.#..#
......#
..#....

*/
