#include<cstdio>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<string>
#include<vector>
#include<map>
#include<set>
#include<iostream>
#include<string>
using namespace std;
#define AA first
#define BB second
#define OP begin()
#define ED end()
#define SZ size()
#define PB push_back
#define MP make_pair
typedef long long LL;
typedef pair<int,int> PII;
char s[2005][2005];
int f[2005][2005][4];
int dx[4]={1,-1,0,0};
int dy[4]={0,0,1,-1};
int n,m;
int ck(int i,int j,int k){
    if(~f[i][j][k])return f[i][j][k];
    int &tp=f[i][j][k];
    if(i<1||i>n||j<1||j>m)
        return tp=true;
    if(s[i][j]=='#')return tp=false;
    return tp=ck(i+dx[k],j+dy[k],k);
}
int main(){
    int i,j,k;
    while(~scanf("%d%d",&n,&m)){
        for(i=1;i<=n;i++)
            scanf("%s",s[i]+1);
        memset(f,-1,sizeof f);
        LL ans=0;
        for(i=2;i<n;i++)
            if(ck(i,1,2))ans++;
        for(j=2;j<m;j++)
            if(ck(1,j,0))ans++;
        for(i=2;i<n;i++)
            for(j=2;j<m;j++){
                for(int p=0;p<2;p++)if(ck(i,j,p))
                    for(int q=2;q<4;q++)
                        if(ck(i,j,q))ans++;
            }
        for(i=2;i<n;i++){
            int cnt=0,d0=0,d1=0;
            for(j=2;j<m;j++){
                if(s[i][j]!='#'){
                    if(ck(i,j,1))
                        ans+=d0+cnt;
                    if(ck(i,j,0))
                        ans+=d1+cnt;
                }else cnt=d0=d1=0;
                cnt+=d0+d1;
                d0=ck(i,j,0);
                d1=ck(i,j,1);
            }
        }
        for(j=2;j<m;j++){
            int cnt=0,d0=0,d1=0;
            for(i=2;i<n;i++){
                if(s[i][j]!='#'){
                    if(ck(i,j,3))ans+=d0+cnt;
                    if(ck(i,j,2))ans+=d1+cnt;
                }else cnt=d0=d1=0;
                cnt+=d0+d1;
                d0=ck(i,j,2);
                d1=ck(i,j,3);
            }
        }
        cout<<ans<<"\n";
    }
    return 0;
}
