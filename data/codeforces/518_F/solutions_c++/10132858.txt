/*********************************/
/*                               */
/*  CODED BY: ANKUSH             */
/*                               */
/*  No need to Think against     */ 
/*           Time,               */ 
/*  Let the Time to Show Its     */ 
/*       Ultimate Strength       */ 
/*                               */  
/*                               */    
/*********************************/

#include<bits/stdc++.h>
using namespace std;

int main()
{
    std::ios::sync_with_stdio(false);
    int n, m; cin>>n>>m;
    string str[n];
    for(int i=0; i<n; i++)
        cin>>str[i];
    int l[n][m], r[n][m], u[n][m], d[n][m];
    for(int i=0; i<n; i++)
        for(int j=0; j<m; j++)
            l[i][j]=r[i][j]=u[i][j]=d[i][j]=0;
    for(int i=1; i<n-1; i++)
    {
        for(int j=0; j<m; j++)
        {
            if(str[i][j]=='#') break;
            l[i][j]=1;
        }  
        for(int j=m-1; j>=0; j--)
        {
            if(str[i][j]=='#') break;
            r[i][j]=1;
        }
    } 
    for(int i=1; i<m-1; i++)
    {
        for(int j=0; j<n; j++)
        {
            if(str[j][i]=='#') break;
            u[j][i]=1;
        }  
        for(int j=n-1; j>=0; j--)
        {
            if(str[j][i]=='#') break;
            d[j][i]=1;
        }
    }  
    long long ans=0;
    for(int i=1; i<n-1; i++)
        if(l[i][1]==r[i][1] && l[i][1]==1)
            ans++;
    for(int i=1; i<m-1; i++)
        if(u[1][i]==d[1][i] && u[1][i]==1)
            ans++;        
    for(int i=1; i<n-1; i++)
        for(int j=1; j<m-1; j++)
            ans+=(long long)(l[i][j]+r[i][j])*(u[i][j]+d[i][j]);
            
      
        
    for(int i=1; i<n-1; i++)
    {
        int up1=0, dw1=0, up2=0, dw2=0;
        for(int j=2; j<m-1; j++)
        {
            up1+=u[i][j-1], dw1+=d[i][j-1];
            if(str[i][j]=='#')
            {
                up1=0, up2=0, dw1=0, dw2=0;
                continue;
            }
            ans+=(long long)u[i][j]*(up2+dw1)+d[i][j]*(up1+dw2);
            up2=up1, dw2=dw1 ;
        }
    }
    for(int i=1; i<m-1; i++)
    {
        int l1=0, r1=0, l2=0, r2=0;
        for(int j=2; j<n-1; j++)
        {
            l1+=l[j-1][i], r1+=r[j-1][i];
            if(str[j][i]=='#')
            {
                l1=0, r1=0, l2=0, r2=0;
                continue;
            }
            ans+=(long long)l[j][i]*(l2+r1)+r[j][i]*(l1+r2);
            l2=l1, r2=r1 ;
        }
    }
    cout<<ans;
    return 0;      
}
