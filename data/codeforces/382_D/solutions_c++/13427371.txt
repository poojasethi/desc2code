#include<bits/stdc++.h>

using namespace std;

int m,n,i,j,mx,w,t;

char A[2003][2003],c;

bool q;

void f(int i, int j, int s){

	if(mx == s && t != w) q=1; 
    if(mx < s) { mx = s; t=w; q=0;}
//cout << s << " " << i <<" "<< j << endl;
	if(A[i][j-1] == '>') { if(A[i][j] == '#') w++; f(i,j-1,s+1); }
	if(A[i-1][j] == 'v') { if(A[i][j] == '#') w++; f(i-1,j,s+1); }
	if(A[i][j+1] == '<') { if(A[i][j] == '#') w++; f(i,j+1,s+1); }
	if(A[i+1][j] == '^') { if(A[i][j] == '#') w++; f(i+1,j,s+1); }

	A[i][j] = 0;

}
void g(int x, int y){

    if(!A[x][y]) { cout << -1; exit(0); }

    c = A[x][y];
	A[x][y] = 0;

	if(c == '>') g(x,y+1);
	if(c == 'v') g(x+1,y);
	if(c == '<') g(x,y-1);
	if(c == '^') g(x-1,y);

}
int main(){

    cin >> m >> n;

	for(i=1;i<=m;i++)
		cin >> A[i] + 1;

	for(i=1;i<=m;i++)
		for(j=1;j<=n;j++)
			if(A[i][j] == '#')
				f(i,j,0);
				 
	for(i=1;i<=m;i++)
		for(j=1;j<=n;j++)
			if(A[i][j])
			   g(i,j);
	
	cout << (w ? 2 * mx - 1 + q : 0);
	return 0;
}

