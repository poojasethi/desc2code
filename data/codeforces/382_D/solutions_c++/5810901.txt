#include <cstdio>

char gr[2345][2345], s[2345][2345], fin[2345][2345], cyc; int dp[2345][2345];
int dx[256], dy[256];
void solve(int y, int x) {
	if (s[y][x] && !fin[y][x]) {
		cyc = 1; return;
	}
	if (fin[y][x]) return;
	s[y][x] = 1;
	if (gr[y][x] != '#') {
		int ny = y + dy[gr[y][x]], nx = x + dx[gr[y][x]];
		solve(ny, nx); dp[y][x] = dp[ny][nx]+1;
	}
	fin[y][x] = 1; return;
}
int main() {
	int h, w, mx = 0, mxx = 0, mxy = 0, mx2 = 1, mxx2 = 0, mxy2 = 0, chng = 0;

	dx['<'] = -1; dx['>'] = 1;
	dy['^'] = -1; dy['v'] = 1;
	scanf("%d %d", &h, &w);
	if (h==1 || w==1) {
		printf("0\n"); return 0;
	}
	for (int i = 0; i < h; i++) scanf("%s", gr+i);
	for (int i = 0; i < h; i++) for (int j = 0; j < w; j++) {
		if (!fin[i][j]) {
			solve(i, j);
			if (cyc) {
				printf("-1\n"); return 0;
			}
		}
		if (dp[i][j] >= mx) {
			mx2 = mx; mxx2 = mxx; mxy2 = mxy;
			mx = dp[i][j]; mxx = j; mxy = i;
		}
		else if (dp[i][j] >= mx2) {
			mx2 = dp[i][j]; mxx2 = j; mxy2 = i;
		}
	}
	while (1) {
		if (gr[mxy][mxx] == '#' || gr[mxy2][mxx2] == '#') break;
		if (mxy == mxy2 && mxx == mxx2) {
			chng = -1; break;
		}
		int nx = mxx + dx[gr[mxy][mxx]], ny = mxy + dy[gr[mxy][mxx]], nx2 = mxx2 + dx[gr[mxy2][mxx2]], ny2 = mxy2 + dy[gr[mxy2][mxx2]];
		mxx = nx; mxy = ny; mxx2 = nx2; mxy2 = ny2;
	}
	printf("%d\n", mx + mx2 + chng);

	return 0;
}