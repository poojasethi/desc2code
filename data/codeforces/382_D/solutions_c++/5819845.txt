#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <algorithm>
using namespace std;
#define MAXN 2005

char a[MAXN][MAXN],st[5]="><v^";
int n,m,cnt,max1,max2;
int dir[4][2]={{0,-1},{0,1},{-1,0},{1,0}};
int dfs(int x,int y,char ch)
{
    if (x<0||x>=n||y<0||y>=m||a[x][y]!=ch) return 0;
    int d=0;
    cnt++;
    for (int i=0;i<4;i++)
        d=max(d,dfs(x+dir[i][0],y+dir[i][1],st[i]));
    return d+1;
}
int main()
{
    //freopen("/home/christinass/code/in.txt","r",stdin);
    while (scanf("%d%d",&n,&m)!=-1)
    {
        max1=max2=0;
        cnt=0;
        for (int i=0;i<n;i++)   scanf("%s",a[i]);
        for (int i=0;i<n;i++)
            for (int j=0;j<m;j++)
                if (a[i][j]=='#')
                {
                    cnt++;
                    for (int t=0;t<4;t++)
                    {
                        int d=dfs(i+dir[t][0],j+dir[t][1],st[t]);
                        if (d>max1) max2=max1,max1=d;
                        else if (d>max2) max2=d;
                    }
                }
        if (cnt<n*m) printf("-1\n");
        else if (max1==max2) printf("%d\n",max1*2);
        else printf("%d\n",2*max1-1);
    }
    return 0;
}
