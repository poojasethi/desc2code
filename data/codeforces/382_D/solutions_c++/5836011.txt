#include <iostream>
#include <stdlib.h>
#include <stdio.h>
using namespace std;
const int maxn=2020;
int n,m,mx,res,k,ans,d[maxn][maxn],c[maxn][maxn];
int ax[maxn][maxn],ay[maxn][maxn];
char a[maxn][maxn],r;
int u[maxn][maxn];
int DFS(int x, int y) { 
	if (a[x][y]=='#')
		return 0;
	if (u[x][y]==1) {          
		printf("-1");
		exit(0);
	}
	if (u[x][y])
		return d[x][y];
	++u[x][y];
	d[x][y]=1+DFS(x+ax[x][y],y+ay[x][y]);   
	if (d[x][y]>mx) 
		mx=d[x][y];
	++u[x][y];	                             
	return d[x][y];	       
}
bool check(int x, int y, int color) {
	if (a[x][y]=='#') 
		return 1;    
	c[x][y]=color;
	if (c[x+ax[x][y]][y+ay[x][y]]!=color && c[x+ax[x][y]][y+ay[x][y]]!=0)
		return 0;
	else 
		return check(x+ax[x][y],y+ay[x][y],color);
}
int main() {
	#ifndef ONLINE_JUDGE 
	freopen("in","r",stdin);
	freopen("out","w",stdout);
	#endif
	scanf("%d %d\n",&n,&m);
	--n,--m;
	for (int i=0; i<=n; ++i) {
		for (int j=0; j<=m; ++j) {
			a[i][j]=r=getchar();
			if (r!='#') {	
				++ans;
				ay[i][j]=(r=='>')-(r=='<');
				ax[i][j]=(r=='v')-(r=='^');
			}       
		}                                       
		getchar();
	}
	if (!ans) {
		printf("0");
		return 0;
	}
	for (int i=1; i<n; ++i) 
		for (int j=1; j<m; ++j)
			if (!u[i][j] && a[i][j]!='#') 
				DFS(i,j);
	for (int i=1; i<=n; ++i) 
		for (int j=1; j<=m; ++j) 
			if (d[i][j]==mx) {
				k+=check(i,j,i*m+j); 
				if (k==2) {    
					printf("%d",mx*2);
					return 0;
				}
			}   	
	printf("%d",mx*2-1);
	return 0;
}