#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<ctime>
#include<cmath>
#include<iostream>
#include<string>
#include<deque>
#include<list>
#include<queue>
#include<vector>
#include<algorithm>
#include<map>
#include<stack>
#include<set>
using namespace std;
#define ll long long
#define lowbit(x) (x&-x)
#define F first
#define S second
#define pr pair<int,int>
#define m_p(x,y) make_pair(x,y)
#define eps 1e-8
#define pi acos(-1.0)
#define square(x) ((x)*(x))
#define getvec(x,y) ((y)-(x))
#define xmul(x1,y1,x2,y2) ((x1)*(y2)-(x2)*(y1))
#define inf 0x3f3f3f3f
#define mod ((ll)1e9+7)
#define maxn 100010
int a[maxn],b[maxn],c[maxn][2],s[maxn],o[maxn],n;
void update(int x) {
    s[x]=s[c[x][0]]+s[c[x][1]]+1;
    o[x]=max(a[x],max(o[c[x][1]],o[c[x][0]]));
}
void rotate(int &x,int t) {
    int y=c[x][t];
    c[x][t]= c[y][1-t];
    c[y][1-t]=x;
    update(x); update(y); x=y;
}
void insert(int &x,int i) {
    if(x) {
        int t=1;
        if(max(a[x],o[c[x][0]])<=a[i]&&1+s[c[x][0]]<=b[i])
            b[i]-= 1+s[c[x][0]], insert(c[x][1],i);
        else t=0, insert(c[x][0],i);
        rotate(x,t);
    } else x=i;
    update(x);
}
void output(int x) {
    if(x) output(c[x][1]),cout<<x<<' ',output(c[x][0]);
}

int main()
{
#ifndef ONLINE_JUDGE
	freopen("G:\\ACM\\inandout\\in.txt","r",stdin);
//	freopen("G:\\ACM\\inandout\\out.txt","w",stdout);
#endif
    cin>>n; int rt=0; for(int i=1;i<=n;i++) cin>>a[i]>>b[i],insert(rt,i);
    output(rt); puts("");
	return 0;
}
