#include <cstdio>
#include <iostream>
#include <cmath>
#include <algorithm>
#include <cstring>

using namespace std;

typedef long long LL;
LL m,bj,f[100005],len[100005],a[100005];
LL l[100005],c[100005];
LL n,x,dq;
int main()
{
	scanf("%I64d",&m);
	for (int i=1;i<=m;++i)
	{
		scanf("%I64d",&bj);
		if (bj==1)
		{
			f[i]=bj;
			len[i]=len[i-1]+1;
			scanf("%I64d",&a[i]);
		}
		else
		{
			f[i]=bj;
			scanf("%I64d%I64d",&l[i],&c[i]);
			len[i]=len[i-1]+l[i]*c[i];
		}
	}
	scanf("%I64d",&n);
	for (int i=1;i<=n;++i)
	{
		scanf("%I64d",&x);
		while (true)
		{
			dq=lower_bound(len,len+m+1,x)-len;
			if (f[dq]==1)
			{
				printf("%d ",a[dq]);
				break;
			}
			x=(x-len[dq-1]-1)%l[dq]+1;
		}
	}
	return 0;
}
 	  	 		 	     	 		   	  			 	