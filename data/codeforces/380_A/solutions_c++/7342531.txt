#include <iostream>
using namespace std;
const int Mmax=100001;
int m, n, i, j, t, Lm, V[Mmax], L[Mmax], C[Mmax], Vs[Mmax];
long long A[Mmax], An, k;

int main()
{
	cin>>m;
	for (i=0; i<m; i++) {
		cin>>t;
		if (t==1) {
			cin>>V[i];
			if (An<Mmax) Vs[An]=V[i];
			A[i]=An++; 
		}
		else {
			cin>>L[i]>>C[i];
			k = An+(long long)L[i]*C[i];
			// if (m==8198&&i==50) cout<<"i="<<i<<", An="<<An<<", k="<<k<<endl;
			if(An<Mmax) for (j=An; j<Mmax&&j<k; j++) Vs[j]=Vs[(j-An)%L[i]];
			A[i]=An; An=k;
		}
	}
	cin>>n;
	// if (m==8198) return 0;
	for (i=0,j=0; i<n; i++) {
		cin>>k; k--;
		while (V[j]>0&&A[j]<k || V[j]==0&&A[j]+(long long)L[j]*C[j]<=k) j++;
		if (V[j]>0) cout<<V[j]<<" ";
		else cout<<Vs[(k-A[j])%L[j]]<<" ";
	}
	cout<<endl;
	return 0;
} 
