#include <iostream>
#include <algorithm>
using namespace std;
typedef long long LL;
LL n,o[100100][4],l[100100],q;
int main() {
  cin>>n;
  for(int i=1;i<=n&&cin>>o[i][0];++i)
    if(1==o[i][0]){
      cin>>o[i][1];
      l[i]=l[i-1]+1;
    }else {
      cin>>o[i][1]>>o[i][2];
      l[i]=o[i][1]*o[i][2]+l[i-1];
    }
  cin>>q;
  for(LL i=0,x;i<q&&cin>>x;++i){
    --x;
    LL y=0;
    for (LL j=n;j>0;j=upper_bound(l,l+j+1,x)-l){
      if(o[j][0]<2){
        if (x+1>=l[j]){
          y=o[j][1];
          break;
        }
      }else{
        if (x>=l[j-1])x=(x-l[j-1])%o[j][1];
      }
    }
    cout<<(i>0?" ":"")<<y;
  }
  cout<<endl;
}
