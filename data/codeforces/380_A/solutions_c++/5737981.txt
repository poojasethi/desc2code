#include "cstdio"
#include "iostream"
#include "algorithm"
using namespace std;
const int maxn = 200000;

int n, m, a[maxn], b[maxn], c[maxn];
long long s[maxn];

int get(long long x){
	int i = lower_bound(s+1, s+m+1, x) - s;
	//printf("x %I64d i %d\n", x, i);
	if(a[i]==1) return b[i];
	int len = x-s[i-1];
	return get( (len-1) % b[i] + 1 );
}

int main(int argc, char const *argv[])
{
	cin>>n;
	s[0] = 0;
	for(int i=0; i<n; i++){
		int &x = a[i+1],&y = b[i+1], &z = c[i+1];
		scanf("%d",&x);
		if(x==1){
			scanf("%d",&y);
			s[i+1] = s[i] + 1;
		}else{
			scanf("%d%d",&y,&z);
			s[i+1] = s[i] + y*z;
		}
	}
	m = n;
	cin>>n;
	for(int i=0; i<n; i++){
		long long x;
		scanf("%I64d",&x);
		printf("%d ", get(x));
	}
	return 0;
}