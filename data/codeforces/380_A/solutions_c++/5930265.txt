#include<cstdio>
#include<cstring>
#include<cmath>
#include<algorithm>
using namespace std;
typedef long long ll;
#define rep(i,n) for (int i=1;i<=n;++i)
const int N=100005;
ll L,x; int type[N],v[N],l[N],c[N],a[N],n,m,t,ans;
int main()
{
	scanf("%d",&n);
	rep(i,n){
		scanf("%d",type+i);
		if (type[i]==1) scanf("%d",v+i); else scanf("%d%d",l+i,c+i);
	}
	scanf("%d",&m); int j=1;
	while (m--){
		scanf("%I64d",&x);
		while (L<x){
			if (type[j]==1){
				if (++L==x) ans=v[j];
				if (t<=N-3) a[++t]=v[j];
				++j;
			}else{
				if (L+l[j]*c[j]<x){
					for (int i=0;i<l[j]*c[j] && t<=N-3;++i) a[++t]=a[i%l[j]+1];
					L+=l[j]*c[j],++j;
				}else x=(x-L-1)%l[j]+1,ans=a[x],x=0;
			}
		}
		printf("%d ",ans);
	}
	return 0;
}
