#include <algorithm>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#define int64 long long
#define N 100010
#define For(i,x,y) for (i=x;i<=y;i++)
using namespace std;
int i,j,k,n,m,s;
int l[N],c[N],type[N],x[N],a[N];
int64 len[N],v;
int main() {
	scanf("%d",&n);
	For(i,1,n) {
		scanf("%d",&type[i]); len[i]=len[i-1];
		if (type[i]==1) {
			scanf("%d",&x[i]),len[i]++;
			if (len[i]<N) a[++s]=x[i];
		} else {
			scanf("%d%d",&l[i],&c[i]),len[i]+=(int64)l[i]*c[i];
			for (j=1;j<=c[i]&&s<N;j++)
			for (k=1;k<=l[i]&&s<N;k++) a[++s]=a[k];
		}
	}
	scanf("%d",&m); j=1;
	For(i,1,m) {
		scanf("%I64d",&v);
		for (;j<=n&&len[j]<v;j++);
		if (type[j]==1) printf("%d ",x[j]);
		else printf("%d ",a[(v-len[j-1]-1)%l[j]+1]);
	}
	return 0;
}
