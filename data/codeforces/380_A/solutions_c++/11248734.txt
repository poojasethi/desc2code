#include<cstdio>
#define maxn 100005
int n;
int type[maxn],a[maxn],b[maxn];
long long len[maxn],pos;
int find(long long  pos)
{
	int l=1,r=n,m;
	while(l<r)
	{
		m=l+(r-l)/2;
		if(len[m]<pos)
			l=m+1;
		else r=m;
	}
	return l;
}
int solve(long long pos)
{
	int k=find(pos);
	if(type[k]==1)return a[k];
	pos-=len[k-1];
	pos=pos%a[k];
	if(pos==0)pos=a[k];
	return solve(pos);
}
int main()
{
	scanf("%d",&n);
	len[0]=0;
	int i,j;
	for(i=1;i<=n;i++)
	{
		scanf("%d",&type[i]);
		if(type[i]==1)
		{
			scanf("%d",&a[i]);
			len[i]=len[i-1]+1;
		}
		else
		{
			scanf("%d%d",&a[i],&b[i]);
			len[i]=len[i-1]+a[i]*b[i];
		}
	}
	int m;
	scanf("%d",&m);
	while(m--)
	{
		scanf("%I64d",&pos);
		printf("%d ",solve(pos));
	}
	printf("\n");
	return 0;
}
	   	 		     	   	  			  		 	 	