#include<cstdio>
#include<algorithm>
using namespace std;

int n, m;
int op[111111], v[111111], l[111111], c[111111];
long long ed, x;
long long p[111111];

int calc(long long x) {
	int id = lower_bound(p, p+m, x) - p;
	if(op[id] == 1) return v[id];
	
	x-=p[id-1];
	return calc((x-1)%l[id]+1);
}

int main() {
	scanf("%d", &m);
	ed = 0;
	for(int i=0;i<m;i++) {
		scanf("%d", &op[i]);
		if(op[i]==1) {
			scanf("%d", &v[i]);
			ed++;
		} else {
			scanf("%d%d", &l[i], &c[i]);
			ed+=1LL*l[i]*c[i];
		}
		p[i] = ed;
	}
	
	scanf("%d", &n);
	for(int i=0;i<n;i++) {
		scanf("%I64d", &x);
		printf("%d%c", calc(x), i<n-1 ? ' ' : '\n');
	}
	
	return 0;
}