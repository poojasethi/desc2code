#include<cstdio>
#include<vector>
#include<utility>
#include<algorithm>
#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define fd(i,a,b) for(i=a;i>=b;--i)
#define fo(i,a,b) for(i=a;i<=b;++i)
using namespace std;
typedef pair<int,int>node;
const int mn=110000;
int f[mn],n,tt,l2,l3,lo;
vector<int>q;
int g2[mn],g3[mn];
vector<node>ans[mn];
bool vis[mn];
void cyc(int r)
{
    int t=r,i;
    q.clear();
    for(;!vis[t];t=f[t])q.pb(t),vis[t]=1;
    while(q.size()>4)
    {
        ans[++tt].clear();
        fo(i,0,4)ans[tt].pb(mp(q[i],q[(i+1)%5]));
        f[r]=f[q[4]];
        q.erase(q.begin()+1,q.begin()+5);
    }
    if(q.size()==1)return;
    if(q.size()==2)g2[++l2]=r;
    else if(q.size()==3)g3[++l3]=r;
    else
    {
        ans[++tt].clear();
        fo(i,0,3)ans[tt].pb(mp(q[i],q[(i+1)%4]));
    }
}
void ins(vector<node>&a,int r)
{
    a.pb(mp(r,f[r]));
    for(int t=f[r];t!=r;t=f[t])a.pb(mp(t,f[t]));
}
int main()
{
    scanf("%d",&n);
    int i,j;
    fo(i,1,n)scanf("%d",f+i);
    fo(i,1,n)
    {
        if(vis[i])continue;
        cyc(i);
    }
    lo=min(l2,l3);
    fo(i,1,lo)
    {
        ans[++tt].clear();
        ins(ans[tt],g2[i]);
        ins(ans[tt],g3[i]);
    }
    for(i=lo+1;i<=l2;i+=2)
    {
        ans[++tt].clear();
        ins(ans[tt],g2[i]);
        if(i<l2)ins(ans[tt],g2[i+1]);
    }
    for(i=lo+1;i+2<=l3;i+=3)
    {
        ans[++tt].clear();
        ins(ans[tt],g3[i]);
        j=g3[i+1];
        ans[tt].pb(mp(j,f[j])),ans[tt].pb(mp(f[j],j));
        swap(f[j],f[f[j]]);
        ans[++tt].clear();
        ins(ans[tt],g3[i+1]);
        ins(ans[tt],g3[i+2]);
    }
    lo=i;
    fo(i,lo,l3)
    {
        ans[++tt].clear();
        ins(ans[tt],g3[i]);
    }
    printf("%d\n",tt);
    fo(i,1,tt)
    {
        printf("%d\n",ans[i].size());
        printf("%d",ans[i][0].fi);
        for(j=1;j<ans[i].size();++j)printf(" %d",ans[i][j].fi);
        printf("\n");
        printf("%d",ans[i][0].se);
        for(j=1;j<ans[i].size();++j)printf(" %d",ans[i][j].se);
        printf("\n");
    }
    return 0;
}