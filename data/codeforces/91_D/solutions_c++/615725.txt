#include <cstdio>
#include <cstring>
using namespace std;

int n,a[100005],q[5],w,q2[100005],w2,q3[100005],w3,out,Q[25005][2][5],W[25005];
bool b[100005];

void count(int z) {
    q[w++]=z;
    while ((w<5)&&(a[q[w-1]]!=z)) {
        q[w]=a[q[w-1]];
        w++;
    }
}
/*
void shift() {
    q[w]=q[0];
    for (int i=0; i<w; i++) {
        Q[out][0][i]=q[i];
        Q[out][1][i]=q[i+1];
    }
    W[out++]=w;
    int temp=a[q[0]];
    for (int i=n-1; i>0; i--) {
        a[q[i+1]]=a[q[i]];
    }
    a[q[1]]=temp;
}
*/
int A[100005];

void shift(int x, int y) {
    for (int i=0; i<y; i++) {
        Q[out][0][i]=q[i];
        if (i==x-1) Q[out][1][i]=q[0];
        else if (i==y-1) Q[out][1][i]=q[x];
        else Q[out][1][i]=q[i+1];
        A[Q[out][1][i]]=a[Q[out][0][i]];
    }
    W[out++]=y;
    for (int i=0; i<y; i++) {
        a[q[i]]=A[q[i]];
    }
}

int main() {
    scanf("%d",&n);
    for (int i=1; i<=n; i++) {
        scanf("%d",&a[i]);
    }
    memset(b,true,sizeof(b));
    w2=w3=out=0;
    for (int i=1; i<=n; ) {
        if (b[i]) {
            w=0;
            count(i);
            if (w==1) {
                i++;
            }
            else if (w==2) {
                q2[w2++]=i;
                for (int i=0; i<w; i++) b[q[i]]=false;
            }
            else if (w==3) {
                q3[w3++]=i;
                for (int i=0; i<w; i++) b[q[i]]=false;
            }
            else {
                shift(w,w);
            }
        }
        else {
            i++;
        }
    }
/*for (int i=1; i<=n; i++) {
    printf("%d ",a[i]);
}printf("\n");
printf("%d %d\n",w2,w3);*/
    while (1) {
        w=0;
        if ((w2)&&(w3)) {
            w2--;
            w3--;
            count(q2[w2]);
            count(q3[w3]);
            shift(2,5);
        }
        else if (w2==1) {
            w2--;
            count(q2[w2]);
            shift(2,2);
        }
        else if (w2>=2) {
            w2--;
            count(q2[w2]);
            w2--;
            count(q2[w2]);
            shift(2,4);
        }
        else if ((w3==1)||(w3==2)) {
            w3--;
            count(q3[w3]);
            shift(3,3);
        }
        else if (w3>2) {
            w3--;
            count(q3[w3]);
            w3--;
            count(q3[w3]);
            shift(3,5);
            w=0;
            count(q3[w3]);
            w3--;
            count(q3[w3]);
            shift(2,5);
        }
        else break;
    }
    printf("%d\n",out);
    for (int i=0; i<out; i++) {
        printf("%d\n",W[i]);
        for (int j=0; j<2; j++) {
            for (int k=0; k<W[i]; k++) {
                if (k!=0) printf(" ");
                printf("%d",Q[i][j][k]);
            }
            printf("\n");
        }
    }
    return 0;
}