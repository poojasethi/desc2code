#include<cstdio>
#include<algorithm>
using namespace std;

int n, m, k, ans;
char s[111];
int a[11][111], b[11][111], c[11][111];

int calc(int x, int y) {
	pair<int, int> v[111];
	for(int i=1;i<=m;i++)
		v[i] = make_pair(b[y][i] - a[x][i], c[x][i]);
	sort(v+1, v+m+1);
	
	int rem = k, ret = 0;
	for(int i=m;i>0;i--) {
		if(v[i].first <= 0) break;
		int det = min(rem, v[i].second);
		rem -= det;
		ret += det * v[i].first;
	}
	return ret;
}

int main() {
	scanf("%d%d%d", &n, &m, &k);
	for(int i=1;i<=n;i++) {
		scanf("%s", s);
		for(int j=1;j<=m;j++)
			scanf("%d%d%d",&a[i][j], &b[i][j], &c[i][j]);
	}
	ans=0;
	for(int i=1;i<=n;i++)
		for(int j=1;j<=n;j++)
			if(i!=j)
				ans = max(ans, calc(i, j));
	printf("%d\n", ans);
	
	return 0;
}