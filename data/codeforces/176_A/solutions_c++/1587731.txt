
#include <cstdio>
#include <algorithm>
using namespace std;
typedef long long i8;

int n,m,k,re;
int buy[11][105], sel[11][105], qua[11][105];
char buf[20];

int dp[2][105];

void solve(int a, int b) {
	if (a==b) return;
	
	for (int i=0; i<105; i++)
		dp[0][i]=dp[1][i]=0;
		
	for (int t=0; t<m; t++) {
		int x=sel[b][t]-buy[a][t];
		for (int q=k; q>0; q--)
			for (int u=min(q,qua[a][t]); u>=0; u--) {
				dp[t%2][q]=max(dp[t%2][q], x*u+dp[(t+1)%2][q-u]);
				re=max(re,dp[t%2][q]);
			}
	}
}

main() {
	scanf("%d%d%d",&n,&m,&k);
	for (int p=0; p<n; p++) {
		scanf("%s",buf);
		for (int t=0; t<m; t++) {
			scanf("%d",&buy[p][t]);
			scanf("%d",&sel[p][t]);
			scanf("%d",&qua[p][t]);
		}
	}
	
	for (int a=0; a<n; a++)
		for (int b=0; b<n; b++) 
			solve(a,b);
	printf("%d\n",re);
} 
