#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
using namespace std;

int n,m,w,ans;
int a[105][105],b[105][105],c[105][105],t[105][105];
char s[105];

void Init()
{
	scanf("%d%d%d",&n,&m,&w);
	for (int i=1;i<=n;++i)
	{
		scanf("%s",s);
		for (int j=1;j<=m;++j) scanf("%d%d%d",&a[i][j],&b[i][j],&c[i][j]);
	}
}

void Solve()
{
	for (int i=1;i<=n;++i)
		for (int j=1;j<=n;++j)
		{
			memcpy(t,c,sizeof(c));
			int tmp=0,W=w;
			while (W>0)
			{
				int Maxj=-1,Max=0;
				for (int k=1;k<=m;++k)
					if (Max<b[j][k]-a[i][k] && t[i][k]>0) Max=b[j][k]-a[i][k],Maxj=k;
				if (Maxj==-1) break;
				int num=min(W,t[i][Maxj]);
				tmp+=(b[j][Maxj]-a[i][Maxj])*num;
				t[i][Maxj]-=num,W-=num;
			}
			if (ans<tmp) ans=tmp;
		}
	printf("%d\n",ans);
}

int main()
{
	Init();
	Solve();
	return 0;
}
