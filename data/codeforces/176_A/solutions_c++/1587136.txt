#include <algorithm>
#include <iostream>
#include <cstring>
#include <cstdio>
using namespace std;
struct Node
{
	char s[20];
	int a[110], b[110], c[110];
} x[20];
int e[10010];
int n, m, k;

int calc(int p, int q)
{
	int z = 0;
	for (int i = 1; i <= m; i++)
		for (int j = 1; j <= x[p].c[i]; j++)
		{
			z++;
			e[z] = x[q].b[i] - x[p].a[i];
		}
	sort(e + 1, e + z + 1);
	int ret = 0;
	for (int i = z, j = 1; i >= 1 && j <= k && e[i] > 0; i--, j++)
		ret += e[i];
	return ret;
}

int main()
{
	scanf("%d%d%d", &n, &m, &k);
	for (int i = 1; i <= n; i++)
	{
		scanf("%s", x[i].s);
		for (int j = 1; j <= m; j++)
			scanf("%d%d%d", &x[i].a[j], &x[i].b[j], &x[i].c[j]);
	}
	int ans = 0;
	for (int i1 = 1; i1 <= n; i1++)
		for (int i2 = 1; i2 <= n; i2++)
			if (i1 != i2)
			{
				int k = calc(i1, i2);
				if (ans < k) ans = k;
			}
	printf("%d\n", ans);
	return 0;
}
