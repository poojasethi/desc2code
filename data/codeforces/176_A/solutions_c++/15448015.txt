#include <bits/stdc++.h>

using namespace std;

const int N=110;
int n,m,K;
int c[N][N],a[N][N],b[N][N];

int solve(int x,int y)
{
    int dp[N];
    int w[N];
    memset(dp,0,sizeof(dp));
    for(int i=0;i<m;i++)
        w[i]=b[y][i]-a[x][i];
    for(int i=0;i<m;i++)
    {
        for(int j=0;j<c[x][i];j++)
        {
            for(int k=K;k>=1;k--)
                dp[k]=max(dp[k],dp[k-1]+w[i]);
        }
    }
    return dp[K];
}

int main()
{
    scanf("%d%d%d",&n,&m,&K);
    for(int i=0;i<n;i++)
    {
        char s[15];
        scanf("%s",s);
        for(int j=0;j<m;j++)
        {
            scanf("%d%d%d",&a[i][j],&b[i][j],&c[i][j]);
        }
    }
    int ans=0;
    for(int i=0;i<n;i++)
    {
        for(int j=0;j<n;j++)
        {
            if(i==j) continue;
            ans=max(ans,solve(i,j));
        }
    }
    cout<<ans<<endl;
    return 0;
}

  	 	 					 		  	  		 		 		 	 	