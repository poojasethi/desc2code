#include<iostream>
#include<cstdio>
#include<cstring>
using namespace std;
int n,m,ks,ans;
int a[20][200],b[20][200],c[20][200];
int main()
{
	scanf("%d%d%d",&n,&m,&ks);
	for (int i=1;i<=n;++i)
	{
		char cc[20];
		scanf("%s",cc);
		for (int j=1;j<=m;++j)
			cin>>a[i][j]>>b[i][j]>>c[i][j];
	}
	for (int i=1;i<=n;++i)
		for (int j=1;j<=n;++j)
		if (i!=j)
		{
			int aa[200],bb[200];
			for (int k=1;k<=m;++k)
			{
				aa[k]=b[j][k]-a[i][k];
				bb[k]=c[i][k];
			}
			for (int ii=1;ii<=m;++ii)
				for (int jj=ii+1;jj<=m;++jj)
					if (aa[jj]>aa[ii])
					{
						int x=aa[ii];aa[ii]=aa[jj];aa[jj]=x;
						x=bb[ii];bb[ii]=bb[jj];bb[jj]=x;
					}
			int sum=0,kk=ks;
			for (int k=1;k<=m;++k)
			if (aa[k]>0 && kk>0)
			{
				if (kk>bb[k]) sum+=bb[k]*aa[k],kk-=bb[k];
				else sum+=kk*aa[k],kk=0;
			}
			if (sum>ans) ans=sum;
		}
	cout<<ans<<endl;
	return 0;
}
				
				
