#include <iostream>
#include <string>
#include <string.h>
using namespace std;
int main()
{
	int i,j,k,w,l,n,m;
	string s[100];
	int a[101][101][3];
	int q[101][101];
	cin>>n>>m>>k;
	for (i=1;i<=n;i++)
	{
		cin>>s[i];
		for (j=1;j<=m;j++)
		{
			cin>>a[i][j][0]>>a[i][j][1]>>a[i][j][2];
		}
	}
	int p=0;
	w=k;
	for (i=1;i<=n;i++)
	{
		for (j=1;j<=n;j++) if (i!=j)
		{
			k=w;
			int y=0;
			bool f[101];
			memset(f,0,sizeof(f));
			while (k>0)
			{
				l=0; int r=0;
				for (int t=1;t<=m;t++)
				{
					if (a[j][t][1]-a[i][t][0]>=l&&f[t]==0) {l=a[j][t][1]-a[i][t][0]; r=t;}
				}
				int o=k;
				if (o>a[i][r][2]) {o=a[i][r][2];}
				f[r]=1;
				y+=l*o;
				k-=o;
				if (l==0) {break;}
			}
			if (y>p) {p=y;}
		}
	}
	cout<<p<<endl;
}