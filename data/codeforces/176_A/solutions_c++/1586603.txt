#include <cstdio>
#include <cstring>
#include <algorithm>
#define FOR(i,s,e) for (int i=(s); i<(e); i++)
#define FOE(i,s,e) for (int i=(s); i<=(e); i++)
#define CLR(a,x) memset(a, x, sizeof(a))
#define EXP(i,l) for (int i=(l); i; i=qn[i])
#define N 105
using namespace std;

int n, m, cap, sum, t, ret;
int a[N][N], b[N][N], c[N][N], d[N*N];

int main(){
	scanf("%d%d%d", &n, &m, &cap);
	
	FOR(i,0,n){
		scanf("%*s");
		FOR(j,0,m) scanf("%d%d%d", &a[i][j], &b[i][j], &c[i][j]);
	}
	
	FOR(i,0,n)
	FOR(j,0,n)
	if (i != j){
		t = 0;
		FOR(k,0,m)
		FOR(l,0,c[i][k]) d[t++] = b[j][k] - a[i][k];
		
		sort(d, d + t);
		reverse(d, d + t);
		sum = 0;
		
		for (int k=0; k<cap && k<t && d[k] > 0; k++) sum += d[k];
		ret = max(ret, sum);
	}
	
	printf("%d\n", ret);
	return 0;
}
