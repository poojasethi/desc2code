#include<cstdio>
#include<algorithm>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

int main(){
	int n,m,k; scanf("%d%d%d",&n,&m,&k);
	int buy[10][100],sell[10][100],num[10][100];
	rep(i,n){
		scanf("%*s");
		rep(j,m) scanf("%d%d%d",buy[i]+j,sell[i]+j,num[i]+j);
	}

	int ans=0;
	rep(i,n) rep(j,n) if(i!=j) {
		int rem=k,profit=0;
		int used[100]={};
		while(rem>0){
			int tmp=0,l_tmp;
			rep(l,m) if(used[l]<num[i][l] && tmp<sell[j][l]-buy[i][l]) {
				tmp=sell[j][l]-buy[i][l];
				l_tmp=l;
			}
			if(tmp==0) break;

			used[l_tmp]++;
			rem--;
			profit+=tmp;
		}
		ans=max(ans,profit);
	}
	printf("%d\n",ans);

	return 0;
}
