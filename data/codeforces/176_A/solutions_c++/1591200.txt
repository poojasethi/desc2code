#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

int n,m,K,a[15][105],b[15][105],c[15][105],ax[10005];

int main()
{
    scanf("%d%d%d",&n,&m,&K);
    for(int i = 0; i < n; i++)
    {
        scanf("%*s");
        for(int j = 0; j < m; j++)
            scanf("%d%d%d",&a[i][j],&b[i][j],&c[i][j]);
    }
    int ret = 0;
    for(int i = 0; i < n; i++)
        for(int j = 0; j < n; j++)if(i!=j)
        {
            int ct = 0,t = 0;
            for(int k = 0; k < m; k++)
                for(int p = 0; p < c[i][k]; p++)
                    ax[ct++] = b[j][k]-a[i][k];
            sort(ax,ax+ct);
            for(int k = ct-1,p=0;p<K && k >= 0;p++, k--)
            {
                if(ax[k]>=0)t += ax[k];
                else break;
            }
            ret = max(ret,t);
        }
    printf("%d\n",ret);

    return 0;
}
