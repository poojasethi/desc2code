#include <iostream>
#include <cstring>
#include <algorithm>
#include <cstdio>
#include <cmath>
using namespace std;
struct nod{
int a,b,c;
}cz[110][110];
char s[11100];
int k,n,m,use[110][110],dp[110][110],qw,i,j,ans;
int search(int d,int k)
{
 int w;
 if (d>m) return 0;
 if (use[d][k]==qw) return dp[d][k];
 dp[d][k]=0; use[d][k]=qw;
 for (w=0;w<=cz[i][d].c;w++) 
 {
  if (w>k) break;
  dp[d][k]=max(dp[d][k],search(d+1,k-w)+w*(cz[j][d].b-cz[i][d].a));
 }
 return dp[d][k];
}
int main()
{
  scanf("%d%d%d\n",&n,&m,&k);
  for (i=1;i<=n;i++)
  {
    gets(s);
    for (j=1;j<=m;j++) scanf("%d%d%d\n",&cz[i][j].a,&cz[i][j].b,&cz[i][j].c);
  }
   for (i=1;i<=n;i++)
    for (j=1;j<=n;j++)
     if (i!=j) 
	 {
	   qw++;
	   ans=max(ans,search(1,k));
     }
     printf("%d\n",ans);
} 
 
 		  				 			 	 	  		  		  			