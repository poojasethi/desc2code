#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
using namespace std;

int a[10][100], b[10][100], c[10][100];
int main(void) {
	int n, m, d;
	scanf("%d%d%d", &n, &m, &d);
	for(int i=0;i<n;i++) {
		scanf("%*s");
		for(int j=0;j<m;j++)
			scanf("%d%d%d", &a[i][j], &b[i][j], &c[i][j]);
	}
	int ans=0;
	for(int i=0;i<n;i++) {
		for(int x=0;x<n;x++) {
		vector<int> r;
		for(int j=0;j<m;j++) {
			for(int k=0;k<c[i][j];k++)
				r.push_back(b[x][j]-a[i][j]);
		}
		sort(r.begin(), r.end());
		reverse(r.begin(), r.end());
		int v=0;
		for(int j=0;j<d && j<(int)r.size();j++) {
			v += max(r[j], 0);
		}
		ans=max(ans, v);
		}
	}
	printf("%d\n", ans);
	return 0;
}
