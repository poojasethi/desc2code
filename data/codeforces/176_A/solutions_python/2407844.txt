R=lambda:map(int,raw_input().split())
n,m,k=R()
p=[]
for _ in xrange(n):
  raw_input()
  p.append([R() for i in xrange(m)])
def go(a,b):
  t=[]
  for i in xrange(m):
    t+=[max(b[i][1]-a[i][0],0)]*a[i][2]
  t.sort(reverse=True)
  return sum(t[:min(k,len(t))])
v=0
for i in xrange(n):
  for j in xrange(i+1,n):
    v=max(v,go(p[i],p[j]))
    v=max(v,go(p[j],p[i]))
print v