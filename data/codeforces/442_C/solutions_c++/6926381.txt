#include<iostream>
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
long long st[1000],top,n,ans,x;
int main()
{
    scanf("%I64d",&n);
    for(int i=1;i<=n;i++)
    {
        scanf("%I64d",&x);
        while(top>1&&st[top-1]>=st[top]&&x>=st[top])
         {ans+=min(st[top-1],x);top--;}
        st[++top]=x;
    }
    sort(st+1,st+1+top);
    for(int i=1;i<=top-2;i++)
     ans+=st[i];
    printf("%I64d",ans);
    return 0;
}