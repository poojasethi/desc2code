#include <iostream>
#include <algorithm>
using namespace std;
int a[500005];
int main()
{
    int m;
    int n = -1;
    long long ret = 0;
    cin>>m;
    while(m--) {
        cin>>a[++n];
        while(n >= 2 && a[n - 1] <= min(a[n - 2], a[n])) {
            ret += min(a[n - 2], a[n]);
            a[n - 1] = a[n];
            --n;
        }
    }
    for(int k = 1; k < n; ++k) {
        ret += min(a[k - 1], a[k + 1]);
    }
    cout<<ret<<endl;
    return 0;
}