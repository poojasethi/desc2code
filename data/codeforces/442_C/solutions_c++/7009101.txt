#include <iostream>
#include <set>
#include <cctype>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
using namespace std;

int a[1000000];

int main()
{
		int n;
		cin>>n;
		int m=0;
		long long ans=0;
		for (int i=0; i<n; i++) {
				cin>>a[m++];
				while ( m>2 && a[m-2]<=min(a[m-3],a[m-1]) ) {
						ans+=min(a[m-3],a[m-1]);
						a[m-2]=a[m-1];
						m--;
				}
		}
		sort(a,a+m);
		for (int i=0; i<m-2; i++) ans+=a[i];
		cout<<ans;
		//system("pause");
		return 0;
}