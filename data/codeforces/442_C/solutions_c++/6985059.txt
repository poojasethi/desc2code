#include <cstdio>
#include<iostream>
#include<algorithm>
using namespace std;

int n,m,a[111111];
long long ans;
int main()
{
  scanf("%d",&n);
  m=0;
  for(int i=0;i<n;i++) {
      scanf("%d",&a[m++]);
      if(m>2){
          while(a[m-1]>=a[m-2]&&a[m-3]>=a[m-2]){
              ans+=(long long)min(a[m-1],a[m-3]);
              a[m-2]=a[m-1];
              m--;
          }
      }
  }
  sort(a,a+m);
  for(int i=0;i<m-2;i++)ans+=(long long)a[i];
  printf("%lld\n",ans);
}

		 	  	   	 	 	    				   	