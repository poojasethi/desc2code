#include<iostream>
#include<algorithm>
using namespace std;
int a[600000];
int main()
{
	int n,i,top,x;
	long long ans;
	while(cin>>n){
		top=-1;
		ans=0;
		while(n--){
			cin>>x;
			while(top>=1&&a[top-1]>=a[top]&&x>=a[top]){
				ans+=min(a[top-1],x);
				//cout<<ans<<' '; 
				top--;
			}
				a[++top]=x;
		}
	//	cout<<endl<<endl;
		sort(a,a+top+1);
		for(i=0;i<top-1;i++){
			//cout<<a[i]<<' '; 
			ans+=a[i];
		}
		cout<<ans<<endl;
	}
	return 0;
} 
    	 		       	  		   				 			