from sys import stdin

s = [int(x) for x in stdin.readlines()[1].split()]
n = len(s)

res = 0
t = []

for i in xrange(n):
    t.append(s[i])
    while len(t) > 2 and (t[-2] <= min(t[-1], t[-3])):
        res += min(t[-1], t[-3])
        t[-2] = t[-1]
        t.pop()

for i in xrange(1, len(t) - 1):
    res += min(t[i - 1], t[i + 1])

print res