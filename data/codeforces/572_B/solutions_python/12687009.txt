n,s=map(int,raw_input().split())
v=[{},{}]
for _ in range(n):
  t,p,q=raw_input().split()
  i=1 if t=='B' else 0
  p=int(p)
  v[i][p]=v[i].get(p,0)+int(q)
k=[v[0].keys(),v[1].keys()]
k=[sorted(k[0])[:min(s,len(k[0]))],sorted(k[1])[-min(s,len(k[1])):]]
for p in k[0][::-1]:
  print 'S',p,v[0][p]
for p in k[1][::-1]:
  print 'B',p,v[1][p]
