n,s=map(int,raw_input().split())
a={}
b={}
for i in range(n):
    x,y,z=raw_input().split()
    y,z=int(y),int(z)
    if x=='B':
        a[y]=a.get(y,0)+z
    else:
        b[y]=b.get(y,0)+z
q=a.items()
# print "q", q
q.sort(reverse=True)
# print "sort q", q
w=b.items()
# print "w", w
w.sort()
# print "sort w", w
for i in range(min(s,len(w))-1 ,-1,-1):
    print 'S %d %d'%(w[i][0],w[i][1])
for i in range(min(s,len(q))):
    print 'B %d %d'%(q[i][0],q[i][1])