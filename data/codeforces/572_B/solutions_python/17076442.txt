I=lambda:map(int, raw_input().split())
n,s=I()
buy = {}
sell = {}
for _ in xrange(n):
	d, p, q = raw_input().split()
	if d == 'B':
		buy[int(p)] = buy.get(int(p), 0) + int(q)
	elif d == 'S':
		sell[int(p)] = sell.get(int(p), 0) + int(q)
arrb = [x for x in buy.keys()]
arrs = [x for x in sell.keys()]
arrs.sort()
arrb.sort(reverse=True)
for x in arrs[s-1::-1]:
	print 'S {} {}'.format(x, sell[x])
for x in arrb[:s]:
	print 'B {} {}'.format(x, buy[x])