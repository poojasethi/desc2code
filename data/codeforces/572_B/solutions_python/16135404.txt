n,s=map(int,raw_input().split())
B={}
S={}
for i in xrange(n):
    T,P,Q=raw_input().split()
    P=int(P)
    Q=int(Q)
    if T=='B':
        if P in B:B[P]+=Q
        else:B[P]=Q
    else:
        if P in S:S[P]+=Q
        else:S[P]=Q
u=sorted(S.keys())[:s]
u.reverse()
v=sorted(B.keys())[-s:]
v.reverse()

for i in u:
    print 'S',i,S[i]
for i in v:
    print 'B',i,B[i]
