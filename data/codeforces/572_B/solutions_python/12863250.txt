from collections import defaultdict

n,s = map(int,raw_input().split())

buy = defaultdict(int)
sell = defaultdict(int)

for i in xrange(n):
    d,p,q = raw_input().split()  
    if d=='B':
        buy[int(p)] += int(q)
    else:
        sell[int(p)] += int(q)

keyBuy = sorted(buy.keys())[::-1][:min(s,len(buy))]
keySell = sorted(sell.keys())[:min(s,len(sell))][::-1]

for key in keySell:
    print "S",key,sell[key]
for key in keyBuy:
    print "B",key,buy[key]
