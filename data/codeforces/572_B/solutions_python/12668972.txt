from collections import defaultdict

n, q = map(int, raw_input().split())
b = defaultdict(int)
s = defaultdict(int)

for i in xrange(n):
  a = raw_input().split()
  x = int(a[1])
  y = int(a[2])
  if a[0] == "B": 
    b[x] += y
  if a[0] == "S": 
    s[x] += y

v = sorted(s.keys())[:q][::-1]
for k in v: 
  print "S", k, s[k]

v = sorted(b.keys(), reverse = True)[:q]
for k in v: 
  print "B", k, b[k]