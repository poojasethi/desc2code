n, s = map(int, raw_input().split())
sd = {}
bd = {}
for _ in xrange(n):
    a = raw_input().split()
    k = int(a[1])
    v = int(a[2])
    if a[0] == "B":
        bk = bd
    else:
        bk = sd
    bk[k] = bk.get(k, 0) + v    
t = sorted(sd.items())
for i in xrange(min(len(t), s) - 1, -1, -1):
    print "S", t[i][0], t[i][1]
t = sorted(bd.items(), reverse=1)
for i in xrange(min(len(t), s)):
    print "B", t[i][0], t[i][1]