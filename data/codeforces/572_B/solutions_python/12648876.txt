from collections import Counter

n, k = map(int, raw_input().split())

b, s = Counter(), Counter()

for _ in xrange(n):
    d, p, q = raw_input().split()
    p = int(p)
    q = int(q)
    if d == 'B':
        b[p] += q
    elif d == 'S':
        s[p] += q

for p, q in sorted(s.iteritems(), reverse=True)[-k:]:
    print 'S', p, q
for p, q in sorted(b.iteritems(), reverse=True)[:k]:
    print 'B', p, q