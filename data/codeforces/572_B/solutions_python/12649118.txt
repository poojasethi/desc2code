from sys import stdin
from collections import defaultdict
def main():
    dstream = iter(stdin.read().split())
    n, s = int(next(dstream)), int(next(dstream))
    buy = defaultdict(int)
    sell = defaultdict(int)
    for _ in xrange(n):
        di, pi, qi = next(dstream), int(next(dstream)), int(next(dstream))
        if di == 'B':
            buy[pi] += qi
        else:
            sell[pi] += qi
    # print buy, sell
    for pi, qi in reversed(sorted(sell.items())[:s]):
        print 'S', pi, qi
    for pi, qi in sorted(buy.items(), reverse=True)[:s]:
        print 'B', pi, qi

main()

