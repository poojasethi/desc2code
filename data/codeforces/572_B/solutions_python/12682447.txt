n, s = map(int, raw_input().split())
orders = {'B': {}, 'S': {}}

for order in (raw_input() for i in range(n)):
    d, p, q = order.split()
    p, q = map(int, (p, q))
    try:
        orders[d][p] += q
    except KeyError:
        orders[d][p] = q

for p in list(reversed(list(sorted(orders['S']))[:s])):
    print 'S', p, orders['S'][p]
for p in list(reversed(sorted(orders['B'])))[:s]:
    print 'B', p, orders['B'][p]

