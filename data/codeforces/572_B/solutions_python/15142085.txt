from collections import defaultdict

n, q = map(int, raw_input().split())
b = defaultdict(int)
s = defaultdict(int)

for i in xrange(n):
	a = raw_input().split()
	if a[0] == "B": b[int(a[1])] += int(a[2])
	elif a[0] == "S": s[int(a[1])] += int(a[2])

v = sorted(s.keys())[:q][::-1]
for k in v: print "S", k, s[k]

v = sorted(b.keys(), reverse=True)[:q]
for k in v: print "B", k, b[k]
