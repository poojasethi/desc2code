#!/usr/bin/env python

import sys

n, s = map(lambda x: int(x), sys.stdin.readline().strip().split())
buys = {}
sells = {}
for i in xrange(n):
    d, p, q = sys.stdin.readline().strip().split()
    p = int(p)
    if d == "B":
        if not buys.has_key(p):
            buys[p] = 0
        buys[p] += int(q)
    else:
        if not sells.has_key(p):
            sells[p] = 0
        sells[p] += int(q)
buys = buys.items()
buys.sort()
buys.reverse()
buys = buys[:s]
sells = sells.items()
sells.sort()
sells.reverse()
sells = sells[-s:]
for p, q in sells:
    print "S", p, q
for p, q in buys:
    print "B", p, q


