#!/usr/bin/python
import math

n, s = map(int, raw_input().split())

res = {'B':{}, 'S':{}}

for i in range(n):
    line = raw_input().split()
    d, p, q = line[0], int(line[1]), int(line[2])
    if p not in res[d]:
        res[d][p] = 0
    res[d][p] += q

ans = sorted(res['S'].keys(), reverse=True)
idx = len(ans) - min(len(ans), s)
for i in range(idx, len(ans)):
    print 'S', ans[i], res['S'][ans[i]]
    
ans = sorted(res['B'].keys(), reverse=True)
for i in range(min(s, len(ans))):
    print 'B', ans[i], res['B'][ans[i]]
