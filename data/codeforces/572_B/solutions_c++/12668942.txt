#include <bits/stdc++.h>
using namespace std;
#include<math.h>
typedef long long ll;
ll hi = 1000000007;
ll fa[300005],inv[300005];

int main()
{
int n,s;
scanf("%d%d",&n,&s);
char a[5];
map<int,int> fir,sec;
int i,x,y;
for(i=0;i<n;i++)
{
	scanf("%s%d%d",&a,&x,&y);
	if(a[0]=='B')fir[-x]+=y;
	else sec[x] +=y;
}
map<int,int>::iterator I;
int dd = s;
if(sec.size()){
I = sec.begin();
while(dd--)
{
if(I==sec.end())
{
//	I--;
	break;
}
I++;
}

I--;
for(;;I--)
{
	printf("S %d %d\n",I->first,I->second);
	if(I==sec.begin())break;
}
}
dd = s;
for(I=fir.begin();I!=fir.end() && dd--;I++)
{
	printf("B %d %d\n",-I->first,I->second);
}

}