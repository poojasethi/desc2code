#include <iostream>
using namespace std;
int main()
 {
	int i,j,k,tmp,n,m,a[100005]={0},b[100005]={0},d[100005],ptr=0;
	char c[100005],v;
	cin>>n>>m;
	for(i=0;i<n;i++) 
	{
		cin>>v>>j>>k;
		if(v=='B')
			a[j]+=k;
		else
			b[j]+=k;
	}
	i =0;
	tmp = m;
	while(i<=100000 && ptr<m) 
	{
		if(b[i]>0)
		{
			d[ptr]=i; 
			ptr++;
		}
			i++;
	}
	while( ptr>0)
	{
		ptr--;
		cout<<"S "<<d[ptr]<<" "<<b[d[ptr]]<<endl;
		
	}
	i=100000;
	while(i>=0 && m>0)
	 {
		if(a[i]>0) 
		{
			cout<<"B "<<i<<" "<<a[i]<<endl;
			m--;
		}
		i--;
	}
	return 0;
}
