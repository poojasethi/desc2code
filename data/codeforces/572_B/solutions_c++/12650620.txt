#include <bits/stdc++.h>

using namespace std;

#define ll long long int

int main()
{
	map<ll,ll> MS,MB;
	ll i,j,k,n,m,s,a,b;
	cin>>n>>s;
	char ch;
	while(n--)
	{
		cin>>ch>>a>>b;
		if(ch=='B')
			MB[a] += b;
		else MS[a] += b;
	}
	vector< pair<ll,ll> > S,B;
	for(std::map<ll,ll>::iterator it=MS.begin();it!=MS.end();it++)
		S.push_back(*it);
	for(std::map<ll,ll>::iterator it=MB.begin();it!=MB.end();it++)
		B.push_back(*it);
	n=S.size();
	m=B.size();
	for(i=min(s-1,n-1);i>=0;i--)
		cout<<"S "<<S[i].first<<" "<<S[i].second<<endl;
	for(i=m-1;i>=max((ll)0,m-s);i--)
		cout<<"B "<<B[i].first<<" "<<B[i].second<<endl;
	return 0;
}