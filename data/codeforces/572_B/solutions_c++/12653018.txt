#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
int ab[100010],as[100010],pb[1010],ps[1010];
int main()
{
	int n,s,i,j,p,a,maxb,maxs;
	char t;
	scanf("%d%d",&n,&s);
	maxb=maxs=0;
	for(i=1;i<=n;i++)
	{
		scanf("\n%c %d %d",&t,&p,&a);
		if(t=='B')
		{
			pb[maxb++]=p;
			ab[p]+=a;
		}
		else
		{
			ps[maxs++]=p;
			as[p]+=a;	
		}
	}
	sort(ps,ps+maxs);
	sort(pb,pb+maxb);
	maxb=unique(pb,pb+maxb)-pb;
	maxs=unique(ps,ps+maxs)-ps;
	for(i=((s-1<maxs-1)?s-1:maxs-1);i>=0;i--)
	printf("S %d %d\n",ps[i],as[ps[i]]);
	for(i=maxb-1;i>=maxb-s&&i>=0;i--)
	printf("B %d %d\n",pb[i],ab[pb[i]]);
	return 0;
}
