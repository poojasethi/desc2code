#include<bits/stdc++.h>
using namespace std;
map<long,long> buy;
map<long,long> sell;
vector<long> cache;
int main()
{
	long n,s,p,q;
	char order;
	cin>>n>>s;
	for(int i=0;i<n;i++)
	{
		cin>>order>>p>>q;
		if(order=='B')
			buy[p]+=q;
		else
			sell[p]+=q;
	}
	int ctr=0;
	for(map<long,long>::iterator it=sell.begin();it!=sell.end()  && (ctr!=s);++it,ctr++)
			cache.push_back(it->first);
	for(int i=cache.size()-1;i>=0;i--)
		printf("S %ld %ld\n",	cache[i]	,	sell[cache[i]]	);
	cache.clear();ctr=0;
	for(map<long,long>::reverse_iterator it=buy.rbegin();it!=buy.rend() && (ctr!=s);ctr++,++it)
		printf("B %ld %ld\n",it->first,it->second);
	return 0;
}
