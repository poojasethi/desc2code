#include <iostream>
using namespace std;
int main() {
	int i,j,k,tmp,n,m,a[100005]={0},b[100005]={0},d[100005],ptr=0;
	char c[100005],v;
	cin>>n>>m;
	for(i=0;i<n;i++) {
		cin>>v>>j>>k;
		if(v=='B')
			a[j]+=k;
		else
			b[j]+=k;
	}
	i = 100000;
	tmp = m;
	for(i=0;i<=100000 && ptr<m;i++)
		if(b[i]>0)
			d[ptr++] = i;
	while(ptr>0) {
		ptr--;
		cout<<"S "<<d[ptr]<<" "<<b[d[ptr]]<<endl;
	}
	while(i>=0 && tmp>0) {
		if(a[i]>0) {
			cout<<"B "<<i<<" "<<a[i]<<endl;
			tmp--;
		}
		i--;
	}
	return 0;
}
