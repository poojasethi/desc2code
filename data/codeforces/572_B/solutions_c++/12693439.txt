#include<iostream>
#include<cstdio>
using namespace std;

int B[100001] = {0}, S[100001] = {0};

int main()
{
    int n , s , v , p , tmp , x;
    char c;
    cin >> n >> s;
    tmp = s;
    for(int i = 0 ; i < n ; i++){
        cin >> c >> v >> p;
        if( c == 'B' ) B[v] += p;
        else S[v] += p;
    }
    tmp = 0;
    for(int i = 0 ; i <= 100000 && tmp != s  ; i++)
        if( S[i] ) tmp++ , x = i;
    
    for(int i = x ; i >= 0 && tmp ; i--)
        if( S[i] > 0 ) printf("S %d %d\n" , i , S[i]) , tmp--;
        
    for(int i = 100000 ; i >= 0 && s ; i--)
        if( B[i] > 0 ) printf("B %d %d\n" , i , B[i]) , s--;
}