#include<iostream>
#include<algorithm>
using namespace std;

long int n,s,i,j,k,buy[100003],sell[100003],p,q;
char a;

int main()
{

cin>>n>>s;
while(n--)
{
cin>>a;
cin>>p>>q;
	if(a=='S')
	{
		sell[p]+=q;
	}
	else
	if(a=='B')
	buy[p]+=q;
	
}
	k=1;
	
	for(i=0;i<=100000 && k<=s;i++)
	{
		if(sell[i]>0)
		{
		//cout<<"S "<<i<<' '<<sell[i]<<endl;
		k++;
		}	
	}
	k--;
	i--;
	while(i>=0 && k>=1)
	{	
	if(sell[i]>0)
		{
		cout<<"S "<<i<<' '<<sell[i]<<endl;
		k--;
		}	
	i--;
	}

	k=1;
	for(i=100000;i>=0 && k<=s;i--)
	{
		if(buy[i]>0)
		{
		cout<<"B "<<i<<' '<<buy[i]<<endl;
		k++;
		}
	}

return 0;
}
