#include <iostream>
using namespace std;

int main(){
	long long n, s, buy[100010]={0}, sell[100010]={0}, i, nb=0, ns=0, p, q, j;
	char c;
	cin >> n >> s;
	for(i=0;i<n;i++){
		cin >> c >> p >> q;
		if(c=='B'){
			if(buy[p]==0){
				nb++;
			}
			buy[p]+=q;
		}
		else{
			if(sell[p]==0) ns++;
			sell[p]+=q;
		}
	}
	j=0;
	for(i=0;i<100010;i++){
		if(j==s) break;
		else if(sell[i]){
			j++;
		}
	}
	for(i-=1;i>=0;i--){
		if(sell[i]){
			cout << 'S' << ' ' << i << ' ' << sell[i] << '\n';
		}
	}
	j=0;
	for(i=100000;i>=0;i--){
		if(j==s) break;
		else if(buy[i]){
			cout << 'B' << ' ' << i << ' ' << buy[i] << '\n';
			j++;
		}
	}
	return 0;
}
