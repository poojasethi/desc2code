#include<stdio.h>
#include<string.h>
const int maxn=100000+10;
int sell[maxn],buy[maxn];
int main()
{
	int n,s;
	scanf("%d%d",&n,&s);
	for (int i=1;i<=n;i++)
	{
		char buf[5];
		int price,volume;
		scanf("%s%d%d",buf,&price,&volume);
		if (buf[0]=='B') buy[price]+=volume;
		if (buf[0]=='S') sell[price]+=volume;
	}
	int done=0,p;
	for (p=0;p<=100000;p++)
	{
		if (sell[p]) done++;
		if (done>=s) break;
	}
	for (int i=p;i>=0;i--)
	if (sell[i]) printf("S %d %d\n",i,sell[i]);
	done=0;
	for (int i=100000;i>=0;i--)
	{
		if (!buy[i]) continue;
		printf("B %d %d\n",i,buy[i]);
		done++;
		if (done>=s) break;
	}
	return 0;
}