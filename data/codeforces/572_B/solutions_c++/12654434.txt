#include<bits/stdc++.h>
using namespace std;
#define ll long long 
ll S[100005],B[100005];

int main()
{
	ios_base::sync_with_stdio(false);
	ll p,q,n,i,s,count,z;
	char ch;
	cin>>n>>s;
	z=0;
	for(i=0;i<n;i++)
	{
		cin>>ch>>p>>q;
		if(ch=='S')
		{
			if(!S[p])
			z++;
			S[p]=S[p]+q;
		}
		else
		{
			B[p]=B[p]+q;
		}
	}
	count=0;
	for(i=100000;i>=0;i--)
	{
		if(S[i])
		{
			if(z-count<=s)
			cout<<"S"<<" "<<i<<" "<<S[i]<<endl;
			count++;
		}
	}
	
	count=0;
	for(i=100000;i>=0;i--)
	{
		if(B[i])
		{
			cout<<"B"<<" "<<i<<" "<<B[i]<<endl;
			count++;
			if(count==s)
			break;
		}
	}
	return 0;
}
