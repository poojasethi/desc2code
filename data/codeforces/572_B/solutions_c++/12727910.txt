#include <stdio.h>
#define maxn 100010
int b[maxn],s[maxn];
using namespace std;
int main(){
//freopen("test.sh","r",stdin);
int n,ss;
scanf("%d%d",&n,&ss);
int i,p,q,j,k;
char d;
for(i=1;i<=n;i++){
scanf("\n%c%d%d",&d,&p,&q);
if(d=='B')
b[p]+=q;
else if(d=='S')
s[p]+=q;
}
for(i=0,j=ss;i<=100000&&j>0;i++)
if(s[i])
j--;
for(k=i;k>=0;k--)
if(s[k])
printf("%c %d %d\n",'S',k,s[k]);
for(i=100000,j=ss;i>=0&&j>0;i--)
if(b[i]){
printf("%c %d %d\n",'B',i,b[i]);
j--;
}
return 0;
}