#include <stdio.h>
#include <algorithm>

#define PMAX 100000

int vb[PMAX+1],vs[PMAX+1];

int main(){
	int n,s;
	char c;
	int tp,tv;
	int pa;
	int i;

	scanf("%d%d",&n,&s);
	getchar();
	for(i=0;i<n;i++){
		scanf("%c%d%d",&c,&tp,&tv);
		getchar();
		if(c=='B')vb[tp]+=tv;
		else vs[tp]+=tv;
	}

	pa=0;
	for(i=0;i<s&&pa<=PMAX;pa++)
		if(vs[pa])i++;
	for(;i>=0&&pa>=0;pa--)
		if(vs[pa]){
			printf("S %d %d\n",pa,vs[pa]);
			i--;
		}

	pa=PMAX;
	for(i=0;i<s&&pa>=0;pa--)
		if(vb[pa]){
			printf("B %d %d\n",pa,vb[pa]);
			i++;
		}

	return 0;
}

