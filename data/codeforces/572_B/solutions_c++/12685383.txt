#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef vector<int> vi;
typedef pair<int,int> pii;
typedef vector <pair <int,int> > vpii;
vi x,y;
int sell[100006],buy[100006] , a , b , n , s ,q , p;
char d;
int main(){
	cin >> n >> s;
	for(int i=0;i<n;i++){ cin >> d >> p >> q; if(d=='S') sell[p]+=q; else buy[p]+=q;}
	for(int i=0;i<=100000;i++)
		if(sell[i]>0&&a<s){ x.push_back(i); y.push_back(sell[i]); a++; }
	for(int i=x.size()-1;i>=0;i--)
		printf("S %d %d\n",x[i],y[i]);
	for(int i=100000;i>=0;i--)
		if(buy[i]>0&&b<s){printf("B %d %d\n",i,buy[i]);b++;}
}