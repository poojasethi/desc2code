#include <cstdio>
#include <map>
#include <vector>
using namespace std;

int n,s,p,q,k;
char d;
map<int,int> mb,ms;
vector<int> a;
int main() {
//	freopen("input.txt","r",stdin);
	scanf("%d%d",&n,&s);
	while(n--) {
		scanf("%s%d%d",&d,&p,&q);
		d=='B' ? mb[p]+=q : ms[p]+=q;
	}
	map<int,int>::iterator it;
	for(it=ms.begin(),k=0; it!=ms.end()&&k<s; it++,k++) a.push_back(it->first);
	while(k--) printf("S %d %d\n",a[k],ms[a[k]]);
	map<int,int>::reverse_iterator rt;
	for(rt=mb.rbegin(),k=0; rt!=mb.rend()&&k<s; rt++,k++) printf("B %d %d\n",rt->first,rt->second);
	return 0;
}
