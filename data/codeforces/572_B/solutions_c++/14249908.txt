#include<bits/stdc++.h>

using namespace std;

int i,j,k;
	
map<int,int>B,S;
int main(void)
{
	int n,s,a,b;
	char ch;
	cin>>n>>s;
	for(i=0;i<n;i++)
	{
		cin>>ch>>a>>b;
		if(ch=='B')
		{
			B[a]+=b;
		}
		else
		{
			S[a]+=b;
		}
	}
	a=0;
	while(S.size()>s)
	{
		S.erase(--S.end());
	}
	for(map<int,int>::reverse_iterator it=S.rbegin();it!=S.rend();it++)
	{
		cout<<'S'<<' '<<it->first<<' '<<it->second<<endl;
		a++;
		if(a==s)
		{
			break;
		}
	}
	b=0;
	for(map<int,int>::reverse_iterator it=B.rbegin();it!=B.rend();it++)
	{
		cout<<'B'<<' '<<it->first<<' '<<it->second<<endl;
		b++;
		if(b==s)
		{
			break;
		}
	}

	return 0;
}