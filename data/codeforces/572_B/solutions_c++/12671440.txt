#include<bits/stdc++.h>
using namespace std;

int main()
{
 int n,s,i,a[100005]={0},b[100005]={0},p,q,count=0;
 char c;

 scanf("%d%d",&n,&s);
 for(i=0;i<n;i++)
 {
  getchar();
  scanf("%c %d %d",&c,&p,&q);
  if(c=='B')
   b[p]+=q;
  else { if(!a[p]) count++; a[p]+=q;}
  
 }
  n=s;i=100000;
  while(i>=0 && s>0)
  {
    if(a[i] && count<=s) {printf("S %d %d\n",i,a[i]); s--;count--;}
    else if(a[i]) count--;
    i--;
  }
  s=n;i=100000;
  while(i>=0 && s>0)
  {
    if(b[i]) {printf("B %d %d\n",i,b[i]); s--;}
    i--;
  }
  return 0;
}