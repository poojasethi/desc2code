#include<bits/stdc++.h>
using namespace std;
int b[100005],s[100005];
int main()
{
	//freopen("b.txt","r",stdin);
	int n,d;
	int num;
	scanf("%d %d",&n,&d);
	for(int i=0;i<n;i++)
	{
		char ch;
		int a1,a2;
		getchar();
		scanf("%c %d %d",&ch,&a1,&a2);
		if(ch=='B')  b[a1]+=a2;
		else if(ch=='S') s[a1]+=a2;
	}
	num=count(s,s+100001,0);
	num=100001-num;
	for(int i=100001,j=0;i>=0 && j<num;i--)
	{
		if(s[i]!=0)
		{
			if(j>num-d-1)
				printf("S %d %d\n",i,s[i]);
			j++;
		}
	}
	for(int i=100001,j=0;i>=0 && j<d;i--)
	{
		if(b[i]!=0)
		{
			j++;
			printf("B %d %d\n",i,b[i]);
		}
	}
	return 0;
}