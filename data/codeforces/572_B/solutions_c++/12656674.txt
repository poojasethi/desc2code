#include <bits/stdc++.h>
using namespace std;
int X[100001][2]={0};
map <int,int> B,S;
int main()
{
	int p,q;
	scanf("%d%d",&p,&q);
	char c;
	c=getchar();
	int i,u,v;
	for(i=0;i<p;i++)
	{
		c=getchar();
		scanf("%d%d",&u,&v);
		if(c=='B')
			B[u]+=v;
		else S[u]+=v;
		c=getchar();
	}
	int C=0;
	for(map<int,int>::iterator it = S.begin(); it!=S.end();it++)
	{
		X[C++][0]=it->first;
		X[C-1][1]=it->second;
		if(C==q) break;
	}
	for(i=0;i<C;i++)
	{
		printf("S %d %d\n",X[C-i-1][0],X[C-i-1][1]);	
	}
	C=0;
	for(map<int,int>::reverse_iterator it = B.rbegin(); it!=B.rend() ; it++)
	{
		printf("B %d %d\n",it->first,it->second);
		C++;
		if(C==q) break;
	}
	return 0;
}
