#include <bits/stdc++.h>
using namespace std;
const int N = 1e5+1;
int S[N],B[N];
int main(){
	int n,s,i,p,q;cin>>n>>s;
	char c;
	for(i=0;i<n;++i){
		cin>>c>>p>>q;
		if(c=='S')
			S[p]+=q;
		else
			B[p]+=q;
	}
	vector<pair<int,int> >sell,buy;
	int t=s;
	for(i=0;i<N&&t>0;++i)
		if(S[i]>0)sell.push_back(make_pair(i,S[i])),--t;
	t=s;
	for(i=N-1;i>=0&&t>0;--i){
		if(B[i]>0)buy.push_back(make_pair(i,B[i])),--t;
	}
	reverse(sell.begin(),sell.end());
	for(i=0;i<sell.size();++i)
		cout<<"S "<<sell[i].first<<" "<<sell[i].second<<endl;
	for(i=0;i<buy.size();++i)
		cout<<"B "<<buy[i].first<<" "<<buy[i].second<<endl;
}
