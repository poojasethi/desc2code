#include <iostream>
long buy[100001] , sell[100001] ;
using namespace std ;
int main()
{
	char bs ;
	int p,q ;
	int s,n ;
	int i,j ;
	cin >> n >> s ;
	for(i = 0 ; i < n ; i++)
	{
		cin >> bs >> p >> q ;
		if(bs == 'B')
		{
			buy[p] += q ;
		}else
		{
			sell[p] += q ;
		}
	}
	for(i = 0,j=0 ; i <= 100000 && j < s; i ++ )
	{
		if(sell[i] > 0)
		{
			j ++ ;
		}
	}
	for( ; i >= 0 ; i --)
	{
		if(sell[i] > 0)
		{
			cout << "S " << i << " " << sell[i] << endl ; 
		}
	}
	for(i = 100000,j=0 ; i >= 0 && j < s; i -- )
	{
		if(buy[i] > 0)
		{
			cout << "B " << i << " " << buy[i] << endl ; 
			j ++ ;
		}
	}
	return 0 ;
 } 
