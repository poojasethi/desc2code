#include <bits/stdc++.h>
using namespace std;
int main() {
  int n,s,p,q;
  char d;
  cin>>n>>s;
  map<int,int> S,B;
  for(int i=0;i<n;i++) {
   cin>>d>>q>>p;
   if(d=='B')
    B[q]=B[q]?B[q]+p:p;
   else
    S[q]=S[q]?S[q]+p:p;
  }
  map<int,int>::reverse_iterator it=S.rbegin();
  if(s<S.size()) 
    advance(it,S.size()-s);
  else
    it=S.rbegin();
  for(;it!=S.rend();it++)
    cout<<"S "<<it->first<<" "<<it->second<<endl;
  int count=1;
  for(it=B.rbegin();it!=B.rend();it++) {
    cout<<"B "<<it->first<<" "<<it->second<<endl;
    if(count==s)
      break;
    count++;
  }
  return 0;
}
