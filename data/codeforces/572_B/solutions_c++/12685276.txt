#include <iostream>
#include <string>
#include <stdlib.h>
using namespace std;

long i,j,n,s,S[100001],B[100001],p,q,ms,mb;
char ch;

int main() {

	cin >> n >> s;
	
	for (i=0; i<n; i++) {
		cin >> ch >> p >> q;
		if (ch == 'S') {
			S[p] += q;
			ms = max(p,ms);
		} else {
			B[p] += q;
			mb = max(p,mb);		
		}
	}

	long si=0;
	for (j=0,i=0; (i<=ms) && (j<s); i++) {
		if (S[i]) {
			j++;
			si = i;
		}
	}

	for (i=si, j=0; (i>=0) && (j<s); i--) {
		if (S[i]) {
			cout << "S " << i << ' ' << S[i] << endl;
			j++;		
		}
	}

	for (i=mb, j=0; (i>=0) && (j<s); i--) {
		if (B[i]) {
			cout << "B " << i << ' ' << B[i] << endl;
			j++;
		}
	}

	return 0;
}
