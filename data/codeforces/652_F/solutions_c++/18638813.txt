#include <algorithm>
#include <cstdio>
#include <memory.h>
#include <set>
#include <queue>
#include <string.h>
#include <vector>
#include <cmath>
#include <bitset>
#include <map>

using namespace std;

#define NN 600010
#define rep(i, a, b) for (int i = (a); i < (b); i ++)
#define clr(a, b) memset(a, b, sizeof(a))
#define eps 1e-10
#define inf 1000000000

typedef long long INT;
typedef pair<int, int> pii;
typedef pair<pii, int> pi3;

int la[NN], ans[NN];
pii p[NN];

int main() {
	
	
	char ch[11];
	int N, M, s, val, x, st;
	INT T, L, R;
	scanf("%d%d%I64d", &N, &M, &T);
	
	L = R = 0;
	rep(i, 0, N) {
		scanf("%d%s", &s, ch);
		if (ch[0] == 'L') {
			L += (T / M) % N;
			val = T % M;
			x = s - val;
			if (x <= 0) {
				L ++;
				x += M;
			}
			L %= N;
			la[i] = x;
		} else {
			R += (T / M) % N;
			val = T % M;
			x = s + val;
			if (x > M) {
				R ++;
				x -= M;
			}
			R %= N;
			la[i] = x;
		}
		
		p[i].first = s; p[i].second = i;
	}
	sort(p, p + N);
	sort(la, la + N);
	st = (L - R + N) % N;
	rep(i, 0, N) {
		ans[p[st].second] = la[i];
		st = (st + 1) % N;
	}
	rep(i, 0, N) 
		if (i == N - 1) printf("%d\n", ans[i]);
		else printf("%d ", ans[i]);
	
	return 0;
}
 