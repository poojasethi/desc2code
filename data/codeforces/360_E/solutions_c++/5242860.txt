#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<algorithm>
#include<iostream>
#define N 210000
using namespace std;
int head[N],flag[N],bfs[N*10],L[120],i,j,k,t,s1,s2,
	n,next[N],e[N],c[N],K,X[120],m,x,y,len,r;
long long da[N],db[N];
void addedge(int x,int y,int k){
	next[++len]=head[x]; head[x]=len; e[len]=y; c[len]=k;
}
void spfa(long long dis[],int s){
	int i,j,l,r,x;
	for(i=1;i<=n;++i)dis[i]=1ll<<50;
	dis[s]=0;
	bfs[l=r=1]=s;
	while(l<=r){
		x=bfs[l++];
		flag[x]=0;
		for(i=head[x];i;i=next[i])if(dis[x]+c[i]<dis[e[i]]){
			dis[e[i]]=dis[x]+c[i];
			if(!flag[e[i]]){
				flag[e[i]]=1;
				bfs[++r]=e[i];
			}
		}
	}
}
void work(){
	spfa(da,s1);
	spfa(db,s2);
}
void xp(string ans){
	bool f;
	for(;;){
		f=0;
		for(int i=1;i<=K;++i){
			if(ans=="WIN")
				if(da[X[i]]<db[X[i]] && c[i+m]!=L[i])c[i+m]=L[i],f=1;
				else;
			else if(da[X[i]]<=db[X[i]] && c[i+m]!=L[i])c[i+m]=L[i],f=1;
		}
		work();
		if(ans=="WIN" && da[t]<db[t] || ans=="DRAW" && da[t]==db[t]){
			cout<<ans<<endl;
			for(int i=1;i<=K;++i)printf("%d ",c[i+m]);
			exit(0);
		}
		if(!f)return;
	}
}
int main(){
	scanf("%d%d%d",&n,&m,&K);
	scanf("%d%d%d",&s1,&s2,&t);
	for(i=1;i<=m;++i){
		scanf("%d%d%d",&x,&y,&k);
		addedge(x,y,k);
	}
	for(i=1;i<=K;++i){
		scanf("%d%d%d%d",&X[i],&y,&L[i],&r);
		addedge(X[i],y,r);
	}
	work();
	xp("WIN");
	xp("DRAW");
	printf("LOSE\n");
}