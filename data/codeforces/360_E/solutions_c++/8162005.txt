#include <bits/stdc++.h>
#define maxn 200005
#define ll long long
using namespace std;

int N,M,K,A,B,F,x[maxn],y[maxn],l[maxn],p[maxn],head[maxn],lk[maxn],next[maxn],w[maxn],q[maxn];
ll d1[maxn],d2[maxn];
bool b[maxn];

void add(int u,int v,int x,int t) {lk[t]=v,w[t]=x,next[t]=head[u],head[u]=t;}

void init()
{
	int t=0,r;
	scanf("%d%d%d%d%d%d",&N,&M,&K,&A,&B,&F);
	for (int i=1; i<=M; i++) scanf("%d%d%d",&x[i],&y[i],&r),add(x[i],y[i],r,++t);
	for (int i=1; i<=K; i++) scanf("%d%d%d%d",&x[i],&y[i],&l[i],&r),p[i]=++t,add(x[i],y[i],r,t);
}

void spfa(int s,ll*d)
{
	memset(d,63,sizeof(d1));
	memset(b,0,sizeof(b));
	q[1]=s,d[s]=0;
	for (int l=1,r=1; l<=r; l++)
	{
		int u=q[l]; b[u]=0;
		for (int i=head[u],v; v=lk[i],i; i=next[i]) if (d[u]+w[i]<d[v])
		{
			d[v]=d[u]+w[i];
			if (!b[v]) b[v]=1,q[++r]=v;
		}
	}
}
	
bool work(bool f)
{
	for (bool bg=1; bg;)
	{
		bg=0,spfa(A,d1),spfa(B,d2);
		for (int i=1; i<=K; i++) if (!f) 
			if (d1[x[i]]<d2[x[i]]&&w[p[i]]!=l[i]) w[p[i]]=l[i],bg=1; else;
		else
			if (d1[x[i]]<=d2[x[i]]&&w[p[i]]!=l[i]) w[p[i]]=l[i],bg=1;
	}
	if (!f)
		if (d1[F]<d2[F]) return puts("WIN"),1; else return 0;
	else
		if (d1[F]<=d2[F]) return puts("DRAW"),1; else return 0;
}

void doit()
{
	if (work(0)||work(1))
		for (int i=1; i<=K; i++) printf("%d%c",w[p[i]],i==K?'\n':' ');
	else puts("LOSE");
}

int main()
{
	init();
	doit();
	return 0;
}
