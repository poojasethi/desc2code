#include <stdio.h>
#include <stdlib.h>
using namespace std;

int n,m,K,i,j,k,u,v,c,cc,tot,S1,S2,T,ll,rr;
int son[10005],from[20005],next[20005],ed[20005],cost[20005],costt[20005];
int q[100005],p[10005];
bool inq[10005];
long long dist[10005],d;

int main()
{
	scanf("%d%d%d",&n,&m,&K);
	scanf("%d%d%d",&S1,&S2,&T);
	for(i=1;i<=m;++i)
	{
		scanf("%d%d%d",&u,&v,&c);
		++tot;from[tot]=u;next[tot]=son[u];son[u]=tot;ed[tot]=v;cost[tot]=c;
	}
	for(i=1;i<=K;++i)
	{
		scanf("%d%d%d%d",&u,&v,&c,&cc);
		++tot;from[tot]=u;next[tot]=son[u];son[u]=tot;ed[tot]=v;cost[tot]=c;costt[tot]=cc;
	}
	for(i=1;i<=n;++i)dist[i]=100000000000000ll;
	dist[S1]=0;p[S1]|=1;q[++rr]=S1;inq[S1]=true;
	dist[S2]=0;p[S2]|=2;q[++rr]=S2;inq[S2]=true;
	while(ll!=rr)
	{
		++ll;if(ll==100000)ll=1;
		u=q[ll];inq[u]=false;
		for(i=son[u];i;i=next[i])
		{
			if(i>m&&p[u]/2)d=dist[u]+costt[i];
			else d=dist[u]+cost[i];
			if(d<dist[ed[i]]||(d<=dist[ed[i]]&&p[u]!=p[ed[i]]))
			{
				if(d==dist[ed[i]])p[ed[i]]|=p[u];
				else p[ed[i]]=p[u];
				dist[ed[i]]=d;
				if(!inq[ed[i]])
				{
					inq[ed[i]]=true;
					++rr;if(rr==100000)rr=1;
					q[rr]=ed[i];
				}
			}
		}
	}
	if(p[T]==1)printf("WIN\n");
	if(p[T]==2)printf("LOSE\n");
	if(p[T]==3)printf("DRAW\n");
	if(p[T]!=2)
	{
		for(i=m+1;i<=m+K;++i)
		if(p[from[i]]/2)printf("%d ",costt[i]);
		else printf("%d ",cost[i]);
		printf("\n");
	}
}
