mod = 1000000007
line = raw_input().split()
n,m,k = int(line[0]),int(line[1]),int(line[2])
if(k==1 or k>n):
    print (m**n)%mod
elif(k==n):
    print m**((n+1)/2)%mod
elif(k%2==1):
    print m**2%mod
elif(k%2==0):
    print m%mod
