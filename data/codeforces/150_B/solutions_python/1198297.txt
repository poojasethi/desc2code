#!/usr/bin/env python2
# -*- coding: utf-8 -*-
import sys
ifs = sys.stdin
ofs = sys.stdout


P = 10**9 + 7


def pow_in_ring(n,m,p):
    N = 1
    for _ in range(m):
        N *= n
        if N > p:
            N = N % p
    #print '%d ^ %d (mod %d) = %d' % (n,m,p,N%p)
    return N % p


def solve(n,m,k):
    
    if k>n or k==1:
        return pow_in_ring(m,n,P)
    
    if k == n:
        N = pow_in_ring(m,n/2,P)
        if n % 2 != 0:
            N *= m
        return N % P
    
    # k < n
    if k % 2 == 0:
        return m % P
    else:
        return (m*m) % P


def numbers_from_line(d=' '):
    return [int(s) for s in ifs.readline().strip().split(d) if len(s.strip())>0]

n,m,k = numbers_from_line()
a = solve(n,m,k)

ofs.write('%d\n' % (a))
