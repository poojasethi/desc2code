d = 1000000007
n, m, k = map(int, raw_input().split())
if k == 1 or n < k: print pow(m, n, d)
elif n == k: print pow(m, (n + 1) / 2, d)
elif k & 1: print m * m
else: print m