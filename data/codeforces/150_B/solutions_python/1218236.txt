import sys

def pow(b, e):
    if e == 0:
        return 1
    elif e == 1:
        return b
    else:
        return pow(b, e/2) * pow(b, e-e/2) % 1000000007

n, m, k = [int(s) for s in sys.stdin.readline().split(' ')]

if n == k:
    print pow(m, n-n/2)
elif k == 1 or n < k:
    print pow(m, n)
elif k % 2 == 0:
    print m
else:
    print m * m
