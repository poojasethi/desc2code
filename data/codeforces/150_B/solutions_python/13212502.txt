from sys  import stdin
import math
n,m,k = stdin.readline().strip().split()
n=int(n)
m=int(m)
k=int(k)
hi = 10**9+7
if k==1 or k >n:
 print pow(m,n,hi)
elif k==n:
 print pow(m,(k+1)/2,hi)
elif k%2==1:
 print pow(m,2,hi)
else:
 print m