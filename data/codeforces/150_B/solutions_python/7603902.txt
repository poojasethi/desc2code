n,m,k=map(int,raw_input().split())
e=1
if k==1 or k>n: e=n
elif k==n: e=(n+1)/2
elif k%2==1: e=2
print pow(m,e,10**9+7)
