n,m,k=map(int,raw_input().split())
M=10**9+7
if k==1 or k > n:
    r=m**n
elif k == n:
    r=m**((n+1)/2)
elif k%2:
    r=m**2
else:
    r=m
print r%M