s=raw_input()
s=s.split()
n=int(s[0])
m=int(s[1])
k=int(s[2])


if k==n:
    t=(n+1)/2
    print (m**t)%1000000007
else:
    if k==1or k>n:
        print (m**n)%1000000007
    else:
        if k%2==0:
            print m
        else:
            print m*m