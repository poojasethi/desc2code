n,m,k=map(int,raw_input().split())
snm=[[i,1] for i in range(n)]
def get(a):
    if snm[a][0]!=a:
        snm[a][0]=get(snm[a][0])
    return snm[a][0]

def union(a,b):
    a,b=get(a),get(b)
    if a==b:
        return
    if snm[a][1]<snm[b][1]:
        a,b=b,a
    snm[a][1]+=snm[b][1]
    snm[b][0]=a

for i in range(0,n-k+1,1):
    for j in range(k//2):
        union(i+j,i+k-j-1)

print (m**len(set(map(lambda x: get(x[0]),snm))))%(10**9+7)