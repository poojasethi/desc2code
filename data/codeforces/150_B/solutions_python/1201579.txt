import sys
from operator import mul
n,m,k = map(int,sys.stdin.readline().split())
# Any string
if n < k or k == 1:
  print pow(m, n, 1000000007)
# Any palindrome
elif n == k:
  print pow(m, (n+1)//2, 1000000007)
# Simple strings
elif n > k and k % 2 == 0:
  print m
# Simple strings and striped strings
elif n > k and k % 2 == 1:
  print m**2 # m + m(m-1)

