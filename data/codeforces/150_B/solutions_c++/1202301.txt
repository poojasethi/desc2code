#include <iostream>

using namespace std;

const int MOD = 1000*1000*1000+7;

int N, M, K;
long long ans = 1;

int main()
{
	cin >> N >> M >> K;
	if (K > N || K == 1)
	{
		for (int i = 1 ; i <= N ; i++)
			ans = ans*M%MOD;
		cout << ans << endl;
		return 0;
	}
	if (K == N)
	{
		for (int i = 1 ; i <= (N+1)/2 ; i++)
			ans = ans*M%MOD;
		cout << ans << endl;
		return 0;
	}
	if (K % 2)
		cout << M*M << endl;
	else
		cout << M << endl;
	return 0;
}


