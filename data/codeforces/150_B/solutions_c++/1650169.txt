#include <stdio.h>
#define REP(i,n) for(int(i)=0;(i)<(int)(n);(i)++)
const int mod=(int)1e9+7;
int main()
{
	int n,m,k;
	long long ans;
	scanf("%d%d%d",&n,&m,&k);
	if (k==1||k>n) {
		ans=1;
		REP(i,n) ans=(m*ans)%mod;
	} else if (k==n) {
		ans=1;
		for (int i=0; i<n-i; i++)
			ans=(m*ans)%mod;
	} else if (k%2)	ans=m*m%mod;
	else ans=m%mod;
	printf("%I64d\n",ans);
	return 0;
}
	
