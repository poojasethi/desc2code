#include <iostream>
using namespace std;

typedef long long ll;

const int mod = 1E9 + 7;

int main() {
	int n, m, k, i;
	ll r = 1;

	cin >> n >> m >> k;

	if (k > n || k == 1) {
		for (i = 0; i < n; i++) r = r * m % mod;
	} else if (k == n) {
		for (i = 0; i < (n + 1) / 2; i++) r = r * m % mod;
	} else if (k & 1) {
		r = m * m;
	} else {
		r = m;
	}

	cout << r;

	return 0;
}
