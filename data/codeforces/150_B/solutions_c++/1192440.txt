#include<cstdio>

#define rep(i,n) for(int i=0;i<(n);i++)

using namespace std;

typedef long long ll;

const ll M=1000000007;

int main(){
	int n,m,k; scanf("%d%d%d",&n,&m,&k);
	if(n<k || k==1){
		ll ans=1;
		rep(i,n) ans=ans*m%M;
		printf("%d\n",(int)ans);
	}
	else if(n==k){
		ll ans=1;
		rep(i,(n+1)/2) ans=ans*m%M;
		printf("%d\n",(int)ans);
	}
	else{
		if(k%2==0) printf("%d\n",m);
		else       printf("%d\n",m*m);
	}

	return 0;
}
