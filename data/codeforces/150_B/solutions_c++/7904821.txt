#include <iostream>
#include <cstdio>
using namespace std;
__int64 n, m, k, ans = 1;
const int mod = (int)1e9 + 7;
int main()
{
	ios::sync_with_stdio(0);
	cin >> n >> m >> k;
	if(k == 1 || k > n)
		for(int i = 1; i <= n; ++i)
			ans = (ans * m) % mod;
	else if(k == n)
		for(int i = 1; i <= (n + 1) / 2; ++i)
			ans = (ans * m) % mod;
	else if(k % 2 == 1)
		ans = (m * m) % mod;
	else ans = m;
	cout << ans;
}