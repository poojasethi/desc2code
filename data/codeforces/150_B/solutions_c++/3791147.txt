#include<stdio.h>
#define M 1000000007
long long pow(int x,int p){
    long long ans=1;
    for(int i=0;i<p;i++)ans=ans*x%M;
    return ans;
}

int main(){
    int n,m,k,i;
    scanf("%d %d %d",&n,&m,&k);
    if(k==1||n<k)printf("%I64d\n",pow(m,n));
    else if(n==k)printf("%I64d\n",pow(m,(n+1)/2));
    else if(k%2==0)printf("%d\n",m);
    else printf("%d\n",m*m);
    return 0;
}