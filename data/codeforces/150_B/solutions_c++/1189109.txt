#include<iostream>
using namespace std;
int n,m,k,f[2048];
int gg(int x){
	return x==f[x]?x:(f[x]=gg(f[x]));
}
int main(){
	cin >> n >> m >> k;
	for(int i=1;i<=n;++i)f[i]=i;
	k--;
	for(int i=1;i+k<=n;++i)
		for(int j=0;j<<1 <k;++j){
			int a=gg(i+j),b=gg(i+k-j);
			if(a!=b){
				f[a]=b;
			}
		}
	long long a=1;
	for(int i=1;i<=n;++i)
		if(i==gg(i))a=a*m % 1000000007;
	cout << a;
	return 0;
}
