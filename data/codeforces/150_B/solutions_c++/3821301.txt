#include<iostream>
#include<cstdio>
using namespace std;
const int oo=1000000007;
int n,m,k;
long long s;

int main(){
  scanf("%d%d%d",&n,&m,&k);
  s=1;
  if (k==1 || k>n)
    while (n--) s=(s*m)%oo;
  else if (k==n)
    for (n=(n+1)/2;n--;) s=(s*m)%oo;
  else if (k&1) s=(m*m)%oo;
  else s=m;
  cout<<s<<endl;
  return 0;
}
 			  		  	 	 		  	  	 			