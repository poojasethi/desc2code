#include<stdio.h>
#define mod 1000000007
typedef long long ll;
ll pow(ll a,ll b){
    ll as=1;
    while(b){
        if(b&1)as=as*a%mod;
        a=a*a%mod;b>>=1;
    }
    return as;
}
int main(){
    int n,m,k,as;
    scanf("%d%d%d",&n,&m,&k);
    if(k==1||k>n)
        as=n;
    else if(k==n)
        as=(n+1)/2;
    else if(k%2)
        as=2;
    else
        as=1;
    printf("%I64d\n",pow(m,as));
    return 0;

}
