#include <iostream>
#include <cstdio>
using namespace std;
#define ll __int64
const int mod=1000000007;
int n,m,k; 
int ans_1(int n_){
	int ans=1;
	for (int i=1;i<=n_;i++)
		ans=((ll)ans*m)%mod;
	return ans;
}
int main()
{
	scanf("%d%d%d",&n,&m,&k);
	if (n<k||k==1) printf("%d\n",ans_1(n));
	else if (n==k) printf("%d\n",ans_1((n+1)/2));
	else if (k&1) printf("%d\n",m*m);
	else printf("%d\n",m);
	return 0;
}
	  	 		  	 				  		    		 	 			