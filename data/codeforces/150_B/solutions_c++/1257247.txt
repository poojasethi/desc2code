#include <stdio.h>
using namespace std;

int MOD = 1000000007;
int n, m, k;
int pow(int p) {
	long long e = 1;
	for (int i = 0; i < p; i++)
		e = (e*m)%MOD;
	return e;
}

int main() {
	scanf("%d %d %d", &n, &m, &k);
	if (k == 1 || k > n)
		printf("%d\n", pow(n));
	else if (k == n)
		printf("%d\n", pow((n+1)/2));
	else if (k%2 == 0)
		printf("%d\n", m);
	else
		printf("%d\n", m*m);
	return 0;
}
