#include <iostream>

#define MOD 1000000007

using namespace std;

int N,M,K;

int power(int x,int y)
{
	int ret=1;
	for (int i=0;i<y;i++)
		ret=((long long)ret*x)%MOD;
	return ret;
}

int main()
{
	cin >> N >> M >> K;
	if (K==1||K>N)
		cout << power(M,N);
	else if (K==N)
	{
		if (N%2)
			cout << power(M,N/2+1);
		else
			cout << power(M,N/2);
	}
	else
	{
		if (K%2)
			cout << M*(M-1)+M;
		else
			cout << M;
	}
	cout << endl;
	return 0;
}