#include <cstdio>
#include <cmath>
int main(){
	int n,m,k;
	scanf("%d %d %d",&n,&m,&k);
	if(k<n && k>1) printf("%d\n",(k%2)?m*m:m);
	else{
		long long j=1;
		int l=(k==n && k!=1)?(int)((n+1)/2):n;
		for(int i=0;i<l;i++) j=(j*m)%1000000007;
		printf("%d\n",(int)j);
	}
}
