#include <iostream>
using namespace std;
typedef long long ll;

ll mpow(int a, int k) {
	return k == 0 ? 1 : mpow(a, k - 1) * a % 1000000007;
}

int main() {
	ll n, m, k;
	cin >> n >> m >> k;
	if (k < 2 || k > n) {
		cout << mpow(m, n);
	} else if (k == n) {
		cout << mpow(m, (n + 1) / 2);
	} else if (k % 2) {
		cout << m * m;
	} else {
		cout << m;
	}
}
