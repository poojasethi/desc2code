#include <cstdio>
long long p(int a, int n)
{
    long long res = 1;
    while (n--)
        res = (res * a) % 1000000007;
    return res;
}

int main()
{
    int n, m, k;
    scanf("%d%d%d",&n,&m,&k);
    if (k == 1 || k > n)
        printf("%lld\n",p(m,n));
    else if (k == n)
        printf("%lld\n",p(m,(n + 1) >> 1));
    else if (k & 1)
        printf("%d\n",m*m);
    else
        printf("%d\n",m);
    return 0;
}

 					 		 		 	    	  	 		