#include<cstdio>
#define mod 1000000007
using namespace std;
int n,m,k,l;
long long ans=1;
int main()
{
    scanf("%d%d%d",&n,&m,&k);
    if(k>1&&k<n) printf("%d\n",(k%2)?m*m:m);
    else
    {
        l=(k==n&&k!=1)?((n+1)/2):n;
        for(int i=0;i<l;i++)
            ans=(ans*m)%mod;
        printf("%lld\n",ans);
    }
    return 0;
}

   			 		  					  	  	 	  	