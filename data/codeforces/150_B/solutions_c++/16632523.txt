#include <cstdio>
#include<iostream>
#include <algorithm>
using namespace std;
const int mod = 1000000007 ;
int main(){
	int n,m,k;
	cin>>n>>m>>k;
	long long ans=1;
	if(k>n || k==1){
		for(int i=1;i<=n;i++){
			ans=ans*m%mod;
		}
	}else if(k==n){
		for(int i=1;i<=(n+1)/2;i++){
			ans=ans*m%mod;
		}
	}else if(k%2==0){
		ans=m;
	}else{
		if(m==1)	ans=1;
		else ans=m*(m-1)+m;
	}
	cout<<ans<<endl;

	return 0;
}
   	 	 	 			 					  					   	