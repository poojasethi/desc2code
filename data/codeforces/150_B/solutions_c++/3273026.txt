#include<cstdio>
#define ll __int64
const int M=1e9+7;
int main(){
	int n,m,k,i;
	ll r;
	while(~scanf("%d%d%d",&n,&m,&k)){
		r=1;
		if(k>n||k==1)for(i=0;i<n;i++)r=r*m%M;
		else if(k==n)for(i=0;i<(n+1)/2;i++)r=r*m%M;
		else if(k&1)r=m*m;
		else r=m;
		printf("%I64d\n",r);
	}
	return 0;
}
	  							  					  	   	 	