#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;

const int maxn=200;

char s1[maxn],s2[maxn],vi[maxn];
int n,x,y,f[maxn],dp[maxn][maxn][maxn],ch[maxn][30];

void init()
{
	memset(dp,-1,sizeof(dp));
	f[0]=f[1]=0;
	for(int i=1;i<n;i++)
	{
		int j=f[i];
		while(j&&vi[j]!=vi[i]) j=f[j];
		f[i+1]=(vi[i]==vi[j])?j+1:0;
	}
	for(int i=0;i<n;i++)	ch[i][vi[i]-'A']=i+1;
	for(int i=1;i<=n;i++)
		for(int c=0;c<26;c++)
			if(ch[i][c]==0) ch[i][c]=ch[f[i]][c];
}

int solve(int i,int j,int k)
{
	if(dp[i][j][k]!=-1) return dp[i][j][k];
	if(k==n) return dp[i][j][k]=-999999999;
	if(s1[i]==0||s2[j]==0) return dp[i][j][k]=0;


	dp[i][j][k]=max(solve(i+1,j,k),solve(i,j+1,k));

	if(s1[i]==s2[j])
	{
		dp[i][j][k]=max(dp[i][j][k],solve(i+1,j+1,ch[k][s1[i]-'A'])+1);
	}
	return dp[i][j][k];
}

int main()
{
	scanf("%s%s%s",s1,s2,vi);
	x=strlen(s1); y=strlen(s2); n=strlen(vi);
	init();
	int sv=solve(0,0,0);
	if(sv)
	{
		int i=0,j=0,k=0;
		while(s1[i]&&s2[j])
		{
			if(solve(i,j,k)==solve(i+1,j,k))
				i++;
			else if(solve(i,j,k)==solve(i,j+1,k))
				j++;
			else
			{
				putchar(s1[i]);
				k=ch[k][s1[i]-'A'];
				i++; j++; 
			}
		}	
	}
	else puts("0");
	return 0;
}

                                                                                       