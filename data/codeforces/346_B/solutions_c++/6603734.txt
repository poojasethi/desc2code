#include <cstdio>
#include <cstring>
#include <algorithm>

using namespace std;

char a[110],b[110],x[110];
int f[110][110][110],la,lb,lx,nxt[110];

int dp(int i,int j,int k) {
    if(i>=la || j>=lb) return f[i][j][k]=0;
    if(f[i][j][k]>=0) return f[i][j][k];
    f[i][j][k]=max(dp(i,j+1,k),dp(i+1,j,k));
    if(a[i]==b[j]){
        int t=k;
        while(t && x[t]!=a[i]) t=nxt[t];
        if(x[t]==a[i]) ++t;
        if(t < lx) f[i][j][k]=max(f[i][j][k],dp(i+1,j+1,t) + 1);
    }
    return f[i][j][k];
}

void print(int i,int j,int k) {
    if(i>=la || j>=lb) return;
    if(f[i][j][k]==f[i][j+1][k]) print(i,j+1,k);
    else if(f[i][j][k]==f[i+1][j][k]) print(i+1,j,k);
    else if(a[i]==b[j]){
        while(k && x[k]!=a[i]) k=nxt[k];
        if(x[k]==a[i]) ++k;
        if(k < lx) {
            putchar(a[i]);
            print(i+1,j+1,k);
        }
    }
}

int main() {
    scanf("%s%s%s",a,b,x);
    la=strlen(a),lb=strlen(b),lx=strlen(x);
    nxt[0]=nxt[1]=0;
    for(int i=1;i<lx;i++) {
        int j=nxt[i];
        while(j && x[i]!=x[j]) j=nxt[j];
        nxt[i+1]= x[i]==x[j] ? j+1 : 0;
    }
    memset(f,0xff,sizeof(f));
    if(dp(0,0,0)) print(0,0,0),puts("");
    else puts("0");
    return 0;
}
