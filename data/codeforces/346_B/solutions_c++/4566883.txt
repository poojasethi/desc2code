#include<cstdio>
#include<cstring>
#include<iostream>
#include<stack>
using namespace std;
const int maxn = 110;
int chd[maxn][26];
int next[maxn];
int dp[maxn][maxn][maxn];
char s1[maxn],s2[maxn],s[maxn];
int pre[maxn][maxn][maxn];
int x,y,n;
void init(){
	next[0]=0;
	for(int i=1;i<n;i++){
		int j=next[i-1];
		while(j&&s[i]!=s[j])j=next[j-1];
		if(s[i]==s[j])j++;
		next[i]=j;
	}
	for(int i=0;i<n;i++)chd[i][s[i]-'A']=i+1;
	for(int i=1;i<=n;i++){
		for(int c=0;c<26;c++){
			if(!chd[i][c]){
				chd[i][c]=chd[next[i-1]][c];
			}
		}
	}
}
int solve(int i,int j,int k){
	if(dp[i][j][k]!=-1)return dp[i][j][k];
	else{
		if(k==n)return dp[i][j][k]=-1000;
		if(!s1[i]||!s2[j])return dp[i][j][k]=0;
		dp[i][j][k]=max(solve(i+1,j,k),solve(i,j+1,k));
		if(s1[i]==s2[j]){
			dp[i][j][k]=max(dp[i][j][k],solve(i+1,j+1,chd[k][s1[i]-'A'])+1);
		}
	}
	return dp[i][j][k];
}
int main(){
	scanf("%s%s%s",s1,s2,s);
	x=strlen(s1);
	y=strlen(s1);
	n=strlen(s);
	init();
	memset(dp,-1,sizeof(dp));
	int ans=solve(0,0,0);
	if(ans>0){
		int i=0,j=0,k=0;
		while(s1[i]&&s2[j]){
			if(solve(i,j,k)==solve(i+1,j,k)){
				i++;
			}else if(solve(i,j,k)==solve(i,j+1,k)){
				j++;
			}else{
				printf("%c",s1[i]);
				k=chd[k][s1[i]-'A'];
				i++;
				j++;
			}
		}
		printf("\n");
	}else printf("%d\n",ans);
}
