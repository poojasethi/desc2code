#include <bits/stdc++.h>
using namespace std;
string a,b,c;
int n,m,l,p[110],tr[110][110];
int memo[110][110][110];
int solve(int x, int y, int z){
	if(x>n||y>m) return memo[x][y][z] = -1e9-1;
	if(z==l) return memo[x][y][z] = -1e9-1;
	if(x==n&&y==m) return memo[x][y][z] = 0;
	if(memo[x][y][z]!=-1) return memo[x][y][z];
	int cur = max(solve(x+1,y,z),solve(x,y+1,z));
	if(a[x]==b[y]) cur = max(cur,solve(x+1,y+1,tr[x][z])+1);
	return memo[x][y][z] = cur;
}
int main(){
	//freopen("in.in","r",stdin);
	cin >> a >> b >> c;
	n = a.size();
	m = b.size();
	l = c.size();
	for(int i = 1, j = 0; i < l; i++){
		while(true){
			if(c[i]==c[j]){p[i]=++j; break;}
			else if(j==0){p[i]=0; break;}
			else j = p[j-1];
		}
	}
	for(int i = 0; i < n; i++){
		for(int j = 0; j < l; j++){
			if(a[i]==c[j]) tr[i][j] = j+1;
			else{
				if(j==0) tr[i][j] = 0;
				else tr[i][j] = tr[i][p[j-1]];
			}
		}
	}
	memset(memo,-1,sizeof(memo));
	int ans =  solve(0,0,0);
	//cout << ans << "\n";
	if(ans==0) cout << 0;
	else{
		int x = 0, y = 0, z = 0;
		while(x!=n&&y!=m){
			//cout << x << " " << y << " " << z << "\n";
			if(memo[x][y][z]==memo[x+1][y][z]) x++;
			else if(memo[x][y][z]==memo[x][y+1][z]) y++;
			else if(a[x]==b[y]&&memo[x][y][z]==memo[x+1][y+1][tr[x][z]]+1){
				cout << a[x];
				 z = tr[x][z]; x++; y++;
			}
		}
	}
}