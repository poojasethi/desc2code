#include<bits/stdc++.h>

using namespace std;

#define md 1000000007
#define N  102

int M[N][N][N],M2[N][26],H[N][N][N],i,j,k;

long long A[N][N];

string s1,s2,s;

int f(int i, int j, int k){

    if(k == s.size())
        return -N;

    if(i == s1.size() || j == s2.size())
        return 0;

    int a, b, c, &r = M[i][j][k];

    if(r != -1)
        return r;

    a = s1[i] == s2[j] ? f(i+1 , j+1 , M2[k][ s1[i] - 'A' ]) + 1 : 0;
    b = f(i+1 , j , k);
    c = f(i , j+1 , k);

    if(a > max(b,c))
        H[i][j][k] = 1;

    else if(b > c)
        H[i][j][k] = 2;

    return r = max( a , max(b,c) );
}

int main(){

    cin >> s1 >> s2 >> s;

    for(i=0;i<s.size();i++)
        for(j=i;j<s.size();j++)
            A[i][j] = ((j ? A[i][j-1] : 0) * 37 + s[j] - 'A' + 1) % md;

    for(i=0;i<s.size();i++)
        for(j=0;j<26;j++){
            for(k=i; k>=0; k--)
                if(A[0][k] == ((i && k ? A[i-k][i-1] : 0) * 37 + j + 1) % md)
                    break;
            M2[i][j] = k+1;
        }

    memset(M , -1 , sizeof M);

    f(0,0,0);

    for(i=j=k=0 ; i<s1.size() && j<s2.size() ;){
        if(H[i][j][k] == 1){
            cout << s1[i];
            k = M2[k][ s1[i] - 'A' ];
            i++;j++;
        }

        else if(H[i][j][k]) i++;
        else                j++;
    }

    if(!M[0][0][0])
        cout << 0;

    return 0;
}
