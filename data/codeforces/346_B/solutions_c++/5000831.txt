#include<cstring>
#include<cstdlib>
#include<cstdio>
#include<algorithm>
using namespace std;
char a[120],b[120],c[120],fans[120];
int i,n,m,next[120],v[120][120],f[120][120][120],la,lb,lc,p,j,k,ans,pos[120][120][120][3],
	tot;
void Max(int x,int y,int z,int v,int xx,int yy,int zz){
	if(v>f[x][y][z]){
		f[x][y][z]=v;
		pos[x][y][z][0]=xx;
		pos[x][y][z][1]=yy;
		pos[x][y][z][2]=zz;
	}
}
int main(){
	scanf("%s%s%s",a+1,b+1,c+1);
	la=strlen(a+1); lb=strlen(b+1); lc=strlen(c+1);
	next[0]=-1;
	for(i=1;i<=lc;++i){
		for(p=next[i-1];p!=-1 && c[p+1]!=c[i];p=next[p]);
		next[i]=++p;
	}
	for(i=0;i<lc;++i){
		for(j=0;j<26;++j){
			for(p=i;p!=-1;p=next[p])if(c[p+1]==j+65)break;
			v[i][j]=++p;
		}
	}
	memset(f,250,sizeof(f));
	f[0][0][0]=0;
	for(i=0;i<=la;++i)
		for(j=0;j<=lb;++j)
			for(k=0;k<lc;++k){
				Max(i+1,j,k,f[i][j][k],i,j,k);
				Max(i,j+1,k,f[i][j][k],i,j,k);
				if(a[i+1]==b[j+1] && a[i+1]-65>=0)
					Max(i+1,j+1,v[k][a[i+1]-65],f[i][j][k]+1,i,j,k);
			}
	ans=0;
	for(i=0;i<lc;++i)if(f[la][lb][i]>ans){
		ans=f[la][lb][i];
		k=i;
	}
	i=la; j=lb;
	tot=0;
	if(ans==0){
		printf("0\n");
		return 0;
	}
	for(;;){
		if(i==0 && j==0 && k==0)break;
		int *p=pos[i][j][k]+0;
		int ii=*p,jj=*(p+1),kk=*(p+2);
		if(f[i][j][k]==f[ii][jj][kk]+1)fans[++tot]=a[i];
		i=ii; j=jj; k=kk;
	}
	for(i=tot;i>=1;--i)printf("%c",fans[i]);
	puts("");
}

