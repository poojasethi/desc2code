#include <bits/stdc++.h>
#define fi first
#define se second
#define m ((b+s)>>1)
#define umax(a,b) a=max(a,b)
#define umin(a,b) a=min(a,b)
#define foreach(asd,it) for(__typeof(asd.begin()) it=asd.begin();it!=asd.end();it++)

using namespace std;

typedef long long lint;
typedef pair <int,int> ii;
typedef vector <int> vi;
typedef vector <ii> vii;

const int maxn=110;

int N,M,K,p[maxn];
char ar[maxn],er[maxn],v[maxn];

void calpre(){
	for(int i=2,x=0;i<=K;i++){
		while(x && v[i]!=v[x+1]) x=p[x];
		
		if(v[i]==v[x+1]) x++;
		
		p[i]=x;
	}
}

int dn[maxn][maxn][maxn];

int f(int p1,int p2,int inv){
	if(p1>N || p2>M) return 0;
	
	int &d=dn[p1][p2][inv];
	
	if(d!=-1) return d;
	d=0;
	
	if(ar[p1]==er[p2]){
		int x=inv;
		while(x && v[x+1]!=ar[p1]) x=p[x];
		
		if(v[x+1]==ar[p1]) x++;
		
		if(x!=K)
			umax(d,f(p1+1,p2+1,x)+1);
	}
	umax(d,f(p1,p2+1,inv));
	umax(d,f(p1+1,p2,inv));
	
	return d;
}

void write(int p1,int p2,int inv){
	if(p1>N || p2>M) return ;
	
	int &d=dn[p1][p2][inv];
	
	if(ar[p1]==er[p2]){
		int x=inv;
		while(x && v[x+1]!=ar[p1]) x=p[x];
		
		if(v[x+1]==ar[p1]) x++;
		
		if(x!=K && f(p1+1,p2+1,x)==d-1){
			printf("%c",ar[p1]);
			write(p1+1,p2+1,x);
			return;
		}
	}
	
	if(f(p1,p2+1,inv)==d){
		write(p1,p2+1,inv);
		return;
	}
	
	write(p1+1,p2,inv);
}

int main(){
	scanf(" %s %s %s",ar+1,er+1,v+1);
	
	N=strlen(ar+1);
	M=strlen(er+1);
	K=strlen(v+1);
	
	calpre();
	
	memset(dn,-1,sizeof dn);
	f(1,1,0);
	write(1,1,0);
	
	if(!dn[1][1][0])
		printf("0\n");
	return 0;
}
