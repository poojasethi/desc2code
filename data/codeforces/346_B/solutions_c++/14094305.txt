#include<bits/stdc++.h>
#define pb push_back
#define ll long long
using namespace std;
const int maxn=110;
int d[maxn][30];
vector<char> ans;
string a,b,virus;
int t[maxn][maxn][maxn];
int q[maxn][maxn][maxn];
void print(int n,int m,int k)
{
	if(n==0 || m==0)
		return;
	if(q[n][m][k]==-1)
		print(n-1,m,k);
	else if(q[n][m][k]==-2)
		print(n,m-1,k);
	else
    {
		ans.pb(b[m-1]);
		print(n-1,m-1,q[n][m][k]);
	}
}
int main()
{
	cin>>a>>b>>virus;
	int n=a.length();
	int m=b.length();
	int k=virus.length();
	for(int i=0;i<k;i++)
		for(int j=0;j<26;j++)
        {
			string p="";
			p+=(char)('A'+j);
			if(i>0)
				p+=virus.substr(k-i,i);
			int s=p.length();
			for(int l=s;l>=1;l--)
				if(p.substr(0,l)==virus.substr(k-l))
				{
					d[i][j]=l;
					break;
				}
		}
	for(int i=1;i<=n;i++)
		for(int j=1;j<=m;j++)
			for(int l=k-1;l>=0;l--)
            {
				t[i][j][l]=t[i-1][j][l];
				q[i][j][l]=-1;
				if(t[i][j][l]<t[i][j-1][l])
				{
					t[i][j][l]=t[i][j-1][l];
					q[i][j][l]=-2;
                }
				if(a[i-1]==b[j-1])
				{
					int l1=d[l][(int)(a[i-1]-'A')];
					if(l1<k && t[i-1][j-1][l1]+1>t[i][j][l])
					{
						t[i][j][l]=t[i-1][j-1][l1]+1;
						q[i][j][l]=l1;
					}
				}
			}
	if(t[n][m][0]==0)
    {
		cout<<0<<endl;
		return 0;
	}
	print(n,m,0);
	reverse(ans.begin(),ans.end());
	for(int i=0;i<ans.size();i++)
		cout<<ans[i];
	cout<<endl;
	return 0;
}
