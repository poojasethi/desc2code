#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
#include<map>
#define N 200010
using namespace std;
typedef unsigned long long ll;
ll koe[N], KOE = 1000000007, a[N], b[N];
int q[N], n, m, i, an;
char s[N], t[N];
map<pair<int, int>, int> M;
bool Same()
{
    M.clear();
    int cnt = 0;
    pair<int, int> x, y;
    for (int i = 'a'; i <= 'z'; i++)
    {
        if (a[i] == b[i]) continue;
        x = make_pair(a[i], b[i]);
        y = make_pair(b[i], a[i]);
        if (M[y]) M[y]--, cnt -= (M[y] == 0);
        else M[x]++, cnt += (M[x] == 1);
    }
    return (cnt == 0);
}
int main()
{
    scanf("%d%d", &n, &m);
    scanf("%s", s + 1), scanf("%s", t + 1);
    koe[0] = 1;
    for (i = 1; i <= m; i++) koe[i] = koe[i - 1] * KOE;
    for (i = 1; i <= m; i++) b[t[i]] += koe[m - i + 1];
    for (i = 1; i <= m; i++) a[s[i]] += koe[m - i + 1];
    for (i = 1; i <= n - m + 1; i++)
    {
        if (Same()) q[++an] = i;
        a[s[i]] -= koe[m];
        for (int j = 'a'; j <= 'z'; j++) a[j] *= KOE;
        a[s[i + m]] += koe[1];
        
    }
    printf("%d\n", an);
    for (i = 1; i <= an; i++) printf("%d ", q[i]);
    return 0;
}