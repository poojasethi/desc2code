#include<cstdio>
#include<cstring>
using namespace std;
#define ln printf("\n")
const int NN=201111;
int n,m,s0[NN],s[NN],next[NN],pos[26],dy[26],ans0,ans[NN];
char a[NN],b[NN];
bool f[NN][26][26];
int main()
{
	//freopen("1.in","r",stdin);freopen("1.out","w",stdout);
	scanf("%d%d\n%s\n%s",&n,&m,a+1,b+1);
	int i,j,c1,c2;
	for (c1=0;c1<26;c1++)
	{
		for (i=1;i<=m;i++) s0[i]=(b[i]-'a'==c1);
		j=0,next[1]=0;
		for (i=2;i<=m;i++)
		{
			while (j>0&&s0[j+1]!=s0[i]) j=next[j];
			if (s0[j+1]==s0[i]) j++;
			next[i]=j;
		}
		for (c2=0;c2<26;c2++)
		{
			for (i=1;i<=n;i++) s[i]=(a[i]-'a'==c2);
			//if (c1==0&&c2==0) {for (i=1;i<=n;i++) printf("%d ",s[i]);ln;for (i=1;i<=m;i++)printf("%d ",s0[i]);ln;}
			j=0;
			for (i=1;i<=n;i++)
			{
				while (j>0&&s0[j+1]!=s[i]) j=next[j];
				if (s0[j+1]==s[i]) j++;
				if (j==m) f[i-m+1][c1][c2]=true,j=next[j];
			}
		}
	}
	//for(i=1;i<=n;i++)for(j=0;j<3;j++)for(int k=0;k<3;k++)printf("f[%d][%d][%d]=%s\n",i,j,k,f[i][j][k]?"true":"false");
	for (i=1;i<=m;i++) pos[b[i]-'a']=i;
	for (i=1;i+m-1<=n;i++)
	{
		memset(dy,0,sizeof(dy));
		bool ok=true;
		for (c1=0;c1<26&&ok;c1++)
		{
			int t=pos[c1];
			if (t==0) continue;
			c2=a[i+t-1]-'a';
			if ((dy[c1]&&dy[c1]!=c2)||(dy[c2]&&dy[c2]!=c1)) ok=false;
			if (!f[i][c1][c2]||!f[i][c2][c1]) ok=false;
			dy[c1]=c2,dy[c2]=c1;
		}
		if (ok) ans[++ans0]=i;
	}
	printf("%d\n",ans0);
	for (i=1;i<=ans0;i++) printf("%d ",ans[i]);printf("\n");
	return 0;
}