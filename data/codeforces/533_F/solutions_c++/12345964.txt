#include<stdio.h>
#include<string.h>
using namespace std;
int dap[200010],w,ch[30],now3[30],n,m,now[30],fail[200010],pre[200010],pre2[200010],now2[30];
char a[200010],b[200010];
int check(int p1,int p2)
{
    if(p1-pre[p1]<0 && (p2-pre[p2]<0 || p2-pre[p2]>=p1)) return 1;
    if(p1-pre[p1]>0 && p2-pre[p2]==p1-pre[p1]) return 1;
    return 0;
}
int check2(int p1,int p2)
{
    if(p1-pre[p1]<0 && (p2-pre2[p2]<0 || p2-pre2[p2]>=p1)) return 1;
    if(p1-pre[p1]>0 && p2-pre2[p2]==p1-pre[p1]) return 1;
    return 0;
}
int check3(int p)
{
    int i;
    memset(ch,0,sizeof ch);
    for(i=1;i<=26;i++)
    {
        if(now3[i]>=p) ch[i]=b[now3[i]-p+1]-'a'+1;
    }
    for(i=1;i<=26;i++)
    {
        if(ch[i] && ch[ch[i]]!=0 && ch[ch[i]]!=i) return 0;
    }
    return 1;
}
int main()
{
    int i,j,k,p=0;
    scanf("%d %d",&n,&m);
    scanf("%s %s",a+1,b+1);
    for(i=1;i<=n;i++)
    {
        if(now2[a[i]-'a'+1]) pre2[i]=now2[a[i]-'a'+1];
        else pre2[i]=1e9;
        now2[a[i]-'a'+1]=i;
    }
    for(i=1;i<=m;i++)
    {
        if(now[b[i]-'a'+1]) pre[i]=now[b[i]-'a'+1];
        else pre[i]=1e9;
        now[b[i]-'a'+1]=i;
    }
    for(i=2;i<=m;i++)
    {
        while(check(p+1,i)==0) p=fail[p];
        p++; fail[i]=p;
    }
    p=0;
    for(i=1;i<=n;i++)
    {
        now3[a[i]-'a'+1]=i;
        while(check2(p+1,i)==0) p=fail[p];
        p++;
        if(p==m)
        {
            if(check3(i-m+1)==1) dap[++w]=i-m+1;
            p=fail[p];
        }
    }
    printf("%d\n",w);
    for(i=1;i<=w;i++) printf("%d ",dap[i]);
    return 0;
}
