
// In the name of God
// Code by: mrMaster

#include <bits/stdc++.h>

using namespace std;

typedef long long ll;

const int MN = 2e5 + 10;
const int MOD = 1e9 + 7;
const int P = 2;

vector<int>ans,v[30];
char s[MN] , p[MN];
int n,m;
ll h1[30][MN];
ll h2[30];
ll pw[MN];
int mp[30][MN];

void input()
{
	scanf("%d %d\n" , &n , &m);
	for(int i=0;i<n;++i) scanf("%c" , &s[i]);
	scanf("\n");
	for(int i=0;i<m;++i) scanf("%c" , &p[i]);
	scanf("\n");
}

ll hash(int id , int l , int r)
{
	if(l > r) return -1;
	return ((h1[id][r+1] - (h1[id][l]*pw[r-l+1])%MOD) + MOD)%MOD;
}

void prep()
{
	pw[0] = 1;
	for(int i=0;i<n;++i){
		pw[i+1] = pw[i]*P;
		pw[i+1] %= MOD;
	}
	for(int i=0;i<n;++i)
		for(int j=0;j<26;++j){
			h1[j][i+1] = h1[j][i]*P;
			if(j == s[i]-'a') ++h1[j][i+1];
			h1[j][i+1] %= MOD;
		}
	for(int i=0;i<m;++i)
		for(int j=0;j<26;++j){
			h2[j]*=P;
			if(p[i]-'a' == j) h2[j]++;
			h2[j] %= MOD;
		}
}

void prep1()
{
	int low[30];
	for(int i=0;i<26;++i) low[i] = n+m+10;
	for(int i=n-1;i>=0;--i){
		low[s[i]-'a'] = i;
		for(int ch=0;ch<26;++ch){
			if(low[ch]-i < m){
				mp[ch][i] = p[low[ch]-i]-'a';
				mp[p[low[ch]-i]-'a'][i] = ch;
			}
			else mp[ch][i] = -1;
		}
	}
}

void solve()
{
	int t,tch ;
	for(int i=0;i<n-m+1;++i){
		t = 0;
		for(int j=0;j<26;++j){
			tch = mp[j][i];
			if(mp[j][i] == -1) ++t;
			else if(hash(j,i,i+m-1) == h2[mp[j][i]]  && hash(tch,i,i+m-1) == h2[j]) ++t;
		}
		if(t == 26) ans.push_back(i);
	}	
}

int main()
{
	input();
	prep();
	prep1();
	solve();
	printf("%d\n" , ans.size());
	for(int i=0;i<ans.size();++i) printf("%d " , ans[i]+1);
	printf("\n");
	return 0;
}

