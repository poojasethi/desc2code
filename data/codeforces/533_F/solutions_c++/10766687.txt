#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
#define mod 1000000009
#define sd 2
#define pb push_back
int a[200005],maxv,n,m,s=26;
ll f[200005],res;
string s1,s2;
ll x[40],y[40];
vector<ll>vec;
deque<int>pos[28];
int main(){
	cin >> n >> m;
	cin >> s1;
	for(int i=0;i<n;i++) a[i] = 1+(s1[i]-'a');
	f[0] = 1;
	for(int i=1;i<=200000;i++) f[i] = (f[i-1]*sd*1ll)%mod;
	cin >> s2;
	for(int i=0;i<m;i++){
		int q = 1+(s2[i]-'a');
		x[q] += 1LL*f[m-1-i];
		x[q] %= mod;
		y[q] ++;
	}
	for(int i=1;i<=26;i++){
		if(y[i]){
			vec.pb(x[i]);// cout << i << " " << x[i] << endl;
		}
	}
	sort(vec.begin(),vec.end());
	int xx[30]={};
	ll cur[30]={};
	vector<int>ok;
	for(int i=0;i<n;i++){
		xx[a[i]]++;
		if(i>=m){
			cur[a[i-m]] = (cur[a[i-m]]-f[m-1]);
			pos[a[i-m]].pop_front();
			if(cur[a[i-m]] < 0) cur[a[i-m]]+=mod;
			xx[a[i-m]]--;
		}
		for(int i=1;i<=s;i++){
			cur[i] = (cur[i]*sd*1ll)%mod;
		}
		pos[a[i]].push_back(i);
		cur[a[i]]++; if(cur[a[i]]==mod) cur[a[i]]=0;
		if(i<m-1) continue;
		int k=1;
		ll val=0;
		ll tmp[28]={};
		int cnt[28]={}; vector<ll>tmpp; int v[27]={};
		for(int ii=1;ii<=s;ii++){
			if(xx[ii]==0) continue;
			{
				int id = 1+(s2[pos[ii][0]-i+m-1]-'a');
				if(v[id] == 0) v[id] = ii;
				else if(v[id] != ii) goto nxt;
				if(v[ii] == 0) v[ii] = id;
				else if(v[ii] != id) goto nxt;
			}
			tmpp.pb(1LL*cur[ii]);
			k++;
		}
		if(k != vec.size()+1) continue;
		sort(tmpp.begin(),tmpp.end());
		if(vec == tmpp){
			ok.pb(i-m+2);
		}
		nxt:;
	}
	printf("%d\n",ok.size());
	for(int i=0;i<ok.size();i++){
		printf("%d%c",ok[i],i==ok.size()-1?'\n':' ');
	}
}