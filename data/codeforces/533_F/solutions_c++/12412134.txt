#define B 257
#define N (1<<18)
#define LL unsigned long long
#include <bits/stdc++.h>

using namespace std;

char s[N],t[N];
vector<int> res;
LL f[26][N],g[26][N],pw[N]={1};
int n,m,nxt[26][N],fst[26],trans[26];

void init()
{
	for(int i=1;i<N;i++)
		pw[i]=pw[i-1]*B;
}

void getHash(char* s,int n,char c,LL* h)
{
	for(int i=1;i<=n;i++)
		h[i]=h[i-1]*B+(s[i]==c);
}

bool judge()
{
	for(int i=0;i<26;i++)
		if(trans[i]!=i && trans[i]!=-1 && trans[trans[i]]!=i && trans[trans[i]]!=-1) return 0;
	return 1;
}

LL calc(LL* h,int i,int j)
{
	return h[j]-h[i-1]*pw[j-i+1];
}

int main()
{
	init();
	cin>>n>>m>>(s+1)>>(t+1);

	for(int i=1;i<=m;i++)
		if(!fst[t[i]-'a']) fst[t[i]-'a']=i;

	for(int i=0;i<26;i++)
		getHash(s,n,i+'a',f[i]),getHash(t,m,i+'a',g[i]);

	for(int i=1;i<=n-m+1;i++)
	{
		for(int j=0;j<26;j++)
			if(fst[j]) trans[j]=s[i+fst[j]-1]-'a';
			else trans[j]=-1;

		bool flag=1;
		if(!judge()) continue;

		for(int j=0;j<26;j++)
			if(trans[j]!=-1 && calc(f[trans[j]],i,i+m-1)!=g[j][m])
			{
				flag=0;
				break;
			}

		if(flag)
			res.push_back(i);
	}
	
	cout<<res.size()<<endl;
	for(int i=0;i<res.size();i++)
		cout<<res[i]<<" ";
	cout<<endl;
}