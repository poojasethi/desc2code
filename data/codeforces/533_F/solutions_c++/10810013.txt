#include <bits/stdc++.h>
using namespace std;

#define rep(i,a,b) for (int i=a;i<=b;++i)
#define dep(i,a,b) for (int i=a;i>=b;--i)
#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define sz(x) ((int)x.size())
typedef long long ll;
const int mod=1e9+9;
const int nn=310000;
int n,m;
char v[nn];
char A[nn],B[nn];
long long s[27][nn],S[27][nn],po[nn];

int main() {
//	freopen("1.in","r",stdin);
	scanf("%d%d%s%s",&n,&m,A+1,B+1);
	rep(i,0,25) rep(j,1,m) s[i][j]=(s[i][j-1]*26+((B[j]-'a'==i)?3:0))%mod;
	rep(i,0,25) rep(j,1,n) S[i][j]=(S[i][j-1]*26+((A[j]-'a'==i)?3:0))%mod;
	po[0]=1;
	rep(i,1,n) po[i]=po[i-1]*26%mod;
	vector<int> res;
	rep(i,1,n-m+1){
		int x1=i-1,x2=i+m-1;
		int flag=0;
		rep(j,0,25) v[j]=-1;
		rep(j,0,25){
			ll x=((S[j][x2]-S[j][x1]*po[x2-x1])%mod+mod)%mod;
			if (!x) continue;
			int f=-1;
			rep(k,0,25){
				if (s[k][m]==x&&!(v[k]>=0&&v[k]!=j)) f=k;
			}
			if (f<0) flag=1;
			v[j]=f,v[f]=j;
		}
		rep(i,0,25) if (v[i]>=0&&v[v[i]]!=i) flag=1;
		if (!flag) res.pb(i);
	}
	printf("%d\n",sz(res));
	rep(i,0,sz(res)-1) printf("%d ",res[i]);
}
