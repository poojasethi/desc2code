#include <cstdio>
int m,i,x,y,k,tot,ss,o,q[10001],e[20003],h[20003],r[30003],ans[10003],s[10001],len,l,k1,k2,k3,k4,g[10001],a[5];
bool p[10003];
void read(int &x){
char c;
for (c = getchar();c < '0' || c > '9';c = getchar());
x = c - '0';
for (c = getchar();c >= '0' && c <= '9';c = getchar()) x = x * 10 + c - '0';
}
void gc(int t)
{
	int v=r[m+m+2+t];p[t]=false;
	if (s[t]%2==1) {++k;g[k]=t;}
	while (v!=0)
	{
		if (p[e[v]]) gc(e[v]);v=r[v];
	}
}
void dfs(int t)
{
	int v=q[t];q[t]=r[q[t]];
	while (v!=0)
	{
		if (!p[h[v]])
		{
			p[h[v]]=true;dfs(e[v]);++len;ans[len]=h[v];
		}
		v=q[t];q[t]=r[q[t]];
	}
}
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	read(m);
	for (i=1;i<=10000;++i) q[i]=m+m+i+2;
	for (i=1;i<=m;++i)
	{
		read(x);read(y);p[x]=true;p[y]=true;++s[x];++s[y];
		++l;e[l]=y;h[l]=i;r[q[x]]=l;q[x]=l;
		++l;e[l]=x;h[l]=i;r[q[y]]=l;q[y]=l;
	}
	for (i=1;i<=10000;++i) if (p[i])
	{
		k=0;gc(i);++tot;ss+=k;
		if (k==4)
		{
			o=2;a[1]=g[1];a[2]=g[2];a[3]=g[3];a[4]=g[4];
		}
		if ((k==2)&&(o==1))
		{
			o=3;a[3]=g[1];a[4]=g[2];
		}
		if ((k==2)&&(o==0))
		{
			o=1;a[1]=g[1];a[2]=g[2];
		}
		if ((k==0)&&(o==1))
		{
			o=3;a[3]=i;a[4]=i;
		}
		if ((k==0)&&(o==0))
		{
			o=1;a[1]=i;a[2]=i;
		}
	}
	if ((tot>2)||(tot==2)&&(o==2)||(ss>4)||(m==1))
	{
		printf("-1\n");return 0;
	}
	if (o==1)
	{
		for (i=1;i<=10000;++i) q[i]=r[m+m+i+2];
		dfs(a[1]);k1=1;k2=1;k3=2;k4=len;
	}
	if (o==2)
	{
		++l;e[l]=a[3];h[l]=(l+1)/2;r[q[a[4]]]=l;q[a[4]]=l;
		++l;e[l]=a[4];h[l]=(l+1)/2;r[q[a[3]]]=l;q[a[3]]=l;
		for (i=1;i<=10000;++i) q[i]=r[m+m+i+2];
		dfs(a[1]);for (i=1;i<=len;++i) if (ans[i]==m+1) break;
		k1=1;k2=i-1;k3=i+1;k4=len;
	}
	if (o==3)
	{
		for (i=1;i<=10000;++i) q[i]=r[m+m+i+2];
		dfs(a[1]);k1=1;k2=len;k3=len+1;dfs(a[3]);k4=len;
	}
	printf("%d\n",k2-k1+1);
	for (i=k1;i<=k2;++i) printf("%d ",ans[i]);printf("\n");
	printf("%d\n",k4-k3+1);
	for (i=k3;i<=k4;++i) printf("%d ",ans[i]);printf("\n");
}
