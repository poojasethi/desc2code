#include <cstdio>
#include <cstring>
#include <algorithm>
#include <iostream>
#include <ctime>
#include <cmath>
#define maxn 40020
#define rep(i,n) for(int i=1;i<=n;++i)
using namespace std;
struct yqh
{
	int num[maxn];
	int top;
}s[2],a,b;
int fir[maxn],en[maxn],nex[maxn],id[maxn];
int dl[maxn];
bool pd[maxn];
int n,m,tot,all;
int d[maxn];
void get_error()
{
	printf("-1\n");
	exit(0);
}
void tjb(int x,int y,int r)
{
	en[++tot]=y;
	id[tot]=r;
	nex[tot]=fir[x];
	fir[x]=tot;
}
void dfs(int v)
{
	for(int k=fir[v];k;k=nex[k])
	{
		if(pd[id[k]])continue;
		pd[id[k]]=true;
		dfs(en[k]);
		a.num[++a.top]=id[k];
	}
}
void get_ans_1()
{
	printf("%d\n",s[0].top-1);
	rep(i,s[0].top-1)
	{
		printf("%d",s[0].num[i]);
		if(i==s[0].top-1)printf("\n");else printf(" ");
	}
	printf("1\n");
	printf("%d\n",s[0].num[m]);
}
void get_ans_2()
{
	printf("%d\n",s[0].top);
	rep(i,s[0].top)
	{
		printf("%d",s[0].num[i]);
		if(i==s[0].top)printf("\n");else printf(" ");
	}	
	printf("%d\n",s[1].top);
	rep(i,s[1].top)
	{
		printf("%d",s[1].num[i]);
		if(i==s[1].top)printf("\n");else printf(" ");
	}	
}
void copy()
{
	if(!b.top)return;
	if(all==2) get_error();
	s[all].top=b.top;
	rep(i,b.top)s[all].num[i]=b.num[i];
	++all;
	b.top=0;
}
void solve()
{
	b.top=0;
	int flag=0;
	rep(i,a.top)if(a.num[i]>m)
	{
		flag=i;
	//	break;
	}
	if(!flag)a.num[++a.top]=m+1;
	rep(i,a.top)
	{
		++flag;
		if(flag>a.top)flag=1;
		if(a.num[flag]<=m)b.num[++b.top]=a.num[flag];
			else copy();
	}
}			
int main()
{
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
	
	scanf("%d",&m);
	if(m<=1)get_error();
	rep(i,m)
	{
		int x,y;
		scanf("%d%d",&x,&y);
		tjb(x,y,i);
		tjb(y,x,i);
		++d[x];++d[y];
	}
	n=10000;
	int x=0,y=m;
	rep(i,n)if(d[i]%2)dl[++x]=i;
	if((x!=0)&&(x!=2)&&(x!=4))get_error();
	for(int i=1;i<=x;i+=2)
	{
		tjb(dl[i],dl[i+1],++y);
		tjb(dl[i+1],dl[i],y);
	}
	rep(i,n)
	{
		a.top=0;
		dfs(i);
		solve();
	}
	if(all==1)get_ans_1();else get_ans_2();
	return 0;
}	
