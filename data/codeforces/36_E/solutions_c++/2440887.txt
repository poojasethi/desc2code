#include <cstdio>

const int maxn = 10010;
int m, a, b, fa[maxn], cnt, d[maxn], odd[4], ans[maxn];
int head[maxn], next[maxn * 2], px[maxn * 2];
bool exist[maxn], v[maxn];

inline int getanc(int x){return fa[x] <= 0 ? x : fa[x] = getanc(fa[x]);}

void euler(int x){
	for (int ptr = head[x]; ptr; ptr = next[ptr])
		if (!v[(ptr + 1) >> 1]){
			v[(ptr + 1) >> 1] = true;
			euler(px[ptr]);
			ans[cnt++] = (ptr + 1) >> 1;
		}
}

int main(){
	freopen("input.txt", "r", stdin); freopen("output.txt", "w", stdout);
	scanf("%d", &m);
	for (int i = 1; i <= m; i++){
		scanf("%d%d", &a, &b);
		px[++cnt] = b; next[cnt] = head[a]; head[a] = cnt;
		px[++cnt] = a; next[cnt] = head[b]; head[b] = cnt;
		exist[a] = exist[b] = true; d[a]++; d[b]++;
		if (getanc(a) != getanc(b)) fa[getanc(a)] = getanc(b);
	}
	cnt = 0;
	for (int i = 1; i < maxn; i++) if (exist[i] && fa[i] == 0) cnt++;
	if (cnt > 2 || m == 1){
		printf("-1\n");
		return 0;
	}
	if (cnt == 1){
		cnt = 0;
		for (int i = 1; i < maxn; i++) if (exist[i] && (d[i] & 1)) odd[cnt++] = i;
		if (cnt > 4 || (cnt & 1)){
			printf("-1\n");
			return 0;
		}
		if (cnt == 0){
			printf("1\n%d\n%d\n", m, m - 1);
			v[m] = true;
			cnt = 0;
			euler(a);
			for (int i = 0; i < cnt; i++) printf("%d ", ans[i]);
		} else if (cnt == 2){
			int x = px[head[odd[0]]];
			printf("1\n%d\n%d\n", (head[odd[0]] + 1) >> 1, m - 1);
			v[(head[odd[0]] + 1) >> 1] = true;
			cnt = 0;
			euler(x);
			if (cnt == 0) euler(odd[0]);
			for (int i = 0; i < cnt; i++) printf("%d ", ans[i]);
		} else{
			px[m + m + 1] = odd[1]; next[m + m + 1] = head[odd[0]]; head[odd[0]] = m + m + 1;
			px[m + m + 2] = odd[0]; next[m + m + 2] = head[odd[1]]; head[odd[1]] = m + m + 2;
			cnt = 0;
			euler(odd[2]);
			cnt = 0;
			for (int i = 0; i <= m; i++) if (ans[i] > m){
				printf("%d\n", i);
				for (int j = 0; j < i; j++) printf("%d ", ans[j]);
				printf("\n%d\n", m - i);
				for (int j = i + 1; j <= m; j++) printf("%d ", ans[j]);
				break;
			}
		}
	}else{
		for (int i = 1; i < maxn; i++) if (exist[i] && (d[i] & 1)) fa[getanc(i)]--;
		for (int i = 1; i < maxn; i++)
			if ((fa[i] <= 0 && fa[i] % 2 != 0) || fa[i] < -2){
				printf("-1\n");
				return 0;
			} 
		for (int i = 1; i < maxn; i++)
			if (exist[i] && fa[i] == 0){
				cnt = 0;
				euler(i);
				printf("%d\n", cnt);
				for (int i = 0; i < cnt; i++) printf("%d ", ans[i]);
				printf("\n");
			}
		for (int i = 1; i < maxn; i++){
			if ((d[i] & 1) && fa[getanc(i)] < 0){
				cnt = fa[getanc(i)] = 0;
				euler(i);
				printf("%d\n", cnt);
				for (int i = 0; i < cnt; i++) printf("%d ", ans[i]);
				printf("\n");
			}
		}
	}
}
