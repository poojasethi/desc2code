#include<iostream>
#include<algorithm>
#include<cstdio>
#include<cstring>
#include<cmath>

#define Abs(x) (((x)>0)?(x):(-(x)))

using std::swap;

typedef long long ll;
typedef long double lf;

const int fin=0,maxn=40;
const long double eps=1e-6;
int n,m;
int c[maxn];

struct pt{
  lf x,y;
  pt(){}
  pt(lf x,lf y):x(x),y(y){}
  pt operator *(const lf &w){return pt(x*w,y*w);}
  pt operator /(const lf &w){return pt(x/w,y/w);}
  pt operator -(pt a){return pt(x-a.x,y-a.y);}
  pt operator +(pt a){return pt(x+a.x,y+a.y);}
  lf operator *(pt a){return x*a.y-y*a.x;}
  lf operator /(pt a){return x*a.x+y*a.y;}
  lf mod(){return sqrt(x*x+y*y);}
  void read(){double a,b;scanf("%lf%lf",&a,&b),x=a,y=b;}
}S,T,A[maxn],P[maxn];
inline int dblcmp(long double x){
  return (Abs(x)<eps)?0:((x>0)?1:-1);
}
inline bool onlin(pt a,pt b,pt c){
  return dblcmp((c-a)*(c-b))==0;
}
inline bool inseg(pt a,pt b,pt c){
  return onlin(a,b,c)&&dblcmp((c-a)/(c-b))==-1;
}
inline bool cross(pt a,pt b,pt c,pt d){
  return (dblcmp((b-a)*(c-a))^dblcmp((b-a)*(d-a)))==-2;
}
inline bool Inter(pt a,pt b,pt c,pt d){
  return cross(a,b,c,d)&&cross(c,d,a,b);
}
inline bool inter(pt a,pt b,pt c,pt d){
  if(cross(a,b,c,d)&&cross(c,d,a,b))return 1;
  if(inseg(a,b,c)||inseg(a,b,d))return 1;
  if(inseg(c,d,a)||inseg(c,d,b))return 1;
  return 0;
}
inline pt InterP(pt A,pt B,pt C,pt D){
  lf t=-(A*B+C*(A-B))/((D-C)*(A-B));
  return C+(D-C)*t;
}

#define dis(A,B) (((B)-(A)).mod())

int main(){
  if(fin){
    freopen("t.in","r",stdin);
    freopen("t.out","w",stdout);
  }
  int i;
  lf ans,s;
  S.read(),T.read();
  scanf("%d",&n);
  for(i=0;i<n;++i)A[i].read(),A[i+n]=A[i];
  for(i=0;i<n;++i)if(inter(S,T,A[i],A[i+1]))break;
  if(i==n)return printf("%.10lf",(double)dis(S,T)),0;
  for(i=0;i<n;++i)
    if(inter(S,T,A[i],A[i+1])&&!inseg(S,T,A[i]))
      P[m]=InterP(S,T,A[i],A[i+1]),c[m++]=i;
  if(m==1)return printf("%.10lf",(double)dis(S,T)),0;
  if((P[0]-S).mod()>(P[1]-S).mod())swap(P[0],P[1]),swap(c[0],c[1]);
  ans=dis(S,P[0])+2*dis(P[0],P[1])+dis(P[1],T);
  s=dis(P[0],A[c[0]+1])+dis(P[1],A[c[1]])+dis(S,P[0])+dis(P[1],T);
  for(i=(c[0]+1)%n;i!=c[1];i=(i+1)%n)s+=dis(A[i],A[i+1]);
  if(s<ans)ans=s;
  s=dis(P[0],A[c[0]])+dis(P[1],A[c[1]+1])+dis(S,P[0])+dis(P[1],T);
  for(i=(c[0]+n-1)%n;i!=c[1];i=(i+n-1)%n)s+=dis(A[i],A[i+1]);
  if(s<ans)ans=s;
  printf("%.10lf",(double)ans);
  return 0;
}
