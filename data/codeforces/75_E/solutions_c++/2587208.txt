#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<cmath>
#include<iostream>
#include<algorithm>
#define A first
#define B second
using namespace std;
typedef pair<int,int> PR;
int n,x=0,y=0;
PR S,T,a[40];
double E=0;
double dis(const PR &x,const PR &y)
{ 
    return sqrt((x.A-y.A)*(x.A-y.A)+(x.B-y.B)*(x.B-y.B));
}
int ch(const PR X,const PR Y,const PR Z)
{
    return (Y.A-X.A)*(Z.B-X.B)-(Y.B-X.B)*(Z.A-X.A);
}
bool _inr()
{
    for(int i=1;i<=n;++i)
    {
        E+=dis(a[i],a[i+1]);
        int F=ch(S,a[i],T)*ch(S,a[i+1],T);
        if ( F<=0 && ch(a[i],a[i+1],S)*ch(a[i],a[i+1],T)<0 )
        {
            if ( F!=0 || ch(S,a[i],T)==0 )
            if ( x==0 ) x=i;
                else y=i;
        }
    }
    if ( y==0 ) return 0;
    return 1;
}
void Gans()
{
    double X=0,ans=(double)ch(a[x],a[x+1],S)/(ch(a[x],a[x+1],S)-ch(a[x],a[x+1],T))
        +(double)ch(a[y],a[y+1],T)/(ch(a[y],a[y+1],T)-ch(a[y],a[y+1],S));
    if ( ans>1 ) ans=2-ans;
    ans*=dis(S,T);
    for(int i=x;i<=y;++i)
        X+=dis(a[i],a[i+1]);
    X-=dis(a[x],a[x+1])*ch(S,a[x],T)/(ch(S,a[x],T)-ch(S,a[x+1],T));
    X-=dis(a[y],a[y+1])*ch(S,a[y+1],T)/(ch(S,a[y+1],T)-ch(S,a[y],T));
    X=min(X,E-X);
    X=min(X,2*(dis(S,T)-ans));
    printf("%.10lf\n",ans+X);
}
int main()
{
    scanf("%d%d%d%d",&S.A,&S.B,&T.A,&T.B);
    scanf("%d",&n);
    for(int i=1;i<=n;++i)
        scanf("%d%d",&a[i].A,&a[i].B);
    a[n+1]=a[1];
    if ( !_inr() ) printf("%.10lf\n",dis(S,T));
    else Gans();
    return 0;
}