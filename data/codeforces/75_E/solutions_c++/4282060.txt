#include <set>
#include <map>
#include <queue>
#include <cmath>
#include <ctime>
#include <cstdio>
#include <vector>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <algorithm>
#define LL long long
#define x first
#define y second
using namespace std;
typedef pair<double,double> Pair;
const double eps=1e-10;
Pair a[110],s,e,f[2];
int g[2],n,m,i;
double Cross(Pair x,Pair y,Pair z){return (y.x-x.x)*(z.y-x.y)-(y.y-x.y)*(z.x-x.x);}
double Dis(Pair x,Pair y){return sqrt((x.x-y.x)*(x.x-y.x)+(x.y-y.y)*(x.y-y.y));}
void work(Pair a,Pair b,Pair c,Pair d)
{
	double t1=Cross(a,c,b),t2=Cross(a,b,d),t3=Cross(c,a,d),t4=Cross(c,d,b);
	if(fabs(t1)<eps&&fabs(t2)<eps)
		return ;
	if(fabs(Dis(a,c)+Dis(b,c)-Dis(a,b))<eps)
	{
		f[m]=c;
		g[m++]=i;
		return ;
	}
	if(t1*t2>eps&&t3*t4>eps)
	{
		f[m].x=(t1*d.x+t2*c.x)/(t1+t2);
		f[m].y=(t1*d.y+t2*c.y)/(t1+t2);
		g[m++]=i;
		return ;
	}
}
double calc(int x,int y,int s,int e)
{
	y=y==1?n:y-1;
	double ans=Dis(f[s],a[x]);
	for(int i=x;i!=y;i==n?i=1:i++)
		ans+=Dis(a[i],a[i==n?1:i+1]);
	return ans+Dis(a[y],f[e]);
}
int main()
{
	double ans=0;
	scanf("%lf%lf%lf%lf%d",&s.x,&s.y,&e.x,&e.y,&n);
	for(i=1;i<=n;i++)
		scanf("%lf%lf",&a[i].x,&a[i].y);
	a[0]=a[n];
	for(i=1;i<=n;i++)
		work(s,e,a[i-1],a[i]);
	if(m>1)
	{
		if(Dis(s,f[0])>Dis(s,f[1]))
			swap(f[0],f[1]),swap(g[0],g[1]);
		ans=min(calc(g[0],g[1],0,1),calc(g[1],g[0],1,0));
		ans=min(ans,2*Dis(f[0],f[1]));
		ans+=Dis(s,f[0])+Dis(f[1],e);
	}
	else
		ans=Dis(s,e);
	printf("%.20lf\n",ans);
	return 0;
}
    	 	   	 		     	 		 		